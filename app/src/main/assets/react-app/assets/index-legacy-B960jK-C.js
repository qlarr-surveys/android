!function(){const e=["children"],t=["behavior","align"],r=["done","behavior","align","calculateViewLocation"],n=["listState","topItemsIndexes"],o=["style","children"],i=["style","children"];function a(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=h(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(l)throw i}}}}function l(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function s(e,t,r,n,o,i,a){try{var l=e[i](a),s=l.value}catch(u){return void r(u)}l.done?t(s):Promise.resolve(s).then(n,o)}function u(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){s(i,n,o,a,l,"next",e)}function l(e){s(i,n,o,a,l,"throw",e)}a(void 0)}))}}function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){p(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function p(e,t,r){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:String(n))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],s=!0,u=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;s=!1}else for(;!(s=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);s=!0);}catch(e){u=!0,o=e}finally{try{if(!s&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw o}}return l}}(e,t)||h(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){if(e){if("string"==typeof e)return g(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?g(e,t):void 0}}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}System.register(["./index-legacy-DMBe9EAg.js","./use-service-legacy-CgI9X4sP.js","./common-legacy-ztB9Cads.js","./Web-legacy-yvcV3pU-.js","./isTouchDevice-legacy-DkWZCMK4.js","./Image-legacy-BC2lbQFt.js","./TextField-legacy-QXvJQCtl.js","./SCQArrayDesign.module-legacy-C-sr-neu.js","./TableRow-legacy-DlEOJ0F5.js","./TableHead-legacy-KDNxqZvW.js","./TableCell-legacy-DZEPxFoJ.js","./Radio-legacy-CKTYgJiC.js","./useDrop-legacy-BsplK0sJ.js","./index-legacy-owPSCQ6y.js","./DateTimePicker-legacy-STLu13uX.js","./Tabs-legacy-C8lKUr6-.js","./index-legacy-C0bJbRX9.js","./FormControlLabel-legacy--V8-R9RI.js","./Checkbox-legacy-DMb0Vmp_.js","./DatePicker-legacy-Bj8dzILr.js","./Delete-legacy-HvYteCik.js","./Card-legacy-DoW-tgDj.js","./survey-legacy-CIKJoG7P.js","./use-boolean-legacy-CDioL4gv.js","./radioClasses-legacy-BKKEz_sy.js","./tableRowClasses-legacy-CPFVA4RK.js","./SwitchBase-legacy-Cc5oLAc3.js","./useFormControl-legacy-CjmSkc-O.js","./RadioGroupContext-legacy-mTZpDUrf.js","./InputAdornment-legacy-BhuVi7XQ.js"],(function(s,c){"use strict";var p,h,g,v,m,y,b,_,x,w,O,S,k,j,E,C,T,q,A,P,I,L,N,R,M,F,D,V,z,B,H,W,U,$,Y,G,K,J,Q,X,Z,ee,te,re,ne,oe,ie,ae,le,se,ue,ce,de,pe,fe,he,ge,ve,me,ye,be,_e,xe,we,Oe,Se,ke,je,Ee,Ce,Te,qe,Ae,Pe,Ie,Le,Ne,Re,Me,Fe,De,Ve,ze,Be,He,We,Ue,$e,Ye,Ge,Ke,Je,Qe,Xe,Ze,et,tt,rt,nt,ot,it,at,lt,st,ut,ct,dt,pt,ft,ht,gt,vt,mt,yt,bt,_t,xt,wt,Ot,St,kt,jt,Et,Ct,Tt,qt,At,Pt,It,Lt,Nt,Rt,Mt,Ft,Dt,Vt,zt,Bt,Ht,Wt,Ut,$t,Yt,Gt,Kt,Jt,Qt,Xt,Zt,er,tr,rr,nr,or,ir,ar,lr,sr,ur,cr,dr,pr,fr,hr,gr,vr,mr,yr,br,_r,xr,wr,Or,Sr,kr,jr,Er,Cr,Tr,qr,Ar,Pr,Ir,Lr,Nr,Rr,Mr,Fr,Dr,Vr,zr,Br,Hr,Wr,Ur,$r,Yr,Gr,Kr;return{setters:[e=>{p=e.b,h=e.w,g=e.r,v=e.I,m=e.K,y=e.M,b=e.an,_=e.O,x=e.$,w=e._,O=e.g,S=e.f,k=e.h,j=e.j,E=e.d,C=e.k,T=e.l,q=e.i,A=e.q,P=e.B,I=e.p,L=e.af,N=e.R,R=e.ah,M=e.z,F=e.aj,D=e.ao,V=e.ap,z=e.G,B=e.aq,H=e.ar,W=e.as,U=e.at,$=e.ae,Y=e.au,G=e.av,K=e.aw,J=e.x,Q=e.C,X=e.ax},e=>{Z=e.be,ee=e.bf,te=e.m,re=e.p,ne=e.a,oe=e.k,ie=e.f,ae=e.o,le=e.n,se=e.aC,ue=e.e,ce=e.b,de=e.c,pe=e.I,fe=e.bg,he=e.bh,ge=e.T,ve=e.j,me=e.aF,ye=e.l,be=e.b6,_e=e.bi,xe=e.d,we=e.x,Oe=e.y,Se=e.D,ke=e.v,je=e.bj,Ee=e.bk,Ce=e.af,Te=e.bl,qe=e.bm,Ae=e.aL,Pe=e.a6,Ie=e.bn,Le=e.bo,Ne=e.$,Re=e.ap,Me=e.an,Fe=e.aG,De=e.bp,Ve=e.bq,ze=e.A,Be=e.br,He=e.aI,We=e.bs,Ue=e.bt,$e=e.bu,Ye=e.bv,Ge=e.bw,Ke=e.bx,Je=e.aP,Qe=e.by,Xe=e.bz,Ze=e.ag,et=e.bA,tt=e.bB,rt=e.bC,nt=e.bD,ot=e.bE,it=e.M,at=e.b0,lt=e.a1,st=e.aK,ut=e.bF,ct=e.bG,dt=e.bH,pt=e.bI,ft=e.bJ,ht=e.bK,gt=e.bL,vt=e.bM,mt=e.bN,yt=e.am,bt=e.bO,_t=e.bP,xt=e.ad,wt=e.a5,Ot=e.aW},e=>{St=e.b},e=>{kt=e.B,jt=e.E,Et=e.G,Ct=e.H,Tt=e.J,qt=e.L,At=e.N,Pt=e.O,It=e.P,Lt=e.Q,Nt=e.U,Rt=e.t,Mt=e.T,Ft=e.D,Dt=e.V,Vt=e.M,zt=e.C,Bt=e.W,Ht=e.K,Wt=e.X},e=>{Ut=e.c,$t=e.E,Yt=e.D,Gt=e.i,Kt=e.T,Jt=e.H},e=>{Qt=e.D,Xt=e.C,Zt=e.d},e=>{er=e.e,tr=e.A,rr=e.c,nr=e.o,or=e.d,ir=e.P,ar=e.C,lr=e.L,sr=e.x,ur=e.u,cr=e.T,dr=e.D,pr=e.F,fr=e.g,hr=e.S,gr=e.M,vr=e.I},e=>{mr=e.s},e=>{yr=e.T,br=e.a,_r=e.b,xr=e.c},e=>{wr=e.T},e=>{Or=e.T},e=>{Sr=e.R},e=>{kr=e.u},e=>{jr=e.R},e=>{Er=e.G,Cr=e.o,Tr=e.D,qr=e.L},e=>{Ar=e.P,Pr=e.b,Ir=e.c},e=>{Lr=e.e,Nr=e.H,Rr=e.c,Mr=e.C,Fr=e.A,Dr=e.a,Vr=e.d,zr=e.b},e=>{Br=e.F},e=>{Hr=e.C},e=>{Wr=e.D,Ur=e.T},e=>{$r=e.d},e=>{Yr=e.C},e=>{Gr=e.N},e=>{Kr=e.u},null,null,null,null,null,null],execute:function(){var Jr=document.createElement("style");Jr.textContent='._mainContainer_as1f9_1{display:flex}._updateButtons_as1f9_5{width:100%;display:flex;align-items:center;justify-content:center;margin-bottom:20px;margin-top:20px}._save_as1f9_14{margin-left:10px}._header_as1f9_18{max-width:800px}._groupEmptyHint_11fy7_2{text-align:center;font-size:32px;padding:16px;color:gray;margin:16px;border:2px dashed gray;border-radius:4px;background-color:rgba(0,0,0,0);transition:background-color .2s}._groupEmptyHintHover_11fy7_14{background-color:rgba(0,0,0,.1)}._footer_11fy7_18{height:100px}._contentPanel_11fy7_22{position:relative;overflow-y:auto;width:100%;height:calc(100vh - 64px)}._cardImage_11fy7_29{max-height:22.5vw;height:160px;width:100%;margin:auto;background-size:cover;background-position:center}._customScrollBar_11fy7_37::-webkit-scrollbar{width:10px}._virtuosoStyle_11fy7_41{width:100%;height:100%}._cardMediaContent_11fy7_46{max-width:800px;min-width:350px;margin:auto}._buttonContainer_11fy7_54{display:flex;align-items:center;gap:0px;position:absolute;top:0;right:22.5rem;z-index:1}._button_11fy7_54._button_11fy7_54{text-transform:none;padding:.2rem 1rem;background-color:#fff;border-radius:0/0px;color:#16205b}._button_11fy7_54._button_11fy7_54:hover{background-color:#16205b;color:#fff}._errorDisplay_1joy4_1{border:1px solid orange;background-color:rgba(255,166,0,.13);border-radius:4px;margin:8px;padding:8px}._clickable_1joy4_10{cursor:pointer}._textDescriptionContent_o9cn8_1{display:flex;align-items:center;margin-top:12px}._moveBox_o9cn8_7{width:100%;display:flex;justify-content:center}._groupQuestion_o9cn8_13{position:relative;padding:1.5rem 1rem 1rem;word-wrap:break-word;page-break-inside:avoid;transition:all .2s cubic-bezier(0,0,.2,1);cursor:default}._titleContainer_o9cn8_22{display:flex;align-items:center;gap:.5rem;word-break:break-all}._titleQuestion_o9cn8_29{display:flex;align-items:center}._titleQuestion_o9cn8_29 h3{width:auto}._iconBox_o9cn8_39{display:flex;align-items:center;gap:.5rem;color:#16205b;font-weight:700}@keyframes _fadeInMoveRight_o9cn8_1{0%{opacity:0;transform:translate(10px)}to{opacity:1;transform:translate(0)}}._actionToolbarVisible_o9cn8_59{width:100%;animation:_fadeInMoveRight_o9cn8_1 .75s ease-out forwards}._contentContainer_o9cn8_64._contentContainer_o9cn8_64{position:absolute;top:-5px;right:0;width:100%;display:flex;justify-content:space-between;align-items:center}._fullWidth_1dvff_1{width:100%;cursor:text}._toolbarClass_1dvff_6 div ._rdw-editor-toolbar_1dvff_6{border:0!important;margin:0!important;padding:0!important}._noPadding_1dvff_12>:last-child{margin-bottom:0}._noPadding_1dvff_12>:first-child{margin-top:0}p{margin-top:0;margin-bottom:0}._placeholder_1dvff_25{color:#aaa}._placeholder_1dvff_25>:first-child{margin-top:0}._placeholder_1dvff_25>:last-child{margin-bottom:0}.ql-editor{padding:0!important}.ql-container{font-size:inherit!important;font-family:inherit!important}.ql-snow{padding:0!important;border:0!important}.quill{display:flex;flex-direction:column-reverse}.rtl .ql-editor,.rtl{direction:rtl!important;text-align:right!important}/*!\n * Quill Editor v1.3.7\n * https://quilljs.com/\n * Copyright (c) 2014, Jason Chen\n * Copyright (c) 2013, salesforce.com\n */.ql-container{box-sizing:border-box;font-family:Helvetica,Arial,sans-serif;font-size:13px;height:100%;margin:0;position:relative}.ql-container.ql-disabled .ql-tooltip{visibility:hidden}.ql-container.ql-disabled .ql-editor ul[data-checked]>li:before{pointer-events:none}.ql-clipboard{left:-100000px;height:1px;overflow-y:hidden;position:absolute;top:50%}.ql-clipboard p{margin:0;padding:0}.ql-editor{box-sizing:border-box;line-height:1.42;height:100%;outline:none;overflow-y:auto;padding:12px 15px;tab-size:4;-moz-tab-size:4;text-align:left;white-space:pre-wrap;word-wrap:break-word}.ql-editor>*{cursor:text}.ql-editor p,.ql-editor ol,.ql-editor ul,.ql-editor pre,.ql-editor blockquote,.ql-editor h1,.ql-editor h2,.ql-editor h3,.ql-editor h4,.ql-editor h5,.ql-editor h6{margin:0;padding:0;counter-reset:list-1 list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9}.ql-editor ol,.ql-editor ul{padding-left:1.5em}.ql-editor ol>li,.ql-editor ul>li{list-style-type:none}.ql-editor ul>li:before{content:"•"}.ql-editor ul[data-checked=true],.ql-editor ul[data-checked=false]{pointer-events:none}.ql-editor ul[data-checked=true]>li *,.ql-editor ul[data-checked=false]>li *{pointer-events:all}.ql-editor ul[data-checked=true]>li:before,.ql-editor ul[data-checked=false]>li:before{color:#777;cursor:pointer;pointer-events:all}.ql-editor ul[data-checked=true]>li:before{content:"☑"}.ql-editor ul[data-checked=false]>li:before{content:"☐"}.ql-editor li:before{display:inline-block;white-space:nowrap;width:1.2em}.ql-editor li:not(.ql-direction-rtl):before{margin-left:-1.5em;margin-right:.3em;text-align:right}.ql-editor li.ql-direction-rtl:before{margin-left:.3em;margin-right:-1.5em}.ql-editor ol li:not(.ql-direction-rtl),.ql-editor ul li:not(.ql-direction-rtl){padding-left:1.5em}.ql-editor ol li.ql-direction-rtl,.ql-editor ul li.ql-direction-rtl{padding-right:1.5em}.ql-editor ol li{counter-reset:list-1 list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9;counter-increment:list-0}.ql-editor ol li:before{content:counter(list-0,decimal) ". "}.ql-editor ol li.ql-indent-1{counter-increment:list-1}.ql-editor ol li.ql-indent-1:before{content:counter(list-1,lower-alpha) ". "}.ql-editor ol li.ql-indent-1{counter-reset:list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9}.ql-editor ol li.ql-indent-2{counter-increment:list-2}.ql-editor ol li.ql-indent-2:before{content:counter(list-2,lower-roman) ". "}.ql-editor ol li.ql-indent-2{counter-reset:list-3 list-4 list-5 list-6 list-7 list-8 list-9}.ql-editor ol li.ql-indent-3{counter-increment:list-3}.ql-editor ol li.ql-indent-3:before{content:counter(list-3,decimal) ". "}.ql-editor ol li.ql-indent-3{counter-reset:list-4 list-5 list-6 list-7 list-8 list-9}.ql-editor ol li.ql-indent-4{counter-increment:list-4}.ql-editor ol li.ql-indent-4:before{content:counter(list-4,lower-alpha) ". "}.ql-editor ol li.ql-indent-4{counter-reset:list-5 list-6 list-7 list-8 list-9}.ql-editor ol li.ql-indent-5{counter-increment:list-5}.ql-editor ol li.ql-indent-5:before{content:counter(list-5,lower-roman) ". "}.ql-editor ol li.ql-indent-5{counter-reset:list-6 list-7 list-8 list-9}.ql-editor ol li.ql-indent-6{counter-increment:list-6}.ql-editor ol li.ql-indent-6:before{content:counter(list-6,decimal) ". "}.ql-editor ol li.ql-indent-6{counter-reset:list-7 list-8 list-9}.ql-editor ol li.ql-indent-7{counter-increment:list-7}.ql-editor ol li.ql-indent-7:before{content:counter(list-7,lower-alpha) ". "}.ql-editor ol li.ql-indent-7{counter-reset:list-8 list-9}.ql-editor ol li.ql-indent-8{counter-increment:list-8}.ql-editor ol li.ql-indent-8:before{content:counter(list-8,lower-roman) ". "}.ql-editor ol li.ql-indent-8{counter-reset:list-9}.ql-editor ol li.ql-indent-9{counter-increment:list-9}.ql-editor ol li.ql-indent-9:before{content:counter(list-9,decimal) ". "}.ql-editor .ql-indent-1:not(.ql-direction-rtl){padding-left:3em}.ql-editor li.ql-indent-1:not(.ql-direction-rtl){padding-left:4.5em}.ql-editor .ql-indent-1.ql-direction-rtl.ql-align-right{padding-right:3em}.ql-editor li.ql-indent-1.ql-direction-rtl.ql-align-right{padding-right:4.5em}.ql-editor .ql-indent-2:not(.ql-direction-rtl){padding-left:6em}.ql-editor li.ql-indent-2:not(.ql-direction-rtl){padding-left:7.5em}.ql-editor .ql-indent-2.ql-direction-rtl.ql-align-right{padding-right:6em}.ql-editor li.ql-indent-2.ql-direction-rtl.ql-align-right{padding-right:7.5em}.ql-editor .ql-indent-3:not(.ql-direction-rtl){padding-left:9em}.ql-editor li.ql-indent-3:not(.ql-direction-rtl){padding-left:10.5em}.ql-editor .ql-indent-3.ql-direction-rtl.ql-align-right{padding-right:9em}.ql-editor li.ql-indent-3.ql-direction-rtl.ql-align-right{padding-right:10.5em}.ql-editor .ql-indent-4:not(.ql-direction-rtl){padding-left:12em}.ql-editor li.ql-indent-4:not(.ql-direction-rtl){padding-left:13.5em}.ql-editor .ql-indent-4.ql-direction-rtl.ql-align-right{padding-right:12em}.ql-editor li.ql-indent-4.ql-direction-rtl.ql-align-right{padding-right:13.5em}.ql-editor .ql-indent-5:not(.ql-direction-rtl){padding-left:15em}.ql-editor li.ql-indent-5:not(.ql-direction-rtl){padding-left:16.5em}.ql-editor .ql-indent-5.ql-direction-rtl.ql-align-right{padding-right:15em}.ql-editor li.ql-indent-5.ql-direction-rtl.ql-align-right{padding-right:16.5em}.ql-editor .ql-indent-6:not(.ql-direction-rtl){padding-left:18em}.ql-editor li.ql-indent-6:not(.ql-direction-rtl){padding-left:19.5em}.ql-editor .ql-indent-6.ql-direction-rtl.ql-align-right{padding-right:18em}.ql-editor li.ql-indent-6.ql-direction-rtl.ql-align-right{padding-right:19.5em}.ql-editor .ql-indent-7:not(.ql-direction-rtl){padding-left:21em}.ql-editor li.ql-indent-7:not(.ql-direction-rtl){padding-left:22.5em}.ql-editor .ql-indent-7.ql-direction-rtl.ql-align-right{padding-right:21em}.ql-editor li.ql-indent-7.ql-direction-rtl.ql-align-right{padding-right:22.5em}.ql-editor .ql-indent-8:not(.ql-direction-rtl){padding-left:24em}.ql-editor li.ql-indent-8:not(.ql-direction-rtl){padding-left:25.5em}.ql-editor .ql-indent-8.ql-direction-rtl.ql-align-right{padding-right:24em}.ql-editor li.ql-indent-8.ql-direction-rtl.ql-align-right{padding-right:25.5em}.ql-editor .ql-indent-9:not(.ql-direction-rtl){padding-left:27em}.ql-editor li.ql-indent-9:not(.ql-direction-rtl){padding-left:28.5em}.ql-editor .ql-indent-9.ql-direction-rtl.ql-align-right{padding-right:27em}.ql-editor li.ql-indent-9.ql-direction-rtl.ql-align-right{padding-right:28.5em}.ql-editor .ql-video{display:block;max-width:100%}.ql-editor .ql-video.ql-align-center{margin:0 auto}.ql-editor .ql-video.ql-align-right{margin:0 0 0 auto}.ql-editor .ql-bg-black{background-color:#000}.ql-editor .ql-bg-red{background-color:#e60000}.ql-editor .ql-bg-orange{background-color:#f90}.ql-editor .ql-bg-yellow{background-color:#ff0}.ql-editor .ql-bg-green{background-color:#008a00}.ql-editor .ql-bg-blue{background-color:#06c}.ql-editor .ql-bg-purple{background-color:#93f}.ql-editor .ql-color-white{color:#fff}.ql-editor .ql-color-red{color:#e60000}.ql-editor .ql-color-orange{color:#f90}.ql-editor .ql-color-yellow{color:#ff0}.ql-editor .ql-color-green{color:#008a00}.ql-editor .ql-color-blue{color:#06c}.ql-editor .ql-color-purple{color:#93f}.ql-editor .ql-font-serif{font-family:Georgia,Times New Roman,serif}.ql-editor .ql-font-monospace{font-family:Monaco,Courier New,monospace}.ql-editor .ql-size-small{font-size:.75em}.ql-editor .ql-size-large{font-size:1.5em}.ql-editor .ql-size-huge{font-size:2.5em}.ql-editor .ql-direction-rtl{direction:rtl;text-align:inherit}.ql-editor .ql-align-center{text-align:center}.ql-editor .ql-align-justify{text-align:justify}.ql-editor .ql-align-right{text-align:right}.ql-editor.ql-blank:before{color:rgba(0,0,0,.6);content:attr(data-placeholder);font-style:italic;left:15px;pointer-events:none;position:absolute;right:15px}.ql-snow.ql-toolbar:after,.ql-snow .ql-toolbar:after{clear:both;content:"";display:table}.ql-snow.ql-toolbar button,.ql-snow .ql-toolbar button{background:none;border:none;cursor:pointer;display:inline-block;float:left;height:24px;padding:3px 5px;width:28px}.ql-snow.ql-toolbar button svg,.ql-snow .ql-toolbar button svg{float:left;height:100%}.ql-snow.ql-toolbar button:active:hover,.ql-snow .ql-toolbar button:active:hover{outline:none}.ql-snow.ql-toolbar input.ql-image[type=file],.ql-snow .ql-toolbar input.ql-image[type=file]{display:none}.ql-snow.ql-toolbar button:hover,.ql-snow .ql-toolbar button:hover,.ql-snow.ql-toolbar button:focus,.ql-snow .ql-toolbar button:focus,.ql-snow.ql-toolbar button.ql-active,.ql-snow .ql-toolbar button.ql-active,.ql-snow.ql-toolbar .ql-picker-label:hover,.ql-snow .ql-toolbar .ql-picker-label:hover,.ql-snow.ql-toolbar .ql-picker-label.ql-active,.ql-snow .ql-toolbar .ql-picker-label.ql-active,.ql-snow.ql-toolbar .ql-picker-item:hover,.ql-snow .ql-toolbar .ql-picker-item:hover,.ql-snow.ql-toolbar .ql-picker-item.ql-selected,.ql-snow .ql-toolbar .ql-picker-item.ql-selected{color:#06c}.ql-snow.ql-toolbar button:hover .ql-fill,.ql-snow .ql-toolbar button:hover .ql-fill,.ql-snow.ql-toolbar button:focus .ql-fill,.ql-snow .ql-toolbar button:focus .ql-fill,.ql-snow.ql-toolbar button.ql-active .ql-fill,.ql-snow .ql-toolbar button.ql-active .ql-fill,.ql-snow.ql-toolbar .ql-picker-label:hover .ql-fill,.ql-snow .ql-toolbar .ql-picker-label:hover .ql-fill,.ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-fill,.ql-snow .ql-toolbar .ql-picker-label.ql-active .ql-fill,.ql-snow.ql-toolbar .ql-picker-item:hover .ql-fill,.ql-snow .ql-toolbar .ql-picker-item:hover .ql-fill,.ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-fill,.ql-snow .ql-toolbar .ql-picker-item.ql-selected .ql-fill,.ql-snow.ql-toolbar button:hover .ql-stroke.ql-fill,.ql-snow .ql-toolbar button:hover .ql-stroke.ql-fill,.ql-snow.ql-toolbar button:focus .ql-stroke.ql-fill,.ql-snow .ql-toolbar button:focus .ql-stroke.ql-fill,.ql-snow.ql-toolbar button.ql-active .ql-stroke.ql-fill,.ql-snow .ql-toolbar button.ql-active .ql-stroke.ql-fill,.ql-snow.ql-toolbar .ql-picker-label:hover .ql-stroke.ql-fill,.ql-snow .ql-toolbar .ql-picker-label:hover .ql-stroke.ql-fill,.ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-stroke.ql-fill,.ql-snow .ql-toolbar .ql-picker-label.ql-active .ql-stroke.ql-fill,.ql-snow.ql-toolbar .ql-picker-item:hover .ql-stroke.ql-fill,.ql-snow .ql-toolbar .ql-picker-item:hover .ql-stroke.ql-fill,.ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-stroke.ql-fill,.ql-snow .ql-toolbar .ql-picker-item.ql-selected .ql-stroke.ql-fill{fill:#06c}.ql-snow.ql-toolbar button:hover .ql-stroke,.ql-snow .ql-toolbar button:hover .ql-stroke,.ql-snow.ql-toolbar button:focus .ql-stroke,.ql-snow .ql-toolbar button:focus .ql-stroke,.ql-snow.ql-toolbar button.ql-active .ql-stroke,.ql-snow .ql-toolbar button.ql-active .ql-stroke,.ql-snow.ql-toolbar .ql-picker-label:hover .ql-stroke,.ql-snow .ql-toolbar .ql-picker-label:hover .ql-stroke,.ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-stroke,.ql-snow .ql-toolbar .ql-picker-label.ql-active .ql-stroke,.ql-snow.ql-toolbar .ql-picker-item:hover .ql-stroke,.ql-snow .ql-toolbar .ql-picker-item:hover .ql-stroke,.ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-stroke,.ql-snow .ql-toolbar .ql-picker-item.ql-selected .ql-stroke,.ql-snow.ql-toolbar button:hover .ql-stroke-miter,.ql-snow .ql-toolbar button:hover .ql-stroke-miter,.ql-snow.ql-toolbar button:focus .ql-stroke-miter,.ql-snow .ql-toolbar button:focus .ql-stroke-miter,.ql-snow.ql-toolbar button.ql-active .ql-stroke-miter,.ql-snow .ql-toolbar button.ql-active .ql-stroke-miter,.ql-snow.ql-toolbar .ql-picker-label:hover .ql-stroke-miter,.ql-snow .ql-toolbar .ql-picker-label:hover .ql-stroke-miter,.ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-stroke-miter,.ql-snow .ql-toolbar .ql-picker-label.ql-active .ql-stroke-miter,.ql-snow.ql-toolbar .ql-picker-item:hover .ql-stroke-miter,.ql-snow .ql-toolbar .ql-picker-item:hover .ql-stroke-miter,.ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-stroke-miter,.ql-snow .ql-toolbar .ql-picker-item.ql-selected .ql-stroke-miter{stroke:#06c}@media (pointer: coarse){.ql-snow.ql-toolbar button:hover:not(.ql-active),.ql-snow .ql-toolbar button:hover:not(.ql-active){color:#444}.ql-snow.ql-toolbar button:hover:not(.ql-active) .ql-fill,.ql-snow .ql-toolbar button:hover:not(.ql-active) .ql-fill,.ql-snow.ql-toolbar button:hover:not(.ql-active) .ql-stroke.ql-fill,.ql-snow .ql-toolbar button:hover:not(.ql-active) .ql-stroke.ql-fill{fill:#444}.ql-snow.ql-toolbar button:hover:not(.ql-active) .ql-stroke,.ql-snow .ql-toolbar button:hover:not(.ql-active) .ql-stroke,.ql-snow.ql-toolbar button:hover:not(.ql-active) .ql-stroke-miter,.ql-snow .ql-toolbar button:hover:not(.ql-active) .ql-stroke-miter{stroke:#444}}.ql-snow,.ql-snow *{box-sizing:border-box}.ql-snow .ql-hidden{display:none}.ql-snow .ql-out-bottom,.ql-snow .ql-out-top{visibility:hidden}.ql-snow .ql-tooltip{position:absolute;transform:translateY(10px)}.ql-snow .ql-tooltip a{cursor:pointer;text-decoration:none}.ql-snow .ql-tooltip.ql-flip{transform:translateY(-10px)}.ql-snow .ql-formats{display:inline-block;vertical-align:middle}.ql-snow .ql-formats:after{clear:both;content:"";display:table}.ql-snow .ql-stroke{fill:none;stroke:#444;stroke-linecap:round;stroke-linejoin:round;stroke-width:2}.ql-snow .ql-stroke-miter{fill:none;stroke:#444;stroke-miterlimit:10;stroke-width:2}.ql-snow .ql-fill,.ql-snow .ql-stroke.ql-fill{fill:#444}.ql-snow .ql-empty{fill:none}.ql-snow .ql-even{fill-rule:evenodd}.ql-snow .ql-thin,.ql-snow .ql-stroke.ql-thin{stroke-width:1}.ql-snow .ql-transparent{opacity:.4}.ql-snow .ql-direction svg:last-child{display:none}.ql-snow .ql-direction.ql-active svg:last-child{display:inline}.ql-snow .ql-direction.ql-active svg:first-child{display:none}.ql-snow .ql-editor h1{font-size:2em}.ql-snow .ql-editor h2{font-size:1.5em}.ql-snow .ql-editor h3{font-size:1.17em}.ql-snow .ql-editor h4{font-size:1em}.ql-snow .ql-editor h5{font-size:.83em}.ql-snow .ql-editor h6{font-size:.67em}.ql-snow .ql-editor a{text-decoration:underline}.ql-snow .ql-editor blockquote{border-left:4px solid #ccc;margin-bottom:5px;margin-top:5px;padding-left:16px}.ql-snow .ql-editor code,.ql-snow .ql-editor pre{background-color:#f0f0f0;border-radius:3px}.ql-snow .ql-editor pre{white-space:pre-wrap;margin-bottom:5px;margin-top:5px;padding:5px 10px}.ql-snow .ql-editor code{font-size:85%;padding:2px 4px}.ql-snow .ql-editor pre.ql-syntax{background-color:#23241f;color:#f8f8f2;overflow:visible}.ql-snow .ql-editor img{max-width:100%}.ql-snow .ql-picker{color:#444;display:inline-block;float:left;font-size:14px;font-weight:500;height:24px;position:relative;vertical-align:middle}.ql-snow .ql-picker-label{cursor:pointer;display:inline-block;height:100%;padding-left:8px;padding-right:2px;position:relative;width:100%}.ql-snow .ql-picker-label:before{display:inline-block;line-height:22px}.ql-snow .ql-picker-options{background-color:#fff;display:none;min-width:100%;padding:4px 8px;position:absolute;white-space:nowrap}.ql-snow .ql-picker-options .ql-picker-item{cursor:pointer;display:block;padding-bottom:5px;padding-top:5px}.ql-snow .ql-picker.ql-expanded .ql-picker-label{color:#ccc;z-index:2}.ql-snow .ql-picker.ql-expanded .ql-picker-label .ql-fill{fill:#ccc}.ql-snow .ql-picker.ql-expanded .ql-picker-label .ql-stroke{stroke:#ccc}.ql-snow .ql-picker.ql-expanded .ql-picker-options{display:block;margin-top:-1px;top:100%;z-index:1}.ql-snow .ql-color-picker,.ql-snow .ql-icon-picker{width:28px}.ql-snow .ql-color-picker .ql-picker-label,.ql-snow .ql-icon-picker .ql-picker-label{padding:2px 4px}.ql-snow .ql-color-picker .ql-picker-label svg,.ql-snow .ql-icon-picker .ql-picker-label svg{right:4px}.ql-snow .ql-icon-picker .ql-picker-options{padding:4px 0}.ql-snow .ql-icon-picker .ql-picker-item{height:24px;width:24px;padding:2px 4px}.ql-snow .ql-color-picker .ql-picker-options{padding:3px 5px;width:152px}.ql-snow .ql-color-picker .ql-picker-item{border:1px solid transparent;float:left;height:16px;margin:2px;padding:0;width:16px}.ql-snow .ql-picker:not(.ql-color-picker):not(.ql-icon-picker) svg{position:absolute;margin-top:-9px;right:0;top:50%;width:18px}.ql-snow .ql-picker.ql-header .ql-picker-label[data-label]:not([data-label=""]):before,.ql-snow .ql-picker.ql-font .ql-picker-label[data-label]:not([data-label=""]):before,.ql-snow .ql-picker.ql-size .ql-picker-label[data-label]:not([data-label=""]):before,.ql-snow .ql-picker.ql-header .ql-picker-item[data-label]:not([data-label=""]):before,.ql-snow .ql-picker.ql-font .ql-picker-item[data-label]:not([data-label=""]):before,.ql-snow .ql-picker.ql-size .ql-picker-item[data-label]:not([data-label=""]):before{content:attr(data-label)}.ql-snow .ql-picker.ql-header{width:98px}.ql-snow .ql-picker.ql-header .ql-picker-label:before,.ql-snow .ql-picker.ql-header .ql-picker-item:before{content:"Normal"}.ql-snow .ql-picker.ql-header .ql-picker-label[data-value="1"]:before,.ql-snow .ql-picker.ql-header .ql-picker-item[data-value="1"]:before{content:"Heading 1"}.ql-snow .ql-picker.ql-header .ql-picker-label[data-value="2"]:before,.ql-snow .ql-picker.ql-header .ql-picker-item[data-value="2"]:before{content:"Heading 2"}.ql-snow .ql-picker.ql-header .ql-picker-label[data-value="3"]:before,.ql-snow .ql-picker.ql-header .ql-picker-item[data-value="3"]:before{content:"Heading 3"}.ql-snow .ql-picker.ql-header .ql-picker-label[data-value="4"]:before,.ql-snow .ql-picker.ql-header .ql-picker-item[data-value="4"]:before{content:"Heading 4"}.ql-snow .ql-picker.ql-header .ql-picker-label[data-value="5"]:before,.ql-snow .ql-picker.ql-header .ql-picker-item[data-value="5"]:before{content:"Heading 5"}.ql-snow .ql-picker.ql-header .ql-picker-label[data-value="6"]:before,.ql-snow .ql-picker.ql-header .ql-picker-item[data-value="6"]:before{content:"Heading 6"}.ql-snow .ql-picker.ql-header .ql-picker-item[data-value="1"]:before{font-size:2em}.ql-snow .ql-picker.ql-header .ql-picker-item[data-value="2"]:before{font-size:1.5em}.ql-snow .ql-picker.ql-header .ql-picker-item[data-value="3"]:before{font-size:1.17em}.ql-snow .ql-picker.ql-header .ql-picker-item[data-value="4"]:before{font-size:1em}.ql-snow .ql-picker.ql-header .ql-picker-item[data-value="5"]:before{font-size:.83em}.ql-snow .ql-picker.ql-header .ql-picker-item[data-value="6"]:before{font-size:.67em}.ql-snow .ql-picker.ql-font{width:108px}.ql-snow .ql-picker.ql-font .ql-picker-label:before,.ql-snow .ql-picker.ql-font .ql-picker-item:before{content:"Sans Serif"}.ql-snow .ql-picker.ql-font .ql-picker-label[data-value=serif]:before,.ql-snow .ql-picker.ql-font .ql-picker-item[data-value=serif]:before{content:"Serif"}.ql-snow .ql-picker.ql-font .ql-picker-label[data-value=monospace]:before,.ql-snow .ql-picker.ql-font .ql-picker-item[data-value=monospace]:before{content:"Monospace"}.ql-snow .ql-picker.ql-font .ql-picker-item[data-value=serif]:before{font-family:Georgia,Times New Roman,serif}.ql-snow .ql-picker.ql-font .ql-picker-item[data-value=monospace]:before{font-family:Monaco,Courier New,monospace}.ql-snow .ql-picker.ql-size{width:98px}.ql-snow .ql-picker.ql-size .ql-picker-label:before,.ql-snow .ql-picker.ql-size .ql-picker-item:before{content:"Normal"}.ql-snow .ql-picker.ql-size .ql-picker-label[data-value=small]:before,.ql-snow .ql-picker.ql-size .ql-picker-item[data-value=small]:before{content:"Small"}.ql-snow .ql-picker.ql-size .ql-picker-label[data-value=large]:before,.ql-snow .ql-picker.ql-size .ql-picker-item[data-value=large]:before{content:"Large"}.ql-snow .ql-picker.ql-size .ql-picker-label[data-value=huge]:before,.ql-snow .ql-picker.ql-size .ql-picker-item[data-value=huge]:before{content:"Huge"}.ql-snow .ql-picker.ql-size .ql-picker-item[data-value=small]:before{font-size:10px}.ql-snow .ql-picker.ql-size .ql-picker-item[data-value=large]:before{font-size:18px}.ql-snow .ql-picker.ql-size .ql-picker-item[data-value=huge]:before{font-size:32px}.ql-snow .ql-color-picker.ql-background .ql-picker-item{background-color:#fff}.ql-snow .ql-color-picker.ql-color .ql-picker-item{background-color:#000}.ql-toolbar.ql-snow{border:1px solid #ccc;box-sizing:border-box;font-family:Helvetica Neue,Helvetica,Arial,sans-serif;padding:8px}.ql-toolbar.ql-snow .ql-formats{margin-right:15px}.ql-toolbar.ql-snow .ql-picker-label{border:1px solid transparent}.ql-toolbar.ql-snow .ql-picker-options{border:1px solid transparent;box-shadow:rgba(0,0,0,.2) 0 2px 8px}.ql-toolbar.ql-snow .ql-picker.ql-expanded .ql-picker-label,.ql-toolbar.ql-snow .ql-picker.ql-expanded .ql-picker-options{border-color:#ccc}.ql-toolbar.ql-snow .ql-color-picker .ql-picker-item.ql-selected,.ql-toolbar.ql-snow .ql-color-picker .ql-picker-item:hover{border-color:#000}.ql-toolbar.ql-snow+.ql-container.ql-snow{border-top:0px}.ql-snow .ql-tooltip{background-color:#fff;border:1px solid #ccc;box-shadow:0 0 5px #ddd;color:#444;padding:5px 12px;white-space:nowrap}.ql-snow .ql-tooltip:before{content:"Visit URL:";line-height:26px;margin-right:8px}.ql-snow .ql-tooltip input[type=text]{display:none;border:1px solid #ccc;font-size:13px;height:26px;margin:0;padding:3px 5px;width:170px}.ql-snow .ql-tooltip a.ql-preview{display:inline-block;max-width:200px;overflow-x:hidden;text-overflow:ellipsis;vertical-align:top}.ql-snow .ql-tooltip a.ql-action:after{border-right:1px solid #ccc;content:"Edit";margin-left:16px;padding-right:8px}.ql-snow .ql-tooltip a.ql-remove:before{content:"Remove";margin-left:8px}.ql-snow .ql-tooltip a{line-height:26px}.ql-snow .ql-tooltip.ql-editing a.ql-preview,.ql-snow .ql-tooltip.ql-editing a.ql-remove{display:none}.ql-snow .ql-tooltip.ql-editing input[type=text]{display:inline-block}.ql-snow .ql-tooltip.ql-editing a.ql-action:after{border-right:0px;content:"Save";padding-right:0}.ql-snow .ql-tooltip[data-mode=link]:before{content:"Enter link:"}.ql-snow .ql-tooltip[data-mode=formula]:before{content:"Enter formula:"}.ql-snow .ql-tooltip[data-mode=video]:before{content:"Enter video:"}.ql-snow a{color:#06c}.ql-container.ql-snow{border:1px solid #ccc}.ql-mention-list-container{width:270px;border:1px solid #f0f0f0;border-radius:4px;background-color:#fff;box-shadow:0 2px 12px rgba(30,30,30,.08);z-index:9001;overflow:auto}.ql-mention-loading{line-height:44px;padding:0 20px;vertical-align:middle;font-size:16px}.ql-mention-list{list-style:none;margin:0;padding:0;overflow:hidden}.ql-mention-list-item{cursor:pointer;line-height:44px;font-size:16px;padding:0 20px;vertical-align:middle}.ql-mention-list-item.disabled{cursor:auto}.ql-mention-list-item.selected{background-color:#d3e1eb;text-decoration:none}.mention{height:24px;width:65px;border-radius:6px;background-color:#d3e1eb;padding:3px 0;margin-right:2px;user-select:all}.mention>span{margin:0 3px}._actionControl_1xa5v_1{display:flex;margin-right:8px;margin-left:8px;justify-content:flex-end}._statusIcon_1xa5v_8{cursor:default}._questionContainer_1xa5v_12{padding:16px}._actionIcon_1xa5v_16,._settingIcon_1xa5v_17{font-size:22px}._settingIcon_1xa5v_17{transform:rotate(90deg)}._deleteIcon_1xa5v_25{font-size:32px}._questionItem_169qj_1{margin-bottom:15px;width:50%}._questionItem_169qj_1:last-child{margin-bottom:0}@media (max-width: 767px){._questionItem_169qj_1{width:100%}}._questionItem_13fbu_1{margin-bottom:15px}._questionItem_13fbu_1:last-child{margin-bottom:0}@media (max-width: 767px){._questionItem_13fbu_1{width:100%}}._paragraph_13fbu_15{width:100%}._wordCount_13fbu_19{text-align:end}._questionItem_1sx0f_1{margin-bottom:15px;width:50%}._questionItem_1sx0f_1:last-child{margin-bottom:0}@media only screen and (max-width: 767px){._questionItem_1sx0f_1{width:100%}}._questionItem_wb37f_1{margin-bottom:15px;width:50%}._questionItem_wb37f_1:last-child{margin-bottom:0}@media screen and (max-width: 768px){._questionItem_wb37f_1{width:100%}}._placeholder_4iqf5_1{width:100%;height:100%;display:inline-block;vertical-align:middle;text-align:center}._buttonContainer_4iqf5_9{text-align:center;margin-top:24px}._signatureCanvas_1uxb1_1{border:1px solid transparent;padding:8px;border-radius:4px;text-align:center}._placeholder_xjf3c_1{width:100%;height:100%;display:inline-block;vertical-align:middle;text-align:center}._buttonContainer_xjf3c_9{text-align:center;margin-top:24px}._imageContainer_xjf3c_14{background-position:center;background-repeat:no-repeat}._choicesContainer_k0bnu_1{display:flex;width:100%;table-layout:fixed;margin-bottom:16px;justify-content:space-between}._choicesContainer_k0bnu_1 ._choice_k0bnu_1{padding:8px;width:100%;margin:1px;font-weight:700;font-size:larger;border:1px solid;text-align:center}._choiceLabels_k0bnu_19{margin-top:16px;display:flex;justify-content:space-between}._container_cyg3h_1{text-align:center}._answerAdd_5tmqk_1{display:flex;align-items:baseline;padding-left:18px;justify-content:flex-end;gap:.5rem}._questionItem_5tmqk_9{display:flex;flex-direction:column;gap:2rem}._choicesContainer_5tmqk_15{display:flex;flex-direction:column;gap:.5rem}._answerItem_shykq_1{display:flex;flex-flow:row wrap;align-items:center;transition:all .2s;height:auto}._answerIcon_shykq_10{display:flex}._answerItem_shykq_1 ._answerIcon_shykq_10:hover{cursor:pointer}._answerItem_shykq_1 ._answerIconOther_shykq_18{align-self:center;margin-right:10px}._answerItem_shykq_1 ._answerIconOther_shykq_18:hover{cursor:pointer}._answerItem_shykq_1 ._answerNumberOrder_shykq_27{width:30px;text-align:center}._answerItem_shykq_1 ._answerControl_shykq_32{margin-left:7px;width:calc(100% - 88px)}._answerItem_shykq_1 ._answerControlRtl_shykq_37{margin-right:7px;width:calc(100% - 88px)}._answerItem_shykq_1 ._answerControlOther_shykq_42{margin-left:7px;width:calc(100% - 140px)}._answerItem_shykq_1 ._answerControlOtherRtl_shykq_47{margin-right:7px;width:calc(100% - 140px)}._answerItem_shykq_1 ._answerOtherControl_shykq_52{margin-left:43px;width:50%}._addAnswerIcon_4rcog_1{scale:2}._questionItem_4rcog_5{overflow:hidden;padding-top:16px}._addAnswerButton_4rcog_10{display:inline-flex;align-items:center;justify-content:center;text-align:center;vertical-align:middle}._imageIconButton_z1as0_1{float:right;border-radius:0!important;padding:4px!important;margin:4px!important}._imageContainer_z1as0_8{background-size:contain;background-position:center;background-repeat:no-repeat;position:relative;width:100%}._addAnswerIcon_z1as0_16{scale:2}._loadingContainer_z1as0_20{top:50%;left:50%;position:absolute}._addAnswerButton_z1as0_26{display:inline-flex;align-items:center;justify-content:center;text-align:center;vertical-align:middle}._buttonContainers_z1as0_34{width:100%;top:0;position:absolute}._imageIconButton_lgrld_1{float:right;border-radius:0!important;padding:4px!important;margin:4px!important}._imageContainer_lgrld_8{text-align:center}._addAnswerIcon_lgrld_12{scale:2}._loadingContainer_lgrld_16{text-align:center;float:right;width:100%;margin-top:24px}._addAnswerButton_lgrld_23{display:inline-flex;align-items:center;justify-content:center;text-align:center;vertical-align:middle}._svgContainer_lgrld_31>svg{width:100%;height:100%}._buttonContainers_lgrld_36{width:100%;display:inline-block}._resultImage_2y7qe_1{display:contents}._resultImage_2y7qe_1>svg{margin:8px;width:48px;height:48px}._textHeader_s7yev_1{word-break:break-all}._textDescription_s7yev_5{display:flex;align-items:flex-start;margin-top:12px}._groupCard_s7yev_11{position:relative;box-shadow:inherit!important;padding-bottom:24px;cursor:default}._type_s7yev_18{display:flex;align-items:center;justify-content:flex-start;color:rgba(0,0,0,.33)}._groupType_s7yev_25{margin-top:0;display:flex;align-items:center;justify-content:flex-start;color:rgba(0,0,0,.33)}._questionsOuterContainer_s7yev_33{padding:24px}._questionsInnerContainer_s7yev_37{border-radius:8px;padding-right:24px;padding-left:24px}._groupDesignError_s7yev_43{border-color:red!important;background-color:rgba(255,0,0,.063)!important}._groupHeader_s7yev_48{padding:1.75rem 1rem 1rem}._inputGroupTitle_s7yev_52{width:100%;line-height:135%}._inputGroupDescription_s7yev_57{width:100%;margin-top:4px}._moveBox_s7yev_62{display:flex;margin:auto;justify-content:center;width:50%;cursor:move}._topLevel_s7yev_71{display:flex;flex-direction:column;max-width:800px;min-width:350px;gap:1rem;padding:.5rem .5rem 2rem;margin:auto;position:relative}._groupText_s7yev_85{font-size:20px;font-weight:700}@keyframes _fadeInMoveRight_s7yev_1{0%{opacity:0;transform:translate(10px)}to{opacity:1;transform:translate(0)}}._actionToolbarVisible_s7yev_103{animation:_fadeInMoveRight_s7yev_1 .75s ease-out forwards}._contentContainer_s7yev_107._contentContainer_s7yev_107{position:absolute;top:0;right:0;width:100%;display:flex;justify-content:space-between;align-items:center;justify-content:end}._headerContent_s7yev_118{position:relative}._groupDropArea_1m6hh_1{display:flex;justify-content:center;align-items:center;box-sizing:border-box;height:6rem;padding:0;max-width:800px;min-width:350px;width:100%;margin:20px auto 35px;color:rgba(0,0,0,.5);background-color:#f9f9f9;border:1px dotted #16205b;border-radius:2px;opacity:1;transition:padding .2s,background-color .2s,height .2s ease-in-out,opacity .2s}._groupDragging_1m6hh_24{display:flex;justify-content:center;align-items:center;box-sizing:border-box;height:50px;padding:0;max-width:800px;min-width:350px;width:100%;margin:20px auto 35px;color:rgba(0,0,0,.5);background-color:#f9f9f9;border:1px dotted #16205b;border-radius:2px;opacity:1;transition:padding .2s,background-color .2s,opacity .2s}._questionDropArea_1m6hh_45{display:flex;justify-content:center;align-items:center;box-sizing:border-box;height:6rem;max-width:800px;min-width:350px;padding:0;width:100%;margin:auto;font-size:2rem;color:rgba(0,0,0,.5);background-color:rgba(0,0,0,.1);border:1px dotted #16205b;border-radius:2px;opacity:1;transition:height .2s,padding .2s,background-color .2s,opacity .2s}._groupDropAreaWrapper_1m6hh_72{padding:1rem 0;max-width:800px;width:100%;min-width:350px}._groupDropAreaWrapper_1m6hh_72._hide_1m6hh_79{padding:0}._hidden_1m6hh_83{height:1px;margin:auto;max-width:800px;width:100%;min-width:350px;transition:height .2s,padding .2s}._isDragging_1m6hh_92{display:flex;justify-content:center;align-items:center;border:1px dotted #16205b;height:50px;margin:0;background-color:#f9f9f9;opacity:1;transition:height .2s,padding .2s,background-color .2s,opacity .2s}._groupHidden_1m6hh_104{height:6rem;margin:auto;max-width:800px;min-width:350px}._groupEmptyHint_1m6hh_111{display:flex;justify-content:center;align-items:center;text-align:center;height:50px;margin:auto;max-width:800px;width:100%;min-width:350px;color:gray;border:1px dotted #16205b;border-radius:2px;background-color:rgba(0,0,0,0);transition:background-color .2s}._groupEmptyHintHover_1m6hh_130{background-color:rgba(0,0,0,.1)}._dropText_1m6hh_134{font-size:20px}._box_yj2jt_1{width:0px;position:absolute;z-index:99}._boxHasSetup_yj2jt_7{width:15rem}._showHint_9iocv_1{display:flex;align-items:center;justify-content:space-between;margin-top:20px;width:100%}._inputValue_9iocv_9{max-width:80%}._boxContainer_182us_1{border:1px solid;padding:15px}._boxContainer_182us_1 h4{margin:0}._boxContainer_182us_1 ._mt10_182us_10{margin-top:10px}._boxContainer_182us_1 ._uppercase_182us_14{text-transform:uppercase}._title_182us_18{display:flex;align-items:center;justify-content:space-between;width:100%}._title_182us_18 p{margin:0 30px 0 0}._boxContainer_1vhs4_1{border:1px solid;padding:15px}._boxContainer_1vhs4_1 h4{margin:0}._boxContainer_1vhs4_1 ._mt10_1vhs4_9{margin-top:10px}._boxContainer_1vhs4_1 ._uppercase_1vhs4_13{text-transform:uppercase}._title_1vhs4_18{display:flex;align-items:center;justify-content:space-between}._title_1vhs4_18 p{margin:0 30px 0 0}._titleContent_1vhs4_28{display:flex;align-items:center}._standardError_1vhs4_33{display:flex;align-items:center;margin-bottom:10px}._standardError_1vhs4_33 p{margin:0 30px 0 0}._errorWrapper_1vhs4_44{display:flex}._errorLabelWrapper_1vhs4_48{margin-right:10px}._errorItem_1vhs4_52{display:flex;align-items:center;margin-bottom:5px;min-height:30px}._errorItemContainer_1vhs4_58{width:100%}._valueValidationItems_1hupk_1,._valueValidationItemsContainer_1hupk_6{display:flex;align-items:center}._valueValidationItemsContainer_1hupk_6 ._error_1hupk_11{color:red}._toggleValue_1d9zg_1{display:flex;align-items:center;justify-content:space-between;width:100%}._inputValue_1d9zg_8{max-width:80%}._selectValue_9m4tq_1,._selectDate_1qp3e_1{display:flex;align-items:center;justify-content:space-between;width:100%}._selectDateField_1qp3e_8{max-width:50%}.qb-drag-handler,.qb-draggable,.query-builder{-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.rule--header:after{content:"";display:table;clear:both}.query-builder{overflow:hidden;font-family:Helvetica Neue,Helvetica,Arial,sans-serif;font-size:14px;line-height:1.25;margin:1rem}.group{background:rgba(250,240,210,.5);border:1px solid #DCC896}.rule{background-color:#fff;border:1px solid transparent;padding:10px}.rule-with-error .rule{border:1px solid #e0a1a1}.rule--body{display:flex;flex-wrap:wrap;text-align:center}.rule--body--wrapper{flex:1;display:flex;flex-direction:column}.rule--error{color:red;margin-bottom:-5px;margin-top:5px}.group-or-rule{border-radius:5px;position:relative}.rule_group{background:rgba(255,252,242,.5);border:1px solid #f9f1dd}.locked{border:1px dashed red}.qb-placeholder{border:1px dashed gray}.query-builder.qb-dragging{cursor:-webkit-grabbing!important;cursor:grabbing!important}.query-builder.qb-dragging button{pointer-events:none}.qb-draggable{pointer-events:none;position:absolute;opacity:.7;z-index:1000;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}.qb-drag-handler{cursor:-webkit-grabbing;cursor:grabbing}.group--header:not(.no--children):not(.hide--conjs){position:relative}.group--header:not(.no--children):not(.hide--conjs):before{z-index:0;content:"";position:absolute;border-width:0 0 0 2px;border-color:#ccc;border-style:solid;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}.group--header:not(.no--children):not(.hide--conjs).hide--line:before{border-color:rgba(128,128,128,.1)}.group--header:not(.no--children):not(.hide--conjs):before{top:20px;height:calc(100% - 10px);left:11px;width:13px}.group--children>.group-or-rule-container>.group-or-rule:before{border-width:0 0 2px 2px}.group--children>.group-or-rule-container>.group-or-rule:after{border-width:0 0 0 2px}.group--children>.group-or-rule-container>.group-or-rule:before,.group--children>.group-or-rule-container>.group-or-rule:after{content:"";position:absolute;border-color:#ccc;border-style:solid;-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}.group--children>.group-or-rule-container>.group-or-rule:before{top:-1px;height:calc(50% + 2px)}.group--children>.group-or-rule-container>.group-or-rule:after{top:calc(50% + 1px);height:calc(50% + 11px)}.group--children>.group-or-rule-container>.group-or-rule:before,.group--children>.group-or-rule-container>.group-or-rule:after{left:-14px;width:13px}.group--children>.group-or-rule-container:last-child>.group-or-rule:before{border-radius:0 0 0 4px}.group--children>.group-or-rule-container:last-child>.group-or-rule:after{display:none}.group--children.hide--conjs>.group-or-rule-container:first-child>.group-or-rule:before{display:none}.group--children.hide--conjs>.group-or-rule-container:first-child>.group-or-rule:after{border-radius:4px 0 0;border-width:2px 0 0 2px}.group--children.hide--conjs>.group-or-rule-container:first-child>.group-or-rule:after{top:calc(50% - 1px);height:calc(50% + 13px)}.group--children.hide--line>.group-or-rule-container>.group-or-rule:before,.group--children.hide--line>.group-or-rule-container>.group-or-rule:after{border-color:rgba(128,128,128,.1)}.rule_group--children>.group-or-rule-container:first-child>.group-or-rule:before{display:none}.rule_group--children>.group-or-rule-container:first-child>.group-or-rule:after{border-radius:4px 0 0;border-width:2px 0 0 2px}.rule_group--children>.group-or-rule-container:first-child>.group-or-rule:after{top:calc(50% - 1px);height:calc(50% + 8px)}.rule_group--children>.group-or-rule-container>.group-or-rule:before{top:-1px;height:calc(50% + 2px)}.rule_group--children>.group-or-rule-container>.group-or-rule:after{top:calc(50% + 1px);height:calc(50% + 6px)}.rule_group--children>.group-or-rule-container>.group-or-rule:before,.rule_group--children>.group-or-rule-container>.group-or-rule:after{left:-11px;width:10px}.switch_group>.group--children>.group-or-rule-container>.group-or-rule:before{top:-2px;height:calc(50% + 3px)}.switch_group>.group--children>.group-or-rule-container>.group-or-rule:after{top:calc(50% + 1px);height:calc(50% + 13px)}.switch_group>.group--children>.group-or-rule-container>.group-or-rule:before,.switch_group>.group--children>.group-or-rule-container>.group-or-rule:after{left:-15px;width:13px}.switch_group>.group--header:not(.no--children):not(.hide--conjs):before{top:20px;height:calc(100% - 10px);left:11px;width:13px}.qb-draggable:before,.qb-draggable:after{display:none}.group--header,.group--footer{display:flex;align-items:stretch;padding-left:10px;padding-right:10px;margin-top:10px;margin-bottom:10px}.group-or-rule-container{margin-top:10px;margin-bottom:10px;padding-right:10px}.group-or-rule-container:first-child{margin-top:0!important}.group-or-rule-container:last-child{margin-bottom:0!important}.group--drag-handler{margin-right:8px;margin-top:3px;position:relative;align-self:center}.group--conjunctions{flex-shrink:0;display:flex}.group--conjunctions .group--drag-handler{margin-left:10px}.group--children{padding-left:24px;margin-top:10px;margin-bottom:10px}.group--children .group--field--count--rule{display:flex;flex-wrap:wrap;flex:1}.group--conjunctions.hide--conj{opacity:.3}.group--actions{margin-left:10px;flex:1;display:flex}.group--actions--tl,.group--actions--bl{justify-content:flex-start}.group--actions--tl{margin-left:20px}.group--actions--tc,.group--actions--bc{justify-content:center}.group--actions--tr,.group--actions--br{justify-content:flex-end}.case_group{border-width:2px}.case_group--body{display:flex;flex-direction:row;margin-top:10px;margin-bottom:10px}.case_group--body .case_group--children{flex:auto;margin-top:0!important;margin-bottom:0!important}.case_group--body .case_group--value{margin-top:0;margin-bottom:0;margin-right:10px}.rule_group{display:flex;flex-wrap:wrap;padding-left:10px}.rule_group .group--field{margin-top:10px;margin-bottom:10px;align-self:center}.rule_group .group--actions{margin-left:10px;align-self:center;flex:0}.rule_group .rule_group--children{flex:1;margin-top:5px;margin-bottom:5px;padding-left:18px}.rule_group .rule_group--children .group-or-rule-container{margin-bottom:5px;margin-top:5px;padding-right:5px}.rule_group .rule_group--children.one--child{padding-left:9px}.rule_group_ext .group--actions{flex:none}.group--header.hide--drag.with--conjs>.group--field--count--rule{margin-left:20px}.rule{flex:1;display:flex}.rule--header{margin-left:auto;display:flex;align-items:center;padding-left:10px}.rule--drag-handler{display:flex;align-items:center;margin-right:8px}.rule--field,.rule--fieldsrc,.group--field,.rule--operator,.rule--value,.rule--operator-options,.rule--widget,.widget--widget,.widget--valuesrc,.widget--sep,.operator--options--sep,.rule--before-widget,.rule--after-widget{display:inline-block}.widget--sep,.operator--options--sep,.rule--func--bracket-before,.rule--func--bracket-after,.rule--func--arg-sep{vertical-align:bottom;align-self:flex-end;margin-bottom:8px}.rule--func--arg-sep{margin-bottom:3px}.widget--sep{margin-left:10px;margin-right:10px}.widget--sep.widget--sep-first{margin-right:10px;margin-left:0}.rule--operator{margin-left:20px;margin-right:20px}.operator--options--sep{margin-right:10px}.rule--func--arg-sep{margin-left:3px;margin-right:6px}.rule--func--bracket-after{margin-left:5px;margin-right:2px}.rule--func--bracket-before{margin-left:5px;margin-right:5px}.widget--valuesrc,.rule--fieldsrc{vertical-align:top}.operator--options{display:flex}.rule--operator-wrapper{display:flex;flex-direction:column;height:100%}.rule--operator-text-wrapper{flex:1;display:flex;align-items:center}div.tooltip-inner{max-width:500px}.rule--label{display:block;font-weight:700}.rule--func--wrapper,.rule--func,.rule--func--args,.rule--func--arg,.rule--func--arg-value,.rule--func--bracket-before,.rule--func--bracket-after,.rule--func--arg-sep,.rule--func--arg-label,.rule--func--arg-label-sep{display:inline-block}.rule--func--wrapper,.rule--func--args{display:flex;flex-wrap:wrap}.rule--func--arg{display:flex}.rule--field-wrapper,.rule--field--func,.rule--func--wrapper,.rule--func--args,.rule--func--arg,.rule--func--arg-value,.rule--func--arg-value>.rule--widget,.widget--func{display:contents}.rule--func,.widget--widget{margin-bottom:2px}.rule--body--wrapper{margin-bottom:-2px}.qb-lite .group--drag-handler,.qb-lite .group--actions{transition:opacity .2s}.qb-lite .group--header:hover .group--header .group--drag-handler,.qb-lite .group--header:hover .group--header .group--actions,.qb-lite .group--header:not(:hover) .group--drag-handler,.qb-lite .group--header:not(:hover) .group--actions,.qb-lite .rule_group:not(:hover) .group--drag-handler,.qb-lite .rule_group:not(:hover) .group--actions{opacity:0}.qb-lite .rule--fieldsrc,.qb-lite .widget--valuesrc,.qb-lite .rule--drag-handler,.qb-lite .rule--header{transition:opacity .2s}.qb-lite .rule:hover .rule .rule--fieldsrc,.qb-lite .rule:hover .rule .widget--valuesrc,.qb-lite .rule:hover .rule .rule--drag-handler,.qb-lite .rule:hover .rule .rule--header,.qb-lite .rule:not(:hover) .rule--fieldsrc,.qb-lite .rule:not(:hover) .widget--valuesrc,.qb-lite .rule:not(:hover) .rule--drag-handler,.qb-lite .rule:not(:hover) .rule--header{opacity:0}.qb-lite.qb-dragging .rule--fieldsrc,.qb-lite.qb-dragging .widget--valuesrc,.qb-lite.qb-dragging .rule--drag-handler,.qb-lite.qb-dragging .rule--header,.qb-lite.qb-dragging .group--drag-handler,.qb-lite.qb-dragging .group--actions{opacity:0!important}.rule--body.can--shrink--value .rule--value{flex:1}.rule--body.can--shrink--value .rule--value>.rule--widget{width:100%;display:flex}.rule--body.can--shrink--value .rule--value>.rule--widget .widget--widget{flex:1}.MuiIconButton-sizeSmall{padding:3px}.customSelectOption{color:#f08080}.group--children.hide--line>.group-or-rule-container>.group-or-rule:before,.group--children.hide--line>.group-or-rule-container>.group-or-rule:after{border-color:transparent}.MuiAutocomplete-fullWidth{width:320px!important}.query-builder-container{padding:0!important}.query-builder{margin:0!important}.query-builder .group{background-color:transparent;border:0px solid #000}.query-builder .rule--header button{color:#6e6e6e}.logicField{color:#00f}.logicOp{font-weight:700}.logicValue{color:green}.condition-human-text{width:100%;white-space:pre-wrap}.query-builder-result{margin-top:9px;display:flex}.icon-container{display:flex;align-items:center}._relevance_1j5a5_1{display:inline-block}._relevanceError_1j5a5_5{background-color:rgba(255,0,0,.133)}._errorContainer_1j5a5_9{display:flex}._skipItem_1n8m2_1{margin-top:24px;margin-bottom:24px}._toEnd_1n8m2_6{display:flex;justify-content:space-between;width:100%;align-items:center;padding:4dp}._sectionTitle_62go7_1{font-size:16px;font-weight:700}._rightContent_62go7_6{width:18rem;overflow-y:auto;background-color:#fff;height:calc(100vh - 64px)}._close_62go7_13{text-align:right}._accordionStyle_62go7_17._accordionStyle_62go7_17{box-shadow:none;border-bottom:1px solid #d7d7d7}._errorDisplay_1avr2_1{border:1px solid orange;background-color:rgba(255,166,0,.13);border-radius:4px;margin:8px;padding:8px}._randomHeader_1pjix_1{display:flex;justify-content:space-between}._randomHeader_1pjix_1 ._title_1pjix_6{margin:0;line-height:40px}._randomHeader_1pjix_1 ._action_1pjix_11{float:right}._randomHeader_1pjix_1 ._settingIcon_1pjix_15{font-size:20px}._randomBody_1pjix_19 ._list_1pjix_19{padding-left:7px;margin-top:4px;list-style-type:"-"}._randomBody_1pjix_19 ._list_1pjix_19 li{line-height:24px;margin-bottom:6px}._randomBody_1pjix_19 ._list_1pjix_19 li ._weight_1pjix_30{float:right;padding-top:2px;min-width:100px;text-align:right}._randomBody_1pjix_19 ._list_1pjix_19 li ._weight_1pjix_30>span{display:inline-block;padding:0 4px;line-height:22px;background-color:#fff;border:1px solid black;min-width:20px;text-align:center}._randomAction_1pjix_47{margin-top:15px;text-align:right;padding-right:4px}._listItem_1pjix_53{display:flex;align-items:center}._listItem_1pjix_53 ._label_1pjix_58{display:flex;align-items:center;width:100%}._listItem_1pjix_53 ._input_1pjix_64{width:50px}._listItemError_1pjix_68{color:red;display:flex;align-items:center}._listItemError_1pjix_68 ._label_1pjix_58{display:flex;align-items:center;width:100%}._listItemError_1pjix_68 ._input_1pjix_64{width:50px}._randomItem_1pjix_84{margin-bottom:10px;padding:8px}._highlighted_1pjix_89{border:2px solid;border-radius:4px}._title_5cg20_1{margin:0;line-height:40px}._randomBody_5cg20_6 ._list_5cg20_6{padding-left:0;margin:0 0 10px;list-style-type:"-"}._randomBody_5cg20_6 ._list_5cg20_6 li{padding-left:0;line-height:24px;margin-bottom:6px}._randomBody_5cg20_6 ._list_5cg20_6 li ._weight_5cg20_18{float:right;padding-top:2px;min-width:100px;text-align:right}._randomBody_5cg20_6 ._list_5cg20_6 li ._weight_5cg20_18>span{display:inline-block;padding:0 4px;line-height:22px;background-color:#fff;border:1px solid black;min-width:20px;text-align:center}._label_5cg20_35{width:100%}._randomAction_5cg20_39{margin-top:15px;text-align:right;padding-right:4px}._listItem_5cg20_45{display:flex;align-items:center}._listItem_5cg20_45 ._input_5cg20_50{width:50px}._randomItem_5cg20_54{margin-top:10px;margin-bottom:10px;padding:8px}._selectValue_14l81_1{margin-bottom:20px!important}._errorDisplay_1vtlj_1{border:1px solid orange;background-color:rgba(255,166,0,.13);border-radius:4px;margin:8px;padding:8px}._addNew_1vtlj_10{margin-top:8px}._title_1p7e9_1{margin:0;line-height:40px}._list_1p7e9_6{padding-left:7px;margin:0 0 10px;list-style-type:none}._list_1p7e9_6 li{line-height:24px;margin-bottom:6px;padding-left:0;margin-left:-12px}._randomAction_1p7e9_19{margin-top:15px;text-align:right;padding-right:4px}._listItem_1p7e9_25{display:flex;align-items:center}._listItem_1p7e9_25 ._input_1p7e9_30{width:50px}._randomItem_1p7e9_34{margin-top:10px;margin-bottom:10px;padding:8px}._randomHeader_10d2m_1{display:flex;justify-content:space-between}._randomHeader_10d2m_1 ._title_10d2m_6{margin:0;line-height:40px}._randomHeader_10d2m_1 ._action_10d2m_11{float:right}._randomHeader_10d2m_1 ._settingIcon_10d2m_15{font-size:20px}._list_10d2m_19{padding-left:7px;margin:0 0 10px;list-style-type:"-"}._list_10d2m_19 li{line-height:24px;margin-bottom:6px}._randomAction_10d2m_30{margin-top:15px;text-align:right;padding-right:4px}._listItem_10d2m_36{display:flex;align-items:center}._listItem_10d2m_36 ._label_10d2m_41{display:flex;align-items:center;width:100%}._listItem_10d2m_36 ._input_10d2m_47{width:50px}._listItemError_10d2m_51{color:red;display:flex;align-items:center}._listItemError_10d2m_51 ._label_10d2m_41{display:flex;align-items:center;width:100%}._randomItem_10d2m_63{margin-bottom:10px;padding:8px}._highlighted_10d2m_68{border:2px solid;border-radius:4px}._theming_1v217_1{padding:.25rem 1rem;display:flex;flex-direction:column;gap:1rem}._theming_1v217_1 hr{margin:25px 0 0}._chooseImage_1v217_12._chooseImage_1v217_12{padding:.2rem 10px;border-radius:8px;text-transform:none;color:#16205b;font-weight:500;align-items:center;border:1px solid #16205b}._resetButton_1v217_21._resetButton_1v217_21{padding:0}._fontText_1v217_24{font-size:14px}._selectDropdown_1v217_27._selectDropdown_1v217_27{color:#16205b;font-weight:600;border-radius:11px}._colorBox_1v217_33._colorBox_1v217_33{padding:.875rem;border-radius:8px;width:3rem;border:1px solid #16205b}._colorPickerContainer_1v217_40{position:absolute;z-index:2;right:0;top:30px;user-select:none;display:flex;flex-direction:column;background-color:#fff;border-radius:8px;box-shadow:0 4px 6px rgba(0,0,0,.1),0 1px 3px rgba(0,0,0,.08)}._themingItem_11qn9_1 h6{margin-top:15px;margin-bottom:10px}._themingItem_11qn9_1 ._themingItemBody_11qn9_6{display:flex}._themingItem_11qn9_1 ._themingItemBody_11qn9_6 div:nth-child(1){flex-grow:1}._selectDropdown_11qn9_13._selectDropdown_11qn9_13{color:#16205b;font-weight:600;border-radius:15px}._box_xl6bf_1{width:0px;position:absolute;z-index:99;right:0}._boxHasSetup_xl6bf_8{width:18rem}\n',document.head.appendChild(Jr);const Qr=Object.freeze(Object.defineProperty({__proto__:null,get LINEAR_REGRESSION(){return iR},get LOWER(){return nR},get NOW(){return tR},get RELATIVE_DATETIME(){return rR},get UPPER(){return oR}},Symbol.toStringTag,{value:"Module"}));function Xr(e,t){if(null==e)return{};var r,n,o=p(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}const Zr=h({area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});var en=/\s([^'"/\s><]+?)[\s/>]|([^\s=]+)=\s?(".*?"|'.*?')/g;function tn(e){var t={type:"tag",name:"",voidElement:!1,attrs:{},children:[]},r=e.match(/<\/?([^\s]+?)[/\s>]/);if(r&&(t.name=r[1],(Zr[r[1]]||"/"===e.charAt(e.length-2))&&(t.voidElement=!0),t.name.startsWith("!--"))){var n=e.indexOf("--\x3e");return{type:"comment",comment:-1!==n?e.slice(4,n):""}}for(var o=new RegExp(en),i=null;null!==(i=o.exec(e));)if(i[0].trim())if(i[1]){var a=i[1].trim(),l=[a,""];a.indexOf("=")>-1&&(l=a.split("=")),t.attrs[l[0]]=l[1],o.lastIndex--}else i[2]&&(t.attrs[i[2]]=i[3].trim().substring(1,i[3].length-1));return t}var rn=/<[a-zA-Z0-9\-\!\/](?:"[^"]*"|'[^']*'|[^'">])*>/g,nn=/^\s*$/,on=Object.create(null);function an(e,t){switch(t.type){case"text":return e+t.content;case"tag":return e+="<"+t.name+(t.attrs?function(e){var t=[];for(var r in e)t.push(r+'="'+e[r]+'"');return t.length?" "+t.join(" "):""}(t.attrs):"")+(t.voidElement?"/>":">"),t.voidElement?e:e+t.children.reduce(an,"")+"</"+t.name+">";case"comment":return e+"\x3c!--"+t.comment+"--\x3e"}}var ln={parse:function(e,t){t||(t={}),t.components||(t.components=on);var r,n=[],o=[],i=-1,a=!1;if(0!==e.indexOf("<")){var l=e.indexOf("<");n.push({type:"text",content:-1===l?e:e.substring(0,l)})}return e.replace(rn,(function(l,s){if(a){if(l!=="</"+r.name+">")return;a=!1}var u,c="/"!==l.charAt(1),d=l.startsWith("\x3c!--"),p=s+l.length,f=e.charAt(p);if(d){var h=tn(l);return i<0?(n.push(h),n):((u=o[i]).children.push(h),n)}if(c&&(i++,"tag"===(r=tn(l)).type&&t.components[r.name]&&(r.type="component",a=!0),r.voidElement||a||!f||"<"===f||r.children.push({type:"text",content:e.slice(p,e.indexOf("<",p))}),0===i&&n.push(r),(u=o[i-1])&&u.children.push(r),o[i]=r),(!c||r.voidElement)&&(i>-1&&(r.voidElement||r.name===l.slice(2,-1))&&(i--,r=-1===i?n:o[i]),!a&&"<"!==f&&f)){u=-1===i?n:o[i].children;var g=e.indexOf("<",p),v=e.slice(p,-1===g?void 0:g);nn.test(v)&&(v=" "),(g>-1&&i+u.length>=0||" "!==v)&&u.push({type:"text",content:v})}})),n},stringify:function(e){return e.reduce((function(e,t){return e+an("",t)}),"")}},sn=["format"],un=["children","count","parent","i18nKey","context","tOptions","values","defaults","components","ns","i18n","t","shouldUnescape"];function cn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function dn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?cn(Object(r),!0).forEach((function(t){y(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function pn(e,t){if(!e)return!1;var r=e.props?e.props.children:e.children;return t?r.length>0:!!r}function fn(e){return e?e.props?e.props.children:e.children:[]}function hn(e){return Array.isArray(e)?e:[e]}function gn(e,t){if(!e)return"";var r="",n=hn(e),o=t.transSupportBasicHtmlNodes&&t.transKeepBasicHtmlNodesFor?t.transKeepBasicHtmlNodesFor:[];return n.forEach((function(e,n){if("string"==typeof e)r+="".concat(e);else if(g.isValidElement(e)){var i=Object.keys(e.props).length,a=o.indexOf(e.type)>-1,l=e.props.children;if(!l&&a&&0===i)r+="<".concat(e.type,"/>");else if(l||a&&0===i)if(e.props.i18nIsDynamicList)r+="<".concat(n,"></").concat(n,">");else if(a&&1===i&&"string"==typeof l)r+="<".concat(e.type,">").concat(l,"</").concat(e.type,">");else{var s=gn(l,t);r+="<".concat(n,">").concat(s,"</").concat(n,">")}else r+="<".concat(n,"></").concat(n,">")}else if(null===e)ee("Trans: the passed in value is invalid - seems you passed in a null child.");else if("object"===b(e)){var u=e.format,c=Xr(e,sn),d=Object.keys(c);if(1===d.length){var p=u?"".concat(d[0],", ").concat(u):d[0];r+="{{".concat(p,"}}")}else ee("react-i18next: the passed in object contained more than one variable - the object should look like {{ value, format }} where format is optional.",e)}else ee("Trans: the passed in value is invalid - seems you passed in a variable like {number} - please pass in variables for interpolation as full objects like {{number}}.",e)})),r}function vn(e,t,r,n,o,i){if(""===t)return[];var a=n.transKeepBasicHtmlNodesFor||[],l=t&&new RegExp(a.join("|")).test(t);if(!e&&!l)return[t];var s={};!function e(t){hn(t).forEach((function(t){"string"!=typeof t&&(pn(t)?e(fn(t)):"object"!==b(t)||g.isValidElement(t)||Object.assign(s,t))}))}(e);var u=ln.parse("<0>".concat(t,"</0>")),c=dn(dn({},s),o);function d(e,t,r){var n=fn(e),o=f(n,t.children,r);return function(e){return"[object Array]"===Object.prototype.toString.call(e)&&e.every((function(e){return g.isValidElement(e)}))}(n)&&0===o.length?n:o}function p(e,t,r,n,o){e.dummy&&(e.children=t),r.push(g.cloneElement(e,dn(dn({},e.props),{},{key:n}),o?void 0:t))}function f(t,o,s){var u=hn(t);return hn(o).reduce((function(t,o,h){var v,m,y,_=o.children&&o.children[0]&&o.children[0].content&&r.services.interpolator.interpolate(o.children[0].content,c,r.language);if("tag"===o.type){var x=u[parseInt(o.name,10)];!x&&1===s.length&&s[0][o.name]&&(x=s[0][o.name]),x||(x={});var w=0!==Object.keys(o.attrs).length?(v={props:o.attrs},(y=dn({},m=x)).props=Object.assign(v.props,m.props),y):x,O=g.isValidElement(w),S=O&&pn(o,!0)&&!o.voidElement,k=l&&"object"===b(w)&&w.dummy&&!O,j="object"===b(e)&&null!==e&&Object.hasOwnProperty.call(e,o.name);if("string"==typeof w){var E=r.services.interpolator.interpolate(w,c,r.language);t.push(E)}else if(pn(w)||S){p(w,d(w,o,s),t,h)}else if(k){var C=f(u,o.children,s);t.push(g.cloneElement(w,dn(dn({},w.props),{},{key:h}),C))}else if(Number.isNaN(parseFloat(o.name))){if(j)p(w,d(w,o,s),t,h,o.voidElement);else if(n.transSupportBasicHtmlNodes&&a.indexOf(o.name)>-1)if(o.voidElement)t.push(g.createElement(o.name,{key:"".concat(o.name,"-").concat(h)}));else{var T=f(u,o.children,s);t.push(g.createElement(o.name,{key:"".concat(o.name,"-").concat(h)},T))}else if(o.voidElement)t.push("<".concat(o.name," />"));else{var q=f(u,o.children,s);t.push("<".concat(o.name,">").concat(q,"</").concat(o.name,">"))}}else if("object"!==b(w)||O)1===o.children.length&&_?t.push(g.cloneElement(w,dn(dn({},w.props),{},{key:h}),_)):t.push(g.cloneElement(w,dn(dn({},w.props),{},{key:h})));else{var A=o.children[0]?_:null;A&&t.push(A)}}else if("text"===o.type){var P=n.transWrapTextNodes,I=i?n.unescape(r.services.interpolator.interpolate(o.content,c,r.language)):r.services.interpolator.interpolate(o.content,c,r.language);P?t.push(g.createElement(P,{key:"".concat(o.name,"-").concat(h)},I)):t.push(I)}return t}),[])}return fn(f([{dummy:!0,children:e||[]}],u,hn(e||[]))[0])}function mn(e){var t=e.children,r=e.count,n=e.parent,o=e.i18nKey,i=e.context,a=e.tOptions,l=void 0===a?{}:a,s=e.values,u=e.defaults,c=e.components,d=e.ns,p=e.i18n,f=e.t,h=e.shouldUnescape,y=Xr(e,un),b=g.useContext(v)||{},x=b.i18n,w=b.defaultNS,O=p||x||_();if(!O)return Z("You will need to pass in an i18next instance by using i18nextReactModule"),t;var S=f||O.t.bind(O)||function(e){return e};i&&(l.context=i);var k=dn(dn({},m()),O.options&&O.options.react),j=d||S.ns||w||O.options&&O.options.defaultNS;j="string"==typeof j?[j]:j||["translation"];var E=u||gn(t,k)||k.transEmptyNodeValue||o,C=k.hashTransKey,T=o||(C?C(E):E),q=s?l.interpolation:{interpolation:dn(dn({},l.interpolation),{},{prefix:"#$?",suffix:"?$#"})},A=dn(dn(dn(dn({},l),{},{count:r},s),q),{},{defaultValue:E,ns:j}),P=vn(c||t,T?S(T,A):E,O,k,A,h),I=void 0!==n?n:k.defaultTransParent;return I?g.createElement(I,y,P):P}const yn={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:-1,overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"};function bn(e,t){return e-t}function _n(e,t){var r;const n=null!=(r=e.reduce(((e,r,n)=>{const o=Math.abs(t-r);return null===e||o<e.distance||o===e.distance?{distance:o,index:n}:e}),null))?r:{};return n.index}function xn(e,t){if(void 0!==t.current&&e.changedTouches){const r=e;for(let e=0;e<r.changedTouches.length;e+=1){const n=r.changedTouches[e];if(n.identifier===t.current)return{x:n.clientX,y:n.clientY}}return!1}return{x:e.clientX,y:e.clientY}}function wn(e,t,r){return 100*(e-t)/(r-t)}function On(e,t,r){const n=Math.round((e-r)/t)*t+r;return Number(n.toFixed(function(e){if(Math.abs(e)<1){const t=e.toExponential().split("e-"),r=t[0].split(".")[1];return(r?r.length:0)+parseInt(t[1],10)}const t=e.toString().split(".")[1];return t?t.length:0}(t)))}function Sn({values:e,newValue:t,index:r}){const n=e.slice();return n[r]=t,n.sort(bn)}function kn({sliderRef:e,activeIndex:t,setActive:r}){var n,o;const i=ae(e.current);var a;null!=(n=e.current)&&n.contains(i.activeElement)&&Number(null==i||null==(o=i.activeElement)?void 0:o.getAttribute("data-index"))===t||(null==(a=e.current)||a.querySelector(`[type="range"][data-index="${t}"]`).focus());r&&r(t)}function jn(e,t){return"number"==typeof e&&"number"==typeof t?e===t:"object"==typeof e&&"object"==typeof t&&function(e,t,r=((e,t)=>e===t)){return e.length===t.length&&e.every(((e,n)=>r(e,t[n])))}(e,t)}const En={horizontal:{offset:e=>({left:`${e}%`}),leap:e=>({width:`${e}%`})},"horizontal-reverse":{offset:e=>({right:`${e}%`}),leap:e=>({width:`${e}%`})},vertical:{offset:e=>({bottom:`${e}%`}),leap:e=>({height:`${e}%`})}},Cn=e=>e;let Tn;function qn(){return void 0===Tn&&(Tn="undefined"==typeof CSS||"function"!=typeof CSS.supports||CSS.supports("touch-action","none")),Tn}function An(e){const t=e["aria-labelledby"],r=e.defaultValue,n=e.disabled,o=void 0!==n&&n,i=e.disableSwap,a=void 0!==i&&i,l=e.isRtl,s=void 0!==l&&l,u=e.marks,c=void 0!==u&&u,d=e.max,p=void 0===d?100:d,h=e.min,v=void 0===h?0:h,m=e.name,y=e.onChange,b=e.onChangeCommitted,_=e.orientation,O=void 0===_?"horizontal":_,S=e.rootRef,k=e.scale,j=void 0===k?Cn:k,E=e.step,C=void 0===E?1:E,T=e.shiftStep,q=void 0===T?10:T,A=e.tabIndex,P=e.value,I=g.useRef(),L=f(g.useState(-1),2),N=L[0],R=L[1],M=f(g.useState(-1),2),F=M[0],D=M[1],V=f(g.useState(!1),2),z=V[0],B=V[1],H=g.useRef(0),W=f(te({controlled:P,default:null!=r?r:v,name:"Slider"}),2),U=W[0],$=W[1],Y=y&&((e,t,r)=>{const n=e.nativeEvent||e,o=new n.constructor(n.type,n);Object.defineProperty(o,"target",{writable:!0,value:{value:t,name:m}}),y(o,t,r)}),G=Array.isArray(U);let K=G?U.slice().sort(bn):[U];K=K.map((e=>null==e?v:x(e,v,p)));const J=!0===c&&null!==C?[...Array(Math.floor((p-v)/C)+1)].map(((e,t)=>({value:v+C*t}))):c||[],Q=J.map((e=>e.value)),X=re(),Z=X.isFocusVisibleRef,ee=X.onBlur,le=X.onFocus,se=X.ref,ue=f(g.useState(-1),2),ce=ue[0],de=ue[1],pe=g.useRef(),fe=ne(se,pe),he=ne(S,fe),ge=e=>t=>{var r;const n=Number(t.currentTarget.getAttribute("data-index"));le(t),!0===Z.current&&de(n),D(n),null==e||null==(r=e.onFocus)||r.call(e,t)},ve=e=>t=>{var r;ee(t),!1===Z.current&&de(-1),D(-1),null==e||null==(r=e.onBlur)||r.call(e,t)},me=(e,t)=>{const r=Number(e.currentTarget.getAttribute("data-index")),n=K[r],o=Q.indexOf(n);let i=t;if(J&&null==C){const e=Q[Q.length-1];i=i>e?e:i<Q[0]?Q[0]:i<n?Q[o-1]:Q[o+1]}if(i=x(i,v,p),G){a&&(i=x(i,K[r-1]||-1/0,K[r+1]||1/0));const e=i;i=Sn({values:K,newValue:i,index:r});let t=r;a||(t=i.indexOf(e)),kn({sliderRef:pe,activeIndex:t})}$(i),de(r),Y&&!jn(i,U)&&Y(e,i,r),b&&b(e,i)},ye=e=>t=>{var r;if(null!==C){const e=Number(t.currentTarget.getAttribute("data-index")),r=K[e];let n=null;("ArrowLeft"===t.key||"ArrowDown"===t.key)&&t.shiftKey||"PageDown"===t.key?n=Math.max(r-q,v):(("ArrowRight"===t.key||"ArrowUp"===t.key)&&t.shiftKey||"PageUp"===t.key)&&(n=Math.min(r+q,p)),null!==n&&(me(t,n),t.preventDefault())}null==e||null==(r=e.onKeyDown)||r.call(e,t)};oe((()=>{var e;o&&pe.current.contains(document.activeElement)&&(null==(e=document.activeElement)||e.blur())}),[o]),o&&-1!==N&&R(-1),o&&-1!==ce&&de(-1);const be=g.useRef();let _e=O;s&&"horizontal"===O&&(_e+="-reverse");const xe=({finger:e,move:t=!1})=>{const r=pe.current.getBoundingClientRect(),n=r.width,o=r.height,i=r.bottom,l=r.left;let s,u;if(s=0===_e.indexOf("vertical")?(i-e.y)/o:(e.x-l)/n,-1!==_e.indexOf("-reverse")&&(s=1-s),u=function(e,t,r){return(r-t)*e+t}(s,v,p),C)u=On(u,C,v);else{const e=_n(Q,u);u=Q[e]}u=x(u,v,p);let c=0;if(G){c=t?be.current:_n(K,u),a&&(u=x(u,K[c-1]||-1/0,K[c+1]||1/0));const e=u;u=Sn({values:K,newValue:u,index:c}),a&&t||(c=u.indexOf(e),be.current=c)}return{newValue:u,activeIndex:c}},we=ie((e=>{const t=xn(e,I);if(!t)return;if(H.current+=1,"mousemove"===e.type&&0===e.buttons)return void Oe(e);const r=xe({finger:t,move:!0}),n=r.newValue,o=r.activeIndex;kn({sliderRef:pe,activeIndex:o,setActive:R}),$(n),!z&&H.current>2&&B(!0),Y&&!jn(n,U)&&Y(e,n,o)})),Oe=ie((e=>{const t=xn(e,I);if(B(!1),!t)return;const r=xe({finger:t,move:!0}).newValue;R(-1),"touchend"===e.type&&D(-1),b&&b(e,r),I.current=void 0,ke()})),Se=ie((e=>{if(o)return;qn()||e.preventDefault();const t=e.changedTouches[0];null!=t&&(I.current=t.identifier);const r=xn(e,I);if(!1!==r){const t=xe({finger:r}),n=t.newValue,o=t.activeIndex;kn({sliderRef:pe,activeIndex:o,setActive:R}),$(n),Y&&!jn(n,U)&&Y(e,n,o)}H.current=0;const n=ae(pe.current);n.addEventListener("touchmove",we,{passive:!0}),n.addEventListener("touchend",Oe,{passive:!0})})),ke=g.useCallback((()=>{const e=ae(pe.current);e.removeEventListener("mousemove",we),e.removeEventListener("mouseup",Oe),e.removeEventListener("touchmove",we),e.removeEventListener("touchend",Oe)}),[Oe,we]);g.useEffect((()=>{const e=pe.current;return e.addEventListener("touchstart",Se,{passive:qn()}),()=>{e.removeEventListener("touchstart",Se),ke()}}),[ke,Se]),g.useEffect((()=>{o&&ke()}),[o,ke]);const je=wn(G?K[0]:v,v,p),Ee=wn(K[K.length-1],v,p)-je,Ce=e=>t=>{var r;null==(r=e.onMouseLeave)||r.call(e,t),D(-1)};return{active:N,axis:_e,axisProps:En,dragging:z,focusedThumbIndex:ce,getHiddenInputProps:(r={})=>{var n;const i=er(r),a={onChange:(l=i||{},e=>{var t;null==(t=l.onChange)||t.call(l,e),me(e,e.target.valueAsNumber)}),onFocus:ge(i||{}),onBlur:ve(i||{}),onKeyDown:ye(i||{})};var l;const u=w({},i,a);return w({tabIndex:A,"aria-labelledby":t,"aria-orientation":O,"aria-valuemax":j(p),"aria-valuemin":j(v),name:m,type:"range",min:e.min,max:e.max,step:null===e.step&&e.marks?"any":null!=(n=e.step)?n:void 0,disabled:o},r,u,{style:w({},yn,{direction:s?"rtl":"ltr",width:"100%",height:"100%"})})},getRootProps:(e={})=>{const t=er(e),r={onMouseDown:(n=t||{},e=>{var t;if(null==(t=n.onMouseDown)||t.call(n,e),o)return;if(e.defaultPrevented)return;if(0!==e.button)return;e.preventDefault();const r=xn(e,I);if(!1!==r){const t=xe({finger:r}),n=t.newValue,o=t.activeIndex;kn({sliderRef:pe,activeIndex:o,setActive:R}),$(n),Y&&!jn(n,U)&&Y(e,n,o)}H.current=0;const i=ae(pe.current);i.addEventListener("mousemove",we,{passive:!0}),i.addEventListener("mouseup",Oe)})};var n;const i=w({},t,r);return w({},e,{ref:he},i)},getThumbProps:(e={})=>{const t=er(e),r={onMouseOver:(n=t||{},e=>{var t;null==(t=n.onMouseOver)||t.call(n,e);const r=Number(e.currentTarget.getAttribute("data-index"));D(r)}),onMouseLeave:Ce(t||{})};var n;return w({},e,t,r)},marks:J,open:F,range:G,rootRef:he,trackLeap:Ee,trackOffset:je,values:K,getThumbStyle:e=>({pointerEvents:-1!==N&&N!==e?"none":void 0})}}function Pn(e){return void 0!==e.normalize?e.normalize("NFD").replace(/[\u0300-\u036f]/g,""):e}function In(e={}){const t=e.ignoreAccents,r=void 0===t||t,n=e.ignoreCase,o=void 0===n||n,i=e.limit,a=e.matchFrom,l=void 0===a?"any":a,s=e.stringify,u=e.trim,c=void 0!==u&&u;return(e,{inputValue:t,getOptionLabel:n})=>{let a=c?t.trim():t;o&&(a=a.toLowerCase()),r&&(a=Pn(a));const u=a?e.filter((e=>{let t=(s||n)(e);return o&&(t=t.toLowerCase()),r&&(t=Pn(t)),"start"===l?0===t.indexOf(a):t.indexOf(a)>-1})):e;return"number"==typeof i?u.slice(0,i):u}}function Ln(e,t){for(let r=0;r<e.length;r+=1)if(t(e[r]))return r;return-1}const Nn=In(),Rn=e=>{var t;return null!==e.current&&(null==(t=e.current.parentElement)?void 0:t.contains(document.activeElement))};function Mn(e){const t=e.unstable_isActiveElementInListbox,r=void 0===t?Rn:t,n=e.unstable_classNamePrefix,o=void 0===n?"Mui":n,i=e.autoComplete,a=void 0!==i&&i,l=e.autoHighlight,s=void 0!==l&&l,u=e.autoSelect,c=void 0!==u&&u,d=e.blurOnSelect,p=void 0!==d&&d,h=e.clearOnBlur,v=void 0===h?!e.freeSolo:h,m=e.clearOnEscape,y=void 0!==m&&m,b=e.componentName,_=void 0===b?"useAutocomplete":b,x=e.defaultValue,O=void 0===x?e.multiple?[]:null:x,S=e.disableClearable,k=void 0!==S&&S,j=e.disableCloseOnSelect,E=void 0!==j&&j,C=e.disabled,T=e.disabledItemsFocusable,q=void 0!==T&&T,A=e.disableListWrap,P=void 0!==A&&A,I=e.filterOptions,L=void 0===I?Nn:I,N=e.filterSelectedOptions,R=void 0!==N&&N,M=e.freeSolo,F=void 0!==M&&M,D=e.getOptionDisabled,V=e.getOptionKey,z=e.getOptionLabel,B=void 0===z?e=>{var t;return null!=(t=e.label)?t:e}:z,H=e.groupBy,W=e.handleHomeEndKeys,U=void 0===W?!e.freeSolo:W,$=e.id,Y=e.includeInputInList,G=void 0!==Y&&Y,K=e.inputValue,J=e.isOptionEqualToValue,Q=void 0===J?(e,t)=>e===t:J,X=e.multiple,Z=void 0!==X&&X,ee=e.onChange,re=e.onClose,ne=e.onHighlightChange,oe=e.onInputChange,ae=e.onOpen,ue=e.open,ce=e.openOnFocus,de=void 0!==ce&&ce,pe=e.options,fe=e.readOnly,he=void 0!==fe&&fe,ge=e.selectOnFocus,ve=void 0===ge?!e.freeSolo:ge,me=e.value,ye=le($);let be=B;be=e=>{const t=B(e);return"string"!=typeof t?String(t):t};const _e=g.useRef(!1),xe=g.useRef(!0),we=g.useRef(null),Oe=g.useRef(null),Se=f(g.useState(null),2),ke=Se[0],je=Se[1],Ee=f(g.useState(-1),2),Ce=Ee[0],Te=Ee[1],qe=s?0:-1,Ae=g.useRef(qe),Pe=f(te({controlled:me,default:O,name:_}),2),Ie=Pe[0],Le=Pe[1],Ne=f(te({controlled:K,default:"",name:_,state:"inputValue"}),2),Re=Ne[0],Me=Ne[1],Fe=f(g.useState(!1),2),De=Fe[0],Ve=Fe[1],ze=g.useCallback(((e,t)=>{if(!(Z?Ie.length<t.length:null!==t)&&!v)return;let r;if(Z)r="";else if(null==t)r="";else{const e=be(t);r="string"==typeof e?e:""}Re!==r&&(Me(r),oe&&oe(e,r,"reset"))}),[be,Re,Z,oe,Me,v,Ie]),Be=f(te({controlled:ue,default:!1,name:_,state:"open"}),2),He=Be[0],We=Be[1],Ue=f(g.useState(!0),2),$e=Ue[0],Ye=Ue[1],Ge=!Z&&null!=Ie&&Re===be(Ie),Ke=He&&!he,Je=Ke?L(pe.filter((e=>!R||!(Z?Ie:[Ie]).some((t=>null!==t&&Q(e,t))))),{inputValue:Ge&&$e?"":Re,getOptionLabel:be}):[],Qe=(e=>{const t=g.useRef({});return g.useEffect((()=>{t.current=e})),t.current})({filteredOptions:Je,value:Ie,inputValue:Re});g.useEffect((()=>{const e=Ie!==Qe.value;De&&!e||F&&!e||ze(null,Ie)}),[Ie,ze,De,Qe.value,F]);const Xe=He&&Je.length>0&&!he,Ze=ie((e=>{-1===e?we.current.focus():ke.querySelector(`[data-tag-index="${e}"]`).focus()}));g.useEffect((()=>{Z&&Ce>Ie.length-1&&(Te(-1),Ze(-1))}),[Ie,Z,Ce,Ze]);const et=ie((({event:e,index:t,reason:r="auto"})=>{if(Ae.current=t,-1===t?we.current.removeAttribute("aria-activedescendant"):we.current.setAttribute("aria-activedescendant",`${ye}-option-${t}`),ne&&ne(e,-1===t?null:Je[t],r),!Oe.current)return;const n=Oe.current.querySelector(`[role="option"].${o}-focused`);n&&(n.classList.remove(`${o}-focused`),n.classList.remove(`${o}-focusVisible`));let i=Oe.current;if("listbox"!==Oe.current.getAttribute("role")&&(i=Oe.current.parentElement.querySelector('[role="listbox"]')),!i)return;if(-1===t)return void(i.scrollTop=0);const a=Oe.current.querySelector(`[data-option-index="${t}"]`);if(a&&(a.classList.add(`${o}-focused`),"keyboard"===r&&a.classList.add(`${o}-focusVisible`),i.scrollHeight>i.clientHeight&&"mouse"!==r&&"touch"!==r)){const e=a,t=i.clientHeight+i.scrollTop,r=e.offsetTop+e.offsetHeight;r>t?i.scrollTop=r-i.clientHeight:e.offsetTop-e.offsetHeight*(H?1.3:0)<i.scrollTop&&(i.scrollTop=e.offsetTop-e.offsetHeight*(H?1.3:0))}})),tt=ie((({event:e,diff:t,direction:r="next",reason:n="auto"})=>{if(!Ke)return;const o=function(e,t){if(!Oe.current||e<0||e>=Je.length)return-1;let r=e;for(;;){const n=Oe.current.querySelector(`[data-option-index="${r}"]`),o=!q&&(!n||n.disabled||"true"===n.getAttribute("aria-disabled"));if(n&&n.hasAttribute("tabindex")&&!o)return r;if(r="next"===t?(r+1)%Je.length:(r-1+Je.length)%Je.length,r===e)return-1}}((()=>{const e=Je.length-1;if("reset"===t)return qe;if("start"===t)return 0;if("end"===t)return e;const r=Ae.current+t;return r<0?-1===r&&G?-1:P&&-1!==Ae.current||Math.abs(t)>1?0:e:r>e?r===e+1&&G?-1:P||Math.abs(t)>1?e:0:r})(),r);if(et({index:o,reason:n,event:e}),a&&"reset"!==t)if(-1===o)we.current.value=Re;else{const e=be(Je[o]);we.current.value=e;0===e.toLowerCase().indexOf(Re.toLowerCase())&&Re.length>0&&we.current.setSelectionRange(Re.length,e.length)}})),rt=g.useCallback((()=>{if(!Ke)return;if((()=>{if(-1!==Ae.current&&Qe.filteredOptions&&Qe.filteredOptions.length!==Je.length&&Qe.inputValue===Re&&(Z?Ie.length===Qe.value.length&&Qe.value.every(((e,t)=>be(Ie[t])===be(e))):(e=Qe.value,t=Ie,(e?be(e):"")===(t?be(t):"")))){const e=Qe.filteredOptions[Ae.current];if(e&&Je.some((t=>be(t)===be(e))))return!0}var e,t;return!1})())return;const e=Z?Ie[0]:Ie;if(0!==Je.length&&null!=e){if(Oe.current)if(null==e)Ae.current>=Je.length-1?et({index:Je.length-1}):et({index:Ae.current});else{const t=Je[Ae.current];if(Z&&t&&-1!==Ln(Ie,(e=>Q(t,e))))return;const r=Ln(Je,(t=>Q(t,e)));-1===r?tt({diff:"reset"}):et({index:r})}}else tt({diff:"reset"})}),[Je.length,!Z&&Ie,R,tt,et,Ke,Re,Z]),nt=ie((e=>{se(Oe,e),e&&rt()}));g.useEffect((()=>{rt()}),[rt]);const ot=e=>{He||(We(!0),Ye(!0),ae&&ae(e))},it=(e,t)=>{He&&(We(!1),re&&re(e,t))},at=(e,t,r,n)=>{if(Z){if(Ie.length===t.length&&Ie.every(((e,r)=>e===t[r])))return}else if(Ie===t)return;ee&&ee(e,t,r,n),Le(t)},lt=g.useRef(!1),st=(e,t,r="selectOption",n="options")=>{let o=r,i=t;if(Z){i=Array.isArray(Ie)?Ie.slice():[];const e=Ln(i,(e=>Q(t,e)));-1===e?i.push(t):"freeSolo"!==n&&(i.splice(e,1),o="removeOption")}ze(e,i),at(e,i,o,{option:t}),E||e&&(e.ctrlKey||e.metaKey)||it(e,o),(!0===p||"touch"===p&&lt.current||"mouse"===p&&!lt.current)&&we.current.blur()};const ut=(e,t)=>{if(!Z)return;""===Re&&it(e,"toggleInput");let r=Ce;-1===Ce?""===Re&&"previous"===t&&(r=Ie.length-1):(r+="next"===t?1:-1,r<0&&(r=0),r===Ie.length&&(r=-1)),r=function(e,t){if(-1===e)return-1;let r=e;for(;;){if("next"===t&&r===Ie.length||"previous"===t&&-1===r)return-1;const e=ke.querySelector(`[data-tag-index="${r}"]`);if(e&&e.hasAttribute("tabindex")&&!e.disabled&&"true"!==e.getAttribute("aria-disabled"))return r;r+="next"===t?1:-1}}(r,t),Te(r),Ze(r)},ct=e=>{_e.current=!0,Me(""),oe&&oe(e,"","clear"),at(e,Z?[]:null,"clear")},dt=e=>t=>{if(e.onKeyDown&&e.onKeyDown(t),!t.defaultMuiPrevented&&(-1!==Ce&&-1===["ArrowLeft","ArrowRight"].indexOf(t.key)&&(Te(-1),Ze(-1)),229!==t.which))switch(t.key){case"Home":Ke&&U&&(t.preventDefault(),tt({diff:"start",direction:"next",reason:"keyboard",event:t}));break;case"End":Ke&&U&&(t.preventDefault(),tt({diff:"end",direction:"previous",reason:"keyboard",event:t}));break;case"PageUp":t.preventDefault(),tt({diff:-5,direction:"previous",reason:"keyboard",event:t}),ot(t);break;case"PageDown":t.preventDefault(),tt({diff:5,direction:"next",reason:"keyboard",event:t}),ot(t);break;case"ArrowDown":t.preventDefault(),tt({diff:1,direction:"next",reason:"keyboard",event:t}),ot(t);break;case"ArrowUp":t.preventDefault(),tt({diff:-1,direction:"previous",reason:"keyboard",event:t}),ot(t);break;case"ArrowLeft":ut(t,"previous");break;case"ArrowRight":ut(t,"next");break;case"Enter":if(-1!==Ae.current&&Ke){const e=Je[Ae.current],r=!!D&&D(e);if(t.preventDefault(),r)return;st(t,e,"selectOption"),a&&we.current.setSelectionRange(we.current.value.length,we.current.value.length)}else F&&""!==Re&&!1===Ge&&(Z&&t.preventDefault(),st(t,Re,"createOption","freeSolo"));break;case"Escape":Ke?(t.preventDefault(),t.stopPropagation(),it(t,"escape")):y&&(""!==Re||Z&&Ie.length>0)&&(t.preventDefault(),t.stopPropagation(),ct(t));break;case"Backspace":if(Z&&!he&&""===Re&&Ie.length>0){const e=-1===Ce?Ie.length-1:Ce,r=Ie.slice();r.splice(e,1),at(t,r,"removeOption",{option:Ie[e]})}break;case"Delete":if(Z&&!he&&""===Re&&Ie.length>0&&-1!==Ce){const e=Ce,r=Ie.slice();r.splice(e,1),at(t,r,"removeOption",{option:Ie[e]})}}},pt=e=>{Ve(!0),de&&!_e.current&&ot(e)},ft=e=>{r(Oe)?we.current.focus():(Ve(!1),xe.current=!0,_e.current=!1,c&&-1!==Ae.current&&Ke?st(e,Je[Ae.current],"blur"):c&&F&&""!==Re?st(e,Re,"blur","freeSolo"):v&&ze(e,Ie),it(e,"blur"))},ht=e=>{const t=e.target.value;Re!==t&&(Me(t),Ye(!1),oe&&oe(e,t,"input")),""===t?k||Z||at(e,null,"clear"):ot(e)},gt=e=>{const t=Number(e.currentTarget.getAttribute("data-option-index"));Ae.current!==t&&et({event:e,index:t,reason:"mouse"})},vt=e=>{et({event:e,index:Number(e.currentTarget.getAttribute("data-option-index")),reason:"touch"}),lt.current=!0},mt=e=>{const t=Number(e.currentTarget.getAttribute("data-option-index"));st(e,Je[t],"selectOption"),lt.current=!1},yt=e=>t=>{const r=Ie.slice();r.splice(e,1),at(t,r,"removeOption",{option:Ie[e]})},bt=e=>{He?it(e,"toggleInput"):ot(e)},_t=e=>{e.currentTarget.contains(e.target)&&e.target.getAttribute("id")!==ye&&e.preventDefault()},xt=e=>{e.currentTarget.contains(e.target)&&(we.current.focus(),ve&&xe.current&&we.current.selectionEnd-we.current.selectionStart==0&&we.current.select(),xe.current=!1)},wt=e=>{C||""!==Re&&He||bt(e)};let Ot=F&&Re.length>0;Ot=Ot||(Z?Ie.length>0:null!==Ie);let St=Je;return H&&(St=Je.reduce(((e,t,r)=>{const n=H(t);return e.length>0&&e[e.length-1].group===n?e[e.length-1].options.push(t):e.push({key:r,index:r,group:n,options:[t]}),e}),[])),C&&De&&ft(),{getRootProps:(e={})=>w({"aria-owns":Xe?`${ye}-listbox`:null},e,{onKeyDown:dt(e),onMouseDown:_t,onClick:xt}),getInputLabelProps:()=>({id:`${ye}-label`,htmlFor:ye}),getInputProps:()=>({id:ye,value:Re,onBlur:ft,onFocus:pt,onChange:ht,onMouseDown:wt,"aria-activedescendant":Ke?"":null,"aria-autocomplete":a?"both":"list","aria-controls":Xe?`${ye}-listbox`:void 0,"aria-expanded":Xe,autoComplete:"off",ref:we,autoCapitalize:"none",spellCheck:"false",role:"combobox",disabled:C}),getClearProps:()=>({tabIndex:-1,type:"button",onClick:ct}),getPopupIndicatorProps:()=>({tabIndex:-1,type:"button",onClick:bt}),getTagProps:({index:e})=>w({key:e,"data-tag-index":e,tabIndex:-1},!he&&{onDelete:yt(e)}),getListboxProps:()=>({role:"listbox",id:`${ye}-listbox`,"aria-labelledby":`${ye}-label`,ref:nt,onMouseDown:e=>{e.preventDefault()}}),getOptionProps:({index:e,option:t})=>{var r;const n=(Z?Ie:[Ie]).some((e=>null!=e&&Q(t,e))),o=!!D&&D(t);return{key:null!=(r=null==V?void 0:V(t))?r:be(t),tabIndex:-1,role:"option",id:`${ye}-option-${e}`,onMouseMove:gt,onClick:mt,onTouchStart:vt,"data-option-index":e,"aria-disabled":o,"aria-selected":n}},id:ye,inputValue:Re,value:Ie,dirty:Ot,expanded:Ke&&ke,popupOpen:Ke,focused:De||-1!==Ce,anchorEl:ke,setAnchorEl:je,focusedTag:Ce,groupedOptions:St}}function Fn(e){return O("MuiListSubheader",e)}S("MuiListSubheader",["root","colorPrimary","colorInherit","gutters","inset","sticky"]);const Dn=["className","color","component","disableGutters","disableSticky","inset"],Vn=ue("li",{name:"MuiListSubheader",slot:"Root",overridesResolver:(e,t)=>{const r=e.ownerState;return[t.root,"default"!==r.color&&t[`color${k(r.color)}`],!r.disableGutters&&t.gutters,r.inset&&t.inset,!r.disableSticky&&t.sticky]}})((({theme:e,ownerState:t})=>w({boxSizing:"border-box",lineHeight:"48px",listStyle:"none",color:(e.vars||e).palette.text.secondary,fontFamily:e.typography.fontFamily,fontWeight:e.typography.fontWeightMedium,fontSize:e.typography.pxToRem(14)},"primary"===t.color&&{color:(e.vars||e).palette.primary.main},"inherit"===t.color&&{color:"inherit"},!t.disableGutters&&{paddingLeft:16,paddingRight:16},t.inset&&{paddingLeft:72},!t.disableSticky&&{position:"sticky",top:0,zIndex:1,backgroundColor:(e.vars||e).palette.background.paper}))),zn=g.forwardRef((function(e,t){const r=ce({props:e,name:"MuiListSubheader"}),n=r.className,o=r.color,i=void 0===o?"default":o,a=r.component,l=void 0===a?"li":a,s=r.disableGutters,u=void 0!==s&&s,c=r.disableSticky,d=void 0!==c&&c,f=r.inset,h=void 0!==f&&f,g=p(r,Dn),v=w({},r,{color:i,component:l,disableGutters:u,disableSticky:d,inset:h}),m=(e=>{const t=e.classes,r=e.color,n=e.disableGutters,o=e.inset,i=e.disableSticky,a={root:["root","default"!==r&&`color${k(r)}`,!n&&"gutters",o&&"inset",!i&&"sticky"]};return de(a,Fn,t)})(v);return j.jsx(Vn,w({as:l,className:E(m.root,n),ref:t,ownerState:v},g))}));zn.muiSkipListHighlight=!0;const Bn=zn;var Hn,Wn;const Un=["autoComplete","autoHighlight","autoSelect","blurOnSelect","ChipProps","className","clearIcon","clearOnBlur","clearOnEscape","clearText","closeText","componentsProps","defaultValue","disableClearable","disableCloseOnSelect","disabled","disabledItemsFocusable","disableListWrap","disablePortal","filterOptions","filterSelectedOptions","forcePopupIcon","freeSolo","fullWidth","getLimitTagsText","getOptionDisabled","getOptionKey","getOptionLabel","isOptionEqualToValue","groupBy","handleHomeEndKeys","id","includeInputInList","inputValue","limitTags","ListboxComponent","ListboxProps","loading","loadingText","multiple","noOptionsText","onChange","onClose","onHighlightChange","onInputChange","onOpen","open","openOnFocus","openText","options","PaperComponent","PopperComponent","popupIcon","readOnly","renderGroup","renderInput","renderOption","renderTags","selectOnFocus","size","slotProps","value"],$n=["ref"],Yn=ue("div",{name:"MuiAutocomplete",slot:"Root",overridesResolver:(e,t)=>{const r=e.ownerState,n=r.fullWidth,o=r.hasClearIcon,i=r.hasPopupIcon,a=r.inputFocused,l=r.size;return[{[`& .${kt.tag}`]:t.tag},{[`& .${kt.tag}`]:t[`tagSize${k(l)}`]},{[`& .${kt.inputRoot}`]:t.inputRoot},{[`& .${kt.input}`]:t.input},{[`& .${kt.input}`]:a&&t.inputFocused},t.root,n&&t.fullWidth,i&&t.hasPopupIcon,o&&t.hasClearIcon]}})((({ownerState:e})=>w({[`&.${kt.focused} .${kt.clearIndicator}`]:{visibility:"visible"},"@media (pointer: fine)":{[`&:hover .${kt.clearIndicator}`]:{visibility:"visible"}}},e.fullWidth&&{width:"100%"},{[`& .${kt.tag}`]:w({margin:3,maxWidth:"calc(100% - 6px)"},"small"===e.size&&{margin:2,maxWidth:"calc(100% - 4px)"}),[`& .${kt.inputRoot}`]:{flexWrap:"wrap",[`.${kt.hasPopupIcon}&, .${kt.hasClearIcon}&`]:{paddingRight:30},[`.${kt.hasPopupIcon}.${kt.hasClearIcon}&`]:{paddingRight:56},[`& .${kt.input}`]:{width:0,minWidth:30}},[`& .${tr.root}`]:{paddingBottom:1,"& .MuiInput-input":{padding:"4px 4px 4px 0px"}},[`& .${tr.root}.${rr.sizeSmall}`]:{[`& .${tr.input}`]:{padding:"2px 4px 3px 0"}},[`& .${nr.root}`]:{padding:9,[`.${kt.hasPopupIcon}&, .${kt.hasClearIcon}&`]:{paddingRight:39},[`.${kt.hasPopupIcon}.${kt.hasClearIcon}&`]:{paddingRight:65},[`& .${kt.input}`]:{padding:"7.5px 4px 7.5px 5px"},[`& .${kt.endAdornment}`]:{right:9}},[`& .${nr.root}.${rr.sizeSmall}`]:{paddingTop:6,paddingBottom:6,paddingLeft:6,[`& .${kt.input}`]:{padding:"2.5px 4px 2.5px 8px"}},[`& .${or.root}`]:{paddingTop:19,paddingLeft:8,[`.${kt.hasPopupIcon}&, .${kt.hasClearIcon}&`]:{paddingRight:39},[`.${kt.hasPopupIcon}.${kt.hasClearIcon}&`]:{paddingRight:65},[`& .${or.input}`]:{padding:"7px 4px"},[`& .${kt.endAdornment}`]:{right:9}},[`& .${or.root}.${rr.sizeSmall}`]:{paddingBottom:1,[`& .${or.input}`]:{padding:"2.5px 4px"}},[`& .${rr.hiddenLabel}`]:{paddingTop:8},[`& .${or.root}.${rr.hiddenLabel}`]:{paddingTop:0,paddingBottom:0,[`& .${kt.input}`]:{paddingTop:16,paddingBottom:17}},[`& .${or.root}.${rr.hiddenLabel}.${rr.sizeSmall}`]:{[`& .${kt.input}`]:{paddingTop:8,paddingBottom:9}},[`& .${kt.input}`]:w({flexGrow:1,textOverflow:"ellipsis",opacity:0},e.inputFocused&&{opacity:1})}))),Gn=ue("div",{name:"MuiAutocomplete",slot:"EndAdornment",overridesResolver:(e,t)=>t.endAdornment})({position:"absolute",right:0,top:"50%",transform:"translate(0, -50%)"}),Kn=ue(pe,{name:"MuiAutocomplete",slot:"ClearIndicator",overridesResolver:(e,t)=>t.clearIndicator})({marginRight:-2,padding:4,visibility:"hidden"}),Jn=ue(pe,{name:"MuiAutocomplete",slot:"PopupIndicator",overridesResolver:({ownerState:e},t)=>w({},t.popupIndicator,e.popupOpen&&t.popupIndicatorOpen)})((({ownerState:e})=>w({padding:2,marginRight:-2},e.popupOpen&&{transform:"rotate(180deg)"}))),Qn=ue(Ar,{name:"MuiAutocomplete",slot:"Popper",overridesResolver:(e,t)=>{const r=e.ownerState;return[{[`& .${kt.option}`]:t.option},t.popper,r.disablePortal&&t.popperDisablePortal]}})((({theme:e,ownerState:t})=>w({zIndex:(e.vars||e).zIndex.modal},t.disablePortal&&{position:"absolute"}))),Xn=ue(ir,{name:"MuiAutocomplete",slot:"Paper",overridesResolver:(e,t)=>t.paper})((({theme:e})=>w({},e.typography.body1,{overflow:"auto"}))),Zn=ue("div",{name:"MuiAutocomplete",slot:"Loading",overridesResolver:(e,t)=>t.loading})((({theme:e})=>({color:(e.vars||e).palette.text.secondary,padding:"14px 16px"}))),eo=ue("div",{name:"MuiAutocomplete",slot:"NoOptions",overridesResolver:(e,t)=>t.noOptions})((({theme:e})=>({color:(e.vars||e).palette.text.secondary,padding:"14px 16px"}))),to=ue("div",{name:"MuiAutocomplete",slot:"Listbox",overridesResolver:(e,t)=>t.listbox})((({theme:e})=>({listStyle:"none",margin:0,padding:"8px 0",maxHeight:"40vh",overflow:"auto",position:"relative",[`& .${kt.option}`]:{minHeight:48,display:"flex",overflow:"hidden",justifyContent:"flex-start",alignItems:"center",cursor:"pointer",paddingTop:6,boxSizing:"border-box",outline:"0",WebkitTapHighlightColor:"transparent",paddingBottom:6,paddingLeft:16,paddingRight:16,[e.breakpoints.up("sm")]:{minHeight:"auto"},[`&.${kt.focused}`]:{backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},'&[aria-disabled="true"]':{opacity:(e.vars||e).palette.action.disabledOpacity,pointerEvents:"none"},[`&.${kt.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},'&[aria-selected="true"]':{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:C(e.palette.primary.main,e.palette.action.selectedOpacity),[`&.${kt.focused}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:C(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:(e.vars||e).palette.action.selected}},[`&.${kt.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:C(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}}}}))),ro=ue(Bn,{name:"MuiAutocomplete",slot:"GroupLabel",overridesResolver:(e,t)=>t.groupLabel})((({theme:e})=>({backgroundColor:(e.vars||e).palette.background.paper,top:-8}))),no=ue("ul",{name:"MuiAutocomplete",slot:"GroupUl",overridesResolver:(e,t)=>t.groupUl})({padding:0,[`& .${kt.option}`]:{paddingLeft:24}}),oo=g.forwardRef((function(e,t){var r,n,o,i;const a=ce({props:e,name:"MuiAutocomplete"}),l=(a.autoComplete,a.autoHighlight,a.autoSelect,a.blurOnSelect,a.ChipProps),s=a.className,u=a.clearIcon,c=void 0===u?Hn||(Hn=j.jsx(jt,{fontSize:"small"})):u,d=a.clearOnBlur,f=(void 0===d&&a.freeSolo,a.clearOnEscape,a.clearText),h=void 0===f?"Clear":f,v=a.closeText,m=void 0===v?"Close":v,y=a.componentsProps,b=void 0===y?{}:y,_=a.defaultValue,x=(void 0===_&&a.multiple,a.disableClearable),O=void 0!==x&&x,S=(a.disableCloseOnSelect,a.disabled),C=void 0!==S&&S,T=(a.disabledItemsFocusable,a.disableListWrap,a.disablePortal),q=void 0!==T&&T,A=(a.filterSelectedOptions,a.forcePopupIcon),P=void 0===A?"auto":A,I=a.freeSolo,L=void 0!==I&&I,N=a.fullWidth,R=void 0!==N&&N,M=a.getLimitTagsText,F=void 0===M?e=>`+${e}`:M,D=a.getOptionLabel,V=a.groupBy,z=a.handleHomeEndKeys,B=(void 0===z&&a.freeSolo,a.includeInputInList,a.limitTags),H=void 0===B?-1:B,W=a.ListboxComponent,U=void 0===W?"ul":W,$=a.ListboxProps,Y=a.loading,G=void 0!==Y&&Y,K=a.loadingText,J=void 0===K?"Loading…":K,Q=a.multiple,X=void 0!==Q&&Q,Z=a.noOptionsText,ee=void 0===Z?"No options":Z,te=(a.openOnFocus,a.openText),re=void 0===te?"Open":te,oe=a.PaperComponent,ie=void 0===oe?ir:oe,ae=a.PopperComponent,le=void 0===ae?Ar:ae,se=a.popupIcon,ue=void 0===se?Wn||(Wn=j.jsx(ar,{})):se,pe=a.readOnly,fe=void 0!==pe&&pe,he=a.renderGroup,ge=a.renderInput,ve=a.renderOption,me=a.renderTags,ye=a.selectOnFocus,be=(void 0===ye&&a.freeSolo,a.size),_e=void 0===be?"medium":be,xe=a.slotProps,we=void 0===xe?{}:xe,Oe=p(a,Un),Se=Mn(w({},a,{componentName:"Autocomplete"})),ke=Se.getRootProps,je=Se.getInputProps,Ee=Se.getInputLabelProps,Ce=Se.getPopupIndicatorProps,Te=Se.getClearProps,qe=Se.getTagProps,Ae=Se.getListboxProps,Pe=Se.getOptionProps,Ie=Se.value,Le=Se.dirty,Ne=Se.expanded,Re=Se.id,Me=Se.popupOpen,Fe=Se.focused,De=Se.focusedTag,Ve=Se.anchorEl,ze=Se.setAnchorEl,Be=Se.inputValue,He=Se.groupedOptions,We=!O&&!C&&Le&&!fe,Ue=(!L||!0===P)&&!1!==P,$e=je().onMouseDown,Ye=(null!=$?$:{}).ref,Ge=Ae(),Ke=Ge.ref,Je=p(Ge,$n),Qe=ne(Ke,Ye),Xe=D||(e=>{var t;return null!=(t=e.label)?t:e}),Ze=w({},a,{disablePortal:q,expanded:Ne,focused:Fe,fullWidth:R,getOptionLabel:Xe,hasClearIcon:We,hasPopupIcon:Ue,inputFocused:-1===De,popupOpen:Me,size:_e}),et=(e=>{const t=e.classes,r=e.disablePortal,n=e.expanded,o=e.focused,i=e.fullWidth,a=e.hasClearIcon,l=e.hasPopupIcon,s=e.inputFocused,u=e.popupOpen,c=e.size,d={root:["root",n&&"expanded",o&&"focused",i&&"fullWidth",a&&"hasClearIcon",l&&"hasPopupIcon"],inputRoot:["inputRoot"],input:["input",s&&"inputFocused"],tag:["tag",`tagSize${k(c)}`],endAdornment:["endAdornment"],clearIndicator:["clearIndicator"],popupIndicator:["popupIndicator",u&&"popupIndicatorOpen"],popper:["popper",r&&"popperDisablePortal"],paper:["paper"],listbox:["listbox"],loading:["loading"],noOptions:["noOptions"],option:["option"],groupLabel:["groupLabel"],groupUl:["groupUl"]};return de(d,Ct,t)})(Ze);let tt;if(X&&Ie.length>0){const e=e=>w({className:et.tag,disabled:C},qe(e));tt=me?me(Ie,e,Ze):Ie.map(((t,r)=>j.jsx(Et,w({label:Xe(t),size:_e},e({index:r}),l))))}if(H>-1&&Array.isArray(tt)){const e=tt.length-H;!Fe&&e>0&&(tt=tt.splice(0,H),tt.push(j.jsx("span",{className:et.tag,children:F(e)},tt.length)))}const rt=he||(e=>j.jsxs("li",{children:[j.jsx(ro,{className:et.groupLabel,ownerState:Ze,component:"div",children:e.group}),j.jsx(no,{className:et.groupUl,ownerState:Ze,children:e.children})]},e.key)),nt=ve||((e,t)=>g.createElement("li",w({},e,{key:e.key}),Xe(t))),ot=(e,t)=>{const r=Pe({option:e,index:t});return nt(w({},r,{className:et.option}),e,{selected:r["aria-selected"],index:t,inputValue:Be},Ze)},it=null!=(r=we.clearIndicator)?r:b.clearIndicator,at=null!=(n=we.paper)?n:b.paper,lt=null!=(o=we.popper)?o:b.popper,st=null!=(i=we.popupIndicator)?i:b.popupIndicator;return j.jsxs(g.Fragment,{children:[j.jsx(Yn,w({ref:t,className:E(et.root,s),ownerState:Ze},ke(Oe),{children:ge({id:Re,disabled:C,fullWidth:!0,size:"small"===_e?"small":void 0,InputLabelProps:Ee(),InputProps:w({ref:ze,className:et.inputRoot,startAdornment:tt,onClick:e=>{e.target===e.currentTarget&&$e(e)}},(We||Ue)&&{endAdornment:j.jsxs(Gn,{className:et.endAdornment,ownerState:Ze,children:[We?j.jsx(Kn,w({},Te(),{"aria-label":h,title:h,ownerState:Ze},it,{className:E(et.clearIndicator,null==it?void 0:it.className),children:c})):null,Ue?j.jsx(Jn,w({},Ce(),{disabled:C,"aria-label":Me?m:re,title:Me?m:re,ownerState:Ze},st,{className:E(et.popupIndicator,null==st?void 0:st.className),children:ue})):null]})}),inputProps:w({className:et.input,disabled:C,readOnly:fe},je())})})),Ve?j.jsx(Qn,w({as:le,disablePortal:q,style:{width:Ve?Ve.clientWidth:null},ownerState:Ze,role:"presentation",anchorEl:Ve,open:Me},lt,{className:E(et.popper,null==lt?void 0:lt.className),children:j.jsxs(Xn,w({ownerState:Ze,as:ie},at,{className:E(et.paper,null==at?void 0:at.className),children:[G&&0===He.length?j.jsx(Zn,{className:et.loading,ownerState:Ze,children:J}):null,0!==He.length||L||G?null:j.jsx(eo,{className:et.noOptions,ownerState:Ze,role:"presentation",onMouseDown:e=>{e.preventDefault()},children:ee}),He.length>0?j.jsx(to,w({as:U,className:et.listbox,ownerState:Ze},Je,$,{ref:Qe,children:He.map(((e,t)=>V?rt({key:e.key,group:e.group,children:e.options.map(((t,r)=>ot(t,e.index+r)))}):ot(e,t)))})):null]}))})):null]})})),io=oo,ao=["children","className","color","component","disabled","disableElevation","disableFocusRipple","disableRipple","fullWidth","orientation","size","variant"],lo=ue("div",{name:"MuiButtonGroup",slot:"Root",overridesResolver:(e,t)=>{const r=e.ownerState;return[{[`& .${Tt.grouped}`]:t.grouped},{[`& .${Tt.grouped}`]:t[`grouped${k(r.orientation)}`]},{[`& .${Tt.grouped}`]:t[`grouped${k(r.variant)}`]},{[`& .${Tt.grouped}`]:t[`grouped${k(r.variant)}${k(r.orientation)}`]},{[`& .${Tt.grouped}`]:t[`grouped${k(r.variant)}${k(r.color)}`]},{[`& .${Tt.firstButton}`]:t.firstButton},{[`& .${Tt.lastButton}`]:t.lastButton},{[`& .${Tt.middleButton}`]:t.middleButton},t.root,t[r.variant],!0===r.disableElevation&&t.disableElevation,r.fullWidth&&t.fullWidth,"vertical"===r.orientation&&t.vertical]}})((({theme:e,ownerState:t})=>w({display:"inline-flex",borderRadius:(e.vars||e).shape.borderRadius},"contained"===t.variant&&{boxShadow:(e.vars||e).shadows[2]},t.disableElevation&&{boxShadow:"none"},t.fullWidth&&{width:"100%"},"vertical"===t.orientation&&{flexDirection:"column"},{[`& .${Tt.grouped}`]:w({minWidth:40,"&:hover":w({},"contained"===t.variant&&{boxShadow:"none"})},"contained"===t.variant&&{boxShadow:"none"}),[`& .${Tt.firstButton},& .${Tt.middleButton}`]:w({},"horizontal"===t.orientation&&{borderTopRightRadius:0,borderBottomRightRadius:0},"vertical"===t.orientation&&{borderBottomRightRadius:0,borderBottomLeftRadius:0},"text"===t.variant&&"horizontal"===t.orientation&&{borderRight:e.vars?`1px solid rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:"1px solid "+("light"===e.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"),[`&.${Tt.disabled}`]:{borderRight:`1px solid ${(e.vars||e).palette.action.disabled}`}},"text"===t.variant&&"vertical"===t.orientation&&{borderBottom:e.vars?`1px solid rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:"1px solid "+("light"===e.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"),[`&.${Tt.disabled}`]:{borderBottom:`1px solid ${(e.vars||e).palette.action.disabled}`}},"text"===t.variant&&"inherit"!==t.color&&{borderColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / 0.5)`:C(e.palette[t.color].main,.5)},"outlined"===t.variant&&"horizontal"===t.orientation&&{borderRightColor:"transparent"},"outlined"===t.variant&&"vertical"===t.orientation&&{borderBottomColor:"transparent"},"contained"===t.variant&&"horizontal"===t.orientation&&{borderRight:`1px solid ${(e.vars||e).palette.grey[400]}`,[`&.${Tt.disabled}`]:{borderRight:`1px solid ${(e.vars||e).palette.action.disabled}`}},"contained"===t.variant&&"vertical"===t.orientation&&{borderBottom:`1px solid ${(e.vars||e).palette.grey[400]}`,[`&.${Tt.disabled}`]:{borderBottom:`1px solid ${(e.vars||e).palette.action.disabled}`}},"contained"===t.variant&&"inherit"!==t.color&&{borderColor:(e.vars||e).palette[t.color].dark},{"&:hover":w({},"outlined"===t.variant&&"horizontal"===t.orientation&&{borderRightColor:"currentColor"},"outlined"===t.variant&&"vertical"===t.orientation&&{borderBottomColor:"currentColor"})}),[`& .${Tt.lastButton},& .${Tt.middleButton}`]:w({},"horizontal"===t.orientation&&{borderTopLeftRadius:0,borderBottomLeftRadius:0},"vertical"===t.orientation&&{borderTopRightRadius:0,borderTopLeftRadius:0},"outlined"===t.variant&&"horizontal"===t.orientation&&{marginLeft:-1},"outlined"===t.variant&&"vertical"===t.orientation&&{marginTop:-1})}))),so=g.forwardRef((function(e,t){const r=ce({props:e,name:"MuiButtonGroup"}),n=r.children,o=r.className,i=r.color,a=void 0===i?"primary":i,l=r.component,s=void 0===l?"div":l,u=r.disabled,c=void 0!==u&&u,d=r.disableElevation,f=void 0!==d&&d,h=r.disableFocusRipple,v=void 0!==h&&h,m=r.disableRipple,y=void 0!==m&&m,b=r.fullWidth,_=void 0!==b&&b,x=r.orientation,O=void 0===x?"horizontal":x,S=r.size,C=void 0===S?"medium":S,T=r.variant,q=void 0===T?"outlined":T,A=p(r,ao),P=w({},r,{color:a,component:s,disabled:c,disableElevation:f,disableFocusRipple:v,disableRipple:y,fullWidth:_,orientation:O,size:C,variant:q}),I=(e=>{const t=e.classes,r=e.color,n=e.disabled,o=e.disableElevation,i=e.fullWidth,a=e.orientation,l=e.variant,s={root:["root",l,"vertical"===a&&"vertical",i&&"fullWidth",o&&"disableElevation"],grouped:["grouped",`grouped${k(a)}`,`grouped${k(l)}`,`grouped${k(l)}${k(a)}`,`grouped${k(l)}${k(r)}`,n&&"disabled"],firstButton:["firstButton"],lastButton:["lastButton"],middleButton:["middleButton"]};return de(s,qt,t)})(P),L=g.useMemo((()=>({className:I.grouped,color:a,disabled:c,disableElevation:f,disableFocusRipple:v,disableRipple:y,fullWidth:_,size:C,variant:q})),[a,c,f,v,y,_,C,q,I.grouped]),N=function(e){return g.Children.toArray(e).filter((e=>g.isValidElement(e)))}(n),R=N.length,M=e=>{const t=0===e,r=e===R-1;return t&&r?"":t?I.firstButton:r?I.lastButton:I.middleButton};return j.jsx(lo,w({as:s,role:"group",className:E(I.root,o),ref:t,ownerState:P},A,{children:j.jsx(fe.Provider,{value:L,children:N.map(((e,t)=>j.jsx(he.Provider,{value:M(t),children:e},t)))})}))})),uo=so;function co(e){return O("MuiDialogContentText",e)}S("MuiDialogContentText",["root"]);const po=["children","className"],fo=ue(ge,{shouldForwardProp:e=>ve(e)||"classes"===e,name:"MuiDialogContentText",slot:"Root",overridesResolver:(e,t)=>t.root})({}),ho=g.forwardRef((function(e,t){const r=ce({props:e,name:"MuiDialogContentText"}),n=r.className,o=p(r,po),i=(e=>{const t=e.classes,r=de({root:["root"]},co,t);return w({},t,r)})(o);return j.jsx(fo,w({component:"p",variant:"body1",color:"text.secondary",ref:t,ownerState:o,className:E(i.root,n)},r,{classes:i}))})),go=["className"],vo=ue("div",{name:"MuiListItemIcon",slot:"Root",overridesResolver:(e,t)=>{const r=e.ownerState;return[t.root,"flex-start"===r.alignItems&&t.alignItemsFlexStart]}})((({theme:e,ownerState:t})=>w({minWidth:56,color:(e.vars||e).palette.action.active,flexShrink:0,display:"inline-flex"},"flex-start"===t.alignItems&&{marginTop:8}))),mo=g.forwardRef((function(e,t){const r=ce({props:e,name:"MuiListItemIcon"}),n=r.className,o=p(r,go),i=g.useContext(lr),a=w({},r,{alignItems:i.alignItems}),l=(e=>{const t=e.alignItems,r=e.classes;return de({root:["root","flex-start"===t&&"alignItemsFlexStart"]},At,r)})(a);return j.jsx(vo,w({className:E(l.root,n),ownerState:a,ref:t},o))})),yo=mo,bo=["children","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"],_o=ue("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(e,t)=>{const r=e.ownerState;return[{[`& .${Pt.primary}`]:t.primary},{[`& .${Pt.secondary}`]:t.secondary},t.root,r.inset&&t.inset,r.primary&&r.secondary&&t.multiline,r.dense&&t.dense]}})((({ownerState:e})=>w({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},e.primary&&e.secondary&&{marginTop:6,marginBottom:6},e.inset&&{paddingLeft:56}))),xo=g.forwardRef((function(e,t){const r=ce({props:e,name:"MuiListItemText"}),n=r.children,o=r.className,i=r.disableTypography,a=void 0!==i&&i,l=r.inset,s=void 0!==l&&l,u=r.primary,c=r.primaryTypographyProps,d=r.secondary,f=r.secondaryTypographyProps,h=p(r,bo),v=g.useContext(lr).dense;let m=null!=u?u:n,y=d;const b=w({},r,{disableTypography:a,inset:s,primary:!!m,secondary:!!y,dense:v}),_=(e=>{const t=e.classes,r=e.inset,n=e.primary,o=e.secondary,i=e.dense;return de({root:["root",r&&"inset",i&&"dense",n&&o&&"multiline"],primary:["primary"],secondary:["secondary"]},It,t)})(b);return null==m||m.type===ge||a||(m=j.jsx(ge,w({variant:v?"body2":"body1",className:_.primary,component:null!=c&&c.variant?void 0:"span",display:"block"},c,{children:m}))),null==y||y.type===ge||a||(y=j.jsx(ge,w({variant:"body2",className:_.secondary,color:"text.secondary",display:"block"},f,{children:y}))),j.jsxs(_o,w({className:E(_.root,o),ownerState:b,ref:t},h,{children:[m,y]}))}));const wo=["aria-label","aria-valuetext","aria-labelledby","component","components","componentsProps","color","classes","className","disableSwap","disabled","getAriaLabel","getAriaValueText","marks","max","min","name","onChange","onChangeCommitted","orientation","shiftStep","size","step","scale","slotProps","slots","tabIndex","track","value","valueLabelDisplay","valueLabelFormat"];function Oo(e){return e}const So=ue("span",{name:"MuiSlider",slot:"Root",overridesResolver:(e,t)=>{const r=e.ownerState;return[t.root,t[`color${k(r.color)}`],"medium"!==r.size&&t[`size${k(r.size)}`],r.marked&&t.marked,"vertical"===r.orientation&&t.vertical,"inverted"===r.track&&t.trackInverted,!1===r.track&&t.trackFalse]}})((({theme:e,ownerState:t})=>w({borderRadius:12,boxSizing:"content-box",display:"inline-block",position:"relative",cursor:"pointer",touchAction:"none",color:(e.vars||e).palette[t.color].main,WebkitTapHighlightColor:"transparent"},"horizontal"===t.orientation&&w({height:4,width:"100%",padding:"13px 0","@media (pointer: coarse)":{padding:"20px 0"}},"small"===t.size&&{height:2},t.marked&&{marginBottom:20}),"vertical"===t.orientation&&w({height:"100%",width:4,padding:"0 13px","@media (pointer: coarse)":{padding:"0 20px"}},"small"===t.size&&{width:2},t.marked&&{marginRight:44}),{"@media print":{colorAdjust:"exact"},[`&.${Lt.disabled}`]:{pointerEvents:"none",cursor:"default",color:(e.vars||e).palette.grey[400]},[`&.${Lt.dragging}`]:{[`& .${Lt.thumb}, & .${Lt.track}`]:{transition:"none"}}}))),ko=ue("span",{name:"MuiSlider",slot:"Rail",overridesResolver:(e,t)=>t.rail})((({ownerState:e})=>w({display:"block",position:"absolute",borderRadius:"inherit",backgroundColor:"currentColor",opacity:.38},"horizontal"===e.orientation&&{width:"100%",height:"inherit",top:"50%",transform:"translateY(-50%)"},"vertical"===e.orientation&&{height:"100%",width:"inherit",left:"50%",transform:"translateX(-50%)"},"inverted"===e.track&&{opacity:1}))),jo=ue("span",{name:"MuiSlider",slot:"Track",overridesResolver:(e,t)=>t.track})((({theme:e,ownerState:t})=>{const r="light"===e.palette.mode?T(e.palette[t.color].main,.62):q(e.palette[t.color].main,.5);return w({display:"block",position:"absolute",borderRadius:"inherit",border:"1px solid currentColor",backgroundColor:"currentColor",transition:e.transitions.create(["left","width","bottom","height"],{duration:e.transitions.duration.shortest})},"small"===t.size&&{border:"none"},"horizontal"===t.orientation&&{height:"inherit",top:"50%",transform:"translateY(-50%)"},"vertical"===t.orientation&&{width:"inherit",left:"50%",transform:"translateX(-50%)"},!1===t.track&&{display:"none"},"inverted"===t.track&&{backgroundColor:e.vars?e.vars.palette.Slider[`${t.color}Track`]:r,borderColor:e.vars?e.vars.palette.Slider[`${t.color}Track`]:r})})),Eo=ue("span",{name:"MuiSlider",slot:"Thumb",overridesResolver:(e,t)=>{const r=e.ownerState;return[t.thumb,t[`thumbColor${k(r.color)}`],"medium"!==r.size&&t[`thumbSize${k(r.size)}`]]}})((({theme:e,ownerState:t})=>w({position:"absolute",width:20,height:20,boxSizing:"border-box",borderRadius:"50%",outline:0,backgroundColor:"currentColor",display:"flex",alignItems:"center",justifyContent:"center",transition:e.transitions.create(["box-shadow","left","bottom"],{duration:e.transitions.duration.shortest})},"small"===t.size&&{width:12,height:12},"horizontal"===t.orientation&&{top:"50%",transform:"translate(-50%, -50%)"},"vertical"===t.orientation&&{left:"50%",transform:"translate(-50%, 50%)"},{"&::before":w({position:"absolute",content:'""',borderRadius:"inherit",width:"100%",height:"100%",boxShadow:(e.vars||e).shadows[2]},"small"===t.size&&{boxShadow:"none"}),"&::after":{position:"absolute",content:'""',borderRadius:"50%",width:42,height:42,top:"50%",left:"50%",transform:"translate(-50%, -50%)"},[`&:hover, &.${Lt.focusVisible}`]:{boxShadow:`0px 0px 0px 8px ${e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / 0.16)`:C(e.palette[t.color].main,.16)}`,"@media (hover: none)":{boxShadow:"none"}},[`&.${Lt.active}`]:{boxShadow:`0px 0px 0px 14px ${e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / 0.16)`:C(e.palette[t.color].main,.16)}`},[`&.${Lt.disabled}`]:{"&:hover":{boxShadow:"none"}}}))),Co=ue((function(e){const t=e.children,r=e.className,n=e.value,o=(e=>{const t=e.open;return{offset:E(t&&Lt.valueLabelOpen),circle:Lt.valueLabelCircle,label:Lt.valueLabelLabel}})(e);return t?g.cloneElement(t,{className:E(t.props.className)},j.jsxs(g.Fragment,{children:[t.props.children,j.jsx("span",{className:E(o.offset,r),"aria-hidden":!0,children:j.jsx("span",{className:o.circle,children:j.jsx("span",{className:o.label,children:n})})})]})):null}),{name:"MuiSlider",slot:"ValueLabel",overridesResolver:(e,t)=>t.valueLabel})((({theme:e,ownerState:t})=>w({[`&.${Lt.valueLabelOpen}`]:{transform:("vertical"===t.orientation?"translateY(-50%)":"translateY(-100%)")+" scale(1)"},zIndex:1,whiteSpace:"nowrap"},e.typography.body2,{fontWeight:500,transition:e.transitions.create(["transform"],{duration:e.transitions.duration.shortest}),transform:("vertical"===t.orientation?"translateY(-50%)":"translateY(-100%)")+" scale(0)",position:"absolute",backgroundColor:(e.vars||e).palette.grey[600],borderRadius:2,color:(e.vars||e).palette.common.white,display:"flex",alignItems:"center",justifyContent:"center",padding:"0.25rem 0.75rem"},"horizontal"===t.orientation&&{top:"-10px",transformOrigin:"bottom center","&::before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, 50%) rotate(45deg)",backgroundColor:"inherit",bottom:0,left:"50%"}},"vertical"===t.orientation&&{right:"small"===t.size?"20px":"30px",top:"50%",transformOrigin:"right center","&::before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, -50%) rotate(45deg)",backgroundColor:"inherit",right:-8,top:"50%"}},"small"===t.size&&{fontSize:e.typography.pxToRem(12),padding:"0.25rem 0.5rem"}))),To=ue("span",{name:"MuiSlider",slot:"Mark",shouldForwardProp:e=>me(e)&&"markActive"!==e,overridesResolver:(e,t)=>{const r=e.markActive;return[t.mark,r&&t.markActive]}})((({theme:e,ownerState:t,markActive:r})=>w({position:"absolute",width:2,height:2,borderRadius:1,backgroundColor:"currentColor"},"horizontal"===t.orientation&&{top:"50%",transform:"translate(-1px, -50%)"},"vertical"===t.orientation&&{left:"50%",transform:"translate(-50%, 1px)"},r&&{backgroundColor:(e.vars||e).palette.background.paper,opacity:.8}))),qo=ue("span",{name:"MuiSlider",slot:"MarkLabel",shouldForwardProp:e=>me(e)&&"markLabelActive"!==e,overridesResolver:(e,t)=>t.markLabel})((({theme:e,ownerState:t,markLabelActive:r})=>w({},e.typography.body2,{color:(e.vars||e).palette.text.secondary,position:"absolute",whiteSpace:"nowrap"},"horizontal"===t.orientation&&{top:30,transform:"translateX(-50%)","@media (pointer: coarse)":{top:40}},"vertical"===t.orientation&&{left:36,transform:"translateY(50%)","@media (pointer: coarse)":{left:44}},r&&{color:(e.vars||e).palette.text.primary}))),Ao=({children:e})=>e,Po=g.forwardRef((function(e,t){var r,n,o,i,a,l,s,u,c,d,f,h,v,m,y,b,_,x,O,S,C,T,q,A;const P=ce({props:e,name:"MuiSlider"}),I="rtl"===ye().direction,L=P["aria-label"],N=P["aria-valuetext"],R=P["aria-labelledby"],M=P.component,F=void 0===M?"span":M,D=P.components,V=void 0===D?{}:D,z=P.componentsProps,B=void 0===z?{}:z,H=P.color,W=void 0===H?"primary":H,U=P.classes,$=P.className,Y=P.disableSwap,G=void 0!==Y&&Y,K=P.disabled,J=void 0!==K&&K,Q=P.getAriaLabel,X=P.getAriaValueText,Z=P.marks,ee=void 0!==Z&&Z,te=P.max,re=void 0===te?100:te,ne=P.min,oe=void 0===ne?0:ne,ie=P.orientation,ae=void 0===ie?"horizontal":ie,le=P.shiftStep,se=void 0===le?10:le,ue=P.size,pe=void 0===ue?"medium":ue,fe=P.step,he=void 0===fe?1:fe,ge=P.scale,ve=void 0===ge?Oo:ge,me=P.slotProps,be=P.slots,_e=P.track,xe=void 0===_e?"normal":_e,we=P.valueLabelDisplay,Oe=void 0===we?"off":we,Se=P.valueLabelFormat,ke=void 0===Se?Oo:Se,je=p(P,wo),Ee=w({},P,{isRtl:I,max:re,min:oe,classes:U,disabled:J,disableSwap:G,orientation:ae,marks:ee,color:W,size:pe,step:he,shiftStep:se,scale:ve,track:xe,valueLabelDisplay:Oe,valueLabelFormat:ke}),Ce=An(w({},Ee,{rootRef:t})),Te=Ce.axisProps,qe=Ce.getRootProps,Ae=Ce.getHiddenInputProps,Pe=Ce.getThumbProps,Ie=Ce.open,Le=Ce.active,Ne=Ce.axis,Re=Ce.focusedThumbIndex,Me=Ce.range,Fe=Ce.dragging,De=Ce.marks,Ve=Ce.values,ze=Ce.trackOffset,Be=Ce.trackLeap,He=Ce.getThumbStyle;Ee.marked=De.length>0&&De.some((e=>e.label)),Ee.dragging=Fe,Ee.focusedThumbIndex=Re;const We=(e=>{const t=e.disabled,r=e.dragging,n=e.marked,o=e.orientation,i=e.track,a=e.classes,l=e.color,s=e.size,u={root:["root",t&&"disabled",r&&"dragging",n&&"marked","vertical"===o&&"vertical","inverted"===i&&"trackInverted",!1===i&&"trackFalse",l&&`color${k(l)}`,s&&`size${k(s)}`],rail:["rail"],track:["track"],mark:["mark"],markActive:["markActive"],markLabel:["markLabel"],markLabelActive:["markLabelActive"],valueLabel:["valueLabel"],thumb:["thumb",t&&"disabled",s&&`thumbSize${k(s)}`,l&&`thumbColor${k(l)}`],active:["active"],disabled:["disabled"],focusVisible:["focusVisible"]};return de(u,Nt,a)})(Ee),Ue=null!=(r=null!=(n=null==be?void 0:be.root)?n:V.Root)?r:So,$e=null!=(o=null!=(i=null==be?void 0:be.rail)?i:V.Rail)?o:ko,Ye=null!=(a=null!=(l=null==be?void 0:be.track)?l:V.Track)?a:jo,Ge=null!=(s=null!=(u=null==be?void 0:be.thumb)?u:V.Thumb)?s:Eo,Ke=null!=(c=null!=(d=null==be?void 0:be.valueLabel)?d:V.ValueLabel)?c:Co,Je=null!=(f=null!=(h=null==be?void 0:be.mark)?h:V.Mark)?f:To,Qe=null!=(v=null!=(m=null==be?void 0:be.markLabel)?m:V.MarkLabel)?v:qo,Xe=null!=(y=null!=(b=null==be?void 0:be.input)?b:V.Input)?y:"input",Ze=null!=(_=null==me?void 0:me.root)?_:B.root,et=null!=(x=null==me?void 0:me.rail)?x:B.rail,tt=null!=(O=null==me?void 0:me.track)?O:B.track,rt=null!=(S=null==me?void 0:me.thumb)?S:B.thumb,nt=null!=(C=null==me?void 0:me.valueLabel)?C:B.valueLabel,ot=null!=(T=null==me?void 0:me.mark)?T:B.mark,it=null!=(q=null==me?void 0:me.markLabel)?q:B.markLabel,at=null!=(A=null==me?void 0:me.input)?A:B.input,lt=ur({elementType:Ue,getSlotProps:qe,externalSlotProps:Ze,externalForwardedProps:je,additionalProps:w({},(st=Ue,(!st||!sr(st))&&{as:F})),ownerState:w({},Ee,null==Ze?void 0:Ze.ownerState),className:[We.root,$]});var st;const ut=ur({elementType:$e,externalSlotProps:et,ownerState:Ee,className:We.rail}),ct=ur({elementType:Ye,externalSlotProps:tt,additionalProps:{style:w({},Te[Ne].offset(ze),Te[Ne].leap(Be))},ownerState:w({},Ee,null==tt?void 0:tt.ownerState),className:We.track}),dt=ur({elementType:Ge,getSlotProps:Pe,externalSlotProps:rt,ownerState:w({},Ee,null==rt?void 0:rt.ownerState),className:We.thumb}),pt=ur({elementType:Ke,externalSlotProps:nt,ownerState:w({},Ee,null==nt?void 0:nt.ownerState),className:We.valueLabel}),ft=ur({elementType:Je,externalSlotProps:ot,ownerState:Ee,className:We.mark}),ht=ur({elementType:Qe,externalSlotProps:it,ownerState:Ee,className:We.markLabel}),gt=ur({elementType:Xe,getSlotProps:Ae,externalSlotProps:at,ownerState:Ee});return j.jsxs(Ue,w({},lt,{children:[j.jsx($e,w({},ut)),j.jsx(Ye,w({},ct)),De.filter((e=>e.value>=oe&&e.value<=re)).map(((e,t)=>{const r=wn(e.value,oe,re),n=Te[Ne].offset(r);let o;return o=!1===xe?-1!==Ve.indexOf(e.value):"normal"===xe&&(Me?e.value>=Ve[0]&&e.value<=Ve[Ve.length-1]:e.value<=Ve[0])||"inverted"===xe&&(Me?e.value<=Ve[0]||e.value>=Ve[Ve.length-1]:e.value>=Ve[0]),j.jsxs(g.Fragment,{children:[j.jsx(Je,w({"data-index":t},ft,!sr(Je)&&{markActive:o},{style:w({},n,ft.style),className:E(ft.className,o&&We.markActive)})),null!=e.label?j.jsx(Qe,w({"aria-hidden":!0,"data-index":t},ht,!sr(Qe)&&{markLabelActive:o},{style:w({},n,ht.style),className:E(We.markLabel,ht.className,o&&We.markLabelActive),children:e.label})):null]},t)})),Ve.map(((e,t)=>{const r=wn(e,oe,re),n=Te[Ne].offset(r),o="off"===Oe?Ao:Ke;return j.jsx(o,w({},!sr(o)&&{valueLabelFormat:ke,valueLabelDisplay:Oe,value:"function"==typeof ke?ke(ve(e),t):ke,index:t,open:Ie===t||Le===t||"on"===Oe,disabled:J},pt,{children:j.jsx(Ge,w({"data-index":t},dt,{className:E(We.thumb,dt.className,Le===t&&We.active,Re===t&&We.focusVisible),style:w({},n,He(t),dt.style),children:j.jsx(Xe,w({"data-index":t,"aria-label":Q?Q(t):L,"aria-valuenow":ve(e),"aria-labelledby":R,"aria-valuetext":X?X(ve(e),t):N,value:Ve[t]},gt))}))}),t)}))]}))})),Io=Po;const Lo=xe(j.jsx("path",{d:"m14.06 9.02.92.92L5.92 19H5v-.92l9.06-9.06M17.66 3c-.25 0-.51.1-.7.29l-1.83 1.83 3.75 3.75 1.83-1.83c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.2-.2-.45-.29-.71-.29zm-3.6 3.19L3 17.25V21h3.75L17.81 9.94l-3.75-3.75z"}),"EditOutlined"),No=xe(j.jsx("path",{d:"M21 4H11l-1-3H3c-1.1 0-2 .9-2 2v15c0 1.1.9 2 2 2h8l1 3h9c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zM7 16c-2.76 0-5-2.24-5-5s2.24-5 5-5c1.35 0 2.48.5 3.35 1.3L9.03 8.57c-.38-.36-1.04-.78-2.03-.78-1.74 0-3.15 1.44-3.15 3.21S5.26 14.21 7 14.21c2.01 0 2.84-1.44 2.92-2.41H7v-1.71h4.68c.07.31.12.61.12 1.02C11.8 13.97 9.89 16 7 16zm6.17-5.42h3.7c-.43 1.25-1.11 2.43-2.05 3.47-.31-.35-.6-.72-.86-1.1l-.79-2.37zm8.33 9.92c0 .55-.45 1-1 1H14l2-2.5-1.04-3.1 3.1 3.1.92-.92-3.3-3.25.02-.02c1.13-1.25 1.93-2.69 2.4-4.22H20v-1.3h-4.53V8h-1.29v1.29h-1.44L11.46 5.5h9.04c.55 0 1 .45 1 1v14z"}),"GTranslate"),Ro=xe(j.jsx("path",{d:"M12 2C6.49 2 2 6.49 2 12s4.49 10 10 10c1.38 0 2.5-1.12 2.5-2.5 0-.61-.23-1.2-.64-1.67-.08-.1-.13-.21-.13-.33 0-.28.22-.5.5-.5H16c3.31 0 6-2.69 6-6 0-4.96-4.49-9-10-9zm5.5 11c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5zm-3-4c-.83 0-1.5-.67-1.5-1.5S13.67 6 14.5 6s1.5.67 1.5 1.5S15.33 9 14.5 9zM5 11.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5S7.33 13 6.5 13 5 12.33 5 11.5zm6-4c0 .83-.67 1.5-1.5 1.5S8 8.33 8 7.5 8.67 6 9.5 6s1.5.67 1.5 1.5z"}),"Palette"),Mo={mainContainer:"_mainContainer_as1f9_1",updateButtons:"_updateButtons_as1f9_5",save:"_save_as1f9_14",header:"_header_as1f9_18"},Fo="_footer_11fy7_18",Do="_contentPanel_11fy7_22",Vo="_cardImage_11fy7_29",zo="_virtuosoStyle_11fy7_41",Bo="_cardMediaContent_11fy7_46",Ho="_buttonContainer_11fy7_54",Wo="_button_11fy7_54";var Uo={},$o=A;Object.defineProperty(Uo,"__esModule",{value:!0});var Yo=Uo.default=void 0,Go=$o(we()),Ko=j,Jo=(0,Go.default)((0,Ko.jsx)("path",{d:"M3 15h18v-2H3v2zm0 4h18v-2H3v2zm0-8h18V9H3v2zm0-6v2h18V5H3z"}),"Reorder");Yo=Uo.default=Jo;const Qo="_errorDisplay_1joy4_1",Xo="_clickable_1joy4_10";var Zo={},ei=A;Object.defineProperty(Zo,"__esModule",{value:!0});var ti=Zo.default=void 0,ri=ei(we()),ni=j,oi=(0,ri.default)((0,ni.jsx)("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline");ti=Zo.default=oi;const ii=(e,t,r)=>"EMPTY_PARENT"===t?r("err_empty_parent",{component_name:li(e,r),child_name:si(e,r)}):"DUPLICATE_CODE"===t?(r("err_duplicate_code"),{component_name:li(e,r)}):"NO_END_GROUP"===t?r("err_no_end_group"):"MISPLACED_END_GROUP"===t?r("err_misplaced_end_group"):"MISPLACED_WELCOME_GROUP"===t?r("err_misplaced_welcome_group"):"",ai=(e,t)=>"value"===e.code&&"InvalidInstructionInEndGroup"==e.errors[0].name?t("err_value_in_end_group"):"conditional_relevance"===e.code?t("err_relevance"):"random_group"===e.code?t("err_random"):"priority_groups"===e.code?t("err_priority"):e.code.startsWith("reference")?j.jsx(mn,{t:t,values:{codes:e.errors.map((e=>{var t;return null===(t=e.dependency)||void 0===t?void 0:t.componentCode})).join(", "),lang:e.lang},i18nKey:"err_reference"}):e.code.startsWith("skip_to")?t("err_skip"):"",li=(e,t)=>"Survey"==e?t("survey"):Ee(e)?t("question"):je(e)?t("group"):t("option"),si=(e,t)=>je(e)?t("question"):t("Survey"==e?"group":"option"),ui=g.memo((function(e){const t=Oe("design").t,r=Se(),n=Ut([t=>t.designState[e.code]||{}],(e=>{var t;const r=null===(t=e.instructionList)||void 0===t?void 0:t.filter((e=>{var t;return(null===(t=e.errors)||void 0===t?void 0:t.length)>0}));return{errors:e.errors,designErrors:e.designErrors,instructions:null!=r&&r.length?r:void 0}})),o=ke(n),i=o.errors,a=o.designErrors,l=o.instructions,s=(null==i?void 0:i.length)>0||(null==a?void 0:a.length)>0||(null==l?void 0:l.length)>0,u=ke((t=>{var r;return"Survey"==e.code?"":je(e.code)?(null===(r=t.designState[e.code].groupType)||void 0===r?void 0:r.toLowerCase())||"group":t.designState[e.code].type}));return s?j.jsxs(P,{className:Qo,children:[i&&i.map((r=>j.jsxs("div",{children:[j.jsx(Rt,{style:{verticalAlign:"middle"}}),ii(e.code,r,t)]},r))),a&&a.map((e=>j.jsxs("div",{children:[j.jsx(Rt,{style:{verticalAlign:"middle"}}),e.message]},e.code))),l&&l.map((n=>{return j.jsxs("div",{className:(o=n,"conditional_relevance"===o.code||"random_group"===o.code||"priority_groups"===o.code||o.code.startsWith("skip_to")?Xo:""),onClick:()=>(t=>("conditional_relevance"===t.code?r(Ce({code:e.code,rules:Te(u),highlighted:"relevance",expanded:["relevance"]})):"random_group"===t.code||"priority_groups"===t.code?"Survey"==e.code?r(Ce(d(d({},qe),{},{highlighted:"random"}))):r(Ce({code:e.code,rules:Te(u),highlighted:"random",expanded:["random"]})):t.code.startsWith("skip_to")&&r(Ce({code:e.code,rules:Te(u),highlighted:"skip_logic",expanded:["skip_logic"]})),""))(n),children:[j.jsx(ti,{style:{verticalAlign:"middle"}}),ai(n,t)]},n.code);var o}))]}):j.jsx(j.Fragment,{})}));var ci={},di=A;Object.defineProperty(ci,"__esModule",{value:!0});var pi=ci.default=void 0,fi=di(we()),hi=j,gi=(0,fi.default)((0,hi.jsx)("path",{d:"M4 18h2.5v-2.5H4V18zm0-4.75h2.5v-2.5H4v2.5zM4 8.5h2.5V6H4v2.5zM17.5 6v2.5H20V6h-2.5zM13 8.5h2.5V6H13v2.5zm4.5 9.5H20v-2.5h-2.5V18zm0-4.75H20v-2.5h-2.5v2.5zM8.5 18H11v-2.5H8.5V18zm4.5 0h2.5v-2.5H13V18zM8.5 8.5H11V6H8.5v2.5zm4.5 4.75h2.5v-2.5H13v2.5zm-4.5 0H11v-2.5H8.5v2.5z"}),"ViewCompact");pi=ci.default=gi;const vi="_textDescriptionContent_o9cn8_1",mi="_moveBox_o9cn8_7",yi="_groupQuestion_o9cn8_13",bi="_titleContainer_o9cn8_22",_i="_titleQuestion_o9cn8_29",xi="_iconBox_o9cn8_39",wi="_actionToolbarVisible_o9cn8_59",Oi="_contentContainer_o9cn8_64",Si="_fullWidth_1dvff_1",ki="_noPadding_1dvff_12",ji="_placeholder_1dvff_25";var Ei=function(){this.__data__=[],this.size=0};var Ci=function(e,t){return e===t||e!=e&&t!=t},Ti=Ci;var qi=function(e,t){for(var r=e.length;r--;)if(Ti(e[r][0],t))return r;return-1},Ai=qi,Pi=Array.prototype.splice;var Ii=function(e){var t=this.__data__,r=Ai(t,e);return!(r<0)&&(r==t.length-1?t.pop():Pi.call(t,r,1),--this.size,!0)},Li=qi;var Ni=function(e){var t=this.__data__,r=Li(t,e);return r<0?void 0:t[r][1]},Ri=qi;var Mi=qi;var Fi=function(e,t){var r=this.__data__,n=Mi(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this},Di=Ei,Vi=Ii,zi=Ni,Bi=function(e){return Ri(this.__data__,e)>-1},Hi=Fi;function Wi(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Wi.prototype.clear=Di,Wi.prototype.delete=Vi,Wi.prototype.get=zi,Wi.prototype.has=Bi,Wi.prototype.set=Hi;var Ui=Wi,$i=Ui;var Yi=function(){this.__data__=new $i,this.size=0};var Gi=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r};var Ki=function(e){return this.__data__.get(e)};var Ji=function(e){return this.__data__.has(e)},Qi="object"==typeof I&&I&&I.Object===Object&&I,Xi=Qi,Zi="object"==typeof self&&self&&self.Object===Object&&self,ea=Xi||Zi||Function("return this")(),ta=ea.Symbol,ra=ta,na=Object.prototype,oa=na.hasOwnProperty,ia=na.toString,aa=ra?ra.toStringTag:void 0;var la=function(e){var t=oa.call(e,aa),r=e[aa];try{e[aa]=void 0;var n=!0}catch(lF){}var o=ia.call(e);return n&&(t?e[aa]=r:delete e[aa]),o},sa=Object.prototype.toString;var ua=la,ca=function(e){return sa.call(e)},da=ta?ta.toStringTag:void 0;var pa=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":da&&da in Object(e)?ua(e):ca(e)};var fa=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},ha=pa,ga=fa;var va,ma=function(e){if(!ga(e))return!1;var t=ha(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},ya=ea["__core-js_shared__"],ba=(va=/[^.]+$/.exec(ya&&ya.keys&&ya.keys.IE_PROTO||""))?"Symbol(src)_1."+va:"";var _a=function(e){return!!ba&&ba in e},xa=Function.prototype.toString;var wa=function(e){if(null!=e){try{return xa.call(e)}catch(lF){}try{return e+""}catch(lF){}}return""},Oa=ma,Sa=_a,ka=fa,ja=wa,Ea=/^\[object .+?Constructor\]$/,Ca=Function.prototype,Ta=Object.prototype,qa=Ca.toString,Aa=Ta.hasOwnProperty,Pa=RegExp("^"+qa.call(Aa).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var Ia=function(e){return!(!ka(e)||Sa(e))&&(Oa(e)?Pa:Ea).test(ja(e))},La=function(e,t){return null==e?void 0:e[t]};var Na=function(e,t){var r=La(e,t);return Ia(r)?r:void 0},Ra=Na(ea,"Map"),Ma=Na(Object,"create"),Fa=Ma;var Da=function(){this.__data__=Fa?Fa(null):{},this.size=0};var Va=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},za=Ma,Ba=Object.prototype.hasOwnProperty;var Ha=function(e){var t=this.__data__;if(za){var r=t[e];return"__lodash_hash_undefined__"===r?void 0:r}return Ba.call(t,e)?t[e]:void 0},Wa=Ma,Ua=Object.prototype.hasOwnProperty;var $a=Ma;var Ya=Da,Ga=Va,Ka=Ha,Ja=function(e){var t=this.__data__;return Wa?void 0!==t[e]:Ua.call(t,e)},Qa=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=$a&&void 0===t?"__lodash_hash_undefined__":t,this};function Xa(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Xa.prototype.clear=Ya,Xa.prototype.delete=Ga,Xa.prototype.get=Ka,Xa.prototype.has=Ja,Xa.prototype.set=Qa;var Za=Xa,el=Ui,tl=Ra;var rl=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e},nl=rl;var ol=function(e,t){var r=e.__data__;return nl(t)?r["string"==typeof t?"string":"hash"]:r.map},il=ol;var al=ol;var ll=ol;var sl=ol;var ul=function(){this.size=0,this.__data__={hash:new Za,map:new(tl||el),string:new Za}},cl=function(e){var t=il(this,e).delete(e);return this.size-=t?1:0,t},dl=function(e){return al(this,e).get(e)},pl=function(e){return ll(this,e).has(e)},fl=function(e,t){var r=sl(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this};function hl(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}hl.prototype.clear=ul,hl.prototype.delete=cl,hl.prototype.get=dl,hl.prototype.has=pl,hl.prototype.set=fl;var gl=hl,vl=Ui,ml=Ra,yl=gl;var bl=Ui,_l=Yi,xl=Gi,wl=Ki,Ol=Ji,Sl=function(e,t){var r=this.__data__;if(r instanceof vl){var n=r.__data__;if(!ml||n.length<199)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new yl(n)}return r.set(e,t),this.size=r.size,this};function kl(e){var t=this.__data__=new bl(e);this.size=t.size}kl.prototype.clear=_l,kl.prototype.delete=xl,kl.prototype.get=wl,kl.prototype.has=Ol,kl.prototype.set=Sl;var jl=kl;var El=gl,Cl=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},Tl=function(e){return this.__data__.has(e)};function ql(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new El;++t<r;)this.add(e[t])}ql.prototype.add=ql.prototype.push=Cl,ql.prototype.has=Tl;var Al=function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1};var Pl=ql,Il=Al,Ll=function(e,t){return e.has(t)};var Nl=function(e,t,r,n,o,i){var a=1&r,l=e.length,s=t.length;if(l!=s&&!(a&&s>l))return!1;var u=i.get(e),c=i.get(t);if(u&&c)return u==t&&c==e;var d=-1,p=!0,f=2&r?new Pl:void 0;for(i.set(e,t),i.set(t,e);++d<l;){var h=e[d],g=t[d];if(n)var v=a?n(g,h,d,t,e,i):n(h,g,d,e,t,i);if(void 0!==v){if(v)continue;p=!1;break}if(f){if(!Il(t,(function(e,t){if(!Ll(f,t)&&(h===e||o(h,e,r,n,i)))return f.push(t)}))){p=!1;break}}else if(h!==g&&!o(h,g,r,n,i)){p=!1;break}}return i.delete(e),i.delete(t),p},Rl=ea.Uint8Array;var Ml=function(e){var t=-1,r=Array(e.size);return e.forEach((function(e,n){r[++t]=[n,e]})),r};var Fl=function(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r},Dl=Rl,Vl=Ci,zl=Nl,Bl=Ml,Hl=Fl,Wl=ta?ta.prototype:void 0,Ul=Wl?Wl.valueOf:void 0;var $l=function(e,t,r,n,o,i,a){switch(r){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!i(new Dl(e),new Dl(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Vl(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var l=Bl;case"[object Set]":var s=1&n;if(l||(l=Hl),e.size!=t.size&&!s)return!1;var u=a.get(e);if(u)return u==t;n|=2,a.set(e,t);var c=zl(l(e),l(t),n,o,i,a);return a.delete(e),c;case"[object Symbol]":if(Ul)return Ul.call(e)==Ul.call(t)}return!1};var Yl=function(e,t){for(var r=-1,n=t.length,o=e.length;++r<n;)e[o+r]=t[r];return e},Gl=Array.isArray,Kl=Yl,Jl=Gl;var Ql=function(e,t,r){var n=t(e);return Jl(e)?n:Kl(n,r(e))};var Xl=function(e,t){for(var r=-1,n=null==e?0:e.length,o=0,i=[];++r<n;){var a=e[r];t(a,r,e)&&(i[o++]=a)}return i};var Zl=function(){return[]},es=Xl,ts=Zl,rs=Object.prototype.propertyIsEnumerable,ns=Object.getOwnPropertySymbols,os=ns?function(e){return null==e?[]:(e=Object(e),es(ns(e),(function(t){return rs.call(e,t)})))}:ts;var is=function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n};var as=function(e){return null!=e&&"object"==typeof e},ls=pa,ss=as;var us=function(e){return ss(e)&&"[object Arguments]"==ls(e)},cs=as,ds=Object.prototype,ps=ds.hasOwnProperty,fs=ds.propertyIsEnumerable,hs=us(function(){return arguments}())?us:function(e){return cs(e)&&ps.call(e,"callee")&&!fs.call(e,"callee")},gs=hs,vs={exports:{}};var ms=function(){return!1};!function(e,t){var r=ea,n=ms,o=t&&!t.nodeType&&t,i=o&&e&&!e.nodeType&&e,a=i&&i.exports===o?r.Buffer:void 0,l=(a?a.isBuffer:void 0)||n;e.exports=l}(vs,vs.exports);var ys=vs.exports,bs=/^(?:0|[1-9]\d*)$/;var _s=function(e,t){var r=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==r||"symbol"!=r&&bs.test(e))&&e>-1&&e%1==0&&e<t};var xs=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991},ws=pa,Os=xs,Ss=as,ks={};ks["[object Float32Array]"]=ks["[object Float64Array]"]=ks["[object Int8Array]"]=ks["[object Int16Array]"]=ks["[object Int32Array]"]=ks["[object Uint8Array]"]=ks["[object Uint8ClampedArray]"]=ks["[object Uint16Array]"]=ks["[object Uint32Array]"]=!0,ks["[object Arguments]"]=ks["[object Array]"]=ks["[object ArrayBuffer]"]=ks["[object Boolean]"]=ks["[object DataView]"]=ks["[object Date]"]=ks["[object Error]"]=ks["[object Function]"]=ks["[object Map]"]=ks["[object Number]"]=ks["[object Object]"]=ks["[object RegExp]"]=ks["[object Set]"]=ks["[object String]"]=ks["[object WeakMap]"]=!1;var js=function(e){return Ss(e)&&Os(e.length)&&!!ks[ws(e)]};var Es=function(e){return function(t){return e(t)}},Cs={exports:{}};!function(e,t){var r=Qi,n=t&&!t.nodeType&&t,o=n&&e&&!e.nodeType&&e,i=o&&o.exports===n&&r.process,a=function(){try{var e=o&&o.require&&o.require("util").types;return e||i&&i.binding&&i.binding("util")}catch(lF){}}();e.exports=a}(Cs,Cs.exports);var Ts=Cs.exports,qs=js,As=Es,Ps=Ts&&Ts.isTypedArray,Is=Ps?As(Ps):qs,Ls=is,Ns=gs,Rs=Gl,Ms=ys,Fs=_s,Ds=Is,Vs=Object.prototype.hasOwnProperty;var zs=function(e,t){var r=Rs(e),n=!r&&Ns(e),o=!r&&!n&&Ms(e),i=!r&&!n&&!o&&Ds(e),a=r||n||o||i,l=a?Ls(e.length,String):[],s=l.length;for(var u in e)!t&&!Vs.call(e,u)||a&&("length"==u||o&&("offset"==u||"parent"==u)||i&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||Fs(u,s))||l.push(u);return l},Bs=Object.prototype;var Hs=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Bs)};var Ws=function(e,t){return function(r){return e(t(r))}},Us=Ws(Object.keys,Object),$s=Hs,Ys=Us,Gs=Object.prototype.hasOwnProperty;var Ks=ma,Js=xs;var Qs=function(e){return null!=e&&Js(e.length)&&!Ks(e)},Xs=zs,Zs=function(e){if(!$s(e))return Ys(e);var t=[];for(var r in Object(e))Gs.call(e,r)&&"constructor"!=r&&t.push(r);return t},eu=Qs;var tu=function(e){return eu(e)?Xs(e):Zs(e)};const ru=h(tu);var nu=Ql,ou=os,iu=tu;var au=function(e){return nu(e,iu,ou)},lu=au,su=Object.prototype.hasOwnProperty;var uu=function(e,t,r,n,o,i){var a=1&r,l=lu(e),s=l.length;if(s!=lu(t).length&&!a)return!1;for(var u=s;u--;){var c=l[u];if(!(a?c in t:su.call(t,c)))return!1}var d=i.get(e),p=i.get(t);if(d&&p)return d==t&&p==e;var f=!0;i.set(e,t),i.set(t,e);for(var h=a;++u<s;){var g=e[c=l[u]],v=t[c];if(n)var m=a?n(v,g,c,t,e,i):n(g,v,c,e,t,i);if(!(void 0===m?g===v||o(g,v,r,n,i):m)){f=!1;break}h||(h="constructor"==c)}if(f&&!h){var y=e.constructor,b=t.constructor;y==b||!("constructor"in e)||!("constructor"in t)||"function"==typeof y&&y instanceof y&&"function"==typeof b&&b instanceof b||(f=!1)}return i.delete(e),i.delete(t),f},cu=Na(ea,"DataView"),du=Ra,pu=Na(ea,"Promise"),fu=Na(ea,"Set"),hu=Na(ea,"WeakMap"),gu=pa,vu=wa,mu="[object Map]",yu="[object Promise]",bu="[object Set]",_u="[object WeakMap]",xu="[object DataView]",wu=vu(cu),Ou=vu(du),Su=vu(pu),ku=vu(fu),ju=vu(hu),Eu=gu;(cu&&Eu(new cu(new ArrayBuffer(1)))!=xu||du&&Eu(new du)!=mu||pu&&Eu(pu.resolve())!=yu||fu&&Eu(new fu)!=bu||hu&&Eu(new hu)!=_u)&&(Eu=function(e){var t=gu(e),r="[object Object]"==t?e.constructor:void 0,n=r?vu(r):"";if(n)switch(n){case wu:return xu;case Ou:return mu;case Su:return yu;case ku:return bu;case ju:return _u}return t});var Cu=Eu,Tu=jl,qu=Nl,Au=$l,Pu=uu,Iu=Cu,Lu=Gl,Nu=ys,Ru=Is,Mu="[object Arguments]",Fu="[object Array]",Du="[object Object]",Vu=Object.prototype.hasOwnProperty;var zu=function(e,t,r,n,o,i){var a=Lu(e),l=Lu(t),s=a?Fu:Iu(e),u=l?Fu:Iu(t),c=(s=s==Mu?Du:s)==Du,d=(u=u==Mu?Du:u)==Du,p=s==u;if(p&&Nu(e)){if(!Nu(t))return!1;a=!0,c=!1}if(p&&!c)return i||(i=new Tu),a||Ru(e)?qu(e,t,r,n,o,i):Au(e,t,s,r,n,o,i);if(!(1&r)){var f=c&&Vu.call(e,"__wrapped__"),h=d&&Vu.call(t,"__wrapped__");if(f||h){var g=f?e.value():e,v=h?t.value():t;return i||(i=new Tu),o(g,v,r,n,i)}}return!!p&&(i||(i=new Tu),Pu(e,t,r,n,o,i))},Bu=as;var Hu=function e(t,r,n,o,i){return t===r||(null==t||null==r||!Bu(t)&&!Bu(r)?t!=t&&r!=r:zu(t,r,n,o,e,i))},Wu=Hu;var Uu=function(e,t){return Wu(e,t)},$u={exports:{}};
/*!
       * Quill Editor v1.3.7
       * https://quilljs.com/
       * Copyright (c) 2014, Jason Chen
       * Copyright (c) 2013, salesforce.com
       */
!function(e,t){var r;"undefined"!=typeof self&&self,r=function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=109)}([function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r(17),o=r(18),i=r(19),a=r(45),l=r(46),s=r(47),u=r(48),c=r(49),d=r(12),p=r(32),f=r(33),h=r(31),g=r(1),v={Scope:g.Scope,create:g.create,find:g.find,query:g.query,register:g.register,Container:n.default,Format:o.default,Leaf:i.default,Embed:u.default,Scroll:a.default,Block:s.default,Inline:l.default,Text:c.default,Attributor:{Attribute:d.default,Class:p.default,Style:f.default,Store:h.default}};t.default=v},function(e,t,r){var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(t){var r=this;return t="[Parchment] "+t,(r=e.call(this,t)||this).message=t,r.name=r.constructor.name,r}return o(t,e),t}(Error);t.ParchmentError=i;var a,l={},s={},u={},c={};function d(e,t){var r;if(void 0===t&&(t=a.ANY),"string"==typeof e)r=c[e]||l[e];else if(e instanceof Text||e.nodeType===Node.TEXT_NODE)r=c.text;else if("number"==typeof e)e&a.LEVEL&a.BLOCK?r=c.block:e&a.LEVEL&a.INLINE&&(r=c.inline);else if(e instanceof HTMLElement){var n=(e.getAttribute("class")||"").split(/\s+/);for(var o in n)if(r=s[n[o]])break;r=r||u[e.tagName]}return null==r?null:t&a.LEVEL&r.scope&&t&a.TYPE&r.scope?r:null}t.DATA_KEY="__blot",function(e){e[e.TYPE=3]="TYPE",e[e.LEVEL=12]="LEVEL",e[e.ATTRIBUTE=13]="ATTRIBUTE",e[e.BLOT=14]="BLOT",e[e.INLINE=7]="INLINE",e[e.BLOCK=11]="BLOCK",e[e.BLOCK_BLOT=10]="BLOCK_BLOT",e[e.INLINE_BLOT=6]="INLINE_BLOT",e[e.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",e[e.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",e[e.ANY=15]="ANY"}(a=t.Scope||(t.Scope={})),t.create=function(e,t){var r=d(e);if(null==r)throw new i("Unable to create "+e+" blot");var n=r,o=e instanceof Node||e.nodeType===Node.TEXT_NODE?e:n.create(t);return new n(o,t)},t.find=function e(r,n){return void 0===n&&(n=!1),null==r?null:null!=r[t.DATA_KEY]?r[t.DATA_KEY].blot:n?e(r.parentNode,n):null},t.query=d,t.register=function e(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];if(t.length>1)return t.map((function(t){return e(t)}));var n=t[0];if("string"!=typeof n.blotName&&"string"!=typeof n.attrName)throw new i("Invalid definition");if("abstract"===n.blotName)throw new i("Cannot register abstract class");return c[n.blotName||n.attrName]=n,"string"==typeof n.keyName?l[n.keyName]=n:(null!=n.className&&(s[n.className]=n),null!=n.tagName&&(Array.isArray(n.tagName)?n.tagName=n.tagName.map((function(e){return e.toUpperCase()})):n.tagName=n.tagName.toUpperCase(),(Array.isArray(n.tagName)?n.tagName:[n.tagName]).forEach((function(e){null!=u[e]&&null!=n.className||(u[e]=n)})))),n}},function(e,t,r){var n=r(51),o=r(11),i=r(3),a=r(20),l=String.fromCharCode(0),s=function(e){Array.isArray(e)?this.ops=e:null!=e&&Array.isArray(e.ops)?this.ops=e.ops:this.ops=[]};s.prototype.insert=function(e,t){var r={};return 0===e.length?this:(r.insert=e,null!=t&&"object"==typeof t&&Object.keys(t).length>0&&(r.attributes=t),this.push(r))},s.prototype.delete=function(e){return e<=0?this:this.push({delete:e})},s.prototype.retain=function(e,t){if(e<=0)return this;var r={retain:e};return null!=t&&"object"==typeof t&&Object.keys(t).length>0&&(r.attributes=t),this.push(r)},s.prototype.push=function(e){var t=this.ops.length,r=this.ops[t-1];if(e=i(!0,{},e),"object"==typeof r){if("number"==typeof e.delete&&"number"==typeof r.delete)return this.ops[t-1]={delete:r.delete+e.delete},this;if("number"==typeof r.delete&&null!=e.insert&&(t-=1,"object"!=typeof(r=this.ops[t-1])))return this.ops.unshift(e),this;if(o(e.attributes,r.attributes)){if("string"==typeof e.insert&&"string"==typeof r.insert)return this.ops[t-1]={insert:r.insert+e.insert},"object"==typeof e.attributes&&(this.ops[t-1].attributes=e.attributes),this;if("number"==typeof e.retain&&"number"==typeof r.retain)return this.ops[t-1]={retain:r.retain+e.retain},"object"==typeof e.attributes&&(this.ops[t-1].attributes=e.attributes),this}}return t===this.ops.length?this.ops.push(e):this.ops.splice(t,0,e),this},s.prototype.chop=function(){var e=this.ops[this.ops.length-1];return e&&e.retain&&!e.attributes&&this.ops.pop(),this},s.prototype.filter=function(e){return this.ops.filter(e)},s.prototype.forEach=function(e){this.ops.forEach(e)},s.prototype.map=function(e){return this.ops.map(e)},s.prototype.partition=function(e){var t=[],r=[];return this.forEach((function(n){(e(n)?t:r).push(n)})),[t,r]},s.prototype.reduce=function(e,t){return this.ops.reduce(e,t)},s.prototype.changeLength=function(){return this.reduce((function(e,t){return t.insert?e+a.length(t):t.delete?e-t.delete:e}),0)},s.prototype.length=function(){return this.reduce((function(e,t){return e+a.length(t)}),0)},s.prototype.slice=function(e,t){e=e||0,"number"!=typeof t&&(t=1/0);for(var r=[],n=a.iterator(this.ops),o=0;o<t&&n.hasNext();){var i;o<e?i=n.next(e-o):(i=n.next(t-o),r.push(i)),o+=a.length(i)}return new s(r)},s.prototype.compose=function(e){var t=a.iterator(this.ops),r=a.iterator(e.ops),n=[],i=r.peek();if(null!=i&&"number"==typeof i.retain&&null==i.attributes){for(var l=i.retain;"insert"===t.peekType()&&t.peekLength()<=l;)l-=t.peekLength(),n.push(t.next());i.retain-l>0&&r.next(i.retain-l)}for(var u=new s(n);t.hasNext()||r.hasNext();)if("insert"===r.peekType())u.push(r.next());else if("delete"===t.peekType())u.push(t.next());else{var c=Math.min(t.peekLength(),r.peekLength()),d=t.next(c),p=r.next(c);if("number"==typeof p.retain){var f={};"number"==typeof d.retain?f.retain=c:f.insert=d.insert;var h=a.attributes.compose(d.attributes,p.attributes,"number"==typeof d.retain);if(h&&(f.attributes=h),u.push(f),!r.hasNext()&&o(u.ops[u.ops.length-1],f)){var g=new s(t.rest());return u.concat(g).chop()}}else"number"==typeof p.delete&&"number"==typeof d.retain&&u.push(p)}return u.chop()},s.prototype.concat=function(e){var t=new s(this.ops.slice());return e.ops.length>0&&(t.push(e.ops[0]),t.ops=t.ops.concat(e.ops.slice(1))),t},s.prototype.diff=function(e,t){if(this.ops===e.ops)return new s;var r=[this,e].map((function(t){return t.map((function(r){if(null!=r.insert)return"string"==typeof r.insert?r.insert:l;throw new Error("diff() called "+(t===e?"on":"with")+" non-document")})).join("")})),i=new s,u=n(r[0],r[1],t),c=a.iterator(this.ops),d=a.iterator(e.ops);return u.forEach((function(e){for(var t=e[1].length;t>0;){var r=0;switch(e[0]){case n.INSERT:r=Math.min(d.peekLength(),t),i.push(d.next(r));break;case n.DELETE:r=Math.min(t,c.peekLength()),c.next(r),i.delete(r);break;case n.EQUAL:r=Math.min(c.peekLength(),d.peekLength(),t);var l=c.next(r),s=d.next(r);o(l.insert,s.insert)?i.retain(r,a.attributes.diff(l.attributes,s.attributes)):i.push(s).delete(r)}t-=r}})),i.chop()},s.prototype.eachLine=function(e,t){t=t||"\n";for(var r=a.iterator(this.ops),n=new s,o=0;r.hasNext();){if("insert"!==r.peekType())return;var i=r.peek(),l=a.length(i)-r.peekLength(),u="string"==typeof i.insert?i.insert.indexOf(t,l)-l:-1;if(u<0)n.push(r.next());else if(u>0)n.push(r.next(u));else{if(!1===e(n,r.next(1).attributes||{},o))return;o+=1,n=new s}}n.length()>0&&e(n,{},o)},s.prototype.transform=function(e,t){if(t=!!t,"number"==typeof e)return this.transformPosition(e,t);for(var r=a.iterator(this.ops),n=a.iterator(e.ops),o=new s;r.hasNext()||n.hasNext();)if("insert"!==r.peekType()||!t&&"insert"===n.peekType())if("insert"===n.peekType())o.push(n.next());else{var i=Math.min(r.peekLength(),n.peekLength()),l=r.next(i),u=n.next(i);if(l.delete)continue;u.delete?o.push(u):o.retain(i,a.attributes.transform(l.attributes,u.attributes,t))}else o.retain(a.length(r.next()));return o.chop()},s.prototype.transformPosition=function(e,t){t=!!t;for(var r=a.iterator(this.ops),n=0;r.hasNext()&&n<=e;){var o=r.peekLength(),i=r.peekType();r.next(),"delete"!==i?("insert"===i&&(n<e||!t)&&(e+=o),n+=o):e-=Math.min(o,e-n)}return e},e.exports=s},function(e,t){var r=Object.prototype.hasOwnProperty,n=Object.prototype.toString,o=Object.defineProperty,i=Object.getOwnPropertyDescriptor,a=function(e){return"function"==typeof Array.isArray?Array.isArray(e):"[object Array]"===n.call(e)},l=function(e){if(!e||"[object Object]"!==n.call(e))return!1;var t,o=r.call(e,"constructor"),i=e.constructor&&e.constructor.prototype&&r.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!o&&!i)return!1;for(t in e);return void 0===t||r.call(e,t)},s=function(e,t){o&&"__proto__"===t.name?o(e,t.name,{enumerable:!0,configurable:!0,value:t.newValue,writable:!0}):e[t.name]=t.newValue},u=function(e,t){if("__proto__"===t){if(!r.call(e,t))return;if(i)return i(e,t).value}return e[t]};e.exports=function e(){var t,r,n,o,i,c,d=arguments[0],p=1,f=arguments.length,h=!1;for("boolean"==typeof d&&(h=d,d=arguments[1]||{},p=2),(null==d||"object"!=typeof d&&"function"!=typeof d)&&(d={});p<f;++p)if(null!=(t=arguments[p]))for(r in t)n=u(d,r),d!==(o=u(t,r))&&(h&&o&&(l(o)||(i=a(o)))?(i?(i=!1,c=n&&a(n)?n:[]):c=n&&l(n)?n:{},s(d,{name:r,newValue:e(h,c,o)})):void 0!==o&&s(d,{name:r,newValue:o}));return d}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.BlockEmbed=t.bubbleFormats=void 0;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0},i=d(r(3)),a=d(r(2)),l=d(r(0)),s=d(r(16)),u=d(r(6)),c=d(r(7));function d(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var g=function(e){function t(){return p(this,t),f(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return h(t,e),n(t,[{key:"attach",value:function(){o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"attach",this).call(this),this.attributes=new l.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return(new a.default).insert(this.value(),(0,i.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(e,t){var r=l.default.query(e,l.default.Scope.BLOCK_ATTRIBUTE);null!=r&&this.attributes.attribute(r,t)}},{key:"formatAt",value:function(e,t,r,n){this.format(r,n)}},{key:"insertAt",value:function(e,r,n){if("string"==typeof r&&r.endsWith("\n")){var i=l.default.create(v.blotName);this.parent.insertBefore(i,0===e?this:this.next),i.insertAt(0,r.slice(0,-1))}else o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertAt",this).call(this,e,r,n)}}]),t}(l.default.Embed);g.scope=l.default.Scope.BLOCK_BLOT;var v=function(e){function t(e){p(this,t);var r=f(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.cache={},r}return h(t,e),n(t,[{key:"delta",value:function(){return null==this.cache.delta&&(this.cache.delta=this.descendants(l.default.Leaf).reduce((function(e,t){return 0===t.length()?e:e.insert(t.value(),m(t))}),new a.default).insert("\n",m(this))),this.cache.delta}},{key:"deleteAt",value:function(e,r){o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"deleteAt",this).call(this,e,r),this.cache={}}},{key:"formatAt",value:function(e,r,n,i){r<=0||(l.default.query(n,l.default.Scope.BLOCK)?e+r===this.length()&&this.format(n,i):o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"formatAt",this).call(this,e,Math.min(r,this.length()-e-1),n,i),this.cache={})}},{key:"insertAt",value:function(e,r,n){if(null!=n)return o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertAt",this).call(this,e,r,n);if(0!==r.length){var i=r.split("\n"),a=i.shift();a.length>0&&(e<this.length()-1||null==this.children.tail?o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertAt",this).call(this,Math.min(e,this.length()-1),a):this.children.tail.insertAt(this.children.tail.length(),a),this.cache={});var l=this;i.reduce((function(e,t){return(l=l.split(e,!0)).insertAt(0,t),t.length}),e+a.length)}}},{key:"insertBefore",value:function(e,r){var n=this.children.head;o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertBefore",this).call(this,e,r),n instanceof s.default&&n.remove(),this.cache={}}},{key:"length",value:function(){return null==this.cache.length&&(this.cache.length=o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"length",this).call(this)+1),this.cache.length}},{key:"moveChildren",value:function(e,r){o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"moveChildren",this).call(this,e,r),this.cache={}}},{key:"optimize",value:function(e){o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e),this.cache={}}},{key:"path",value:function(e){return o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"path",this).call(this,e,!0)}},{key:"removeChild",value:function(e){o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"removeChild",this).call(this,e),this.cache={}}},{key:"split",value:function(e){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(r&&(0===e||e>=this.length()-1)){var n=this.clone();return 0===e?(this.parent.insertBefore(n,this),this):(this.parent.insertBefore(n,this.next),n)}var i=o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"split",this).call(this,e,r);return this.cache={},i}}]),t}(l.default.Block);function m(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return null==e?t:("function"==typeof e.formats&&(t=(0,i.default)(t,e.formats())),null==e.parent||"scroll"==e.parent.blotName||e.parent.statics.scope!==e.statics.scope?t:m(e.parent,t))}v.blotName="block",v.tagName="P",v.defaultChild="break",v.allowedChildren=[u.default,l.default.Embed,c.default],t.bubbleFormats=m,t.BlockEmbed=g,t.default=v},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.overload=t.expandConfig=void 0;var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(n=(a=l.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(s){o=!0,i=s}finally{try{!n&&l.return&&l.return()}finally{if(o)throw i}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();r(50);var a=v(r(2)),l=v(r(14)),s=v(r(8)),u=v(r(9)),c=v(r(0)),d=r(15),p=v(d),f=v(r(3)),h=v(r(10)),g=v(r(34));function v(e){return e&&e.__esModule?e:{default:e}}function m(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var y=(0,h.default)("quill"),b=function(){function e(t){var r=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options=_(t,n),this.container=this.options.container,null==this.container)return y.error("Invalid Quill container",t);this.options.debug&&e.debug(this.options.debug);var o=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new s.default,this.scroll=c.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new l.default(this.scroll),this.selection=new p.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(s.default.events.EDITOR_CHANGE,(function(e){e===s.default.events.TEXT_CHANGE&&r.root.classList.toggle("ql-blank",r.editor.isBlank())})),this.emitter.on(s.default.events.SCROLL_UPDATE,(function(e,t){var n=r.selection.lastRange,o=n&&0===n.length?n.index:void 0;x.call(r,(function(){return r.editor.update(null,t,o)}),e)}));var i=this.clipboard.convert("<div class='ql-editor' style=\"white-space: normal;\">"+o+"<p><br></p></div>");this.setContents(i),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return i(e,null,[{key:"debug",value:function(e){!0===e&&(e="log"),h.default.level(e)}},{key:"find",value:function(e){return e.__quill||c.default.find(e)}},{key:"import",value:function(e){return null==this.imports[e]&&y.error("Cannot import "+e+". Are you sure it was registered?"),this.imports[e]}},{key:"register",value:function(e,t){var r=this,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("string"!=typeof e){var o=e.attrName||e.blotName;"string"==typeof o?this.register("formats/"+o,e,t):Object.keys(e).forEach((function(n){r.register(n,e[n],t)}))}else null==this.imports[e]||n||y.warn("Overwriting "+e+" with",t),this.imports[e]=t,(e.startsWith("blots/")||e.startsWith("formats/"))&&"abstract"!==t.blotName?c.default.register(t):e.startsWith("modules")&&"function"==typeof t.register&&t.register()}}]),i(e,[{key:"addContainer",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if("string"==typeof e){var r=e;(e=document.createElement("div")).classList.add(r)}return this.container.insertBefore(e,t),e}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(e,t,r){var n=this,i=w(e,t,r),a=o(i,4);return e=a[0],t=a[1],r=a[3],x.call(this,(function(){return n.editor.deleteText(e,t)}),r,e,-1*t)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.scroll.enable(e),this.container.classList.toggle("ql-disabled",!e)}},{key:"focus",value:function(){var e=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=e,this.scrollIntoView()}},{key:"format",value:function(e,t){var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s.default.sources.API;return x.call(this,(function(){var n=r.getSelection(!0),o=new a.default;if(null==n)return o;if(c.default.query(e,c.default.Scope.BLOCK))o=r.editor.formatLine(n.index,n.length,m({},e,t));else{if(0===n.length)return r.selection.format(e,t),o;o=r.editor.formatText(n.index,n.length,m({},e,t))}return r.setSelection(n,s.default.sources.SILENT),o}),n)}},{key:"formatLine",value:function(e,t,r,n,i){var a,l=this,s=w(e,t,r,n,i),u=o(s,4);return e=u[0],t=u[1],a=u[2],i=u[3],x.call(this,(function(){return l.editor.formatLine(e,t,a)}),i,e,0)}},{key:"formatText",value:function(e,t,r,n,i){var a,l=this,s=w(e,t,r,n,i),u=o(s,4);return e=u[0],t=u[1],a=u[2],i=u[3],x.call(this,(function(){return l.editor.formatText(e,t,a)}),i,e,0)}},{key:"getBounds",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=void 0;r="number"==typeof e?this.selection.getBounds(e,t):this.selection.getBounds(e.index,e.length);var n=this.container.getBoundingClientRect();return{bottom:r.bottom-n.top,height:r.height,left:r.left-n.left,right:r.right-n.left,top:r.top-n.top,width:r.width}}},{key:"getContents",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-e,r=w(e,t),n=o(r,2);return e=n[0],t=n[1],this.editor.getContents(e,t)}},{key:"getFormat",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getSelection(!0),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return"number"==typeof e?this.editor.getFormat(e,t):this.editor.getFormat(e.index,e.length)}},{key:"getIndex",value:function(e){return e.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(e){return this.scroll.leaf(e)}},{key:"getLine",value:function(e){return this.scroll.line(e)}},{key:"getLines",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE;return"number"!=typeof e?this.scroll.lines(e.index,e.length):this.scroll.lines(e,t)}},{key:"getModule",value:function(e){return this.theme.modules[e]}},{key:"getSelection",value:function(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-e,r=w(e,t),n=o(r,2);return e=n[0],t=n[1],this.editor.getText(e,t)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(t,r,n){var o=this,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.sources.API;return x.call(this,(function(){return o.editor.insertEmbed(t,r,n)}),i,t)}},{key:"insertText",value:function(e,t,r,n,i){var a,l=this,s=w(e,0,r,n,i),u=o(s,4);return e=u[0],a=u[2],i=u[3],x.call(this,(function(){return l.editor.insertText(e,t,a)}),i,e,t.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(e,t,r){this.clipboard.dangerouslyPasteHTML(e,t,r)}},{key:"removeFormat",value:function(e,t,r){var n=this,i=w(e,t,r),a=o(i,4);return e=a[0],t=a[1],r=a[3],x.call(this,(function(){return n.editor.removeFormat(e,t)}),r,e)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s.default.sources.API;return x.call(this,(function(){e=new a.default(e);var r=t.getLength(),n=t.editor.deleteText(0,r),o=t.editor.applyDelta(e),i=o.ops[o.ops.length-1];return null!=i&&"string"==typeof i.insert&&"\n"===i.insert[i.insert.length-1]&&(t.editor.deleteText(t.getLength()-1,1),o.delete(1)),n.compose(o)}),r)}},{key:"setSelection",value:function(t,r,n){if(null==t)this.selection.setRange(null,r||e.sources.API);else{var i=w(t,r,n),a=o(i,4);t=a[0],r=a[1],n=a[3],this.selection.setRange(new d.Range(t,r),n),n!==s.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s.default.sources.API,r=(new a.default).insert(e);return this.setContents(r,t)}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s.default.sources.USER,t=this.scroll.update(e);return this.selection.update(e),t}},{key:"updateContents",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s.default.sources.API;return x.call(this,(function(){return e=new a.default(e),t.editor.applyDelta(e,r)}),r,!0)}}]),e}();function _(e,t){if((t=(0,f.default)(!0,{container:e,modules:{clipboard:!0,keyboard:!0,history:!0}},t)).theme&&t.theme!==b.DEFAULTS.theme){if(t.theme=b.import("themes/"+t.theme),null==t.theme)throw new Error("Invalid theme "+t.theme+". Did you register it?")}else t.theme=g.default;var r=(0,f.default)(!0,{},t.theme.DEFAULTS);[r,t].forEach((function(e){e.modules=e.modules||{},Object.keys(e.modules).forEach((function(t){!0===e.modules[t]&&(e.modules[t]={})}))}));var n=Object.keys(r.modules).concat(Object.keys(t.modules)).reduce((function(e,t){var r=b.import("modules/"+t);return null==r?y.error("Cannot load "+t+" module. Are you sure you registered it?"):e[t]=r.DEFAULTS||{},e}),{});return null!=t.modules&&t.modules.toolbar&&t.modules.toolbar.constructor!==Object&&(t.modules.toolbar={container:t.modules.toolbar}),t=(0,f.default)(!0,{},b.DEFAULTS,{modules:n},r,t),["bounds","container","scrollingContainer"].forEach((function(e){"string"==typeof t[e]&&(t[e]=document.querySelector(t[e]))})),t.modules=Object.keys(t.modules).reduce((function(e,r){return t.modules[r]&&(e[r]=t.modules[r]),e}),{}),t}function x(e,t,r,n){if(this.options.strict&&!this.isEnabled()&&t===s.default.sources.USER)return new a.default;var o=null==r?null:this.getSelection(),i=this.editor.delta,l=e();if(null!=o&&(!0===r&&(r=o.index),null==n?o=O(o,l,t):0!==n&&(o=O(o,r,n,t)),this.setSelection(o,s.default.sources.SILENT)),l.length()>0){var u,c,d=[s.default.events.TEXT_CHANGE,l,i,t];(u=this.emitter).emit.apply(u,[s.default.events.EDITOR_CHANGE].concat(d)),t!==s.default.sources.SILENT&&(c=this.emitter).emit.apply(c,d)}return l}function w(e,t,r,o,i){var a={};return"number"==typeof e.index&&"number"==typeof e.length?"number"!=typeof t?(i=o,o=r,r=t,t=e.length,e=e.index):(t=e.length,e=e.index):"number"!=typeof t&&(i=o,o=r,r=t,t=0),"object"===(void 0===r?"undefined":n(r))?(a=r,i=o):"string"==typeof r&&(null!=o?a[r]=o:i=r),[e,t,a,i=i||s.default.sources.API]}function O(e,t,r,n){if(null==e)return null;var i=void 0,l=void 0;if(t instanceof a.default){var u=[e.index,e.index+e.length].map((function(e){return t.transformPosition(e,n!==s.default.sources.USER)})),c=o(u,2);i=c[0],l=c[1]}else{var p=[e.index,e.index+e.length].map((function(e){return e<t||e===t&&n===s.default.sources.USER?e:r>=0?e+r:Math.max(t,e+r)})),f=o(p,2);i=f[0],l=f[1]}return new d.Range(i,l-i)}b.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},b.events=s.default.events,b.sources=s.default.sources,b.version="1.3.7",b.imports={delta:a.default,parchment:c.default,"core/module":u.default,"core/theme":g.default},t.expandConfig=_,t.overload=w,t.default=b},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0},i=l(r(7)),a=l(r(0));function l(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"formatAt",value:function(e,r,n,i){if(t.compare(this.statics.blotName,n)<0&&a.default.query(n,a.default.Scope.BLOT)){var l=this.isolate(e,r);i&&l.wrap(n,i)}else o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"formatAt",this).call(this,e,r,n,i)}},{key:"optimize",value:function(e){if(o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e),this.parent instanceof t&&t.compare(this.statics.blotName,this.parent.statics.blotName)>0){var r=this.parent.isolate(this.offset(),this.length());this.moveChildren(r),r.wrap(this)}}}],[{key:"compare",value:function(e,r){var n=t.order.indexOf(e),o=t.order.indexOf(r);return n>=0||o>=0?n-o:e===r?0:e<r?-1:1}}]),t}(a.default.Inline);s.allowedChildren=[s,a.default.Embed,i.default],s.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],t.default=s},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n,o=r(0),i=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(((n=o)&&n.__esModule?n:{default:n}).default.Text);t.default=i},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0},i=a(r(54));function a(e){return e&&e.__esModule?e:{default:e}}var l=(0,a(r(10)).default)("quill:events");["selectionchange","mousedown","mouseup","click"].forEach((function(e){document.addEventListener(e,(function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];[].slice.call(document.querySelectorAll(".ql-container")).forEach((function(e){var r;e.__quill&&e.__quill.emitter&&(r=e.__quill.emitter).handleDOM.apply(r,t)}))}))}));var s=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.listeners={},e.on("error",l.error),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"emit",value:function(){l.log.apply(l,arguments),o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];(this.listeners[e.type]||[]).forEach((function(t){var n=t.node,o=t.handler;(e.target===n||n.contains(e.target))&&o.apply(void 0,[e].concat(r))}))}},{key:"listenDOM",value:function(e,t,r){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push({node:t,handler:r})}}]),t}(i.default);s.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},s.sources={API:"api",SILENT:"silent",USER:"user"},t.default=s},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.quill=t,this.options=r};n.DEFAULTS={},t.default=n},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=["error","warn","log","info"],o="warn";function i(e){if(n.indexOf(e)<=n.indexOf(o)){for(var t,r=arguments.length,i=Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];(t=console)[e].apply(t,i)}}function a(e){return n.reduce((function(t,r){return t[r]=i.bind(console,r,e),t}),{})}i.level=a.level=function(e){o=e},t.default=a},function(e,t,r){var n=Array.prototype.slice,o=r(52),i=r(53),a=e.exports=function(e,t,r){return r||(r={}),e===t||(e instanceof Date&&t instanceof Date?e.getTime()===t.getTime():!e||!t||"object"!=typeof e&&"object"!=typeof t?r.strict?e===t:e==t:function(e,t,r){var u,c;if(l(e)||l(t))return!1;if(e.prototype!==t.prototype)return!1;if(i(e))return!!i(t)&&(e=n.call(e),t=n.call(t),a(e,t,r));if(s(e)){if(!s(t))return!1;if(e.length!==t.length)return!1;for(u=0;u<e.length;u++)if(e[u]!==t[u])return!1;return!0}try{var d=o(e),p=o(t)}catch(lF){return!1}if(d.length!=p.length)return!1;for(d.sort(),p.sort(),u=d.length-1;u>=0;u--)if(d[u]!=p[u])return!1;for(u=d.length-1;u>=0;u--)if(c=d[u],!a(e[c],t[c],r))return!1;return typeof e==typeof t}(e,t,r))};function l(e){return null==e}function s(e){return!(!e||"object"!=typeof e||"number"!=typeof e.length||"function"!=typeof e.copy||"function"!=typeof e.slice||e.length>0&&"number"!=typeof e[0])}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r(1),o=function(){function e(e,t,r){void 0===r&&(r={}),this.attrName=e,this.keyName=t;var o=n.Scope.TYPE&n.Scope.ATTRIBUTE;null!=r.scope?this.scope=r.scope&n.Scope.LEVEL|o:this.scope=n.Scope.ATTRIBUTE,null!=r.whitelist&&(this.whitelist=r.whitelist)}return e.keys=function(e){return[].map.call(e.attributes,(function(e){return e.name}))},e.prototype.add=function(e,t){return!!this.canAdd(e,t)&&(e.setAttribute(this.keyName,t),!0)},e.prototype.canAdd=function(e,t){return null!=n.query(e,n.Scope.BLOT&(this.scope|n.Scope.TYPE))&&(null==this.whitelist||("string"==typeof t?this.whitelist.indexOf(t.replace(/["']/g,""))>-1:this.whitelist.indexOf(t)>-1))},e.prototype.remove=function(e){e.removeAttribute(this.keyName)},e.prototype.value=function(e){var t=e.getAttribute(this.keyName);return this.canAdd(e,t)&&t?t:""},e}();t.default=o},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Code=void 0;var n=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(n=(a=l.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(s){o=!0,i=s}finally{try{!n&&l.return&&l.return()}finally{if(o)throw i}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0},a=d(r(2)),l=d(r(0)),s=d(r(4)),u=d(r(6)),c=d(r(7));function d(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var g=function(e){function t(){return p(this,t),f(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return h(t,e),t}(u.default);g.blotName="code",g.tagName="CODE";var v=function(e){function t(){return p(this,t),f(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return h(t,e),o(t,[{key:"delta",value:function(){var e=this,t=this.domNode.textContent;return t.endsWith("\n")&&(t=t.slice(0,-1)),t.split("\n").reduce((function(t,r){return t.insert(r).insert("\n",e.formats())}),new a.default)}},{key:"format",value:function(e,r){if(e!==this.statics.blotName||!r){var o=this.descendant(c.default,this.length()-1),a=n(o,1)[0];null!=a&&a.deleteAt(a.length()-1,1),i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,r)}}},{key:"formatAt",value:function(e,r,n,o){if(0!==r&&null!=l.default.query(n,l.default.Scope.BLOCK)&&(n!==this.statics.blotName||o!==this.statics.formats(this.domNode))){var i=this.newlineIndex(e);if(!(i<0||i>=e+r)){var a=this.newlineIndex(e,!0)+1,s=i-a+1,u=this.isolate(a,s),c=u.next;u.format(n,o),c instanceof t&&c.formatAt(0,e-a+r-s,n,o)}}}},{key:"insertAt",value:function(e,t,r){if(null==r){var o=this.descendant(c.default,e),i=n(o,2),a=i[0],l=i[1];a.insertAt(l,t)}}},{key:"length",value:function(){var e=this.domNode.textContent.length;return this.domNode.textContent.endsWith("\n")?e:e+1}},{key:"newlineIndex",value:function(e){if(arguments.length>1&&void 0!==arguments[1]&&arguments[1])return this.domNode.textContent.slice(0,e).lastIndexOf("\n");var t=this.domNode.textContent.slice(e).indexOf("\n");return t>-1?e+t:-1}},{key:"optimize",value:function(e){this.domNode.textContent.endsWith("\n")||this.appendChild(l.default.create("text","\n")),i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e);var r=this.next;null!=r&&r.prev===this&&r.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===r.statics.formats(r.domNode)&&(r.optimize(e),r.moveChildren(this),r.remove())}},{key:"replace",value:function(e){i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"replace",this).call(this,e),[].slice.call(this.domNode.querySelectorAll("*")).forEach((function(e){var t=l.default.find(e);null==t?e.parentNode.removeChild(e):t instanceof l.default.Embed?t.remove():t.unwrap()}))}}],[{key:"create",value:function(e){var r=i(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e);return r.setAttribute("spellcheck",!1),r}},{key:"formats",value:function(){return!0}}]),t}(s.default);v.blotName="code-block",v.tagName="PRE",v.TAB="  ",t.Code=g,t.default=v},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(n=(a=l.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(s){o=!0,i=s}finally{try{!n&&l.return&&l.return()}finally{if(o)throw i}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=m(r(2)),l=m(r(20)),s=m(r(0)),u=m(r(13)),c=m(r(24)),d=r(4),p=m(d),f=m(r(16)),h=m(r(21)),g=m(r(11)),v=m(r(3));function m(e){return e&&e.__esModule?e:{default:e}}var y=/^[ -~]*$/,b=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scroll=t,this.delta=this.getDelta()}return i(e,[{key:"applyDelta",value:function(e){var t=this,r=!1;this.scroll.update();var i=this.scroll.length();return this.scroll.batchStart(),e=function(e){return e.reduce((function(e,t){if(1===t.insert){var r=(0,h.default)(t.attributes);return delete r.image,e.insert({image:t.attributes.image},r)}if(null==t.attributes||!0!==t.attributes.list&&!0!==t.attributes.bullet||((t=(0,h.default)(t)).attributes.list?t.attributes.list="ordered":(t.attributes.list="bullet",delete t.attributes.bullet)),"string"==typeof t.insert){var n=t.insert.replace(/\r\n/g,"\n").replace(/\r/g,"\n");return e.insert(n,t.attributes)}return e.push(t)}),new a.default)}(e),e.reduce((function(e,a){var u=a.retain||a.delete||a.insert.length||1,c=a.attributes||{};if(null!=a.insert){if("string"==typeof a.insert){var f=a.insert;f.endsWith("\n")&&r&&(r=!1,f=f.slice(0,-1)),e>=i&&!f.endsWith("\n")&&(r=!0),t.scroll.insertAt(e,f);var h=t.scroll.line(e),g=o(h,2),m=g[0],y=g[1],b=(0,v.default)({},(0,d.bubbleFormats)(m));if(m instanceof p.default){var _=m.descendant(s.default.Leaf,y),x=o(_,1)[0];b=(0,v.default)(b,(0,d.bubbleFormats)(x))}c=l.default.attributes.diff(b,c)||{}}else if("object"===n(a.insert)){var w=Object.keys(a.insert)[0];if(null==w)return e;t.scroll.insertAt(e,w,a.insert[w])}i+=u}return Object.keys(c).forEach((function(r){t.scroll.formatAt(e,u,r,c[r])})),e+u}),0),e.reduce((function(e,r){return"number"==typeof r.delete?(t.scroll.deleteAt(e,r.delete),e):e+(r.retain||r.insert.length||1)}),0),this.scroll.batchEnd(),this.update(e)}},{key:"deleteText",value:function(e,t){return this.scroll.deleteAt(e,t),this.update((new a.default).retain(e).delete(t))}},{key:"formatLine",value:function(e,t){var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.scroll.update(),Object.keys(n).forEach((function(o){if(null==r.scroll.whitelist||r.scroll.whitelist[o]){var i=r.scroll.lines(e,Math.max(t,1)),a=t;i.forEach((function(t){var i=t.length();if(t instanceof u.default){var l=e-t.offset(r.scroll),s=t.newlineIndex(l+a)-l+1;t.formatAt(l,s,o,n[o])}else t.format(o,n[o]);a-=i}))}})),this.scroll.optimize(),this.update((new a.default).retain(e).retain(t,(0,h.default)(n)))}},{key:"formatText",value:function(e,t){var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Object.keys(n).forEach((function(o){r.scroll.formatAt(e,t,o,n[o])})),this.update((new a.default).retain(e).retain(t,(0,h.default)(n)))}},{key:"getContents",value:function(e,t){return this.delta.slice(e,e+t)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce((function(e,t){return e.concat(t.delta())}),new a.default)}},{key:"getFormat",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=[],n=[];0===t?this.scroll.path(e).forEach((function(e){var t=o(e,1)[0];t instanceof p.default?r.push(t):t instanceof s.default.Leaf&&n.push(t)})):(r=this.scroll.lines(e,t),n=this.scroll.descendants(s.default.Leaf,e,t));var i=[r,n].map((function(e){if(0===e.length)return{};for(var t=(0,d.bubbleFormats)(e.shift());Object.keys(t).length>0;){var r=e.shift();if(null==r)return t;t=_((0,d.bubbleFormats)(r),t)}return t}));return v.default.apply(v.default,i)}},{key:"getText",value:function(e,t){return this.getContents(e,t).filter((function(e){return"string"==typeof e.insert})).map((function(e){return e.insert})).join("")}},{key:"insertEmbed",value:function(e,t,r){return this.scroll.insertAt(e,t,r),this.update((new a.default).retain(e).insert(function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}({},t,r)))}},{key:"insertText",value:function(e,t){var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t=t.replace(/\r\n/g,"\n").replace(/\r/g,"\n"),this.scroll.insertAt(e,t),Object.keys(n).forEach((function(o){r.scroll.formatAt(e,t.length,o,n[o])})),this.update((new a.default).retain(e).insert(t,(0,h.default)(n)))}},{key:"isBlank",value:function(){if(0==this.scroll.children.length)return!0;if(this.scroll.children.length>1)return!1;var e=this.scroll.children.head;return e.statics.blotName===p.default.blotName&&!(e.children.length>1)&&e.children.head instanceof f.default}},{key:"removeFormat",value:function(e,t){var r=this.getText(e,t),n=this.scroll.line(e+t),i=o(n,2),l=i[0],s=i[1],c=0,d=new a.default;null!=l&&(c=l instanceof u.default?l.newlineIndex(s)-s+1:l.length()-s,d=l.delta().slice(s,s+c-1).insert("\n"));var p=this.getContents(e,t+c).diff((new a.default).insert(r).concat(d)),f=(new a.default).retain(e).concat(p);return this.applyDelta(f)}},{key:"update",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,n=this.delta;if(1===t.length&&"characterData"===t[0].type&&t[0].target.data.match(y)&&s.default.find(t[0].target)){var o=s.default.find(t[0].target),i=(0,d.bubbleFormats)(o),l=o.offset(this.scroll),u=t[0].oldValue.replace(c.default.CONTENTS,""),p=(new a.default).insert(u),f=(new a.default).insert(o.value());e=(new a.default).retain(l).concat(p.diff(f,r)).reduce((function(e,t){return t.insert?e.insert(t.insert,i):e.push(t)}),new a.default),this.delta=n.compose(e)}else this.delta=this.getDelta(),e&&(0,g.default)(n.compose(e),this.delta)||(e=n.diff(this.delta,r));return e}}]),e}();function _(e,t){return Object.keys(t).reduce((function(r,n){return null==e[n]||(t[n]===e[n]?r[n]=t[n]:Array.isArray(t[n])?t[n].indexOf(e[n])<0&&(r[n]=t[n].concat([e[n]])):r[n]=[t[n],e[n]]),r}),{})}t.default=b},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Range=void 0;var n=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(n=(a=l.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(s){o=!0,i=s}finally{try{!n&&l.return&&l.return()}finally{if(o)throw i}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=u(r(0)),a=u(r(21)),l=u(r(11)),s=u(r(8));function u(e){return e&&e.__esModule?e:{default:e}}function c(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var p=(0,u(r(10)).default)("quill:selection"),f=function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;d(this,e),this.index=t,this.length=r},h=function(){function e(t,r){var n=this;d(this,e),this.emitter=r,this.scroll=t,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=i.default.create("cursor",this),this.lastRange=this.savedRange=new f(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,(function(){n.mouseDown||setTimeout(n.update.bind(n,s.default.sources.USER),1)})),this.emitter.on(s.default.events.EDITOR_CHANGE,(function(e,t){e===s.default.events.TEXT_CHANGE&&t.length()>0&&n.update(s.default.sources.SILENT)})),this.emitter.on(s.default.events.SCROLL_BEFORE_UPDATE,(function(){if(n.hasFocus()){var e=n.getNativeRange();null!=e&&e.start.node!==n.cursor.textNode&&n.emitter.once(s.default.events.SCROLL_UPDATE,(function(){try{n.setNativeRange(e.start.node,e.start.offset,e.end.node,e.end.offset)}catch(t){}}))}})),this.emitter.on(s.default.events.SCROLL_OPTIMIZE,(function(e,t){if(t.range){var r=t.range,o=r.startNode,i=r.startOffset,a=r.endNode,l=r.endOffset;n.setNativeRange(o,i,a,l)}})),this.update(s.default.sources.SILENT)}return o(e,[{key:"handleComposition",value:function(){var e=this;this.root.addEventListener("compositionstart",(function(){e.composing=!0})),this.root.addEventListener("compositionend",(function(){if(e.composing=!1,e.cursor.parent){var t=e.cursor.restore();if(!t)return;setTimeout((function(){e.setNativeRange(t.startNode,t.startOffset,t.endNode,t.endOffset)}),1)}}))}},{key:"handleDragging",value:function(){var e=this;this.emitter.listenDOM("mousedown",document.body,(function(){e.mouseDown=!0})),this.emitter.listenDOM("mouseup",document.body,(function(){e.mouseDown=!1,e.update(s.default.sources.USER)}))}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(e,t){if(null==this.scroll.whitelist||this.scroll.whitelist[e]){this.scroll.update();var r=this.getNativeRange();if(null!=r&&r.native.collapsed&&!i.default.query(e,i.default.Scope.BLOCK)){if(r.start.node!==this.cursor.textNode){var n=i.default.find(r.start.node,!1);if(null==n)return;if(n instanceof i.default.Leaf){var o=n.split(r.start.offset);n.parent.insertBefore(this.cursor,o)}else n.insertBefore(this.cursor,r.start.node);this.cursor.attach()}this.cursor.format(e,t),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=this.scroll.length();e=Math.min(e,r-1),t=Math.min(e+t,r-1)-e;var o=void 0,i=this.scroll.leaf(e),a=n(i,2),l=a[0],s=a[1];if(null==l)return null;var u=l.position(s,!0),c=n(u,2);o=c[0],s=c[1];var d=document.createRange();if(t>0){d.setStart(o,s);var p=this.scroll.leaf(e+t),f=n(p,2);if(l=f[0],s=f[1],null==l)return null;var h=l.position(s,!0),g=n(h,2);return o=g[0],s=g[1],d.setEnd(o,s),d.getBoundingClientRect()}var v="left",m=void 0;return o instanceof Text?(s<o.data.length?(d.setStart(o,s),d.setEnd(o,s+1)):(d.setStart(o,s-1),d.setEnd(o,s),v="right"),m=d.getBoundingClientRect()):(m=l.domNode.getBoundingClientRect(),s>0&&(v="right")),{bottom:m.top+m.height,height:m.height,left:m[v],right:m[v],top:m.top,width:0}}},{key:"getNativeRange",value:function(){var e=document.getSelection();if(null==e||e.rangeCount<=0)return null;var t=e.getRangeAt(0);if(null==t)return null;var r=this.normalizeNative(t);return p.info("getNativeRange",r),r}},{key:"getRange",value:function(){var e=this.getNativeRange();return null==e?[null,null]:[this.normalizedToRange(e),e]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(e){var t=this,r=[[e.start.node,e.start.offset]];e.native.collapsed||r.push([e.end.node,e.end.offset]);var o=r.map((function(e){var r=n(e,2),o=r[0],a=r[1],l=i.default.find(o,!0),s=l.offset(t.scroll);return 0===a?s:l instanceof i.default.Container?s+l.length():s+l.index(o,a)})),a=Math.min(Math.max.apply(Math,c(o)),this.scroll.length()-1),l=Math.min.apply(Math,[a].concat(c(o)));return new f(l,a-l)}},{key:"normalizeNative",value:function(e){if(!g(this.root,e.startContainer)||!e.collapsed&&!g(this.root,e.endContainer))return null;var t={start:{node:e.startContainer,offset:e.startOffset},end:{node:e.endContainer,offset:e.endOffset},native:e};return[t.start,t.end].forEach((function(e){for(var t=e.node,r=e.offset;!(t instanceof Text)&&t.childNodes.length>0;)if(t.childNodes.length>r)t=t.childNodes[r],r=0;else{if(t.childNodes.length!==r)break;r=(t=t.lastChild)instanceof Text?t.data.length:t.childNodes.length+1}e.node=t,e.offset=r})),t}},{key:"rangeToNative",value:function(e){var t=this,r=e.collapsed?[e.index]:[e.index,e.index+e.length],o=[],i=this.scroll.length();return r.forEach((function(e,r){e=Math.min(i-1,e);var a,l=t.scroll.leaf(e),s=n(l,2),u=s[0],c=s[1],d=u.position(c,0!==r),p=n(d,2);a=p[0],c=p[1],o.push(a,c)})),o.length<2&&(o=o.concat(o)),o}},{key:"scrollIntoView",value:function(e){var t=this.lastRange;if(null!=t){var r=this.getBounds(t.index,t.length);if(null!=r){var o=this.scroll.length()-1,i=this.scroll.line(Math.min(t.index,o)),a=n(i,1)[0],l=a;if(t.length>0){var s=this.scroll.line(Math.min(t.index+t.length,o));l=n(s,1)[0]}if(null!=a&&null!=l){var u=e.getBoundingClientRect();r.top<u.top?e.scrollTop-=u.top-r.top:r.bottom>u.bottom&&(e.scrollTop+=r.bottom-u.bottom)}}}}},{key:"setNativeRange",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t,o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(p.info("setNativeRange",e,t,r,n),null==e||null!=this.root.parentNode&&null!=e.parentNode&&null!=r.parentNode){var i=document.getSelection();if(null!=i)if(null!=e){this.hasFocus()||this.root.focus();var a=(this.getNativeRange()||{}).native;if(null==a||o||e!==a.startContainer||t!==a.startOffset||r!==a.endContainer||n!==a.endOffset){"BR"==e.tagName&&(t=[].indexOf.call(e.parentNode.childNodes,e),e=e.parentNode),"BR"==r.tagName&&(n=[].indexOf.call(r.parentNode.childNodes,r),r=r.parentNode);var l=document.createRange();l.setStart(e,t),l.setEnd(r,n),i.removeAllRanges(),i.addRange(l)}}else i.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s.default.sources.API;if("string"==typeof t&&(r=t,t=!1),p.info("setRange",e),null!=e){var n=this.rangeToNative(e);this.setNativeRange.apply(this,c(n).concat([t]))}else this.setNativeRange(null);this.update(r)}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s.default.sources.USER,t=this.lastRange,r=this.getRange(),o=n(r,2),i=o[0],u=o[1];if(this.lastRange=i,null!=this.lastRange&&(this.savedRange=this.lastRange),!(0,l.default)(t,this.lastRange)){var c;!this.composing&&null!=u&&u.native.collapsed&&u.start.node!==this.cursor.textNode&&this.cursor.restore();var d,p=[s.default.events.SELECTION_CHANGE,(0,a.default)(this.lastRange),(0,a.default)(t),e];(c=this.emitter).emit.apply(c,[s.default.events.EDITOR_CHANGE].concat(p)),e!==s.default.sources.SILENT&&(d=this.emitter).emit.apply(d,p)}}}]),e}();function g(e,t){try{t.parentNode}catch(lF){return!1}return t instanceof Text&&(t=t.parentNode),e.contains(t)}t.Range=f,t.default=h},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n,o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0},a=r(0),l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"insertInto",value:function(e,r){0===e.children.length?i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertInto",this).call(this,e,r):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),t}(((n=a)&&n.__esModule?n:{default:n}).default.Embed);l.blotName="break",l.tagName="BR",t.default=l},function(e,t,r){var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var i=r(44),a=r(30),l=r(1),s=function(e){function t(t){var r=e.call(this,t)||this;return r.build(),r}return o(t,e),t.prototype.appendChild=function(e){this.insertBefore(e)},t.prototype.attach=function(){e.prototype.attach.call(this),this.children.forEach((function(e){e.attach()}))},t.prototype.build=function(){var e=this;this.children=new i.default,[].slice.call(this.domNode.childNodes).reverse().forEach((function(t){try{var r=u(t);e.insertBefore(r,e.children.head||void 0)}catch(n){if(n instanceof l.ParchmentError)return;throw n}}))},t.prototype.deleteAt=function(e,t){if(0===e&&t===this.length())return this.remove();this.children.forEachAt(e,t,(function(e,t,r){e.deleteAt(t,r)}))},t.prototype.descendant=function(e,r){var n=this.children.find(r),o=n[0],i=n[1];return null==e.blotName&&e(o)||null!=e.blotName&&o instanceof e?[o,i]:o instanceof t?o.descendant(e,i):[null,-1]},t.prototype.descendants=function(e,r,n){void 0===r&&(r=0),void 0===n&&(n=Number.MAX_VALUE);var o=[],i=n;return this.children.forEachAt(r,n,(function(r,n,a){(null==e.blotName&&e(r)||null!=e.blotName&&r instanceof e)&&o.push(r),r instanceof t&&(o=o.concat(r.descendants(e,n,i))),i-=a})),o},t.prototype.detach=function(){this.children.forEach((function(e){e.detach()})),e.prototype.detach.call(this)},t.prototype.formatAt=function(e,t,r,n){this.children.forEachAt(e,t,(function(e,t,o){e.formatAt(t,o,r,n)}))},t.prototype.insertAt=function(e,t,r){var n=this.children.find(e),o=n[0],i=n[1];if(o)o.insertAt(i,t,r);else{var a=null==r?l.create("text",t):l.create(t,r);this.appendChild(a)}},t.prototype.insertBefore=function(e,t){if(null!=this.statics.allowedChildren&&!this.statics.allowedChildren.some((function(t){return e instanceof t})))throw new l.ParchmentError("Cannot insert "+e.statics.blotName+" into "+this.statics.blotName);e.insertInto(this,t)},t.prototype.length=function(){return this.children.reduce((function(e,t){return e+t.length()}),0)},t.prototype.moveChildren=function(e,t){this.children.forEach((function(r){e.insertBefore(r,t)}))},t.prototype.optimize=function(t){if(e.prototype.optimize.call(this,t),0===this.children.length)if(null!=this.statics.defaultChild){var r=l.create(this.statics.defaultChild);this.appendChild(r),r.optimize(t)}else this.remove()},t.prototype.path=function(e,r){void 0===r&&(r=!1);var n=this.children.find(e,r),o=n[0],i=n[1],a=[[this,e]];return o instanceof t?a.concat(o.path(i,r)):(null!=o&&a.push([o,i]),a)},t.prototype.removeChild=function(e){this.children.remove(e)},t.prototype.replace=function(r){r instanceof t&&r.moveChildren(this),e.prototype.replace.call(this,r)},t.prototype.split=function(e,t){if(void 0===t&&(t=!1),!t){if(0===e)return this;if(e===this.length())return this.next}var r=this.clone();return this.parent.insertBefore(r,this.next),this.children.forEachAt(e,this.length(),(function(e,n,o){e=e.split(n,t),r.appendChild(e)})),r},t.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},t.prototype.update=function(e,t){var r=this,n=[],o=[];e.forEach((function(e){e.target===r.domNode&&"childList"===e.type&&(n.push.apply(n,e.addedNodes),o.push.apply(o,e.removedNodes))})),o.forEach((function(e){if(!(null!=e.parentNode&&"IFRAME"!==e.tagName&&document.body.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var t=l.find(e);null!=t&&(null!=t.domNode.parentNode&&t.domNode.parentNode!==r.domNode||t.detach())}})),n.filter((function(e){return e.parentNode==r.domNode})).sort((function(e,t){return e===t?0:e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1})).forEach((function(e){var t=null;null!=e.nextSibling&&(t=l.find(e.nextSibling));var n=u(e);n.next==t&&null!=n.next||(null!=n.parent&&n.parent.removeChild(r),r.insertBefore(n,t||void 0))}))},t}(a.default);function u(e){var t=l.find(e);if(null==t)try{t=l.create(e)}catch(lF){t=l.create(l.Scope.INLINE),[].slice.call(e.childNodes).forEach((function(e){t.domNode.appendChild(e)})),e.parentNode&&e.parentNode.replaceChild(t.domNode,e),t.attach()}return t}t.default=s},function(e,t,r){var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var i=r(12),a=r(31),l=r(17),s=r(1),u=function(e){function t(t){var r=e.call(this,t)||this;return r.attributes=new a.default(r.domNode),r}return o(t,e),t.formats=function(e){return"string"==typeof this.tagName||(Array.isArray(this.tagName)?e.tagName.toLowerCase():void 0)},t.prototype.format=function(e,t){var r=s.query(e);r instanceof i.default?this.attributes.attribute(r,t):t&&(null==r||e===this.statics.blotName&&this.formats()[e]===t||this.replaceWith(e,t))},t.prototype.formats=function(){var e=this.attributes.values(),t=this.statics.formats(this.domNode);return null!=t&&(e[this.statics.blotName]=t),e},t.prototype.replaceWith=function(t,r){var n=e.prototype.replaceWith.call(this,t,r);return this.attributes.copy(n),n},t.prototype.update=function(t,r){var n=this;e.prototype.update.call(this,t,r),t.some((function(e){return e.target===n.domNode&&"attributes"===e.type}))&&this.attributes.build()},t.prototype.wrap=function(r,n){var o=e.prototype.wrap.call(this,r,n);return o instanceof t&&o.statics.scope===this.statics.scope&&this.attributes.move(o),o},t}(l.default);t.default=u},function(e,t,r){var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var i=r(30),a=r(1),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.value=function(e){return!0},t.prototype.index=function(e,t){return this.domNode===e||this.domNode.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(t,1):-1},t.prototype.position=function(e,t){var r=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return e>0&&(r+=1),[this.parent.domNode,r]},t.prototype.value=function(){var e;return(e={})[this.statics.blotName]=this.statics.value(this.domNode)||!0,e},t.scope=a.Scope.INLINE_BLOT,t}(i.default);t.default=l},function(e,t,r){var n=r(11),o=r(3),i={attributes:{compose:function(e,t,r){"object"!=typeof e&&(e={}),"object"!=typeof t&&(t={});var n=o(!0,{},t);for(var i in r||(n=Object.keys(n).reduce((function(e,t){return null!=n[t]&&(e[t]=n[t]),e}),{})),e)void 0!==e[i]&&void 0===t[i]&&(n[i]=e[i]);return Object.keys(n).length>0?n:void 0},diff:function(e,t){"object"!=typeof e&&(e={}),"object"!=typeof t&&(t={});var r=Object.keys(e).concat(Object.keys(t)).reduce((function(r,o){return n(e[o],t[o])||(r[o]=void 0===t[o]?null:t[o]),r}),{});return Object.keys(r).length>0?r:void 0},transform:function(e,t,r){if("object"!=typeof e)return t;if("object"==typeof t){if(!r)return t;var n=Object.keys(t).reduce((function(r,n){return void 0===e[n]&&(r[n]=t[n]),r}),{});return Object.keys(n).length>0?n:void 0}}},iterator:function(e){return new a(e)},length:function(e){return"number"==typeof e.delete?e.delete:"number"==typeof e.retain?e.retain:"string"==typeof e.insert?e.insert.length:1}};function a(e){this.ops=e,this.index=0,this.offset=0}a.prototype.hasNext=function(){return this.peekLength()<1/0},a.prototype.next=function(e){e||(e=1/0);var t=this.ops[this.index];if(t){var r=this.offset,n=i.length(t);if(e>=n-r?(e=n-r,this.index+=1,this.offset=0):this.offset+=e,"number"==typeof t.delete)return{delete:e};var o={};return t.attributes&&(o.attributes=t.attributes),"number"==typeof t.retain?o.retain=e:"string"==typeof t.insert?o.insert=t.insert.substr(r,e):o.insert=t.insert,o}return{retain:1/0}},a.prototype.peek=function(){return this.ops[this.index]},a.prototype.peekLength=function(){return this.ops[this.index]?i.length(this.ops[this.index])-this.offset:1/0},a.prototype.peekType=function(){return this.ops[this.index]?"number"==typeof this.ops[this.index].delete?"delete":"number"==typeof this.ops[this.index].retain?"retain":"insert":"retain"},a.prototype.rest=function(){if(this.hasNext()){if(0===this.offset)return this.ops.slice(this.index);var e=this.offset,t=this.index,r=this.next(),n=this.ops.slice(this.index);return this.offset=e,this.index=t,[r].concat(n)}return[]},e.exports=i},function(e,t){var r=function(){function e(e,t){return null!=t&&e instanceof t}var t,r,n;try{t=Map}catch(l){t=function(){}}try{r=Set}catch(l){r=function(){}}try{n=Promise}catch(l){n=function(){}}function o(i,l,s,u,c){"object"==typeof l&&(s=l.depth,u=l.prototype,c=l.includeNonEnumerable,l=l.circular);var d=[],p=[],f="undefined"!=typeof Buffer;return void 0===l&&(l=!0),void 0===s&&(s=1/0),function i(s,h){if(null===s)return null;if(0===h)return s;var g,v;if("object"!=typeof s)return s;if(e(s,t))g=new t;else if(e(s,r))g=new r;else if(e(s,n))g=new n((function(e,t){s.then((function(t){e(i(t,h-1))}),(function(e){t(i(e,h-1))}))}));else if(o.__isArray(s))g=[];else if(o.__isRegExp(s))g=new RegExp(s.source,a(s)),s.lastIndex&&(g.lastIndex=s.lastIndex);else if(o.__isDate(s))g=new Date(s.getTime());else{if(f&&Buffer.isBuffer(s))return g=Buffer.allocUnsafe?Buffer.allocUnsafe(s.length):new Buffer(s.length),s.copy(g),g;e(s,Error)?g=Object.create(s):void 0===u?(v=Object.getPrototypeOf(s),g=Object.create(v)):(g=Object.create(u),v=u)}if(l){var m=d.indexOf(s);if(-1!=m)return p[m];d.push(s),p.push(g)}for(var y in e(s,t)&&s.forEach((function(e,t){var r=i(t,h-1),n=i(e,h-1);g.set(r,n)})),e(s,r)&&s.forEach((function(e){var t=i(e,h-1);g.add(t)})),s){var b;v&&(b=Object.getOwnPropertyDescriptor(v,y)),b&&null==b.set||(g[y]=i(s[y],h-1))}if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(s);for(y=0;y<_.length;y++){var x=_[y];(!(O=Object.getOwnPropertyDescriptor(s,x))||O.enumerable||c)&&(g[x]=i(s[x],h-1),O.enumerable||Object.defineProperty(g,x,{enumerable:!1}))}}if(c){var w=Object.getOwnPropertyNames(s);for(y=0;y<w.length;y++){var O,S=w[y];(O=Object.getOwnPropertyDescriptor(s,S))&&O.enumerable||(g[S]=i(s[S],h-1),Object.defineProperty(g,S,{enumerable:!1}))}}return g}(i,s)}function i(e){return Object.prototype.toString.call(e)}function a(e){var t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),t}return o.clonePrototype=function(e){if(null===e)return null;var t=function(){};return t.prototype=e,new t},o.__objToStr=i,o.__isDate=function(e){return"object"==typeof e&&"[object Date]"===i(e)},o.__isArray=function(e){return"object"==typeof e&&"[object Array]"===i(e)},o.__isRegExp=function(e){return"object"==typeof e&&"[object RegExp]"===i(e)},o.__getRegExpFlags=a,o}();"object"==typeof e&&e.exports&&(e.exports=r)},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(n=(a=l.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(s){o=!0,i=s}finally{try{!n&&l.return&&l.return()}finally{if(o)throw i}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0},a=f(r(0)),l=f(r(8)),s=r(4),u=f(s),c=f(r(16)),d=f(r(13)),p=f(r(25));function f(e){return e&&e.__esModule?e:{default:e}}function h(e){return e instanceof u.default||e instanceof s.BlockEmbed}var g=function(e){function t(e,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.emitter=r.emitter,Array.isArray(r.whitelist)&&(n.whitelist=r.whitelist.reduce((function(e,t){return e[t]=!0,e}),{})),n.domNode.addEventListener("DOMNodeInserted",(function(){})),n.optimize(),n.enable(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(e,r){var o=this.line(e),a=n(o,2),l=a[0],u=a[1],p=this.line(e+r),f=n(p,1)[0];if(i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"deleteAt",this).call(this,e,r),null!=f&&l!==f&&u>0){if(l instanceof s.BlockEmbed||f instanceof s.BlockEmbed)return void this.optimize();if(l instanceof d.default){var h=l.newlineIndex(l.length(),!0);if(h>-1&&(l=l.split(h+1))===f)return void this.optimize()}else if(f instanceof d.default){var g=f.newlineIndex(0);g>-1&&f.split(g+1)}var v=f.children.head instanceof c.default?null:f.children.head;l.moveChildren(f,v),l.remove()}this.optimize()}},{key:"enable",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.domNode.setAttribute("contenteditable",e)}},{key:"formatAt",value:function(e,r,n,o){(null==this.whitelist||this.whitelist[n])&&(i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"formatAt",this).call(this,e,r,n,o),this.optimize())}},{key:"insertAt",value:function(e,r,n){if(null==n||null==this.whitelist||this.whitelist[r]){if(e>=this.length())if(null==n||null==a.default.query(r,a.default.Scope.BLOCK)){var o=a.default.create(this.statics.defaultChild);this.appendChild(o),null==n&&r.endsWith("\n")&&(r=r.slice(0,-1)),o.insertAt(0,r,n)}else{var l=a.default.create(r,n);this.appendChild(l)}else i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertAt",this).call(this,e,r,n);this.optimize()}}},{key:"insertBefore",value:function(e,r){if(e.statics.scope===a.default.Scope.INLINE_BLOT){var n=a.default.create(this.statics.defaultChild);n.appendChild(e),e=n}i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertBefore",this).call(this,e,r)}},{key:"leaf",value:function(e){return this.path(e).pop()||[null,-1]}},{key:"line",value:function(e){return e===this.length()?this.line(e-1):this.descendant(h,e)}},{key:"lines",value:function(){return function e(t,r,n){var o=[],i=n;return t.children.forEachAt(r,n,(function(t,r,n){h(t)?o.push(t):t instanceof a.default.Container&&(o=o.concat(e(t,r,i))),i-=n})),o}(this,arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE)}},{key:"optimize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!0!==this.batch&&(i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e,r),e.length>0&&this.emitter.emit(l.default.events.SCROLL_OPTIMIZE,e,r))}},{key:"path",value:function(e){return i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"path",this).call(this,e).slice(1)}},{key:"update",value:function(e){if(!0!==this.batch){var r=l.default.sources.USER;"string"==typeof e&&(r=e),Array.isArray(e)||(e=this.observer.takeRecords()),e.length>0&&this.emitter.emit(l.default.events.SCROLL_BEFORE_UPDATE,r,e),i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"update",this).call(this,e.concat([])),e.length>0&&this.emitter.emit(l.default.events.SCROLL_UPDATE,r,e)}}}]),t}(a.default.Scroll);g.blotName="scroll",g.className="ql-editor",g.tagName="DIV",g.defaultChild="block",g.allowedChildren=[u.default,s.BlockEmbed,p.default],t.default=g},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.SHORTKEY=t.default=void 0;var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(n=(a=l.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(s){o=!0,i=s}finally{try{!n&&l.return&&l.return()}finally{if(o)throw i}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=g(r(21)),l=g(r(11)),s=g(r(3)),u=g(r(2)),c=g(r(20)),d=g(r(0)),p=g(r(5)),f=g(r(10)),h=g(r(9));function g(e){return e&&e.__esModule?e:{default:e}}function v(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var m=(0,f.default)("quill:keyboard"),y=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",b=function(e){function t(e,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));return n.bindings={},Object.keys(n.options.bindings).forEach((function(t){("list autofill"!==t||null==e.scroll.whitelist||e.scroll.whitelist.list)&&n.options.bindings[t]&&n.addBinding(n.options.bindings[t])})),n.addBinding({key:t.keys.ENTER,shiftKey:null},S),n.addBinding({key:t.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},(function(){})),/Firefox/i.test(navigator.userAgent)?(n.addBinding({key:t.keys.BACKSPACE},{collapsed:!0},x),n.addBinding({key:t.keys.DELETE},{collapsed:!0},w)):(n.addBinding({key:t.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},x),n.addBinding({key:t.keys.DELETE},{collapsed:!0,suffix:/^.?$/},w)),n.addBinding({key:t.keys.BACKSPACE},{collapsed:!1},O),n.addBinding({key:t.keys.DELETE},{collapsed:!1},O),n.addBinding({key:t.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},x),n.listen(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,null,[{key:"match",value:function(e,t){return t=E(t),!["altKey","ctrlKey","metaKey","shiftKey"].some((function(r){return!!t[r]!==e[r]&&null!==t[r]}))&&t.key===(e.which||e.keyCode)}}]),i(t,[{key:"addBinding",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=E(e);if(null==n||null==n.key)return m.warn("Attempted to add invalid keyboard binding",n);"function"==typeof t&&(t={handler:t}),"function"==typeof r&&(r={handler:r}),n=(0,s.default)(n,t,r),this.bindings[n.key]=this.bindings[n.key]||[],this.bindings[n.key].push(n)}},{key:"listen",value:function(){var e=this;this.quill.root.addEventListener("keydown",(function(r){if(!r.defaultPrevented){var i=r.which||r.keyCode,a=(e.bindings[i]||[]).filter((function(e){return t.match(r,e)}));if(0!==a.length){var s=e.quill.getSelection();if(null!=s&&e.quill.hasFocus()){var u=e.quill.getLine(s.index),c=o(u,2),p=c[0],f=c[1],h=e.quill.getLeaf(s.index),g=o(h,2),v=g[0],m=g[1],y=0===s.length?[v,m]:e.quill.getLeaf(s.index+s.length),b=o(y,2),_=b[0],x=b[1],w=v instanceof d.default.Text?v.value().slice(0,m):"",O=_ instanceof d.default.Text?_.value().slice(x):"",S={collapsed:0===s.length,empty:0===s.length&&p.length()<=1,format:e.quill.getFormat(s),offset:f,prefix:w,suffix:O};a.some((function(t){if(null!=t.collapsed&&t.collapsed!==S.collapsed)return!1;if(null!=t.empty&&t.empty!==S.empty)return!1;if(null!=t.offset&&t.offset!==S.offset)return!1;if(Array.isArray(t.format)){if(t.format.every((function(e){return null==S.format[e]})))return!1}else if("object"===n(t.format)&&!Object.keys(t.format).every((function(e){return!0===t.format[e]?null!=S.format[e]:!1===t.format[e]?null==S.format[e]:(0,l.default)(t.format[e],S.format[e])})))return!1;return!(null!=t.prefix&&!t.prefix.test(S.prefix)||null!=t.suffix&&!t.suffix.test(S.suffix)||!0===t.handler.call(e,s,S))}))&&r.preventDefault()}}}}))}}]),t}(h.default);function _(e,t){var r,n=e===b.keys.LEFT?"prefix":"suffix";return v(r={key:e,shiftKey:t,altKey:null},n,/^$/),v(r,"handler",(function(r){var n=r.index;e===b.keys.RIGHT&&(n+=r.length+1);var i=this.quill.getLeaf(n);return!(o(i,1)[0]instanceof d.default.Embed&&(e===b.keys.LEFT?t?this.quill.setSelection(r.index-1,r.length+1,p.default.sources.USER):this.quill.setSelection(r.index-1,p.default.sources.USER):t?this.quill.setSelection(r.index,r.length+1,p.default.sources.USER):this.quill.setSelection(r.index+r.length+1,p.default.sources.USER),1))})),r}function x(e,t){if(!(0===e.index||this.quill.getLength()<=1)){var r=this.quill.getLine(e.index),n=o(r,1)[0],i={};if(0===t.offset){var a=this.quill.getLine(e.index-1),l=o(a,1)[0];if(null!=l&&l.length()>1){var s=n.formats(),u=this.quill.getFormat(e.index-1,1);i=c.default.attributes.diff(s,u)||{}}}var d=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(t.prefix)?2:1;this.quill.deleteText(e.index-d,d,p.default.sources.USER),Object.keys(i).length>0&&this.quill.formatLine(e.index-d,d,i,p.default.sources.USER),this.quill.focus()}}function w(e,t){var r=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(t.suffix)?2:1;if(!(e.index>=this.quill.getLength()-r)){var n={},i=0,a=this.quill.getLine(e.index),l=o(a,1)[0];if(t.offset>=l.length()-1){var s=this.quill.getLine(e.index+1),u=o(s,1)[0];if(u){var d=l.formats(),f=this.quill.getFormat(e.index,1);n=c.default.attributes.diff(d,f)||{},i=u.length()}}this.quill.deleteText(e.index,r,p.default.sources.USER),Object.keys(n).length>0&&this.quill.formatLine(e.index+i-1,r,n,p.default.sources.USER)}}function O(e){var t=this.quill.getLines(e),r={};if(t.length>1){var n=t[0].formats(),o=t[t.length-1].formats();r=c.default.attributes.diff(o,n)||{}}this.quill.deleteText(e,p.default.sources.USER),Object.keys(r).length>0&&this.quill.formatLine(e.index,1,r,p.default.sources.USER),this.quill.setSelection(e.index,p.default.sources.SILENT),this.quill.focus()}function S(e,t){var r=this;e.length>0&&this.quill.scroll.deleteAt(e.index,e.length);var n=Object.keys(t.format).reduce((function(e,r){return d.default.query(r,d.default.Scope.BLOCK)&&!Array.isArray(t.format[r])&&(e[r]=t.format[r]),e}),{});this.quill.insertText(e.index,"\n",n,p.default.sources.USER),this.quill.setSelection(e.index+1,p.default.sources.SILENT),this.quill.focus(),Object.keys(t.format).forEach((function(e){null==n[e]&&(Array.isArray(t.format[e])||"link"!==e&&r.quill.format(e,t.format[e],p.default.sources.USER))}))}function k(e){return{key:b.keys.TAB,shiftKey:!e,format:{"code-block":!0},handler:function(t){var r=d.default.query("code-block"),n=t.index,i=t.length,a=this.quill.scroll.descendant(r,n),l=o(a,2),s=l[0],u=l[1];if(null!=s){var c=this.quill.getIndex(s),f=s.newlineIndex(u,!0)+1,h=s.newlineIndex(c+u+i),g=s.domNode.textContent.slice(f,h).split("\n");u=0,g.forEach((function(t,o){e?(s.insertAt(f+u,r.TAB),u+=r.TAB.length,0===o?n+=r.TAB.length:i+=r.TAB.length):t.startsWith(r.TAB)&&(s.deleteAt(f+u,r.TAB.length),u-=r.TAB.length,0===o?n-=r.TAB.length:i-=r.TAB.length),u+=t.length+1})),this.quill.update(p.default.sources.USER),this.quill.setSelection(n,i,p.default.sources.SILENT)}}}}function j(e){return{key:e[0].toUpperCase(),shortKey:!0,handler:function(t,r){this.quill.format(e,!r.format[e],p.default.sources.USER)}}}function E(e){if("string"==typeof e||"number"==typeof e)return E({key:e});if("object"===(void 0===e?"undefined":n(e))&&(e=(0,a.default)(e,!1)),"string"==typeof e.key)if(null!=b.keys[e.key.toUpperCase()])e.key=b.keys[e.key.toUpperCase()];else{if(1!==e.key.length)return null;e.key=e.key.toUpperCase().charCodeAt(0)}return e.shortKey&&(e[y]=e.shortKey,delete e.shortKey),e}b.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},b.DEFAULTS={bindings:{bold:j("bold"),italic:j("italic"),underline:j("underline"),indent:{key:b.keys.TAB,format:["blockquote","indent","list"],handler:function(e,t){if(t.collapsed&&0!==t.offset)return!0;this.quill.format("indent","+1",p.default.sources.USER)}},outdent:{key:b.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(e,t){if(t.collapsed&&0!==t.offset)return!0;this.quill.format("indent","-1",p.default.sources.USER)}},"outdent backspace":{key:b.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(e,t){null!=t.format.indent?this.quill.format("indent","-1",p.default.sources.USER):null!=t.format.list&&this.quill.format("list",!1,p.default.sources.USER)}},"indent code-block":k(!0),"outdent code-block":k(!1),"remove tab":{key:b.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(e){this.quill.deleteText(e.index-1,1,p.default.sources.USER)}},tab:{key:b.keys.TAB,handler:function(e){this.quill.history.cutoff();var t=(new u.default).retain(e.index).delete(e.length).insert("\t");this.quill.updateContents(t,p.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(e.index+1,p.default.sources.SILENT)}},"list empty enter":{key:b.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(e,t){this.quill.format("list",!1,p.default.sources.USER),t.format.indent&&this.quill.format("indent",!1,p.default.sources.USER)}},"checklist enter":{key:b.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(e){var t=this.quill.getLine(e.index),r=o(t,2),n=r[0],i=r[1],a=(0,s.default)({},n.formats(),{list:"checked"}),l=(new u.default).retain(e.index).insert("\n",a).retain(n.length()-i-1).retain(1,{list:"unchecked"});this.quill.updateContents(l,p.default.sources.USER),this.quill.setSelection(e.index+1,p.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:b.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(e,t){var r=this.quill.getLine(e.index),n=o(r,2),i=n[0],a=n[1],l=(new u.default).retain(e.index).insert("\n",t.format).retain(i.length()-a-1).retain(1,{header:null});this.quill.updateContents(l,p.default.sources.USER),this.quill.setSelection(e.index+1,p.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(e,t){var r=t.prefix.length,n=this.quill.getLine(e.index),i=o(n,2),a=i[0],l=i[1];if(l>r)return!0;var s=void 0;switch(t.prefix.trim()){case"[]":case"[ ]":s="unchecked";break;case"[x]":s="checked";break;case"-":case"*":s="bullet";break;default:s="ordered"}this.quill.insertText(e.index," ",p.default.sources.USER),this.quill.history.cutoff();var c=(new u.default).retain(e.index-l).delete(r+1).retain(a.length()-2-l).retain(1,{list:s});this.quill.updateContents(c,p.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(e.index-r,p.default.sources.SILENT)}},"code exit":{key:b.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(e){var t=this.quill.getLine(e.index),r=o(t,2),n=r[0],i=r[1],a=(new u.default).retain(e.index+n.length()-i-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(a,p.default.sources.USER)}},"embed left":_(b.keys.LEFT,!1),"embed left shift":_(b.keys.LEFT,!0),"embed right":_(b.keys.RIGHT,!1),"embed right shift":_(b.keys.RIGHT,!0)}},t.default=b,t.SHORTKEY=y},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(n=(a=l.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(s){o=!0,i=s}finally{try{!n&&l.return&&l.return()}finally{if(o)throw i}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=s(r(0)),l=s(r(7));function s(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(e,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.selection=r,n.textNode=document.createTextNode(t.CONTENTS),n.domNode.appendChild(n.textNode),n._length=0,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,null,[{key:"value",value:function(){}}]),i(t,[{key:"detach",value:function(){null!=this.parent&&this.parent.removeChild(this)}},{key:"format",value:function(e,r){if(0!==this._length)return o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,r);for(var n=this,i=0;null!=n&&n.statics.scope!==a.default.Scope.BLOCK_BLOT;)i+=n.offset(n.parent),n=n.parent;null!=n&&(this._length=t.CONTENTS.length,n.optimize(),n.formatAt(i,t.CONTENTS.length,e,r),this._length=0)}},{key:"index",value:function(e,r){return e===this.textNode?0:o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"index",this).call(this,e,r)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!this.selection.composing&&null!=this.parent){var e=this.textNode,r=this.selection.getNativeRange(),o=void 0,i=void 0,s=void 0;if(null!=r&&r.start.node===e&&r.end.node===e){var u=[e,r.start.offset,r.end.offset];o=u[0],i=u[1],s=u[2]}for(;null!=this.domNode.lastChild&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==t.CONTENTS){var c=this.textNode.data.split(t.CONTENTS).join("");this.next instanceof l.default?(o=this.next.domNode,this.next.insertAt(0,c),this.textNode.data=t.CONTENTS):(this.textNode.data=c,this.parent.insertBefore(a.default.create(this.textNode),this),this.textNode=document.createTextNode(t.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),null!=i){var d=[i,s].map((function(e){return Math.max(0,Math.min(o.data.length,e-1))})),p=n(d,2);return i=p[0],s=p[1],{startNode:o,startOffset:i,endNode:o,endOffset:s}}}}},{key:"update",value:function(e,t){var r=this;if(e.some((function(e){return"characterData"===e.type&&e.target===r.textNode}))){var n=this.restore();n&&(t.range=n)}}},{key:"value",value:function(){return""}}]),t}(a.default.Embed);u.blotName="cursor",u.className="ql-cursor",u.tagName="span",u.CONTENTS="\ufeff",t.default=u},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=a(r(0)),o=r(4),i=a(o);function a(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(n.default.Container);l.allowedChildren=[i.default,o.BlockEmbed,l],t.default=l},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.ColorStyle=t.ColorClass=t.ColorAttributor=void 0;var n,o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0},a=r(0),l=(n=a)&&n.__esModule?n:{default:n},s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"value",value:function(e){var r=i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"value",this).call(this,e);return r.startsWith("rgb(")?(r=r.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+r.split(",").map((function(e){return("00"+parseInt(e).toString(16)).slice(-2)})).join("")):r}}]),t}(l.default.Attributor.Style),u=new l.default.Attributor.Class("color","ql-color",{scope:l.default.Scope.INLINE}),c=new s("color","color",{scope:l.default.Scope.INLINE});t.ColorAttributor=s,t.ColorClass=u,t.ColorStyle=c},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.sanitize=t.default=void 0;var n,o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0},a=r(6),l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"format",value:function(e,r){if(e!==this.statics.blotName||!r)return i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,r);r=this.constructor.sanitize(r),this.domNode.setAttribute("href",r)}}],[{key:"create",value:function(e){var r=i(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e);return e=this.sanitize(e),r.setAttribute("href",e),r.setAttribute("rel","noopener noreferrer"),r.setAttribute("target","_blank"),r}},{key:"formats",value:function(e){return e.getAttribute("href")}},{key:"sanitize",value:function(e){return s(e,this.PROTOCOL_WHITELIST)?e:this.SANITIZED_URL}}]),t}(((n=a)&&n.__esModule?n:{default:n}).default);function s(e,t){var r=document.createElement("a");r.href=e;var n=r.href.slice(0,r.href.indexOf(":"));return t.indexOf(n)>-1}l.blotName="link",l.tagName="A",l.SANITIZED_URL="about:blank",l.PROTOCOL_WHITELIST=["http","https","mailto","tel"],t.default=l,t.sanitize=s},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=l(r(23)),a=l(r(107));function l(e){return e&&e.__esModule?e:{default:e}}var s=0;function u(e,t){e.setAttribute(t,!("true"===e.getAttribute(t)))}var c=function(){function e(t){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.select=t,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",(function(){r.togglePicker()})),this.label.addEventListener("keydown",(function(e){switch(e.keyCode){case i.default.keys.ENTER:r.togglePicker();break;case i.default.keys.ESCAPE:r.escape(),e.preventDefault()}})),this.select.addEventListener("change",this.update.bind(this))}return o(e,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),u(this.label,"aria-expanded"),u(this.options,"aria-hidden")}},{key:"buildItem",value:function(e){var t=this,r=document.createElement("span");return r.tabIndex="0",r.setAttribute("role","button"),r.classList.add("ql-picker-item"),e.hasAttribute("value")&&r.setAttribute("data-value",e.getAttribute("value")),e.textContent&&r.setAttribute("data-label",e.textContent),r.addEventListener("click",(function(){t.selectItem(r,!0)})),r.addEventListener("keydown",(function(e){switch(e.keyCode){case i.default.keys.ENTER:t.selectItem(r,!0),e.preventDefault();break;case i.default.keys.ESCAPE:t.escape(),e.preventDefault()}})),r}},{key:"buildLabel",value:function(){var e=document.createElement("span");return e.classList.add("ql-picker-label"),e.innerHTML=a.default,e.tabIndex="0",e.setAttribute("role","button"),e.setAttribute("aria-expanded","false"),this.container.appendChild(e),e}},{key:"buildOptions",value:function(){var e=this,t=document.createElement("span");t.classList.add("ql-picker-options"),t.setAttribute("aria-hidden","true"),t.tabIndex="-1",t.id="ql-picker-options-"+s,s+=1,this.label.setAttribute("aria-controls",t.id),this.options=t,[].slice.call(this.select.options).forEach((function(r){var n=e.buildItem(r);t.appendChild(n),!0===r.selected&&e.selectItem(n)})),this.container.appendChild(t)}},{key:"buildPicker",value:function(){var e=this;[].slice.call(this.select.attributes).forEach((function(t){e.container.setAttribute(t.name,t.value)})),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var e=this;this.close(),setTimeout((function(){return e.label.focus()}),1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.container.querySelector(".ql-selected");if(e!==r&&(null!=r&&r.classList.remove("ql-selected"),null!=e&&(e.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(e.parentNode.children,e),e.hasAttribute("data-value")?this.label.setAttribute("data-value",e.getAttribute("data-value")):this.label.removeAttribute("data-value"),e.hasAttribute("data-label")?this.label.setAttribute("data-label",e.getAttribute("data-label")):this.label.removeAttribute("data-label"),t))){if("function"==typeof Event)this.select.dispatchEvent(new Event("change"));else if("object"===("undefined"==typeof Event?"undefined":n(Event))){var o=document.createEvent("Event");o.initEvent("change",!0,!0),this.select.dispatchEvent(o)}this.close()}}},{key:"update",value:function(){var e=void 0;if(this.select.selectedIndex>-1){var t=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];e=this.select.options[this.select.selectedIndex],this.selectItem(t)}else this.selectItem(null);var r=null!=e&&e!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",r)}}]),e}();t.default=c},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=m(r(0)),o=m(r(5)),i=r(4),a=m(i),l=m(r(16)),s=m(r(25)),u=m(r(24)),c=m(r(35)),d=m(r(6)),p=m(r(22)),f=m(r(7)),h=m(r(55)),g=m(r(42)),v=m(r(23));function m(e){return e&&e.__esModule?e:{default:e}}o.default.register({"blots/block":a.default,"blots/block/embed":i.BlockEmbed,"blots/break":l.default,"blots/container":s.default,"blots/cursor":u.default,"blots/embed":c.default,"blots/inline":d.default,"blots/scroll":p.default,"blots/text":f.default,"modules/clipboard":h.default,"modules/history":g.default,"modules/keyboard":v.default}),n.default.register(a.default,l.default,u.default,d.default,p.default,f.default),t.default=o.default},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r(1),o=function(){function e(e){this.domNode=e,this.domNode[n.DATA_KEY]={blot:this}}return Object.defineProperty(e.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),e.create=function(e){if(null==this.tagName)throw new n.ParchmentError("Blot definition missing tagName");var t;return Array.isArray(this.tagName)?("string"==typeof e&&(e=e.toUpperCase(),parseInt(e).toString()===e&&(e=parseInt(e))),t="number"==typeof e?document.createElement(this.tagName[e-1]):this.tagName.indexOf(e)>-1?document.createElement(e):document.createElement(this.tagName[0])):t=document.createElement(this.tagName),this.className&&t.classList.add(this.className),t},e.prototype.attach=function(){null!=this.parent&&(this.scroll=this.parent.scroll)},e.prototype.clone=function(){var e=this.domNode.cloneNode(!1);return n.create(e)},e.prototype.detach=function(){null!=this.parent&&this.parent.removeChild(this),delete this.domNode[n.DATA_KEY]},e.prototype.deleteAt=function(e,t){this.isolate(e,t).remove()},e.prototype.formatAt=function(e,t,r,o){var i=this.isolate(e,t);if(null!=n.query(r,n.Scope.BLOT)&&o)i.wrap(r,o);else if(null!=n.query(r,n.Scope.ATTRIBUTE)){var a=n.create(this.statics.scope);i.wrap(a),a.format(r,o)}},e.prototype.insertAt=function(e,t,r){var o=null==r?n.create("text",t):n.create(t,r),i=this.split(e);this.parent.insertBefore(o,i)},e.prototype.insertInto=function(e,t){void 0===t&&(t=null),null!=this.parent&&this.parent.children.remove(this);var r=null;e.children.insertBefore(this,t),null!=t&&(r=t.domNode),this.domNode.parentNode==e.domNode&&this.domNode.nextSibling==r||e.domNode.insertBefore(this.domNode,r),this.parent=e,this.attach()},e.prototype.isolate=function(e,t){var r=this.split(e);return r.split(t),r},e.prototype.length=function(){return 1},e.prototype.offset=function(e){return void 0===e&&(e=this.parent),null==this.parent||this==e?0:this.parent.children.offset(this)+this.parent.offset(e)},e.prototype.optimize=function(e){null!=this.domNode[n.DATA_KEY]&&delete this.domNode[n.DATA_KEY].mutations},e.prototype.remove=function(){null!=this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},e.prototype.replace=function(e){null!=e.parent&&(e.parent.insertBefore(this,e.next),e.remove())},e.prototype.replaceWith=function(e,t){var r="string"==typeof e?n.create(e,t):e;return r.replace(this),r},e.prototype.split=function(e,t){return 0===e?this:this.next},e.prototype.update=function(e,t){},e.prototype.wrap=function(e,t){var r="string"==typeof e?n.create(e,t):e;return null!=this.parent&&this.parent.insertBefore(r,this.next),r.appendChild(this),r},e.blotName="abstract",e}();t.default=o},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=r(12),o=r(32),i=r(33),a=r(1),l=function(){function e(e){this.attributes={},this.domNode=e,this.build()}return e.prototype.attribute=function(e,t){t?e.add(this.domNode,t)&&(null!=e.value(this.domNode)?this.attributes[e.attrName]=e:delete this.attributes[e.attrName]):(e.remove(this.domNode),delete this.attributes[e.attrName])},e.prototype.build=function(){var e=this;this.attributes={};var t=n.default.keys(this.domNode),r=o.default.keys(this.domNode),l=i.default.keys(this.domNode);t.concat(r).concat(l).forEach((function(t){var r=a.query(t,a.Scope.ATTRIBUTE);r instanceof n.default&&(e.attributes[r.attrName]=r)}))},e.prototype.copy=function(e){var t=this;Object.keys(this.attributes).forEach((function(r){var n=t.attributes[r].value(t.domNode);e.format(r,n)}))},e.prototype.move=function(e){var t=this;this.copy(e),Object.keys(this.attributes).forEach((function(e){t.attributes[e].remove(t.domNode)})),this.attributes={}},e.prototype.values=function(){var e=this;return Object.keys(this.attributes).reduce((function(t,r){return t[r]=e.attributes[r].value(e.domNode),t}),{})},e}();t.default=l},function(e,t,r){var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});function i(e,t){return(e.getAttribute("class")||"").split(/\s+/).filter((function(e){return 0===e.indexOf(t+"-")}))}Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.keys=function(e){return(e.getAttribute("class")||"").split(/\s+/).map((function(e){return e.split("-").slice(0,-1).join("-")}))},t.prototype.add=function(e,t){return!!this.canAdd(e,t)&&(this.remove(e),e.classList.add(this.keyName+"-"+t),!0)},t.prototype.remove=function(e){i(e,this.keyName).forEach((function(t){e.classList.remove(t)})),0===e.classList.length&&e.removeAttribute("class")},t.prototype.value=function(e){var t=(i(e,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(e,t)?t:""},t}(r(12).default);t.default=a},function(e,t,r){var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});function i(e){var t=e.split("-"),r=t.slice(1).map((function(e){return e[0].toUpperCase()+e.slice(1)})).join("");return t[0]+r}Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.keys=function(e){return(e.getAttribute("style")||"").split(";").map((function(e){return e.split(":")[0].trim()}))},t.prototype.add=function(e,t){return!!this.canAdd(e,t)&&(e.style[i(this.keyName)]=t,!0)},t.prototype.remove=function(e){e.style[i(this.keyName)]="",e.getAttribute("style")||e.removeAttribute("style")},t.prototype.value=function(e){var t=e.style[i(this.keyName)];return this.canAdd(e,t)?t:""},t}(r(12).default);t.default=a},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=function(){function e(t,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.quill=t,this.options=r,this.modules={}}return n(e,[{key:"init",value:function(){var e=this;Object.keys(this.options.modules).forEach((function(t){null==e.modules[t]&&e.addModule(t)}))}},{key:"addModule",value:function(e){var t=this.quill.constructor.import("modules/"+e);return this.modules[e]=new t(this.quill,this.options.modules[e]||{}),this.modules[e]}}]),e}();o.DEFAULTS={modules:{}},o.themes={default:o},t.default=o},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0},i=l(r(0)),a=l(r(7));function l(e){return e&&e.__esModule?e:{default:e}}var s="\ufeff",u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.contentNode=document.createElement("span"),r.contentNode.setAttribute("contenteditable",!1),[].slice.call(r.domNode.childNodes).forEach((function(e){r.contentNode.appendChild(e)})),r.leftGuard=document.createTextNode(s),r.rightGuard=document.createTextNode(s),r.domNode.appendChild(r.leftGuard),r.domNode.appendChild(r.contentNode),r.domNode.appendChild(r.rightGuard),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"index",value:function(e,r){return e===this.leftGuard?0:e===this.rightGuard?1:o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"index",this).call(this,e,r)}},{key:"restore",value:function(e){var t=void 0,r=void 0,n=e.data.split(s).join("");if(e===this.leftGuard)if(this.prev instanceof a.default){var o=this.prev.length();this.prev.insertAt(o,n),t={startNode:this.prev.domNode,startOffset:o+n.length}}else r=document.createTextNode(n),this.parent.insertBefore(i.default.create(r),this),t={startNode:r,startOffset:n.length};else e===this.rightGuard&&(this.next instanceof a.default?(this.next.insertAt(0,n),t={startNode:this.next.domNode,startOffset:n.length}):(r=document.createTextNode(n),this.parent.insertBefore(i.default.create(r),this.next),t={startNode:r,startOffset:n.length}));return e.data=s,t}},{key:"update",value:function(e,t){var r=this;e.forEach((function(e){if("characterData"===e.type&&(e.target===r.leftGuard||e.target===r.rightGuard)){var n=r.restore(e.target);n&&(t.range=n)}}))}}]),t}(i.default.Embed);t.default=u},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.AlignStyle=t.AlignClass=t.AlignAttribute=void 0;var n,o=r(0),i=(n=o)&&n.__esModule?n:{default:n},a={scope:i.default.Scope.BLOCK,whitelist:["right","center","justify"]},l=new i.default.Attributor.Attribute("align","align",a),s=new i.default.Attributor.Class("align","ql-align",a),u=new i.default.Attributor.Style("align","text-align",a);t.AlignAttribute=l,t.AlignClass=s,t.AlignStyle=u},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.BackgroundStyle=t.BackgroundClass=void 0;var n,o=r(0),i=(n=o)&&n.__esModule?n:{default:n},a=r(26),l=new i.default.Attributor.Class("background","ql-bg",{scope:i.default.Scope.INLINE}),s=new a.ColorAttributor("background","background-color",{scope:i.default.Scope.INLINE});t.BackgroundClass=l,t.BackgroundStyle=s},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.DirectionStyle=t.DirectionClass=t.DirectionAttribute=void 0;var n,o=r(0),i=(n=o)&&n.__esModule?n:{default:n},a={scope:i.default.Scope.BLOCK,whitelist:["rtl"]},l=new i.default.Attributor.Attribute("direction","dir",a),s=new i.default.Attributor.Class("direction","ql-direction",a),u=new i.default.Attributor.Style("direction","direction",a);t.DirectionAttribute=l,t.DirectionClass=s,t.DirectionStyle=u},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.FontClass=t.FontStyle=void 0;var n,o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0},a=r(0),l=(n=a)&&n.__esModule?n:{default:n},s={scope:l.default.Scope.INLINE,whitelist:["serif","monospace"]},u=new l.default.Attributor.Class("font","ql-font",s),c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"value",value:function(e){return i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"value",this).call(this,e).replace(/["']/g,"")}}]),t}(l.default.Attributor.Style),d=new c("font","font-family",s);t.FontStyle=d,t.FontClass=u},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.SizeStyle=t.SizeClass=void 0;var n,o=r(0),i=(n=o)&&n.__esModule?n:{default:n},a=new i.default.Attributor.Class("size","ql-size",{scope:i.default.Scope.INLINE,whitelist:["small","large","huge"]}),l=new i.default.Attributor.Style("size","font-size",{scope:i.default.Scope.INLINE,whitelist:["10px","18px","32px"]});t.SizeClass=a,t.SizeStyle=l},function(e,t,r){e.exports={align:{"":r(76),center:r(77),right:r(78),justify:r(79)},background:r(80),blockquote:r(81),bold:r(82),clean:r(83),code:r(58),"code-block":r(58),color:r(84),direction:{"":r(85),rtl:r(86)},float:{center:r(87),full:r(88),left:r(89),right:r(90)},formula:r(91),header:{1:r(92),2:r(93)},italic:r(94),image:r(95),indent:{"+1":r(96),"-1":r(97)},link:r(98),list:{ordered:r(99),bullet:r(100),check:r(101)},script:{sub:r(102),super:r(103)},strike:r(104),underline:r(105),video:r(106)}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.getLastChangeIndex=t.default=void 0;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=a(r(0)),i=a(r(5));function a(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(e,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));return n.lastRecorded=0,n.ignoreChange=!1,n.clear(),n.quill.on(i.default.events.EDITOR_CHANGE,(function(e,t,r,o){e!==i.default.events.TEXT_CHANGE||n.ignoreChange||(n.options.userOnly&&o!==i.default.sources.USER?n.transform(t):n.record(t,r))})),n.quill.keyboard.addBinding({key:"Z",shortKey:!0},n.undo.bind(n)),n.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},n.redo.bind(n)),/Win/i.test(navigator.platform)&&n.quill.keyboard.addBinding({key:"Y",shortKey:!0},n.redo.bind(n)),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"change",value:function(e,t){if(0!==this.stack[e].length){var r=this.stack[e].pop();this.stack[t].push(r),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(r[e],i.default.sources.USER),this.ignoreChange=!1;var n=s(r[e]);this.quill.setSelection(n)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(e,t){if(0!==e.ops.length){this.stack.redo=[];var r=this.quill.getContents().diff(t),n=Date.now();if(this.lastRecorded+this.options.delay>n&&this.stack.undo.length>0){var o=this.stack.undo.pop();r=r.compose(o.undo),e=o.redo.compose(e)}else this.lastRecorded=n;this.stack.undo.push({redo:e,undo:r}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(e){this.stack.undo.forEach((function(t){t.undo=e.transform(t.undo,!0),t.redo=e.transform(t.redo,!0)})),this.stack.redo.forEach((function(t){t.undo=e.transform(t.undo,!0),t.redo=e.transform(t.redo,!0)}))}},{key:"undo",value:function(){this.change("undo","redo")}}]),t}(a(r(9)).default);function s(e){var t=e.reduce((function(e,t){return e+=t.delete||0}),0),r=e.length()-t;return function(e){var t=e.ops[e.ops.length-1];return null!=t&&(null!=t.insert?"string"==typeof t.insert&&t.insert.endsWith("\n"):null!=t.attributes&&Object.keys(t.attributes).some((function(e){return null!=o.default.query(e,o.default.Scope.BLOCK)})))}(e)&&(r-=1),r}l.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1},t.default=l,t.getLastChangeIndex=s},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.BaseTooltip=void 0;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0},i=h(r(3)),a=h(r(2)),l=h(r(8)),s=h(r(23)),u=h(r(34)),c=h(r(59)),d=h(r(60)),p=h(r(28)),f=h(r(61));function h(e){return e&&e.__esModule?e:{default:e}}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function m(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var y=[!1,"center","right","justify"],b=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],_=[!1,"serif","monospace"],x=["1","2","3",!1],w=["small",!1,"large","huge"],O=function(e){function t(e,r){g(this,t);var n=v(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));return e.emitter.listenDOM("click",document.body,(function t(r){if(!document.body.contains(e.root))return document.body.removeEventListener("click",t);null==n.tooltip||n.tooltip.root.contains(r.target)||document.activeElement===n.tooltip.textbox||n.quill.hasFocus()||n.tooltip.hide(),null!=n.pickers&&n.pickers.forEach((function(e){e.container.contains(r.target)||e.close()}))})),n}return m(t,e),n(t,[{key:"addModule",value:function(e){var r=o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"addModule",this).call(this,e);return"toolbar"===e&&this.extendToolbar(r),r}},{key:"buildButtons",value:function(e,t){e.forEach((function(e){(e.getAttribute("class")||"").split(/\s+/).forEach((function(r){if(r.startsWith("ql-")&&(r=r.slice(3),null!=t[r]))if("direction"===r)e.innerHTML=t[r][""]+t[r].rtl;else if("string"==typeof t[r])e.innerHTML=t[r];else{var n=e.value||"";null!=n&&t[r][n]&&(e.innerHTML=t[r][n])}}))}))}},{key:"buildPickers",value:function(e,t){var r=this;this.pickers=e.map((function(e){if(e.classList.contains("ql-align"))return null==e.querySelector("option")&&k(e,y),new d.default(e,t.align);if(e.classList.contains("ql-background")||e.classList.contains("ql-color")){var r=e.classList.contains("ql-background")?"background":"color";return null==e.querySelector("option")&&k(e,b,"background"===r?"#ffffff":"#000000"),new c.default(e,t[r])}return null==e.querySelector("option")&&(e.classList.contains("ql-font")?k(e,_):e.classList.contains("ql-header")?k(e,x):e.classList.contains("ql-size")&&k(e,w)),new p.default(e)})),this.quill.on(l.default.events.EDITOR_CHANGE,(function(){r.pickers.forEach((function(e){e.update()}))}))}}]),t}(u.default);O.DEFAULTS=(0,i.default)(!0,{},u.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var e=this,t=this.container.querySelector("input.ql-image[type=file]");null==t&&((t=document.createElement("input")).setAttribute("type","file"),t.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),t.classList.add("ql-image"),t.addEventListener("change",(function(){if(null!=t.files&&null!=t.files[0]){var r=new FileReader;r.onload=function(r){var n=e.quill.getSelection(!0);e.quill.updateContents((new a.default).retain(n.index).delete(n.length).insert({image:r.target.result}),l.default.sources.USER),e.quill.setSelection(n.index+1,l.default.sources.SILENT),t.value=""},r.readAsDataURL(t.files[0])}})),this.container.appendChild(t)),t.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var S=function(e){function t(e,r){g(this,t);var n=v(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));return n.textbox=n.root.querySelector('input[type="text"]'),n.listen(),n}return m(t,e),n(t,[{key:"listen",value:function(){var e=this;this.textbox.addEventListener("keydown",(function(t){s.default.match(t,"enter")?(e.save(),t.preventDefault()):s.default.match(t,"escape")&&(e.cancel(),t.preventDefault())}))}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"link",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),null!=t?this.textbox.value=t:e!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+e)||""),this.root.setAttribute("data-mode",e)}},{key:"restoreFocus",value:function(){var e=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=e}},{key:"save",value:function(){var e=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":var t=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",e,l.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",e,l.default.sources.USER)),this.quill.root.scrollTop=t;break;case"video":e=function(e){var t=e.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||e.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return t?(t[1]||"https")+"://www.youtube.com/embed/"+t[2]+"?showinfo=0":(t=e.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(t[1]||"https")+"://player.vimeo.com/video/"+t[2]+"/":e}(e);case"formula":if(!e)break;var r=this.quill.getSelection(!0);if(null!=r){var n=r.index+r.length;this.quill.insertEmbed(n,this.root.getAttribute("data-mode"),e,l.default.sources.USER),"formula"===this.root.getAttribute("data-mode")&&this.quill.insertText(n+1," ",l.default.sources.USER),this.quill.setSelection(n+2,l.default.sources.USER)}}this.textbox.value="",this.hide()}}]),t}(f.default);function k(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];t.forEach((function(t){var n=document.createElement("option");t===r?n.setAttribute("selected","selected"):n.setAttribute("value",t),e.appendChild(n)}))}t.BaseTooltip=S,t.default=O},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(){this.head=this.tail=null,this.length=0}return e.prototype.append=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.insertBefore(e[0],null),e.length>1&&this.append.apply(this,e.slice(1))},e.prototype.contains=function(e){for(var t,r=this.iterator();t=r();)if(t===e)return!0;return!1},e.prototype.insertBefore=function(e,t){e&&(e.next=t,null!=t?(e.prev=t.prev,null!=t.prev&&(t.prev.next=e),t.prev=e,t===this.head&&(this.head=e)):null!=this.tail?(this.tail.next=e,e.prev=this.tail,this.tail=e):(e.prev=null,this.head=this.tail=e),this.length+=1)},e.prototype.offset=function(e){for(var t=0,r=this.head;null!=r;){if(r===e)return t;t+=r.length(),r=r.next}return-1},e.prototype.remove=function(e){this.contains(e)&&(null!=e.prev&&(e.prev.next=e.next),null!=e.next&&(e.next.prev=e.prev),e===this.head&&(this.head=e.next),e===this.tail&&(this.tail=e.prev),this.length-=1)},e.prototype.iterator=function(e){return void 0===e&&(e=this.head),function(){var t=e;return null!=e&&(e=e.next),t}},e.prototype.find=function(e,t){void 0===t&&(t=!1);for(var r,n=this.iterator();r=n();){var o=r.length();if(e<o||t&&e===o&&(null==r.next||0!==r.next.length()))return[r,e];e-=o}return[null,0]},e.prototype.forEach=function(e){for(var t,r=this.iterator();t=r();)e(t)},e.prototype.forEachAt=function(e,t,r){if(!(t<=0))for(var n,o=this.find(e),i=o[0],a=e-o[1],l=this.iterator(i);(n=l())&&a<e+t;){var s=n.length();e>a?r(n,e-a,Math.min(t,a+s-e)):r(n,0,Math.min(s,e+t-a)),a+=s}},e.prototype.map=function(e){return this.reduce((function(t,r){return t.push(e(r)),t}),[])},e.prototype.reduce=function(e,t){for(var r,n=this.iterator();r=n();)t=e(t,r);return t},e}();t.default=n},function(e,t,r){var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var i=r(17),a=r(1),l={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},s=function(e){function t(t){var r=e.call(this,t)||this;return r.scroll=r,r.observer=new MutationObserver((function(e){r.update(e)})),r.observer.observe(r.domNode,l),r.attach(),r}return o(t,e),t.prototype.detach=function(){e.prototype.detach.call(this),this.observer.disconnect()},t.prototype.deleteAt=function(t,r){this.update(),0===t&&r===this.length()?this.children.forEach((function(e){e.remove()})):e.prototype.deleteAt.call(this,t,r)},t.prototype.formatAt=function(t,r,n,o){this.update(),e.prototype.formatAt.call(this,t,r,n,o)},t.prototype.insertAt=function(t,r,n){this.update(),e.prototype.insertAt.call(this,t,r,n)},t.prototype.optimize=function(t,r){var n=this;void 0===t&&(t=[]),void 0===r&&(r={}),e.prototype.optimize.call(this,r);for(var o=[].slice.call(this.observer.takeRecords());o.length>0;)t.push(o.pop());for(var l=function e(t,r){void 0===r&&(r=!0),null!=t&&t!==n&&null!=t.domNode.parentNode&&(null==t.domNode[a.DATA_KEY].mutations&&(t.domNode[a.DATA_KEY].mutations=[]),r&&e(t.parent))},s=function e(t){null!=t.domNode[a.DATA_KEY]&&null!=t.domNode[a.DATA_KEY].mutations&&(t instanceof i.default&&t.children.forEach(e),t.optimize(r))},u=t,c=0;u.length>0;c+=1){if(c>=100)throw new Error("[Parchment] Maximum optimize iterations reached");for(u.forEach((function(e){var t=a.find(e.target,!0);null!=t&&(t.domNode===e.target&&("childList"===e.type?(l(a.find(e.previousSibling,!1)),[].forEach.call(e.addedNodes,(function(e){var t=a.find(e,!1);l(t,!1),t instanceof i.default&&t.children.forEach((function(e){l(e,!1)}))}))):"attributes"===e.type&&l(t.prev)),l(t))})),this.children.forEach(s),o=(u=[].slice.call(this.observer.takeRecords())).slice();o.length>0;)t.push(o.pop())}},t.prototype.update=function(t,r){var n=this;void 0===r&&(r={}),(t=t||this.observer.takeRecords()).map((function(e){var t=a.find(e.target,!0);return null==t?null:null==t.domNode[a.DATA_KEY].mutations?(t.domNode[a.DATA_KEY].mutations=[e],t):(t.domNode[a.DATA_KEY].mutations.push(e),null)})).forEach((function(e){null!=e&&e!==n&&null!=e.domNode[a.DATA_KEY]&&e.update(e.domNode[a.DATA_KEY].mutations||[],r)})),null!=this.domNode[a.DATA_KEY].mutations&&e.prototype.update.call(this,this.domNode[a.DATA_KEY].mutations,r),this.optimize(t,r)},t.blotName="scroll",t.defaultChild="block",t.scope=a.Scope.BLOCK_BLOT,t.tagName="DIV",t}(i.default);t.default=s},function(e,t,r){var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var i=r(18),a=r(1),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.formats=function(r){if(r.tagName!==t.tagName)return e.formats.call(this,r)},t.prototype.format=function(r,n){var o=this;r!==this.statics.blotName||n?e.prototype.format.call(this,r,n):(this.children.forEach((function(e){e instanceof i.default||(e=e.wrap(t.blotName,!0)),o.attributes.copy(e)})),this.unwrap())},t.prototype.formatAt=function(t,r,n,o){null!=this.formats()[n]||a.query(n,a.Scope.ATTRIBUTE)?this.isolate(t,r).format(n,o):e.prototype.formatAt.call(this,t,r,n,o)},t.prototype.optimize=function(r){e.prototype.optimize.call(this,r);var n=this.formats();if(0===Object.keys(n).length)return this.unwrap();var o=this.next;o instanceof t&&o.prev===this&&function(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var r in e)if(e[r]!==t[r])return!1;return!0}(n,o.formats())&&(o.moveChildren(this),o.remove())},t.blotName="inline",t.scope=a.Scope.INLINE_BLOT,t.tagName="SPAN",t}(i.default);t.default=l},function(e,t,r){var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var i=r(18),a=r(1),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.formats=function(r){var n=a.query(t.blotName).tagName;if(r.tagName!==n)return e.formats.call(this,r)},t.prototype.format=function(r,n){null!=a.query(r,a.Scope.BLOCK)&&(r!==this.statics.blotName||n?e.prototype.format.call(this,r,n):this.replaceWith(t.blotName))},t.prototype.formatAt=function(t,r,n,o){null!=a.query(n,a.Scope.BLOCK)?this.format(n,o):e.prototype.formatAt.call(this,t,r,n,o)},t.prototype.insertAt=function(t,r,n){if(null==n||null!=a.query(r,a.Scope.INLINE))e.prototype.insertAt.call(this,t,r,n);else{var o=this.split(t),i=a.create(r,n);o.parent.insertBefore(i,o)}},t.prototype.update=function(t,r){navigator.userAgent.match(/Trident/)?this.build():e.prototype.update.call(this,t,r)},t.blotName="block",t.scope=a.Scope.BLOCK_BLOT,t.tagName="P",t}(i.default);t.default=l},function(e,t,r){var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.formats=function(e){},t.prototype.format=function(t,r){e.prototype.formatAt.call(this,0,this.length(),t,r)},t.prototype.formatAt=function(t,r,n,o){0===t&&r===this.length()?this.format(n,o):e.prototype.formatAt.call(this,t,r,n,o)},t.prototype.formats=function(){return this.statics.formats(this.domNode)},t}(r(19).default);t.default=i},function(e,t,r){var n,o=this&&this.__extends||(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var i=r(19),a=r(1),l=function(e){function t(t){var r=e.call(this,t)||this;return r.text=r.statics.value(r.domNode),r}return o(t,e),t.create=function(e){return document.createTextNode(e)},t.value=function(e){var t=e.data;return t.normalize&&(t=t.normalize()),t},t.prototype.deleteAt=function(e,t){this.domNode.data=this.text=this.text.slice(0,e)+this.text.slice(e+t)},t.prototype.index=function(e,t){return this.domNode===e?t:-1},t.prototype.insertAt=function(t,r,n){null==n?(this.text=this.text.slice(0,t)+r+this.text.slice(t),this.domNode.data=this.text):e.prototype.insertAt.call(this,t,r,n)},t.prototype.length=function(){return this.text.length},t.prototype.optimize=function(r){e.prototype.optimize.call(this,r),this.text=this.statics.value(this.domNode),0===this.text.length?this.remove():this.next instanceof t&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},t.prototype.position=function(e,t){return[this.domNode,e]},t.prototype.split=function(e,t){if(void 0===t&&(t=!1),!t){if(0===e)return this;if(e===this.length())return this.next}var r=a.create(this.domNode.splitText(e));return this.parent.insertBefore(r,this.next),this.text=this.statics.value(this.domNode),r},t.prototype.update=function(e,t){var r=this;e.some((function(e){return"characterData"===e.type&&e.target===r.domNode}))&&(this.text=this.statics.value(this.domNode))},t.prototype.value=function(){return this.text},t.blotName="text",t.scope=a.Scope.INLINE_BLOT,t}(i.default);t.default=l},function(e,t,r){var n=document.createElement("div");if(n.classList.toggle("test-class",!1),n.classList.contains("test-class")){var o=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(e,t){return arguments.length>1&&!this.contains(e)==!t?t:o.call(this,e)}}String.prototype.startsWith||(String.prototype.startsWith=function(e,t){return t=t||0,this.substr(t,e.length)===e}),String.prototype.endsWith||(String.prototype.endsWith=function(e,t){var r=this.toString();("number"!=typeof t||!isFinite(t)||Math.floor(t)!==t||t>r.length)&&(t=r.length),t-=e.length;var n=r.indexOf(e,t);return-1!==n&&n===t}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(e){if(null===this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var t,r=Object(this),n=r.length>>>0,o=arguments[1],i=0;i<n;i++)if(t=r[i],e.call(o,t,i,r))return t}}),document.addEventListener("DOMContentLoaded",(function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)}))},function(e,t){var r=-1,n=1,o=0;function i(e,t,c){if(e==t)return e?[[o,e]]:[];(c<0||e.length<c)&&(c=null);var p=l(e,t),f=e.substring(0,p);p=s(e=e.substring(p),t=t.substring(p));var h=e.substring(e.length-p),g=function(e,t){var u;if(!e)return[[n,t]];if(!t)return[[r,e]];var c=e.length>t.length?e:t,d=e.length>t.length?t:e,p=c.indexOf(d);if(-1!=p)return u=[[n,c.substring(0,p)],[o,d],[n,c.substring(p+d.length)]],e.length>t.length&&(u[0][0]=u[2][0]=r),u;if(1==d.length)return[[r,e],[n,t]];var f=function(e,t){var r=e.length>t.length?e:t,n=e.length>t.length?t:e;if(r.length<4||2*n.length<r.length)return null;function o(e,t,r){for(var n,o,i,a,u=e.substring(r,r+Math.floor(e.length/4)),c=-1,d="";-1!=(c=t.indexOf(u,c+1));){var p=l(e.substring(r),t.substring(c)),f=s(e.substring(0,r),t.substring(0,c));d.length<f+p&&(d=t.substring(c-f,c)+t.substring(c,c+p),n=e.substring(0,r-f),o=e.substring(r+p),i=t.substring(0,c-f),a=t.substring(c+p))}return 2*d.length>=e.length?[n,o,i,a,d]:null}var i,a,u,c,d,p=o(r,n,Math.ceil(r.length/4)),f=o(r,n,Math.ceil(r.length/2));if(!p&&!f)return null;i=f?p&&p[4].length>f[4].length?p:f:p,e.length>t.length?(a=i[0],u=i[1],c=i[2],d=i[3]):(c=i[0],d=i[1],a=i[2],u=i[3]);var h=i[4];return[a,u,c,d,h]}(e,t);if(f){var h=f[0],g=f[1],v=f[2],m=f[3],y=f[4],b=i(h,v),_=i(g,m);return b.concat([[o,y]],_)}return function(e,t){for(var o=e.length,i=t.length,l=Math.ceil((o+i)/2),s=l,u=2*l,c=new Array(u),d=new Array(u),p=0;p<u;p++)c[p]=-1,d[p]=-1;c[s+1]=0,d[s+1]=0;for(var f=o-i,h=f%2!=0,g=0,v=0,m=0,y=0,b=0;b<l;b++){for(var _=-b+g;_<=b-v;_+=2){for(var x=s+_,w=(E=_==-b||_!=b&&c[x-1]<c[x+1]?c[x+1]:c[x-1]+1)-_;E<o&&w<i&&e.charAt(E)==t.charAt(w);)E++,w++;if(c[x]=E,E>o)v+=2;else if(w>i)g+=2;else if(h&&(k=s+f-_)>=0&&k<u&&-1!=d[k]&&E>=(S=o-d[k]))return a(e,t,E,w)}for(var O=-b+m;O<=b-y;O+=2){for(var S,k=s+O,j=(S=O==-b||O!=b&&d[k-1]<d[k+1]?d[k+1]:d[k-1]+1)-O;S<o&&j<i&&e.charAt(o-S-1)==t.charAt(i-j-1);)S++,j++;if(d[k]=S,S>o)y+=2;else if(j>i)m+=2;else if(!h){var E;if((x=s+f-O)>=0&&x<u&&-1!=c[x])if(w=s+(E=c[x])-x,E>=(S=o-S))return a(e,t,E,w)}}}return[[r,e],[n,t]]}(e,t)}(e=e.substring(0,e.length-p),t=t.substring(0,t.length-p));return f&&g.unshift([o,f]),h&&g.push([o,h]),u(g),null!=c&&(g=function(e,t){var n=function(e,t){if(0===t)return[o,e];for(var n=0,i=0;i<e.length;i++){var a=e[i];if(a[0]===r||a[0]===o){var l=n+a[1].length;if(t===l)return[i+1,e];if(t<l){e=e.slice();var s=t-n,u=[a[0],a[1].slice(0,s)],c=[a[0],a[1].slice(s)];return e.splice(i,1,u,c),[i+1,e]}n=l}}throw new Error("cursor_pos is out of bounds!")}(e,t),i=n[1],a=n[0],l=i[a],s=i[a+1];if(null==l)return e;if(l[0]!==o)return e;if(null!=s&&l[1]+s[1]===s[1]+l[1])return i.splice(a,2,s,l),d(i,a,2);if(null!=s&&0===s[1].indexOf(l[1])){i.splice(a,2,[s[0],l[1]],[0,l[1]]);var u=s[1].slice(l[1].length);return u.length>0&&i.splice(a+2,0,[s[0],u]),d(i,a,3)}return e}(g,c)),g=function(e){for(var t=!1,i=function(e){return e.charCodeAt(0)>=56320&&e.charCodeAt(0)<=57343},a=function(e){return e.charCodeAt(e.length-1)>=55296&&e.charCodeAt(e.length-1)<=56319},l=2;l<e.length;l+=1)e[l-2][0]===o&&a(e[l-2][1])&&e[l-1][0]===r&&i(e[l-1][1])&&e[l][0]===n&&i(e[l][1])&&(t=!0,e[l-1][1]=e[l-2][1].slice(-1)+e[l-1][1],e[l][1]=e[l-2][1].slice(-1)+e[l][1],e[l-2][1]=e[l-2][1].slice(0,-1));if(!t)return e;var s=[];for(l=0;l<e.length;l+=1)e[l][1].length>0&&s.push(e[l]);return s}(g),g}function a(e,t,r,n){var o=e.substring(0,r),a=t.substring(0,n),l=e.substring(r),s=t.substring(n),u=i(o,a),c=i(l,s);return u.concat(c)}function l(e,t){if(!e||!t||e.charAt(0)!=t.charAt(0))return 0;for(var r=0,n=Math.min(e.length,t.length),o=n,i=0;r<o;)e.substring(i,o)==t.substring(i,o)?i=r=o:n=o,o=Math.floor((n-r)/2+r);return o}function s(e,t){if(!e||!t||e.charAt(e.length-1)!=t.charAt(t.length-1))return 0;for(var r=0,n=Math.min(e.length,t.length),o=n,i=0;r<o;)e.substring(e.length-o,e.length-i)==t.substring(t.length-o,t.length-i)?i=r=o:n=o,o=Math.floor((n-r)/2+r);return o}function u(e){e.push([o,""]);for(var t,i=0,a=0,c=0,d="",p="";i<e.length;)switch(e[i][0]){case n:c++,p+=e[i][1],i++;break;case r:a++,d+=e[i][1],i++;break;case o:a+c>1?(0!==a&&0!==c&&(0!==(t=l(p,d))&&(i-a-c>0&&e[i-a-c-1][0]==o?e[i-a-c-1][1]+=p.substring(0,t):(e.splice(0,0,[o,p.substring(0,t)]),i++),p=p.substring(t),d=d.substring(t)),0!==(t=s(p,d))&&(e[i][1]=p.substring(p.length-t)+e[i][1],p=p.substring(0,p.length-t),d=d.substring(0,d.length-t))),0===a?e.splice(i-c,a+c,[n,p]):0===c?e.splice(i-a,a+c,[r,d]):e.splice(i-a-c,a+c,[r,d],[n,p]),i=i-a-c+(a?1:0)+(c?1:0)+1):0!==i&&e[i-1][0]==o?(e[i-1][1]+=e[i][1],e.splice(i,1)):i++,c=0,a=0,d="",p=""}""===e[e.length-1][1]&&e.pop();var f=!1;for(i=1;i<e.length-1;)e[i-1][0]==o&&e[i+1][0]==o&&(e[i][1].substring(e[i][1].length-e[i-1][1].length)==e[i-1][1]?(e[i][1]=e[i-1][1]+e[i][1].substring(0,e[i][1].length-e[i-1][1].length),e[i+1][1]=e[i-1][1]+e[i+1][1],e.splice(i-1,1),f=!0):e[i][1].substring(0,e[i+1][1].length)==e[i+1][1]&&(e[i-1][1]+=e[i+1][1],e[i][1]=e[i][1].substring(e[i+1][1].length)+e[i+1][1],e.splice(i+1,1),f=!0)),i++;f&&u(e)}var c=i;function d(e,t,r){for(var n=t+r-1;n>=0&&n>=t-1;n--)if(n+1<e.length){var o=e[n],i=e[n+1];o[0]===i[1]&&e.splice(n,2,[o[0],o[1]+i[1]])}return e}c.INSERT=n,c.DELETE=r,c.EQUAL=o,e.exports=c},function(e,t){function r(e){var t=[];for(var r in e)t.push(r);return t}(e.exports="function"==typeof Object.keys?Object.keys:r).shim=r},function(e,t){var r="[object Arguments]"==function(){return Object.prototype.toString.call(arguments)}();function n(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function o(e){return e&&"object"==typeof e&&"number"==typeof e.length&&Object.prototype.hasOwnProperty.call(e,"callee")&&!Object.prototype.propertyIsEnumerable.call(e,"callee")||!1}(t=e.exports=r?n:o).supported=n,t.unsupported=o},function(e,t){var r=Object.prototype.hasOwnProperty,n="~";function o(){}function i(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function a(){this._events=new o,this._eventsCount=0}Object.create&&(o.prototype=Object.create(null),(new o).__proto__||(n=!1)),a.prototype.eventNames=function(){var e,t,o=[];if(0===this._eventsCount)return o;for(t in e=this._events)r.call(e,t)&&o.push(n?t.slice(1):t);return Object.getOwnPropertySymbols?o.concat(Object.getOwnPropertySymbols(e)):o},a.prototype.listeners=function(e,t){var r=n?n+e:e,o=this._events[r];if(t)return!!o;if(!o)return[];if(o.fn)return[o.fn];for(var i=0,a=o.length,l=new Array(a);i<a;i++)l[i]=o[i].fn;return l},a.prototype.emit=function(e,t,r,o,i,a){var l=n?n+e:e;if(!this._events[l])return!1;var s,u,c=this._events[l],d=arguments.length;if(c.fn){switch(c.once&&this.removeListener(e,c.fn,void 0,!0),d){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,t),!0;case 3:return c.fn.call(c.context,t,r),!0;case 4:return c.fn.call(c.context,t,r,o),!0;case 5:return c.fn.call(c.context,t,r,o,i),!0;case 6:return c.fn.call(c.context,t,r,o,i,a),!0}for(u=1,s=new Array(d-1);u<d;u++)s[u-1]=arguments[u];c.fn.apply(c.context,s)}else{var p,f=c.length;for(u=0;u<f;u++)switch(c[u].once&&this.removeListener(e,c[u].fn,void 0,!0),d){case 1:c[u].fn.call(c[u].context);break;case 2:c[u].fn.call(c[u].context,t);break;case 3:c[u].fn.call(c[u].context,t,r);break;case 4:c[u].fn.call(c[u].context,t,r,o);break;default:if(!s)for(p=1,s=new Array(d-1);p<d;p++)s[p-1]=arguments[p];c[u].fn.apply(c[u].context,s)}}return!0},a.prototype.on=function(e,t,r){var o=new i(t,r||this),a=n?n+e:e;return this._events[a]?this._events[a].fn?this._events[a]=[this._events[a],o]:this._events[a].push(o):(this._events[a]=o,this._eventsCount++),this},a.prototype.once=function(e,t,r){var o=new i(t,r||this,!0),a=n?n+e:e;return this._events[a]?this._events[a].fn?this._events[a]=[this._events[a],o]:this._events[a].push(o):(this._events[a]=o,this._eventsCount++),this},a.prototype.removeListener=function(e,t,r,i){var a=n?n+e:e;if(!this._events[a])return this;if(!t)return 0==--this._eventsCount?this._events=new o:delete this._events[a],this;var l=this._events[a];if(l.fn)l.fn!==t||i&&!l.once||r&&l.context!==r||(0==--this._eventsCount?this._events=new o:delete this._events[a]);else{for(var s=0,u=[],c=l.length;s<c;s++)(l[s].fn!==t||i&&!l[s].once||r&&l[s].context!==r)&&u.push(l[s]);u.length?this._events[a]=1===u.length?u[0]:u:0==--this._eventsCount?this._events=new o:delete this._events[a]}return this},a.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&(0==--this._eventsCount?this._events=new o:delete this._events[t])):(this._events=new o,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prototype.setMaxListeners=function(){return this},a.prefixed=n,a.EventEmitter=a,void 0!==e&&(e.exports=a)},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.matchText=t.matchSpacing=t.matchNewline=t.matchBlot=t.matchAttributor=t.default=void 0;var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(n=(a=l.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(s){o=!0,i=s}finally{try{!n&&l.return&&l.return()}finally{if(o)throw i}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=b(r(3)),l=b(r(2)),s=b(r(0)),u=b(r(5)),c=b(r(10)),d=b(r(9)),p=r(36),f=r(37),h=b(r(13)),g=r(26),v=r(38),m=r(39),y=r(40);function b(e){return e&&e.__esModule?e:{default:e}}function _(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var x=(0,c.default)("quill:clipboard"),w="__ql-matcher",O=[[Node.TEXT_NODE,M],[Node.TEXT_NODE,N],["br",function(e,t){return T(t,"\n")||t.insert("\n"),t}],[Node.ELEMENT_NODE,N],[Node.ELEMENT_NODE,L],[Node.ELEMENT_NODE,R],[Node.ELEMENT_NODE,I],[Node.ELEMENT_NODE,function(e,t){var r={},n=e.style||{};return n.fontStyle&&"italic"===C(e).fontStyle&&(r.italic=!0),n.fontWeight&&(C(e).fontWeight.startsWith("bold")||parseInt(C(e).fontWeight)>=700)&&(r.bold=!0),Object.keys(r).length>0&&(t=E(t,r)),parseFloat(n.textIndent||0)>0&&(t=(new l.default).insert("\t").concat(t)),t}],["li",function(e,t){var r=s.default.query(e);if(null==r||"list-item"!==r.blotName||!T(t,"\n"))return t;for(var n=-1,o=e.parentNode;!o.classList.contains("ql-clipboard");)"list"===(s.default.query(o)||{}).blotName&&(n+=1),o=o.parentNode;return n<=0?t:t.compose((new l.default).retain(t.length()-1).retain(1,{indent:n}))}],["b",P.bind(P,"bold")],["i",P.bind(P,"italic")],["style",function(){return new l.default}]],S=[p.AlignAttribute,v.DirectionAttribute].reduce((function(e,t){return e[t.keyName]=t,e}),{}),k=[p.AlignStyle,f.BackgroundStyle,g.ColorStyle,v.DirectionStyle,m.FontStyle,y.SizeStyle].reduce((function(e,t){return e[t.keyName]=t,e}),{}),j=function(e){function t(e,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));return n.quill.root.addEventListener("paste",n.onPaste.bind(n)),n.container=n.quill.addContainer("ql-clipboard"),n.container.setAttribute("contenteditable",!0),n.container.setAttribute("tabindex",-1),n.matchers=[],O.concat(n.options.matchers).forEach((function(e){var t=o(e,2),i=t[0],a=t[1];(r.matchVisual||a!==R)&&n.addMatcher(i,a)})),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"addMatcher",value:function(e,t){this.matchers.push([e,t])}},{key:"convert",value:function(e){if("string"==typeof e)return this.container.innerHTML=e.replace(/\>\r?\n +\</g,"><"),this.convert();var t=this.quill.getFormat(this.quill.selection.savedRange.index);if(t[h.default.blotName]){var r=this.container.innerText;return this.container.innerHTML="",(new l.default).insert(r,_({},h.default.blotName,t[h.default.blotName]))}var n=this.prepareMatching(),i=o(n,2),a=i[0],s=i[1],u=A(this.container,a,s);return T(u,"\n")&&null==u.ops[u.ops.length-1].attributes&&(u=u.compose((new l.default).retain(u.length()-1).delete(1))),x.log("convert",this.container.innerHTML,u),this.container.innerHTML="",u}},{key:"dangerouslyPasteHTML",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u.default.sources.API;if("string"==typeof e)this.quill.setContents(this.convert(e),t),this.quill.setSelection(0,u.default.sources.SILENT);else{var n=this.convert(t);this.quill.updateContents((new l.default).retain(e).concat(n),r),this.quill.setSelection(e+n.length(),u.default.sources.SILENT)}}},{key:"onPaste",value:function(e){var t=this;if(!e.defaultPrevented&&this.quill.isEnabled()){var r=this.quill.getSelection(),n=(new l.default).retain(r.index),o=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(u.default.sources.SILENT),setTimeout((function(){n=n.concat(t.convert()).delete(r.length),t.quill.updateContents(n,u.default.sources.USER),t.quill.setSelection(n.length()-r.length,u.default.sources.SILENT),t.quill.scrollingContainer.scrollTop=o,t.quill.focus()}),1)}}},{key:"prepareMatching",value:function(){var e=this,t=[],r=[];return this.matchers.forEach((function(n){var i=o(n,2),a=i[0],l=i[1];switch(a){case Node.TEXT_NODE:r.push(l);break;case Node.ELEMENT_NODE:t.push(l);break;default:[].forEach.call(e.container.querySelectorAll(a),(function(e){e[w]=e[w]||[],e[w].push(l)}))}})),[t,r]}}]),t}(d.default);function E(e,t,r){return"object"===(void 0===t?"undefined":n(t))?Object.keys(t).reduce((function(e,r){return E(e,r,t[r])}),e):e.reduce((function(e,n){return n.attributes&&n.attributes[t]?e.push(n):e.insert(n.insert,(0,a.default)({},_({},t,r),n.attributes))}),new l.default)}function C(e){if(e.nodeType!==Node.ELEMENT_NODE)return{};var t="__ql-computed-style";return e[t]||(e[t]=window.getComputedStyle(e))}function T(e,t){for(var r="",n=e.ops.length-1;n>=0&&r.length<t.length;--n){var o=e.ops[n];if("string"!=typeof o.insert)break;r=o.insert+r}return r.slice(-1*t.length)===t}function q(e){if(0===e.childNodes.length)return!1;var t=C(e);return["block","list-item"].indexOf(t.display)>-1}function A(e,t,r){return e.nodeType===e.TEXT_NODE?r.reduce((function(t,r){return r(e,t)}),new l.default):e.nodeType===e.ELEMENT_NODE?[].reduce.call(e.childNodes||[],(function(n,o){var i=A(o,t,r);return o.nodeType===e.ELEMENT_NODE&&(i=t.reduce((function(e,t){return t(o,e)}),i),i=(o[w]||[]).reduce((function(e,t){return t(o,e)}),i)),n.concat(i)}),new l.default):new l.default}function P(e,t,r){return E(r,e,!0)}function I(e,t){var r=s.default.Attributor.Attribute.keys(e),n=s.default.Attributor.Class.keys(e),o=s.default.Attributor.Style.keys(e),i={};return r.concat(n).concat(o).forEach((function(t){var r=s.default.query(t,s.default.Scope.ATTRIBUTE);null!=r&&(i[r.attrName]=r.value(e),i[r.attrName])||(null==(r=S[t])||r.attrName!==t&&r.keyName!==t||(i[r.attrName]=r.value(e)||void 0),null==(r=k[t])||r.attrName!==t&&r.keyName!==t||(r=k[t],i[r.attrName]=r.value(e)||void 0))})),Object.keys(i).length>0&&(t=E(t,i)),t}function L(e,t){var r=s.default.query(e);if(null==r)return t;if(r.prototype instanceof s.default.Embed){var n={},o=r.value(e);null!=o&&(n[r.blotName]=o,t=(new l.default).insert(n,r.formats(e)))}else"function"==typeof r.formats&&(t=E(t,r.blotName,r.formats(e)));return t}function N(e,t){return T(t,"\n")||(q(e)||t.length()>0&&e.nextSibling&&q(e.nextSibling))&&t.insert("\n"),t}function R(e,t){if(q(e)&&null!=e.nextElementSibling&&!T(t,"\n\n")){var r=e.offsetHeight+parseFloat(C(e).marginTop)+parseFloat(C(e).marginBottom);e.nextElementSibling.offsetTop>e.offsetTop+1.5*r&&t.insert("\n")}return t}function M(e,t){var r=e.data;if("O:P"===e.parentNode.tagName)return t.insert(r.trim());if(0===r.trim().length&&e.parentNode.classList.contains("ql-clipboard"))return t;if(!C(e.parentNode).whiteSpace.startsWith("pre")){var n=function(e,t){return(t=t.replace(/[^\u00a0]/g,"")).length<1&&e?" ":t};r=(r=r.replace(/\r\n/g," ").replace(/\n/g," ")).replace(/\s\s+/g,n.bind(n,!0)),(null==e.previousSibling&&q(e.parentNode)||null!=e.previousSibling&&q(e.previousSibling))&&(r=r.replace(/^\s+/,n.bind(n,!1))),(null==e.nextSibling&&q(e.parentNode)||null!=e.nextSibling&&q(e.nextSibling))&&(r=r.replace(/\s+$/,n.bind(n,!1)))}return t.insert(r)}j.DEFAULTS={matchers:[],matchVisual:!0},t.default=j,t.matchAttributor=I,t.matchBlot=L,t.matchNewline=N,t.matchSpacing=R,t.matchText=M},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n,o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0},a=r(6),l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"optimize",value:function(e){i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return i(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),t}(((n=a)&&n.__esModule?n:{default:n}).default);l.blotName="bold",l.tagName=["STRONG","B"],t.default=l},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.addControls=t.default=void 0;var n=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(n=(a=l.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(s){o=!0,i=s}finally{try{!n&&l.return&&l.return()}finally{if(o)throw i}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=c(r(2)),a=c(r(0)),l=c(r(5)),s=c(r(10)),u=c(r(9));function c(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var p=(0,s.default)("quill:toolbar"),f=function(e){function t(e,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o,i=d(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));if(Array.isArray(i.options.container)){var a=document.createElement("div");g(a,i.options.container),e.container.parentNode.insertBefore(a,e.container),i.container=a}else"string"==typeof i.options.container?i.container=document.querySelector(i.options.container):i.container=i.options.container;return i.container instanceof HTMLElement?(i.container.classList.add("ql-toolbar"),i.controls=[],i.handlers={},Object.keys(i.options.handlers).forEach((function(e){i.addHandler(e,i.options.handlers[e])})),[].forEach.call(i.container.querySelectorAll("button, select"),(function(e){i.attach(e)})),i.quill.on(l.default.events.EDITOR_CHANGE,(function(e,t){e===l.default.events.SELECTION_CHANGE&&i.update(t)})),i.quill.on(l.default.events.SCROLL_OPTIMIZE,(function(){var e=i.quill.selection.getRange(),t=n(e,1)[0];i.update(t)})),i):(o=p.error("Container required for toolbar",i.options),d(i,o))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"addHandler",value:function(e,t){this.handlers[e]=t}},{key:"attach",value:function(e){var t=this,r=[].find.call(e.classList,(function(e){return 0===e.indexOf("ql-")}));if(r){if(r=r.slice(3),"BUTTON"===e.tagName&&e.setAttribute("type","button"),null==this.handlers[r]){if(null!=this.quill.scroll.whitelist&&null==this.quill.scroll.whitelist[r])return void p.warn("ignoring attaching to disabled format",r,e);if(null==a.default.query(r))return void p.warn("ignoring attaching to nonexistent format",r,e)}var o="SELECT"===e.tagName?"change":"click";e.addEventListener(o,(function(o){var s=void 0;if("SELECT"===e.tagName){if(e.selectedIndex<0)return;var u=e.options[e.selectedIndex];s=!u.hasAttribute("selected")&&(u.value||!1)}else s=!e.classList.contains("ql-active")&&(e.value||!e.hasAttribute("value")),o.preventDefault();t.quill.focus();var c=t.quill.selection.getRange(),d=n(c,1)[0];if(null!=t.handlers[r])t.handlers[r].call(t,s);else if(a.default.query(r).prototype instanceof a.default.Embed){if(!(s=prompt("Enter "+r)))return;t.quill.updateContents((new i.default).retain(d.index).delete(d.length).insert(function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}({},r,s)),l.default.sources.USER)}else t.quill.format(r,s,l.default.sources.USER);t.update(d)})),this.controls.push([r,e])}}},{key:"update",value:function(e){var t=null==e?{}:this.quill.getFormat(e);this.controls.forEach((function(r){var o=n(r,2),i=o[0],a=o[1];if("SELECT"===a.tagName){var l=void 0;if(null==e)l=null;else if(null==t[i])l=a.querySelector("option[selected]");else if(!Array.isArray(t[i])){var s=t[i];"string"==typeof s&&(s=s.replace(/\"/g,'\\"')),l=a.querySelector('option[value="'+s+'"]')}null==l?(a.value="",a.selectedIndex=-1):l.selected=!0}else if(null==e)a.classList.remove("ql-active");else if(a.hasAttribute("value")){var u=t[i]===a.getAttribute("value")||null!=t[i]&&t[i].toString()===a.getAttribute("value")||null==t[i]&&!a.getAttribute("value");a.classList.toggle("ql-active",u)}else a.classList.toggle("ql-active",null!=t[i])}))}}]),t}(u.default);function h(e,t,r){var n=document.createElement("button");n.setAttribute("type","button"),n.classList.add("ql-"+t),null!=r&&(n.value=r),e.appendChild(n)}function g(e,t){Array.isArray(t[0])||(t=[t]),t.forEach((function(t){var r=document.createElement("span");r.classList.add("ql-formats"),t.forEach((function(e){if("string"==typeof e)h(r,e);else{var t=Object.keys(e)[0],n=e[t];Array.isArray(n)?function(e,t,r){var n=document.createElement("select");n.classList.add("ql-"+t),r.forEach((function(e){var t=document.createElement("option");!1!==e?t.setAttribute("value",e):t.setAttribute("selected","selected"),n.appendChild(t)})),e.appendChild(n)}(r,t,n):h(r,t,n)}})),e.appendChild(r)}))}f.DEFAULTS={},f.DEFAULTS={container:null,handlers:{clean:function(){var e=this,t=this.quill.getSelection();if(null!=t)if(0==t.length){var r=this.quill.getFormat();Object.keys(r).forEach((function(t){null!=a.default.query(t,a.default.Scope.INLINE)&&e.quill.format(t,!1)}))}else this.quill.removeFormat(t,l.default.sources.USER)},direction:function(e){var t=this.quill.getFormat().align;"rtl"===e&&null==t?this.quill.format("align","right",l.default.sources.USER):e||"right"!==t||this.quill.format("align",!1,l.default.sources.USER),this.quill.format("direction",e,l.default.sources.USER)},indent:function(e){var t=this.quill.getSelection(),r=this.quill.getFormat(t),n=parseInt(r.indent||0);if("+1"===e||"-1"===e){var o="+1"===e?1:-1;"rtl"===r.direction&&(o*=-1),this.quill.format("indent",n+o,l.default.sources.USER)}},link:function(e){!0===e&&(e=prompt("Enter link URL:")),this.quill.format("link",e,l.default.sources.USER)},list:function(e){var t=this.quill.getSelection(),r=this.quill.getFormat(t);"check"===e?"checked"===r.list||"unchecked"===r.list?this.quill.format("list",!1,l.default.sources.USER):this.quill.format("list","unchecked",l.default.sources.USER):this.quill.format("list",e,l.default.sources.USER)}}},t.default=f,t.addControls=g},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n,o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0},a=r(28),l=function(e){function t(e,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.label.innerHTML=r,n.container.classList.add("ql-color-picker"),[].slice.call(n.container.querySelectorAll(".ql-picker-item"),0,7).forEach((function(e){e.classList.add("ql-primary")})),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"buildItem",value:function(e){var r=i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"buildItem",this).call(this,e);return r.style.backgroundColor=e.getAttribute("value")||"",r}},{key:"selectItem",value:function(e,r){i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"selectItem",this).call(this,e,r);var n=this.label.querySelector(".ql-color-label"),o=e&&e.getAttribute("data-value")||"";n&&("line"===n.tagName?n.style.stroke=o:n.style.fill=o)}}]),t}(((n=a)&&n.__esModule?n:{default:n}).default);t.default=l},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n,o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0},a=r(28),l=function(e){function t(e,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.container.classList.add("ql-icon-picker"),[].forEach.call(n.container.querySelectorAll(".ql-picker-item"),(function(e){e.innerHTML=r[e.getAttribute("data-value")||""]})),n.defaultItem=n.container.querySelector(".ql-selected"),n.selectItem(n.defaultItem),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"selectItem",value:function(e,r){i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"selectItem",this).call(this,e,r),e=e||this.defaultItem,this.label.innerHTML=e.innerHTML}}]),t}(((n=a)&&n.__esModule?n:{default:n}).default);t.default=l},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=function(){function e(t,r){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.quill=t,this.boundsContainer=r||document.body,this.root=t.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",(function(){n.root.style.marginTop=-1*n.quill.root.scrollTop+"px"})),this.hide()}return n(e,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(e){var t=e.left+e.width/2-this.root.offsetWidth/2,r=e.bottom+this.quill.root.scrollTop;this.root.style.left=t+"px",this.root.style.top=r+"px",this.root.classList.remove("ql-flip");var n=this.boundsContainer.getBoundingClientRect(),o=this.root.getBoundingClientRect(),i=0;if(o.right>n.right&&(i=n.right-o.right,this.root.style.left=t+i+"px"),o.left<n.left&&(i=n.left-o.left,this.root.style.left=t+i+"px"),o.bottom>n.bottom){var a=o.bottom-o.top,l=e.bottom-e.top+a;this.root.style.top=r-l+"px",this.root.classList.add("ql-flip")}return i}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),e}();t.default=o},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,o=!1,i=void 0;try{for(var a,l=e[Symbol.iterator]();!(n=(a=l.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(s){o=!0,i=s}finally{try{!n&&l.return&&l.return()}finally{if(o)throw i}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=f(r(3)),l=f(r(8)),s=r(43),u=f(s),c=f(r(27)),d=r(15),p=f(r(41));function f(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function v(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var m=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],y=function(e){function t(e,r){h(this,t),null!=r.modules.toolbar&&null==r.modules.toolbar.container&&(r.modules.toolbar.container=m);var n=g(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));return n.quill.container.classList.add("ql-snow"),n}return v(t,e),i(t,[{key:"extendToolbar",value:function(e){e.container.classList.add("ql-snow"),this.buildButtons([].slice.call(e.container.querySelectorAll("button")),p.default),this.buildPickers([].slice.call(e.container.querySelectorAll("select")),p.default),this.tooltip=new b(this.quill,this.options.bounds),e.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},(function(t,r){e.handlers.link.call(e,!r.format.link)}))}}]),t}(u.default);y.DEFAULTS=(0,a.default)(!0,{},u.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(e){if(e){var t=this.quill.getSelection();if(null==t||0==t.length)return;var r=this.quill.getText(t);/^\S+@\S+\.\S+$/.test(r)&&0!==r.indexOf("mailto:")&&(r="mailto:"+r),this.quill.theme.tooltip.edit("link",r)}else this.quill.format("link",!1)}}}}});var b=function(e){function t(e,r){h(this,t);var n=g(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));return n.preview=n.root.querySelector("a.ql-preview"),n}return v(t,e),i(t,[{key:"listen",value:function(){var e=this;o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",(function(t){e.root.classList.contains("ql-editing")?e.save():e.edit("link",e.preview.textContent),t.preventDefault()})),this.root.querySelector("a.ql-remove").addEventListener("click",(function(t){if(null!=e.linkRange){var r=e.linkRange;e.restoreFocus(),e.quill.formatText(r,"link",!1,l.default.sources.USER),delete e.linkRange}t.preventDefault(),e.hide()})),this.quill.on(l.default.events.SELECTION_CHANGE,(function(t,r,o){if(null!=t){if(0===t.length&&o===l.default.sources.USER){var i=e.quill.scroll.descendant(c.default,t.index),a=n(i,2),s=a[0],u=a[1];if(null!=s){e.linkRange=new d.Range(t.index-u,s.length());var p=c.default.formats(s.domNode);return e.preview.textContent=p,e.preview.setAttribute("href",p),e.show(),void e.position(e.quill.getBounds(e.linkRange))}}else delete e.linkRange;e.hide()}}))}},{key:"show",value:function(){o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),t}(s.BaseTooltip);b.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),t.default=y},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=N(r(29)),o=r(36),i=r(38),a=r(64),l=N(r(65)),s=N(r(66)),u=r(67),c=N(u),d=r(37),p=r(26),f=r(39),h=r(40),g=N(r(56)),v=N(r(68)),m=N(r(27)),y=N(r(69)),b=N(r(70)),_=N(r(71)),x=N(r(72)),w=N(r(73)),O=r(13),S=N(O),k=N(r(74)),j=N(r(75)),E=N(r(57)),C=N(r(41)),T=N(r(28)),q=N(r(59)),A=N(r(60)),P=N(r(61)),I=N(r(108)),L=N(r(62));function N(e){return e&&e.__esModule?e:{default:e}}n.default.register({"attributors/attribute/direction":i.DirectionAttribute,"attributors/class/align":o.AlignClass,"attributors/class/background":d.BackgroundClass,"attributors/class/color":p.ColorClass,"attributors/class/direction":i.DirectionClass,"attributors/class/font":f.FontClass,"attributors/class/size":h.SizeClass,"attributors/style/align":o.AlignStyle,"attributors/style/background":d.BackgroundStyle,"attributors/style/color":p.ColorStyle,"attributors/style/direction":i.DirectionStyle,"attributors/style/font":f.FontStyle,"attributors/style/size":h.SizeStyle},!0),n.default.register({"formats/align":o.AlignClass,"formats/direction":i.DirectionClass,"formats/indent":a.IndentClass,"formats/background":d.BackgroundStyle,"formats/color":p.ColorStyle,"formats/font":f.FontClass,"formats/size":h.SizeClass,"formats/blockquote":l.default,"formats/code-block":S.default,"formats/header":s.default,"formats/list":c.default,"formats/bold":g.default,"formats/code":O.Code,"formats/italic":v.default,"formats/link":m.default,"formats/script":y.default,"formats/strike":b.default,"formats/underline":_.default,"formats/image":x.default,"formats/video":w.default,"formats/list/item":u.ListItem,"modules/formula":k.default,"modules/syntax":j.default,"modules/toolbar":E.default,"themes/bubble":I.default,"themes/snow":L.default,"ui/icons":C.default,"ui/picker":T.default,"ui/icon-picker":A.default,"ui/color-picker":q.default,"ui/tooltip":P.default},!0),t.default=n.default},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.IndentClass=void 0;var n,o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0},a=r(0),l=(n=a)&&n.__esModule?n:{default:n},s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"add",value:function(e,r){if("+1"===r||"-1"===r){var n=this.value(e)||0;r="+1"===r?n+1:n-1}return 0===r?(this.remove(e),!0):i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"add",this).call(this,e,r)}},{key:"canAdd",value:function(e,r){return i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"canAdd",this).call(this,e,r)||i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"canAdd",this).call(this,e,parseInt(r))}},{key:"value",value:function(e){return parseInt(i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"value",this).call(this,e))||void 0}}]),t}(l.default.Attributor.Class),u=new s("indent","ql-indent",{scope:l.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});t.IndentClass=u},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n,o=r(4),i=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(((n=o)&&n.__esModule?n:{default:n}).default);i.blotName="blockquote",i.tagName="blockquote",t.default=i},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n,o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(4),a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,null,[{key:"formats",value:function(e){return this.tagName.indexOf(e.tagName)+1}}]),t}(((n=i)&&n.__esModule?n:{default:n}).default);a.blotName="header",a.tagName=["H1","H2","H3","H4","H5","H6"],t.default=a},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ListItem=void 0;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0},i=s(r(0)),a=s(r(4)),l=s(r(25));function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var p=function(e){function t(){return u(this,t),c(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return d(t,e),n(t,[{key:"format",value:function(e,r){e!==f.blotName||r?o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,r):this.replaceWith(i.default.create(this.statics.scope))}},{key:"remove",value:function(){null==this.prev&&null==this.next?this.parent.remove():o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(e,r){return this.parent.isolate(this.offset(this.parent),this.length()),e===this.parent.statics.blotName?(this.parent.replaceWith(e,r),this):(this.parent.unwrap(),o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"replaceWith",this).call(this,e,r))}}],[{key:"formats",value:function(e){return e.tagName===this.tagName?void 0:o(t.__proto__||Object.getPrototypeOf(t),"formats",this).call(this,e)}}]),t}(a.default);p.blotName="list-item",p.tagName="LI";var f=function(e){function t(e){u(this,t);var r=c(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),n=function(t){if(t.target.parentNode===e){var n=r.statics.formats(e),o=i.default.find(t.target);"checked"===n?o.format("list","unchecked"):"unchecked"===n&&o.format("list","checked")}};return e.addEventListener("touchstart",n),e.addEventListener("mousedown",n),r}return d(t,e),n(t,null,[{key:"create",value:function(e){var r="ordered"===e?"OL":"UL",n=o(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,r);return"checked"!==e&&"unchecked"!==e||n.setAttribute("data-checked","checked"===e),n}},{key:"formats",value:function(e){return"OL"===e.tagName?"ordered":"UL"===e.tagName?e.hasAttribute("data-checked")?"true"===e.getAttribute("data-checked")?"checked":"unchecked":"bullet":void 0}}]),n(t,[{key:"format",value:function(e,t){this.children.length>0&&this.children.tail.format(e,t)}},{key:"formats",value:function(){return e={},t=this.statics.blotName,r=this.statics.formats(this.domNode),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e;var e,t,r}},{key:"insertBefore",value:function(e,r){if(e instanceof p)o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertBefore",this).call(this,e,r);else{var n=null==r?this.length():r.offset(this),i=this.split(n);i.parent.insertBefore(e,i)}}},{key:"optimize",value:function(e){o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e);var r=this.next;null!=r&&r.prev===this&&r.statics.blotName===this.statics.blotName&&r.domNode.tagName===this.domNode.tagName&&r.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(r.moveChildren(this),r.remove())}},{key:"replace",value:function(e){if(e.statics.blotName!==this.statics.blotName){var r=i.default.create(this.statics.defaultChild);e.moveChildren(r),this.appendChild(r)}o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"replace",this).call(this,e)}}]),t}(l.default);f.blotName="list",f.scope=i.default.Scope.BLOCK_BLOT,f.tagName=["OL","UL"],f.defaultChild="list-item",f.allowedChildren=[p],t.ListItem=p,t.default=f},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n,o=r(56),i=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(((n=o)&&n.__esModule?n:{default:n}).default);i.blotName="italic",i.tagName=["EM","I"],t.default=i},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n,o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0},a=r(6),l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,null,[{key:"create",value:function(e){return"super"===e?document.createElement("sup"):"sub"===e?document.createElement("sub"):i(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e)}},{key:"formats",value:function(e){return"SUB"===e.tagName?"sub":"SUP"===e.tagName?"super":void 0}}]),t}(((n=a)&&n.__esModule?n:{default:n}).default);l.blotName="script",l.tagName=["SUB","SUP"],t.default=l},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n,o=r(6),i=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(((n=o)&&n.__esModule?n:{default:n}).default);i.blotName="strike",i.tagName="S",t.default=i},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n,o=r(6),i=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(((n=o)&&n.__esModule?n:{default:n}).default);i.blotName="underline",i.tagName="U",t.default=i},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n,o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0},a=r(0),l=(n=a)&&n.__esModule?n:{default:n},s=r(27),u=["alt","height","width"],c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"format",value:function(e,r){u.indexOf(e)>-1?r?this.domNode.setAttribute(e,r):this.domNode.removeAttribute(e):i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,r)}}],[{key:"create",value:function(e){var r=i(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e);return"string"==typeof e&&r.setAttribute("src",this.sanitize(e)),r}},{key:"formats",value:function(e){return u.reduce((function(t,r){return e.hasAttribute(r)&&(t[r]=e.getAttribute(r)),t}),{})}},{key:"match",value:function(e){return/\.(jpe?g|gif|png)$/.test(e)||/^data:image\/.+;base64/.test(e)}},{key:"sanitize",value:function(e){return(0,s.sanitize)(e,["http","https","data"])?e:"//:0"}},{key:"value",value:function(e){return e.getAttribute("src")}}]),t}(l.default.Embed);c.blotName="image",c.tagName="IMG",t.default=c},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n,o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0},a=r(4),l=r(27),s=(n=l)&&n.__esModule?n:{default:n},u=["height","width"],c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"format",value:function(e,r){u.indexOf(e)>-1?r?this.domNode.setAttribute(e,r):this.domNode.removeAttribute(e):i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,r)}}],[{key:"create",value:function(e){var r=i(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e);return r.setAttribute("frameborder","0"),r.setAttribute("allowfullscreen",!0),r.setAttribute("src",this.sanitize(e)),r}},{key:"formats",value:function(e){return u.reduce((function(t,r){return e.hasAttribute(r)&&(t[r]=e.getAttribute(r)),t}),{})}},{key:"sanitize",value:function(e){return s.default.sanitize(e)}},{key:"value",value:function(e){return e.getAttribute("src")}}]),t}(a.BlockEmbed);c.blotName="video",c.className="ql-video",c.tagName="IFRAME",t.default=c},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.FormulaBlot=void 0;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0},i=s(r(35)),a=s(r(5)),l=s(r(9));function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var p=function(e){function t(){return u(this,t),c(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return d(t,e),n(t,null,[{key:"create",value:function(e){var r=o(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e);return"string"==typeof e&&(window.katex.render(e,r,{throwOnError:!1,errorColor:"#f00"}),r.setAttribute("data-value",e)),r}},{key:"value",value:function(e){return e.getAttribute("data-value")}}]),t}(i.default);p.blotName="formula",p.className="ql-formula",p.tagName="SPAN";var f=function(e){function t(){u(this,t);var e=c(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));if(null==window.katex)throw new Error("Formula module requires KaTeX.");return e}return d(t,e),n(t,null,[{key:"register",value:function(){a.default.register(p,!0)}}]),t}(l.default);t.FormulaBlot=p,t.default=f},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.CodeToken=t.CodeBlock=void 0;var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0},i=s(r(0)),a=s(r(5)),l=s(r(9));function s(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var p=function(e){function t(){return u(this,t),c(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return d(t,e),n(t,[{key:"replaceWith",value:function(e){this.domNode.textContent=this.domNode.textContent,this.attach(),o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"replaceWith",this).call(this,e)}},{key:"highlight",value:function(e){var t=this.domNode.textContent;this.cachedText!==t&&((t.trim().length>0||null==this.cachedText)&&(this.domNode.innerHTML=e(t),this.domNode.normalize(),this.attach()),this.cachedText=t)}}]),t}(s(r(13)).default);p.className="ql-syntax";var f=new i.default.Attributor.Class("token","hljs",{scope:i.default.Scope.INLINE}),h=function(e){function t(e,r){u(this,t);var n=c(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));if("function"!=typeof n.options.highlight)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var o=null;return n.quill.on(a.default.events.SCROLL_OPTIMIZE,(function(){clearTimeout(o),o=setTimeout((function(){n.highlight(),o=null}),n.options.interval)})),n.highlight(),n}return d(t,e),n(t,null,[{key:"register",value:function(){a.default.register(f,!0),a.default.register(p,!0)}}]),n(t,[{key:"highlight",value:function(){var e=this;if(!this.quill.selection.composing){this.quill.update(a.default.sources.USER);var t=this.quill.getSelection();this.quill.scroll.descendants(p).forEach((function(t){t.highlight(e.options.highlight)})),this.quill.update(a.default.sources.SILENT),null!=t&&this.quill.setSelection(t,a.default.sources.SILENT)}}}]),t}(l.default);h.DEFAULTS={highlight:null==window.hljs?null:function(e){return window.hljs.highlightAuto(e).value},interval:1e3},t.CodeBlock=p,t.CodeToken=f,t.default=h},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(e,t){e.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(e,t){e.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(e,t){e.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(e,t){e.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.BubbleTooltip=void 0;var n=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0},o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=d(r(3)),a=d(r(8)),l=r(43),s=d(l),u=r(15),c=d(r(41));function d(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var g=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],v=function(e){function t(e,r){p(this,t),null!=r.modules.toolbar&&null==r.modules.toolbar.container&&(r.modules.toolbar.container=g);var n=f(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));return n.quill.container.classList.add("ql-bubble"),n}return h(t,e),o(t,[{key:"extendToolbar",value:function(e){this.tooltip=new m(this.quill,this.options.bounds),this.tooltip.root.appendChild(e.container),this.buildButtons([].slice.call(e.container.querySelectorAll("button")),c.default),this.buildPickers([].slice.call(e.container.querySelectorAll("select")),c.default)}}]),t}(s.default);v.DEFAULTS=(0,i.default)(!0,{},s.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(e){e?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var m=function(e){function t(e,r){p(this,t);var n=f(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,r));return n.quill.on(a.default.events.EDITOR_CHANGE,(function(e,t,r,o){if(e===a.default.events.SELECTION_CHANGE)if(null!=t&&t.length>0&&o===a.default.sources.USER){n.show(),n.root.style.left="0px",n.root.style.width="",n.root.style.width=n.root.offsetWidth+"px";var i=n.quill.getLines(t.index,t.length);if(1===i.length)n.position(n.quill.getBounds(t));else{var l=i[i.length-1],s=n.quill.getIndex(l),c=Math.min(l.length()-1,t.index+t.length-s),d=n.quill.getBounds(new u.Range(s,c));n.position(d)}}else document.activeElement!==n.textbox&&n.quill.hasFocus()&&n.hide()})),n}return h(t,e),o(t,[{key:"listen",value:function(){var e=this;n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",(function(){e.root.classList.remove("ql-editing")})),this.quill.on(a.default.events.SCROLL_OPTIMIZE,(function(){setTimeout((function(){if(!e.root.classList.contains("ql-hidden")){var t=e.quill.getSelection();null!=t&&e.position(e.quill.getBounds(t))}}),1)}))}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(e){var r=n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"position",this).call(this,e),o=this.root.querySelector(".ql-tooltip-arrow");if(o.style.marginLeft="",0===r)return r;o.style.marginLeft=-1*r-o.offsetWidth/2+"px"}}]),t}(l.BaseTooltip);m.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),t.BubbleTooltip=m,t.default=v},function(e,t,r){e.exports=r(63)}]).default},e.exports=r()}($u);var Yu=$u.exports;const Gu=h(Yu);var Ku,Ju=I&&I.__extends||(Ku=function(e,t){return Ku=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])},Ku(e,t)},function(e,t){function r(){this.constructor=e}Ku(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),Qu=I&&I.__assign||function(){return Qu=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Qu.apply(this,arguments)},Xu=I&&I.__spreadArrays||function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),o=0;for(t=0;t<r;t++)for(var i=arguments[t],a=0,l=i.length;a<l;a++,o++)n[o]=i[a];return n},Zu=I&&I.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},ec=Zu(g),tc=Zu(L),rc=Zu(Uu),nc=Zu(Yu),oc=function(e){function t(t){var r=e.call(this,t)||this;r.dirtyProps=["modules","formats","bounds","theme","children"],r.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],r.state={generation:0},r.selection=null,r.onEditorChange=function(e,t,n,o){var i,a,l,s;"text-change"===e?null===(a=(i=r).onEditorChangeText)||void 0===a||a.call(i,r.editor.root.innerHTML,t,o,r.unprivilegedEditor):"selection-change"===e&&(null===(s=(l=r).onEditorChangeSelection)||void 0===s||s.call(l,t,o,r.unprivilegedEditor))};var n=r.isControlled()?t.value:t.defaultValue;return r.value=null!=n?n:"",r}return Ju(t,e),t.prototype.validateProps=function(e){var t;if(ec.default.Children.count(e.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(ec.default.Children.count(e.children)&&"textarea"===(null===(t=ec.default.Children.only(e.children))||void 0===t?void 0:t.type))throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.");if(this.lastDeltaChangeSet&&e.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")},t.prototype.shouldComponentUpdate=function(e,t){var r,n=this;if(this.validateProps(e),!this.editor||this.state.generation!==t.generation)return!0;if("value"in e){var o=this.getEditorContents(),i=null!=(r=e.value)?r:"";this.isEqualValue(i,o)||this.setEditorContents(this.editor,i)}return e.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,e.readOnly),Xu(this.cleanProps,this.dirtyProps).some((function(t){return!rc.default(e[t],n.props[t])}))},t.prototype.shouldComponentRegenerate=function(e){var t=this;return this.dirtyProps.some((function(r){return!rc.default(e[r],t.props[r])}))},t.prototype.componentDidMount=function(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())},t.prototype.componentWillUnmount=function(){this.destroyEditor()},t.prototype.componentDidUpdate=function(e,t){var r=this;if(this.editor&&this.shouldComponentRegenerate(e)){var n=this.editor.getContents(),o=this.editor.getSelection();this.regenerationSnapshot={delta:n,selection:o},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.state.generation!==t.generation){var i=this.regenerationSnapshot,a=(n=i.delta,i.selection);delete this.regenerationSnapshot,this.instantiateEditor();var l=this.editor;l.setContents(n),ic((function(){return r.setEditorSelection(l,a)}))}},t.prototype.instantiateEditor=function(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())},t.prototype.destroyEditor=function(){this.editor&&this.unhookEditor(this.editor)},t.prototype.isControlled=function(){return"value"in this.props},t.prototype.getEditorConfig=function(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,scrollingContainer:this.props.scrollingContainer,tabIndex:this.props.tabIndex,theme:this.props.theme}},t.prototype.getEditor=function(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor},t.prototype.createEditor=function(e,t){var r=new nc.default(e,t);return null!=t.tabIndex&&this.setEditorTabIndex(r,t.tabIndex),this.hookEditor(r),r},t.prototype.hookEditor=function(e){this.unprivilegedEditor=this.makeUnprivilegedEditor(e),e.on("editor-change",this.onEditorChange)},t.prototype.unhookEditor=function(e){e.off("editor-change",this.onEditorChange)},t.prototype.getEditorContents=function(){return this.value},t.prototype.getEditorSelection=function(){return this.selection},t.prototype.isDelta=function(e){return e&&e.ops},t.prototype.isEqualValue=function(e,t){return this.isDelta(e)&&this.isDelta(t)?rc.default(e.ops,t.ops):rc.default(e,t)},t.prototype.setEditorContents=function(e,t){var r=this;this.value=t;var n=this.getEditorSelection();"string"==typeof t?e.setContents(e.clipboard.convert(t)):e.setContents(t),ic((function(){return r.setEditorSelection(e,n)}))},t.prototype.setEditorSelection=function(e,t){if(this.selection=t,t){var r=e.getLength();t.index=Math.max(0,Math.min(t.index,r-1)),t.length=Math.max(0,Math.min(t.length,r-1-t.index)),e.setSelection(t)}},t.prototype.setEditorTabIndex=function(e,t){var r,n;(null===(n=null===(r=e)||void 0===r?void 0:r.scroll)||void 0===n?void 0:n.domNode)&&(e.scroll.domNode.tabIndex=t)},t.prototype.setEditorReadOnly=function(e,t){t?e.disable():e.enable()},t.prototype.makeUnprivilegedEditor=function(e){var t=e;return{getHTML:function(){return t.root.innerHTML},getLength:t.getLength.bind(t),getText:t.getText.bind(t),getContents:t.getContents.bind(t),getSelection:t.getSelection.bind(t),getBounds:t.getBounds.bind(t)}},t.prototype.getEditingArea=function(){if(!this.editingArea)throw new Error("Instantiating on missing editing area");var e=tc.default.findDOMNode(this.editingArea);if(!e)throw new Error("Cannot find element for editing area");if(3===e.nodeType)throw new Error("Editing area cannot be a text node");return e},t.prototype.renderEditingArea=function(){var e=this,t=this.props,r=t.children,n=t.preserveWhitespace,o={key:this.state.generation,ref:function(t){e.editingArea=t}};return ec.default.Children.count(r)?ec.default.cloneElement(ec.default.Children.only(r),o):n?ec.default.createElement("pre",Qu({},o)):ec.default.createElement("div",Qu({},o))},t.prototype.render=function(){var e;return ec.default.createElement("div",{id:this.props.id,style:this.props.style,key:this.state.generation,className:"quill "+(e=this.props.className,null!=e?e:""),onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())},t.prototype.onEditorChangeText=function(e,t,r,n){var o,i;if(this.editor){var a=this.isDelta(this.value)?n.getContents():n.getHTML();a!==this.getEditorContents()&&(this.lastDeltaChangeSet=t,this.value=a,null===(i=(o=this.props).onChange)||void 0===i||i.call(o,e,t,r,n))}},t.prototype.onEditorChangeSelection=function(e,t,r){var n,o,i,a,l,s;if(this.editor){var u=this.getEditorSelection(),c=!u&&e,d=u&&!e;rc.default(e,u)||(this.selection=e,null===(o=(n=this.props).onChangeSelection)||void 0===o||o.call(n,e,t,r),c?null===(a=(i=this.props).onFocus)||void 0===a||a.call(i,e,t,r):d&&(null===(s=(l=this.props).onBlur)||void 0===s||s.call(l,u,t,r)))}},t.prototype.focus=function(){this.editor&&this.editor.focus()},t.prototype.blur=function(){this.editor&&(this.selection=null,this.editor.blur())},t.displayName="React Quill",t.Quill=nc.default,t.defaultProps={theme:"snow",modules:{},readOnly:!1},t}(ec.default.Component);function ic(e){Promise.resolve().then(e)}var ac=oc;const lc=h(ac);function sc(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function uc(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?sc(Object(r),!0).forEach((function(t){hc(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sc(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function cc(e){return cc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cc(e)}function dc(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pc(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Oc(n.key),n)}}function fc(e,t,r){return t&&pc(e.prototype,t),r&&pc(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function hc(e,t,r){return(t=Oc(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gc(){return gc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gc.apply(this,arguments)}function vc(e){return vc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},vc(e)}function mc(e,t){return mc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},mc(e,t)}function yc(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(lF){return!1}}();return function(){var r,n=vc(e);if(t){var o=vc(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return yc(e)}(this,r)}}function _c(){return _c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=vc(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},_c.apply(this,arguments)}function xc(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function wc(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(e){if("string"==typeof e)return xc(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?xc(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(l)throw i}}}}function Oc(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}var Sc=9,kc=13,jc=27,Ec=38,Cc=40;function Tc(e,t,r){var n=e;return Object.keys(t).forEach((function(e){r.indexOf(e)>-1?n.dataset[e]=t[e]:delete n.dataset[e]})),n}function qc(e,t){null!==t&&("object"===cc(t)?e.appendChild(t):e.innerText=t)}var Ac=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&mc(e,t)}(r,e);var t=bc(r);function r(e,n){var o;return dc(this,r),hc(yc(o=t.call(this,e,n)),"hoverHandler",void 0),hc(yc(o),"hoverHandler",void 0),o.clickHandler=null,o.hoverHandler=null,o.mounted=!1,o}return fc(r,[{key:"attach",value:function(){_c(vc(r.prototype),"attach",this).call(this),this.mounted||(this.mounted=!0,this.clickHandler=this.getClickHandler(),this.hoverHandler=this.getHoverHandler(),this.domNode.addEventListener("click",this.clickHandler,!1),this.domNode.addEventListener("mouseenter",this.hoverHandler,!1))}},{key:"detach",value:function(){_c(vc(r.prototype),"detach",this).call(this),this.mounted=!1,this.clickHandler&&(this.domNode.removeEventListener("click",this.clickHandler),this.clickHandler=null)}},{key:"getClickHandler",value:function(){var e=this;return function(t){var r=e.buildEvent("mention-clicked",t);window.dispatchEvent(r),t.preventDefault()}}},{key:"getHoverHandler",value:function(){var e=this;return function(t){var r=e.buildEvent("mention-hovered",t);window.dispatchEvent(r),t.preventDefault()}}},{key:"buildEvent",value:function(e,t){var r=new Event(e,{bubbles:!0,cancelable:!0});return r.value=gc({},this.domNode.dataset),r.event=t,r}}],[{key:"create",value:function(e){var t=_c(vc(r),"create",this).call(this),n=document.createElement("span");return n.className="ql-mention-denotation-char",n.innerText=e.denotationChar,t.appendChild(n),"function"==typeof this.render?t.appendChild(this.render(e)):t.innerText+=e.value,r.setDataValues(t,e)}},{key:"setDataValues",value:function(e,t){var r=e;return Object.keys(t).forEach((function(e){r.dataset[e]=t[e]})),r}},{key:"value",value:function(e){return e.dataset}}]),r}(Gu.import("blots/embed"));Ac.blotName="mention",Ac.tagName="span",Ac.className="mention",Gu.register("blots/mention",Ac);var Pc=function(){function e(t,r){var n=this;for(var o in dc(this,e),this.isOpen=!1,this.itemIndex=0,this.mentionCharPos=null,this.cursorPos=null,this.values=[],this.suspendMouseEnter=!1,this.existingSourceExecutionToken=null,this.quill=t,this.options={source:null,renderItem:function(e){var t=e.value;return"".concat(t)},renderLoading:function(){return null},onSelect:function(e,t){t(e)},mentionDenotationChars:["@"],showDenotationChar:!0,allowedChars:/^[a-zA-Z0-9_]*$/,minChars:0,maxChars:31,offsetTop:2,offsetLeft:0,isolateCharacter:!1,allowInlineMentionChar:!1,fixMentionsToQuill:!1,positioningStrategy:"normal",defaultMenuOrientation:"bottom",blotName:"mention",dataAttributes:["id","value","denotationChar","link","target","disabled"],linkTarget:"_blank",onOpen:function(){return!0},onBeforeClose:function(){return!0},onClose:function(){return!0},listItemClass:"ql-mention-list-item",mentionContainerClass:"ql-mention-list-container",mentionListClass:"ql-mention-list",spaceAfterInsert:!0,selectKeys:[kc]},gc(this.options,r,{dataAttributes:Array.isArray(r.dataAttributes)?this.options.dataAttributes.concat(r.dataAttributes):this.options.dataAttributes}),this.options)"function"==typeof this.options[o]&&(this.options[o]=this.options[o].bind(this));this.mentionContainer=document.createElement("div"),this.mentionContainer.className=this.options.mentionContainerClass?this.options.mentionContainerClass:"",this.mentionContainer.style.cssText="display: none; position: absolute;",this.mentionContainer.onmousemove=this.onContainerMouseMove.bind(this),this.options.fixMentionsToQuill&&(this.mentionContainer.style.width="auto"),this.mentionList=document.createElement("ul"),this.mentionList.id="quill-mention-list",t.root.setAttribute("aria-owns","quill-mention-list"),this.mentionList.className=this.options.mentionListClass?this.options.mentionListClass:"",this.mentionContainer.appendChild(this.mentionList),t.on("text-change",this.onTextChange.bind(this)),t.on("selection-change",this.onSelectionChange.bind(this)),t.container.addEventListener("paste",(function(){setTimeout((function(){var e=t.getSelection();n.onSelectionChange(e)}))})),t.keyboard.addBinding({key:Sc},this.selectHandler.bind(this)),t.keyboard.bindings[Sc].unshift(t.keyboard.bindings[Sc].pop());var i,a=wc(this.options.selectKeys);try{for(a.s();!(i=a.n()).done;){var l=i.value;t.keyboard.addBinding({key:l},this.selectHandler.bind(this))}}catch(s){a.e(s)}finally{a.f()}t.keyboard.bindings[kc].unshift(t.keyboard.bindings[kc].pop()),t.keyboard.addBinding({key:jc},this.escapeHandler.bind(this)),t.keyboard.addBinding({key:Ec},this.upHandler.bind(this)),t.keyboard.addBinding({key:Cc},this.downHandler.bind(this))}return fc(e,[{key:"selectHandler",value:function(){return!(this.isOpen&&!this.existingSourceExecutionToken)||(this.selectItem(),!1)}},{key:"escapeHandler",value:function(){return!this.isOpen||(this.existingSourceExecutionToken&&(this.existingSourceExecutionToken.abandoned=!0),this.hideMentionList(),!1)}},{key:"upHandler",value:function(){return!(this.isOpen&&!this.existingSourceExecutionToken)||(this.prevItem(),!1)}},{key:"downHandler",value:function(){return!(this.isOpen&&!this.existingSourceExecutionToken)||(this.nextItem(),!1)}},{key:"showMentionList",value:function(){"fixed"===this.options.positioningStrategy?document.body.appendChild(this.mentionContainer):this.quill.container.appendChild(this.mentionContainer),this.mentionContainer.style.visibility="hidden",this.mentionContainer.style.display="",this.mentionContainer.scrollTop=0,this.setMentionContainerPosition(),this.setIsOpen(!0)}},{key:"hideMentionList",value:function(){this.options.onBeforeClose(),this.mentionContainer.style.display="none",this.mentionContainer.remove(),this.setIsOpen(!1),this.quill.root.removeAttribute("aria-activedescendant")}},{key:"highlightItem",value:function(){for(var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=0;t<this.mentionList.childNodes.length;t+=1)this.mentionList.childNodes[t].classList.remove("selected");-1!==this.itemIndex&&"true"!==this.mentionList.childNodes[this.itemIndex].dataset.disabled&&(this.mentionList.childNodes[this.itemIndex].classList.add("selected"),this.quill.root.setAttribute("aria-activedescendant",this.mentionList.childNodes[this.itemIndex].id),e&&this.mentionList.childNodes[this.itemIndex].scrollIntoView({behaviour:"smooth",block:"nearest"}))}},{key:"onContainerMouseMove",value:function(){this.suspendMouseEnter=!1}},{key:"selectItem",value:function(){var e=this;if(-1!==this.itemIndex){var t=this.mentionList.childNodes[this.itemIndex].dataset;t.disabled||(this.options.onSelect(t,(function(t){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e.insertItem(t,r,n)})),this.hideMentionList())}}},{key:"insertItem",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=e;if(null!==n){var o,i=uc(uc({},this.options),r);i.showDenotationChar||(n.denotationChar=""),t?o=this.cursorPos:(o=this.mentionCharPos,this.quill.deleteText(this.mentionCharPos,this.cursorPos-this.mentionCharPos,Gu.sources.USER));var a=this.quill.insertEmbed(o,i.blotName,n,Gu.sources.USER);return i.spaceAfterInsert?(this.quill.insertText(o+1," ",Gu.sources.USER),this.quill.setSelection(o+2,Gu.sources.USER)):this.quill.setSelection(o+1,Gu.sources.USER),this.hideMentionList(),a}}},{key:"onItemMouseEnter",value:function(e){if(!this.suspendMouseEnter){var t=Number(e.target.dataset.index);Number.isNaN(t)||t===this.itemIndex||(this.itemIndex=t,this.highlightItem(!1))}}},{key:"onDisabledItemMouseEnter",value:function(e){this.suspendMouseEnter||(this.itemIndex=-1,this.highlightItem(!1))}},{key:"onItemClick",value:function(e){0===e.button&&(e.preventDefault(),e.stopImmediatePropagation(),this.itemIndex=e.currentTarget.dataset.index,this.highlightItem(),this.selectItem())}},{key:"onItemMouseDown",value:function(e){e.preventDefault(),e.stopImmediatePropagation()}},{key:"renderLoading",value:function(){if(this.options.renderLoading())if(this.mentionContainer.getElementsByClassName("ql-mention-loading").length>0)this.showMentionList();else{this.mentionList.innerHTML="";var e=document.createElement("div");e.className="ql-mention-loading",qc(e,this.options.renderLoading()),this.mentionContainer.append(e),this.showMentionList()}}},{key:"removeLoading",value:function(){var e=this.mentionContainer.getElementsByClassName("ql-mention-loading");e.length>0&&e[0].remove()}},{key:"renderList",value:function(e,t,r){if(t&&t.length>0){this.removeLoading(),this.values=t,this.mentionList.innerText="";for(var n=-1,o=0;o<t.length;o+=1){var i=document.createElement("li");i.id="quill-mention-item-"+o,i.className=this.options.listItemClass?this.options.listItemClass:"",t[o].disabled?(i.className+=" disabled",i.setAttribute("aria-hidden","true")):-1===n&&(n=o),i.dataset.index=o,qc(i,this.options.renderItem(t[o],r)),t[o].disabled?i.onmouseenter=this.onDisabledItemMouseEnter.bind(this):(i.onmouseenter=this.onItemMouseEnter.bind(this),i.onmouseup=this.onItemClick.bind(this),i.onmousedown=this.onItemMouseDown.bind(this)),i.dataset.denotationChar=e,this.mentionList.appendChild(Tc(i,t[o],this.options.dataAttributes))}this.itemIndex=n,this.highlightItem(),this.showMentionList()}else this.hideMentionList()}},{key:"nextItem",value:function(){var e,t=0;do{t++,e=(this.itemIndex+t)%this.values.length;var r="true"===this.mentionList.childNodes[e].dataset.disabled;if(t===this.values.length+1){e=-1;break}}while(r);this.itemIndex=e,this.suspendMouseEnter=!0,this.highlightItem()}},{key:"prevItem",value:function(){var e,t=0;do{t++,e=(this.itemIndex+this.values.length-t)%this.values.length;var r="true"===this.mentionList.childNodes[e].dataset.disabled;if(t===this.values.length+1){e=-1;break}}while(r);this.itemIndex=e,this.suspendMouseEnter=!0,this.highlightItem()}},{key:"containerBottomIsNotVisible",value:function(e,t){return e+this.mentionContainer.offsetHeight+t.top>window.pageYOffset+window.innerHeight}},{key:"containerRightIsNotVisible",value:function(e,t){return!this.options.fixMentionsToQuill&&e+this.mentionContainer.offsetWidth+t.left>window.pageXOffset+document.documentElement.clientWidth}},{key:"setIsOpen",value:function(e){this.isOpen!==e&&(e?this.options.onOpen():this.options.onClose(),this.isOpen=e)}},{key:"setMentionContainerPosition",value:function(){"fixed"===this.options.positioningStrategy?this.setMentionContainerPosition_Fixed():this.setMentionContainerPosition_Normal()}},{key:"setMentionContainerPosition_Normal",value:function(){var e=this,t=this.quill.container.getBoundingClientRect(),r=this.quill.getBounds(this.mentionCharPos),n=this.mentionContainer.offsetHeight,o=this.options.offsetTop,i=this.options.offsetLeft;if(this.options.fixMentionsToQuill){this.mentionContainer.style.right="".concat(0,"px")}else i+=r.left;if(this.containerRightIsNotVisible(i,t)){var a=this.mentionContainer.offsetWidth+this.options.offsetLeft;i=t.width-a}if("top"===this.options.defaultMenuOrientation){if((o=this.options.fixMentionsToQuill?-1*(n+this.options.offsetTop):r.top-(n+this.options.offsetTop))+t.top<=0){var l=this.options.offsetTop;this.options.fixMentionsToQuill?l+=t.height:l+=r.bottom,o=l}}else if(this.options.fixMentionsToQuill?o+=t.height:o+=r.bottom,this.containerBottomIsNotVisible(o,t)){var s=-1*this.options.offsetTop;this.options.fixMentionsToQuill||(s+=r.top),o=s-n}o>=0?this.options.mentionContainerClass.split(" ").forEach((function(t){e.mentionContainer.classList.add("".concat(t,"-bottom")),e.mentionContainer.classList.remove("".concat(t,"-top"))})):this.options.mentionContainerClass.split(" ").forEach((function(t){e.mentionContainer.classList.add("".concat(t,"-top")),e.mentionContainer.classList.remove("".concat(t,"-bottom"))})),this.mentionContainer.style.top="".concat(o,"px"),this.mentionContainer.style.left="".concat(i,"px"),this.mentionContainer.style.visibility="visible"}},{key:"setMentionContainerPosition_Fixed",value:function(){var e=this;this.mentionContainer.style.position="fixed",this.mentionContainer.style.height=null;var t=this.quill.container.getBoundingClientRect(),r=this.quill.getBounds(this.mentionCharPos),n={left:t.left+r.left,top:t.top+r.top,width:0,height:r.height},o=this.options.fixMentionsToQuill?t:n,i=this.options.offsetTop,a=this.options.offsetLeft;if(this.options.fixMentionsToQuill){var l=o.right;this.mentionContainer.style.right="".concat(l,"px")}else(a+=o.left)+this.mentionContainer.offsetWidth>document.documentElement.clientWidth&&(a-=a+this.mentionContainer.offsetWidth-document.documentElement.clientWidth);var s=o.top,u=document.documentElement.clientHeight-(o.top+o.height),c=this.mentionContainer.offsetHeight<=u,d=this.mentionContainer.offsetHeight<=s;"bottom"===("top"===this.options.defaultMenuOrientation&&d?"top":"bottom"===this.options.defaultMenuOrientation&&c||u>s?"bottom":"top")?(i=o.top+o.height,c||(this.mentionContainer.style.height=u-3+"px"),this.options.mentionContainerClass.split(" ").forEach((function(t){e.mentionContainer.classList.add("".concat(t,"-bottom")),e.mentionContainer.classList.remove("".concat(t,"-top"))}))):(i=o.top-this.mentionContainer.offsetHeight,d||(this.mentionContainer.style.height=s-3+"px",i=3),this.options.mentionContainerClass.split(" ").forEach((function(t){e.mentionContainer.classList.add("".concat(t,"-top")),e.mentionContainer.classList.remove("".concat(t,"-bottom"))}))),this.mentionContainer.style.top="".concat(i,"px"),this.mentionContainer.style.left="".concat(a,"px"),this.mentionContainer.style.visibility="visible"}},{key:"getTextBeforeCursor",value:function(){var e=Math.max(0,this.cursorPos-this.options.maxChars);return this.quill.getText(e,this.cursorPos-e)}},{key:"onSomethingChange",value:function(){var e=this,t=this.quill.getSelection();if(null!=t){this.cursorPos=t.index;var r,n,o,i,a=this.getTextBeforeCursor(),l=Math.max(0,this.cursorPos-this.options.maxChars),s=l?this.quill.getText(l-1,l):"",u=(r=a,n=this.options.mentionDenotationChars,o=this.options.isolateCharacter,i=this.options.allowInlineMentionChar,n.reduce((function(e,t){var n;if(o&&i){var a=new RegExp("^".concat(t,"|\\s").concat(t),"g"),l=(r.match(a)||[]).pop();if(!l)return{mentionChar:e.mentionChar,mentionCharIndex:e.mentionCharIndex};n=l!==t?r.lastIndexOf(l)+l.length-t.length:0}else n=r.lastIndexOf(t);return n>e.mentionCharIndex?{mentionChar:t,mentionCharIndex:n}:{mentionChar:e.mentionChar,mentionCharIndex:e.mentionCharIndex}}),{mentionChar:null,mentionCharIndex:-1})),c=u.mentionChar,d=u.mentionCharIndex;if(function(e,t,r,n){if(-1===e)return!1;if(!r)return!0;var o=e?t[e-1]:n;return!o||!!o.match(/\s/)}(d,a,this.options.isolateCharacter,s)){var p=this.cursorPos-(a.length-d);this.mentionCharPos=p;var f=a.substring(d+c.length);if(f.length>=this.options.minChars&&function(e,t){return t.test(e)}(f,this.getAllowedCharsRegex(c))){this.existingSourceExecutionToken&&(this.existingSourceExecutionToken.abandoned=!0),this.renderLoading();var h={abandoned:!1};this.existingSourceExecutionToken=h,this.options.source(f,(function(t,r){h.abandoned||(e.existingSourceExecutionToken=null,e.renderList(c,t,r))}),c)}else this.existingSourceExecutionToken&&(this.existingSourceExecutionToken.abandoned=!0),this.hideMentionList()}else this.existingSourceExecutionToken&&(this.existingSourceExecutionToken.abandoned=!0),this.hideMentionList()}}},{key:"getAllowedCharsRegex",value:function(e){return this.options.allowedChars instanceof RegExp?this.options.allowedChars:this.options.allowedChars(e)}},{key:"onTextChange",value:function(e,t,r){"user"===r&&this.onSomethingChange()}},{key:"onSelectionChange",value:function(e){e&&0===e.length?this.onSomethingChange():this.hideMentionList()}},{key:"openMenu",value:function(e){var t=this.quill.getSelection(!0);this.quill.insertText(t.index,e),this.quill.blur(),this.quill.focus()}}]),e}();Gu.register("modules/mention",Pc);var Ic=-1,Lc=1,Nc=0;function Rc(e,t,r){if(e==t)return e?[[Nc,e]]:[];(r<0||e.length<r)&&(r=null);var n=Fc(e,t),o=e.substring(0,n);n=Dc(e=e.substring(n),t=t.substring(n));var i=e.substring(e.length-n),a=function(e,t){var r;if(!e)return[[Lc,t]];if(!t)return[[Ic,e]];var n=e.length>t.length?e:t,o=e.length>t.length?t:e,i=n.indexOf(o);if(-1!=i)return r=[[Lc,n.substring(0,i)],[Nc,o],[Lc,n.substring(i+o.length)]],e.length>t.length&&(r[0][0]=r[2][0]=Ic),r;if(1==o.length)return[[Ic,e],[Lc,t]];var a=function(e,t){var r=e.length>t.length?e:t,n=e.length>t.length?t:e;if(r.length<4||2*n.length<r.length)return null;function o(e,t,r){for(var n,o,i,a,l=e.substring(r,r+Math.floor(e.length/4)),s=-1,u="";-1!=(s=t.indexOf(l,s+1));){var c=Fc(e.substring(r),t.substring(s)),d=Dc(e.substring(0,r),t.substring(0,s));u.length<d+c&&(u=t.substring(s-d,s)+t.substring(s,s+c),n=e.substring(0,r-d),o=e.substring(r+c),i=t.substring(0,s-d),a=t.substring(s+c))}return 2*u.length>=e.length?[n,o,i,a,u]:null}var i,a,l,s,u,c=o(r,n,Math.ceil(r.length/4)),d=o(r,n,Math.ceil(r.length/2));if(!c&&!d)return null;i=d?c&&c[4].length>d[4].length?c:d:c;e.length>t.length?(a=i[0],l=i[1],s=i[2],u=i[3]):(s=i[0],u=i[1],a=i[2],l=i[3]);var p=i[4];return[a,l,s,u,p]}(e,t);if(a){var l=a[0],s=a[1],u=a[2],c=a[3],d=a[4],p=Rc(l,u),f=Rc(s,c);return p.concat([[Nc,d]],f)}return function(e,t){for(var r=e.length,n=t.length,o=Math.ceil((r+n)/2),i=o,a=2*o,l=new Array(a),s=new Array(a),u=0;u<a;u++)l[u]=-1,s[u]=-1;l[i+1]=0,s[i+1]=0;for(var c=r-n,d=c%2!=0,p=0,f=0,h=0,g=0,v=0;v<o;v++){for(var m=-v+p;m<=v-f;m+=2){for(var y=i+m,b=(S=m==-v||m!=v&&l[y-1]<l[y+1]?l[y+1]:l[y-1]+1)-m;S<r&&b<n&&e.charAt(S)==t.charAt(b);)S++,b++;if(l[y]=S,S>r)f+=2;else if(b>n)p+=2;else if(d){if((w=i+c-m)>=0&&w<a&&-1!=s[w])if(S>=(x=r-s[w]))return Mc(e,t,S,b)}}for(var _=-v+h;_<=v-g;_+=2){for(var x,w=i+_,O=(x=_==-v||_!=v&&s[w-1]<s[w+1]?s[w+1]:s[w-1]+1)-_;x<r&&O<n&&e.charAt(r-x-1)==t.charAt(n-O-1);)x++,O++;if(s[w]=x,x>r)g+=2;else if(O>n)h+=2;else if(!d){if((y=i+c-_)>=0&&y<a&&-1!=l[y]){var S;b=i+(S=l[y])-y;if(S>=(x=r-x))return Mc(e,t,S,b)}}}}return[[Ic,e],[Lc,t]]}(e,t)}(e=e.substring(0,e.length-n),t=t.substring(0,t.length-n));return o&&a.unshift([Nc,o]),i&&a.push([Nc,i]),Vc(a),null!=r&&(a=function(e,t){var r=function(e,t){if(0===t)return[Nc,e];for(var r=0,n=0;n<e.length;n++){var o=e[n];if(o[0]===Ic||o[0]===Nc){var i=r+o[1].length;if(t===i)return[n+1,e];if(t<i){e=e.slice();var a=t-r,l=[o[0],o[1].slice(0,a)],s=[o[0],o[1].slice(a)];return e.splice(n,1,l,s),[n+1,e]}r=i}}throw new Error("cursor_pos is out of bounds!")}(e,t),n=r[1],o=r[0],i=n[o],a=n[o+1];if(null==i)return e;if(i[0]!==Nc)return e;if(null!=a&&i[1]+a[1]===a[1]+i[1])return n.splice(o,2,a,i),Hc(n,o,2);if(null!=a&&0===a[1].indexOf(i[1])){n.splice(o,2,[a[0],i[1]],[0,i[1]]);var l=a[1].slice(i[1].length);return l.length>0&&n.splice(o+2,0,[a[0],l]),Hc(n,o,3)}return e}(a,r)),a=function(e){for(var t=!1,r=function(e){return e.charCodeAt(0)>=56320&&e.charCodeAt(0)<=57343},n=function(e){return e.charCodeAt(e.length-1)>=55296&&e.charCodeAt(e.length-1)<=56319},o=2;o<e.length;o+=1)e[o-2][0]===Nc&&n(e[o-2][1])&&e[o-1][0]===Ic&&r(e[o-1][1])&&e[o][0]===Lc&&r(e[o][1])&&(t=!0,e[o-1][1]=e[o-2][1].slice(-1)+e[o-1][1],e[o][1]=e[o-2][1].slice(-1)+e[o][1],e[o-2][1]=e[o-2][1].slice(0,-1));if(!t)return e;var i=[];for(o=0;o<e.length;o+=1)e[o][1].length>0&&i.push(e[o]);return i}(a),a}function Mc(e,t,r,n){var o=e.substring(0,r),i=t.substring(0,n),a=e.substring(r),l=t.substring(n),s=Rc(o,i),u=Rc(a,l);return s.concat(u)}function Fc(e,t){if(!e||!t||e.charAt(0)!=t.charAt(0))return 0;for(var r=0,n=Math.min(e.length,t.length),o=n,i=0;r<o;)e.substring(i,o)==t.substring(i,o)?i=r=o:n=o,o=Math.floor((n-r)/2+r);return o}function Dc(e,t){if(!e||!t||e.charAt(e.length-1)!=t.charAt(t.length-1))return 0;for(var r=0,n=Math.min(e.length,t.length),o=n,i=0;r<o;)e.substring(e.length-o,e.length-i)==t.substring(t.length-o,t.length-i)?i=r=o:n=o,o=Math.floor((n-r)/2+r);return o}function Vc(e){e.push([Nc,""]);for(var t,r=0,n=0,o=0,i="",a="";r<e.length;)switch(e[r][0]){case Lc:o++,a+=e[r][1],r++;break;case Ic:n++,i+=e[r][1],r++;break;case Nc:n+o>1?(0!==n&&0!==o&&(0!==(t=Fc(a,i))&&(r-n-o>0&&e[r-n-o-1][0]==Nc?e[r-n-o-1][1]+=a.substring(0,t):(e.splice(0,0,[Nc,a.substring(0,t)]),r++),a=a.substring(t),i=i.substring(t)),0!==(t=Dc(a,i))&&(e[r][1]=a.substring(a.length-t)+e[r][1],a=a.substring(0,a.length-t),i=i.substring(0,i.length-t))),0===n?e.splice(r-o,n+o,[Lc,a]):0===o?e.splice(r-n,n+o,[Ic,i]):e.splice(r-n-o,n+o,[Ic,i],[Lc,a]),r=r-n-o+(n?1:0)+(o?1:0)+1):0!==r&&e[r-1][0]==Nc?(e[r-1][1]+=e[r][1],e.splice(r,1)):r++,o=0,n=0,i="",a=""}""===e[e.length-1][1]&&e.pop();var l=!1;for(r=1;r<e.length-1;)e[r-1][0]==Nc&&e[r+1][0]==Nc&&(e[r][1].substring(e[r][1].length-e[r-1][1].length)==e[r-1][1]?(e[r][1]=e[r-1][1]+e[r][1].substring(0,e[r][1].length-e[r-1][1].length),e[r+1][1]=e[r-1][1]+e[r+1][1],e.splice(r-1,1),l=!0):e[r][1].substring(0,e[r+1][1].length)==e[r+1][1]&&(e[r-1][1]+=e[r+1][1],e[r][1]=e[r][1].substring(e[r+1][1].length)+e[r+1][1],e.splice(r+1,1),l=!0)),r++;l&&Vc(e)}var zc=Rc;zc.INSERT=Lc,zc.DELETE=Ic,zc.EQUAL=Nc;var Bc=zc;function Hc(e,t,r){for(var n=t+r-1;n>=0&&n>=t-1;n--)if(n+1<e.length){var o=e[n],i=e[n+1];o[0]===i[1]&&e.splice(n,2,[o[0],o[1]+i[1]])}return e}var Wc,Uc,$c=Object.prototype.toString,Yc=function(e){var t=$c.call(e),r="[object Arguments]"===t;return r||(r="[object Array]"!==t&&null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Function]"===$c.call(e.callee)),r};var Gc=Array.prototype.slice,Kc=Yc,Jc=Object.keys,Qc=Jc?function(e){return Jc(e)}:function(){if(Uc)return Wc;var e;if(Uc=1,!Object.keys){var t=Object.prototype.hasOwnProperty,r=Object.prototype.toString,n=Yc,o=Object.prototype.propertyIsEnumerable,i=!o.call({toString:null},"toString"),a=o.call((function(){}),"prototype"),l=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],s=function(e){var t=e.constructor;return t&&t.prototype===e},u={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},c=function(){if("undefined"==typeof window)return!1;for(var e in window)try{if(!u["$"+e]&&t.call(window,e)&&null!==window[e]&&"object"==typeof window[e])try{s(window[e])}catch(lF){return!0}}catch(lF){return!0}return!1}();e=function(e){var o=null!==e&&"object"==typeof e,u="[object Function]"===r.call(e),d=n(e),p=o&&"[object String]"===r.call(e),f=[];if(!o&&!u&&!d)throw new TypeError("Object.keys called on a non-object");var h=a&&u;if(p&&e.length>0&&!t.call(e,0))for(var g=0;g<e.length;++g)f.push(String(g));if(d&&e.length>0)for(var v=0;v<e.length;++v)f.push(String(v));else for(var m in e)h&&"prototype"===m||!t.call(e,m)||f.push(String(m));if(i)for(var y=function(e){if("undefined"==typeof window||!c)return s(e);try{return s(e)}catch(lF){return!1}}(e),b=0;b<l.length;++b)y&&"constructor"===l[b]||!t.call(e,l[b])||f.push(l[b]);return f}}return Wc=e}(),Xc=Object.keys;Qc.shim=function(){if(Object.keys){var e=function(){var e=Object.keys(arguments);return e&&e.length===arguments.length}(1,2);e||(Object.keys=function(e){return Kc(e)?Xc(Gc.call(e)):Xc(e)})}else Object.keys=Qc;return Object.keys||Qc};var Zc,ed=Qc,td=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),r=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(r))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var n=Object.getOwnPropertySymbols(e);if(1!==n.length||n[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var o=Object.getOwnPropertyDescriptor(e,t);if(42!==o.value||!0!==o.enumerable)return!1}return!0},rd=td,nd=function(){return rd()&&!!Symbol.toStringTag},od="undefined"!=typeof Symbol&&Symbol,id=td,ad={foo:{}},ld=Object,sd=Array.prototype.slice,ud=Object.prototype.toString,cd=function(e){var t=this;if("function"!=typeof t||"[object Function]"!==ud.call(t))throw new TypeError("Function.prototype.bind called on incompatible "+t);for(var r,n=sd.call(arguments,1),o=Math.max(0,t.length-n.length),i=[],a=0;a<o;a++)i.push("$"+a);if(r=Function("binder","return function ("+i.join(",")+"){ return binder.apply(this,arguments); }")((function(){if(this instanceof r){var o=t.apply(this,n.concat(sd.call(arguments)));return Object(o)===o?o:this}return t.apply(e,n.concat(sd.call(arguments)))})),t.prototype){var l=function(){};l.prototype=t.prototype,r.prototype=new l,l.prototype=null}return r},dd=Function.prototype.bind||cd,pd=dd.call(Function.call,Object.prototype.hasOwnProperty),fd=SyntaxError,hd=Function,gd=TypeError,vd=function(e){try{return hd('"use strict"; return ('+e+").constructor;")()}catch(lF){}},md=Object.getOwnPropertyDescriptor;if(md)try{md({},"")}catch(lF){md=null}var yd=function(){throw new gd},bd=md?function(){try{return yd}catch(e){try{return md(arguments,"callee").get}catch(t){return yd}}}():yd,_d="function"==typeof od&&"function"==typeof Symbol&&"symbol"==typeof od("foo")&&"symbol"==typeof Symbol("bar")&&id(),xd={__proto__:ad}.foo===ad.foo&&!({__proto__:null}instanceof ld),wd=Object.getPrototypeOf||(xd?function(e){return e.__proto__}:null),Od={},Sd="undefined"!=typeof Uint8Array&&wd?wd(Uint8Array):Zc,kd={"%AggregateError%":"undefined"==typeof AggregateError?Zc:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?Zc:ArrayBuffer,"%ArrayIteratorPrototype%":_d&&wd?wd([][Symbol.iterator]()):Zc,"%AsyncFromSyncIteratorPrototype%":Zc,"%AsyncFunction%":Od,"%AsyncGenerator%":Od,"%AsyncGeneratorFunction%":Od,"%AsyncIteratorPrototype%":Od,"%Atomics%":"undefined"==typeof Atomics?Zc:Atomics,"%BigInt%":"undefined"==typeof BigInt?Zc:BigInt,"%BigInt64Array%":"undefined"==typeof BigInt64Array?Zc:BigInt64Array,"%BigUint64Array%":"undefined"==typeof BigUint64Array?Zc:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?Zc:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?Zc:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?Zc:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?Zc:FinalizationRegistry,"%Function%":hd,"%GeneratorFunction%":Od,"%Int8Array%":"undefined"==typeof Int8Array?Zc:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?Zc:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?Zc:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":_d&&wd?wd(wd([][Symbol.iterator]())):Zc,"%JSON%":"object"==typeof JSON?JSON:Zc,"%Map%":"undefined"==typeof Map?Zc:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&_d&&wd?wd((new Map)[Symbol.iterator]()):Zc,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?Zc:Promise,"%Proxy%":"undefined"==typeof Proxy?Zc:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?Zc:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?Zc:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&_d&&wd?wd((new Set)[Symbol.iterator]()):Zc,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?Zc:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":_d&&wd?wd(""[Symbol.iterator]()):Zc,"%Symbol%":_d?Symbol:Zc,"%SyntaxError%":fd,"%ThrowTypeError%":bd,"%TypedArray%":Sd,"%TypeError%":gd,"%Uint8Array%":"undefined"==typeof Uint8Array?Zc:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?Zc:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?Zc:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?Zc:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?Zc:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?Zc:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?Zc:WeakSet};if(wd)try{null.error}catch(lF){var jd=wd(wd(lF));kd["%Error.prototype%"]=jd}var Ed=function e(t){var r;if("%AsyncFunction%"===t)r=vd("async function () {}");else if("%GeneratorFunction%"===t)r=vd("function* () {}");else if("%AsyncGeneratorFunction%"===t)r=vd("async function* () {}");else if("%AsyncGenerator%"===t){var n=e("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if("%AsyncIteratorPrototype%"===t){var o=e("%AsyncGenerator%");o&&wd&&(r=wd(o.prototype))}return kd[t]=r,r},Cd={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Td=dd,qd=pd,Ad=Td.call(Function.call,Array.prototype.concat),Pd=Td.call(Function.apply,Array.prototype.splice),Id=Td.call(Function.call,String.prototype.replace),Ld=Td.call(Function.call,String.prototype.slice),Nd=Td.call(Function.call,RegExp.prototype.exec),Rd=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Md=/\\(\\)?/g,Fd=function(e,t){var r,n=e;if(qd(Cd,n)&&(n="%"+(r=Cd[n])[0]+"%"),qd(kd,n)){var o=kd[n];if(o===Od&&(o=Ed(n)),void 0===o&&!t)throw new gd("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:r,name:n,value:o}}throw new fd("intrinsic "+e+" does not exist!")},Dd=function(e,t){if("string"!=typeof e||0===e.length)throw new gd("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new gd('"allowMissing" argument must be a boolean');if(null===Nd(/^%?[^%]*%?$/,e))throw new fd("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=function(e){var t=Ld(e,0,1),r=Ld(e,-1);if("%"===t&&"%"!==r)throw new fd("invalid intrinsic syntax, expected closing `%`");if("%"===r&&"%"!==t)throw new fd("invalid intrinsic syntax, expected opening `%`");var n=[];return Id(e,Rd,(function(e,t,r,o){n[n.length]=r?Id(o,Md,"$1"):t||e})),n}(e),n=r.length>0?r[0]:"",o=Fd("%"+n+"%",t),i=o.name,a=o.value,l=!1,s=o.alias;s&&(n=s[0],Pd(r,Ad([0,1],s)));for(var u=1,c=!0;u<r.length;u+=1){var d=r[u],p=Ld(d,0,1),f=Ld(d,-1);if(('"'===p||"'"===p||"`"===p||'"'===f||"'"===f||"`"===f)&&p!==f)throw new fd("property names with quotes must have matching quotes");if("constructor"!==d&&c||(l=!0),qd(kd,i="%"+(n+="."+d)+"%"))a=kd[i];else if(null!=a){if(!(d in a)){if(!t)throw new gd("base intrinsic for "+e+" exists, but the property is not available.");return}if(md&&u+1>=r.length){var h=md(a,d);a=(c=!!h)&&"get"in h&&!("originalValue"in h.get)?h.get:a[d]}else c=qd(a,d),a=a[d];c&&!l&&(kd[i]=a)}}return a},Vd={exports:{}};!function(e){var t=dd,r=Dd,n=r("%Function.prototype.apply%"),o=r("%Function.prototype.call%"),i=r("%Reflect.apply%",!0)||t.call(o,n),a=r("%Object.getOwnPropertyDescriptor%",!0),l=r("%Object.defineProperty%",!0),s=r("%Math.max%");if(l)try{l({},"a",{value:1})}catch(lF){l=null}e.exports=function(e){var r=i(t,o,arguments);a&&l&&(a(r,"length").configurable&&l(r,"length",{value:1+s(0,e.length-(arguments.length-1))}));return r};var u=function(){return i(t,n,arguments)};l?l(e.exports,"apply",{value:u}):e.exports.apply=u}(Vd);var zd=Vd.exports,Bd=Dd,Hd=zd,Wd=Hd(Bd("String.prototype.indexOf")),Ud=function(e,t){var r=Bd(e,!!t);return"function"==typeof r&&Wd(e,".prototype.")>-1?Hd(r):r},$d=nd(),Yd=Ud("Object.prototype.toString"),Gd=function(e){return!($d&&e&&"object"==typeof e&&Symbol.toStringTag in e)&&"[object Arguments]"===Yd(e)},Kd=function(e){return!!Gd(e)||null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Array]"!==Yd(e)&&"[object Function]"===Yd(e.callee)},Jd=function(){return Gd(arguments)}();Gd.isLegacyArguments=Kd;var Qd=Jd?Gd:Kd,Xd=Dd("%Object.defineProperty%",!0),Zd=function(){if(Xd)try{return Xd({},"a",{value:1}),!0}catch(lF){return!1}return!1};Zd.hasArrayLengthDefineBug=function(){if(!Zd())return null;try{return 1!==Xd([],"length",{value:1}).length}catch(lF){return!0}};var ep=Zd,tp=ed,rp="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),np=Object.prototype.toString,op=Array.prototype.concat,ip=Object.defineProperty,ap=ep(),lp=ip&&ap,sp=function(e,t,r,n){if(t in e)if(!0===n){if(e[t]===r)return}else if("function"!=typeof(o=n)||"[object Function]"!==np.call(o)||!n())return;var o;lp?ip(e,t,{configurable:!0,enumerable:!1,value:r,writable:!0}):e[t]=r},up=function(e,t){var r=arguments.length>2?arguments[2]:{},n=tp(t);rp&&(n=op.call(n,Object.getOwnPropertySymbols(t)));for(var o=0;o<n.length;o+=1)sp(e,n[o],t[n[o]],r[n[o]])};up.supportsDescriptors=!!lp;var cp=up,dp=function(e){return e!=e},pp=function(e,t){return 0===e&&0===t?1/e==1/t:e===t||!(!dp(e)||!dp(t))},fp=pp,hp=function(){return"function"==typeof Object.is?Object.is:fp},gp=hp,vp=cp,mp=cp,yp=pp,bp=hp,_p=function(){var e=gp();return vp(Object,{is:e},{is:function(){return Object.is!==e}}),e},xp=zd(bp(),Object);mp(xp,{getPolyfill:bp,implementation:yp,shim:_p});var wp,Op,Sp,kp,jp=xp,Ep=Ud,Cp=nd();if(Cp){wp=Ep("Object.prototype.hasOwnProperty"),Op=Ep("RegExp.prototype.exec"),Sp={};var Tp=function(){throw Sp};kp={toString:Tp,valueOf:Tp},"symbol"==typeof Symbol.toPrimitive&&(kp[Symbol.toPrimitive]=Tp)}var qp=Ep("Object.prototype.toString"),Ap=Object.getOwnPropertyDescriptor,Pp=Cp?function(e){if(!e||"object"!=typeof e)return!1;var t=Ap(e,"lastIndex");if(!(t&&wp(t,"value")))return!1;try{Op(e,kp)}catch(lF){return lF===Sp}}:function(e){return!(!e||"object"!=typeof e&&"function"!=typeof e)&&"[object RegExp]"===qp(e)},Ip={exports:{}},Lp=function(){return"string"==typeof function(){}.name},Np=Object.getOwnPropertyDescriptor;if(Np)try{Np([],"length")}catch(lF){Np=null}Lp.functionsHaveConfigurableNames=function(){if(!Lp()||!Np)return!1;var e=Np((function(){}),"name");return!!e&&!!e.configurable};var Rp=Function.prototype.bind;Lp.boundFunctionsHaveNames=function(){return Lp()&&"function"==typeof Rp&&""!==function(){}.bind().name};var Mp=Lp;!function(e){var t=Mp.functionsHaveConfigurableNames(),r=Object,n=TypeError;e.exports=function(){if(null!=this&&this!==r(this))throw new n("RegExp.prototype.flags getter called on non-object");var e="";return this.hasIndices&&(e+="d"),this.global&&(e+="g"),this.ignoreCase&&(e+="i"),this.multiline&&(e+="m"),this.dotAll&&(e+="s"),this.unicode&&(e+="u"),this.unicodeSets&&(e+="v"),this.sticky&&(e+="y"),e},t&&Object.defineProperty&&Object.defineProperty(e.exports,"name",{value:"get flags"})}(Ip);var Fp=Ip.exports,Dp=Fp,Vp=cp.supportsDescriptors,zp=Object.getOwnPropertyDescriptor,Bp=function(){if(Vp&&"gim"===/a/gim.flags){var e=zp(RegExp.prototype,"flags");if(e&&"function"==typeof e.get&&"boolean"==typeof RegExp.prototype.dotAll&&"boolean"==typeof RegExp.prototype.hasIndices){var t="",r={};if(Object.defineProperty(r,"hasIndices",{get:function(){t+="d"}}),Object.defineProperty(r,"sticky",{get:function(){t+="y"}}),"dy"===t)return e.get}}return Dp},Hp=cp.supportsDescriptors,Wp=Bp,Up=Object.getOwnPropertyDescriptor,$p=Object.defineProperty,Yp=TypeError,Gp=Object.getPrototypeOf,Kp=/a/,Jp=cp,Qp=Fp,Xp=Bp,Zp=function(){if(!Hp||!Gp)throw new Yp("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var e=Wp(),t=Gp(Kp),r=Up(t,"flags");return r&&r.get===e||$p(t,"flags",{configurable:!0,enumerable:!1,get:e}),e},ef=zd(Xp());Jp(ef,{getPolyfill:Xp,implementation:Qp,shim:Zp});var tf=ef,rf=Date.prototype.getDay,nf=Object.prototype.toString,of=nd(),af=ed,lf=Qd,sf=jp,uf=Pp,cf=tf,df=function(e){return"object"==typeof e&&null!==e&&(of?function(e){try{return rf.call(e),!0}catch(lF){return!1}}(e):"[object Date]"===nf.call(e))},pf=Date.prototype.getTime;function ff(e,t,r){var n=r||{};return!!(n.strict?sf(e,t):e===t)||(!e||!t||"object"!=typeof e&&"object"!=typeof t?n.strict?sf(e,t):e==t:function(e,t,r){var n,o;if(typeof e!=typeof t)return!1;if(hf(e)||hf(t))return!1;if(e.prototype!==t.prototype)return!1;if(lf(e)!==lf(t))return!1;var i=uf(e),a=uf(t);if(i!==a)return!1;if(i||a)return e.source===t.source&&cf(e)===cf(t);if(df(e)&&df(t))return pf.call(e)===pf.call(t);var l=gf(e),s=gf(t);if(l!==s)return!1;if(l||s){if(e.length!==t.length)return!1;for(n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}if(typeof e!=typeof t)return!1;try{var u=af(e),c=af(t)}catch(lF){return!1}if(u.length!==c.length)return!1;for(u.sort(),c.sort(),n=u.length-1;n>=0;n--)if(u[n]!=c[n])return!1;for(n=u.length-1;n>=0;n--)if(!ff(e[o=u[n]],t[o],r))return!1;return!0}(e,t,n))}function hf(e){return null==e}function gf(e){return!(!e||"object"!=typeof e||"number"!=typeof e.length)&&("function"==typeof e.copy&&"function"==typeof e.slice&&!(e.length>0&&"number"!=typeof e[0]))}var vf=ff,mf=Object.prototype.hasOwnProperty,yf=Object.prototype.toString,bf=Object.defineProperty,_f=Object.getOwnPropertyDescriptor,xf=function(e){return"function"==typeof Array.isArray?Array.isArray(e):"[object Array]"===yf.call(e)},wf=function(e){if(!e||"[object Object]"!==yf.call(e))return!1;var t,r=mf.call(e,"constructor"),n=e.constructor&&e.constructor.prototype&&mf.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!r&&!n)return!1;for(t in e);return void 0===t||mf.call(e,t)},Of=function(e,t){bf&&"__proto__"===t.name?bf(e,t.name,{enumerable:!0,configurable:!0,value:t.newValue,writable:!0}):e[t.name]=t.newValue},Sf=function(e,t){if("__proto__"===t){if(!mf.call(e,t))return;if(_f)return _f(e,t).value}return e[t]},kf=function e(){var t,r,n,o,i,a,l=arguments[0],s=1,u=arguments.length,c=!1;for("boolean"==typeof l&&(c=l,l=arguments[1]||{},s=2),(null==l||"object"!=typeof l&&"function"!=typeof l)&&(l={});s<u;++s)if(null!=(t=arguments[s]))for(r in t)n=Sf(l,r),l!==(o=Sf(t,r))&&(c&&o&&(wf(o)||(i=xf(o)))?(i?(i=!1,a=n&&xf(n)?n:[]):a=n&&wf(n)?n:{},Of(l,{name:r,newValue:e(c,a,o)})):void 0!==o&&Of(l,{name:r,newValue:o}));return l},jf=vf,Ef=kf,Cf={attributes:{compose:function(e,t,r){"object"!=typeof e&&(e={}),"object"!=typeof t&&(t={});var n=Ef(!0,{},t);for(var o in r||(n=Object.keys(n).reduce((function(e,t){return null!=n[t]&&(e[t]=n[t]),e}),{})),e)void 0!==e[o]&&void 0===t[o]&&(n[o]=e[o]);return Object.keys(n).length>0?n:void 0},diff:function(e,t){"object"!=typeof e&&(e={}),"object"!=typeof t&&(t={});var r=Object.keys(e).concat(Object.keys(t)).reduce((function(r,n){return jf(e[n],t[n])||(r[n]=void 0===t[n]?null:t[n]),r}),{});return Object.keys(r).length>0?r:void 0},transform:function(e,t,r){if("object"!=typeof e)return t;if("object"==typeof t){if(!r)return t;var n=Object.keys(t).reduce((function(r,n){return void 0===e[n]&&(r[n]=t[n]),r}),{});return Object.keys(n).length>0?n:void 0}}},iterator:function(e){return new Tf(e)},length:function(e){return"number"==typeof e.delete?e.delete:"number"==typeof e.retain?e.retain:"string"==typeof e.insert?e.insert.length:1}};function Tf(e){this.ops=e,this.index=0,this.offset=0}Tf.prototype.hasNext=function(){return this.peekLength()<1/0},Tf.prototype.next=function(e){e||(e=1/0);var t=this.ops[this.index];if(t){var r=this.offset,n=Cf.length(t);if(e>=n-r?(e=n-r,this.index+=1,this.offset=0):this.offset+=e,"number"==typeof t.delete)return{delete:e};var o={};return t.attributes&&(o.attributes=t.attributes),"number"==typeof t.retain?o.retain=e:"string"==typeof t.insert?o.insert=t.insert.substr(r,e):o.insert=t.insert,o}return{retain:1/0}},Tf.prototype.peek=function(){return this.ops[this.index]},Tf.prototype.peekLength=function(){return this.ops[this.index]?Cf.length(this.ops[this.index])-this.offset:1/0},Tf.prototype.peekType=function(){return this.ops[this.index]?"number"==typeof this.ops[this.index].delete?"delete":"number"==typeof this.ops[this.index].retain?"retain":"insert":"retain"},Tf.prototype.rest=function(){if(this.hasNext()){if(0===this.offset)return this.ops.slice(this.index);var e=this.offset,t=this.index,r=this.next(),n=this.ops.slice(this.index);return this.offset=e,this.index=t,[r].concat(n)}return[]};var qf=Bc,Af=vf,Pf=kf,If=Cf,Lf=String.fromCharCode(0),Nf=function(e){Array.isArray(e)?this.ops=e:null!=e&&Array.isArray(e.ops)?this.ops=e.ops:this.ops=[]};Nf.prototype.insert=function(e,t){var r={};return 0===e.length?this:(r.insert=e,null!=t&&"object"==typeof t&&Object.keys(t).length>0&&(r.attributes=t),this.push(r))},Nf.prototype.delete=function(e){return e<=0?this:this.push({delete:e})},Nf.prototype.retain=function(e,t){if(e<=0)return this;var r={retain:e};return null!=t&&"object"==typeof t&&Object.keys(t).length>0&&(r.attributes=t),this.push(r)},Nf.prototype.push=function(e){var t=this.ops.length,r=this.ops[t-1];if(e=Pf(!0,{},e),"object"==typeof r){if("number"==typeof e.delete&&"number"==typeof r.delete)return this.ops[t-1]={delete:r.delete+e.delete},this;if("number"==typeof r.delete&&null!=e.insert&&(t-=1,"object"!=typeof(r=this.ops[t-1])))return this.ops.unshift(e),this;if(Af(e.attributes,r.attributes)){if("string"==typeof e.insert&&"string"==typeof r.insert)return this.ops[t-1]={insert:r.insert+e.insert},"object"==typeof e.attributes&&(this.ops[t-1].attributes=e.attributes),this;if("number"==typeof e.retain&&"number"==typeof r.retain)return this.ops[t-1]={retain:r.retain+e.retain},"object"==typeof e.attributes&&(this.ops[t-1].attributes=e.attributes),this}}return t===this.ops.length?this.ops.push(e):this.ops.splice(t,0,e),this},Nf.prototype.chop=function(){var e=this.ops[this.ops.length-1];return e&&e.retain&&!e.attributes&&this.ops.pop(),this},Nf.prototype.filter=function(e){return this.ops.filter(e)},Nf.prototype.forEach=function(e){this.ops.forEach(e)},Nf.prototype.map=function(e){return this.ops.map(e)},Nf.prototype.partition=function(e){var t=[],r=[];return this.forEach((function(n){(e(n)?t:r).push(n)})),[t,r]},Nf.prototype.reduce=function(e,t){return this.ops.reduce(e,t)},Nf.prototype.changeLength=function(){return this.reduce((function(e,t){return t.insert?e+If.length(t):t.delete?e-t.delete:e}),0)},Nf.prototype.length=function(){return this.reduce((function(e,t){return e+If.length(t)}),0)},Nf.prototype.slice=function(e,t){e=e||0,"number"!=typeof t&&(t=1/0);for(var r=[],n=If.iterator(this.ops),o=0;o<t&&n.hasNext();){var i;o<e?i=n.next(e-o):(i=n.next(t-o),r.push(i)),o+=If.length(i)}return new Nf(r)},Nf.prototype.compose=function(e){var t=If.iterator(this.ops),r=If.iterator(e.ops),n=[],o=r.peek();if(null!=o&&"number"==typeof o.retain&&null==o.attributes){for(var i=o.retain;"insert"===t.peekType()&&t.peekLength()<=i;)i-=t.peekLength(),n.push(t.next());o.retain-i>0&&r.next(o.retain-i)}for(var a=new Nf(n);t.hasNext()||r.hasNext();)if("insert"===r.peekType())a.push(r.next());else if("delete"===t.peekType())a.push(t.next());else{var l=Math.min(t.peekLength(),r.peekLength()),s=t.next(l),u=r.next(l);if("number"==typeof u.retain){var c={};"number"==typeof s.retain?c.retain=l:c.insert=s.insert;var d=If.attributes.compose(s.attributes,u.attributes,"number"==typeof s.retain);if(d&&(c.attributes=d),a.push(c),!r.hasNext()&&Af(a.ops[a.ops.length-1],c)){var p=new Nf(t.rest());return a.concat(p).chop()}}else"number"==typeof u.delete&&"number"==typeof s.retain&&a.push(u)}return a.chop()},Nf.prototype.concat=function(e){var t=new Nf(this.ops.slice());return e.ops.length>0&&(t.push(e.ops[0]),t.ops=t.ops.concat(e.ops.slice(1))),t},Nf.prototype.diff=function(e,t){if(this.ops===e.ops)return new Nf;var r=[this,e].map((function(t){return t.map((function(r){if(null!=r.insert)return"string"==typeof r.insert?r.insert:Lf;throw new Error("diff() called "+(t===e?"on":"with")+" non-document")})).join("")})),n=new Nf,o=qf(r[0],r[1],t),i=If.iterator(this.ops),a=If.iterator(e.ops);return o.forEach((function(e){for(var t=e[1].length;t>0;){var r=0;switch(e[0]){case qf.INSERT:r=Math.min(a.peekLength(),t),n.push(a.next(r));break;case qf.DELETE:r=Math.min(t,i.peekLength()),i.next(r),n.delete(r);break;case qf.EQUAL:r=Math.min(i.peekLength(),a.peekLength(),t);var o=i.next(r),l=a.next(r);Af(o.insert,l.insert)?n.retain(r,If.attributes.diff(o.attributes,l.attributes)):n.push(l).delete(r)}t-=r}})),n.chop()},Nf.prototype.eachLine=function(e,t){t=t||"\n";for(var r=If.iterator(this.ops),n=new Nf,o=0;r.hasNext();){if("insert"!==r.peekType())return;var i=r.peek(),a=If.length(i)-r.peekLength(),l="string"==typeof i.insert?i.insert.indexOf(t,a)-a:-1;if(l<0)n.push(r.next());else if(l>0)n.push(r.next(l));else{if(!1===e(n,r.next(1).attributes||{},o))return;o+=1,n=new Nf}}n.length()>0&&e(n,{},o)},Nf.prototype.transform=function(e,t){if(t=!!t,"number"==typeof e)return this.transformPosition(e,t);for(var r=If.iterator(this.ops),n=If.iterator(e.ops),o=new Nf;r.hasNext()||n.hasNext();)if("insert"!==r.peekType()||!t&&"insert"===n.peekType())if("insert"===n.peekType())o.push(n.next());else{var i=Math.min(r.peekLength(),n.peekLength()),a=r.next(i),l=n.next(i);if(a.delete)continue;l.delete?o.push(l):o.retain(i,If.attributes.transform(a.attributes,l.attributes,t))}else o.retain(If.length(r.next()));return o.chop()},Nf.prototype.transformPosition=function(e,t){t=!!t;for(var r=If.iterator(this.ops),n=0;r.hasNext()&&n<=e;){var o=r.peekLength(),i=r.peekType();r.next(),"delete"!==i?("insert"===i&&(n<e||!t)&&(e+=o),n+=o):e-=Math.min(o,e-n)}return e};const Rf=h(Nf),Mf=ac.Quill.import("modules/clipboard");const Ff=(e,t)=>{let r=[];if(!e)return r;let n=e.find((e=>e.code===t));if(!n)return r;if(n.parent){Df(e,n).forEach((t=>{r=r.concat(Vf(e,t))}))}return(je(n.code)||Ee(n.code))&&(r=r.concat(Vf(e,n))),r},Df=(e,t)=>{let r=[],n=e.find((e=>e.code===t.parent));return n&&n.parent&&(r.push(n),r=r.concat(Df(e,n))),r},Vf=(e,t)=>{let r=[];return je(t.code)||Ee(t.code)?(e.filter((e=>e.parent===t.parent&&e.maxIndex<t.minIndex&&(!t.prioritisedSiblings||-1===t.prioritisedSiblings.indexOf(e.code)))).forEach((t=>{r=r.concat(t.code),r=r.concat(zf(e,t))})),r):r},zf=(e,t)=>{let r=[];return je(t.code)?(t.children&&t.children.forEach((t=>{let n=e.find((e=>e.code===t));r=r.concat(n.code),r=r.concat(zf(e,n))})),r):r},Bf=(e,t,r,n)=>{var o;const i=e+". "+Ae(null===(o=t.content)||void 0===o||null===(o=o.label)||void 0===o?void 0:o[n]);let a="",l=t.type;switch(t.type){case"scq_icon_array":case"scq_array":return t.children.filter((e=>"row"==e.type)).map((t=>{var o;return{value:i+" - "+e+". "+Ae(null===(o=r[t.qualifiedCode].content)||void 0===o||null===(o=o.label)||void 0===o?void 0:o[n]),id:e+t.code,type:"SCQ Array Row",instruction:e+t.code+".masked_value"}}));case"text":l="Short Text",a=`${e}.value`;break;case"nps":l="NPS",a=`${e}.value`;break;case"email":l="Email",a=`${e}.value`;break;case"paragraph":a=`${e}.value`,l="Long Text";break;case"number":l="Number",a=`${e}.value`;break;case"date":l="Date",a=`${e}.masked_value`;break;case"time":l="time",a=`${e}.masked_value`;break;case"date_time":l="Date Time",a=`${e}.masked_value`;break;case"scq":l="SCQ",a=`${e}.masked_value`;break;case"icon_scq":l="Icon SCQ",a=`${e}.masked_value`;break;case"image_scq":l="Image SCQ",a=`${e}.masked_value`;break;case"mcq":l="MCQ",a=`${e}.masked_value`;break;case"image_mcq":l="Image MCQ",a=`${e}.masked_value`;break;case"icon_mcq":l="Icon MCQ",a=`${e}.masked_value`;break;default:return[]}return[{id:e,instruction:a,value:i,type:l}]};ac.Quill.register("modules/mentions",Pc),ac.Quill.register("modules/clipboard",class extends Mf{onPaste(e){e.preventDefault();const t=this.quill.getSelection(),r=e.clipboardData.getData("text/plain");r.split("\r\n").filter((function(e){return e}));const n=(new Rf).retain(t.index).delete(t.length).insert(r),o=r.length+t.index;this.quill.updateContents(n,"silent"),this.quill.setSelection(o,0,"silent")}},!0);const Hf=N.memo((function({value:e,onBlurListener:t,extended:r,isRtl:n,lang:o,code:i}){console.log("DraftEditor for: "+i);const a=(e,t)=>t?"<p>"+e.replace(/<br>/gi,"").replace(/<p>/gi,"").replace(/<\/p>/,"")+"</p>":e,l=N.createRef(),s=f(g.useState(a(e,!r)),2),c=s[0],p=s[1],h=f(g.useState(0),2),v=(h[0],h[1]);function m(){return m=u((function*(e){const t=Pe.getState().designState,r=((e,t,r,n)=>{let o=Ff(e,t),i=[];return o.forEach((e=>{if(Ee(e)){const t=Bf(e,r[e],r,n);t.length&&(i=i.concat(t))}})),i})(t.componentIndex,i,t,t.langInfo.mainLang);if(0===e.length)return r;{const t=[];for(var n=0;n<r.length;n++)r[n].value.toLowerCase().indexOf(e.toLowerCase())>=0&&t.push(r[n]);return t}})),m.apply(this,arguments)}g.useEffect((()=>{const e=l.current.getEditor();e.setSelection(e.getLength(),0)}),[l.current]);const y=g.useMemo((()=>{return{mention:{dataAttributes:["instruction","type"],isolateCharacter:!0,allowedChars:/[^\p{L}\p{N}]*$/,mentionDenotationChars:["@"],showDenotationChar:!1,onSelect:function(e,t){t(d(d({},e),{},{value:`{{${e.id}:${e.type}}}`}))},source:(e=u((function*(e,t){const r=yield function(e){return m.apply(this,arguments)}(e);t(r)})),function(t,r){return e.apply(this,arguments)})},toolbar:{container:r?[["bold","italic","underline","strike","link"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],[{color:[]},{background:[]}],["clean"]]:[["bold","italic","underline","strike","link"],[{color:[]},{background:[]}],["clean"]],clipboard:{matchVisual:!1}}};var e}),[]);let b=null;const _=()=>{v(Date.now()),b&&clearTimeout(b)};return j.jsx("div",{onClick:e=>{"A"===e.target.tagName&&"ql-preview"==e.target.className&&(e.preventDefault(),window.open(e.target.href,"_blank"))},className:"quill-wrapper",onFocus:_,onBlur:()=>{b=setTimeout((()=>{t(c,o)}),500)},children:j.jsx(lc,{className:n?"rtl":"ltr",theme:"snow",bounds:".quill-wrapper",ref:l,modules:y,formats:["bold","italic","underline","strike","direction","list","bullet","indent","color","background","mention","link"],value:c,onChange:e=>{_(),p(a(e,!r))}})})}));const Wf=N.memo((function({placeholder:e,extended:t,contentKey:r,code:n}){const o=Se(),i=ke((e=>{var t;return null===(t=e.designState[n].content)||void 0===t?void 0:t[r]})),a=ke((e=>{var t;return"collapse_none"===(null===(t=e.designState.globalSetup)||void 0===t?void 0:t.reorder_setup)})),l=ke((e=>e.designState.langInfo)),s=ke((e=>{var t;return"G"==n[0]?(null===(t=e.designState[n].groupType)||void 0===t?void 0:t.toLowerCase())||"group":e.designState[n].type})),u=l.lang,c=l.mainLang,d=l.onMainLang,p=(null==i?void 0:i[u])||"",h=d?e:Ie(null==i?void 0:i[c])?null==i?void 0:i[c]:e,v=f(g.useState(!1),2),m=v[0],y=v[1],b=g.useCallback(((e,t)=>{y(!1),u==t&&e!=p&&o(Le({code:n,key:r,lang:u,value:e}))}),[p]),_=e=>{e.preventDefault(),y(!0),d&&o(Ce({code:n,rules:Te(s)}))},x=Ne.includes(u);return j.jsx(P,{className:Si,onClick:e=>{a&&_(e)},children:m?j.jsx(Hf,{lang:u,isRtl:x,code:n,extended:t,onBlurListener:b,value:p}):Ie(p)?j.jsx("div",{className:`${x?"rtl":"ltr"} ql-editor ${ki}`,dangerouslySetInnerHTML:{__html:p}}):j.jsx("div",{className:`${x?"rtl":"ltr"} ql-editor ${ji}`,dangerouslySetInnerHTML:{__html:h}})})})),Uf="_actionControl_1xa5v_1",$f="_statusIcon_1xa5v_8";var Yf={},Gf=A;Object.defineProperty(Yf,"__esModule",{value:!0});var Kf=Yf.default=void 0,Jf=Gf(we()),Qf=j,Xf=(0,Jf.default)((0,Qf.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"}),"Visibility");Kf=Yf.default=Xf;var Zf={},eh=A;Object.defineProperty(Zf,"__esModule",{value:!0});var th=Zf.default=void 0,rh=eh(we()),nh=j,oh=(0,rh.default)((0,nh.jsx)("path",{d:"m23 12-2.44-2.79.34-3.69-3.61-.82-1.89-3.2L12 2.96 8.6 1.5 6.71 4.69 3.1 5.5l.34 3.7L1 12l2.44 2.79-.34 3.7 3.61.82L8.6 22.5l3.4-1.47 3.4 1.46 1.89-3.19 3.61-.82-.34-3.69L23 12zm-12.91 4.72-3.8-3.81 1.48-1.48 2.32 2.33 5.85-5.87 1.48 1.48-7.33 7.35z"}),"Verified");th=Zf.default=oh;var ih={},ah=A;Object.defineProperty(ih,"__esModule",{value:!0});var lh=ih.default=void 0,sh=ah(we()),uh=j,ch=(0,sh.default)((0,uh.jsx)("path",{d:"M10.59 9.17 5.41 4 4 5.41l5.17 5.17 1.42-1.41zM14.5 4l2.04 2.04L4 18.59 5.41 20 17.96 7.46 20 9.5V4h-5.5zm.33 9.41-1.41 1.41 3.13 3.13L14.5 20H20v-5.5l-2.04 2.04-3.13-3.13z"}),"Shuffle");lh=ih.default=ch;var dh={},ph=A;Object.defineProperty(dh,"__esModule",{value:!0});var fh=dh.default=void 0,hh=ph(we()),gh=j,vh=(0,hh.default)((0,gh.jsx)("path",{d:"M14 5h8v2h-8zm0 5.5h8v2h-8zm0 5.5h8v2h-8zM2 11.5C2 15.08 4.92 18 8.5 18H9v2l3-3-3-3v2h-.5C6.02 16 4 13.98 4 11.5S6.02 7 8.5 7H12V5H8.5C4.92 5 2 7.92 2 11.5z"}),"LowPriority");fh=dh.default=vh;var mh={},yh=A;Object.defineProperty(mh,"__esModule",{value:!0});var bh=mh.default=void 0,_h=yh(we()),xh=j,wh=(0,_h.default)((0,xh.jsx)("path",{d:"M3 11c0 2.45 1.76 4.47 4.08 4.91l-1.49-1.49L7 13l4 4.01L7 21l-1.41-1.41 1.58-1.58v-.06C3.7 17.54 1 14.58 1 11c0-3.87 3.13-7 7-7h3v2H8c-2.76 0-5 2.24-5 5zm19 0V4h-9v7h9zm-2-2h-5V6h5v3zm-7 4h9v7h-9z"}),"MoveDown");bh=mh.default=wh;const Oh=N.memo((function({code:e,isGroup:t,parentCode:r,disableDelete:n,onDelete:o,onClone:i,t:a}){const l=Se(),s=R(),u=ke((r=>{var n;return t?(null===(n=r.designState[e].groupType)||void 0===n?void 0:n.toLowerCase())||"group":r.designState[e].type})),c=f(g.useState(!1),2),p=c[0],h=c[1],v=ke((t=>{var r;let n=null===(r=t.designState[e])||void 0===r||null===(r=r.instructionList)||void 0===r?void 0:r.find((e=>"conditional_relevance"==e.code));return void 0!==n&&!n.errors})),m=ke((r=>{var n;return!t&&(null===(n=r.designState[e])||void 0===n||null===(n=n.instructionList)||void 0===n||null===(n=n.filter((e=>e.code.startsWith("validation_")&&!e.errors)))||void 0===n?void 0:n.length)>0})),y=()=>{l(Ce(t?d(d({},surveySetup),{},{highlighted:"random"}):{code:r,rules:Te("group"),highlighted:"random",expanded:["random"]}))},b=s.textStyles.question.color,_=ke((t=>{var r,n;let o=null===(r=t.designState[e])||void 0===r||null===(r=r.instructionList)||void 0===r?void 0:r.filter((e=>e.code.startsWith("skip_to")));return(null==o||null===(n=o.filter((e=>!e.errors)))||void 0===n?void 0:n.length)>=1})),x=ke((t=>{var r;let n=null===(r=t.designState.componentIndex)||void 0===r?void 0:r.find((t=>t.code==e));return n&&n.minIndex!=n.maxIndex})),w=ke((t=>{var r,n;let o=null===(r=t.designState.componentIndex)||void 0===r?void 0:r.find((t=>t.code==e));return(null==o||null===(n=o.prioritisedSiblings)||void 0===n?void 0:n.length)>0}));return j.jsxs("div",{className:Uf,onClick:e=>{e.target!==e.currentTarget&&(e.preventDefault(),e.stopPropagation())},children:[v&&j.jsx(Mt,{title:"Has show/Hide Condition",children:j.jsx(pe,{className:$f,onClick:()=>{l(Ce({code:e,rules:Te(u),highlighted:"relevance",expanded:["relevance"]}))},children:j.jsx(Kf,{style:{color:b}})})}),m&&j.jsx(Mt,{title:"Has Validation",children:j.jsx(pe,{className:$f,onClick:()=>{l(Ce({code:e,rules:Te(u),highlighted:"validation",expanded:["validation"]}))},children:j.jsx(th,{style:{color:b}})})}),x&&j.jsx(Mt,{title:"Is part of a valid Random Group (within parent)",children:j.jsx(pe,{className:$f,onClick:()=>y(),children:j.jsx(lh,{style:{color:b}})})}),w&&j.jsx(Mt,{title:"Is part of a valid Priority Group (within parent)",children:j.jsx(pe,{className:$f,onClick:()=>y(),children:j.jsx(fh,{style:{color:b}})})}),_&&j.jsx(Mt,{title:"Has active Skip Logic",children:j.jsx(pe,{className:$f,onClick:()=>{l(Ce({code:e,rules:Te(u),highlighted:"skip_logic",expanded:["skip_logic"]}))},children:j.jsx(bh,{style:{color:b}})})}),j.jsx(pe,{onClick:()=>{l(Ce({code:e,rules:Te(u)}))},children:j.jsx(Re,{name:"settings",size:".75em",color:`${b}`})}),!t&&j.jsx(pe,{onClick:()=>i(),children:j.jsx(Re,{name:"duplicate",size:".75em",color:`${b}`})}),!n&&j.jsx(pe,{onClick:()=>h(!0),disabled:n,children:j.jsx(Re,{name:"delete",size:".75em",color:b})}),j.jsx(Qt,{open:p,description:a("delete_question"),handleClose:()=>h(!1),handleDelete:o})]})})),Sh="_questionItem_wb37f_1";const kh=N.memo((function({code:e}){var t,r;const n=ye(),o=ke((t=>t.designState[e])),i=ke((e=>e.designState.langInfo.lang));return j.jsx("div",{className:Sh,children:j.jsx(cr,{disabled:!0,variant:"standard",required:!(null===(t=o.validation)||void 0===t||null===(t=t.validation_required)||void 0===t||!t.isActive),label:o.showHint&&((null===(r=o.content)||void 0===r||null===(r=r.hint)||void 0===r?void 0:r[i])||""),value:"",InputProps:{sx:{fontFamily:n.textStyles.text.font,color:n.textStyles.text.color,fontSize:n.textStyles.text.size,"&.Mui-disabled":{color:n.textStyles.text.color,borderBottom:"1px solid"}}}})})})),jh="_questionItem_1sx0f_1";const Eh=N.memo((function({code:e}){var t,r;const n=ye(),o=ke((t=>t.designState[e])),i=ke((e=>e.designState.langInfo.lang));return j.jsx("div",{className:jh,children:j.jsx(cr,{disabled:!0,variant:"standard",required:!(null===(t=o.validation)||void 0===t||null===(t=t.validation_required)||void 0===t||!t.isActive),label:o.showHint&&((null===(r=o.content)||void 0===r||null===(r=r.hint)||void 0===r?void 0:r[i])||""),InputProps:{sx:{fontFamily:n.textStyles.text.font,color:n.textStyles.text.color,fontSize:n.textStyles.text.size}},value:""})})})),Ch="_questionItem_169qj_1";const Th=N.memo((function({code:e}){var t,r;const n=ye(),o=ke((t=>t.designState[e])),i=ke((e=>e.designState.langInfo.lang));return j.jsx("div",{className:Ch,children:j.jsx(cr,{disabled:!0,variant:"standard",required:!(null===(t=o.validation)||void 0===t||null===(t=t.validation_required)||void 0===t||!t.isActive),label:o.showHint&&((null===(r=o.content)||void 0===r||null===(r=r.hint)||void 0===r?void 0:r[i])||""),value:"",InputProps:{sx:{fontFamily:n.textStyles.text.font,color:n.textStyles.text.color,fontSize:n.textStyles.text.size}}})})})),qh="_questionItem_13fbu_1",Ah="_paragraph_13fbu_15",Ph="_wordCount_13fbu_19";const Ih=N.memo((function({code:e,t:t}){var r,n;const o=ke((t=>t.designState[e])),i=ke((e=>e.designState.langInfo.lang));return j.jsxs("div",{className:qh,children:[j.jsx(dr,{disabled:!0,className:Ah,required:!(null===(r=o.validation)||void 0===r||null===(r=r.validation_required)||void 0===r||!r.isActive),placeholder:o.showHint&&((null===(n=o.content)||void 0===n||null===(n=n.hint)||void 0===n?void 0:n[i])||""),minRows:o.minRows||2,value:""}),o.showWordCount?j.jsx("div",{className:Ph,children:j.jsx("span",{children:t("word_count",{lng:i,count:0})})}):""]})})),Lh="_questionItem_1sx0f_1";const Nh=N.memo((function({code:e}){var t;const r=ye(),n=ke((t=>t.designState[e])),o=ke((e=>e.designState.langInfo.lang));return j.jsx("div",{className:Lh,children:j.jsx(cr,{variant:"standard",required:!(null===(t=n.validation)||void 0===t||null===(t=t.validation_required)||void 0===t||!t.isActive),label:n.showHint&&n.content.hint?n.content.hint[o]:"",InputProps:{sx:{fontFamily:r.textStyles.text.font,color:r.textStyles.text.color,fontSize:r.textStyles.text.size}},value:"",type:"file",disabled:!0})})})),Rh="_questionItem_1sx0f_1";const Mh=N.memo((function({code:e}){var t,r;const n=ye(),o=ke((t=>t.designState[e])),i=ke((e=>e.designState.langInfo.lang));return j.jsx("div",{className:Rh,children:j.jsx(cr,{disabled:!0,variant:"standard",required:!(null===(t=o.validation)||void 0===t||null===(t=t.validation_required)||void 0===t||!t.isActive),label:o.showHint&&null!==(r=o.content)&&void 0!==r&&r.hint?o.content.hint[i]:"",value:"",InputProps:{sx:{fontFamily:n.textStyles.text,color:n.textStyles.text.color,fontSize:n.textStyles.text.size}},placeholder:o.dateFormat})})})),Fh="_questionItem_wb37f_1";const Dh=N.memo((function({code:e}){var t,r;const n=ye(),o=ke((t=>t.designState[e])),i=ke((e=>e.designState.langInfo.lang));return j.jsx("div",{className:Fh,children:j.jsx(cr,{disabled:!0,variant:"standard",required:!(null===(t=o.validation)||void 0===t||null===(t=t.validation_required)||void 0===t||!t.isActive),label:o.showHint&&null!==(r=o.content)&&void 0!==r&&r.hint?o.content.hint[i]:"",value:"",type:"time",InputProps:{sx:{fontFamily:n.textStyles.text.font,color:n.textStyles.text.color,fontSize:n.textStyles.text.size}}})})}));var Vh={},zh=A;Object.defineProperty(Vh,"__esModule",{value:!0});var Bh=Vh.default=void 0,Hh=zh(we()),Wh=j,Uh=(0,Hh.default)((0,Wh.jsx)("path",{d:"M11 18c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2zm-2-8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm6 4c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"DragIndicator");Bh=Vh.default=Uh;const $h=N.memo((function(e){const t=ye(),r=e.t,n=ke((e=>e.designState.langInfo)),o=n.lang===n.mainLang,i=ke((t=>t.designState[e.code].children));ke((t=>{var r;return(null===(r=t.designState.setup)||void 0===r?void 0:r.code)==e.code}));const a=N.useMemo((()=>(null==i?void 0:i.filter((e=>"row"==e.type)))||[]),[i]),l=N.useMemo((()=>(null==i?void 0:i.filter((e=>"column"==e.type)))||[]),[i]);return j.jsxs(j.Fragment,{children:[e.onMainLang&&j.jsx("div",{className:mr.addColumn,children:j.jsx(Me,{sx:{fontFamily:t.textStyles.text.font,fontSize:t.textStyles.text.size,color:t.textStyles.question.color},size:"small",onClick:t=>e.addNewAnswer(e.code,e.type,"column"),children:r("add_column")})}),j.jsx(yr,{children:j.jsxs(br,{children:[j.jsx(wr,{children:j.jsxs(_r,{children:[o&&j.jsx(Or,{sx:{padding:"0"}},"move"),j.jsx(Or,{},"content"),l.map(((t,r)=>j.jsx(Gh,{parentQualifiedCode:e.qualifiedCode,langInfo:n,t:e.t,item:t,index:r},t.qualifiedCode))),o&&j.jsx(Or,{sx:{padding:"0"}},"remove")]})}),j.jsx(xr,{children:a.map(((t,r)=>j.jsx(Yh,{parentQualifiedCode:e.qualifiedCode,langInfo:n,t:e.t,item:t,colCount:l.length,index:r},t.qualifiedCode)))})]})}),e.onMainLang&&j.jsx("div",{className:mr.addRow,children:j.jsx(Me,{sx:{fontFamily:t.textStyles.text.font,fontSize:t.textStyles.text.size,color:t.textStyles.question.color},size:"small",onClick:t=>e.addNewAnswer(e.code,e.type,"row"),children:r("add_row")})})]})}));function Yh({item:e,index:t,colCount:r,t:n,langInfo:o,parentQualifiedCode:i}){const a=Se(),l=ye(),s=g.useRef(),u=o.lang===o.mainLang,c=ke((t=>{var r;return null===(r=t.designState[e.qualifiedCode].content)||void 0===r||null===(r=r.label)||void 0===r?void 0:r[o.lang]})),d=ke((t=>{var r;return null===(r=t.designState[e.qualifiedCode].content)||void 0===r||null===(r=r.label)||void 0===r?void 0:r[o.mainLang]})),p=`col-${i}`,h=f(Fe({type:p,item:{qualifiedCode:e.qualifiedCode,index:t},collect:e=>e.isDragging()},[t]),3),v=h[0],m=h[1],y=h[2],b=f(kr({accept:p,collect:e=>({handlerId:e.getHandlerId()}),hover(e,r){var n;if(!s.current||!r.isOver({shallow:!0})||!e)return;const o=e.index,i=t;if(o===i)return;const l=null===(n=s.current)||void 0===n?void 0:n.getBoundingClientRect(),u=(l.bottom-l.top)/2,c=r.getClientOffset().y-l.top;o<i&&c<u||o>i&&c>u||(a(Ve({type:"reorder_answers_by_type",id:e.qualifiedCode,fromIndex:e.index,toIndex:i})),e.index=i)}}),2),_=b[0].handlerId;return(0,b[1])(y(s)),j.jsxs(_r,{style:{opacity:v?"0.2":"1"},ref:s,"data-handler-id":_,children:[u&&j.jsx(Or,{ref:m,sx:{padding:"0",color:l.textStyles.text.color},children:j.jsx(Bh,{})},"move"),j.jsx(Or,{sx:{fontFamily:l.textStyles.text.font,color:l.textStyles.text.color,fontSize:l.textStyles.text.size,padding:"4px"},children:j.jsx(cr,{variant:"standard",value:c||"",onChange:t=>{console.log(t.target.value),a(Le({code:e.qualifiedCode,key:"label",lang:o.lang,value:t.target.value}))},placeholder:u?n("content_editor_placeholder_option"):d||n("content_editor_placeholder_option"),InputProps:{disableUnderline:!0,sx:{fontFamily:l.textStyles.text.font,color:l.textStyles.text.color,fontSize:l.textStyles.text.size}}})}),[...Array(r)].map(((e,t)=>j.jsx(Or,{scope:"row",align:"center",sx:{padding:"4px"},children:j.jsx(Sr,{sx:{"&.Mui-disabled":{color:l.textStyles.text.color}},disabled:!0})},t))),u&&j.jsx(Or,{onClick:t=>a(De(e.qualifiedCode)),sx:{padding:"0",color:l.textStyles.text.color},children:j.jsx(Rt,{})},"remove")]},e.code)}function Gh({item:e,index:t,t:r,langInfo:n,parentQualifiedCode:o}){const i=Se(),a=ye(),l=g.useRef(),s=n.lang===n.mainLang,u=Ne.includes(n.lang),c=!u,d=ke((t=>{var r;return null===(r=t.designState[e.qualifiedCode].content)||void 0===r||null===(r=r.label)||void 0===r?void 0:r[n.lang]})),p=ke((t=>{var r;return null===(r=t.designState[e.qualifiedCode].content)||void 0===r||null===(r=r.label)||void 0===r?void 0:r[n.mainLang]})),h=`row-${o}`,v=f(Fe({type:h,item:{qualifiedCode:e.qualifiedCode,index:t},collect:e=>e.isDragging()},[t]),3),m=v[0],y=v[1],b=v[2],_=f(kr({accept:h,collect:e=>({handlerId:e.getHandlerId()}),hover(e,r){var n;if(!l.current||!r.isOver({shallow:!0})||!e)return;const o=e.index,a=t;if(o===a)return;const s=null===(n=l.current)||void 0===n?void 0:n.getBoundingClientRect(),d=(s.right-s.left)/2,p=r.getClientOffset().x-s.left;c&&o<a&&p<d||c&&o>a&&p>d||u&&o<a&&p>d||u&&o>a&&p<d||(i(Ve({type:"reorder_answers_by_type",id:e.qualifiedCode,fromIndex:e.index,toIndex:a})),e.index=a)}}),2),x=_[0].handlerId;return(0,_[1])(b(l)),j.jsxs(Or,{ref:l,"data-handler-id":x,align:"center",sx:{opacity:m?"0.2":"1",fontFamily:a.textStyles.text.font,color:a.textStyles.text.color,fontSize:a.textStyles.text.size,padding:"4px"},children:[s&&j.jsxs("div",{style:{display:"inline-flex"},children:[j.jsx("div",{ref:y,sx:{padding:"0"},children:j.jsx(Bh,{})},"move"),j.jsx("div",{sx:{padding:"0"},onClick:t=>i(De(e.qualifiedCode)),children:j.jsx(Rt,{})})]}),j.jsx(cr,{variant:"standard",value:d||"",onChange:t=>{console.log(t.target.value),i(Le({code:e.qualifiedCode,key:"label",lang:n.lang,value:t.target.value}))},placeholder:s?r("content_editor_placeholder_option"):p||r("content_editor_placeholder_option"),inputProps:{style:{textAlign:"center"}},InputProps:{disableUnderline:!0,sx:{fontFamily:a.textStyles.text.font,color:a.textStyles.text.color,fontSize:a.textStyles.text.size}}})]},e.qualifiedCode)}var Kh={},Jh=A;Object.defineProperty(Kh,"__esModule",{value:!0});var Qh=Kh.default=void 0,Xh=Jh(we()),Zh=j,eg=(0,Xh.default)((0,Zh.jsx)("path",{d:"M17 10.5V7c0-.55-.45-1-1-1H4c-.55 0-1 .45-1 1v10c0 .55.45 1 1 1h12c.55 0 1-.45 1-1v-3.5l4 4v-11l-4 4z"}),"Videocam");Qh=Kh.default=eg;const tg={placeholder:"_placeholder_4iqf5_1",buttonContainer:"_buttonContainer_4iqf5_9"};function rg({code:e,t:t,onMainLang:r}){var n,o;const i=ze("design"),a=Se(),l=f(g.useState(!1),2),s=l[0],u=l[1],c=ke((t=>t.designState[e]));return j.jsxs(j.Fragment,{children:[!s&&(null===(n=c.resources)||void 0===n?void 0:n.videoUrl)&&j.jsx("div",{style:{position:"relative",marginTop:"16px",paddingTop:c.audio_only?"10%":"56%"},children:j.jsx(jr,{url:St(c.resources.videoUrl),loop:c.loop||!1,light:!0,controls:!0,config:{forceAudio:c.audio_only||!1},style:{backgroundColor:"black",position:"absolute",top:"0",left:"0"},volume:1,width:"100%",height:"100%"})}),s?j.jsxs("div",{className:tg.buttonContainer,children:[j.jsx(M,{}),j.jsx("br",{}),j.jsx("span",{children:t("uploading_video")})]}):r?j.jsx("div",{className:tg.buttonContainer,children:j.jsxs(Me,{component:"label",variant:"outlined",startIcon:j.jsx(Qh,{}),children:[null!==(o=c.resources)&&void 0!==o&&o.videoUrl?t("replace_video"):t("upload_video"),j.jsx("input",{hidden:!0,id:e,accept:"video/*",type:"file",onChange:t=>{t.preventDefault(),u(!0);let r=t.target.files[0];i.uploadResource(r).then((t=>{u(!1),a(Be({code:e,key:"videoUrl",value:r.name}))})).catch((e=>{console.error(e)}))}})]})}):j.jsx(j.Fragment,{})]})}const ng="_signatureCanvas_1uxb1_1";const og=N.memo((function(){return j.jsx(P,{className:ng,sx:{backgroundColor:"background.default"},children:j.jsx("img",{src:"/signature.png",style:{backgroundColor:"rgba(255,255,255,255)",width:"80%",maxWidth:"500px",height:"200px"}})})}));var ig={},ag=A;Object.defineProperty(ig,"__esModule",{value:!0});var lg=ig.default=void 0,sg=ag(we()),ug=j,cg=(0,sg.default)((0,ug.jsx)("path",{d:"M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z"}),"Photo");lg=ig.default=cg;const dg="_buttonContainer_xjf3c_9";const pg=N.memo((function({code:e,t:t,onMainLang:r}){var n,o;const i=ze("design"),a=Se(),l=f(g.useState(!1),2),s=l[0],u=l[1],c=ke((t=>t.designState[e]));return j.jsxs(j.Fragment,{children:[!s&&(null===(n=c.resources)||void 0===n?void 0:n.imageUrl)&&j.jsx("img",{style:{width:"100%"},src:St(c.resources.imageUrl)}),s?j.jsxs("div",{className:dg,children:[j.jsx(M,{}),j.jsx("br",{}),j.jsx("span",{children:t("uploading_image")})]}):r?j.jsx("div",{className:dg,children:j.jsxs(Me,{variant:"outlined",component:"label",children:[j.jsx(lg,{className:"mr-10"}),null!==(o=c.resources)&&void 0!==o&&o.imageUrl?t("replace_image"):t("upload_image"),j.jsx("input",{hidden:!0,accept:"image/*",type:"file",onChange:t=>{t.preventDefault(),u(!0);let r=t.target.files[0];i.uploadResource(r).then((t=>{u(!1),a(Be({code:e,key:"imageUrl",value:r.name}))})).catch((e=>{console.error(e)}))}})]})}):j.jsx(j.Fragment,{})]})})),fg="_choicesContainer_k0bnu_1",hg="_choice_k0bnu_1",gg="_choiceLabels_k0bnu_19";const vg=N.memo((function({code:e}){var t,r;ye();const n=ke((t=>t.designState[e])),o=ke((e=>e.designState.langInfo.lang));return j.jsxs(j.Fragment,{children:[j.jsxs(P,{className:gg,children:[j.jsx(P,{children:null===(t=n.content)||void 0===t||null===(t=t.lower_bound_hint)||void 0===t?void 0:t[o]}),j.jsx(P,{children:null===(r=n.content)||void 0===r||null===(r=r.higher_bound_hint)||void 0===r?void 0:r[o]})]}),j.jsx(P,{className:fg,children:[0,1,2,3,4,5,6,7,8,9,10].map((e=>j.jsx(P,{className:hg,children:e},e)))})]})})),mg="_container_cyg3h_1";const yg=N.memo((function({code:e}){var t;R();const r=ke((t=>t.designState[e])),n=ke((e=>e.designState.langInfo.lang));return j.jsxs(P,{className:mg,children:[j.jsx("img",{src:"/camera.png",style:{maxHeight:"200px"}}),j.jsx("br",{}),r.showHint&&j.jsx("span",{children:(null===(t=r.content)||void 0===t||null===(t=t.hint)||void 0===t?void 0:t[n])||""})]})})),bg="_container_cyg3h_1";const _g=N.memo((function({code:e}){var t;R();const r=ke((t=>t.designState[e])),n=ke((e=>e.designState.langInfo.lang));return j.jsxs(P,{className:bg,children:[j.jsx("img",{src:"/video.png",style:{maxHeight:"200px"}}),j.jsx("br",{}),r.showHint&&j.jsx("span",{children:(null===(t=r.content)||void 0===t||null===(t=t.hint)||void 0===t?void 0:t[n])||""})]})})),xg="_container_cyg3h_1";const wg=N.memo((function({code:e}){var t;R();const r=ke((t=>t.designState[e])),n=ke((e=>e.designState.langInfo.lang));return j.jsxs(P,{className:xg,children:[j.jsx("img",{src:"/barcode.png",style:{maxHeight:"200px"}}),j.jsx("br",{}),r.showHint&&j.jsx("span",{children:(null===(t=r.content)||void 0===t||null===(t=t.hint)||void 0===t?void 0:t[n])||""})]})})),Og={answerAdd:"_answerAdd_5tmqk_1",questionItem:"_questionItem_5tmqk_9",choicesContainer:"_choicesContainer_5tmqk_15"},Sg={answerItem:"_answerItem_shykq_1",answerIcon:"_answerIcon_shykq_10",answerIconOther:"_answerIconOther_shykq_18",answerNumberOrder:"_answerNumberOrder_shykq_27",answerControl:"_answerControl_shykq_32",answerControlRtl:"_answerControlRtl_shykq_37",answerControlOther:"_answerControlOther_shykq_42",answerControlOtherRtl:"_answerControlOtherRtl_shykq_47",answerOtherControl:"_answerOtherControl_shykq_52"};var kg={},jg=A;Object.defineProperty(kg,"__esModule",{value:!0});var Eg=kg.default=void 0,Cg=jg(we()),Tg=j,qg=(0,Cg.default)((0,Tg.jsx)("path",{d:"m22.7 19-9.1-9.1c.9-2.3.4-5-1.5-6.9-2-2-5-2.4-7.4-1.3L9 6 6 9 1.6 4.7C.4 7.1.9 10.1 2.9 12.1c1.9 1.9 4.6 2.4 6.9 1.5l9.1 9.1c.4.4 1 .4 1.4 0l2.3-2.3c.5-.4.5-1.1.1-1.4z"}),"Build");function Ag(e){const t=Se(),r=ye(),n=g.useRef(null),o=ke((e=>e.designState.langInfo)),i=ke((t=>t.designState[e.qualifiedCode])),a=o.lang===o.mainLang,l=o.lang,s=Ne.includes(l),u=ke((t=>{var r;return"other"===i.type&&(null===(r=t.designState.setup)||void 0===r?void 0:r.code)==e.qualifiedCode+"Atext"})),c=ke((t=>{var r;return null===(r=t.designState[e.qualifiedCode].content)||void 0===r||null===(r=r.label)||void 0===r?void 0:r[l]})),d=ke((t=>{var r;return null===(r=t.designState[e.qualifiedCode].content)||void 0===r||null===(r=r.label)||void 0===r?void 0:r[o.mainLang]})),p=f(Fe({type:e.droppableId,item:{index:e.index,draggableId:e.qualifiedCode,type:e.droppableId,code:e.code,itemType:e.type,droppableId:e.droppableId},collect:e=>e.isDragging()},[e]),3),h=p[0],v=p[1],m=p[2],y=f(kr({accept:e.droppableId,collect:e=>({handlerId:e.getHandlerId()}),hover(r,o){var i;if(!n.current||!o.isOver({shallow:!0})||!r)return;const a=r.index,l=e.index;if(a===l)return;const s=null===(i=n.current)||void 0===i?void 0:i.getBoundingClientRect(),u=(s.bottom-s.top)/2,c=o.getClientOffset().y-s.top;a<l&&c<u||a>l&&c>u||(t(Ve({type:"reorder_answers",id:r.draggableId,fromIndex:r.index,toIndex:e.index})),r.index=l)}}),2),b=y[0].handlerId;return(0,y[1])(m(n)),He(r.palette.background.paper),j.jsx("div",{ref:n,style:(e=>{const t={transition:"all 500ms"};return e&&(t.opacity=.5),t})(h),"data-handler-id":b,children:j.jsxs(P,{sx:{backgroundColor:u?"beige":"inherit"},className:Sg.answerItem,children:[a&&j.jsx("div",{ref:v,className:Sg.answerIcon,children:j.jsx(Bh,{ref:v,sx:{fontSize:18}})}),e.label?j.jsx("b",{children:e.label}):"",j.jsx(cr,{variant:"standard",className:"other"===i.type&&s?Sg.answerControlOtherRtl:"other"===i.type?Sg.answerControlOther:s?Sg.answerControlRtl:Sg.answerControl,value:c||"",onChange:r=>t(Le({code:e.qualifiedCode,key:"label",lang:l,value:r.target.value})),placeholder:a?e.t("content_editor_placeholder_option"):d||e.t("content_editor_placeholder_option"),InputProps:{sx:{fontFamily:r.textStyles.text.font,color:r.textStyles.text.color,fontSize:r.textStyles.text.size}}}),"other"===i.type&&j.jsx(Eg,{sx:{fontSize:18},className:Sg.answerIconOther,onClick:()=>{t(Ce({code:e.qualifiedCode+"Atext",rules:Te("other_text")}))}},"setup"),a&&j.jsx(Rt,{sx:{fontSize:18},className:Sg.answerIcon,onClick:r=>t(De(e.qualifiedCode))},"close")]})})}Eg=kg.default=qg;const Pg=N.memo((function(e){const t=ye(),r=e.t,n=ke((t=>t.designState[e.code].children)),o=ke((t=>t.designState[e.code].type)),i=!("mcq"!=o&&"scq"!=o||n&&n.some((e=>"Aother"===e.code)));return j.jsxs("div",{className:Og.questionItem,children:[j.jsx("div",{className:Og.choicesContainer,children:n&&n.length>0&&n.map(((t,r)=>j.jsx(Ag,{code:t.code,t:e.t,label:t.code,qualifiedCode:t.qualifiedCode,index:r,type:e.type,droppableId:`option-${e.code}`},t.code)))}),e.onMainLang&&j.jsxs("div",{className:Og.answerAdd,children:[j.jsx(Me,{size:"small",style:{fontFamily:t.textStyles.text.font,fontSize:t.textStyles.text.size,color:t.textStyles.question.color},onClick:()=>e.addNewAnswer(e.code,o),children:r("add_option")}),i&&j.jsxs(j.Fragment,{children:[j.jsx("span",{style:{color:t.textStyles.question.color},children:r("or")}),j.jsx(Me,{style:{fontFamily:t.textStyles.text.font,fontSize:t.textStyles.text.size,color:t.textStyles.question.color},size:"small",className:Og.answerIcon,onClick:()=>e.addNewAnswer(e.code,o,"other"),children:r("add_other")})]})]})]})})),Ig="_questionItem_4rcog_5",Lg={imageIconButton:"_imageIconButton_z1as0_1",imageContainer:"_imageContainer_z1as0_8",addAnswerIcon:"_addAnswerIcon_z1as0_16",loadingContainer:"_loadingContainer_z1as0_20",addAnswerButton:"_addAnswerButton_z1as0_26",buttonContainers:"_buttonContainers_z1as0_34"};var Ng={},Rg=A;Object.defineProperty(Ng,"__esModule",{value:!0});var Mg=Ng.default=void 0,Fg=Rg(we()),Dg=j,Vg=(0,Fg.default)((0,Dg.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM8 9h8v10H8V9zm7.5-5-1-1h-5l-1 1H5v2h14V4z"}),"DeleteOutline");Mg=Ng.default=Vg;var zg={},Bg=A;Object.defineProperty(zg,"__esModule",{value:!0});var Hg=zg.default=void 0,Wg=Bg(we()),Ug=j,$g=(0,Wg.default)((0,Ug.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add");function Yg({parentCode:e,index:t,qualifiedCode:r,type:n,columnNumber:o,imageAspectRatio:i,hideText:a,t:l,addAnswer:s}){var u;const c=ze("design"),d=Se(),p=ye(),h=g.useRef(),v=f(g.useState(!1),2),m=v[0],y=v[1],b=ke((e=>e.designState.langInfo)),_=ke((e=>"add"==n?void 0:e.designState[r])),x=b.lang===b.mainLang,w=b.lang,O=Ne.includes(w),S=ke((e=>{var t;return"add"==n||null===(t=e.designState[r].content)||void 0===t||null===(t=t.label)||void 0===t?void 0:t[w]})),k=ke((e=>{var t;return"add"==n||null===(t=e.designState[r].content)||void 0===t||null===(t=t.label)||void 0===t?void 0:t[b.mainLang]})),E=null!=_&&null!==(u=_.resources)&&void 0!==u&&u.image?`url('${St(_.resources.image)}')`:"0";const C=e+"image-drag",T=t%o;const q=(e=>Math.round(e/o))(t),A=f(Fe({type:C,item:{index:t,colIndex:T,rowIndex:q,draggableId:r,parentCode:e,type:C,itemType:C},collect:e=>e.isDragging()},[t]),3),I=A[0],L=A[1],N=A[2],R=f(kr({accept:C,collect:e=>({handlerId:e.getHandlerId()}),hover(e,r){var n;if(!h.current||!r.isOver({shallow:!0})||!e)return;const o=e.index,i=t,a=e.rowIndex,l=q,s=e.colIndex,u=T;if(o===i)return;const c=null===(n=h.current)||void 0===n?void 0:n.getBoundingClientRect(),p=(c.bottom-c.top)/2,f=(c.right-c.left)/2,g=r.getClientOffset(),v=g.y-c.top,m=g.x-c.left;a<l&&v<p&&s<u&&m<f||a>l&&v>p&&s>u&&m>f||(d(Ve({type:"reorder_answers",id:e.draggableId,fromIndex:o,toIndex:i})),e.index=i,e.rowIndex=l,e.colIndex=u)}}),2),F=R[0].handlerId;return(0,R[1])(N(h)),"add"==n?j.jsx(Er,{height:"100%",item:!0,xs:12/o,children:j.jsx(P,{className:Lg.addAnswerButton,style:{minHeight:"100px",height:"100%",width:"100%",backgroundColor:p.palette.background.default,borderRadius:"4px"},children:j.jsx(pe,{sx:{color:p.textStyles.text.color},className:Lg.addAnswerIcon,onClick:()=>{s()},children:j.jsx(Hg,{})})})},"add"):j.jsx(j.Fragment,{children:j.jsxs(Er,{style:{opacity:I?"0.2":"1"},item:!0,xs:12/o,children:[j.jsxs("div",{className:Lg.imageContainer,style:{paddingTop:100/i+"%",backgroundColor:p.palette.background.default,backgroundImage:E},ref:h,"data-handler-id":F,children:[x&&j.jsxs("div",{className:Lg.buttonContainers,children:[j.jsx(pe,{sx:{color:p.textStyles.text.color},className:Lg.imageIconButton,onClick:()=>{window.confirm("Are you sure?")&&d(De(r))},children:j.jsx(Mg,{})}),j.jsxs(pe,{sx:{color:p.textStyles.text.color},component:"label",className:Lg.imageIconButton,children:[j.jsx("input",{hidden:!0,id:r,accept:"image/*",multiple:!0,type:"file",onChange:function(e){e.preventDefault();let t=e.target.files[0];y(!0),c.uploadResource(t).then((e=>{y(!1),d(Be({code:r,key:"image",value:t.name}))})).catch((e=>{y(!1),console.error(e)}))}}),j.jsx(lg,{})]}),j.jsx(pe,{sx:{color:p.textStyles.text.color},ref:L,className:Lg.imageIconButton,children:j.jsx(Bh,{})})]}),m&&j.jsx("div",{className:Lg.loadingContainer,children:j.jsx(M,{})})]}),!a&&j.jsx(cr,{dir:O?"rtl":"ltr",variant:"standard",value:S||"",onChange:e=>d(Le({code:r,key:"label",lang:w,value:e.target.value})),placeholder:x?l("content_editor_placeholder_option"):k||l("content_editor_placeholder_option"),inputProps:{style:{textAlign:"center"}},InputProps:{sx:{fontFamily:p.textStyles.text.font,color:p.textStyles.text.color,fontSize:p.textStyles.text.size}}})]},r)})}Hg=zg.default=$g;const Gg={imageIconButton:"_imageIconButton_lgrld_1",imageContainer:"_imageContainer_lgrld_8",addAnswerIcon:"_addAnswerIcon_lgrld_12",loadingContainer:"_loadingContainer_lgrld_16",addAnswerButton:"_addAnswerButton_lgrld_23",svgContainer:"_svgContainer_lgrld_31",buttonContainers:"_buttonContainers_lgrld_36"};const Kg=new class{search(e,t){return new Promise(((r,n)=>{We.get(`https://api.iconify.design/search?query=${e}&prefixes=mdi,fluent,ri&limit=100`,{cancelToken:t.token}).then((e=>{r(e.data.icons)})).catch((e=>{We.isCancel(e)?console.log("Request canceled:",e.message):n(e)}))}))}},Jg={resultImage:"_resultImage_2y7qe_1"};function Qg({currentIcon:e,onIconSelected:t}){const r=Oe("design").t,n=f(g.useState(""),2),o=n[0],i=n[1],a=f(g.useState(null),2),l=a[0],s=a[1],u=f(g.useState([]),2),c=u[0],d=u[1];g.useEffect((()=>{if(l&&l.cancel("Operation canceled by the user."),o){const e=We.CancelToken.source();s(e),Kg.search(o,e).then((e=>{d(e)})).catch((e=>{console.error(e)}))}else d([])}),[o]);return j.jsxs(Pr,{fullScreen:!0,sx:{margin:"200px"},open:!0,onClose:()=>t(!1),"aria-labelledby":"alert-dialog-title-logic-builder","aria-describedby":"alert-dialog-description",children:[j.jsx(Ft,{id:"alert-dialog-title-logic-builder",children:r("select Icon")}),j.jsx(Ir,{children:j.jsxs("div",{children:[j.jsx("input",{type:"text",placeholder:"Search for icons",value:o,onChange:e=>{i(e.target.value)}}),j.jsx("div",{className:"search-results",children:c.map(((e,r)=>{const n=e.split(":");return j.jsx(Xg,{onClick:t,source:`https://api.iconify.design/${n[0]}/${n[1]}.svg`},r)}))})]})}),j.jsx(Cr,{children:j.jsx(Me,{onClick:()=>{},autoFocus:!0,children:"Select"})})]})}function Xg({source:e,onClick:t}){const r=f(g.useState(""),2),n=r[0],o=r[1];return g.useEffect((()=>{We.get(e).then((e=>{(function(e){if("string"!=typeof e)return!1;return/^<svg[\s\S]*<\/svg>$/.test(e)})(e.data)&&o(e.data)}))}),[e]),j.jsx("div",{onClick:()=>{t(n)},className:Jg.resultImage,dangerouslySetInnerHTML:{__html:n}})}function Zg({parentCode:e,index:t,qualifiedCode:r,type:n,columnNumber:o,imageHeight:i,hideText:a,t:l,addAnswer:s}){var u,c;const d=Se(),p=g.useRef(null),h=ye(),v=f(g.useState(!1),2),m=v[0],y=v[1],b=ke((e=>e.designState.langInfo)),_=ke((e=>"add"==n?void 0:e.designState[r])),x=b.lang===b.mainLang,w=b.lang,O="add"==n||null===(u=_.content)||void 0===u||null===(u=u.label)||void 0===u?void 0:u[w],S="add"==n?void 0:_.icon,k=Ne.includes(w),E="add"==n||null===(c=_.content)||void 0===c||null===(c=c.label)||void 0===c?void 0:c[b.mainLang],C=e+"icon-drag",T=t%o;const q=(e=>Math.round(e/o))(t),A=f(Fe({type:C,item:{index:t,colIndex:T,rowIndex:q,draggableId:r,parentCode:e,type:C,itemType:C},collect:e=>e.isDragging()},[t]),3),I=A[0],L=A[1],N=A[2],R=f(kr({accept:C,collect:e=>({handlerId:e.getHandlerId()}),hover(e,r){var n;if(!p.current||!r.isOver({shallow:!0})||!e)return;const o=e.index,i=t,a=e.rowIndex,l=q,s=e.colIndex,u=T;if(o===i)return;const c=null===(n=p.current)||void 0===n?void 0:n.getBoundingClientRect(),f=(c.bottom-c.top)/2,h=(c.right-c.left)/2,g=r.getClientOffset(),v=g.y-c.top,m=g.x-c.left;a<l&&v<f&&s<u&&m<h||a>l&&v>f&&s>u&&m>h||(d(Ve({type:"reorder_answers",id:e.draggableId,fromIndex:o,toIndex:i})),e.index=i,e.rowIndex=l,e.colIndex=u)}}),2),M=R[0].handlerId;return(0,R[1])(N(p)),"add"==n?j.jsx(Er,{item:!0,xs:12/o,height:"100%",children:j.jsx(P,{className:Gg.addAnswerButton,style:{minHeight:"100px",borderRadius:"4px",backgroundColor:h.palette.background.default,height:"100%",width:"100%"},children:j.jsx(pe,{sx:{color:h.textStyles.text.color},className:Gg.addAnswerIcon,onClick:()=>{s()},children:j.jsx(Hg,{})})})},"add"):j.jsxs(j.Fragment,{children:[j.jsx(Er,{style:{opacity:I?"0.2":"1"},item:!0,xs:12/o,children:j.jsxs("div",{ref:p,"data-handler-id":M,children:[x&&j.jsxs("div",{className:Gg.buttonContainers,children:[j.jsx(pe,{sx:{color:h.textStyles.text.color},className:Gg.imageIconButton,onClick:()=>{window.confirm("Are you sure?")&&d(De(r))},children:j.jsx(Mg,{})}),j.jsx(pe,{sx:{color:h.textStyles.text.color},component:"label",className:Gg.imageIconButton,onClick:()=>y(!0),children:j.jsx(lg,{})}),j.jsx(pe,{sx:{color:h.textStyles.text.color},ref:L,className:Gg.imageIconButton,children:j.jsx(Bh,{})})]}),j.jsx("div",{style:{width:"100%",display:"flex",justifyContent:"center"},children:j.jsx("div",{style:{height:i+"px",width:i+"px",borderRadius:"8px"},className:Gg.svgContainer,dangerouslySetInnerHTML:{__html:S||""}})}),!a&&j.jsx(cr,{dir:k?"rtl":"ltr",variant:"standard",value:O||"",onChange:e=>d(Le({code:r,key:"label",lang:w,value:e.target.value})),placeholder:x?l("content_editor_placeholder_option"):E||l("content_editor_placeholder_option"),inputProps:{style:{textAlign:"center"}},InputProps:{sx:{fontFamily:h.textStyles.text.font,color:h.textStyles.text.color,fontSize:h.textStyles.text.size}}})]})},r),m&&j.jsx(Qg,{currentIcon:"",onIconSelected:e=>{d(Ue({code:r,key:"icon",value:e})),y(!1)}})]})}const ev=N.memo((function(e){const t=ke((t=>t.designState[e.code])),r=t.children||[],n=ke((t=>t.designState[e.code].imageAspectRatio||1)),o=t.type,i=e.onMainLang?[...r,{type:"add",code:"add"}]:r,a=t.columns||2,l=t.hideText||!1,s=t.spacing||8,u=t.iconSize?+t.iconSize:64,c=`calc(${100/a}% - ${s}px)`;return j.jsx("div",{className:Ig,children:u&&j.jsx(P,{id:"items-"+e.code,sx:{display:"flex",flexWrap:"wrap",gap:`${s}px`},children:i.map(((t,r)=>e.icon?j.jsx(P,{sx:{flex:`0 1 ${c}`,maxWidth:c},children:j.jsx(Zg,{parentCode:e.code,index:r,columnNumber:a,hideText:l,imageHeight:u,t:e.t,addAnswer:()=>e.addNewAnswer(e.code,o),type:t.type,qualifiedCode:t.qualifiedCode},t.code)},t.code):j.jsx(P,{sx:{flex:`0 1 ${c}`,maxWidth:c},children:j.jsx(Yg,{parentCode:e.code,index:r,imageAspectRatio:n,columnNumber:a,hideText:l,imageHeight:u,t:e.t,addAnswer:()=>e.addNewAnswer(e.code,o),type:t.type,qualifiedCode:t.qualifiedCode},t.code)},t.code)))})})}));var tv={},rv=A;Object.defineProperty(tv,"__esModule",{value:!0});var nv=tv.default=void 0,ov=rv(we()),iv=j,av=(0,ov.default)((0,iv.jsx)("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10h-4v4h-2v-4H7v-2h4V7h2v4h4v2z"}),"AddBox");nv=tv.default=av;const lv=N.memo((function(e){const t=ye(),r=e.t,n=ke((e=>e.designState.langInfo)),o=n.lang===n.mainLang,i=ke((t=>t.designState[e.code].children)),a=(null==i?void 0:i.filter((e=>"row"==e.type)))||[],l=(null==i?void 0:i.filter((e=>"column"==e.type)))||[],s=ke((e=>l.map((t=>e.designState[t.qualifiedCode].icon))));return j.jsxs(j.Fragment,{children:[e.onMainLang&&j.jsx("div",{className:mr.addColumn,children:j.jsx(Me,{sx:{fontFamily:t.textStyles.text.font,fontSize:t.textStyles.text.size,color:t.textStyles.question.color},size:"small",onClick:t=>e.addNewAnswer(e.code,e.type,"column"),children:r("add_column")})}),j.jsx(yr,{children:j.jsxs(br,{children:[j.jsx(wr,{children:j.jsxs(_r,{children:[o&&j.jsx(Or,{sx:{padding:"0"}},"move"),j.jsx(Or,{},"content"),l.map(((t,r)=>j.jsx(uv,{parentQualifiedCode:e.qualifiedCode,langInfo:n,t:e.t,item:t,icons:s,styles:mr,index:r},t.qualifiedCode))),o&&j.jsx(Or,{sx:{padding:"0"}},"remove")]})}),j.jsx(xr,{children:a.map(((t,r)=>j.jsx(sv,{parentQualifiedCode:e.qualifiedCode,langInfo:n,t:e.t,item:t,columns:l,icons:s,index:r},t.qualifiedCode)))})]})}),e.onMainLang&&j.jsx("div",{className:mr.addRow,children:j.jsx(Me,{sx:{fontFamily:t.textStyles.text.font,fontSize:t.textStyles.text.size,color:t.textStyles.question.color},size:"small",onClick:t=>e.addNewAnswer(e.code,e.type,"row"),children:r("add_row")})})]})}));function sv({item:e,index:t,columns:r,icons:n,t:o,langInfo:i,parentQualifiedCode:a}){const l=Se(),s=ye(),u=g.useRef(),c=i.lang===i.mainLang,d=ke((t=>{var r;return null===(r=t.designState[e.qualifiedCode].content)||void 0===r||null===(r=r.label)||void 0===r?void 0:r[i.lang]})),p=ke((t=>{var r;return null===(r=t.designState[e.qualifiedCode].content)||void 0===r||null===(r=r.label)||void 0===r?void 0:r[i.mainLang]})),h=`col-${a}`,v=f(Fe({type:h,item:{qualifiedCode:e.qualifiedCode,index:t},collect:e=>e.isDragging()},[t]),3),m=v[0],y=v[1],b=v[2],_=f(kr({accept:h,collect:e=>({handlerId:e.getHandlerId()}),hover(e,r){var n;if(!u.current||!r.isOver({shallow:!0})||!e)return;const o=e.index,i=t;if(o===i)return;const a=null===(n=u.current)||void 0===n?void 0:n.getBoundingClientRect(),s=(a.bottom-a.top)/2,c=r.getClientOffset().y-a.top;o<i&&c<s||o>i&&c>s||(l(Ve({type:"reorder_answers_by_type",id:e.qualifiedCode,fromIndex:e.index,toIndex:i})),e.index=i)}}),2),x=_[0].handlerId;return(0,_[1])(b(u)),j.jsxs(_r,{style:{opacity:m?"0.2":"1"},ref:u,"data-handler-id":x,children:[c&&j.jsx(Or,{ref:y,sx:{padding:"0",color:s.textStyles.text.color},children:j.jsx(Bh,{})},"move"),j.jsx(Or,{sx:{fontFamily:s.textStyles.text.font,color:s.textStyles.text.color,fontSize:s.textStyles.text.size,padding:"4px"},children:j.jsx(cr,{variant:"standard",value:d||"",onChange:t=>{l(Le({code:e.qualifiedCode,key:"label",lang:i.lang,value:t.target.value}))},placeholder:c?o("content_editor_placeholder_option"):p||o("content_editor_placeholder_option"),InputProps:{disableUnderline:!0,sx:{fontFamily:s.textStyles.text.font,color:s.textStyles.text.color,fontSize:s.textStyles.text.size}}})}),r.map(((e,t)=>j.jsx(Or,{scope:"row",align:"center",sx:{padding:"4px"},children:n[t]&&j.jsx("div",{style:{opacity:.2,height:"64px",width:"px",borderRadius:"8px",color:s.textStyles.text.color},className:mr.svgContainer,dangerouslySetInnerHTML:{__html:n[t]}})},t))),c&&j.jsx(Or,{onClick:t=>l(De(e.qualifiedCode)),sx:{padding:"0",color:s.textStyles.text.color},children:j.jsx(Rt,{})},"remove")]},e.code)}function uv({item:e,index:t,icons:r,t:n,langInfo:o,parentQualifiedCode:i,styles:a}){const l=r[t],s=f(g.useState(!1),2),u=s[0],c=s[1],d=Se(),p=ye(),h=g.useRef(),v=o.lang===o.mainLang,m=Ne.includes(o.lang),y=!m,b=`row-${i}`,_=f(Fe({type:b,item:{qualifiedCode:e.qualifiedCode,index:t},collect:e=>e.isDragging()},[t]),3),x=_[0],w=_[1],O=_[2],S=f(kr({accept:b,collect:e=>({handlerId:e.getHandlerId()}),hover(e,r){var n;if(!h.current||!r.isOver({shallow:!0})||!e)return;const o=e.index,i=t;if(o===i)return;const a=null===(n=h.current)||void 0===n?void 0:n.getBoundingClientRect(),l=(a.right-a.left)/2,s=r.getClientOffset().x-a.left;y&&o<i&&s<l||y&&o>i&&s>l||m&&o<i&&s>l||m&&o>i&&s<l||(d(Ve({type:"reorder_answers_by_type",id:e.qualifiedCode,fromIndex:e.index,toIndex:i})),e.index=i)}}),2),k=S[0].handlerId;return(0,S[1])(O(h)),j.jsxs(j.Fragment,{children:[j.jsxs(Or,{ref:h,"data-handler-id":k,align:"center",sx:{opacity:x?"0.2":"1",fontFamily:p.textStyles.text.font,color:p.textStyles.text.color,fontSize:p.textStyles.text.size,padding:"4px"},children:[v&&j.jsxs("div",{style:{display:"inline-flex"},children:[j.jsx("div",{ref:w,sx:{padding:"0"},children:j.jsx(Bh,{})},"move"),j.jsx("div",{sx:{padding:"0",color:p.textStyles.text.color},onClick:t=>d(De(e.qualifiedCode)),children:j.jsx(Rt,{})})]}),l?j.jsx("div",{onClick:()=>c(!0),style:{height:"64px",width:"px",borderRadius:"8px"},className:a.svgContainer,dangerouslySetInnerHTML:{__html:l}}):j.jsxs(j.Fragment,{children:[j.jsx("br",{}),j.jsxs("div",{onClick:()=>c(!0),children:[j.jsx(nv,{sx:{width:"64px",height:"64px"}}),j.jsx("br",{}),j.jsx("span",{children:"Click to add icon"})]})]})]},e.qualifiedCode),u&&j.jsx(Qg,{currentIcon:"",onIconSelected:t=>{d(Ue({code:e.qualifiedCode,key:"icon",value:t})),c(!1)}})]})}const cv=N.memo((function({code:e,type:t,t:r,onMainLang:n,addAnswer:o}){switch(t){case"video_display":return j.jsx(rg,{code:e,t:r,onMainLang:n},e);case"image_display":return j.jsx(pg,{code:e,t:r,onMainLang:n},e);case"signature":return j.jsx(og,{});case"photo_capture":return j.jsx(yg,{code:e});case"video_capture":return j.jsx(_g,{code:e});case"date_time":case"date":return j.jsx(Mh,{code:e},e);case"time":return j.jsx(Dh,{code:e},e);case"scq":return j.jsx(Pg,{t:r,onMainLang:n,addNewAnswer:o,code:e,type:"radio"},e);case"image_mcq":case"image_scq":case"image_ranking":return j.jsx(ev,{t:r,onMainLang:n,addNewAnswer:o,code:e},e);case"icon_scq":case"icon_mcq":return j.jsx(ev,{icon:!0,t:r,onMainLang:n,addNewAnswer:o,code:e},e);case"scq_icon_array":return j.jsx(lv,{onMainLang:n,type:t,addNewAnswer:o,code:e,t:r},e);case"scq_array":return j.jsx($h,{onMainLang:n,type:t,addNewAnswer:o,code:e,t:r},e);case"file_upload":return j.jsx(Nh,{code:e},e);case"mcq":return j.jsx(Pg,{addNewAnswer:o,code:e,onMainLang:n,t:r,type:"checkbox"},e);case"ranking":return j.jsx(Pg,{onMainLang:n,addNewAnswer:o,code:e,t:r,type:"ranking"},e);case"nps":return j.jsx(vg,{code:e},e);case"number":return j.jsx(Th,{code:e},e);case"text":return j.jsx(kh,{code:e},e);case"paragraph":return j.jsx(Ih,{t:r,code:e},e);case"barcode":return j.jsx(wg,{t:r,code:e},e);case"email":return j.jsx(Eh,{code:e},e);default:return""}}));const dv=N.memo((function({code:e,type:t,isLast:r,parentCode:n,index:o,t:i,onMainLang:a,parentIndex:l}){console.log(e+": "+o);const s=f(g.useState(!1),2),u=s[0],c=s[1],d=g.useRef(),p=Se(),h=ye(),v=ke((t=>{var r;return(null===(r=t.designState.setup)||void 0===r?void 0:r.code)==e})),m=ke((t=>t.designState[e])),y=m.children,b=ke((e=>{var t;return"collapse_questions"===(null===(t=e.designState.globalSetup)||void 0===t?void 0:t.reorder_setup)})),_=g.useCallback((()=>p($e(e))),[]),x=g.useCallback((()=>p(Ye(e))),[]),w=f(Fe({type:"questions",item:{index:o,draggableId:e,droppableId:n,parentIndex:l,isLast:r,type:"questions",itemType:t},collect:t=>{var r;return(null===(r=t.getItem())||void 0===r?void 0:r.draggableId)===e}}),3),O=w[0],S=w[1],k=w[2],E=f(kr({accept:"questions",hover(e,t){var i;if(!(d.current&&t.isOver({shallow:!0})&&e&&e.droppableId.startsWith("G")))return;const a=e.index,l=o;if(a===l||(null==e?void 0:e.droppableId)!==n)return;const s=null===(i=d.current)||void 0===i?void 0:i.getBoundingClientRect(),u=t.getClientOffset();a<l&&u.y<s.top+20||a>l&&u.y>s.bottom-20||(p(Ve({type:"reorder_questions",source:e.droppableId,destination:n,id:e.draggableId,fromIndex:a,toIndex:l+1})),e.index=l,e.isLast=r)}}),2);E[0],(0,E[1])(k(d));const C=N.useCallback(((e,t,r)=>{const n=y||[];let o=1,i="",a="",l="";const s={code:"value",isActive:!1,returnType:{name:"ranking"==t||"nps"==t||"image_ranking"==t?"Int":"scq_array"==t||"scq_icon_array"==t?"String":"Boolean"},text:""};switch(r){case"column":o=Ge(n.filter((e=>"column"===e.type))),l="Col"+o,i="Ac"+o,a=e+i,p(Ke({label:l,answer:{code:i,qualifiedCode:a,type:r}}));break;case"row":o=Ge(n.filter((e=>"row"===e.type))),i="A"+o,l="Row"+o,a=e+i,p(Ke({label:l,instructionList:[s],answer:{code:i,qualifiedCode:a,type:r}}));break;case"other":i="Aother",l="Other",a=e+i;const u=[{code:"value",isActive:!1,returnType:{name:"String"},text:""},{code:"conditional_relevance",isActive:!0,returnType:{name:"Boolean"},text:"scq"===t?`${e}.value === 'Aother'`:`${e}Aother.value === true`}];p(Ke({label:l,answer:{code:i,qualifiedCode:a,type:r},instructionList:"mcq"==t?[s]:[]})),p(Ke({instructionList:u,answer:{code:"Atext",qualifiedCode:a+"Atext",type:"other_text"}}));break;default:o=Ge(n),i="A"+o,l="Option"+o,a=e+i,p(Ke({label:l,answer:{code:i,qualifiedCode:a},instructionList:"mcq"==t||"image_mcq"==t||"icon_mcq"==t||"ranking"==t||"image_ranking"==t?[s]:[]}))}}),[y]),T=He(h.palette.background.paper),q=h.textStyles.question.color;return j.jsxs("div",{ref:d,onMouseEnter:()=>{c(!0)},onMouseLeave:()=>{c(!1)},style:v?{border:`0.5px solid ${q}`,paddingTop:"2rem",paddingBottom:"2rem",backgroundColor:T,color:q}:{opacity:O?"0.2":"1",border:O?"dotted 1px "+T:"0"},className:`question ${yi}`,"data-code":e,children:[j.jsxs(P,{className:Oi,children:[b&&a&&j.jsx("div",{className:mi,ref:S,children:j.jsx(pi,{style:{color:q}})}),!b&&(v||u)&&a&&j.jsx("div",{className:wi,children:j.jsx(Oh,{t:i,isGroup:!1,isInSetup:v,code:e,parentCode:n,onClone:x,onDelete:_,disableDelete:!1})})]}),j.jsxs(P,{className:bi,children:[j.jsx(P,{className:xi,children:Je(`${t}`,void 0,q)}),j.jsx("div",{className:_i,style:{fontFamily:h.textStyles.question.font,color:h.textStyles.question.color,fontSize:h.textStyles.question.size},children:j.jsx(Wf,{code:e,extended:!1,placeholder:i("content_editor_placeholder_title"),contentKey:"label"})})]}),m.showDescription&&j.jsx(P,{className:vi,children:j.jsx(Wf,{code:e,extended:!0,placeholder:i("content_editor_placeholder_description"),contentKey:"description"})}),j.jsx(Lr,{in:!0!==b,timeout:"auto",unmountOnExit:!0,children:j.jsx(cv,{code:e,type:t,t:i,addAnswer:C,onMainLang:a,addNewAnswer:C})}),j.jsx(ui,{code:e})]})})),pv="_textHeader_s7yev_1",fv="_textDescription_s7yev_5",hv="_groupHeader_s7yev_48",gv="_moveBox_s7yev_62",vv="_topLevel_s7yev_71",mv="_actionToolbarVisible_s7yev_103",yv="_contentContainer_s7yev_107",bv="_headerContent_s7yev_118",_v={groupDropArea:"_groupDropArea_1m6hh_1",groupDragging:"_groupDragging_1m6hh_24",questionDropArea:"_questionDropArea_1m6hh_45",groupDropAreaWrapper:"_groupDropAreaWrapper_1m6hh_72",hide:"_hide_1m6hh_79",hidden:"_hidden_1m6hh_83",isDragging:"_isDragging_1m6hh_92",groupHidden:"_groupHidden_1m6hh_104",groupEmptyHint:"_groupEmptyHint_1m6hh_111",groupEmptyHintHover:"_groupEmptyHintHover_1m6hh_130",dropText:"_dropText_1m6hh_134"};var xv=new Map,wv=new WeakMap,Ov=0,Sv=void 0;function kv(e){return Object.keys(e).sort().filter((t=>void 0!==e[t])).map((t=>`${t}_${"root"===t?function(e){return e?(wv.has(e)||(Ov+=1,wv.set(e,Ov.toString())),wv.get(e)):"0"}(e.root):e[t]}`)).toString()}function jv(e,t,r={},n=Sv){if(void 0===window.IntersectionObserver&&void 0!==n){const o=e.getBoundingClientRect();return t(n,{isIntersecting:n,target:e,intersectionRatio:"number"==typeof r.threshold?r.threshold:0,time:0,boundingClientRect:o,intersectionRect:o,rootBounds:o}),()=>{}}const o=function(e){const t=kv(e);let r=xv.get(t);if(!r){const n=new Map;let o;const i=new IntersectionObserver((t=>{t.forEach((t=>{var r;const i=t.isIntersecting&&o.some((e=>t.intersectionRatio>=e));e.trackVisibility&&void 0===t.isVisible&&(t.isVisible=i),null==(r=n.get(t.target))||r.forEach((e=>{e(i,t)}))}))}),e);o=i.thresholds||(Array.isArray(e.threshold)?e.threshold:[e.threshold||0]),r={id:t,observer:i,elements:n},xv.set(t,r)}return r}(r),i=o.id,a=o.observer,l=o.elements,s=l.get(e)||[];return l.has(e)||l.set(e,s),s.push(t),a.observe(e),function(){s.splice(s.indexOf(t),1),0===s.length&&(l.delete(e),a.unobserve(e)),0===l.size&&(a.disconnect(),xv.delete(i))}}function Ev({index:e,groupsCount:t,t:r,emptySurvey:n}){const o=Se(),i=f(kr((()=>({accept:"groups",drop:t=>{o(Ve({type:"new_group",groupType:t.draggableId,toIndex:e}))},collect:e=>({isOver:e.isOver(),item:e.getItem()})})),[e]),2),a=i[0],l=a.isOver,s=a.item,u=i[1],c=null!=s&&"group"==s.draggableId,d=s&&"new-groups"==s.droppableId&&qv(s,e)&&Av(s,e,t)&&Tv(s,e),p=R(),h=He(p.palette.background.paper);return j.jsxs("div",{ref:u,style:{backgroundColor:c&&h,color:p.palette.text.primary},className:""+(n?_v.groupEmptyHint+(l?" "+_v.groupEmptyHintHover:""):l&&d?_v.groupDropArea:c?_v.groupDragging:_v.groupHidden),children:[c&&!n&&j.jsx(j.Fragment,{children:j.jsx("span",{className:_v.dropText,children:r("empty_survey_hint")})}),n&&j.jsx("span",{children:r("empty_survey_hint")})]})}function Cv({index:e,isLast:t=!1,parentCode:r,parentType:n,parentIndex:o,emptyGroup:i=!1,t:a}){const l=R(),s=Se();ke((e=>{var t;return"collapse_questions"===(null===(t=e.designState.globalSetup)||void 0===t?void 0:t.reorder_setup)}));const u=ke((e=>e.designState.reorder_refresh_code)),c=f(kr((()=>({accept:["new-questions","questions"],hover(i){"questions"===i.type&&i.droppableId!==r&&("end"!==n||Qe(i.itemType))&&(s(Ve({type:"reparent_question",source:i.droppableId,destination:r,id:i.draggableId})),i.index=e,i.parentIndex=o,i.isLast=t,i.droppableId=r)},drop:t=>{"new-questions"===t.type&&s(Ve({type:"new_question",questionType:t.draggableId,destination:r,toIndex:e}))},collect:i=>{var a,l,s,u,c;return{isOver:"new-questions"==(null===(a=i.getItem())||void 0===a?void 0:a.type)&&i.isOver()&&("end"!==n||Qe(null===(l=i.getItem())||void 0===l?void 0:l.itemType)),isDragging:!("end"===n&&!Qe(null===(s=i.getItem())||void 0===s?void 0:s.itemType))&&("new-questions"===(null===(u=i.getItem())||void 0===u?void 0:u.droppableId)||"questions"===(null===(c=i.getItem())||void 0===c?void 0:c.type)&&i.getItem().droppableId!==r&&(0==e&&i.getItem().isLast&&i.getItem().parentIndex+1===o||t&&0==i.getItem().index&&i.getItem().parentIndex-1===o))}}})),[u,e]),2),d=c[0],p=d.isOver,h=d.isDragging,v=c[1],m=function({threshold:e,delay:t,trackVisibility:r,rootMargin:n,root:o,triggerOnce:i,skip:a,initialInView:l,fallbackInView:s,onChange:u}={}){var c;const d=f(g.useState(null),2),p=d[0],h=d[1],v=g.useRef(),m=f(g.useState({inView:!!l,entry:void 0}),2),y=m[0],b=m[1];v.current=u,g.useEffect((()=>{if(a||!p)return;let l;return l=jv(p,((e,t)=>{b({inView:e,entry:t}),v.current&&v.current(e,t),t.isIntersecting&&i&&l&&(l(),l=void 0)}),{root:o,rootMargin:n,threshold:e,trackVisibility:r,delay:t},s),()=>{l&&l()}}),[Array.isArray(e)?e.toString():e,p,o,n,i,a,r,s,t]);const _=null==(c=y.entry)?void 0:c.target,x=g.useRef();p||!_||i||a||x.current===_||(x.current=_,b({inView:!!l,entry:void 0}));const w=[h,y.inView,y.entry];return w.ref=w[0],w.inView=w[1],w.entry=w[2],w}({threshold:0,trackVisibility:h,delay:h?100:0}),y=m.ref,b=m.inView,_=(m.entry,l.palette.text.primary);return j.jsxs("div",{ref:y,children:[" ",j.jsxs("div",{ref:v,style:{marginTop:h||p?"inherit":"-0.5rem",marginBottom:h||p?"inherit":"-0.5rem"},className:"question-drop-area "+(i?p?_v.questionDropArea:h&&b?_v.isDragging:_v.groupEmptyHint:p?_v.questionDropArea:h&&b?_v.isDragging:_v.hidden)+" ",children:[h&&!i&&j.jsxs(P,{display:"flex",justifyContent:"center",alignItems:"center",children:[j.jsx(Nr,{sx:{marginRight:"8px",color:_}}),j.jsx("span",{className:_v.dropText,style:{color:_},children:a("empty_group_hint")})]}),i&&j.jsxs(P,{display:"flex",justifyContent:"center",alignItems:"center",children:[j.jsx(Nr,{sx:{marginRight:"8px",color:_}}),j.jsx("span",{className:_v.dropText,style:{color:_},children:a("empty_group_hint")})]})]})]})}const Tv=(e,t)=>(null==e?void 0:e.index)!==t&&t-1!==(null==e?void 0:e.index)||"new-groups"===(null==e?void 0:e.droppableId),qv=(e,t)=>"welcome"!==(null==e?void 0:e.draggableId)||0===t,Av=(e,t,r)=>"end"!==(null==e?void 0:e.draggableId)||t===r;const Pv=N.memo((function({t:e,code:t,collapsed:r,children:n}){console.log("Group Header: "+t);const o=Se(),i=ke((e=>e.designState.langInfo)).onMainLang,a=ke((e=>e.designState[t])),l=ye(),s=ke((e=>{var t;return"collapse_none"===(null===(t=e.designState.globalSetup)||void 0===t?void 0:t.reorder_setup)})),u=g.useCallback((()=>o(Xe(t))),[t]);return j.jsx(P,{className:bv,children:j.jsxs(P,{className:hv,"data-code":t,children:[j.jsx(P,{className:yv,children:s&&i&&j.jsx("div",{className:mv,children:j.jsx(Oh,{code:t,t:e,isGroup:!0,onDelete:u,disableDelete:n&&n.length>0})})}),j.jsx("div",{className:pv,style:{fontFamily:l.textStyles.group.font,color:l.textStyles.group.color,fontSize:l.textStyles.group.size},children:j.jsx(Wf,{code:t,extended:!1,contentKey:"label",placeholder:e("content_editor_placeholder_title")})}),a.showDescription&&j.jsx(P,{className:fv,children:j.jsx(Wf,{code:t,extended:!0,contentKey:"description",placeholder:e("content_editor_placeholder_description")})}),i&&j.jsx(ui,{type:"group",code:t})]})})}));const Iv=N.memo((function({t:e,code:t,index:r}){const n=Se(),o=ke((e=>e.designState[t])),i=ke((e=>{var t;return"collapse_groups"===(null===(t=e.designState.globalSetup)||void 0===t?void 0:t.reorder_setup)})),a=ke((e=>e.designState.langInfo)),l=ke((e=>{var r;return(null===(r=e.designState.setup)||void 0===r?void 0:r.code)==t})),s=R(),u=g.useRef(),c=f(Fe({type:"groups",item:()=>({index:r,draggableId:t,droppableId:"groups",type:"groups"}),collect:e=>{var r;return(null===(r=e.getItem())||void 0===r?void 0:r.draggableId)===t}}),3),d=c[0],p=c[1],h=c[2],v=f(kr({accept:"groups",hover(e,t){var o;if(!u.current||"welcome"==b||"end"==b||!t.isOver({shallow:!0})||!e||"groups"!=e.droppableId)return;const i=e.index,a=r;if(i===a)return;const l=null===(o=u.current)||void 0===o?void 0:o.getBoundingClientRect(),s=t.getClientOffset();i<a&&s.y<l.top+50||i>a&&s.y>l.bottom-50||(n(Ve({type:"reorder_groups",id:e.draggableId,fromIndex:i,toIndex:a})),e.index=a)}}),2),m=(v[0],v[1]),y=a.onMainLang,b=null==o?void 0:o.groupType.toLowerCase(),_=null==o?void 0:o.children;m(h(u));const x=He(s.palette.background.paper),w=s.textStyles.question.color;return o?j.jsxs(P,{sx:l?{border:`0.5px solid ${w}`,color:w,paddingTop:"2rem",paddingBottom:"2rem",backgroundColor:x}:{backgroundColor:"background.paper"},className:vv,ref:u,style:(e=>{const t={transition:"all 500ms"};return e&&(t.opacity=.2),t})(d),children:[1==i&&y&&"welcome"!==b&&"end"!==b?j.jsx("div",{className:gv,ref:p,children:j.jsx(pi,{style:{color:w}})}):j.jsx("br",{}),j.jsx(Pv,{t:e,code:t,index:r,collapsed:i,children:_}),(!0!==i||!y)&&j.jsxs(j.Fragment,{children:[_&&_.length>0&&j.jsx(Cv,{index:0,parentCode:t,parentType:b,parentIndex:r,t:e}),null==_?void 0:_.map(((n,o)=>j.jsxs(N.Fragment,{children:[j.jsx(dv,{t:e,parentCode:t,parentIndex:r,index:o,isLast:_.length==o+1,type:n.type,code:n.code,onMainLang:y},n.code),j.jsx(Cv,{isLast:_.length==o+1,index:o+1,parentIndex:r,parentCode:t,parentType:b,t:e})]},n.code))),(!_||!_.length)&&y&&j.jsx(Cv,{t:e,index:0,parentCode:t,parentType:b,emptyGroup:!0})]})]}):null})),Lv=0,Nv=1,Rv=2,Mv=4;function Fv(e,t){return r=>e(t(r))}function Dv(e,t){return t(e)}function Vv(e,t){return r=>e(t,r)}function zv(e,t){return()=>e(t)}function Bv(e,t){return t(e),e}function Hv(...e){return e}function Wv(e){e()}function Uv(e){return()=>e}function $v(e){return void 0!==e}function Yv(){}function Gv(e,t){return e(Nv,t)}function Kv(e,t){e(Lv,t)}function Jv(e){e(Rv)}function Qv(e){return e(Mv)}function Xv(e,t){return Gv(e,Vv(t,Lv))}function Zv(e,t){const r=e(Nv,(e=>{r(),t(e)}));return r}function em(){const e=[];return(t,r)=>{switch(t){case Rv:return void e.splice(0,e.length);case Nv:return e.push(r),()=>{const t=e.indexOf(r);t>-1&&e.splice(t,1)};case Lv:return void e.slice().forEach((e=>{e(r)}));default:throw new Error(`unrecognized action ${t}`)}}}function tm(e){let t=e;const r=em();return(e,n)=>{switch(e){case Nv:n(t);break;case Lv:t=n;break;case Mv:return t}return r(e,n)}}function rm(e){return Bv(em(),(t=>Xv(e,t)))}function nm(e,t){return Bv(tm(t),(t=>Xv(e,t)))}function om(e,...t){const r=function(...e){return t=>e.reduceRight(Dv,t)}(...t);return(t,n)=>{switch(t){case Nv:return Gv(e,r(n));case Rv:return void Jv(e)}}}function im(e,t){return e===t}function am(e=im){let t;return r=>n=>{e(t,n)||(t=n,r(n))}}function lm(e){return t=>r=>{e(r)&&t(r)}}function sm(e){return t=>Fv(t,e)}function um(e){return t=>()=>t(e)}function cm(e,t){return r=>n=>r(t=e(t,n))}function dm(e){return t=>r=>{e>0?e--:t(r)}}function pm(e){let t,r=null;return n=>o=>{r=o,t||(t=setTimeout((()=>{t=void 0,n(r)}),e))}}function fm(e){let t,r;return n=>o=>{t=o,r&&clearTimeout(r),r=setTimeout((()=>{n(t)}),e)}}function hm(...e){const t=new Array(e.length);let r=0,n=null;const o=Math.pow(2,e.length)-1;return e.forEach(((e,i)=>{const a=Math.pow(2,i);Gv(e,(e=>{const l=r;r|=a,t[i]=e,l!==o&&r===o&&n&&(n(),n=null)}))})),e=>i=>{const a=()=>e([i].concat(t));r===o?a():n=a}}function gm(...e){return function(t,r){switch(t){case Nv:return function(...e){return()=>{e.map(Wv)}}(...e.map((e=>Gv(e,r))));case Rv:return;default:throw new Error(`unrecognized action ${t}`)}}}function vm(e,t=im){return om(e,am(t))}function mm(...e){const t=em(),r=new Array(e.length);let n=0;const o=Math.pow(2,e.length)-1;return e.forEach(((e,i)=>{const a=Math.pow(2,i);Gv(e,(e=>{r[i]=e,n|=a,n===o&&Kv(t,r)}))})),function(e,i){switch(e){case Nv:return n===o&&i(r),Gv(t,i);case Rv:return Jv(t);default:throw new Error(`unrecognized action ${e}`)}}}function ym(e,t=[],{singleton:r}={singleton:!0}){return{id:bm(),constructor:e,dependencies:t,singleton:r}}const bm=()=>Symbol();const _m="undefined"!=typeof document?N.useLayoutEffect:N.useEffect;function xm(t,r,n){const o=Object.keys(r.required||{}),i=Object.keys(r.optional||{}),a=Object.keys(r.methods||{}),s=Object.keys(r.events||{}),u=N.createContext({});function c(e,t){e.propsReady&&Kv(e.propsReady,!1);for(var n=0,a=o;n<a.length;n++){const o=a[n];Kv(e[r.required[o]],t[o])}for(var l=0,s=i;l<s.length;l++){const n=s[l];if(n in t){Kv(e[r.optional[n]],t[n])}}e.propsReady&&Kv(e.propsReady,!0)}function d(e){return s.reduce(((t,n)=>(t[n]=function(e){let t,r;const n=()=>t&&t();return function(o,i){switch(o){case Nv:if(i){if(r===i)return;return n(),r=i,t=Gv(e,i),t}return n(),Yv;case Rv:return n(),void(r=null);default:throw new Error(`unrecognized action ${o}`)}}}(e[r.events[n]]),t)),{})}const p=N.forwardRef(((p,h)=>{const g=p.children,v=l(p,e),m=N.useState((()=>Bv(function(e){const t=new Map,r=({id:e,constructor:n,dependencies:o,singleton:i})=>{if(i&&t.has(e))return t.get(e);const a=n(o.map((e=>r(e))));return i&&t.set(e,a),a};return r(e)}(t),(e=>c(e,v))))),y=f(m,1)[0],b=f(N.useState(zv(d,y)),1)[0];return _m((()=>{for(var e=0,t=s;e<t.length;e++){const r=t[e];r in v&&Gv(b[r],v[r])}return()=>{Object.values(b).map(Jv)}}),[v,b,y]),_m((()=>{c(y,v)})),N.useImperativeHandle(h,Uv(function(e){return a.reduce(((t,n)=>(t[n]=t=>{Kv(e[r.methods[n]],t)},t)),{})}(y))),N.createElement(u.Provider,{value:y},n?N.createElement(n,function(e,t){const r={},n={};let o=0;const i=e.length;for(;o<i;)n[e[o]]=1,o+=1;for(const a in t)n.hasOwnProperty(a)||(r[a]=t[a]);return r}([...o,...i,...s],v),g):g)}));return{Component:p,usePublisher:e=>N.useCallback(Vv(Kv,N.useContext(u)[e]),[e]),useEmitterValue:e=>{const t=N.useContext(u)[e],r=f(N.useState(zv(Qv,t)),2),n=r[0],o=r[1];return _m((()=>Gv(t,(e=>{e!==n&&o(Uv(e))}))),[t,n]),n},useEmitter:(e,t)=>{const r=N.useContext(u)[e];_m((()=>Gv(r,t)),[t,r])}}}const wm="undefined"!=typeof document?N.useLayoutEffect:N.useEffect;var Om=(e=>(e[e.DEBUG=0]="DEBUG",e[e.INFO=1]="INFO",e[e.WARN=2]="WARN",e[e.ERROR=3]="ERROR",e))(Om||{});const Sm={0:"debug",1:"log",2:"warn",3:"error"},km=ym((()=>{const e=tm(3),t=tm(((t,r,n=1)=>{var o;n>=(null!=(o=("undefined"==typeof globalThis?window:globalThis).VIRTUOSO_LOG_LEVEL)?o:Qv(e))&&console[Sm[n]]("%creact-virtuoso: %c%s %o","color: #0253b3; font-weight: bold","color: initial",t,r)}));return{log:t,logLevel:e}}),[],{singleton:!0});function jm(e,t=!0){const r=N.useRef(null);let n=e=>{};if("undefined"!=typeof ResizeObserver){const o=N.useMemo((()=>new ResizeObserver((t=>{const r=t[0].target;null!==r.offsetParent&&e(r)}))),[e]);n=e=>{e&&t?(o.observe(e),r.current=e):(r.current&&o.unobserve(r.current),r.current=null)}}return{ref:r,callbackRef:n}}function Em(e,t=!0){return jm(e,t).callbackRef}function Cm(e,t,r,n,o,i,a){const l=N.useCallback((r=>{const l=function(e,t,r,n){const o=e.length;if(0===o)return null;const i=[];for(let a=0;a<o;a++){const o=e.item(a);if(!o||void 0===o.dataset.index)continue;const l=parseInt(o.dataset.index),s=parseFloat(o.dataset.knownSize),u=t(o,r);if(0===u&&n("Zero-sized element, this should not happen",{child:o},Om.ERROR),u===s)continue;const c=i[i.length-1];0===i.length||c.size!==u||c.endIndex!==l-1?i.push({startIndex:l,endIndex:l,size:u}):i[i.length-1].endIndex++}return i}(r.children,t,"offsetHeight",o);let s=r.parentElement;for(;!s.dataset.virtuosoScroller;)s=s.parentElement;const u="window"===s.lastElementChild.dataset.viewportType,c=a?a.scrollTop:u?window.pageYOffset||document.documentElement.scrollTop:s.scrollTop,d=a?a.scrollHeight:u?document.documentElement.scrollHeight:s.scrollHeight,p=a?a.offsetHeight:u?window.innerHeight:s.offsetHeight;n({scrollTop:Math.max(c,0),scrollHeight:d,viewportHeight:p}),null==i||i(function(e,t,r){"normal"===t||(null==t?void 0:t.endsWith("px"))||r(`${e} was not resolved to pixel value correctly`,t,Om.WARN);if("normal"===t)return 0;return parseInt(null!=t?t:"0",10)}("row-gap",getComputedStyle(r).rowGap,o)),null!==l&&e(l)}),[e,t,o,i,a,n]);return jm(l,r)}function Tm(e,t){return Math.round(e.getBoundingClientRect()[t])}function qm(e,t){return Math.abs(e-t)<1.01}function Am(e,t,r,n=Yv,o){const i=N.useRef(null),a=N.useRef(null),l=N.useRef(null),s=N.useCallback((r=>{const n=r.target,o=n===window||n===document,i=o?window.pageYOffset||document.documentElement.scrollTop:n.scrollTop,s=o?document.documentElement.scrollHeight:n.scrollHeight,u=o?window.innerHeight:n.offsetHeight,c=()=>{e({scrollTop:Math.max(i,0),scrollHeight:s,viewportHeight:u})};r.suppressFlushSync?c():F.flushSync(c),null!==a.current&&(i===a.current||i<=0||i===s-u)&&(a.current=null,t(!0),l.current&&(clearTimeout(l.current),l.current=null))}),[e,t]);return N.useEffect((()=>{const e=o||i.current;return n(o||i.current),s({target:e,suppressFlushSync:!0}),e.addEventListener("scroll",s,{passive:!0}),()=>{n(null),e.removeEventListener("scroll",s)}}),[i,s,r,n,o]),{scrollerRef:i,scrollByCallback:function(e){i.current.scrollBy(e)},scrollToCallback:function(r){const n=i.current;if(!n||"offsetHeight"in n&&0===n.offsetHeight)return;const o="smooth"===r.behavior;let s,u,c;n===window?(u=Math.max(Tm(document.documentElement,"height"),document.documentElement.scrollHeight),s=window.innerHeight,c=document.documentElement.scrollTop):(u=n.scrollHeight,s=Tm(n,"height"),c=n.scrollTop);const d=u-s;if(r.top=Math.ceil(Math.max(Math.min(d,r.top),0)),qm(s,u)||r.top===c)return e({scrollTop:c,scrollHeight:u,viewportHeight:s}),void(o&&t(!0));o?(a.current=r.top,l.current&&clearTimeout(l.current),l.current=setTimeout((()=>{l.current=null,a.current=null,t(!0)}),1e3)):a.current=null,n.scrollTo(r)}}}const Pm=ym((()=>{const e=em(),t=em(),r=tm(0),n=em(),o=tm(0),i=em(),a=em(),l=tm(0),s=tm(0),u=tm(0),c=tm(0),d=em(),p=em(),f=tm(!1);return Xv(om(e,sm((({scrollTop:e})=>e))),t),Xv(om(e,sm((({scrollHeight:e})=>e))),a),Xv(t,o),{scrollContainerState:e,scrollTop:t,viewportHeight:i,headerHeight:l,fixedHeaderHeight:s,fixedFooterHeight:u,footerHeight:c,scrollHeight:a,smoothScrollTargetReached:n,scrollTo:d,scrollBy:p,statefulScrollTop:o,deviation:r,scrollingInProgress:f}}),[],{singleton:!0}),Im={lvl:0};function Lm(e,t,r,n=Im,o=Im){return{k:e,v:t,lvl:r,l:n,r:o}}function Nm(e){return e===Im}function Rm(){return Im}function Mm(e,t){if(Nm(e))return Im;const r=e.k,n=e.l,o=e.r;if(t===r){if(Nm(n))return o;if(Nm(o))return n;{const t=f(Hm(n),2);return Gm(Um(e,{k:t[0],v:t[1],l:Wm(n)}))}}return Gm(Um(e,t<r?{l:Mm(n,t)}:{r:Mm(o,t)}))}function Fm(e,t){if(!Nm(e))return t===e.k?e.v:t<e.k?Fm(e.l,t):Fm(e.r,t)}function Dm(e,t,r="k"){if(Nm(e))return[-1/0,void 0];if(Number(e[r])===t)return[e.k,e.v];if(Number(e[r])<t){const n=Dm(e.r,t,r);return n[0]===-1/0?[e.k,e.v]:n}return Dm(e.l,t,r)}function Vm(e,t,r){return Nm(e)?Lm(t,r,1):t===e.k?Um(e,{k:t,v:r}):t<e.k?Ym(Um(e,{l:Vm(e.l,t,r)})):Ym(Um(e,{r:Vm(e.r,t,r)}))}function zm(e,t,r){if(Nm(e))return[];const n=e.k,o=e.v,i=e.l,a=e.r;let l=[];return n>t&&(l=l.concat(zm(i,t,r))),n>=t&&n<=r&&l.push({k:n,v:o}),n<=r&&(l=l.concat(zm(a,t,r))),l}function Bm(e){return Nm(e)?[]:[...Bm(e.l),{k:e.k,v:e.v},...Bm(e.r)]}function Hm(e){return Nm(e.r)?[e.k,e.v]:Hm(e.r)}function Wm(e){return Nm(e.r)?e.l:Gm(Um(e,{r:Wm(e.r)}))}function Um(e,t){return Lm(void 0!==t.k?t.k:e.k,void 0!==t.v?t.v:e.v,void 0!==t.lvl?t.lvl:e.lvl,void 0!==t.l?t.l:e.l,void 0!==t.r?t.r:e.r)}function $m(e){return Nm(e)||e.lvl>e.r.lvl}function Ym(e){return Qm(Xm(e))}function Gm(e){const t=e.l,r=e.r,n=e.lvl;if(r.lvl>=n-1&&t.lvl>=n-1)return e;if(n>r.lvl+1){if($m(t))return Xm(Um(e,{lvl:n-1}));if(Nm(t)||Nm(t.r))throw new Error("Unexpected empty nodes");return Um(t.r,{l:Um(t,{r:t.r.l}),r:Um(e,{l:t.r.r,lvl:n-1}),lvl:n})}if($m(e))return Qm(Um(e,{lvl:n-1}));if(Nm(r)||Nm(r.l))throw new Error("Unexpected empty nodes");{const t=r.l,o=$m(t)?r.lvl-1:r.lvl;return Um(t,{l:Um(e,{r:t.l,lvl:n-1}),r:Qm(Um(r,{l:t.r,lvl:o})),lvl:t.lvl+1})}}function Km(e,t,r){if(Nm(e))return[];const n=Dm(e,t)[0];return Jm(zm(e,n,r),(({k:e,v:t})=>({index:e,value:t})))}function Jm(e,t){const r=e.length;if(0===r)return[];let n=t(e[0]),o=n.index,i=n.value;const a=[];for(let l=1;l<r;l++){const r=t(e[l]),n=r.index,s=r.value;a.push({start:o,end:n-1,value:i}),o=n,i=s}return a.push({start:o,end:1/0,value:i}),a}function Qm(e){const t=e.r,r=e.lvl;return Nm(t)||Nm(t.r)||t.lvl!==r||t.r.lvl!==r?e:Um(t,{l:Um(e,{r:t.l}),lvl:r+1})}function Xm(e){const t=e.l;return Nm(t)||t.lvl!==e.lvl?e:Um(t,{r:Um(e,{l:t.r})})}function Zm(e,t,r,n=0){let o=e.length-1;for(;n<=o;){const i=Math.floor((n+o)/2),a=r(e[i],t);if(0===a)return i;if(-1===a){if(o-n<2)return i-1;o=i-1}else{if(o===n)return i;n=i+1}}throw new Error(`Failed binary finding record in array - ${e.join(",")}, searched for ${t}`)}function ey(e,t,r){return e[Zm(e,t,r)]}const ty=ym((()=>({recalcInProgress:tm(!1)})),[],{singleton:!0});function ry(e){const t=e.size,r=e.startIndex,n=e.endIndex;return e=>e.start===r&&(e.end===n||e.end===1/0)&&e.value===t}function ny(e,t){let r=0,n=0;for(;r<e;)r+=t[n+1]-t[n]-1,n++;return n-(r===e?0:1)}function oy({index:e},t){return t===e?0:t<e?-1:1}function iy({offset:e},t){return t===e?0:t<e?-1:1}function ay(e){return{index:e.index,value:e}}function ly(e,t,r,n=0){return n>0&&(t=Math.max(t,ey(e,n,oy).offset)),Jm(function(e,t,r,n){const o=Zm(e,t,n),i=Zm(e,r,n,o);return e.slice(o,i+1)}(e,t,r,iy),ay)}function sy(e,t,r,n){let o=e,i=0,l=0,s=0,u=0;if(0!==t){u=Zm(o,t-1,oy);s=o[u].offset;const e=Dm(r,t-1);i=e[0],l=e[1],o.length&&o[u].size===Dm(r,t)[1]&&(u-=1),o=o.slice(0,u+1)}else o=[];var c,d=a(Km(r,t,1/0));try{for(d.s();!(c=d.n()).done;){const e=c.value,t=e.start,r=e.value,a=t-i,u=a*l+s+a*n;o.push({offset:u,size:r,index:t}),i=t,s=u,l=r}}catch(p){d.e(p)}finally{d.f()}return{offsetTree:o,lastIndex:i,lastOffset:s,lastSize:l}}function uy(e,[t,r,n,o]){t.length>0&&n("received item sizes",t,Om.DEBUG);const i=e.sizeTree;let l=i,s=0;if(r.length>0&&Nm(i)&&2===t.length){const e=t[0].size,n=t[1].size;l=r.reduce(((t,r)=>Vm(Vm(t,r,e),r+1,n)),l)}else{var u=function(e,t){let r=Nm(e)?0:1/0;var n,o=a(t);try{for(o.s();!(n=o.n()).done;){const t=n.value,o=t.size,u=t.startIndex,c=t.endIndex;if(r=Math.min(r,u),Nm(e)){e=Vm(e,0,o);continue}const d=Km(e,u-1,c+1);if(d.some(ry(t)))continue;let p=!1,f=!1;var i,l=a(d);try{for(l.s();!(i=l.n()).done;){const t=i.value,r=t.start,n=t.end,a=t.value;p?(c>=r||o===a)&&(e=Mm(e,r)):(f=a!==o,p=!0),n>c&&c>=r&&a!==o&&(e=Vm(e,c+1,a))}}catch(s){l.e(s)}finally{l.f()}f&&(e=Vm(e,u,o))}}catch(s){o.e(s)}finally{o.f()}return[e,r]}(l,t),c=f(u,2);l=c[0],s=c[1]}if(l===i)return e;const d=sy(e.offsetTree,s,l,o),p=d.offsetTree,h=d.lastIndex,g=d.lastSize,v=d.lastOffset;return{sizeTree:l,offsetTree:p,lastIndex:h,lastOffset:v,lastSize:g,groupOffsetTree:r.reduce(((e,t)=>Vm(e,t,cy(t,p,o))),Rm()),groupIndices:r}}function cy(e,t,r){if(0===t.length)return 0;const n=ey(t,e,oy),o=n.offset,i=e-n.index,a=n.size*i+(i-1)*r+o;return a>0?a+r:a}function dy(e,t,r){if(function(e){return void 0!==e.groupIndex}(e))return t.groupIndices[e.groupIndex]+1;{let n=py("LAST"===e.index?r:e.index,t);return n=Math.max(0,n,Math.min(r,n)),n}}function py(e,t){if(!fy(t))return e;let r=0;for(;t.groupIndices[r]<=e+r;)r++;return e+r}function fy(e){return!Nm(e.groupOffsetTree)}const hy={offsetHeight:"height",offsetWidth:"width"},gy=ym((([{log:e},{recalcInProgress:t}])=>{const r=em(),n=em(),o=nm(n,0),i=em(),a=em(),l=tm(0),s=tm([]),u=tm(void 0),c=tm(void 0),p=tm(((e,t)=>Tm(e,hy[t]))),f=tm(void 0),h=tm(0),g={offsetTree:[],sizeTree:Rm(),groupOffsetTree:Rm(),lastIndex:0,lastOffset:0,lastSize:0,groupIndices:[]},v=nm(om(r,hm(s,e,h),cm(uy,g),am()),g),m=nm(om(s,am(),cm(((e,t)=>({prev:e.current,current:t})),{prev:[],current:[]}),sm((({prev:e})=>e))),[]);Xv(om(s,lm((e=>e.length>0)),hm(v,h),sm((([e,t,r])=>{const n=e.reduce(((e,n,o)=>Vm(e,n,cy(n,t.offsetTree,r)||o)),Rm());return d(d({},t),{},{groupIndices:e,groupOffsetTree:n})}))),v),Xv(om(n,hm(v),lm((([e,{lastIndex:t}])=>e<t)),sm((([e,{lastIndex:t,lastSize:r}])=>[{startIndex:e,endIndex:t,size:r}]))),r),Xv(u,c);const y=nm(om(u,sm((e=>void 0===e))),!0);Xv(om(c,lm((e=>void 0!==e&&Nm(Qv(v).sizeTree))),sm((e=>[{startIndex:0,endIndex:0,size:e}]))),r);const b=rm(om(r,hm(v),cm((({sizes:e},[t,r])=>({changed:r!==e,sizes:r})),{changed:!1,sizes:g}),sm((e=>e.changed))));Gv(om(l,cm(((e,t)=>({diff:e.prev-t,prev:t})),{diff:0,prev:0}),sm((e=>e.diff))),(e=>{const r=Qv(v).groupIndices;if(e>0)Kv(t,!0),Kv(i,e+ny(e,r));else if(e<0){const t=Qv(m);t.length>0&&(e-=ny(-e,t)),Kv(a,e)}})),Gv(om(l,hm(e)),(([e,t])=>{e<0&&t("`firstItemIndex` prop should not be set to less than zero. If you don't know the total count, just use a very high value",{firstItemIndex:l},Om.ERROR)}));const _=rm(i);Xv(om(i,hm(v),sm((([e,t])=>{const r=t.groupIndices.length>0,n=[],o=t.lastSize;if(r){const r=Fm(t.sizeTree,0);let i=0,a=0;for(;i<e;){const e=t.groupIndices[a],l=t.groupIndices.length===a+1?1/0:t.groupIndices[a+1]-e-1;n.push({startIndex:e,endIndex:e,size:r}),n.push({startIndex:e+1,endIndex:e+1+l-1,size:o}),a++,i+=l+1}const l=Bm(t.sizeTree);return i!==e&&l.shift(),l.reduce(((t,{k:r,v:n})=>{let o=t.ranges;return 0!==t.prevSize&&(o=[...t.ranges,{startIndex:t.prevIndex,endIndex:r+e-1,size:t.prevSize}]),{ranges:o,prevIndex:r+e,prevSize:n}}),{ranges:n,prevIndex:e,prevSize:0}).ranges}return Bm(t.sizeTree).reduce(((t,{k:r,v:n})=>({ranges:[...t.ranges,{startIndex:t.prevIndex,endIndex:r+e-1,size:t.prevSize}],prevIndex:r+e,prevSize:n})),{ranges:[],prevIndex:0,prevSize:o}).ranges}))),r);const x=rm(om(a,hm(v,h),sm((([e,{offsetTree:t},r])=>cy(-e,t,r)))));return Xv(om(a,hm(v,h),sm((([e,t,r])=>{if(t.groupIndices.length>0){if(Nm(t.sizeTree))return t;let n=Rm();const o=Qv(m);let i=0,a=0,l=0;for(;i<-e;){l=o[a];const e=o[a+1]-l-1;a++,i+=e+1}n=Bm(t.sizeTree).reduce(((t,{k:r,v:n})=>Vm(t,Math.max(0,r+e),n)),n);if(i!==-e){n=Vm(n,0,Fm(t.sizeTree,l));n=Vm(n,1,Dm(t.sizeTree,1-e)[1])}return d(d({},t),{},{sizeTree:n},sy(t.offsetTree,0,n,r))}{const n=Bm(t.sizeTree).reduce(((t,{k:r,v:n})=>Vm(t,Math.max(0,r+e),n)),Rm());return d(d({},t),{},{sizeTree:n},sy(t.offsetTree,0,n,r))}}))),v),{data:f,totalCount:n,sizeRanges:r,groupIndices:s,defaultItemSize:c,fixedItemSize:u,unshiftWith:i,shiftWith:a,shiftWithOffset:x,beforeUnshiftWith:_,firstItemIndex:l,gap:h,sizes:v,listRefresh:b,statefulTotalCount:o,trackItemSizes:y,itemSize:p}}),Hv(km,ty),{singleton:!0}),vy="undefined"!=typeof document&&"scrollBehavior"in document.documentElement.style;function my(e){const t="number"==typeof e?{index:e}:e;return t.align||(t.align="start"),t.behavior&&vy||(t.behavior="auto"),t.offset||(t.offset=0),t}const yy=ym((([{sizes:e,totalCount:t,listRefresh:r,gap:n},{scrollingInProgress:o,viewportHeight:i,scrollTo:a,smoothScrollTargetReached:l,headerHeight:s,footerHeight:u,fixedHeaderHeight:c,fixedFooterHeight:d},{log:p}])=>{const f=em(),h=tm(0);let g=null,v=null,m=null;function y(){g&&(g(),g=null),m&&(m(),m=null),v&&(clearTimeout(v),v=null),Kv(o,!1)}return Xv(om(f,hm(e,i,t,h,s,u,p),hm(n,c,d),sm((([[e,t,n,i,a,s,u,c],d,p,h])=>{const b=my(e),_=b.align,x=b.behavior,w=b.offset,O=i-1,S=dy(b,t,O);let k=cy(S,t.offsetTree,d)+s;"end"===_?(k+=p+Dm(t.sizeTree,S)[1]-n+h,S===O&&(k+=u)):"center"===_?k+=(p+Dm(t.sizeTree,S)[1]-n+h)/2:k-=a,w&&(k+=w);const j=t=>{y(),t?(c("retrying to scroll to",{location:e},Om.DEBUG),Kv(f,e)):c("list did not change, scroll successful",{},Om.DEBUG)};if(y(),"smooth"===x){let e=!1;m=Gv(r,(t=>{e=e||t})),g=Zv(l,(()=>{j(e)}))}else g=Zv(om(r,(E=150,e=>{const t=setTimeout((()=>{e(!1)}),E);return r=>{r&&(e(!0),clearTimeout(t))}})),j);var E;return v=setTimeout((()=>{y()}),1200),Kv(o,!0),c("scrolling from index to",{index:S,top:k,behavior:x},Om.DEBUG),{top:k,behavior:x}}))),a),{scrollToIndex:f,topListHeight:h}}),Hv(gy,Pm,km),{singleton:!0});const by="up",_y="down",xy={atBottom:!1,notAtBottomBecause:"NOT_SHOWING_LAST_ITEM",state:{offsetBottom:0,scrollTop:0,viewportHeight:0,scrollHeight:0}},wy=ym((([{scrollContainerState:e,scrollTop:t,viewportHeight:r,headerHeight:n,footerHeight:o,scrollBy:i}])=>{const a=tm(!1),l=tm(!0),s=em(),u=em(),c=tm(4),d=tm(0),p=nm(om(gm(om(vm(t),dm(1),um(!0)),om(vm(t),dm(1),um(!1),fm(100))),am()),!1),f=nm(om(gm(om(i,um(!0)),om(i,um(!1),fm(200))),am()),!1);Xv(om(mm(vm(t),vm(d)),sm((([e,t])=>e<=t)),am()),l),Xv(om(l,pm(50)),u);const h=rm(om(mm(e,vm(r),vm(n),vm(o),vm(c)),cm(((e,[{scrollTop:t,scrollHeight:r},n,o,i,a])=>{const l={viewportHeight:n,scrollTop:t,scrollHeight:r};if(t+n-r>-a){let r,n;return t>e.state.scrollTop?(r="SCROLLED_DOWN",n=e.state.scrollTop-t):(r="SIZE_DECREASED",n=e.state.scrollTop-t||e.scrollTopDelta),{atBottom:!0,state:l,atBottomBecause:r,scrollTopDelta:n}}let s;return s=l.scrollHeight>e.state.scrollHeight?"SIZE_INCREASED":n<e.state.viewportHeight?"VIEWPORT_HEIGHT_DECREASING":t<e.state.scrollTop?"SCROLLING_UPWARDS":"NOT_FULLY_SCROLLED_TO_LAST_ITEM_BOTTOM",{atBottom:!1,notAtBottomBecause:s,state:l}}),xy),am(((e,t)=>e&&e.atBottom===t.atBottom)))),g=nm(om(e,cm(((e,{scrollTop:t,scrollHeight:r,viewportHeight:n})=>{if(qm(e.scrollHeight,r))return{scrollTop:t,scrollHeight:r,jump:0,changed:!1};{const o=r-(t+n)<1;return e.scrollTop!==t&&o?{scrollHeight:r,scrollTop:t,jump:e.scrollTop-t,changed:!0}:{scrollHeight:r,scrollTop:t,jump:0,changed:!0}}}),{scrollHeight:0,jump:0,scrollTop:0,changed:!1}),lm((e=>e.changed)),sm((e=>e.jump))),0);Xv(om(h,sm((e=>e.atBottom))),a),Xv(om(a,pm(50)),s);const v=tm(_y);Xv(om(e,sm((({scrollTop:e})=>e)),am(),cm(((e,t)=>Qv(f)?{direction:e.direction,prevScrollTop:t}:{direction:t<e.prevScrollTop?by:_y,prevScrollTop:t}),{direction:_y,prevScrollTop:0}),sm((e=>e.direction))),v),Xv(om(e,pm(50),um("none")),v);const m=tm(0);return Xv(om(p,lm((e=>!e)),um(0)),m),Xv(om(t,pm(100),hm(p),lm((([e,t])=>!!t)),cm((([e,t],[r])=>[t,r]),[0,0]),sm((([e,t])=>t-e))),m),{isScrolling:p,isAtTop:l,isAtBottom:a,atBottomState:h,atTopStateChange:u,atBottomStateChange:s,scrollDirection:v,atBottomThreshold:c,atTopThreshold:d,scrollVelocity:m,lastJumpDueToItemResize:g}}),Hv(Pm)),Oy=ym((([{log:e}])=>{const t=tm(!1),r=rm(om(t,lm((e=>e)),am()));return Gv(t,(t=>{t&&Qv(e)("props updated",{},Om.DEBUG)})),{propsReady:t,didMount:r}}),Hv(km),{singleton:!0});function Sy(e,t){0==e?t():requestAnimationFrame((()=>Sy(e-1,t)))}function ky(e,t){const r=t-1;return"number"==typeof e?e:"LAST"===e.index?r:e.index}const jy=ym((([{sizes:e,listRefresh:t,defaultItemSize:r},{scrollTop:n},{scrollToIndex:o},{didMount:i}])=>{const a=tm(!0),l=tm(0),s=tm(!1);return Xv(om(i,hm(l),lm((([e,t])=>!!t)),um(!1)),a),Gv(om(mm(t,i),hm(a,e,r,s),lm((([[,e],t,{sizeTree:r},n,o])=>e&&(!Nm(r)||$v(n))&&!t&&!o)),hm(l)),(([,e])=>{Kv(s,!0),Sy(3,(()=>{Zv(n,(()=>Kv(a,!0))),Kv(o,e)}))})),{scrolledToInitialItem:a,initialTopMostItemIndex:l}}),Hv(gy,Pm,yy,Oy),{singleton:!0});function Ey(e){return!!e&&("smooth"===e?"smooth":"auto")}const Cy=ym((([{totalCount:e,listRefresh:t},{isAtBottom:r,atBottomState:n},{scrollToIndex:o},{scrolledToInitialItem:i},{propsReady:a,didMount:l},{log:s},{scrollingInProgress:u}])=>{const c=tm(!1),d=em();let p=null;function f(e){Kv(o,{index:"LAST",align:"end",behavior:e})}function h(e){const t=Zv(n,(t=>{!e||t.atBottom||"SIZE_INCREASED"!==t.notAtBottomBecause||p||(Qv(s)("scrolling to bottom due to increased size",{},Om.DEBUG),f("auto"))}));setTimeout(t,100)}return Gv(om(mm(om(vm(e),dm(1)),l),hm(vm(c),r,i,u),sm((([[e,t],r,n,o,i])=>{let a=t&&o,l="auto";return a&&(l=((e,t)=>"function"==typeof e?Ey(e(t)):t&&Ey(e))(r,n||i),a=a&&!!l),{totalCount:e,shouldFollow:a,followOutputBehavior:l}})),lm((({shouldFollow:e})=>e))),(({totalCount:e,followOutputBehavior:r})=>{p&&(p(),p=null),p=Zv(t,(()=>{Qv(s)("following output to ",{totalCount:e},Om.DEBUG),f(r),p=null}))})),Gv(om(mm(vm(c),e,a),lm((([e,,t])=>e&&t)),cm((({value:e},[,t])=>({refreshed:e===t,value:t})),{refreshed:!1,value:0}),lm((({refreshed:e})=>e)),hm(c,e)),(([,e])=>{h(!1!==e)})),Gv(d,(()=>{h(!1!==Qv(c))})),Gv(mm(vm(c),n),(([e,t])=>{e&&!t.atBottom&&"VIEWPORT_HEIGHT_DECREASING"===t.notAtBottomBecause&&f("auto")})),{followOutput:c,autoscrollToBottom:d}}),Hv(gy,wy,yy,jy,Oy,km,Pm));function Ty(e){return e.reduce(((e,t)=>(e.groupIndices.push(e.totalCount),e.totalCount+=t+1,e)),{totalCount:0,groupIndices:[]})}const qy=ym((([{totalCount:e,groupIndices:t,sizes:r},{scrollTop:n,headerHeight:o}])=>{const i=em(),a=em(),l=rm(om(i,sm(Ty)));return Xv(om(l,sm((e=>e.totalCount))),e),Xv(om(l,sm((e=>e.groupIndices))),t),Xv(om(mm(n,r,o),lm((([e,t])=>fy(t))),sm((([e,t,r])=>Dm(t.groupOffsetTree,Math.max(e-r,0),"v")[0])),am(),sm((e=>[e]))),a),{groupCounts:i,topItemsIndexes:a}}),Hv(gy,Pm));function Ay(e,t){return!(!e||e[0]!==t[0]||e[1]!==t[1])}function Py(e,t){return!(!e||e.startIndex!==t.startIndex||e.endIndex!==t.endIndex)}const Iy="top",Ly="bottom",Ny="none";function Ry(e,t,r){return"number"==typeof e?r===by&&t===Iy||r===_y&&t===Ly?e:0:r===by?t===Iy?e.main:e.reverse:t===Ly?e.main:e.reverse}function My(e,t){return"number"==typeof e?e:e[t]||0}const Fy=ym((([{scrollTop:e,viewportHeight:t,deviation:r,headerHeight:n,fixedHeaderHeight:o}])=>{const i=em(),a=tm(0),l=tm(0),s=tm(0);return{listBoundary:i,overscan:s,topListHeight:a,increaseViewportBy:l,visibleRange:nm(om(mm(vm(e),vm(t),vm(n),vm(i,Ay),vm(s),vm(a),vm(o),vm(r),vm(l)),sm((([e,t,r,[n,o],i,a,l,s,u])=>{const c=e-s,d=a+l,p=Math.max(r-c,0);let f=Ny;const h=My(u,Iy),g=My(u,Ly);return n-=s,o+=r+l,(n+=r+l)>e+d-h&&(f=by),(o-=s)<e-p+t+g&&(f=_y),f!==Ny?[Math.max(c-r-Ry(i,Iy,f)-h,0),c-p-l+t+Ry(i,Ly,f)+g]:null})),lm((e=>null!=e)),am(Ay)),[0,0])}}),Hv(Pm),{singleton:!0});const Dy={items:[],topItems:[],offsetTop:0,offsetBottom:0,top:0,bottom:0,topListHeight:0,totalCount:0,firstItemIndex:0};function Vy(e,t,r){if(0===e.length)return[];if(!fy(t))return e.map((e=>d(d({},e),{},{index:e.index+r,originalIndex:e.index})));const n=e[0].index,o=e[e.length-1].index,i=[],l=Km(t.groupOffsetTree,n,o);let s,u=0;var c,p=a(e);try{for(p.s();!(c=p.n()).done;){const e=c.value;let n;(!s||s.end<e.index)&&(s=l.shift(),u=t.groupIndices.indexOf(s.start)),n=e.index===s.start?{type:"group",index:u}:{index:e.index-(u+1)+r,groupIndex:u},i.push(d(d({},n),{},{size:e.size,offset:e.offset,originalIndex:e.index,data:e.data}))}}catch(f){p.e(f)}finally{p.f()}return i}function zy(e,t,r,n,o,i){const a=o.lastSize,l=o.lastOffset,s=o.lastIndex;let u=0,c=0;if(e.length>0){u=e[0].offset;const t=e[e.length-1];c=t.offset+t.size}const d=r-s,p=u,f=l+d*a+(d-1)*n-c;return{items:Vy(e,o,i),topItems:Vy(t,o,i),topListHeight:t.reduce(((e,t)=>t.size+e),0),offsetTop:u,offsetBottom:f,top:p,bottom:c,totalCount:r,firstItemIndex:i}}function By(e,t,r,n,o,i){let l=0;if(r.groupIndices.length>0){var s,u=a(r.groupIndices);try{for(u.s();!(s=u.n()).done;){if(s.value-l>=e)break;l++}}catch(f){u.e(f)}finally{u.f()}}const c=e+l,d=ky(t,c),p=Array.from({length:c}).map(((e,t)=>({index:t+d,size:0,offset:0,data:i[t+d]})));return zy(p,[],c,o,r,n)}const Hy=ym((([{sizes:e,totalCount:t,data:r,firstItemIndex:n,gap:o},i,{visibleRange:l,listBoundary:s,topListHeight:u},{scrolledToInitialItem:c,initialTopMostItemIndex:p},{topListHeight:f},h,{didMount:g},{recalcInProgress:v}])=>{const m=tm([]),y=tm(0),b=em();Xv(i.topItemsIndexes,m);const _=nm(om(mm(g,v,vm(l,Ay),vm(t),vm(e),vm(p),c,vm(m),vm(n),vm(o),r),lm((([e,t,,r,,,,,,,n])=>{const o=n&&n.length!==r;return e&&!t&&!o})),sm((([,,[e,t],r,n,o,i,l,s,u,c])=>{const p=n,f=p.sizeTree,h=p.offsetTree,g=Qv(y);if(0===r)return d(d({},Dy),{},{totalCount:r});if(0===e&&0===t)return 0===g?d(d({},Dy),{},{totalCount:r}):By(g,o,n,s,u,c||[]);if(Nm(f)){if(g>0)return null;const e=zy(function(e,t,r){if(fy(t)){const n=py(e,t);return[{index:Dm(t.groupOffsetTree,n)[0],size:0,offset:0},{index:n,size:0,offset:0,data:r&&r[0]}]}return[{index:e,size:0,offset:0,data:r&&r[0]}]}(ky(o,r),p,c),[],r,u,p,s);return e}const v=[];if(l.length>0){const e=l[0],t=l[l.length-1];let r=0;var m,b=a(Km(f,e,t));try{for(b.s();!(m=b.n()).done;){const n=m.value,o=n.value,i=Math.max(n.start,e),a=Math.min(n.end,t);for(let e=i;e<=a;e++)v.push({index:e,size:o,offset:r,data:c&&c[e]}),r+=o}}catch(S){b.e(S)}finally{b.f()}}if(!i)return zy([],v,r,u,p,s);const _=l.length>0?l[l.length-1]+1:0,x=ly(h,e,t,_);if(0===x.length)return null;const w=r-1,O=Bv([],(r=>{var n,o=a(x);try{for(o.s();!(n=o.n()).done;){const o=n.value,i=o.value;let a=i.offset,l=o.start;const s=i.size;if(i.offset<e){l+=Math.floor((e-i.offset+u)/(s+u));const t=l-o.start;a+=t*s+t*u}l<_&&(a+=(_-l)*s,l=_);const d=Math.min(o.end,w);for(let e=l;e<=d&&!(a>=t);e++)r.push({index:e,size:s,offset:a,data:c&&c[e]}),a+=s+u}}catch(S){o.e(S)}finally{o.f()}}));return zy(O,v,r,u,p,s)})),lm((e=>null!==e)),am()),Dy);Xv(om(r,lm($v),sm((e=>null==e?void 0:e.length))),t),Xv(om(_,sm((e=>e.topListHeight))),f),Xv(f,u),Xv(om(_,sm((e=>[e.top,e.bottom]))),s),Xv(om(_,sm((e=>e.items))),b);return d({listState:_,topItemsIndexes:m,endReached:rm(om(_,lm((({items:e})=>e.length>0)),hm(t,r),lm((([{items:e},t])=>e[e.length-1].originalIndex===t-1)),sm((([,e,t])=>[e-1,t])),am(Ay),sm((([e])=>e)))),startReached:rm(om(_,pm(200),lm((({items:e,topItems:t})=>e.length>0&&e[0].originalIndex===t.length)),sm((({items:e})=>e[0].index)),am())),rangeChanged:rm(om(_,lm((({items:e})=>e.length>0)),sm((({items:e})=>{let t=0,r=e.length-1;for(;"group"===e[t].type&&t<r;)t++;for(;"group"===e[r].type&&r>t;)r--;return{startIndex:e[t].index,endIndex:e[r].index}})),am(Py))),itemsRendered:b,initialItemCount:y},h)}),Hv(gy,qy,Fy,jy,yy,wy,Oy,ty),{singleton:!0}),Wy=ym((([{sizes:e,firstItemIndex:t,data:r,gap:n},{initialTopMostItemIndex:o},{initialItemCount:i,listState:a},{didMount:l}])=>(Xv(om(l,hm(i),lm((([,e])=>0!==e)),hm(o,e,t,n,r),sm((([[,e],t,r,n,o,i=[]])=>By(e,t,r,n,o,i)))),a),{})),Hv(gy,jy,Hy,Oy),{singleton:!0}),Uy=ym((([{scrollVelocity:e}])=>{const t=tm(!1),r=em(),n=tm(!1);return Xv(om(e,hm(n,t,r),lm((([e,t])=>!!t)),sm((([e,t,r,n])=>{const o=t.exit,i=t.enter;if(r){if(o(e,n))return!1}else if(i(e,n))return!0;return r})),am()),t),Gv(om(mm(t,e,r),hm(n)),(([[e,t,r],n])=>e&&n&&n.change&&n.change(t,r))),{isSeeking:t,scrollSeekConfiguration:n,scrollVelocity:e,scrollSeekRangeChanged:r}}),Hv(wy),{singleton:!0}),$y=ym((([{topItemsIndexes:e}])=>{const t=tm(0);return Xv(om(t,lm((e=>e>0)),sm((e=>Array.from({length:e}).map(((e,t)=>t))))),e),{topItemCount:t}}),Hv(Hy)),Yy=ym((([{footerHeight:e,headerHeight:t,fixedHeaderHeight:r,fixedFooterHeight:n},{listState:o}])=>{const i=em(),a=nm(om(mm(e,n,t,r,o),sm((([e,t,r,n,o])=>e+t+r+n+o.offsetBottom+o.bottom))),0);return Xv(vm(a),i),{totalListHeight:a,totalListHeightChanged:i}}),Hv(Pm,Hy),{singleton:!0});function Gy(e){let t,r=!1;return()=>(r||(r=!0,t=e()),t)}const Ky=Gy((()=>/iP(ad|od|hone)/i.test(navigator.userAgent)&&/WebKit/i.test(navigator.userAgent))),Jy=ym((([{scrollBy:e,scrollTop:t,deviation:r,scrollingInProgress:n},{isScrolling:o,isAtBottom:i,scrollDirection:a,lastJumpDueToItemResize:l},{listState:s},{beforeUnshiftWith:u,shiftWithOffset:c,sizes:d,gap:p},{log:f},{recalcInProgress:h}])=>{const g=rm(om(s,hm(l),cm((([,e,t,r],[{items:n,totalCount:o,bottom:i,offsetBottom:a},l])=>{const s=i+a;let u=0;if(t===o&&e.length>0&&n.length>0){0===n[0].originalIndex&&0===e[0].originalIndex||(u=s-r,0!==u&&(u+=l))}return[u,n,o,s]}),[0,[],0,0]),lm((([e])=>0!==e)),hm(t,a,n,i,f,h),lm((([,e,t,r,,,n])=>!n&&!r&&0!==e&&t===by)),sm((([[e],,,,,t])=>(t("Upward scrolling compensation",{amount:e},Om.DEBUG),e)))));function v(t){t>0?(Kv(e,{top:-t,behavior:"auto"}),Kv(r,0)):(Kv(r,0),Kv(e,{top:-t,behavior:"auto"}))}return Gv(om(g,hm(r,o)),(([e,t,n])=>{n&&Ky()?Kv(r,t-e):v(-e)})),Gv(om(mm(nm(o,!1),r,h),lm((([e,t,r])=>!e&&!r&&0!==t)),sm((([e,t])=>t)),pm(1)),v),Xv(om(c,sm((e=>({top:-e})))),e),Gv(om(u,hm(d,p),sm((([e,{lastSize:t,groupIndices:r,sizeTree:n},o])=>{function i(e){return e*(t+o)}if(0===r.length)return i(e);{let t=0;const o=Fm(n,0);let a=0,l=0;for(;a<e;){a++,t+=o;let n=r.length===l+1?1/0:r[l+1]-r[l]-1;a+n>e&&(t-=o,n=e-a+1),a+=n,t+=i(n),l++}return t}}))),(t=>{Kv(r,t),requestAnimationFrame((()=>{Kv(e,{top:t}),requestAnimationFrame((()=>{Kv(r,0),Kv(h,!1)}))}))})),{deviation:r}}),Hv(Pm,wy,Hy,gy,km,ty)),Qy=ym((([{didMount:e},{scrollTo:t},{listState:r}])=>{const n=tm(0);return Gv(om(e,hm(n),lm((([,e])=>0!==e)),sm((([,e])=>({top:e})))),(e=>{Zv(om(r,dm(1),lm((e=>e.items.length>1))),(()=>{requestAnimationFrame((()=>{Kv(t,e)}))}))})),{initialScrollTop:n}}),Hv(Oy,Pm,Hy),{singleton:!0}),Xy=ym((([{viewportHeight:e},{totalListHeight:t}])=>{const r=tm(!1);return{alignToBottom:r,paddingTopAddition:nm(om(mm(r,e,t),lm((([e])=>e)),sm((([,e,t])=>Math.max(0,e-t))),pm(0),am()),0)}}),Hv(Pm,Yy),{singleton:!0}),Zy=ym((([{scrollTo:e,scrollContainerState:t}])=>{const r=em(),n=em(),o=em(),i=tm(!1),a=tm(void 0);return Xv(om(mm(r,n),sm((([{viewportHeight:e,scrollTop:t,scrollHeight:r},{offsetTop:n}])=>({scrollTop:Math.max(0,t-n),scrollHeight:r,viewportHeight:e})))),t),Xv(om(e,hm(n),sm((([e,{offsetTop:t}])=>d(d({},e),{},{top:e.top+t})))),o),{useWindowScroll:i,customScrollParent:a,windowScrollContainerState:r,windowViewportRect:n,windowScrollTo:o}}),Hv(Pm)),eb=e=>{let r=e.itemTop,n=e.itemBottom,o=e.viewportTop,i=e.viewportBottom,a=e.locationParams,s=a.behavior,u=a.align,c=l(a,t);return r<o?d(d({},c),{},{behavior:s,align:null!=u?u:"start"}):n>i?d(d({},c),{},{behavior:s,align:null!=u?u:"end"}):null},tb=ym((([{sizes:e,totalCount:t,gap:n},{scrollTop:o,viewportHeight:i,headerHeight:a,fixedHeaderHeight:s,fixedFooterHeight:u,scrollingInProgress:c},{scrollToIndex:p}])=>{const f=em();return Xv(om(f,hm(e,i,t,a,s,u,o),hm(n),sm((([[e,t,n,o,i,a,s,u],p])=>{const f=e.done,h=e.behavior,g=e.align,v=e.calculateViewLocation,m=void 0===v?eb:v,y=l(e,r),b=dy(e,t,o-1),_=cy(b,t.offsetTree,p)+i+a,x=m({itemTop:_,itemBottom:_+Dm(t.sizeTree,b)[1],viewportTop:u+a,viewportBottom:u+n-s,locationParams:d({behavior:h,align:g},y)});return x?f&&Zv(om(c,lm((e=>!1===e)),dm(Qv(c)?1:2)),f):f&&f(),x})),lm((e=>null!==e))),p),{scrollIntoView:f}}),Hv(gy,Pm,yy,Hy,km),{singleton:!0}),rb=ym((([{sizes:e,sizeRanges:t},{scrollTop:r},{initialTopMostItemIndex:n},{didMount:o},{useWindowScroll:i,windowScrollContainerState:a,windowViewportRect:l}])=>{const s=em(),u=tm(void 0),c=tm(null),d=tm(null);return Xv(a,c),Xv(l,d),Gv(om(s,hm(e,r,i,c,d)),(([e,t,r,n,o,i])=>{const a=Bm(t.sizeTree).map((({k:e,v:t},r,n)=>{const o=n[r+1];return{startIndex:e,endIndex:o?o.k-1:1/0,size:t}}));n&&null!==o&&null!==i&&(r=o.scrollTop-i.offsetTop),e({ranges:a,scrollTop:r})})),Xv(om(u,lm($v),sm(nb)),n),Xv(om(o,hm(u),lm((([,e])=>void 0!==e)),am(),sm((([,e])=>e.ranges))),t),{getState:s,restoreStateFrom:u}}),Hv(gy,Pm,jy,Oy,Zy));function nb(e){return{offset:e.scrollTop,index:0,align:"start"}}const ob=ym((([e,t,r,n,o,i,a,l,s,u])=>d(d(d(d(d(d(d(d(d(d({},e),t),r),n),o),i),a),l),s),u)),Hv(Fy,Wy,Oy,Uy,Yy,Qy,Xy,Zy,tb,km)),ib=ym((([{totalCount:e,sizeRanges:t,fixedItemSize:r,defaultItemSize:o,trackItemSizes:i,itemSize:a,data:s,firstItemIndex:u,groupIndices:c,statefulTotalCount:p,gap:f,sizes:h},{initialTopMostItemIndex:g,scrolledToInitialItem:v},m,y,b,_,{scrollToIndex:x},w,{topItemCount:O},{groupCounts:S},k])=>{let j=_.listState,E=_.topItemsIndexes,C=l(_,n);return Xv(C.rangeChanged,k.scrollSeekRangeChanged),Xv(om(k.windowViewportRect,sm((e=>e.visibleHeight))),m.viewportHeight),d(d(d(d(d({totalCount:e,data:s,firstItemIndex:u,sizeRanges:t,initialTopMostItemIndex:g,scrolledToInitialItem:v,topItemsIndexes:E,topItemCount:O,groupCounts:S,fixedItemHeight:r,defaultItemHeight:o,gap:f},b),{},{statefulTotalCount:p,listState:j,scrollToIndex:x,trackItemSizes:i,itemSize:a,groupIndices:c},C),k),m),{},{sizes:h},y)}),Hv(gy,jy,Pm,rb,Cy,Hy,yy,Jy,$y,qy,ob)),ab="-webkit-sticky",lb="sticky",sb=Gy((()=>{if("undefined"==typeof document)return lb;const e=document.createElement("div");return e.style.position=ab,e.style.position===ab?ab:lb}));function ub(e,t){const r=N.useRef(null),n=N.useCallback((n=>{if(null===n||!n.offsetParent)return;const o=n.getBoundingClientRect(),i=o.width;let a,l;if(t){const e=t.getBoundingClientRect(),r=o.top-e.top;a=e.height-Math.max(0,r),l=r+t.scrollTop}else a=window.innerHeight-Math.max(0,o.top),l=o.top+window.pageYOffset;r.current={offsetTop:l,visibleHeight:a,visibleWidth:i},e(r.current)}),[e,t]),o=jm(n),i=o.callbackRef,a=o.ref,l=N.useCallback((()=>{n(a.current)}),[n,a]);return N.useEffect((()=>{if(t){t.addEventListener("scroll",l);const e=new ResizeObserver(l);return e.observe(t),()=>{t.removeEventListener("scroll",l),e.unobserve(t)}}return window.addEventListener("scroll",l),window.addEventListener("resize",l),()=>{window.removeEventListener("scroll",l),window.removeEventListener("resize",l)}}),[l,t]),i}const cb=N.createContext(void 0),db=N.createContext(void 0);function pb(e){return e}const fb=ym((()=>{const e=tm((e=>`Item ${e}`)),t=tm(null),r=tm((e=>`Group ${e}`)),n=tm({}),o=tm(pb),i=tm("div"),a=tm(Yv),l=(e,t=null)=>nm(om(n,sm((t=>t[e])),am()),t);return{context:t,itemContent:e,groupContent:r,components:n,computeItemKey:o,headerFooterTag:i,scrollerRef:a,FooterComponent:l("Footer"),HeaderComponent:l("Header"),TopItemListComponent:l("TopItemList"),ListComponent:l("List","div"),ItemComponent:l("Item","div"),GroupComponent:l("Group","div"),ScrollerComponent:l("Scroller","div"),EmptyPlaceholder:l("EmptyPlaceholder"),ScrollSeekPlaceholder:l("ScrollSeekPlaceholder")}})),hb=ym((([e,t])=>d(d({},e),t)),Hv(ib,fb)),gb=({height:e})=>N.createElement("div",{style:{height:e}}),vb={position:sb(),zIndex:1,overflowAnchor:"none"},mb={overflowAnchor:"none"},yb=N.memo((function({showTopList:e=!1}){const t=Ib("listState"),r=Pb("sizeRanges"),n=Ib("useWindowScroll"),o=Ib("customScrollParent"),i=Pb("windowScrollContainerState"),a=Pb("scrollContainerState"),l=o||n?i:a,s=Ib("itemContent"),u=Ib("context"),c=Ib("groupContent"),p=Ib("trackItemSizes"),h=Cm(r,Ib("itemSize"),p,e?Yv:l,Ib("log"),Pb("gap"),o).callbackRef,g=f(N.useState(0),2),v=g[0],m=g[1];Lb("deviation",(e=>{v!==e&&m(e)}));const y=Ib("EmptyPlaceholder"),b=Ib("ScrollSeekPlaceholder")||gb,_=Ib("ListComponent"),x=Ib("ItemComponent"),w=Ib("GroupComponent"),O=Ib("computeItemKey"),S=Ib("isSeeking"),k=Ib("groupIndices").length>0,j=Ib("paddingTopAddition"),E=Ib("scrolledToInitialItem"),C=e?{}:d({boxSizing:"border-box",paddingTop:t.offsetTop+j,paddingBottom:t.offsetBottom,marginTop:v},E?{}:{visibility:"hidden"});return!e&&0===t.totalCount&&y?N.createElement(y,wb(y,u)):N.createElement(_,d(d({},wb(_,u)),{},{ref:h,style:C,"data-test-id":e?"virtuoso-top-item-list":"virtuoso-item-list"}),(e?t.topItems:t.items).map((e=>{const r=e.originalIndex,n=O(r+t.firstItemIndex,e.data,u);return S?N.createElement(b,d(d({},wb(b,u)),{},{key:n,index:e.index,height:e.size,type:e.type||"item"},"group"===e.type?{}:{groupIndex:e.groupIndex})):"group"===e.type?N.createElement(w,d(d({},wb(w,u)),{},{key:n,"data-index":r,"data-known-size":e.size,"data-item-index":e.index,style:vb}),c(e.index,u)):N.createElement(x,d(d(d({},wb(x,u)),function(e,t){return{item:"string"==typeof e?void 0:t}}(x,e.data)),{},{key:n,"data-index":r,"data-known-size":e.size,"data-item-index":e.index,"data-item-group-index":e.groupIndex,style:mb}),k?s(e.index,e.groupIndex,e.data,u):s(e.index,e.data,u))})))})),bb={height:"100%",outline:"none",overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},_b={width:"100%",height:"100%",position:"absolute",top:0},xb={width:"100%",position:sb(),top:0,zIndex:1};function wb(e,t){if("string"!=typeof e)return{context:t}}const Ob=N.memo((function(){const e=Ib("HeaderComponent"),t=Pb("headerHeight"),r=Ib("headerFooterTag"),n=Em((e=>t(Tm(e,"height")))),o=Ib("context");return e?N.createElement(r,{ref:n},N.createElement(e,wb(e,o))):null})),Sb=N.memo((function(){const e=Ib("FooterComponent"),t=Pb("footerHeight"),r=Ib("headerFooterTag"),n=Em((e=>t(Tm(e,"height")))),o=Ib("context");return e?N.createElement(r,{ref:n},N.createElement(e,wb(e,o))):null}));function kb({usePublisher:e,useEmitter:t,useEmitterValue:r}){const n=N.memo((function(n){let i=n.style,a=n.children,s=l(n,o);const u=e("scrollContainerState"),c=r("ScrollerComponent"),p=e("smoothScrollTargetReached"),f=r("scrollerRef"),h=r("context"),g=Am(u,p,c,f),v=g.scrollerRef,m=g.scrollByCallback,y=g.scrollToCallback;return t("scrollTo",y),t("scrollBy",m),N.createElement(c,d(d({ref:v,style:d(d({},bb),i),"data-test-id":"virtuoso-scroller","data-virtuoso-scroller":!0,tabIndex:0},s),wb(c,h)),a)}));return n}function jb({usePublisher:e,useEmitter:t,useEmitterValue:r}){const n=N.memo((function(n){let o=n.style,a=n.children,s=l(n,i);const u=e("windowScrollContainerState"),c=r("ScrollerComponent"),p=e("smoothScrollTargetReached"),f=r("totalListHeight"),h=r("deviation"),g=r("customScrollParent"),v=r("context"),m=Am(u,p,c,Yv,g),y=m.scrollerRef,b=m.scrollByCallback,_=m.scrollToCallback;return wm((()=>(y.current=g||window,()=>{y.current=null})),[y,g]),t("windowScrollTo",_),t("scrollBy",b),N.createElement(c,d(d({style:d(d({position:"relative"},o),0!==f?{height:f+h}:{}),"data-virtuoso-scroller":!0},s),wb(c,v)),a)}));return n}const Eb=({children:e})=>{const t=N.useContext(cb),r=Pb("viewportHeight"),n=Pb("fixedItemHeight"),o=Em(Fv(r,(e=>Tm(e,"height"))));return N.useEffect((()=>{t&&(r(t.viewportHeight),n(t.itemHeight))}),[t,r,n]),N.createElement("div",{style:_b,ref:o,"data-viewport-type":"element"},e)},Cb=({children:e})=>{const t=N.useContext(cb),r=Pb("windowViewportRect"),n=Pb("fixedItemHeight"),o=Ib("customScrollParent"),i=ub(r,o);return N.useEffect((()=>{t&&(n(t.itemHeight),r({offsetTop:0,visibleHeight:t.viewportHeight,visibleWidth:100}))}),[t,r,n]),N.createElement("div",{ref:i,style:_b,"data-viewport-type":"window"},e)},Tb=({children:e})=>{const t=Ib("TopItemListComponent")||"div",r=Ib("headerHeight"),n=d(d({},xb),{},{marginTop:`${r}px`}),o=Ib("context");return N.createElement(t,d({style:n},wb(t,o)),e)},qb=xm(hb,{required:{},optional:{restoreStateFrom:"restoreStateFrom",context:"context",followOutput:"followOutput",itemContent:"itemContent",groupContent:"groupContent",overscan:"overscan",increaseViewportBy:"increaseViewportBy",totalCount:"totalCount",groupCounts:"groupCounts",topItemCount:"topItemCount",firstItemIndex:"firstItemIndex",initialTopMostItemIndex:"initialTopMostItemIndex",components:"components",atBottomThreshold:"atBottomThreshold",atTopThreshold:"atTopThreshold",computeItemKey:"computeItemKey",defaultItemHeight:"defaultItemHeight",fixedItemHeight:"fixedItemHeight",itemSize:"itemSize",scrollSeekConfiguration:"scrollSeekConfiguration",headerFooterTag:"headerFooterTag",data:"data",initialItemCount:"initialItemCount",initialScrollTop:"initialScrollTop",alignToBottom:"alignToBottom",useWindowScroll:"useWindowScroll",customScrollParent:"customScrollParent",scrollerRef:"scrollerRef",logLevel:"logLevel"},methods:{scrollToIndex:"scrollToIndex",scrollIntoView:"scrollIntoView",scrollTo:"scrollTo",scrollBy:"scrollBy",autoscrollToBottom:"autoscrollToBottom",getState:"getState"},events:{isScrolling:"isScrolling",endReached:"endReached",startReached:"startReached",rangeChanged:"rangeChanged",atBottomStateChange:"atBottomStateChange",atTopStateChange:"atTopStateChange",totalListHeightChanged:"totalListHeightChanged",itemsRendered:"itemsRendered",groupIndices:"groupIndices"}},N.memo((function(e){const t=Ib("useWindowScroll"),r=Ib("topItemsIndexes").length>0,n=Ib("customScrollParent"),o=n||t?Rb:Nb,i=n||t?Cb:Eb;return N.createElement(o,d({},e),r&&N.createElement(Tb,null,N.createElement(yb,{showTopList:!0})),N.createElement(i,null,N.createElement(Ob,null),N.createElement(yb,null),N.createElement(Sb,null)))}))),Ab=qb.Component,Pb=qb.usePublisher,Ib=qb.useEmitterValue,Lb=qb.useEmitter,Nb=kb({usePublisher:Pb,useEmitterValue:Ib,useEmitter:Lb}),Rb=jb({usePublisher:Pb,useEmitterValue:Ib,useEmitter:Lb}),Mb=Ab,Fb={items:[],offsetBottom:0,offsetTop:0,top:0,bottom:0,itemHeight:0,itemWidth:0},Db={items:[{index:0}],offsetBottom:0,offsetTop:0,top:0,bottom:0,itemHeight:0,itemWidth:0},Vb=Math.round,zb=Math.ceil,Bb=Math.floor,Hb=Math.min,Wb=Math.max;function Ub(e,t,r){return Array.from({length:t-e+1}).map(((t,n)=>{const o=null===r?null:r[n+e];return{index:n+e,data:o}}))}function $b(e,t){return e&&e.column===t.column&&e.row===t.row}function Yb(e,t){return e&&e.width===t.width&&e.height===t.height}const Gb=ym((([{overscan:e,visibleRange:t,listBoundary:r},{scrollTop:n,viewportHeight:o,scrollBy:i,scrollTo:a,smoothScrollTargetReached:l,scrollContainerState:s,footerHeight:u,headerHeight:c},p,f,{propsReady:h,didMount:g},{windowViewportRect:v,useWindowScroll:m,customScrollParent:y,windowScrollContainerState:b,windowScrollTo:_},x])=>{const w=tm(0),O=tm(0),S=tm(Fb),k=tm({height:0,width:0}),j=tm({height:0,width:0}),E=em(),C=em(),T=tm(0),q=tm(null),A=tm({row:0,column:0}),P=em(),I=em(),L=tm(!1),N=tm(0),R=tm(!0),M=tm(!1);Gv(om(g,hm(N),lm((([e,t])=>!!t))),(()=>{Kv(R,!1),Kv(O,0)})),Gv(om(mm(g,R,j,k,N,M),lm((([e,t,r,n,,o])=>e&&!t&&0!==r.height&&0!==n.height&&!o))),(([,,,,e])=>{Kv(M,!0),Sy(1,(()=>{Kv(E,e)})),Zv(om(n),(()=>{Kv(r,[0,0]),Kv(R,!0)}))})),Xv(om(I,lm((e=>null!=e&&e.scrollTop>0)),um(0)),O),Gv(om(g,hm(I),lm((([,e])=>null!=e))),(([,e])=>{e&&(Kv(k,e.viewport),Kv(j,null==e?void 0:e.item),Kv(A,e.gap),e.scrollTop>0&&(Kv(L,!0),Zv(om(n,dm(1)),(e=>{Kv(L,!1)})),Kv(a,{top:e.scrollTop})))})),Xv(om(k,sm((({height:e})=>e))),o),Xv(om(mm(vm(k,Yb),vm(j,Yb),vm(A,((e,t)=>e&&e.column===t.column&&e.row===t.row)),vm(n)),sm((([e,t,r,n])=>({viewport:e,item:t,gap:r,scrollTop:n})))),P),Xv(om(mm(vm(w),t,vm(A,$b),vm(j,Yb),vm(k,Yb),vm(q),vm(O),vm(L),vm(R),vm(N)),lm((([,,,,,,,e])=>!e)),sm((([e,[t,r],n,o,i,a,l,,s,u])=>{const c=n.row,p=n.column,f=o.height,h=o.width,g=i.width;if(0===l&&(0===e||0===g))return Fb;if(0===h){const t=ky(u,e);return function(e){return d(d({},Db),{},{items:e})}(Ub(t,0===t?Math.max(l-1,0):t,a))}const v=Qb(g,h,p);let m,y;s?0===t&&0===r&&l>0?(m=0,y=l-1):(m=v*Bb((t+c)/(f+c)),y=v*zb((r+c)/(f+c))-1,y=Hb(e-1,Wb(y,v-1)),m=Hb(y,Wb(0,m))):(m=0,y=-1);const b=Ub(m,y,a),_=Kb(i,n,o,b),x=_.top,w=_.bottom,O=zb(e/v);return{items:b,offsetTop:x,offsetBottom:O*f+(O-1)*c-w,top:x,bottom:w,itemHeight:f,itemWidth:h}}))),S),Xv(om(q,lm((e=>null!==e)),sm((e=>e.length))),w),Xv(om(mm(k,j,S,A),lm((([e,t,{items:r}])=>r.length>0&&0!==t.height&&0!==e.height)),sm((([e,t,{items:r},n])=>{const o=Kb(e,n,t,r);return[o.top,o.bottom]})),am(Ay)),r);const F=tm(!1);Xv(om(n,hm(F),sm((([e,t])=>t||0!==e))),F);const D=rm(om(vm(S),lm((({items:e})=>e.length>0)),hm(w,F),lm((([{items:e},t,r])=>r&&e[e.length-1].index===t-1)),sm((([,e])=>e-1)),am())),V=rm(om(vm(S),lm((({items:e})=>e.length>0&&0===e[0].index)),um(0),am())),z=rm(om(vm(S),hm(L),lm((([{items:e},t])=>e.length>0&&!t)),sm((([{items:e}])=>({startIndex:e[0].index,endIndex:e[e.length-1].index}))),am(Py),pm(0)));Xv(z,f.scrollSeekRangeChanged),Xv(om(E,hm(k,j,w,A),sm((([e,t,r,n,o])=>{const i=my(e),a=i.align,l=i.behavior,s=i.offset;let u=i.index;"LAST"===u&&(u=n-1),u=Wb(0,u,Hb(n-1,u));let c=Jb(t,o,r,u);return"end"===a?c=Vb(c-t.height+r.height):"center"===a&&(c=Vb(c-t.height/2+r.height/2)),s&&(c+=s),{top:c,behavior:l}}))),a);const B=nm(om(S,sm((e=>e.offsetBottom+e.bottom))),0);return Xv(om(v,sm((e=>({width:e.visibleWidth,height:e.visibleHeight})))),k),d(d(d({data:q,totalCount:w,viewportDimensions:k,itemDimensions:j,scrollTop:n,scrollHeight:C,overscan:e,scrollBy:i,scrollTo:a,scrollToIndex:E,smoothScrollTargetReached:l,windowViewportRect:v,windowScrollTo:_,useWindowScroll:m,customScrollParent:y,windowScrollContainerState:b,deviation:T,scrollContainerState:s,footerHeight:u,headerHeight:c,initialItemCount:O,gap:A,restoreStateFrom:I},f),{},{initialTopMostItemIndex:N,gridState:S,totalListHeight:B},p),{},{startReached:V,endReached:D,rangeChanged:z,stateChanged:P,propsReady:h,stateRestoreInProgress:L},x)}),Hv(Fy,Pm,wy,Uy,Oy,Zy,km));function Kb(e,t,r,n){const o=r.height;if(void 0===o||0===n.length)return{top:0,bottom:0};return{top:Jb(e,t,r,n[0].index),bottom:Jb(e,t,r,n[n.length-1].index)+o}}function Jb(e,t,r,n){const o=Qb(e.width,r.width,t.column),i=Bb(n/o),a=i*r.height+Wb(0,i-1)*t.row;return a>0?a+t.row:a}function Qb(e,t,r){return Wb(1,Bb((e+r)/(Bb(t)+r)))}const Xb=ym((()=>{const e=tm((e=>`Item ${e}`)),t=tm({}),r=tm(null),n=tm("virtuoso-grid-item"),o=tm("virtuoso-grid-list"),i=tm(pb),a=tm("div"),l=tm(Yv),s=(e,r=null)=>nm(om(t,sm((t=>t[e])),am()),r);return{context:r,itemContent:e,components:t,computeItemKey:i,itemClassName:n,listClassName:o,headerFooterTag:a,scrollerRef:l,FooterComponent:s("Footer"),HeaderComponent:s("Header"),ListComponent:s("List","div"),ItemComponent:s("Item","div"),ScrollerComponent:s("Scroller","div"),ScrollSeekPlaceholder:s("ScrollSeekPlaceholder","div")}})),Zb=ym((([e,t])=>d(d({},e),t)),Hv(Gb,Xb)),e_=N.memo((function(){const e=s_("gridState"),t=s_("listClassName"),r=s_("itemClassName"),n=s_("itemContent"),o=s_("computeItemKey"),i=s_("isSeeking"),a=l_("scrollHeight"),l=s_("ItemComponent"),s=s_("ListComponent"),u=s_("ScrollSeekPlaceholder"),c=s_("context"),p=l_("itemDimensions"),f=l_("gap"),h=s_("log"),g=s_("stateRestoreInProgress"),v=Em((e=>{const t=e.parentElement.parentElement.scrollHeight;a(t);const r=e.firstChild;if(r){const e=r.getBoundingClientRect(),t=e.width,n=e.height;p({width:t,height:n})}f({row:p_("row-gap",getComputedStyle(e).rowGap,h),column:p_("column-gap",getComputedStyle(e).columnGap,h)})}));return g?null:N.createElement(s,d(d({ref:v,className:t},wb(s,c)),{},{style:{paddingTop:e.offsetTop,paddingBottom:e.offsetBottom},"data-test-id":"virtuoso-item-list"}),e.items.map((t=>{const a=o(t.index,t.data,c);return i?N.createElement(u,d(d({key:a},wb(u,c)),{},{index:t.index,height:e.itemHeight,width:e.itemWidth})):N.createElement(l,d(d({},wb(l,c)),{},{className:r,"data-index":t.index,key:a}),n(t.index,t.data,c))})))})),t_=N.memo((function(){const e=s_("HeaderComponent"),t=l_("headerHeight"),r=s_("headerFooterTag"),n=Em((e=>t(Tm(e,"height")))),o=s_("context");return e?N.createElement(r,{ref:n},N.createElement(e,wb(e,o))):null})),r_=N.memo((function(){const e=s_("FooterComponent"),t=l_("footerHeight"),r=s_("headerFooterTag"),n=Em((e=>t(Tm(e,"height")))),o=s_("context");return e?N.createElement(r,{ref:n},N.createElement(e,wb(e,o))):null})),n_=({children:e})=>{const t=N.useContext(db),r=l_("itemDimensions"),n=l_("viewportDimensions"),o=Em((e=>{n(e.getBoundingClientRect())}));return N.useEffect((()=>{t&&(n({height:t.viewportHeight,width:t.viewportWidth}),r({height:t.itemHeight,width:t.itemWidth}))}),[t,n,r]),N.createElement("div",{style:_b,ref:o},e)},o_=({children:e})=>{const t=N.useContext(db),r=l_("windowViewportRect"),n=l_("itemDimensions"),o=s_("customScrollParent"),i=ub(r,o);return N.useEffect((()=>{t&&(n({height:t.itemHeight,width:t.itemWidth}),r({offsetTop:0,visibleHeight:t.viewportHeight,visibleWidth:t.viewportWidth}))}),[t,r,n]),N.createElement("div",{ref:i,style:_b},e)},i_=N.memo((function(e){let t=Object.assign({},(function(e){if(null==e)throw new TypeError("Cannot destructure "+e)}(e),e));const r=s_("useWindowScroll"),n=s_("customScrollParent"),o=n||r?d_:c_,i=n||r?o_:n_;return N.createElement(o,d({},t),N.createElement(i,null,N.createElement(t_,null),N.createElement(e_,null),N.createElement(r_,null)))})),a_=xm(Zb,{optional:{context:"context",totalCount:"totalCount",overscan:"overscan",itemContent:"itemContent",components:"components",computeItemKey:"computeItemKey",data:"data",initialItemCount:"initialItemCount",scrollSeekConfiguration:"scrollSeekConfiguration",headerFooterTag:"headerFooterTag",listClassName:"listClassName",itemClassName:"itemClassName",useWindowScroll:"useWindowScroll",customScrollParent:"customScrollParent",scrollerRef:"scrollerRef",logLevel:"logLevel",restoreStateFrom:"restoreStateFrom",initialTopMostItemIndex:"initialTopMostItemIndex"},methods:{scrollTo:"scrollTo",scrollBy:"scrollBy",scrollToIndex:"scrollToIndex"},events:{isScrolling:"isScrolling",endReached:"endReached",startReached:"startReached",rangeChanged:"rangeChanged",atBottomStateChange:"atBottomStateChange",atTopStateChange:"atTopStateChange",stateChanged:"stateChanged"}},i_),l_=(a_.Component,a_.usePublisher),s_=a_.useEmitterValue,u_=a_.useEmitter,c_=kb({usePublisher:l_,useEmitterValue:s_,useEmitter:u_}),d_=jb({usePublisher:l_,useEmitterValue:s_,useEmitter:u_});function p_(e,t,r){return"normal"===t||(null==t?void 0:t.endsWith("px"))||r(`${e} was not resolved to pixel value correctly`,t,Om.WARN),"normal"===t?0:parseInt(null!=t?t:"0",10)}function f_(e){const t=f(g.useState(!1),2),r=t[0],n=t[1],o=f(g.useState(!1),2),i=o[0],a=o[1],l=function(e){const t=be().getMonitor(),r=f(_e(t,e),2),n=r[0],o=r[1];return g.useEffect((()=>t.subscribeToOffsetChange(o))),g.useEffect((()=>t.subscribeToStateChange(o))),n}((e=>({isDragging:e.isDragging(),currentOffset:e.getClientOffset()}))),s=l.isDragging,u=l.currentOffset;return g.useEffect((()=>{const t=window.innerWidth;let r;r=t>=1200?450:400,s?((t,r)=>{if(!t||!e.current)return;const o=e.current.getBoundingClientRect(),i=o.left+r,l=o.right+r;if(!(t.x>=i&&t.x<=l&&t.y>=o.top&&t.y<=o.bottom))return n(!1),void a(!1);const s=t.y-o.top,u=o.bottom-t.y;n(s<=50),a(u<=50)})(u,r):(n(!1),a(!1))}),[s,u]),{isNearTop:r,isNearBottom:i}}const h_=N.forwardRef((function({onMainLang:e},t){const r=Oe(["design","run"]).t,n=ye(),o=Se(),i=ke((e=>{var t;return(null===(t=e.designState.Survey)||void 0===t?void 0:t.children)||[]})),a=ke((e=>{var t;return null===(t=e.designState.Survey)||void 0===t||null===(t=t.resources)||void 0===t?void 0:t.headerImage})),l=ke((e=>{var t;return null===(t=e.designState.Survey)||void 0===t||null===(t=t.resources)||void 0===t?void 0:t.backgroundImage})),s=ke((e=>{var t,r;return"collapse_groups"===(null===(t=e.designState.globalSetup)||void 0===t?void 0:t.reorder_setup)||"collapse_questions"===(null===(r=e.designState.globalSetup)||void 0===r?void 0:r.reorder_setup)})),u=!i.length,c=g.useMemo((()=>{let e=!1;return null==i||i.forEach((t=>{var r;"welcome"!==(null==t?void 0:t.type)&&"welcome"!==(null===(r=t.groupType)||void 0===r?void 0:r.toLowerCase())||(e=!0)})),e}),[i]),d=g.useMemo((()=>{const e=[];a&&e.push({name:g_.IMAGE}),c||e.push({name:g_.DROP_AREA,index:0});for(let r=0;r<i.length;r++){var t;e.push({name:g_.GROUP,group:i[r],index:r}),"end"!==i[r].type&&"end"!==(null===(t=i[r].groupType)||void 0===t?void 0:t.toLowerCase())&&e.push({name:g_.DROP_AREA,group:i[r],index:r+1})}return e.push({name:g_.FOOTER}),e}),[i,r,a]),p=g.useRef(null),f=g.useRef(null),h=f_(f),v=h.isNearBottom,m=h.isNearTop;g.useEffect((()=>{let e;const t=()=>{p.current&&(v?p.current.scrollBy({top:6,behavior:"auto"}):m&&p.current.scrollBy({top:-6,behavior:"auto"}),e=requestAnimationFrame(t))};return(m||v)&&(e=requestAnimationFrame(t)),()=>{e&&cancelAnimationFrame(e)}}),[m,v]);const y=l?{backgroundImage:`url(${St(l)})`,backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"}:{};return j.jsxs(P,{ref:t,className:`content-panel ${Do}`,sx:{backgroundColor:"background.default",color:"text.primary"},style:{fontFamily:n.textStyles.text.font,color:n.textStyles.text.color,fontSize:n.textStyles.text.size},children:[e&&!s&&j.jsxs(P,{className:Ho,children:[j.jsx(Me,{onClick:()=>{o(Ce(et))},color:"primary",variant:"contained",className:Wo,children:j.jsx(No,{})}),j.jsx(Me,{color:"primary",onClick:()=>{o(Ce(Ze))},variant:"contained",className:Wo,children:j.jsx(Ro,{})}),j.jsx(Me,{color:"primary",onClick:()=>{o(Ce(tt))},variant:"contained",className:Wo,children:j.jsx(Yo,{})})]}),j.jsx(P,{ref:f,width:"100%",height:"100%",children:j.jsx(Mb,{ref:p,data:d,style:y,className:zo,itemContent:(t,n)=>{switch(n.name){case g_.IMAGE:return j.jsxs(P,{className:Bo,children:[j.jsx(Xt,{className:Vo,component:"img",image:St(a),height:"140"}),e&&j.jsx(ui,{code:"Survey"})]});case g_.DROP_AREA:return j.jsx(Ev,{emptySurvey:u,t:r,index:n.index,groupsCount:i.length});case g_.GROUP:return j.jsx(Iv,{t:r,code:n.group.code,index:n.index});case g_.FOOTER:return j.jsx("div",{className:Fo})}}})})]})})),g_={IMAGE:"IMAGE",GROUP:"GROUP",DROP_AREA:"DROP_AREA",FOOTER:"FOOTER"},v_="_box_yj2jt_1",m_="_boxHasSetup_yj2jt_7";const y_=N.memo((function({t:e}){const t=ke((e=>{var t;return(null===(t=e.designState)||void 0===t?void 0:t.setup)||{}})),r=R(),n=Object.keys(t).length>0;return j.jsx(P,{className:`${v_} ${n?"":m_}`,style:{transition:r.transitions.create("transform",{easing:r.transitions.easing.sharp,duration:300}),transform:n?"translateX(-100%)":"translateX(0)"},timeout:300,children:!n&&j.jsx(rt,{t:e})})}));const b_=N.memo((function({label:e,rule:t,defaultValue:r,code:n,lowerBound:o,upperBound:i}){const a=Se(),l=ke((e=>e.designState[n][t]||r)),s=l<o||l>i;return j.jsxs(j.Fragment,{children:[j.jsxs("h4",{children:[e,":"]}),j.jsx(cr,{label:e,error:s,variant:"outlined",type:"number",size:"small",style:{maxWidth:"200px"},value:l,onChange:e=>(e=>{a(Ue({code:n,key:t,value:Math.max(o,Math.min(i,e.target.value))}))})(e)})]})})),__={showHint:"_showHint_9iocv_1",inputValue:"_inputValue_9iocv_9"};function x_({code:e,t:t}){const r=Se(),n=ke((t=>t.designState[e].showHint||!1));return j.jsxs(j.Fragment,{children:[j.jsxs("div",{className:__.showHint,children:[j.jsx("h4",{children:t("show_question_hint")}),j.jsx(Dt,{checked:n,onChange:t=>{return n=t.target.checked,void r(Ue({code:e,key:"showHint",value:n}));var n}})]}),n&&j.jsx(w_,{code:e,objectName:"hint"})]})}function w_({code:e,objectName:t,title:r}){const n=Se(),o=ke((e=>e.designState.langInfo.languagesList)),i=ke((r=>{var n;return null===(n=r.designState[e].content)||void 0===n?void 0:n[t]}));return j.jsxs(j.Fragment,{children:[r&&j.jsx("h4",{children:r}),o.map((r=>j.jsx("div",{className:__.inputValue,children:j.jsx(cr,{label:r.name,variant:"standard",type:"text",value:(null==i?void 0:i[r.code])||"",onChange:o=>((r,o)=>{n(Le({code:e,key:t,lang:r,value:o}))})(r.code,o.target.value)})},r.code)))]})}const O_="_boxContainer_182us_1",S_="_title_182us_18",k_={boxContainer:"_boxContainer_1vhs4_1",mt10:"_mt10_1vhs4_9",uppercase:"_uppercase_1vhs4_13",title:"_title_1vhs4_18",titleContent:"_titleContent_1vhs4_28",standardError:"_standardError_1vhs4_33",errorWrapper:"_errorWrapper_1vhs4_44",errorLabelWrapper:"_errorLabelWrapper_1vhs4_48",errorItem:"_errorItem_1vhs4_52",errorItemContainer:"_errorItemContainer_1vhs4_58"};function j_({validationRule:e,code:t,rule:r,t:n}){const o=Se(),i=e.isCustomErrorActive||!1,a=ke((e=>e.designState.langInfo.languagesList));let l=e.content||{};return j.jsxs(j.Fragment,{children:[j.jsx("h4",{children:n("standard_error")}),j.jsxs("div",{className:k_.errorWrapper,children:[j.jsx("div",{className:k_.errorLabelWrapper,children:a.map((e=>j.jsxs("div",{className:`${k_.errorItem} ${k_.uppercase}`,children:[e.code,":"]},e.code)))}),j.jsx("div",{children:a.map((t=>j.jsx("div",{className:k_.errorItem,children:n(r,d({ns:"run",lng:t.code},e))},t.code)))})]}),j.jsxs("div",{className:k_.title,children:[j.jsx("h4",{className:k_.mt10,children:n("custom_error")}),j.jsx(Dt,d(d({},{inputProps:{"aria-label":"Switch validation"}}),{},{checked:i,onChange:e=>{return n=e.target.checked,void o(nt({code:t,rule:r,key:"isCustomErrorActive",value:n}));var n}}))]}),i?j.jsxs("div",{className:k_.errorWrapper,children:[j.jsx("div",{className:k_.errorLabelWrapper,children:a.map((e=>j.jsxs("div",{className:`${k_.errorItem} ${k_.uppercase}`,children:[e.code,":"]},e.code)))}),j.jsx("div",{className:k_.errorItemContainer,children:a.map((e=>j.jsx("div",{className:k_.errorItem,children:j.jsx(cr,{size:"small",variant:"standard",value:l[e.code]||"",onChange:n=>((e,n)=>{const i=d(d({},l),{},{[e]:n});o(nt({code:t,rule:r,key:"content",value:i}))})(e.code,n.target.value)})},e.code)))})]}):""]})}const E_={valueValidationItems:"_valueValidationItems_1hupk_1",valueValidationItemsContainer:"_valueValidationItemsContainer_1hupk_6",error:"_error_1hupk_11"};const C_=N.memo((function({value:e,onValueChanged:t}){const r=Oe("design").t,n=r=>{let n=[...e];r.target.checked?n.push(r.target.name):n=e.filter((e=>e!=r.target.name)),t(n)};return j.jsxs(pr,{children:[j.jsx(fr,{id:"file-type-label",children:r("file_type")}),j.jsx(Br,{control:j.jsx(Hr,{checked:e.indexOf("presentation")>-1,onChange:n,name:"presentation"}),label:r("file_types.presentation")}),j.jsx(Br,{control:j.jsx(Hr,{checked:e.indexOf("document")>-1,onChange:n,name:"document"}),label:r("file_types.document")}),j.jsx(Br,{control:j.jsx(Hr,{checked:e.indexOf("spreadsheet")>-1,onChange:n,name:"spreadsheet"}),label:r("file_types.spreadsheet")}),j.jsx(Br,{control:j.jsx(Hr,{checked:e.indexOf("pdf")>-1,onChange:n,name:"pdf"}),label:r("file_types.pdf")}),j.jsx(Br,{control:j.jsx(Hr,{checked:e.indexOf("image")>-1,onChange:n,name:"image"}),label:r("file_types.image")}),j.jsx(Br,{control:j.jsx(Hr,{checked:e.indexOf("video")>-1,onChange:n,name:"video"}),label:r("file_types.video")}),j.jsx(Br,{control:j.jsx(Hr,{checked:e.indexOf("audio")>-1,onChange:n,name:"audio"}),label:r("file_types.audio")})]})}));function T_({code:e,validation:t,rule:r,t:n}){const o=ke((t=>{var r;return(null===(r=t.designState[e].children)||void 0===r?void 0:r.length)||0})),i=N.useMemo((()=>{switch(r){case"validation_min_char_length":case"validation_max_file_size":case"validation_max_char_length":case"validation_max_word_count":case"validation_min_word_count":return[1,Number.MAX_VALUE];case"validation_min_ranking_count":case"validation_min_option_count":case"validation_max_ranking_count":case"validation_max_option_count":case"validation_ranking_count":case"validation_option_count":return[1,o];default:return}}),[o]),a=Se(),l=(t,n)=>{((t,n)=>{a(nt({rule:r,code:e,key:t,value:n}))})(t,void 0===i?n:Math.max(i[0],Math.min(i[1],n)))};let s=q_(t);const u="validation_required"!=r&&"validation_one_response_per_col"!=r&&"validation_pattern_email"!=r&&"validation_file_types"!=r;return j.jsxs("div",{className:E_.valueValidationItemsContainer,children:[s&&u&&j.jsx("div",{children:n(r+"_subtitle")}),j.jsx("div",{className:E_.valueValidationItems,children:"validation_file_types"==r?j.jsx(C_,{value:t.fileTypes,onValueChanged:e=>l("fileTypes",e)}):s.map((e=>{const r=void 0!==i&&(t[e]<i[0]||t[e]>i[1]);return j.jsx(cr,{error:r,value:t[e],variant:"outlined",size:"small",type:"number"==typeof t[e]?"number":"text",onChange:r=>l(e,"number"==typeof t[e]?parseInt(r.target.value):r.target.value),style:{maxWidth:"150px",marginLeft:"8px"}},e)}))})]})}const q_=e=>Object.keys(e).filter((e=>!["content","isActive","isCustomErrorActive","bounds","fileTypes"].includes(e)));const A_=N.memo((function({rule:e,t:t,code:r}){console.log("ValidationSetupItem: "+r);const n=Se(),o=ke((t=>{var n;return null===(n=t.designState[r])||void 0===n||null===(n=n.validation)||void 0===n?void 0:n[e]})),i=(null==o?void 0:o.isActive)||!1;return j.jsxs("div",{children:[j.jsxs("div",{className:S_,children:[j.jsx("h4",{children:t(e+"_title")}),j.jsx(Dt,d(d({},{inputProps:{"aria-label":"Switch validation"}}),{},{checked:i,onChange:t=>{return o=t.target.checked,void n(nt({code:r,rule:e,key:"isActive",value:o}));var o}}))]}),i&&j.jsxs(P,{className:O_,children:[j.jsx(T_,{code:r,validation:o,rule:e,t:t}),j.jsx(j_,{code:r,validationRule:o,rule:e,t:t})]})]})})),P_="_toggleValue_1d9zg_1";function I_({label:e,code:t,rule:r}){const n=Se(),o=ke((e=>e.designState[t][r]||!1));return j.jsxs("div",{className:P_,children:[j.jsx("h4",{children:e}),j.jsx(Dt,d(d({},{inputProps:{"aria-label":"Switch demo"}}),{},{checked:o,onChange:e=>{var o;o=e.target.checked,n(Ue({code:t,key:r,value:o}))}}))]})}const L_={selectValue:"_selectValue_9m4tq_1"};function N_({label:e,rule:t,defaultValue:r,code:n,values:o,labels:i}){const a=Se(),l=ke((e=>{var o;return(null===(o=e.designState[n])||void 0===o?void 0:o[t])||r}));return j.jsxs("div",{className:L_.selectDate,children:[j.jsx("h4",{children:e}),j.jsx(pr,{variant:"standard",fullWidth:!0,children:j.jsx(hr,{id:"select-value",value:l,label:"Select Value",onChange:e=>{var r;r=e.target.value,a(Ue({code:n,key:t,value:r}))},children:o.map(((e,t)=>j.jsx(Vt,{value:e,children:i?i[t]:e},e)))})})]})}const R_="_selectDate_1qp3e_1",M_="_selectDateField_1qp3e_8";function F_({label:e,rule:t,code:r}){const n=Se(),o=ke((e=>e.designState[r][t]||""));return j.jsxs("div",{className:R_,children:[j.jsx("h4",{children:e}),j.jsx(cr,{className:M_,variant:"standard",value:o,type:"date",onChange:e=>{n(Ue({code:r,key:t,value:e.target.value}))}})]})}function D_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function V_(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?D_(Object(r),!0).forEach((function(t){z_(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D_(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function z_(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function B_(){return B_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},B_.apply(this,arguments)}function H_(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,i=[],a=!0,l=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(s){l=!0,o=s}finally{try{a||null==r.return||r.return()}finally{if(l)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return W_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return W_(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function W_(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var U_,$_,Y_=g.createContext(),G_=function(e){var t=e.open,r=e.options,n=e.onCancel,o=e.onConfirm,i=e.onClose,a=r.title,l=r.description,s=r.content,u=r.confirmationText,c=r.cancellationText,d=r.dialogProps,p=r.dialogActionsProps,f=r.confirmationButtonProps,h=r.cancellationButtonProps,g=r.titleProps,v=r.contentProps,m=r.allowClose,y=r.confirmationKeyword,b=r.confirmationKeywordTextFieldProps,_=r.hideCancelButton,x=r.buttonOrder,w=H_(N.useState(""),2),O=w[0],S=w[1],k=y&&O!==y,j=N.createElement(N.Fragment,null,y&&N.createElement(cr,B_({onChange:function(e){return S(e.target.value)},value:O,fullWidth:!0},b))),E=x.map((function(e){if("cancel"===e)return!_&&N.createElement(Me,B_({key:"cancel"},h,{onClick:n}),c);if("confirm"===e)return N.createElement(Me,B_({key:"confirm",color:"primary",disabled:k},f,{onClick:o}),u);throw new Error('Supported button types are only "confirm" and "cancel", got: '.concat(e))}));return N.createElement(Pr,B_({fullWidth:!0},d,{open:t,onClose:m?i:null}),a&&N.createElement(Ft,g,a),s?N.createElement(Ir,v,s,j):l?N.createElement(Ir,v,N.createElement(ho,null,l),j):y&&N.createElement(Ir,v,j),N.createElement(Cr,p,E))},K_={title:"Are you sure?",description:"",content:null,confirmationText:"Ok",cancellationText:"Cancel",dialogProps:{},dialogActionsProps:{},confirmationButtonProps:{},cancellationButtonProps:{},titleProps:{},contentProps:{},allowClose:!0,confirmationKeywordTextFieldProps:{},hideCancelButton:!1,buttonOrder:["cancel","confirm"]},J_=function(e,t){var r=V_(V_({},e.dialogProps||K_.dialogProps),t.dialogProps||{}),n=V_(V_({},e.dialogActionsProps||K_.dialogActionsProps),t.dialogActionsProps||{}),o=V_(V_({},e.confirmationButtonProps||K_.confirmationButtonProps),t.confirmationButtonProps||{}),i=V_(V_({},e.cancellationButtonProps||K_.cancellationButtonProps),t.cancellationButtonProps||{}),a=V_(V_({},e.titleProps||K_.titleProps),t.titleProps||{}),l=V_(V_({},e.contentProps||K_.contentProps),t.contentProps||{}),s=V_(V_({},e.confirmationKeywordTextFieldProps||K_.confirmationKeywordTextFieldProps),t.confirmationKeywordTextFieldProps||{});return V_(V_(V_(V_({},K_),e),t),{},{dialogProps:r,dialogActionsProps:n,confirmationButtonProps:o,cancellationButtonProps:i,titleProps:a,contentProps:l,confirmationKeywordTextFieldProps:s})},Q_=function(e){var t=e.children,r=e.defaultOptions,n=void 0===r?{}:r,o=H_(g.useState({}),2),i=o[0],a=o[1],l=H_(g.useState([]),2),s=l[0],u=l[1],c=H_(s,2),d=c[0],p=c[1],f=g.useCallback((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise((function(t,r){a(e),u([t,r])}))}),[]),h=g.useCallback((function(){u([])}),[]),v=g.useCallback((function(){p&&(p(),h())}),[p,h]),m=g.useCallback((function(){d&&(d(),h())}),[d,h]);return N.createElement(g.Fragment,null,N.createElement(Y_.Provider,{value:f},t),N.createElement(G_,{open:2===s.length,options:J_(n,i),onClose:h,onCancel:v,onConfirm:m}))};function X_(){return U_.apply(null,arguments)}function Z_(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function ex(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function tx(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function rx(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(tx(e,t))return!1;return!0}function nx(e){return void 0===e}function ox(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function ix(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function ax(e,t){var r,n=[],o=e.length;for(r=0;r<o;++r)n.push(t(e[r],r));return n}function lx(e,t){for(var r in t)tx(t,r)&&(e[r]=t[r]);return tx(t,"toString")&&(e.toString=t.toString),tx(t,"valueOf")&&(e.valueOf=t.valueOf),e}function sx(e,t,r,n){return TO(e,t,r,n,!0).utc()}function ux(e){return null==e._pf&&(e._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}),e._pf}function cx(e){if(null==e._isValid){var t=ux(e),r=$_.call(t.parsedDateParts,(function(e){return null!=e})),n=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&r);if(e._strict&&(n=n&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return n;e._isValid=n}return e._isValid}function dx(e){var t=sx(NaN);return null!=e?lx(ux(t),e):ux(t).userInvalidated=!0,t}$_=Array.prototype.some?Array.prototype.some:function(e){var t,r=Object(this),n=r.length>>>0;for(t=0;t<n;t++)if(t in r&&e.call(this,r[t],t,r))return!0;return!1};var px=X_.momentProperties=[],fx=!1;function hx(e,t){var r,n,o,i=px.length;if(nx(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),nx(t._i)||(e._i=t._i),nx(t._f)||(e._f=t._f),nx(t._l)||(e._l=t._l),nx(t._strict)||(e._strict=t._strict),nx(t._tzm)||(e._tzm=t._tzm),nx(t._isUTC)||(e._isUTC=t._isUTC),nx(t._offset)||(e._offset=t._offset),nx(t._pf)||(e._pf=ux(t)),nx(t._locale)||(e._locale=t._locale),i>0)for(r=0;r<i;r++)nx(o=t[n=px[r]])||(e[n]=o);return e}function gx(e){hx(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===fx&&(fx=!0,X_.updateOffset(this),fx=!1)}function vx(e){return e instanceof gx||null!=e&&null!=e._isAMomentObject}function mx(e){!1===X_.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function yx(e,t){var r=!0;return lx((function(){if(null!=X_.deprecationHandler&&X_.deprecationHandler(null,e),r){var n,o,i,a=[],l=arguments.length;for(o=0;o<l;o++){if(n="","object"==typeof arguments[o]){for(i in n+="\n["+o+"] ",arguments[0])tx(arguments[0],i)&&(n+=i+": "+arguments[0][i]+", ");n=n.slice(0,-2)}else n=arguments[o];a.push(n)}mx(e+"\nArguments: "+Array.prototype.slice.call(a).join("")+"\n"+(new Error).stack),r=!1}return t.apply(this,arguments)}),t)}var bx,_x={};function xx(e,t){null!=X_.deprecationHandler&&X_.deprecationHandler(e,t),_x[e]||(mx(t),_x[e]=!0)}function wx(e){return"undefined"!=typeof Function&&e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function Ox(e,t){var r,n=lx({},e);for(r in t)tx(t,r)&&(ex(e[r])&&ex(t[r])?(n[r]={},lx(n[r],e[r]),lx(n[r],t[r])):null!=t[r]?n[r]=t[r]:delete n[r]);for(r in e)tx(e,r)&&!tx(t,r)&&ex(e[r])&&(n[r]=lx({},n[r]));return n}function Sx(e){null!=e&&this.set(e)}X_.suppressDeprecationWarnings=!1,X_.deprecationHandler=null,bx=Object.keys?Object.keys:function(e){var t,r=[];for(t in e)tx(e,t)&&r.push(t);return r};function kx(e,t,r){var n=""+Math.abs(e),o=t-n.length;return(e>=0?r?"+":"":"-")+Math.pow(10,Math.max(0,o)).toString().substr(1)+n}var jx=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Ex=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Cx={},Tx={};function qx(e,t,r,n){var o=n;"string"==typeof n&&(o=function(){return this[n]()}),e&&(Tx[e]=o),t&&(Tx[t[0]]=function(){return kx(o.apply(this,arguments),t[1],t[2])}),r&&(Tx[r]=function(){return this.localeData().ordinal(o.apply(this,arguments),e)})}function Ax(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function Px(e,t){return e.isValid()?(t=Ix(t,e.localeData()),Cx[t]=Cx[t]||function(e){var t,r,n=e.match(jx);for(t=0,r=n.length;t<r;t++)Tx[n[t]]?n[t]=Tx[n[t]]:n[t]=Ax(n[t]);return function(t){var o,i="";for(o=0;o<r;o++)i+=wx(n[o])?n[o].call(t,e):n[o];return i}}(t),Cx[t](e)):e.localeData().invalidDate()}function Ix(e,t){var r=5;function n(e){return t.longDateFormat(e)||e}for(Ex.lastIndex=0;r>=0&&Ex.test(e);)e=e.replace(Ex,n),Ex.lastIndex=0,r-=1;return e}var Lx={};function Nx(e,t){var r=e.toLowerCase();Lx[r]=Lx[r+"s"]=Lx[t]=e}function Rx(e){return"string"==typeof e?Lx[e]||Lx[e.toLowerCase()]:void 0}function Mx(e){var t,r,n={};for(r in e)tx(e,r)&&(t=Rx(r))&&(n[t]=e[r]);return n}var Fx={};function Dx(e,t){Fx[e]=t}function Vx(e){return e%4==0&&e%100!=0||e%400==0}function zx(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function Bx(e){var t=+e,r=0;return 0!==t&&isFinite(t)&&(r=zx(t)),r}function Hx(e,t){return function(r){return null!=r?(Ux(this,e,r),X_.updateOffset(this,t),this):Wx(this,e)}}function Wx(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function Ux(e,t,r){e.isValid()&&!isNaN(r)&&("FullYear"===t&&Vx(e.year())&&1===e.month()&&29===e.date()?(r=Bx(r),e._d["set"+(e._isUTC?"UTC":"")+t](r,e.month(),jw(r,e.month()))):e._d["set"+(e._isUTC?"UTC":"")+t](r))}var $x,Yx=/\d/,Gx=/\d\d/,Kx=/\d{3}/,Jx=/\d{4}/,Qx=/[+-]?\d{6}/,Xx=/\d\d?/,Zx=/\d\d\d\d?/,ew=/\d\d\d\d\d\d?/,tw=/\d{1,3}/,rw=/\d{1,4}/,nw=/[+-]?\d{1,6}/,ow=/\d+/,iw=/[+-]?\d+/,aw=/Z|[+-]\d\d:?\d\d/gi,lw=/Z|[+-]\d\d(?::?\d\d)?/gi,sw=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i;function uw(e,t,r){$x[e]=wx(t)?t:function(e,n){return e&&r?r:t}}function cw(e,t){return tx($x,e)?$x[e](t._strict,t._locale):new RegExp(function(e){return dw(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(e,t,r,n,o){return t||r||n||o})))}(e))}function dw(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}$x={};var pw={};function fw(e,t){var r,n,o=t;for("string"==typeof e&&(e=[e]),ox(t)&&(o=function(e,r){r[t]=Bx(e)}),n=e.length,r=0;r<n;r++)pw[e[r]]=o}function hw(e,t){fw(e,(function(e,r,n,o){n._w=n._w||{},t(e,n._w,n,o)}))}function gw(e,t,r){null!=t&&tx(pw,e)&&pw[e](t,r._a,r,e)}var vw,mw=0,yw=1,bw=2,_w=3,xw=4,ww=5,Ow=6,Sw=7,kw=8;function jw(e,t){if(isNaN(e)||isNaN(t))return NaN;var r=function(e,t){return(e%t+t)%t}(t,12);return e+=(t-r)/12,1===r?Vx(e)?29:28:31-r%7%2}vw=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},qx("M",["MM",2],"Mo",(function(){return this.month()+1})),qx("MMM",0,0,(function(e){return this.localeData().monthsShort(this,e)})),qx("MMMM",0,0,(function(e){return this.localeData().months(this,e)})),Nx("month","M"),Dx("month",8),uw("M",Xx),uw("MM",Xx,Gx),uw("MMM",(function(e,t){return t.monthsShortRegex(e)})),uw("MMMM",(function(e,t){return t.monthsRegex(e)})),fw(["M","MM"],(function(e,t){t[yw]=Bx(e)-1})),fw(["MMM","MMMM"],(function(e,t,r,n){var o=r._locale.monthsParse(e,n,r._strict);null!=o?t[yw]=o:ux(r).invalidMonth=e}));var Ew="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Cw="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Tw=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,qw=sw,Aw=sw;function Pw(e,t,r){var n,o,i,a=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],n=0;n<12;++n)i=sx([2e3,n]),this._shortMonthsParse[n]=this.monthsShort(i,"").toLocaleLowerCase(),this._longMonthsParse[n]=this.months(i,"").toLocaleLowerCase();return r?"MMM"===t?-1!==(o=vw.call(this._shortMonthsParse,a))?o:null:-1!==(o=vw.call(this._longMonthsParse,a))?o:null:"MMM"===t?-1!==(o=vw.call(this._shortMonthsParse,a))||-1!==(o=vw.call(this._longMonthsParse,a))?o:null:-1!==(o=vw.call(this._longMonthsParse,a))||-1!==(o=vw.call(this._shortMonthsParse,a))?o:null}function Iw(e,t){var r;if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=Bx(t);else if(!ox(t=e.localeData().monthsParse(t)))return e;return r=Math.min(e.date(),jw(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,r),e}function Lw(e){return null!=e?(Iw(this,e),X_.updateOffset(this,!0),this):Wx(this,"Month")}function Nw(){function e(e,t){return t.length-e.length}var t,r,n=[],o=[],i=[];for(t=0;t<12;t++)r=sx([2e3,t]),n.push(this.monthsShort(r,"")),o.push(this.months(r,"")),i.push(this.months(r,"")),i.push(this.monthsShort(r,""));for(n.sort(e),o.sort(e),i.sort(e),t=0;t<12;t++)n[t]=dw(n[t]),o[t]=dw(o[t]);for(t=0;t<24;t++)i[t]=dw(i[t]);this._monthsRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+n.join("|")+")","i")}function Rw(e){return Vx(e)?366:365}qx("Y",0,0,(function(){var e=this.year();return e<=9999?kx(e,4):"+"+e})),qx(0,["YY",2],0,(function(){return this.year()%100})),qx(0,["YYYY",4],0,"year"),qx(0,["YYYYY",5],0,"year"),qx(0,["YYYYYY",6,!0],0,"year"),Nx("year","y"),Dx("year",1),uw("Y",iw),uw("YY",Xx,Gx),uw("YYYY",rw,Jx),uw("YYYYY",nw,Qx),uw("YYYYYY",nw,Qx),fw(["YYYYY","YYYYYY"],mw),fw("YYYY",(function(e,t){t[mw]=2===e.length?X_.parseTwoDigitYear(e):Bx(e)})),fw("YY",(function(e,t){t[mw]=X_.parseTwoDigitYear(e)})),fw("Y",(function(e,t){t[mw]=parseInt(e,10)})),X_.parseTwoDigitYear=function(e){return Bx(e)+(Bx(e)>68?1900:2e3)};var Mw=Hx("FullYear",!0);function Fw(e,t,r,n,o,i,a){var l;return e<100&&e>=0?(l=new Date(e+400,t,r,n,o,i,a),isFinite(l.getFullYear())&&l.setFullYear(e)):l=new Date(e,t,r,n,o,i,a),l}function Dw(e){var t,r;return e<100&&e>=0?((r=Array.prototype.slice.call(arguments))[0]=e+400,t=new Date(Date.UTC.apply(null,r)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function Vw(e,t,r){var n=7+t-r;return-((7+Dw(e,0,n).getUTCDay()-t)%7)+n-1}function zw(e,t,r,n,o){var i,a,l=1+7*(t-1)+(7+r-n)%7+Vw(e,n,o);return l<=0?a=Rw(i=e-1)+l:l>Rw(e)?(i=e+1,a=l-Rw(e)):(i=e,a=l),{year:i,dayOfYear:a}}function Bw(e,t,r){var n,o,i=Vw(e.year(),t,r),a=Math.floor((e.dayOfYear()-i-1)/7)+1;return a<1?n=a+Hw(o=e.year()-1,t,r):a>Hw(e.year(),t,r)?(n=a-Hw(e.year(),t,r),o=e.year()+1):(o=e.year(),n=a),{week:n,year:o}}function Hw(e,t,r){var n=Vw(e,t,r),o=Vw(e+1,t,r);return(Rw(e)-n+o)/7}qx("w",["ww",2],"wo","week"),qx("W",["WW",2],"Wo","isoWeek"),Nx("week","w"),Nx("isoWeek","W"),Dx("week",5),Dx("isoWeek",5),uw("w",Xx),uw("ww",Xx,Gx),uw("W",Xx),uw("WW",Xx,Gx),hw(["w","ww","W","WW"],(function(e,t,r,n){t[n.substr(0,1)]=Bx(e)}));function Ww(e,t){return e.slice(t,7).concat(e.slice(0,t))}qx("d",0,"do","day"),qx("dd",0,0,(function(e){return this.localeData().weekdaysMin(this,e)})),qx("ddd",0,0,(function(e){return this.localeData().weekdaysShort(this,e)})),qx("dddd",0,0,(function(e){return this.localeData().weekdays(this,e)})),qx("e",0,0,"weekday"),qx("E",0,0,"isoWeekday"),Nx("day","d"),Nx("weekday","e"),Nx("isoWeekday","E"),Dx("day",11),Dx("weekday",11),Dx("isoWeekday",11),uw("d",Xx),uw("e",Xx),uw("E",Xx),uw("dd",(function(e,t){return t.weekdaysMinRegex(e)})),uw("ddd",(function(e,t){return t.weekdaysShortRegex(e)})),uw("dddd",(function(e,t){return t.weekdaysRegex(e)})),hw(["dd","ddd","dddd"],(function(e,t,r,n){var o=r._locale.weekdaysParse(e,n,r._strict);null!=o?t.d=o:ux(r).invalidWeekday=e})),hw(["d","e","E"],(function(e,t,r,n){t[n]=Bx(e)}));var Uw="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),$w="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Yw="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Gw=sw,Kw=sw,Jw=sw;function Qw(e,t,r){var n,o,i,a=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],n=0;n<7;++n)i=sx([2e3,1]).day(n),this._minWeekdaysParse[n]=this.weekdaysMin(i,"").toLocaleLowerCase(),this._shortWeekdaysParse[n]=this.weekdaysShort(i,"").toLocaleLowerCase(),this._weekdaysParse[n]=this.weekdays(i,"").toLocaleLowerCase();return r?"dddd"===t?-1!==(o=vw.call(this._weekdaysParse,a))?o:null:"ddd"===t?-1!==(o=vw.call(this._shortWeekdaysParse,a))?o:null:-1!==(o=vw.call(this._minWeekdaysParse,a))?o:null:"dddd"===t?-1!==(o=vw.call(this._weekdaysParse,a))||-1!==(o=vw.call(this._shortWeekdaysParse,a))||-1!==(o=vw.call(this._minWeekdaysParse,a))?o:null:"ddd"===t?-1!==(o=vw.call(this._shortWeekdaysParse,a))||-1!==(o=vw.call(this._weekdaysParse,a))||-1!==(o=vw.call(this._minWeekdaysParse,a))?o:null:-1!==(o=vw.call(this._minWeekdaysParse,a))||-1!==(o=vw.call(this._weekdaysParse,a))||-1!==(o=vw.call(this._shortWeekdaysParse,a))?o:null}function Xw(){function e(e,t){return t.length-e.length}var t,r,n,o,i,a=[],l=[],s=[],u=[];for(t=0;t<7;t++)r=sx([2e3,1]).day(t),n=dw(this.weekdaysMin(r,"")),o=dw(this.weekdaysShort(r,"")),i=dw(this.weekdays(r,"")),a.push(n),l.push(o),s.push(i),u.push(n),u.push(o),u.push(i);a.sort(e),l.sort(e),s.sort(e),u.sort(e),this._weekdaysRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+a.join("|")+")","i")}function Zw(){return this.hours()%12||12}function eO(e,t){qx(e,0,0,(function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)}))}function tO(e,t){return t._meridiemParse}qx("H",["HH",2],0,"hour"),qx("h",["hh",2],0,Zw),qx("k",["kk",2],0,(function(){return this.hours()||24})),qx("hmm",0,0,(function(){return""+Zw.apply(this)+kx(this.minutes(),2)})),qx("hmmss",0,0,(function(){return""+Zw.apply(this)+kx(this.minutes(),2)+kx(this.seconds(),2)})),qx("Hmm",0,0,(function(){return""+this.hours()+kx(this.minutes(),2)})),qx("Hmmss",0,0,(function(){return""+this.hours()+kx(this.minutes(),2)+kx(this.seconds(),2)})),eO("a",!0),eO("A",!1),Nx("hour","h"),Dx("hour",13),uw("a",tO),uw("A",tO),uw("H",Xx),uw("h",Xx),uw("k",Xx),uw("HH",Xx,Gx),uw("hh",Xx,Gx),uw("kk",Xx,Gx),uw("hmm",Zx),uw("hmmss",ew),uw("Hmm",Zx),uw("Hmmss",ew),fw(["H","HH"],_w),fw(["k","kk"],(function(e,t,r){var n=Bx(e);t[_w]=24===n?0:n})),fw(["a","A"],(function(e,t,r){r._isPm=r._locale.isPM(e),r._meridiem=e})),fw(["h","hh"],(function(e,t,r){t[_w]=Bx(e),ux(r).bigHour=!0})),fw("hmm",(function(e,t,r){var n=e.length-2;t[_w]=Bx(e.substr(0,n)),t[xw]=Bx(e.substr(n)),ux(r).bigHour=!0})),fw("hmmss",(function(e,t,r){var n=e.length-4,o=e.length-2;t[_w]=Bx(e.substr(0,n)),t[xw]=Bx(e.substr(n,2)),t[ww]=Bx(e.substr(o)),ux(r).bigHour=!0})),fw("Hmm",(function(e,t,r){var n=e.length-2;t[_w]=Bx(e.substr(0,n)),t[xw]=Bx(e.substr(n))})),fw("Hmmss",(function(e,t,r){var n=e.length-4,o=e.length-2;t[_w]=Bx(e.substr(0,n)),t[xw]=Bx(e.substr(n,2)),t[ww]=Bx(e.substr(o))}));var rO=Hx("Hours",!0);var nO,oO={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:Ew,monthsShort:Cw,week:{dow:0,doy:6},weekdays:Uw,weekdaysMin:Yw,weekdaysShort:$w,meridiemParse:/[ap]\.?m?\.?/i},iO={},aO={};function lO(e,t){var r,n=Math.min(e.length,t.length);for(r=0;r<n;r+=1)if(e[r]!==t[r])return r;return n}function sO(e){return e?e.toLowerCase().replace("_","-"):e}function uO(e){var t=null;if(void 0===iO[e]&&void 0!==c&&c&&c.exports&&function(e){return null!=e.match("^[^/\\\\]*$")}(e))try{t=nO._abbr,require("./locale/"+e),cO(t)}catch(lF){iO[e]=null}return iO[e]}function cO(e,t){var r;return e&&((r=nx(t)?pO(e):dO(e,t))?nO=r:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),nO._abbr}function dO(e,t){if(null!==t){var r,n=oO;if(t.abbr=e,null!=iO[e])xx("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=iO[e]._config;else if(null!=t.parentLocale)if(null!=iO[t.parentLocale])n=iO[t.parentLocale]._config;else{if(null==(r=uO(t.parentLocale)))return aO[t.parentLocale]||(aO[t.parentLocale]=[]),aO[t.parentLocale].push({name:e,config:t}),null;n=r._config}return iO[e]=new Sx(Ox(n,t)),aO[e]&&aO[e].forEach((function(e){dO(e.name,e.config)})),cO(e),iO[e]}return delete iO[e],null}function pO(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return nO;if(!Z_(e)){if(t=uO(e))return t;e=[e]}return function(e){for(var t,r,n,o,i=0;i<e.length;){for(t=(o=sO(e[i]).split("-")).length,r=(r=sO(e[i+1]))?r.split("-"):null;t>0;){if(n=uO(o.slice(0,t).join("-")))return n;if(r&&r.length>=t&&lO(o,r)>=t-1)break;t--}i++}return nO}(e)}function fO(e){var t,r=e._a;return r&&-2===ux(e).overflow&&(t=r[yw]<0||r[yw]>11?yw:r[bw]<1||r[bw]>jw(r[mw],r[yw])?bw:r[_w]<0||r[_w]>24||24===r[_w]&&(0!==r[xw]||0!==r[ww]||0!==r[Ow])?_w:r[xw]<0||r[xw]>59?xw:r[ww]<0||r[ww]>59?ww:r[Ow]<0||r[Ow]>999?Ow:-1,ux(e)._overflowDayOfYear&&(t<mw||t>bw)&&(t=bw),ux(e)._overflowWeeks&&-1===t&&(t=Sw),ux(e)._overflowWeekday&&-1===t&&(t=kw),ux(e).overflow=t),e}var hO=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,gO=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,vO=/Z|[+-]\d\d(?::?\d\d)?/,mO=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],yO=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],bO=/^\/?Date\((-?\d+)/i,_O=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,xO={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function wO(e){var t,r,n,o,i,a,l=e._i,s=hO.exec(l)||gO.exec(l),u=mO.length,c=yO.length;if(s){for(ux(e).iso=!0,t=0,r=u;t<r;t++)if(mO[t][1].exec(s[1])){o=mO[t][0],n=!1!==mO[t][2];break}if(null==o)return void(e._isValid=!1);if(s[3]){for(t=0,r=c;t<r;t++)if(yO[t][1].exec(s[3])){i=(s[2]||" ")+yO[t][0];break}if(null==i)return void(e._isValid=!1)}if(!n&&null!=i)return void(e._isValid=!1);if(s[4]){if(!vO.exec(s[4]))return void(e._isValid=!1);a="Z"}e._f=o+(i||"")+(a||""),EO(e)}else e._isValid=!1}function OO(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function SO(e){var t,r,n,o,i,a,l,s,u=_O.exec(function(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}(e._i));if(u){if(r=u[4],n=u[3],o=u[2],i=u[5],a=u[6],l=u[7],s=[OO(r),Cw.indexOf(n),parseInt(o,10),parseInt(i,10),parseInt(a,10)],l&&s.push(parseInt(l,10)),t=s,!function(e,t,r){return!e||$w.indexOf(e)===new Date(t[0],t[1],t[2]).getDay()||(ux(r).weekdayMismatch=!0,r._isValid=!1,!1)}(u[1],t,e))return;e._a=t,e._tzm=function(e,t,r){if(e)return xO[e];if(t)return 0;var n=parseInt(r,10),o=n%100;return(n-o)/100*60+o}(u[8],u[9],u[10]),e._d=Dw.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),ux(e).rfc2822=!0}else e._isValid=!1}function kO(e,t,r){return null!=e?e:null!=t?t:r}function jO(e){var t,r,n,o,i,a=[];if(!e._d){for(n=function(e){var t=new Date(X_.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}(e),e._w&&null==e._a[bw]&&null==e._a[yw]&&function(e){var t,r,n,o,i,a,l,s,u;t=e._w,null!=t.GG||null!=t.W||null!=t.E?(i=1,a=4,r=kO(t.GG,e._a[mw],Bw(qO(),1,4).year),n=kO(t.W,1),((o=kO(t.E,1))<1||o>7)&&(s=!0)):(i=e._locale._week.dow,a=e._locale._week.doy,u=Bw(qO(),i,a),r=kO(t.gg,e._a[mw],u.year),n=kO(t.w,u.week),null!=t.d?((o=t.d)<0||o>6)&&(s=!0):null!=t.e?(o=t.e+i,(t.e<0||t.e>6)&&(s=!0)):o=i);n<1||n>Hw(r,i,a)?ux(e)._overflowWeeks=!0:null!=s?ux(e)._overflowWeekday=!0:(l=zw(r,n,o,i,a),e._a[mw]=l.year,e._dayOfYear=l.dayOfYear)}(e),null!=e._dayOfYear&&(i=kO(e._a[mw],n[mw]),(e._dayOfYear>Rw(i)||0===e._dayOfYear)&&(ux(e)._overflowDayOfYear=!0),r=Dw(i,0,e._dayOfYear),e._a[yw]=r.getUTCMonth(),e._a[bw]=r.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=a[t]=n[t];for(;t<7;t++)e._a[t]=a[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[_w]&&0===e._a[xw]&&0===e._a[ww]&&0===e._a[Ow]&&(e._nextDay=!0,e._a[_w]=0),e._d=(e._useUTC?Dw:Fw).apply(null,a),o=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[_w]=24),e._w&&void 0!==e._w.d&&e._w.d!==o&&(ux(e).weekdayMismatch=!0)}}function EO(e){if(e._f!==X_.ISO_8601)if(e._f!==X_.RFC_2822){e._a=[],ux(e).empty=!0;var t,r,n,o,i,a,l,s=""+e._i,u=s.length,c=0;for(l=(n=Ix(e._f,e._locale).match(jx)||[]).length,t=0;t<l;t++)o=n[t],(r=(s.match(cw(o,e))||[])[0])&&((i=s.substr(0,s.indexOf(r))).length>0&&ux(e).unusedInput.push(i),s=s.slice(s.indexOf(r)+r.length),c+=r.length),Tx[o]?(r?ux(e).empty=!1:ux(e).unusedTokens.push(o),gw(o,r,e)):e._strict&&!r&&ux(e).unusedTokens.push(o);ux(e).charsLeftOver=u-c,s.length>0&&ux(e).unusedInput.push(s),e._a[_w]<=12&&!0===ux(e).bigHour&&e._a[_w]>0&&(ux(e).bigHour=void 0),ux(e).parsedDateParts=e._a.slice(0),ux(e).meridiem=e._meridiem,e._a[_w]=function(e,t,r){var n;if(null==r)return t;return null!=e.meridiemHour?e.meridiemHour(t,r):null!=e.isPM?((n=e.isPM(r))&&t<12&&(t+=12),n||12!==t||(t=0),t):t}(e._locale,e._a[_w],e._meridiem),null!==(a=ux(e).era)&&(e._a[mw]=e._locale.erasConvertYear(a,e._a[mw])),jO(e),fO(e)}else SO(e);else wO(e)}function CO(e){var t=e._i,r=e._f;return e._locale=e._locale||pO(e._l),null===t||void 0===r&&""===t?dx({nullInput:!0}):("string"==typeof t&&(e._i=t=e._locale.preparse(t)),vx(t)?new gx(fO(t)):(ix(t)?e._d=t:Z_(r)?function(e){var t,r,n,o,i,a,l=!1,s=e._f.length;if(0===s)return ux(e).invalidFormat=!0,void(e._d=new Date(NaN));for(o=0;o<s;o++)i=0,a=!1,t=hx({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[o],EO(t),cx(t)&&(a=!0),i+=ux(t).charsLeftOver,i+=10*ux(t).unusedTokens.length,ux(t).score=i,l?i<n&&(n=i,r=t):(null==n||i<n||a)&&(n=i,r=t,a&&(l=!0));lx(e,r||t)}(e):r?EO(e):function(e){var t=e._i;nx(t)?e._d=new Date(X_.now()):ix(t)?e._d=new Date(t.valueOf()):"string"==typeof t?function(e){var t=bO.exec(e._i);null===t?(wO(e),!1===e._isValid&&(delete e._isValid,SO(e),!1===e._isValid&&(delete e._isValid,e._strict?e._isValid=!1:X_.createFromInputFallback(e)))):e._d=new Date(+t[1])}(e):Z_(t)?(e._a=ax(t.slice(0),(function(e){return parseInt(e,10)})),jO(e)):ex(t)?function(e){if(!e._d){var t=Mx(e._i),r=void 0===t.day?t.date:t.day;e._a=ax([t.year,t.month,r,t.hour,t.minute,t.second,t.millisecond],(function(e){return e&&parseInt(e,10)})),jO(e)}}(e):ox(t)?e._d=new Date(t):X_.createFromInputFallback(e)}(e),cx(e)||(e._d=null),e))}function TO(e,t,r,n,o){var i={};return!0!==t&&!1!==t||(n=t,t=void 0),!0!==r&&!1!==r||(n=r,r=void 0),(ex(e)&&rx(e)||Z_(e)&&0===e.length)&&(e=void 0),i._isAMomentObject=!0,i._useUTC=i._isUTC=o,i._l=r,i._i=e,i._f=t,i._strict=n,function(e){var t=new gx(fO(CO(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}(i)}function qO(e,t,r,n){return TO(e,t,r,n,!1)}X_.createFromInputFallback=yx("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",(function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))})),X_.ISO_8601=function(){},X_.RFC_2822=function(){};var AO=yx("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=qO.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:dx()})),PO=yx("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=qO.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:dx()}));function IO(e,t){var r,n;if(1===t.length&&Z_(t[0])&&(t=t[0]),!t.length)return qO();for(r=t[0],n=1;n<t.length;++n)t[n].isValid()&&!t[n][e](r)||(r=t[n]);return r}var LO=["year","quarter","month","week","day","hour","minute","second","millisecond"];function NO(e){var t=Mx(e),r=t.year||0,n=t.quarter||0,o=t.month||0,i=t.week||t.isoWeek||0,a=t.day||0,l=t.hour||0,s=t.minute||0,u=t.second||0,c=t.millisecond||0;this._isValid=function(e){var t,r,n=!1,o=LO.length;for(t in e)if(tx(e,t)&&(-1===vw.call(LO,t)||null!=e[t]&&isNaN(e[t])))return!1;for(r=0;r<o;++r)if(e[LO[r]]){if(n)return!1;parseFloat(e[LO[r]])!==Bx(e[LO[r]])&&(n=!0)}return!0}(t),this._milliseconds=+c+1e3*u+6e4*s+1e3*l*60*60,this._days=+a+7*i,this._months=+o+3*n+12*r,this._data={},this._locale=pO(),this._bubble()}function RO(e){return e instanceof NO}function MO(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function FO(e,t){qx(e,0,0,(function(){var e=this.utcOffset(),r="+";return e<0&&(e=-e,r="-"),r+kx(~~(e/60),2)+t+kx(~~e%60,2)}))}FO("Z",":"),FO("ZZ",""),uw("Z",lw),uw("ZZ",lw),fw(["Z","ZZ"],(function(e,t,r){r._useUTC=!0,r._tzm=VO(lw,e)}));var DO=/([\+\-]|\d\d)/gi;function VO(e,t){var r,n,o=(t||"").match(e);return null===o?null:0===(n=60*(r=((o[o.length-1]||[])+"").match(DO)||["-",0,0])[1]+Bx(r[2]))?0:"+"===r[0]?n:-n}function zO(e,t){var r,n;return t._isUTC?(r=t.clone(),n=(vx(e)||ix(e)?e.valueOf():qO(e).valueOf())-r.valueOf(),r._d.setTime(r._d.valueOf()+n),X_.updateOffset(r,!1),r):qO(e).local()}function BO(e){return-Math.round(e._d.getTimezoneOffset())}function HO(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}X_.updateOffset=function(){};var WO=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,UO=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function $O(e,t){var r,n,o,i=e,a=null;return RO(e)?i={ms:e._milliseconds,d:e._days,M:e._months}:ox(e)||!isNaN(+e)?(i={},t?i[t]=+e:i.milliseconds=+e):(a=WO.exec(e))?(r="-"===a[1]?-1:1,i={y:0,d:Bx(a[bw])*r,h:Bx(a[_w])*r,m:Bx(a[xw])*r,s:Bx(a[ww])*r,ms:Bx(MO(1e3*a[Ow]))*r}):(a=UO.exec(e))?(r="-"===a[1]?-1:1,i={y:YO(a[2],r),M:YO(a[3],r),w:YO(a[4],r),d:YO(a[5],r),h:YO(a[6],r),m:YO(a[7],r),s:YO(a[8],r)}):null==i?i={}:"object"==typeof i&&("from"in i||"to"in i)&&(o=function(e,t){var r;if(!e.isValid()||!t.isValid())return{milliseconds:0,months:0};t=zO(t,e),e.isBefore(t)?r=GO(e,t):((r=GO(t,e)).milliseconds=-r.milliseconds,r.months=-r.months);return r}(qO(i.from),qO(i.to)),(i={}).ms=o.milliseconds,i.M=o.months),n=new NO(i),RO(e)&&tx(e,"_locale")&&(n._locale=e._locale),RO(e)&&tx(e,"_isValid")&&(n._isValid=e._isValid),n}function YO(e,t){var r=e&&parseFloat(e.replace(",","."));return(isNaN(r)?0:r)*t}function GO(e,t){var r={};return r.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(r.months,"M").isAfter(t)&&--r.months,r.milliseconds=+t-+e.clone().add(r.months,"M"),r}function KO(e,t){return function(r,n){var o;return null===n||isNaN(+n)||(xx(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),o=r,r=n,n=o),JO(this,$O(r,n),e),this}}function JO(e,t,r,n){var o=t._milliseconds,i=MO(t._days),a=MO(t._months);e.isValid()&&(n=null==n||n,a&&Iw(e,Wx(e,"Month")+a*r),i&&Ux(e,"Date",Wx(e,"Date")+i*r),o&&e._d.setTime(e._d.valueOf()+o*r),n&&X_.updateOffset(e,i||a))}$O.fn=NO.prototype,$O.invalid=function(){return $O(NaN)};var QO=KO(1,"add"),XO=KO(-1,"subtract");function ZO(e){return"string"==typeof e||e instanceof String}function eS(e){return vx(e)||ix(e)||ZO(e)||ox(e)||function(e){var t=Z_(e),r=!1;t&&(r=0===e.filter((function(t){return!ox(t)&&ZO(e)})).length);return t&&r}(e)||function(e){var t,r,n=ex(e)&&!rx(e),o=!1,i=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],a=i.length;for(t=0;t<a;t+=1)r=i[t],o=o||tx(e,r);return n&&o}(e)||null==e}function tS(e,t){if(e.date()<t.date())return-tS(t,e);var r=12*(t.year()-e.year())+(t.month()-e.month()),n=e.clone().add(r,"months");return-(r+(t-n<0?(t-n)/(n-e.clone().add(r-1,"months")):(t-n)/(e.clone().add(r+1,"months")-n)))||0}function rS(e){var t;return void 0===e?this._locale._abbr:(null!=(t=pO(e))&&(this._locale=t),this)}X_.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",X_.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var nS=yx("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",(function(e){return void 0===e?this.localeData():this.locale(e)}));function oS(){return this._locale}var iS=1e3,aS=6e4,lS=36e5,sS=126227808e5;function uS(e,t){return(e%t+t)%t}function cS(e,t,r){return e<100&&e>=0?new Date(e+400,t,r)-sS:new Date(e,t,r).valueOf()}function dS(e,t,r){return e<100&&e>=0?Date.UTC(e+400,t,r)-sS:Date.UTC(e,t,r)}function pS(e,t){return t.erasAbbrRegex(e)}function fS(){var e,t,r=[],n=[],o=[],i=[],a=this.eras();for(e=0,t=a.length;e<t;++e)n.push(dw(a[e].name)),r.push(dw(a[e].abbr)),o.push(dw(a[e].narrow)),i.push(dw(a[e].name)),i.push(dw(a[e].abbr)),i.push(dw(a[e].narrow));this._erasRegex=new RegExp("^("+i.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+n.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+r.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+o.join("|")+")","i")}function hS(e,t){qx(0,[e,e.length],0,t)}function gS(e,t,r,n,o){var i;return null==e?Bw(this,n,o).year:(t>(i=Hw(e,n,o))&&(t=i),vS.call(this,e,t,r,n,o))}function vS(e,t,r,n,o){var i=zw(e,t,r,n,o),a=Dw(i.year,0,i.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}qx("N",0,0,"eraAbbr"),qx("NN",0,0,"eraAbbr"),qx("NNN",0,0,"eraAbbr"),qx("NNNN",0,0,"eraName"),qx("NNNNN",0,0,"eraNarrow"),qx("y",["y",1],"yo","eraYear"),qx("y",["yy",2],0,"eraYear"),qx("y",["yyy",3],0,"eraYear"),qx("y",["yyyy",4],0,"eraYear"),uw("N",pS),uw("NN",pS),uw("NNN",pS),uw("NNNN",(function(e,t){return t.erasNameRegex(e)})),uw("NNNNN",(function(e,t){return t.erasNarrowRegex(e)})),fw(["N","NN","NNN","NNNN","NNNNN"],(function(e,t,r,n){var o=r._locale.erasParse(e,n,r._strict);o?ux(r).era=o:ux(r).invalidEra=e})),uw("y",ow),uw("yy",ow),uw("yyy",ow),uw("yyyy",ow),uw("yo",(function(e,t){return t._eraYearOrdinalRegex||ow})),fw(["y","yy","yyy","yyyy"],mw),fw(["yo"],(function(e,t,r,n){var o;r._locale._eraYearOrdinalRegex&&(o=e.match(r._locale._eraYearOrdinalRegex)),r._locale.eraYearOrdinalParse?t[mw]=r._locale.eraYearOrdinalParse(e,o):t[mw]=parseInt(e,10)})),qx(0,["gg",2],0,(function(){return this.weekYear()%100})),qx(0,["GG",2],0,(function(){return this.isoWeekYear()%100})),hS("gggg","weekYear"),hS("ggggg","weekYear"),hS("GGGG","isoWeekYear"),hS("GGGGG","isoWeekYear"),Nx("weekYear","gg"),Nx("isoWeekYear","GG"),Dx("weekYear",1),Dx("isoWeekYear",1),uw("G",iw),uw("g",iw),uw("GG",Xx,Gx),uw("gg",Xx,Gx),uw("GGGG",rw,Jx),uw("gggg",rw,Jx),uw("GGGGG",nw,Qx),uw("ggggg",nw,Qx),hw(["gggg","ggggg","GGGG","GGGGG"],(function(e,t,r,n){t[n.substr(0,2)]=Bx(e)})),hw(["gg","GG"],(function(e,t,r,n){t[n]=X_.parseTwoDigitYear(e)})),qx("Q",0,"Qo","quarter"),Nx("quarter","Q"),Dx("quarter",7),uw("Q",Yx),fw("Q",(function(e,t){t[yw]=3*(Bx(e)-1)})),qx("D",["DD",2],"Do","date"),Nx("date","D"),Dx("date",9),uw("D",Xx),uw("DD",Xx,Gx),uw("Do",(function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient})),fw(["D","DD"],bw),fw("Do",(function(e,t){t[bw]=Bx(e.match(Xx)[0])}));var mS=Hx("Date",!0);qx("DDD",["DDDD",3],"DDDo","dayOfYear"),Nx("dayOfYear","DDD"),Dx("dayOfYear",4),uw("DDD",tw),uw("DDDD",Kx),fw(["DDD","DDDD"],(function(e,t,r){r._dayOfYear=Bx(e)})),qx("m",["mm",2],0,"minute"),Nx("minute","m"),Dx("minute",14),uw("m",Xx),uw("mm",Xx,Gx),fw(["m","mm"],xw);var yS=Hx("Minutes",!1);qx("s",["ss",2],0,"second"),Nx("second","s"),Dx("second",15),uw("s",Xx),uw("ss",Xx,Gx),fw(["s","ss"],ww);var bS,_S,xS=Hx("Seconds",!1);for(qx("S",0,0,(function(){return~~(this.millisecond()/100)})),qx(0,["SS",2],0,(function(){return~~(this.millisecond()/10)})),qx(0,["SSS",3],0,"millisecond"),qx(0,["SSSS",4],0,(function(){return 10*this.millisecond()})),qx(0,["SSSSS",5],0,(function(){return 100*this.millisecond()})),qx(0,["SSSSSS",6],0,(function(){return 1e3*this.millisecond()})),qx(0,["SSSSSSS",7],0,(function(){return 1e4*this.millisecond()})),qx(0,["SSSSSSSS",8],0,(function(){return 1e5*this.millisecond()})),qx(0,["SSSSSSSSS",9],0,(function(){return 1e6*this.millisecond()})),Nx("millisecond","ms"),Dx("millisecond",16),uw("S",tw,Yx),uw("SS",tw,Gx),uw("SSS",tw,Kx),bS="SSSS";bS.length<=9;bS+="S")uw(bS,ow);function wS(e,t){t[Ow]=Bx(1e3*("0."+e))}for(bS="S";bS.length<=9;bS+="S")fw(bS,wS);_S=Hx("Milliseconds",!1),qx("z",0,0,"zoneAbbr"),qx("zz",0,0,"zoneName");var OS=gx.prototype;function SS(e){return e}OS.add=QO,OS.calendar=function(e,t){1===arguments.length&&(arguments[0]?eS(arguments[0])?(e=arguments[0],t=void 0):function(e){var t,r=ex(e)&&!rx(e),n=!1,o=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"];for(t=0;t<o.length;t+=1)n=n||tx(e,o[t]);return r&&n}(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var r=e||qO(),n=zO(r,this).startOf("day"),o=X_.calendarFormat(this,n)||"sameElse",i=t&&(wx(t[o])?t[o].call(this,r):t[o]);return this.format(i||this.localeData().calendar(o,this,qO(r)))},OS.clone=function(){return new gx(this)},OS.diff=function(e,t,r){var n,o,i;if(!this.isValid())return NaN;if(!(n=zO(e,this)).isValid())return NaN;switch(o=6e4*(n.utcOffset()-this.utcOffset()),t=Rx(t)){case"year":i=tS(this,n)/12;break;case"month":i=tS(this,n);break;case"quarter":i=tS(this,n)/3;break;case"second":i=(this-n)/1e3;break;case"minute":i=(this-n)/6e4;break;case"hour":i=(this-n)/36e5;break;case"day":i=(this-n-o)/864e5;break;case"week":i=(this-n-o)/6048e5;break;default:i=this-n}return r?i:zx(i)},OS.endOf=function(e){var t,r;if(void 0===(e=Rx(e))||"millisecond"===e||!this.isValid())return this;switch(r=this._isUTC?dS:cS,e){case"year":t=r(this.year()+1,0,1)-1;break;case"quarter":t=r(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=r(this.year(),this.month()+1,1)-1;break;case"week":t=r(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=r(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=r(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=lS-uS(t+(this._isUTC?0:this.utcOffset()*aS),lS)-1;break;case"minute":t=this._d.valueOf(),t+=aS-uS(t,aS)-1;break;case"second":t=this._d.valueOf(),t+=iS-uS(t,iS)-1}return this._d.setTime(t),X_.updateOffset(this,!0),this},OS.format=function(e){e||(e=this.isUtc()?X_.defaultFormatUtc:X_.defaultFormat);var t=Px(this,e);return this.localeData().postformat(t)},OS.from=function(e,t){return this.isValid()&&(vx(e)&&e.isValid()||qO(e).isValid())?$O({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},OS.fromNow=function(e){return this.from(qO(),e)},OS.to=function(e,t){return this.isValid()&&(vx(e)&&e.isValid()||qO(e).isValid())?$O({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},OS.toNow=function(e){return this.to(qO(),e)},OS.get=function(e){return wx(this[e=Rx(e)])?this[e]():this},OS.invalidAt=function(){return ux(this).overflow},OS.isAfter=function(e,t){var r=vx(e)?e:qO(e);return!(!this.isValid()||!r.isValid())&&("millisecond"===(t=Rx(t)||"millisecond")?this.valueOf()>r.valueOf():r.valueOf()<this.clone().startOf(t).valueOf())},OS.isBefore=function(e,t){var r=vx(e)?e:qO(e);return!(!this.isValid()||!r.isValid())&&("millisecond"===(t=Rx(t)||"millisecond")?this.valueOf()<r.valueOf():this.clone().endOf(t).valueOf()<r.valueOf())},OS.isBetween=function(e,t,r,n){var o=vx(e)?e:qO(e),i=vx(t)?t:qO(t);return!!(this.isValid()&&o.isValid()&&i.isValid())&&(("("===(n=n||"()")[0]?this.isAfter(o,r):!this.isBefore(o,r))&&(")"===n[1]?this.isBefore(i,r):!this.isAfter(i,r)))},OS.isSame=function(e,t){var r,n=vx(e)?e:qO(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=Rx(t)||"millisecond")?this.valueOf()===n.valueOf():(r=n.valueOf(),this.clone().startOf(t).valueOf()<=r&&r<=this.clone().endOf(t).valueOf()))},OS.isSameOrAfter=function(e,t){return this.isSame(e,t)||this.isAfter(e,t)},OS.isSameOrBefore=function(e,t){return this.isSame(e,t)||this.isBefore(e,t)},OS.isValid=function(){return cx(this)},OS.lang=nS,OS.locale=rS,OS.localeData=oS,OS.max=PO,OS.min=AO,OS.parsingFlags=function(){return lx({},ux(this))},OS.set=function(e,t){if("object"==typeof e){var r,n=function(e){var t,r=[];for(t in e)tx(e,t)&&r.push({unit:t,priority:Fx[t]});return r.sort((function(e,t){return e.priority-t.priority})),r}(e=Mx(e)),o=n.length;for(r=0;r<o;r++)this[n[r].unit](e[n[r].unit])}else if(wx(this[e=Rx(e)]))return this[e](t);return this},OS.startOf=function(e){var t,r;if(void 0===(e=Rx(e))||"millisecond"===e||!this.isValid())return this;switch(r=this._isUTC?dS:cS,e){case"year":t=r(this.year(),0,1);break;case"quarter":t=r(this.year(),this.month()-this.month()%3,1);break;case"month":t=r(this.year(),this.month(),1);break;case"week":t=r(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=r(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=r(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=uS(t+(this._isUTC?0:this.utcOffset()*aS),lS);break;case"minute":t=this._d.valueOf(),t-=uS(t,aS);break;case"second":t=this._d.valueOf(),t-=uS(t,iS)}return this._d.setTime(t),X_.updateOffset(this,!0),this},OS.subtract=XO,OS.toArray=function(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]},OS.toObject=function(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}},OS.toDate=function(){return new Date(this.valueOf())},OS.toISOString=function(e){if(!this.isValid())return null;var t=!0!==e,r=t?this.clone().utc():this;return r.year()<0||r.year()>9999?Px(r,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):wx(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",Px(r,"Z")):Px(r,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},OS.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e,t,r,n="moment",o="";return this.isLocal()||(n=0===this.utcOffset()?"moment.utc":"moment.parseZone",o="Z"),e="["+n+'("]',t=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY","-MM-DD[T]HH:mm:ss.SSS",r=o+'[")]',this.format(e+t+"-MM-DD[T]HH:mm:ss.SSS"+r)},"undefined"!=typeof Symbol&&null!=Symbol.for&&(OS[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),OS.toJSON=function(){return this.isValid()?this.toISOString():null},OS.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},OS.unix=function(){return Math.floor(this.valueOf()/1e3)},OS.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},OS.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},OS.eraName=function(){var e,t,r,n=this.localeData().eras();for(e=0,t=n.length;e<t;++e){if(r=this.clone().startOf("day").valueOf(),n[e].since<=r&&r<=n[e].until)return n[e].name;if(n[e].until<=r&&r<=n[e].since)return n[e].name}return""},OS.eraNarrow=function(){var e,t,r,n=this.localeData().eras();for(e=0,t=n.length;e<t;++e){if(r=this.clone().startOf("day").valueOf(),n[e].since<=r&&r<=n[e].until)return n[e].narrow;if(n[e].until<=r&&r<=n[e].since)return n[e].narrow}return""},OS.eraAbbr=function(){var e,t,r,n=this.localeData().eras();for(e=0,t=n.length;e<t;++e){if(r=this.clone().startOf("day").valueOf(),n[e].since<=r&&r<=n[e].until)return n[e].abbr;if(n[e].until<=r&&r<=n[e].since)return n[e].abbr}return""},OS.eraYear=function(){var e,t,r,n,o=this.localeData().eras();for(e=0,t=o.length;e<t;++e)if(r=o[e].since<=o[e].until?1:-1,n=this.clone().startOf("day").valueOf(),o[e].since<=n&&n<=o[e].until||o[e].until<=n&&n<=o[e].since)return(this.year()-X_(o[e].since).year())*r+o[e].offset;return this.year()},OS.year=Mw,OS.isLeapYear=function(){return Vx(this.year())},OS.weekYear=function(e){return gS.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},OS.isoWeekYear=function(e){return gS.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)},OS.quarter=OS.quarters=function(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},OS.month=Lw,OS.daysInMonth=function(){return jw(this.year(),this.month())},OS.week=OS.weeks=function(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")},OS.isoWeek=OS.isoWeeks=function(e){var t=Bw(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")},OS.weeksInYear=function(){var e=this.localeData()._week;return Hw(this.year(),e.dow,e.doy)},OS.weeksInWeekYear=function(){var e=this.localeData()._week;return Hw(this.weekYear(),e.dow,e.doy)},OS.isoWeeksInYear=function(){return Hw(this.year(),1,4)},OS.isoWeeksInISOWeekYear=function(){return Hw(this.isoWeekYear(),1,4)},OS.date=mS,OS.day=OS.days=function(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=function(e,t){return"string"!=typeof e?e:isNaN(e)?"number"==typeof(e=t.weekdaysParse(e))?e:null:parseInt(e,10)}(e,this.localeData()),this.add(e-t,"d")):t},OS.weekday=function(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")},OS.isoWeekday=function(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=function(e,t){return"string"==typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7},OS.dayOfYear=function(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")},OS.hour=OS.hours=rO,OS.minute=OS.minutes=yS,OS.second=OS.seconds=xS,OS.millisecond=OS.milliseconds=_S,OS.utcOffset=function(e,t,r){var n,o=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"==typeof e){if(null===(e=VO(lw,e)))return this}else Math.abs(e)<16&&!r&&(e*=60);return!this._isUTC&&t&&(n=BO(this)),this._offset=e,this._isUTC=!0,null!=n&&this.add(n,"m"),o!==e&&(!t||this._changeInProgress?JO(this,$O(e-o,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,X_.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?o:BO(this)},OS.utc=function(e){return this.utcOffset(0,e)},OS.local=function(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(BO(this),"m")),this},OS.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var e=VO(aw,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this},OS.hasAlignedHourOffset=function(e){return!!this.isValid()&&(e=e?qO(e).utcOffset():0,(this.utcOffset()-e)%60==0)},OS.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},OS.isLocal=function(){return!!this.isValid()&&!this._isUTC},OS.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},OS.isUtc=HO,OS.isUTC=HO,OS.zoneAbbr=function(){return this._isUTC?"UTC":""},OS.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},OS.dates=yx("dates accessor is deprecated. Use date instead.",mS),OS.months=yx("months accessor is deprecated. Use month instead",Lw),OS.years=yx("years accessor is deprecated. Use year instead",Mw),OS.zone=yx("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",(function(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()})),OS.isDSTShifted=yx("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",(function(){if(!nx(this._isDSTShifted))return this._isDSTShifted;var e,t={};return hx(t,this),(t=CO(t))._a?(e=t._isUTC?sx(t._a):qO(t._a),this._isDSTShifted=this.isValid()&&function(e,t,r){var n,o=Math.min(e.length,t.length),i=Math.abs(e.length-t.length),a=0;for(n=0;n<o;n++)(r&&e[n]!==t[n]||!r&&Bx(e[n])!==Bx(t[n]))&&a++;return a+i}(t._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}));var kS=Sx.prototype;function jS(e,t,r,n){var o=pO(),i=sx().set(n,t);return o[r](i,e)}function ES(e,t,r){if(ox(e)&&(t=e,e=void 0),e=e||"",null!=t)return jS(e,t,r,"month");var n,o=[];for(n=0;n<12;n++)o[n]=jS(e,n,r,"month");return o}function CS(e,t,r,n){"boolean"==typeof e?(ox(t)&&(r=t,t=void 0),t=t||""):(r=t=e,e=!1,ox(t)&&(r=t,t=void 0),t=t||"");var o,i=pO(),a=e?i._week.dow:0,l=[];if(null!=r)return jS(t,(r+a)%7,n,"day");for(o=0;o<7;o++)l[o]=jS(t,(o+a)%7,n,"day");return l}kS.calendar=function(e,t,r){var n=this._calendar[e]||this._calendar.sameElse;return wx(n)?n.call(t,r):n},kS.longDateFormat=function(e){var t=this._longDateFormat[e],r=this._longDateFormat[e.toUpperCase()];return t||!r?t:(this._longDateFormat[e]=r.match(jx).map((function(e){return"MMMM"===e||"MM"===e||"DD"===e||"dddd"===e?e.slice(1):e})).join(""),this._longDateFormat[e])},kS.invalidDate=function(){return this._invalidDate},kS.ordinal=function(e){return this._ordinal.replace("%d",e)},kS.preparse=SS,kS.postformat=SS,kS.relativeTime=function(e,t,r,n){var o=this._relativeTime[r];return wx(o)?o(e,t,r,n):o.replace(/%d/i,e)},kS.pastFuture=function(e,t){var r=this._relativeTime[e>0?"future":"past"];return wx(r)?r(t):r.replace(/%s/i,t)},kS.set=function(e){var t,r;for(r in e)tx(e,r)&&(wx(t=e[r])?this[r]=t:this["_"+r]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},kS.eras=function(e,t){var r,n,o,i=this._eras||pO("en")._eras;for(r=0,n=i.length;r<n;++r){if("string"==typeof i[r].since)o=X_(i[r].since).startOf("day"),i[r].since=o.valueOf();switch(typeof i[r].until){case"undefined":i[r].until=1/0;break;case"string":o=X_(i[r].until).startOf("day").valueOf(),i[r].until=o.valueOf()}}return i},kS.erasParse=function(e,t,r){var n,o,i,a,l,s=this.eras();for(e=e.toUpperCase(),n=0,o=s.length;n<o;++n)if(i=s[n].name.toUpperCase(),a=s[n].abbr.toUpperCase(),l=s[n].narrow.toUpperCase(),r)switch(t){case"N":case"NN":case"NNN":if(a===e)return s[n];break;case"NNNN":if(i===e)return s[n];break;case"NNNNN":if(l===e)return s[n]}else if([i,a,l].indexOf(e)>=0)return s[n]},kS.erasConvertYear=function(e,t){var r=e.since<=e.until?1:-1;return void 0===t?X_(e.since).year():X_(e.since).year()+(t-e.offset)*r},kS.erasAbbrRegex=function(e){return tx(this,"_erasAbbrRegex")||fS.call(this),e?this._erasAbbrRegex:this._erasRegex},kS.erasNameRegex=function(e){return tx(this,"_erasNameRegex")||fS.call(this),e?this._erasNameRegex:this._erasRegex},kS.erasNarrowRegex=function(e){return tx(this,"_erasNarrowRegex")||fS.call(this),e?this._erasNarrowRegex:this._erasRegex},kS.months=function(e,t){return e?Z_(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||Tw).test(t)?"format":"standalone"][e.month()]:Z_(this._months)?this._months:this._months.standalone},kS.monthsShort=function(e,t){return e?Z_(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[Tw.test(t)?"format":"standalone"][e.month()]:Z_(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},kS.monthsParse=function(e,t,r){var n,o,i;if(this._monthsParseExact)return Pw.call(this,e,t,r);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),n=0;n<12;n++){if(o=sx([2e3,n]),r&&!this._longMonthsParse[n]&&(this._longMonthsParse[n]=new RegExp("^"+this.months(o,"").replace(".","")+"$","i"),this._shortMonthsParse[n]=new RegExp("^"+this.monthsShort(o,"").replace(".","")+"$","i")),r||this._monthsParse[n]||(i="^"+this.months(o,"")+"|^"+this.monthsShort(o,""),this._monthsParse[n]=new RegExp(i.replace(".",""),"i")),r&&"MMMM"===t&&this._longMonthsParse[n].test(e))return n;if(r&&"MMM"===t&&this._shortMonthsParse[n].test(e))return n;if(!r&&this._monthsParse[n].test(e))return n}},kS.monthsRegex=function(e){return this._monthsParseExact?(tx(this,"_monthsRegex")||Nw.call(this),e?this._monthsStrictRegex:this._monthsRegex):(tx(this,"_monthsRegex")||(this._monthsRegex=Aw),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)},kS.monthsShortRegex=function(e){return this._monthsParseExact?(tx(this,"_monthsRegex")||Nw.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(tx(this,"_monthsShortRegex")||(this._monthsShortRegex=qw),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)},kS.week=function(e){return Bw(e,this._week.dow,this._week.doy).week},kS.firstDayOfYear=function(){return this._week.doy},kS.firstDayOfWeek=function(){return this._week.dow},kS.weekdays=function(e,t){var r=Z_(this._weekdays)?this._weekdays:this._weekdays[e&&!0!==e&&this._weekdays.isFormat.test(t)?"format":"standalone"];return!0===e?Ww(r,this._week.dow):e?r[e.day()]:r},kS.weekdaysMin=function(e){return!0===e?Ww(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin},kS.weekdaysShort=function(e){return!0===e?Ww(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort},kS.weekdaysParse=function(e,t,r){var n,o,i;if(this._weekdaysParseExact)return Qw.call(this,e,t,r);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),n=0;n<7;n++){if(o=sx([2e3,1]).day(n),r&&!this._fullWeekdaysParse[n]&&(this._fullWeekdaysParse[n]=new RegExp("^"+this.weekdays(o,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[n]=new RegExp("^"+this.weekdaysShort(o,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[n]=new RegExp("^"+this.weekdaysMin(o,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[n]||(i="^"+this.weekdays(o,"")+"|^"+this.weekdaysShort(o,"")+"|^"+this.weekdaysMin(o,""),this._weekdaysParse[n]=new RegExp(i.replace(".",""),"i")),r&&"dddd"===t&&this._fullWeekdaysParse[n].test(e))return n;if(r&&"ddd"===t&&this._shortWeekdaysParse[n].test(e))return n;if(r&&"dd"===t&&this._minWeekdaysParse[n].test(e))return n;if(!r&&this._weekdaysParse[n].test(e))return n}},kS.weekdaysRegex=function(e){return this._weekdaysParseExact?(tx(this,"_weekdaysRegex")||Xw.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(tx(this,"_weekdaysRegex")||(this._weekdaysRegex=Gw),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)},kS.weekdaysShortRegex=function(e){return this._weekdaysParseExact?(tx(this,"_weekdaysRegex")||Xw.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(tx(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Kw),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},kS.weekdaysMinRegex=function(e){return this._weekdaysParseExact?(tx(this,"_weekdaysRegex")||Xw.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(tx(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Jw),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},kS.isPM=function(e){return"p"===(e+"").toLowerCase().charAt(0)},kS.meridiem=function(e,t,r){return e>11?r?"pm":"PM":r?"am":"AM"},cO("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===Bx(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),X_.lang=yx("moment.lang is deprecated. Use moment.locale instead.",cO),X_.langData=yx("moment.langData is deprecated. Use moment.localeData instead.",pO);var TS=Math.abs;function qS(e,t,r,n){var o=$O(t,r);return e._milliseconds+=n*o._milliseconds,e._days+=n*o._days,e._months+=n*o._months,e._bubble()}function AS(e){return e<0?Math.floor(e):Math.ceil(e)}function PS(e){return 4800*e/146097}function IS(e){return 146097*e/4800}function LS(e){return function(){return this.as(e)}}var NS=LS("ms"),RS=LS("s"),MS=LS("m"),FS=LS("h"),DS=LS("d"),VS=LS("w"),zS=LS("M"),BS=LS("Q"),HS=LS("y");function WS(e){return function(){return this.isValid()?this._data[e]:NaN}}var US=WS("milliseconds"),$S=WS("seconds"),YS=WS("minutes"),GS=WS("hours"),KS=WS("days"),JS=WS("months"),QS=WS("years");var XS=Math.round,ZS={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function ek(e,t,r,n,o){return o.relativeTime(t||1,!!r,e,n)}var tk=Math.abs;function rk(e){return(e>0)-(e<0)||+e}function nk(){if(!this.isValid())return this.localeData().invalidDate();var e,t,r,n,o,i,a,l,s=tk(this._milliseconds)/1e3,u=tk(this._days),c=tk(this._months),d=this.asSeconds();return d?(e=zx(s/60),t=zx(e/60),s%=60,e%=60,r=zx(c/12),c%=12,n=s?s.toFixed(3).replace(/\.?0+$/,""):"",o=d<0?"-":"",i=rk(this._months)!==rk(d)?"-":"",a=rk(this._days)!==rk(d)?"-":"",l=rk(this._milliseconds)!==rk(d)?"-":"",o+"P"+(r?i+r+"Y":"")+(c?i+c+"M":"")+(u?a+u+"D":"")+(t||e||s?"T":"")+(t?l+t+"H":"")+(e?l+e+"M":"")+(s?l+n+"S":"")):"P0D"}var ok=NO.prototype;ok.isValid=function(){return this._isValid},ok.abs=function(){var e=this._data;return this._milliseconds=TS(this._milliseconds),this._days=TS(this._days),this._months=TS(this._months),e.milliseconds=TS(e.milliseconds),e.seconds=TS(e.seconds),e.minutes=TS(e.minutes),e.hours=TS(e.hours),e.months=TS(e.months),e.years=TS(e.years),this},ok.add=function(e,t){return qS(this,e,t,1)},ok.subtract=function(e,t){return qS(this,e,t,-1)},ok.as=function(e){if(!this.isValid())return NaN;var t,r,n=this._milliseconds;if("month"===(e=Rx(e))||"quarter"===e||"year"===e)switch(t=this._days+n/864e5,r=this._months+PS(t),e){case"month":return r;case"quarter":return r/3;case"year":return r/12}else switch(t=this._days+Math.round(IS(this._months)),e){case"week":return t/7+n/6048e5;case"day":return t+n/864e5;case"hour":return 24*t+n/36e5;case"minute":return 1440*t+n/6e4;case"second":return 86400*t+n/1e3;case"millisecond":return Math.floor(864e5*t)+n;default:throw new Error("Unknown unit "+e)}},ok.asMilliseconds=NS,ok.asSeconds=RS,ok.asMinutes=MS,ok.asHours=FS,ok.asDays=DS,ok.asWeeks=VS,ok.asMonths=zS,ok.asQuarters=BS,ok.asYears=HS,ok.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*Bx(this._months/12):NaN},ok._bubble=function(){var e,t,r,n,o,i=this._milliseconds,a=this._days,l=this._months,s=this._data;return i>=0&&a>=0&&l>=0||i<=0&&a<=0&&l<=0||(i+=864e5*AS(IS(l)+a),a=0,l=0),s.milliseconds=i%1e3,e=zx(i/1e3),s.seconds=e%60,t=zx(e/60),s.minutes=t%60,r=zx(t/60),s.hours=r%24,a+=zx(r/24),l+=o=zx(PS(a)),a-=AS(IS(o)),n=zx(l/12),l%=12,s.days=a,s.months=l,s.years=n,this},ok.clone=function(){return $O(this)},ok.get=function(e){return e=Rx(e),this.isValid()?this[e+"s"]():NaN},ok.milliseconds=US,ok.seconds=$S,ok.minutes=YS,ok.hours=GS,ok.days=KS,ok.weeks=function(){return zx(this.days()/7)},ok.months=JS,ok.years=QS,ok.humanize=function(e,t){if(!this.isValid())return this.localeData().invalidDate();var r,n,o=!1,i=ZS;return"object"==typeof e&&(t=e,e=!1),"boolean"==typeof e&&(o=e),"object"==typeof t&&(i=Object.assign({},ZS,t),null!=t.s&&null==t.ss&&(i.ss=t.s-1)),n=function(e,t,r,n){var o=$O(e).abs(),i=XS(o.as("s")),a=XS(o.as("m")),l=XS(o.as("h")),s=XS(o.as("d")),u=XS(o.as("M")),c=XS(o.as("w")),d=XS(o.as("y")),p=i<=r.ss&&["s",i]||i<r.s&&["ss",i]||a<=1&&["m"]||a<r.m&&["mm",a]||l<=1&&["h"]||l<r.h&&["hh",l]||s<=1&&["d"]||s<r.d&&["dd",s];return null!=r.w&&(p=p||c<=1&&["w"]||c<r.w&&["ww",c]),(p=p||u<=1&&["M"]||u<r.M&&["MM",u]||d<=1&&["y"]||["yy",d])[2]=t,p[3]=+e>0,p[4]=n,ek.apply(null,p)}(this,!o,i,r=this.localeData()),o&&(n=r.pastFuture(+this,n)),r.postformat(n)},ok.toISOString=nk,ok.toString=nk,ok.toJSON=nk,ok.locale=rS,ok.localeData=oS,ok.toIsoString=yx("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",nk),ok.lang=nS,qx("X",0,0,"unix"),qx("x",0,0,"valueOf"),uw("x",iw),uw("X",/[+-]?\d+(\.\d{1,3})?/),fw("X",(function(e,t,r){r._d=new Date(1e3*parseFloat(e))})),fw("x",(function(e,t,r){r._d=new Date(Bx(e))})),//! moment.js
X_.version="2.29.4",U_=qO,X_.fn=OS,X_.min=function(){return IO("isBefore",[].slice.call(arguments,0))},X_.max=function(){return IO("isAfter",[].slice.call(arguments,0))},X_.now=function(){return Date.now?Date.now():+new Date},X_.utc=sx,X_.unix=function(e){return qO(1e3*e)},X_.months=function(e,t){return ES(e,t,"months")},X_.isDate=ix,X_.locale=cO,X_.invalid=dx,X_.duration=$O,X_.isMoment=vx,X_.weekdays=function(e,t,r){return CS(e,t,r,"weekdays")},X_.parseZone=function(){return qO.apply(null,arguments).parseZone()},X_.localeData=pO,X_.isDuration=RO,X_.monthsShort=function(e,t){return ES(e,t,"monthsShort")},X_.weekdaysMin=function(e,t,r){return CS(e,t,r,"weekdaysMin")},X_.defineLocale=dO,X_.updateLocale=function(e,t){if(null!=t){var r,n,o=oO;null!=iO[e]&&null!=iO[e].parentLocale?iO[e].set(Ox(iO[e]._config,t)):(null!=(n=uO(e))&&(o=n._config),t=Ox(o,t),null==n&&(t.abbr=e),(r=new Sx(t)).parentLocale=iO[e],iO[e]=r),cO(e)}else null!=iO[e]&&(null!=iO[e].parentLocale?(iO[e]=iO[e].parentLocale,e===cO()&&cO(e)):null!=iO[e]&&delete iO[e]);return iO[e]},X_.locales=function(){return bx(iO)},X_.weekdaysShort=function(e,t,r){return CS(e,t,r,"weekdaysShort")},X_.normalizeUnits=Rx,X_.relativeTimeRounding=function(e){return void 0===e?XS:"function"==typeof e&&(XS=e,!0)},X_.relativeTimeThreshold=function(e,t){return void 0!==ZS[e]&&(void 0===t?ZS[e]:(ZS[e]=t,"s"===e&&(ZS.ss=t-1),!0))},X_.calendarFormat=function(e,t){var r=e.diff(t,"days",!0);return r<-6?"sameElse":r<-1?"lastWeek":r<0?"lastDay":r<1?"sameDay":r<2?"nextDay":r<7?"nextWeek":"sameElse"},X_.prototype=OS,X_.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};const ik={normalDateWithWeekday:"ddd, MMM D",normalDate:"D MMMM",shortDate:"MMM D",monthAndDate:"MMMM D",dayOfMonth:"D",year:"YYYY",month:"MMMM",monthShort:"MMM",monthAndYear:"MMMM YYYY",weekday:"dddd",weekdayShort:"ddd",minutes:"mm",hours12h:"hh",hours24h:"HH",seconds:"ss",fullTime:"LT",fullTime12h:"hh:mm A",fullTime24h:"HH:mm",fullDate:"ll",fullDateWithWeekday:"dddd, LL",fullDateTime:"lll",fullDateTime12h:"ll hh:mm A",fullDateTime24h:"ll HH:mm",keyboardDate:"L",keyboardDateTime:"L LT",keyboardDateTime12h:"L hh:mm A",keyboardDateTime24h:"L HH:mm"};class ak{constructor({locale:e,formats:t,instance:r}={}){this.lib="moment",this.is12HourCycleInCurrentLocale=()=>/A|a/.test(this.moment.localeData(this.getCurrentLocaleCode()).longDateFormat("LT")),this.getFormatHelperText=e=>{var t,r;return null!==(r=null===(t=e.match(/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})|./g))||void 0===t?void 0:t.map((e=>{const t=e[0];return"L"===t||";"===t?this.moment.localeData(this.getCurrentLocaleCode()).longDateFormat(e):e})).join("").replace(/a/gi,"(a|p)m").toLocaleLowerCase())&&void 0!==r?r:e},this.getCurrentLocaleCode=()=>this.locale||this.moment.locale(),this.parseISO=e=>this.moment(e,!0),this.toISO=e=>e.toISOString(),this.parse=(e,t)=>""===e?null:this.locale?this.moment(e,t,this.locale,!0):this.moment(e,t,!0),this.date=e=>{if(null===e)return null;const t=this.moment(e);return this.locale&&t.locale(this.locale),t},this.toJsDate=e=>e.toDate(),this.isValid=e=>this.moment(e).isValid(),this.isNull=e=>null===e,this.getDiff=(e,t,r)=>this.moment(t).isValid()?e.diff(t,r):0,this.isAfter=(e,t)=>e.isAfter(t),this.isBefore=(e,t)=>e.isBefore(t),this.isAfterDay=(e,t)=>e.isAfter(t,"day"),this.isBeforeDay=(e,t)=>e.isBefore(t,"day"),this.isBeforeMonth=(e,t)=>e.isBefore(t,"month"),this.isAfterMonth=(e,t)=>e.isAfter(t,"month"),this.isBeforeYear=(e,t)=>e.isBefore(t,"year"),this.isAfterYear=(e,t)=>e.isAfter(t,"year"),this.startOfDay=e=>e.clone().startOf("day"),this.endOfDay=e=>e.clone().endOf("day"),this.format=(e,t)=>this.formatByString(e,this.formats[t]),this.formatByString=(e,t)=>{const r=e.clone();return this.locale&&r.locale(this.locale),r.format(t)},this.formatNumber=e=>e,this.getHours=e=>e.get("hours"),this.addSeconds=(e,t)=>t<0?e.clone().subtract(Math.abs(t),"seconds"):e.clone().add(t,"seconds"),this.addMinutes=(e,t)=>t<0?e.clone().subtract(Math.abs(t),"minutes"):e.clone().add(t,"minutes"),this.addHours=(e,t)=>t<0?e.clone().subtract(Math.abs(t),"hours"):e.clone().add(t,"hours"),this.addDays=(e,t)=>t<0?e.clone().subtract(Math.abs(t),"days"):e.clone().add(t,"days"),this.addWeeks=(e,t)=>t<0?e.clone().subtract(Math.abs(t),"weeks"):e.clone().add(t,"weeks"),this.addMonths=(e,t)=>t<0?e.clone().subtract(Math.abs(t),"months"):e.clone().add(t,"months"),this.addYears=(e,t)=>t<0?e.clone().subtract(Math.abs(t),"years"):e.clone().add(t,"years"),this.setHours=(e,t)=>e.clone().hours(t),this.getMinutes=e=>e.get("minutes"),this.setMinutes=(e,t)=>e.clone().minutes(t),this.getSeconds=e=>e.get("seconds"),this.setSeconds=(e,t)=>e.clone().seconds(t),this.getMonth=e=>e.get("month"),this.getDaysInMonth=e=>e.daysInMonth(),this.isSameDay=(e,t)=>e.isSame(t,"day"),this.isSameMonth=(e,t)=>e.isSame(t,"month"),this.isSameYear=(e,t)=>e.isSame(t,"year"),this.isSameHour=(e,t)=>e.isSame(t,"hour"),this.setMonth=(e,t)=>e.clone().month(t),this.getMeridiemText=e=>this.is12HourCycleInCurrentLocale()?this.moment.localeData(this.getCurrentLocaleCode()).meridiem("am"===e?0:13,0,!1):"am"===e?"AM":"PM",this.startOfYear=e=>e.clone().startOf("year"),this.endOfYear=e=>e.clone().endOf("year"),this.startOfMonth=e=>e.clone().startOf("month"),this.endOfMonth=e=>e.clone().endOf("month"),this.startOfWeek=e=>e.clone().startOf("week"),this.endOfWeek=e=>e.clone().endOf("week"),this.getNextMonth=e=>e.clone().add(1,"month"),this.getPreviousMonth=e=>e.clone().subtract(1,"month"),this.getMonthArray=e=>{const t=[e.clone().startOf("year")];for(;t.length<12;){const e=t[t.length-1];t.push(this.getNextMonth(e))}return t},this.getYear=e=>e.get("year"),this.setYear=(e,t)=>e.clone().set("year",t),this.getDate=e=>e.get("date"),this.setDate=(e,t)=>e.clone().set("date",t),this.mergeDateAndTime=(e,t)=>e.hour(t.hour()).minute(t.minute()).second(t.second()),this.getWeekdays=()=>this.moment.weekdaysShort(!0),this.isEqual=(e,t)=>null===e&&null===t||this.moment(e).isSame(t),this.getWeekArray=e=>{const t=e.clone().startOf("month").startOf("week"),r=e.clone().endOf("month").endOf("week");let n=0,o=t;const i=[];for(;o.isBefore(r);){const e=Math.floor(n/7);i[e]=i[e]||[],i[e].push(o),o=o.clone().add(1,"day"),n+=1}return i},this.getYearRange=(e,t)=>{const r=this.moment(e).startOf("year"),n=this.moment(t).endOf("year"),o=[];let i=r;for(;i.isBefore(n);)o.push(i),i=i.clone().add(1,"year");return o},this.isWithinRange=(e,[t,r])=>e.isBetween(t,r,null,"[]"),this.moment=r||X_,this.locale=e,this.formats=Object.assign({},ik,t)}}function lk(e){return function(e){if(Array.isArray(e))return D(e)}(e)||V(e)||z(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var sk={exports:{}};!function(e,t){e.exports=function(){var e=Array.prototype.slice;function t(e,t){t&&(e.prototype=Object.create(t.prototype)),e.prototype.constructor=e}function r(e){return a(e)?e:Y(e)}function n(e){return l(e)?e:G(e)}function o(e){return s(e)?e:K(e)}function i(e){return a(e)&&!u(e)?e:J(e)}function a(e){return!(!e||!e[d])}function l(e){return!(!e||!e[p])}function s(e){return!(!e||!e[f])}function u(e){return l(e)||s(e)}function c(e){return!(!e||!e[h])}t(n,r),t(o,r),t(i,r),r.isIterable=a,r.isKeyed=l,r.isIndexed=s,r.isAssociative=u,r.isOrdered=c,r.Keyed=n,r.Indexed=o,r.Set=i;var d="@@__IMMUTABLE_ITERABLE__@@",p="@@__IMMUTABLE_KEYED__@@",f="@@__IMMUTABLE_INDEXED__@@",h="@@__IMMUTABLE_ORDERED__@@",g="delete",v=5,m=1<<v,y=m-1,b={},_={value:!1},x={value:!1};function w(e){return e.value=!1,e}function O(e){e&&(e.value=!0)}function S(){}function k(e,t){t=t||0;for(var r=Math.max(0,e.length-t),n=new Array(r),o=0;o<r;o++)n[o]=e[o+t];return n}function j(e){return void 0===e.size&&(e.size=e.__iterate(C)),e.size}function E(e,t){if("number"!=typeof t){var r=t>>>0;if(""+r!==t||4294967295===r)return NaN;t=r}return t<0?j(e)+t:t}function C(){return!0}function T(e,t,r){return(0===e||void 0!==r&&e<=-r)&&(void 0===t||void 0!==r&&t>=r)}function q(e,t){return P(e,t,0)}function A(e,t){return P(e,t,t)}function P(e,t,r){return void 0===e?r:e<0?Math.max(0,t+e):void 0===t?e:Math.min(t,e)}var I=0,L=1,N=2,R="function"==typeof Symbol&&Symbol.iterator,M="@@iterator",F=R||M;function D(e){this.next=e}function V(e,t,r,n){var o=0===e?t:1===e?r:[t,r];return n?n.value=o:n={value:o,done:!1},n}function z(){return{value:void 0,done:!0}}function B(e){return!!U(e)}function H(e){return e&&"function"==typeof e.next}function W(e){var t=U(e);return t&&t.call(e)}function U(e){var t=e&&(R&&e[R]||e[M]);if("function"==typeof t)return t}function $(e){return e&&"number"==typeof e.length}function Y(e){return null==e?ae():a(e)?e.toSeq():ue(e)}function G(e){return null==e?ae().toKeyedSeq():a(e)?l(e)?e.toSeq():e.fromEntrySeq():le(e)}function K(e){return null==e?ae():a(e)?l(e)?e.entrySeq():e.toIndexedSeq():se(e)}function J(e){return(null==e?ae():a(e)?l(e)?e.entrySeq():e:se(e)).toSetSeq()}D.prototype.toString=function(){return"[Iterator]"},D.KEYS=I,D.VALUES=L,D.ENTRIES=N,D.prototype.inspect=D.prototype.toSource=function(){return this.toString()},D.prototype[F]=function(){return this},t(Y,r),Y.of=function(){return Y(arguments)},Y.prototype.toSeq=function(){return this},Y.prototype.toString=function(){return this.__toString("Seq {","}")},Y.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},Y.prototype.__iterate=function(e,t){return de(this,e,t,!0)},Y.prototype.__iterator=function(e,t){return pe(this,e,t,!0)},t(G,Y),G.prototype.toKeyedSeq=function(){return this},t(K,Y),K.of=function(){return K(arguments)},K.prototype.toIndexedSeq=function(){return this},K.prototype.toString=function(){return this.__toString("Seq [","]")},K.prototype.__iterate=function(e,t){return de(this,e,t,!1)},K.prototype.__iterator=function(e,t){return pe(this,e,t,!1)},t(J,Y),J.of=function(){return J(arguments)},J.prototype.toSetSeq=function(){return this},Y.isSeq=ie,Y.Keyed=G,Y.Set=J,Y.Indexed=K;var Q,X,Z,ee="@@__IMMUTABLE_SEQ__@@";function te(e){this._array=e,this.size=e.length}function re(e){var t=Object.keys(e);this._object=e,this._keys=t,this.size=t.length}function ne(e){this._iterable=e,this.size=e.length||e.size}function oe(e){this._iterator=e,this._iteratorCache=[]}function ie(e){return!(!e||!e[ee])}function ae(){return Q||(Q=new te([]))}function le(e){var t=Array.isArray(e)?new te(e).fromEntrySeq():H(e)?new oe(e).fromEntrySeq():B(e)?new ne(e).fromEntrySeq():"object"==typeof e?new re(e):void 0;if(!t)throw new TypeError("Expected Array or iterable object of [k, v] entries, or keyed object: "+e);return t}function se(e){var t=ce(e);if(!t)throw new TypeError("Expected Array or iterable object of values: "+e);return t}function ue(e){var t=ce(e)||"object"==typeof e&&new re(e);if(!t)throw new TypeError("Expected Array or iterable object of values, or keyed object: "+e);return t}function ce(e){return $(e)?new te(e):H(e)?new oe(e):B(e)?new ne(e):void 0}function de(e,t,r,n){var o=e._cache;if(o){for(var i=o.length-1,a=0;a<=i;a++){var l=o[r?i-a:a];if(!1===t(l[1],n?l[0]:a,e))return a+1}return a}return e.__iterateUncached(t,r)}function pe(e,t,r,n){var o=e._cache;if(o){var i=o.length-1,a=0;return new D((function(){var e=o[r?i-a:a];return a++>i?z():V(t,n?e[0]:a-1,e[1])}))}return e.__iteratorUncached(t,r)}function fe(e,t){return t?he(t,e,"",{"":e}):ge(e)}function he(e,t,r,n){return Array.isArray(t)?e.call(n,r,K(t).map((function(r,n){return he(e,r,n,t)}))):ve(t)?e.call(n,r,G(t).map((function(r,n){return he(e,r,n,t)}))):t}function ge(e){return Array.isArray(e)?K(e).map(ge).toList():ve(e)?G(e).map(ge).toMap():e}function ve(e){return e&&(e.constructor===Object||void 0===e.constructor)}function me(e,t){if(e===t||e!=e&&t!=t)return!0;if(!e||!t)return!1;if("function"==typeof e.valueOf&&"function"==typeof t.valueOf){if((e=e.valueOf())===(t=t.valueOf())||e!=e&&t!=t)return!0;if(!e||!t)return!1}return!("function"!=typeof e.equals||"function"!=typeof t.equals||!e.equals(t))}function ye(e,t){if(e===t)return!0;if(!a(t)||void 0!==e.size&&void 0!==t.size&&e.size!==t.size||void 0!==e.__hash&&void 0!==t.__hash&&e.__hash!==t.__hash||l(e)!==l(t)||s(e)!==s(t)||c(e)!==c(t))return!1;if(0===e.size&&0===t.size)return!0;var r=!u(e);if(c(e)){var n=e.entries();return t.every((function(e,t){var o=n.next().value;return o&&me(o[1],e)&&(r||me(o[0],t))}))&&n.next().done}var o=!1;if(void 0===e.size)if(void 0===t.size)"function"==typeof e.cacheResult&&e.cacheResult();else{o=!0;var i=e;e=t,t=i}var d=!0,p=t.__iterate((function(t,n){if(r?!e.has(t):o?!me(t,e.get(n,b)):!me(e.get(n,b),t))return d=!1,!1}));return d&&e.size===p}function be(e,t){if(!(this instanceof be))return new be(e,t);if(this._value=e,this.size=void 0===t?1/0:Math.max(0,t),0===this.size){if(X)return X;X=this}}function _e(e,t){if(!e)throw new Error(t)}function xe(e,t,r){if(!(this instanceof xe))return new xe(e,t,r);if(_e(0!==r,"Cannot step a Range by 0"),e=e||0,void 0===t&&(t=1/0),r=void 0===r?1:Math.abs(r),t<e&&(r=-r),this._start=e,this._end=t,this._step=r,this.size=Math.max(0,Math.ceil((t-e)/r-1)+1),0===this.size){if(Z)return Z;Z=this}}function we(){throw TypeError("Abstract")}function Oe(){}function Se(){}function ke(){}Y.prototype[ee]=!0,t(te,K),te.prototype.get=function(e,t){return this.has(e)?this._array[E(this,e)]:t},te.prototype.__iterate=function(e,t){for(var r=this._array,n=r.length-1,o=0;o<=n;o++)if(!1===e(r[t?n-o:o],o,this))return o+1;return o},te.prototype.__iterator=function(e,t){var r=this._array,n=r.length-1,o=0;return new D((function(){return o>n?z():V(e,o,r[t?n-o++:o++])}))},t(re,G),re.prototype.get=function(e,t){return void 0===t||this.has(e)?this._object[e]:t},re.prototype.has=function(e){return this._object.hasOwnProperty(e)},re.prototype.__iterate=function(e,t){for(var r=this._object,n=this._keys,o=n.length-1,i=0;i<=o;i++){var a=n[t?o-i:i];if(!1===e(r[a],a,this))return i+1}return i},re.prototype.__iterator=function(e,t){var r=this._object,n=this._keys,o=n.length-1,i=0;return new D((function(){var a=n[t?o-i:i];return i++>o?z():V(e,a,r[a])}))},re.prototype[h]=!0,t(ne,K),ne.prototype.__iterateUncached=function(e,t){if(t)return this.cacheResult().__iterate(e,t);var r=W(this._iterable),n=0;if(H(r))for(var o;!(o=r.next()).done&&!1!==e(o.value,n++,this););return n},ne.prototype.__iteratorUncached=function(e,t){if(t)return this.cacheResult().__iterator(e,t);var r=W(this._iterable);if(!H(r))return new D(z);var n=0;return new D((function(){var t=r.next();return t.done?t:V(e,n++,t.value)}))},t(oe,K),oe.prototype.__iterateUncached=function(e,t){if(t)return this.cacheResult().__iterate(e,t);for(var r,n=this._iterator,o=this._iteratorCache,i=0;i<o.length;)if(!1===e(o[i],i++,this))return i;for(;!(r=n.next()).done;){var a=r.value;if(o[i]=a,!1===e(a,i++,this))break}return i},oe.prototype.__iteratorUncached=function(e,t){if(t)return this.cacheResult().__iterator(e,t);var r=this._iterator,n=this._iteratorCache,o=0;return new D((function(){if(o>=n.length){var t=r.next();if(t.done)return t;n[o]=t.value}return V(e,o,n[o++])}))},t(be,K),be.prototype.toString=function(){return 0===this.size?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},be.prototype.get=function(e,t){return this.has(e)?this._value:t},be.prototype.includes=function(e){return me(this._value,e)},be.prototype.slice=function(e,t){var r=this.size;return T(e,t,r)?this:new be(this._value,A(t,r)-q(e,r))},be.prototype.reverse=function(){return this},be.prototype.indexOf=function(e){return me(this._value,e)?0:-1},be.prototype.lastIndexOf=function(e){return me(this._value,e)?this.size:-1},be.prototype.__iterate=function(e,t){for(var r=0;r<this.size;r++)if(!1===e(this._value,r,this))return r+1;return r},be.prototype.__iterator=function(e,t){var r=this,n=0;return new D((function(){return n<r.size?V(e,n++,r._value):z()}))},be.prototype.equals=function(e){return e instanceof be?me(this._value,e._value):ye(e)},t(xe,K),xe.prototype.toString=function(){return 0===this.size?"Range []":"Range [ "+this._start+"..."+this._end+(1!==this._step?" by "+this._step:"")+" ]"},xe.prototype.get=function(e,t){return this.has(e)?this._start+E(this,e)*this._step:t},xe.prototype.includes=function(e){var t=(e-this._start)/this._step;return t>=0&&t<this.size&&t===Math.floor(t)},xe.prototype.slice=function(e,t){return T(e,t,this.size)?this:(e=q(e,this.size),(t=A(t,this.size))<=e?new xe(0,0):new xe(this.get(e,this._end),this.get(t,this._end),this._step))},xe.prototype.indexOf=function(e){var t=e-this._start;if(t%this._step==0){var r=t/this._step;if(r>=0&&r<this.size)return r}return-1},xe.prototype.lastIndexOf=function(e){return this.indexOf(e)},xe.prototype.__iterate=function(e,t){for(var r=this.size-1,n=this._step,o=t?this._start+r*n:this._start,i=0;i<=r;i++){if(!1===e(o,i,this))return i+1;o+=t?-n:n}return i},xe.prototype.__iterator=function(e,t){var r=this.size-1,n=this._step,o=t?this._start+r*n:this._start,i=0;return new D((function(){var a=o;return o+=t?-n:n,i>r?z():V(e,i++,a)}))},xe.prototype.equals=function(e){return e instanceof xe?this._start===e._start&&this._end===e._end&&this._step===e._step:ye(this,e)},t(we,r),t(Oe,we),t(Se,we),t(ke,we),we.Keyed=Oe,we.Indexed=Se,we.Set=ke;var je="function"==typeof Math.imul&&-2===Math.imul(4294967295,2)?Math.imul:function(e,t){var r=65535&(e|=0),n=65535&(t|=0);return r*n+((e>>>16)*n+r*(t>>>16)<<16>>>0)|0};function Ee(e){return e>>>1&1073741824|3221225471&e}function Ce(e){if(!1===e||null==e)return 0;if("function"==typeof e.valueOf&&(!1===(e=e.valueOf())||null==e))return 0;if(!0===e)return 1;var t=typeof e;if("number"===t){if(e!=e||e===1/0)return 0;var r=0|e;for(r!==e&&(r^=4294967295*e);e>4294967295;)r^=e/=4294967295;return Ee(r)}if("string"===t)return e.length>De?Te(e):qe(e);if("function"==typeof e.hashCode)return e.hashCode();if("object"===t)return Ae(e);if("function"==typeof e.toString)return qe(e.toString());throw new Error("Value type "+t+" cannot be hashed.")}function Te(e){var t=Be[e];return void 0===t&&(t=qe(e),ze===Ve&&(ze=0,Be={}),ze++,Be[e]=t),t}function qe(e){for(var t=0,r=0;r<e.length;r++)t=31*t+e.charCodeAt(r)|0;return Ee(t)}function Ae(e){var t;if(Re&&void 0!==(t=Ne.get(e)))return t;if(void 0!==(t=e[Fe]))return t;if(!Ie){if(void 0!==(t=e.propertyIsEnumerable&&e.propertyIsEnumerable[Fe]))return t;if(void 0!==(t=Le(e)))return t}if(t=++Me,1073741824&Me&&(Me=0),Re)Ne.set(e,t);else{if(void 0!==Pe&&!1===Pe(e))throw new Error("Non-extensible objects are not allowed as keys.");if(Ie)Object.defineProperty(e,Fe,{enumerable:!1,configurable:!1,writable:!1,value:t});else if(void 0!==e.propertyIsEnumerable&&e.propertyIsEnumerable===e.constructor.prototype.propertyIsEnumerable)e.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},e.propertyIsEnumerable[Fe]=t;else{if(void 0===e.nodeType)throw new Error("Unable to set a non-enumerable property on object.");e[Fe]=t}}return t}var Pe=Object.isExtensible,Ie=function(){try{return Object.defineProperty({},"@",{}),!0}catch(lF){return!1}}();function Le(e){if(e&&e.nodeType>0)switch(e.nodeType){case 1:return e.uniqueID;case 9:return e.documentElement&&e.documentElement.uniqueID}}var Ne,Re="function"==typeof WeakMap;Re&&(Ne=new WeakMap);var Me=0,Fe="__immutablehash__";"function"==typeof Symbol&&(Fe=Symbol(Fe));var De=16,Ve=255,ze=0,Be={};function He(e){_e(e!==1/0,"Cannot perform this action with an infinite size.")}function We(e){return null==e?ot():Ue(e)&&!c(e)?e:ot().withMutations((function(t){var r=n(e);He(r.size),r.forEach((function(e,r){return t.set(r,e)}))}))}function Ue(e){return!(!e||!e[Ye])}t(We,Oe),We.of=function(){var t=e.call(arguments,0);return ot().withMutations((function(e){for(var r=0;r<t.length;r+=2){if(r+1>=t.length)throw new Error("Missing value for key: "+t[r]);e.set(t[r],t[r+1])}}))},We.prototype.toString=function(){return this.__toString("Map {","}")},We.prototype.get=function(e,t){return this._root?this._root.get(0,void 0,e,t):t},We.prototype.set=function(e,t){return it(this,e,t)},We.prototype.setIn=function(e,t){return this.updateIn(e,b,(function(){return t}))},We.prototype.remove=function(e){return it(this,e,b)},We.prototype.deleteIn=function(e){return this.updateIn(e,(function(){return b}))},We.prototype.update=function(e,t,r){return 1===arguments.length?e(this):this.updateIn([e],t,r)},We.prototype.updateIn=function(e,t,r){r||(r=t,t=void 0);var n=vt(this,xr(e),t,r);return n===b?void 0:n},We.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):ot()},We.prototype.merge=function(){return pt(this,void 0,arguments)},We.prototype.mergeWith=function(t){return pt(this,t,e.call(arguments,1))},We.prototype.mergeIn=function(t){var r=e.call(arguments,1);return this.updateIn(t,ot(),(function(e){return"function"==typeof e.merge?e.merge.apply(e,r):r[r.length-1]}))},We.prototype.mergeDeep=function(){return pt(this,ft,arguments)},We.prototype.mergeDeepWith=function(t){var r=e.call(arguments,1);return pt(this,ht(t),r)},We.prototype.mergeDeepIn=function(t){var r=e.call(arguments,1);return this.updateIn(t,ot(),(function(e){return"function"==typeof e.mergeDeep?e.mergeDeep.apply(e,r):r[r.length-1]}))},We.prototype.sort=function(e){return Bt(cr(this,e))},We.prototype.sortBy=function(e,t){return Bt(cr(this,t,e))},We.prototype.withMutations=function(e){var t=this.asMutable();return e(t),t.wasAltered()?t.__ensureOwner(this.__ownerID):this},We.prototype.asMutable=function(){return this.__ownerID?this:this.__ensureOwner(new S)},We.prototype.asImmutable=function(){return this.__ensureOwner()},We.prototype.wasAltered=function(){return this.__altered},We.prototype.__iterator=function(e,t){return new et(this,e,t)},We.prototype.__iterate=function(e,t){var r=this,n=0;return this._root&&this._root.iterate((function(t){return n++,e(t[1],t[0],r)}),t),n},We.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?nt(this.size,this._root,e,this.__hash):(this.__ownerID=e,this.__altered=!1,this)},We.isMap=Ue;var $e,Ye="@@__IMMUTABLE_MAP__@@",Ge=We.prototype;function Ke(e,t){this.ownerID=e,this.entries=t}function Je(e,t,r){this.ownerID=e,this.bitmap=t,this.nodes=r}function Qe(e,t,r){this.ownerID=e,this.count=t,this.nodes=r}function Xe(e,t,r){this.ownerID=e,this.keyHash=t,this.entries=r}function Ze(e,t,r){this.ownerID=e,this.keyHash=t,this.entry=r}function et(e,t,r){this._type=t,this._reverse=r,this._stack=e._root&&rt(e._root)}function tt(e,t){return V(e,t[0],t[1])}function rt(e,t){return{node:e,index:0,__prev:t}}function nt(e,t,r,n){var o=Object.create(Ge);return o.size=e,o._root=t,o.__ownerID=r,o.__hash=n,o.__altered=!1,o}function ot(){return $e||($e=nt(0))}function it(e,t,r){var n,o;if(e._root){var i=w(_),a=w(x);if(n=at(e._root,e.__ownerID,0,void 0,t,r,i,a),!a.value)return e;o=e.size+(i.value?r===b?-1:1:0)}else{if(r===b)return e;o=1,n=new Ke(e.__ownerID,[[t,r]])}return e.__ownerID?(e.size=o,e._root=n,e.__hash=void 0,e.__altered=!0,e):n?nt(o,n):ot()}function at(e,t,r,n,o,i,a,l){return e?e.update(t,r,n,o,i,a,l):i===b?e:(O(l),O(a),new Ze(t,n,[o,i]))}function lt(e){return e.constructor===Ze||e.constructor===Xe}function st(e,t,r,n,o){if(e.keyHash===n)return new Xe(t,n,[e.entry,o]);var i,a=(0===r?e.keyHash:e.keyHash>>>r)&y,l=(0===r?n:n>>>r)&y;return new Je(t,1<<a|1<<l,a===l?[st(e,t,r+v,n,o)]:(i=new Ze(t,n,o),a<l?[e,i]:[i,e]))}function ut(e,t,r,n){e||(e=new S);for(var o=new Ze(e,Ce(r),[r,n]),i=0;i<t.length;i++){var a=t[i];o=o.update(e,0,void 0,a[0],a[1])}return o}function ct(e,t,r,n){for(var o=0,i=0,a=new Array(r),l=0,s=1,u=t.length;l<u;l++,s<<=1){var c=t[l];void 0!==c&&l!==n&&(o|=s,a[i++]=c)}return new Je(e,o,a)}function dt(e,t,r,n,o){for(var i=0,a=new Array(m),l=0;0!==r;l++,r>>>=1)a[l]=1&r?t[i++]:void 0;return a[n]=o,new Qe(e,i+1,a)}function pt(e,t,r){for(var o=[],i=0;i<r.length;i++){var l=r[i],s=n(l);a(l)||(s=s.map((function(e){return fe(e)}))),o.push(s)}return gt(e,t,o)}function ft(e,t,r){return e&&e.mergeDeep&&a(t)?e.mergeDeep(t):me(e,t)?e:t}function ht(e){return function(t,r,n){if(t&&t.mergeDeepWith&&a(r))return t.mergeDeepWith(e,r);var o=e(t,r,n);return me(t,o)?t:o}}function gt(e,t,r){return r=r.filter((function(e){return 0!==e.size})),0===r.length?e:0!==e.size||e.__ownerID||1!==r.length?e.withMutations((function(e){for(var n=t?function(r,n){e.update(n,b,(function(e){return e===b?r:t(e,r,n)}))}:function(t,r){e.set(r,t)},o=0;o<r.length;o++)r[o].forEach(n)})):e.constructor(r[0])}function vt(e,t,r,n){var o=e===b,i=t.next();if(i.done){var a=o?r:e,l=n(a);return l===a?e:l}_e(o||e&&e.set,"invalid keyPath");var s=i.value,u=o?b:e.get(s,b),c=vt(u,t,r,n);return c===u?e:c===b?e.remove(s):(o?ot():e).set(s,c)}function mt(e){return e=(e=(858993459&(e-=e>>1&1431655765))+(e>>2&858993459))+(e>>4)&252645135,e+=e>>8,127&(e+=e>>16)}function yt(e,t,r,n){var o=n?e:k(e);return o[t]=r,o}function bt(e,t,r,n){var o=e.length+1;if(n&&t+1===o)return e[t]=r,e;for(var i=new Array(o),a=0,l=0;l<o;l++)l===t?(i[l]=r,a=-1):i[l]=e[l+a];return i}function _t(e,t,r){var n=e.length-1;if(r&&t===n)return e.pop(),e;for(var o=new Array(n),i=0,a=0;a<n;a++)a===t&&(i=1),o[a]=e[a+i];return o}Ge[Ye]=!0,Ge[g]=Ge.remove,Ge.removeIn=Ge.deleteIn,Ke.prototype.get=function(e,t,r,n){for(var o=this.entries,i=0,a=o.length;i<a;i++)if(me(r,o[i][0]))return o[i][1];return n},Ke.prototype.update=function(e,t,r,n,o,i,a){for(var l=o===b,s=this.entries,u=0,c=s.length;u<c&&!me(n,s[u][0]);u++);var d=u<c;if(d?s[u][1]===o:l)return this;if(O(a),(l||!d)&&O(i),!l||1!==s.length){if(!d&&!l&&s.length>=xt)return ut(e,s,n,o);var p=e&&e===this.ownerID,f=p?s:k(s);return d?l?u===c-1?f.pop():f[u]=f.pop():f[u]=[n,o]:f.push([n,o]),p?(this.entries=f,this):new Ke(e,f)}},Je.prototype.get=function(e,t,r,n){void 0===t&&(t=Ce(r));var o=1<<((0===e?t:t>>>e)&y),i=this.bitmap;return 0==(i&o)?n:this.nodes[mt(i&o-1)].get(e+v,t,r,n)},Je.prototype.update=function(e,t,r,n,o,i,a){void 0===r&&(r=Ce(n));var l=(0===t?r:r>>>t)&y,s=1<<l,u=this.bitmap,c=0!=(u&s);if(!c&&o===b)return this;var d=mt(u&s-1),p=this.nodes,f=c?p[d]:void 0,h=at(f,e,t+v,r,n,o,i,a);if(h===f)return this;if(!c&&h&&p.length>=wt)return dt(e,p,u,l,h);if(c&&!h&&2===p.length&&lt(p[1^d]))return p[1^d];if(c&&h&&1===p.length&&lt(h))return h;var g=e&&e===this.ownerID,m=c?h?u:u^s:u|s,_=c?h?yt(p,d,h,g):_t(p,d,g):bt(p,d,h,g);return g?(this.bitmap=m,this.nodes=_,this):new Je(e,m,_)},Qe.prototype.get=function(e,t,r,n){void 0===t&&(t=Ce(r));var o=(0===e?t:t>>>e)&y,i=this.nodes[o];return i?i.get(e+v,t,r,n):n},Qe.prototype.update=function(e,t,r,n,o,i,a){void 0===r&&(r=Ce(n));var l=(0===t?r:r>>>t)&y,s=o===b,u=this.nodes,c=u[l];if(s&&!c)return this;var d=at(c,e,t+v,r,n,o,i,a);if(d===c)return this;var p=this.count;if(c){if(!d&&--p<Ot)return ct(e,u,p,l)}else p++;var f=e&&e===this.ownerID,h=yt(u,l,d,f);return f?(this.count=p,this.nodes=h,this):new Qe(e,p,h)},Xe.prototype.get=function(e,t,r,n){for(var o=this.entries,i=0,a=o.length;i<a;i++)if(me(r,o[i][0]))return o[i][1];return n},Xe.prototype.update=function(e,t,r,n,o,i,a){void 0===r&&(r=Ce(n));var l=o===b;if(r!==this.keyHash)return l?this:(O(a),O(i),st(this,e,t,r,[n,o]));for(var s=this.entries,u=0,c=s.length;u<c&&!me(n,s[u][0]);u++);var d=u<c;if(d?s[u][1]===o:l)return this;if(O(a),(l||!d)&&O(i),l&&2===c)return new Ze(e,this.keyHash,s[1^u]);var p=e&&e===this.ownerID,f=p?s:k(s);return d?l?u===c-1?f.pop():f[u]=f.pop():f[u]=[n,o]:f.push([n,o]),p?(this.entries=f,this):new Xe(e,this.keyHash,f)},Ze.prototype.get=function(e,t,r,n){return me(r,this.entry[0])?this.entry[1]:n},Ze.prototype.update=function(e,t,r,n,o,i,a){var l=o===b,s=me(n,this.entry[0]);return(s?o===this.entry[1]:l)?this:(O(a),l?void O(i):s?e&&e===this.ownerID?(this.entry[1]=o,this):new Ze(e,this.keyHash,[n,o]):(O(i),st(this,e,t,Ce(n),[n,o])))},Ke.prototype.iterate=Xe.prototype.iterate=function(e,t){for(var r=this.entries,n=0,o=r.length-1;n<=o;n++)if(!1===e(r[t?o-n:n]))return!1},Je.prototype.iterate=Qe.prototype.iterate=function(e,t){for(var r=this.nodes,n=0,o=r.length-1;n<=o;n++){var i=r[t?o-n:n];if(i&&!1===i.iterate(e,t))return!1}},Ze.prototype.iterate=function(e,t){return e(this.entry)},t(et,D),et.prototype.next=function(){for(var e=this._type,t=this._stack;t;){var r,n=t.node,o=t.index++;if(n.entry){if(0===o)return tt(e,n.entry)}else if(n.entries){if(o<=(r=n.entries.length-1))return tt(e,n.entries[this._reverse?r-o:o])}else if(o<=(r=n.nodes.length-1)){var i=n.nodes[this._reverse?r-o:o];if(i){if(i.entry)return tt(e,i.entry);t=this._stack=rt(i,t)}continue}t=this._stack=this._stack.__prev}return z()};var xt=m/4,wt=m/2,Ot=m/4;function St(e){var t=Lt();if(null==e)return t;if(kt(e))return e;var r=o(e),n=r.size;return 0===n?t:(He(n),n>0&&n<m?It(0,n,v,null,new Ct(r.toArray())):t.withMutations((function(e){e.setSize(n),r.forEach((function(t,r){return e.set(r,t)}))})))}function kt(e){return!(!e||!e[jt])}t(St,Se),St.of=function(){return this(arguments)},St.prototype.toString=function(){return this.__toString("List [","]")},St.prototype.get=function(e,t){if((e=E(this,e))>=0&&e<this.size){var r=Ft(this,e+=this._origin);return r&&r.array[e&y]}return t},St.prototype.set=function(e,t){return Nt(this,e,t)},St.prototype.remove=function(e){return this.has(e)?0===e?this.shift():e===this.size-1?this.pop():this.splice(e,1):this},St.prototype.insert=function(e,t){return this.splice(e,0,t)},St.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=v,this._root=this._tail=null,this.__hash=void 0,this.__altered=!0,this):Lt()},St.prototype.push=function(){var e=arguments,t=this.size;return this.withMutations((function(r){Dt(r,0,t+e.length);for(var n=0;n<e.length;n++)r.set(t+n,e[n])}))},St.prototype.pop=function(){return Dt(this,0,-1)},St.prototype.unshift=function(){var e=arguments;return this.withMutations((function(t){Dt(t,-e.length);for(var r=0;r<e.length;r++)t.set(r,e[r])}))},St.prototype.shift=function(){return Dt(this,1)},St.prototype.merge=function(){return Vt(this,void 0,arguments)},St.prototype.mergeWith=function(t){return Vt(this,t,e.call(arguments,1))},St.prototype.mergeDeep=function(){return Vt(this,ft,arguments)},St.prototype.mergeDeepWith=function(t){var r=e.call(arguments,1);return Vt(this,ht(t),r)},St.prototype.setSize=function(e){return Dt(this,0,e)},St.prototype.slice=function(e,t){var r=this.size;return T(e,t,r)?this:Dt(this,q(e,r),A(t,r))},St.prototype.__iterator=function(e,t){var r=0,n=Pt(this,t);return new D((function(){var t=n();return t===At?z():V(e,r++,t)}))},St.prototype.__iterate=function(e,t){for(var r,n=0,o=Pt(this,t);(r=o())!==At&&!1!==e(r,n++,this););return n},St.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?It(this._origin,this._capacity,this._level,this._root,this._tail,e,this.__hash):(this.__ownerID=e,this)},St.isList=kt;var jt="@@__IMMUTABLE_LIST__@@",Et=St.prototype;function Ct(e,t){this.array=e,this.ownerID=t}Et[jt]=!0,Et[g]=Et.remove,Et.setIn=Ge.setIn,Et.deleteIn=Et.removeIn=Ge.removeIn,Et.update=Ge.update,Et.updateIn=Ge.updateIn,Et.mergeIn=Ge.mergeIn,Et.mergeDeepIn=Ge.mergeDeepIn,Et.withMutations=Ge.withMutations,Et.asMutable=Ge.asMutable,Et.asImmutable=Ge.asImmutable,Et.wasAltered=Ge.wasAltered,Ct.prototype.removeBefore=function(e,t,r){if(r===t?1<<t:0===this.array.length)return this;var n=r>>>t&y;if(n>=this.array.length)return new Ct([],e);var o,i=0===n;if(t>0){var a=this.array[n];if((o=a&&a.removeBefore(e,t-v,r))===a&&i)return this}if(i&&!o)return this;var l=Mt(this,e);if(!i)for(var s=0;s<n;s++)l.array[s]=void 0;return o&&(l.array[n]=o),l},Ct.prototype.removeAfter=function(e,t,r){if(r===(t?1<<t:0)||0===this.array.length)return this;var n,o=r-1>>>t&y;if(o>=this.array.length)return this;if(t>0){var i=this.array[o];if((n=i&&i.removeAfter(e,t-v,r))===i&&o===this.array.length-1)return this}var a=Mt(this,e);return a.array.splice(o+1),n&&(a.array[o]=n),a};var Tt,qt,At={};function Pt(e,t){var r=e._origin,n=e._capacity,o=zt(n),i=e._tail;return a(e._root,e._level,0);function a(e,t,r){return 0===t?l(e,r):s(e,t,r)}function l(e,a){var l=a===o?i&&i.array:e&&e.array,s=a>r?0:r-a,u=n-a;return u>m&&(u=m),function(){if(s===u)return At;var e=t?--u:s++;return l&&l[e]}}function s(e,o,i){var l,s=e&&e.array,u=i>r?0:r-i>>o,c=1+(n-i>>o);return c>m&&(c=m),function(){for(;;){if(l){var e=l();if(e!==At)return e;l=null}if(u===c)return At;var r=t?--c:u++;l=a(s&&s[r],o-v,i+(r<<o))}}}}function It(e,t,r,n,o,i,a){var l=Object.create(Et);return l.size=t-e,l._origin=e,l._capacity=t,l._level=r,l._root=n,l._tail=o,l.__ownerID=i,l.__hash=a,l.__altered=!1,l}function Lt(){return Tt||(Tt=It(0,0,v))}function Nt(e,t,r){if((t=E(e,t))!=t)return e;if(t>=e.size||t<0)return e.withMutations((function(e){t<0?Dt(e,t).set(0,r):Dt(e,0,t+1).set(t,r)}));t+=e._origin;var n=e._tail,o=e._root,i=w(x);return t>=zt(e._capacity)?n=Rt(n,e.__ownerID,0,t,r,i):o=Rt(o,e.__ownerID,e._level,t,r,i),i.value?e.__ownerID?(e._root=o,e._tail=n,e.__hash=void 0,e.__altered=!0,e):It(e._origin,e._capacity,e._level,o,n):e}function Rt(e,t,r,n,o,i){var a,l=n>>>r&y,s=e&&l<e.array.length;if(!s&&void 0===o)return e;if(r>0){var u=e&&e.array[l],c=Rt(u,t,r-v,n,o,i);return c===u?e:((a=Mt(e,t)).array[l]=c,a)}return s&&e.array[l]===o?e:(O(i),a=Mt(e,t),void 0===o&&l===a.array.length-1?a.array.pop():a.array[l]=o,a)}function Mt(e,t){return t&&e&&t===e.ownerID?e:new Ct(e?e.array.slice():[],t)}function Ft(e,t){if(t>=zt(e._capacity))return e._tail;if(t<1<<e._level+v){for(var r=e._root,n=e._level;r&&n>0;)r=r.array[t>>>n&y],n-=v;return r}}function Dt(e,t,r){void 0!==t&&(t|=0),void 0!==r&&(r|=0);var n=e.__ownerID||new S,o=e._origin,i=e._capacity,a=o+t,l=void 0===r?i:r<0?i+r:o+r;if(a===o&&l===i)return e;if(a>=l)return e.clear();for(var s=e._level,u=e._root,c=0;a+c<0;)u=new Ct(u&&u.array.length?[void 0,u]:[],n),c+=1<<(s+=v);c&&(a+=c,o+=c,l+=c,i+=c);for(var d=zt(i),p=zt(l);p>=1<<s+v;)u=new Ct(u&&u.array.length?[u]:[],n),s+=v;var f=e._tail,h=p<d?Ft(e,l-1):p>d?new Ct([],n):f;if(f&&p>d&&a<i&&f.array.length){for(var g=u=Mt(u,n),m=s;m>v;m-=v){var b=d>>>m&y;g=g.array[b]=Mt(g.array[b],n)}g.array[d>>>v&y]=f}if(l<i&&(h=h&&h.removeAfter(n,0,l)),a>=p)a-=p,l-=p,s=v,u=null,h=h&&h.removeBefore(n,0,a);else if(a>o||p<d){for(c=0;u;){var _=a>>>s&y;if(_!==p>>>s&y)break;_&&(c+=(1<<s)*_),s-=v,u=u.array[_]}u&&a>o&&(u=u.removeBefore(n,s,a-c)),u&&p<d&&(u=u.removeAfter(n,s,p-c)),c&&(a-=c,l-=c)}return e.__ownerID?(e.size=l-a,e._origin=a,e._capacity=l,e._level=s,e._root=u,e._tail=h,e.__hash=void 0,e.__altered=!0,e):It(a,l,s,u,h)}function Vt(e,t,r){for(var n=[],i=0,l=0;l<r.length;l++){var s=r[l],u=o(s);u.size>i&&(i=u.size),a(s)||(u=u.map((function(e){return fe(e)}))),n.push(u)}return i>e.size&&(e=e.setSize(i)),gt(e,t,n)}function zt(e){return e<m?0:e-1>>>v<<v}function Bt(e){return null==e?Ut():Ht(e)?e:Ut().withMutations((function(t){var r=n(e);He(r.size),r.forEach((function(e,r){return t.set(r,e)}))}))}function Ht(e){return Ue(e)&&c(e)}function Wt(e,t,r,n){var o=Object.create(Bt.prototype);return o.size=e?e.size:0,o._map=e,o._list=t,o.__ownerID=r,o.__hash=n,o}function Ut(){return qt||(qt=Wt(ot(),Lt()))}function $t(e,t,r){var n,o,i=e._map,a=e._list,l=i.get(t),s=void 0!==l;if(r===b){if(!s)return e;a.size>=m&&a.size>=2*i.size?(n=(o=a.filter((function(e,t){return void 0!==e&&l!==t}))).toKeyedSeq().map((function(e){return e[0]})).flip().toMap(),e.__ownerID&&(n.__ownerID=o.__ownerID=e.__ownerID)):(n=i.remove(t),o=l===a.size-1?a.pop():a.set(l,void 0))}else if(s){if(r===a.get(l)[1])return e;n=i,o=a.set(l,[t,r])}else n=i.set(t,a.size),o=a.set(a.size,[t,r]);return e.__ownerID?(e.size=n.size,e._map=n,e._list=o,e.__hash=void 0,e):Wt(n,o)}function Yt(e,t){this._iter=e,this._useKeys=t,this.size=e.size}function Gt(e){this._iter=e,this.size=e.size}function Kt(e){this._iter=e,this.size=e.size}function Jt(e){this._iter=e,this.size=e.size}function Qt(e){var t=yr(e);return t._iter=e,t.size=e.size,t.flip=function(){return e},t.reverse=function(){var t=e.reverse.apply(this);return t.flip=function(){return e.reverse()},t},t.has=function(t){return e.includes(t)},t.includes=function(t){return e.has(t)},t.cacheResult=br,t.__iterateUncached=function(t,r){var n=this;return e.__iterate((function(e,r){return!1!==t(r,e,n)}),r)},t.__iteratorUncached=function(t,r){if(t===N){var n=e.__iterator(t,r);return new D((function(){var e=n.next();if(!e.done){var t=e.value[0];e.value[0]=e.value[1],e.value[1]=t}return e}))}return e.__iterator(t===L?I:L,r)},t}function Xt(e,t,r){var n=yr(e);return n.size=e.size,n.has=function(t){return e.has(t)},n.get=function(n,o){var i=e.get(n,b);return i===b?o:t.call(r,i,n,e)},n.__iterateUncached=function(n,o){var i=this;return e.__iterate((function(e,o,a){return!1!==n(t.call(r,e,o,a),o,i)}),o)},n.__iteratorUncached=function(n,o){var i=e.__iterator(N,o);return new D((function(){var o=i.next();if(o.done)return o;var a=o.value,l=a[0];return V(n,l,t.call(r,a[1],l,e),o)}))},n}function Zt(e,t){var r=yr(e);return r._iter=e,r.size=e.size,r.reverse=function(){return e},e.flip&&(r.flip=function(){var t=Qt(e);return t.reverse=function(){return e.flip()},t}),r.get=function(r,n){return e.get(t?r:-1-r,n)},r.has=function(r){return e.has(t?r:-1-r)},r.includes=function(t){return e.includes(t)},r.cacheResult=br,r.__iterate=function(t,r){var n=this;return e.__iterate((function(e,r){return t(e,r,n)}),!r)},r.__iterator=function(t,r){return e.__iterator(t,!r)},r}function er(e,t,r,n){var o=yr(e);return n&&(o.has=function(n){var o=e.get(n,b);return o!==b&&!!t.call(r,o,n,e)},o.get=function(n,o){var i=e.get(n,b);return i!==b&&t.call(r,i,n,e)?i:o}),o.__iterateUncached=function(o,i){var a=this,l=0;return e.__iterate((function(e,i,s){if(t.call(r,e,i,s))return l++,o(e,n?i:l-1,a)}),i),l},o.__iteratorUncached=function(o,i){var a=e.__iterator(N,i),l=0;return new D((function(){for(;;){var i=a.next();if(i.done)return i;var s=i.value,u=s[0],c=s[1];if(t.call(r,c,u,e))return V(o,n?u:l++,c,i)}}))},o}function tr(e,t,r){var n=We().asMutable();return e.__iterate((function(o,i){n.update(t.call(r,o,i,e),0,(function(e){return e+1}))})),n.asImmutable()}function rr(e,t,r){var n=l(e),o=(c(e)?Bt():We()).asMutable();e.__iterate((function(i,a){o.update(t.call(r,i,a,e),(function(e){return(e=e||[]).push(n?[a,i]:i),e}))}));var i=mr(e);return o.map((function(t){return hr(e,i(t))}))}function nr(e,t,r,n){var o=e.size;if(void 0!==t&&(t|=0),void 0!==r&&(r===1/0?r=o:r|=0),T(t,r,o))return e;var i=q(t,o),a=A(r,o);if(i!=i||a!=a)return nr(e.toSeq().cacheResult(),t,r,n);var l,s=a-i;s==s&&(l=s<0?0:s);var u=yr(e);return u.size=0===l?l:e.size&&l||void 0,!n&&ie(e)&&l>=0&&(u.get=function(t,r){return(t=E(this,t))>=0&&t<l?e.get(t+i,r):r}),u.__iterateUncached=function(t,r){var o=this;if(0===l)return 0;if(r)return this.cacheResult().__iterate(t,r);var a=0,s=!0,u=0;return e.__iterate((function(e,r){if(!s||!(s=a++<i))return u++,!1!==t(e,n?r:u-1,o)&&u!==l})),u},u.__iteratorUncached=function(t,r){if(0!==l&&r)return this.cacheResult().__iterator(t,r);var o=0!==l&&e.__iterator(t,r),a=0,s=0;return new D((function(){for(;a++<i;)o.next();if(++s>l)return z();var e=o.next();return n||t===L?e:V(t,s-1,t===I?void 0:e.value[1],e)}))},u}function or(e,t,r){var n=yr(e);return n.__iterateUncached=function(n,o){var i=this;if(o)return this.cacheResult().__iterate(n,o);var a=0;return e.__iterate((function(e,o,l){return t.call(r,e,o,l)&&++a&&n(e,o,i)})),a},n.__iteratorUncached=function(n,o){var i=this;if(o)return this.cacheResult().__iterator(n,o);var a=e.__iterator(N,o),l=!0;return new D((function(){if(!l)return z();var e=a.next();if(e.done)return e;var o=e.value,s=o[0],u=o[1];return t.call(r,u,s,i)?n===N?e:V(n,s,u,e):(l=!1,z())}))},n}function ir(e,t,r,n){var o=yr(e);return o.__iterateUncached=function(o,i){var a=this;if(i)return this.cacheResult().__iterate(o,i);var l=!0,s=0;return e.__iterate((function(e,i,u){if(!l||!(l=t.call(r,e,i,u)))return s++,o(e,n?i:s-1,a)})),s},o.__iteratorUncached=function(o,i){var a=this;if(i)return this.cacheResult().__iterator(o,i);var l=e.__iterator(N,i),s=!0,u=0;return new D((function(){var e,i,c;do{if((e=l.next()).done)return n||o===L?e:V(o,u++,o===I?void 0:e.value[1],e);var d=e.value;i=d[0],c=d[1],s&&(s=t.call(r,c,i,a))}while(s);return o===N?e:V(o,i,c,e)}))},o}function ar(e,t){var r=l(e),o=[e].concat(t).map((function(e){return a(e)?r&&(e=n(e)):e=r?le(e):se(Array.isArray(e)?e:[e]),e})).filter((function(e){return 0!==e.size}));if(0===o.length)return e;if(1===o.length){var i=o[0];if(i===e||r&&l(i)||s(e)&&s(i))return i}var u=new te(o);return r?u=u.toKeyedSeq():s(e)||(u=u.toSetSeq()),(u=u.flatten(!0)).size=o.reduce((function(e,t){if(void 0!==e){var r=t.size;if(void 0!==r)return e+r}}),0),u}function lr(e,t,r){var n=yr(e);return n.__iterateUncached=function(n,o){var i=0,l=!1;function s(e,u){var c=this;e.__iterate((function(e,o){return(!t||u<t)&&a(e)?s(e,u+1):!1===n(e,r?o:i++,c)&&(l=!0),!l}),o)}return s(e,0),i},n.__iteratorUncached=function(n,o){var i=e.__iterator(n,o),l=[],s=0;return new D((function(){for(;i;){var e=i.next();if(!1===e.done){var u=e.value;if(n===N&&(u=u[1]),t&&!(l.length<t)||!a(u))return r?e:V(n,s++,u,e);l.push(i),i=u.__iterator(n,o)}else i=l.pop()}return z()}))},n}function sr(e,t,r){var n=mr(e);return e.toSeq().map((function(o,i){return n(t.call(r,o,i,e))})).flatten(!0)}function ur(e,t){var r=yr(e);return r.size=e.size&&2*e.size-1,r.__iterateUncached=function(r,n){var o=this,i=0;return e.__iterate((function(e,n){return(!i||!1!==r(t,i++,o))&&!1!==r(e,i++,o)}),n),i},r.__iteratorUncached=function(r,n){var o,i=e.__iterator(L,n),a=0;return new D((function(){return(!o||a%2)&&(o=i.next()).done?o:a%2?V(r,a++,t):V(r,a++,o.value,o)}))},r}function cr(e,t,r){t||(t=_r);var n=l(e),o=0,i=e.toSeq().map((function(t,n){return[n,t,o++,r?r(t,n,e):t]})).toArray();return i.sort((function(e,r){return t(e[3],r[3])||e[2]-r[2]})).forEach(n?function(e,t){i[t].length=2}:function(e,t){i[t]=e[1]}),n?G(i):s(e)?K(i):J(i)}function dr(e,t,r){if(t||(t=_r),r){var n=e.toSeq().map((function(t,n){return[t,r(t,n,e)]})).reduce((function(e,r){return pr(t,e[1],r[1])?r:e}));return n&&n[0]}return e.reduce((function(e,r){return pr(t,e,r)?r:e}))}function pr(e,t,r){var n=e(r,t);return 0===n&&r!==t&&(null==r||r!=r)||n>0}function fr(e,t,n){var o=yr(e);return o.size=new te(n).map((function(e){return e.size})).min(),o.__iterate=function(e,t){for(var r,n=this.__iterator(L,t),o=0;!(r=n.next()).done&&!1!==e(r.value,o++,this););return o},o.__iteratorUncached=function(e,o){var i=n.map((function(e){return e=r(e),W(o?e.reverse():e)})),a=0,l=!1;return new D((function(){var r;return l||(r=i.map((function(e){return e.next()})),l=r.some((function(e){return e.done}))),l?z():V(e,a++,t.apply(null,r.map((function(e){return e.value}))))}))},o}function hr(e,t){return ie(e)?t:e.constructor(t)}function gr(e){if(e!==Object(e))throw new TypeError("Expected [K, V] tuple: "+e)}function vr(e){return He(e.size),j(e)}function mr(e){return l(e)?n:s(e)?o:i}function yr(e){return Object.create((l(e)?G:s(e)?K:J).prototype)}function br(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):Y.prototype.cacheResult.call(this)}function _r(e,t){return e>t?1:e<t?-1:0}function xr(e){var t=W(e);if(!t){if(!$(e))throw new TypeError("Expected iterable or array-like: "+e);t=W(r(e))}return t}function wr(e,t){var r,n=function(i){if(i instanceof n)return i;if(!(this instanceof n))return new n(i);if(!r){r=!0;var a=Object.keys(e);jr(o,a),o.size=a.length,o._name=t,o._keys=a,o._defaultValues=e}this._map=We(i)},o=n.prototype=Object.create(Or);return o.constructor=n,n}t(Bt,We),Bt.of=function(){return this(arguments)},Bt.prototype.toString=function(){return this.__toString("OrderedMap {","}")},Bt.prototype.get=function(e,t){var r=this._map.get(e);return void 0!==r?this._list.get(r)[1]:t},Bt.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this):Ut()},Bt.prototype.set=function(e,t){return $t(this,e,t)},Bt.prototype.remove=function(e){return $t(this,e,b)},Bt.prototype.wasAltered=function(){return this._map.wasAltered()||this._list.wasAltered()},Bt.prototype.__iterate=function(e,t){var r=this;return this._list.__iterate((function(t){return t&&e(t[1],t[0],r)}),t)},Bt.prototype.__iterator=function(e,t){return this._list.fromEntrySeq().__iterator(e,t)},Bt.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map.__ensureOwner(e),r=this._list.__ensureOwner(e);return e?Wt(t,r,e,this.__hash):(this.__ownerID=e,this._map=t,this._list=r,this)},Bt.isOrderedMap=Ht,Bt.prototype[h]=!0,Bt.prototype[g]=Bt.prototype.remove,t(Yt,G),Yt.prototype.get=function(e,t){return this._iter.get(e,t)},Yt.prototype.has=function(e){return this._iter.has(e)},Yt.prototype.valueSeq=function(){return this._iter.valueSeq()},Yt.prototype.reverse=function(){var e=this,t=Zt(this,!0);return this._useKeys||(t.valueSeq=function(){return e._iter.toSeq().reverse()}),t},Yt.prototype.map=function(e,t){var r=this,n=Xt(this,e,t);return this._useKeys||(n.valueSeq=function(){return r._iter.toSeq().map(e,t)}),n},Yt.prototype.__iterate=function(e,t){var r,n=this;return this._iter.__iterate(this._useKeys?function(t,r){return e(t,r,n)}:(r=t?vr(this):0,function(o){return e(o,t?--r:r++,n)}),t)},Yt.prototype.__iterator=function(e,t){if(this._useKeys)return this._iter.__iterator(e,t);var r=this._iter.__iterator(L,t),n=t?vr(this):0;return new D((function(){var o=r.next();return o.done?o:V(e,t?--n:n++,o.value,o)}))},Yt.prototype[h]=!0,t(Gt,K),Gt.prototype.includes=function(e){return this._iter.includes(e)},Gt.prototype.__iterate=function(e,t){var r=this,n=0;return this._iter.__iterate((function(t){return e(t,n++,r)}),t)},Gt.prototype.__iterator=function(e,t){var r=this._iter.__iterator(L,t),n=0;return new D((function(){var t=r.next();return t.done?t:V(e,n++,t.value,t)}))},t(Kt,J),Kt.prototype.has=function(e){return this._iter.includes(e)},Kt.prototype.__iterate=function(e,t){var r=this;return this._iter.__iterate((function(t){return e(t,t,r)}),t)},Kt.prototype.__iterator=function(e,t){var r=this._iter.__iterator(L,t);return new D((function(){var t=r.next();return t.done?t:V(e,t.value,t.value,t)}))},t(Jt,G),Jt.prototype.entrySeq=function(){return this._iter.toSeq()},Jt.prototype.__iterate=function(e,t){var r=this;return this._iter.__iterate((function(t){if(t){gr(t);var n=a(t);return e(n?t.get(1):t[1],n?t.get(0):t[0],r)}}),t)},Jt.prototype.__iterator=function(e,t){var r=this._iter.__iterator(L,t);return new D((function(){for(;;){var t=r.next();if(t.done)return t;var n=t.value;if(n){gr(n);var o=a(n);return V(e,o?n.get(0):n[0],o?n.get(1):n[1],t)}}}))},Gt.prototype.cacheResult=Yt.prototype.cacheResult=Kt.prototype.cacheResult=Jt.prototype.cacheResult=br,t(wr,Oe),wr.prototype.toString=function(){return this.__toString(kr(this)+" {","}")},wr.prototype.has=function(e){return this._defaultValues.hasOwnProperty(e)},wr.prototype.get=function(e,t){if(!this.has(e))return t;var r=this._defaultValues[e];return this._map?this._map.get(e,r):r},wr.prototype.clear=function(){if(this.__ownerID)return this._map&&this._map.clear(),this;var e=this.constructor;return e._empty||(e._empty=Sr(this,ot()))},wr.prototype.set=function(e,t){if(!this.has(e))throw new Error('Cannot set unknown key "'+e+'" on '+kr(this));if(this._map&&!this._map.has(e)&&t===this._defaultValues[e])return this;var r=this._map&&this._map.set(e,t);return this.__ownerID||r===this._map?this:Sr(this,r)},wr.prototype.remove=function(e){if(!this.has(e))return this;var t=this._map&&this._map.remove(e);return this.__ownerID||t===this._map?this:Sr(this,t)},wr.prototype.wasAltered=function(){return this._map.wasAltered()},wr.prototype.__iterator=function(e,t){var r=this;return n(this._defaultValues).map((function(e,t){return r.get(t)})).__iterator(e,t)},wr.prototype.__iterate=function(e,t){var r=this;return n(this._defaultValues).map((function(e,t){return r.get(t)})).__iterate(e,t)},wr.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map&&this._map.__ensureOwner(e);return e?Sr(this,t,e):(this.__ownerID=e,this._map=t,this)};var Or=wr.prototype;function Sr(e,t,r){var n=Object.create(Object.getPrototypeOf(e));return n._map=t,n.__ownerID=r,n}function kr(e){return e._name||e.constructor.name||"Record"}function jr(e,t){try{t.forEach(Er.bind(void 0,e))}catch(r){}}function Er(e,t){Object.defineProperty(e,t,{get:function(){return this.get(t)},set:function(e){_e(this.__ownerID,"Cannot set on an immutable record."),this.set(t,e)}})}function Cr(e){return null==e?Nr():Tr(e)&&!c(e)?e:Nr().withMutations((function(t){var r=i(e);He(r.size),r.forEach((function(e){return t.add(e)}))}))}function Tr(e){return!(!e||!e[Ar])}Or[g]=Or.remove,Or.deleteIn=Or.removeIn=Ge.removeIn,Or.merge=Ge.merge,Or.mergeWith=Ge.mergeWith,Or.mergeIn=Ge.mergeIn,Or.mergeDeep=Ge.mergeDeep,Or.mergeDeepWith=Ge.mergeDeepWith,Or.mergeDeepIn=Ge.mergeDeepIn,Or.setIn=Ge.setIn,Or.update=Ge.update,Or.updateIn=Ge.updateIn,Or.withMutations=Ge.withMutations,Or.asMutable=Ge.asMutable,Or.asImmutable=Ge.asImmutable,t(Cr,ke),Cr.of=function(){return this(arguments)},Cr.fromKeys=function(e){return this(n(e).keySeq())},Cr.prototype.toString=function(){return this.__toString("Set {","}")},Cr.prototype.has=function(e){return this._map.has(e)},Cr.prototype.add=function(e){return Ir(this,this._map.set(e,!0))},Cr.prototype.remove=function(e){return Ir(this,this._map.remove(e))},Cr.prototype.clear=function(){return Ir(this,this._map.clear())},Cr.prototype.union=function(){var t=e.call(arguments,0);return t=t.filter((function(e){return 0!==e.size})),0===t.length?this:0!==this.size||this.__ownerID||1!==t.length?this.withMutations((function(e){for(var r=0;r<t.length;r++)i(t[r]).forEach((function(t){return e.add(t)}))})):this.constructor(t[0])},Cr.prototype.intersect=function(){var t=e.call(arguments,0);if(0===t.length)return this;t=t.map((function(e){return i(e)}));var r=this;return this.withMutations((function(e){r.forEach((function(r){t.every((function(e){return e.includes(r)}))||e.remove(r)}))}))},Cr.prototype.subtract=function(){var t=e.call(arguments,0);if(0===t.length)return this;t=t.map((function(e){return i(e)}));var r=this;return this.withMutations((function(e){r.forEach((function(r){t.some((function(e){return e.includes(r)}))&&e.remove(r)}))}))},Cr.prototype.merge=function(){return this.union.apply(this,arguments)},Cr.prototype.mergeWith=function(t){var r=e.call(arguments,1);return this.union.apply(this,r)},Cr.prototype.sort=function(e){return Rr(cr(this,e))},Cr.prototype.sortBy=function(e,t){return Rr(cr(this,t,e))},Cr.prototype.wasAltered=function(){return this._map.wasAltered()},Cr.prototype.__iterate=function(e,t){var r=this;return this._map.__iterate((function(t,n){return e(n,n,r)}),t)},Cr.prototype.__iterator=function(e,t){return this._map.map((function(e,t){return t})).__iterator(e,t)},Cr.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map.__ensureOwner(e);return e?this.__make(t,e):(this.__ownerID=e,this._map=t,this)},Cr.isSet=Tr;var qr,Ar="@@__IMMUTABLE_SET__@@",Pr=Cr.prototype;function Ir(e,t){return e.__ownerID?(e.size=t.size,e._map=t,e):t===e._map?e:0===t.size?e.__empty():e.__make(t)}function Lr(e,t){var r=Object.create(Pr);return r.size=e?e.size:0,r._map=e,r.__ownerID=t,r}function Nr(){return qr||(qr=Lr(ot()))}function Rr(e){return null==e?zr():Mr(e)?e:zr().withMutations((function(t){var r=i(e);He(r.size),r.forEach((function(e){return t.add(e)}))}))}function Mr(e){return Tr(e)&&c(e)}Pr[Ar]=!0,Pr[g]=Pr.remove,Pr.mergeDeep=Pr.merge,Pr.mergeDeepWith=Pr.mergeWith,Pr.withMutations=Ge.withMutations,Pr.asMutable=Ge.asMutable,Pr.asImmutable=Ge.asImmutable,Pr.__empty=Nr,Pr.__make=Lr,t(Rr,Cr),Rr.of=function(){return this(arguments)},Rr.fromKeys=function(e){return this(n(e).keySeq())},Rr.prototype.toString=function(){return this.__toString("OrderedSet {","}")},Rr.isOrderedSet=Mr;var Fr,Dr=Rr.prototype;function Vr(e,t){var r=Object.create(Dr);return r.size=e?e.size:0,r._map=e,r.__ownerID=t,r}function zr(){return Fr||(Fr=Vr(Ut()))}function Br(e){return null==e?Gr():Hr(e)?e:Gr().unshiftAll(e)}function Hr(e){return!(!e||!e[Ur])}Dr[h]=!0,Dr.__empty=zr,Dr.__make=Vr,t(Br,Se),Br.of=function(){return this(arguments)},Br.prototype.toString=function(){return this.__toString("Stack [","]")},Br.prototype.get=function(e,t){var r=this._head;for(e=E(this,e);r&&e--;)r=r.next;return r?r.value:t},Br.prototype.peek=function(){return this._head&&this._head.value},Br.prototype.push=function(){if(0===arguments.length)return this;for(var e=this.size+arguments.length,t=this._head,r=arguments.length-1;r>=0;r--)t={value:arguments[r],next:t};return this.__ownerID?(this.size=e,this._head=t,this.__hash=void 0,this.__altered=!0,this):Yr(e,t)},Br.prototype.pushAll=function(e){if(0===(e=o(e)).size)return this;He(e.size);var t=this.size,r=this._head;return e.reverse().forEach((function(e){t++,r={value:e,next:r}})),this.__ownerID?(this.size=t,this._head=r,this.__hash=void 0,this.__altered=!0,this):Yr(t,r)},Br.prototype.pop=function(){return this.slice(1)},Br.prototype.unshift=function(){return this.push.apply(this,arguments)},Br.prototype.unshiftAll=function(e){return this.pushAll(e)},Br.prototype.shift=function(){return this.pop.apply(this,arguments)},Br.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):Gr()},Br.prototype.slice=function(e,t){if(T(e,t,this.size))return this;var r=q(e,this.size);if(A(t,this.size)!==this.size)return Se.prototype.slice.call(this,e,t);for(var n=this.size-r,o=this._head;r--;)o=o.next;return this.__ownerID?(this.size=n,this._head=o,this.__hash=void 0,this.__altered=!0,this):Yr(n,o)},Br.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?Yr(this.size,this._head,e,this.__hash):(this.__ownerID=e,this.__altered=!1,this)},Br.prototype.__iterate=function(e,t){if(t)return this.reverse().__iterate(e);for(var r=0,n=this._head;n&&!1!==e(n.value,r++,this);)n=n.next;return r},Br.prototype.__iterator=function(e,t){if(t)return this.reverse().__iterator(e);var r=0,n=this._head;return new D((function(){if(n){var t=n.value;return n=n.next,V(e,r++,t)}return z()}))},Br.isStack=Hr;var Wr,Ur="@@__IMMUTABLE_STACK__@@",$r=Br.prototype;function Yr(e,t,r,n){var o=Object.create($r);return o.size=e,o._head=t,o.__ownerID=r,o.__hash=n,o.__altered=!1,o}function Gr(){return Wr||(Wr=Yr(0))}function Kr(e,t){var r=function(r){e.prototype[r]=t[r]};return Object.keys(t).forEach(r),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(t).forEach(r),e}$r[Ur]=!0,$r.withMutations=Ge.withMutations,$r.asMutable=Ge.asMutable,$r.asImmutable=Ge.asImmutable,$r.wasAltered=Ge.wasAltered,r.Iterator=D,Kr(r,{toArray:function(){He(this.size);var e=new Array(this.size||0);return this.valueSeq().__iterate((function(t,r){e[r]=t})),e},toIndexedSeq:function(){return new Gt(this)},toJS:function(){return this.toSeq().map((function(e){return e&&"function"==typeof e.toJS?e.toJS():e})).__toJS()},toJSON:function(){return this.toSeq().map((function(e){return e&&"function"==typeof e.toJSON?e.toJSON():e})).__toJS()},toKeyedSeq:function(){return new Yt(this,!0)},toMap:function(){return We(this.toKeyedSeq())},toObject:function(){He(this.size);var e={};return this.__iterate((function(t,r){e[r]=t})),e},toOrderedMap:function(){return Bt(this.toKeyedSeq())},toOrderedSet:function(){return Rr(l(this)?this.valueSeq():this)},toSet:function(){return Cr(l(this)?this.valueSeq():this)},toSetSeq:function(){return new Kt(this)},toSeq:function(){return s(this)?this.toIndexedSeq():l(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return Br(l(this)?this.valueSeq():this)},toList:function(){return St(l(this)?this.valueSeq():this)},toString:function(){return"[Iterable]"},__toString:function(e,t){return 0===this.size?e+t:e+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+t},concat:function(){return hr(this,ar(this,e.call(arguments,0)))},includes:function(e){return this.some((function(t){return me(t,e)}))},entries:function(){return this.__iterator(N)},every:function(e,t){He(this.size);var r=!0;return this.__iterate((function(n,o,i){if(!e.call(t,n,o,i))return r=!1,!1})),r},filter:function(e,t){return hr(this,er(this,e,t,!0))},find:function(e,t,r){var n=this.findEntry(e,t);return n?n[1]:r},forEach:function(e,t){return He(this.size),this.__iterate(t?e.bind(t):e)},join:function(e){He(this.size),e=void 0!==e?""+e:",";var t="",r=!0;return this.__iterate((function(n){r?r=!1:t+=e,t+=null!=n?n.toString():""})),t},keys:function(){return this.__iterator(I)},map:function(e,t){return hr(this,Xt(this,e,t))},reduce:function(e,t,r){var n,o;return He(this.size),arguments.length<2?o=!0:n=t,this.__iterate((function(t,i,a){o?(o=!1,n=t):n=e.call(r,n,t,i,a)})),n},reduceRight:function(e,t,r){var n=this.toKeyedSeq().reverse();return n.reduce.apply(n,arguments)},reverse:function(){return hr(this,Zt(this,!0))},slice:function(e,t){return hr(this,nr(this,e,t,!0))},some:function(e,t){return!this.every(en(e),t)},sort:function(e){return hr(this,cr(this,e))},values:function(){return this.__iterator(L)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return void 0!==this.size?0===this.size:!this.some((function(){return!0}))},count:function(e,t){return j(e?this.toSeq().filter(e,t):this)},countBy:function(e,t){return tr(this,e,t)},equals:function(e){return ye(this,e)},entrySeq:function(){var e=this;if(e._cache)return new te(e._cache);var t=e.toSeq().map(Zr).toIndexedSeq();return t.fromEntrySeq=function(){return e.toSeq()},t},filterNot:function(e,t){return this.filter(en(e),t)},findEntry:function(e,t,r){var n=r;return this.__iterate((function(r,o,i){if(e.call(t,r,o,i))return n=[o,r],!1})),n},findKey:function(e,t){var r=this.findEntry(e,t);return r&&r[0]},findLast:function(e,t,r){return this.toKeyedSeq().reverse().find(e,t,r)},findLastEntry:function(e,t,r){return this.toKeyedSeq().reverse().findEntry(e,t,r)},findLastKey:function(e,t){return this.toKeyedSeq().reverse().findKey(e,t)},first:function(){return this.find(C)},flatMap:function(e,t){return hr(this,sr(this,e,t))},flatten:function(e){return hr(this,lr(this,e,!0))},fromEntrySeq:function(){return new Jt(this)},get:function(e,t){return this.find((function(t,r){return me(r,e)}),void 0,t)},getIn:function(e,t){for(var r,n=this,o=xr(e);!(r=o.next()).done;){var i=r.value;if((n=n&&n.get?n.get(i,b):b)===b)return t}return n},groupBy:function(e,t){return rr(this,e,t)},has:function(e){return this.get(e,b)!==b},hasIn:function(e){return this.getIn(e,b)!==b},isSubset:function(e){return e="function"==typeof e.includes?e:r(e),this.every((function(t){return e.includes(t)}))},isSuperset:function(e){return(e="function"==typeof e.isSubset?e:r(e)).isSubset(this)},keyOf:function(e){return this.findKey((function(t){return me(t,e)}))},keySeq:function(){return this.toSeq().map(Xr).toIndexedSeq()},last:function(){return this.toSeq().reverse().first()},lastKeyOf:function(e){return this.toKeyedSeq().reverse().keyOf(e)},max:function(e){return dr(this,e)},maxBy:function(e,t){return dr(this,t,e)},min:function(e){return dr(this,e?tn(e):on)},minBy:function(e,t){return dr(this,t?tn(t):on,e)},rest:function(){return this.slice(1)},skip:function(e){return this.slice(Math.max(0,e))},skipLast:function(e){return hr(this,this.toSeq().reverse().skip(e).reverse())},skipWhile:function(e,t){return hr(this,ir(this,e,t,!0))},skipUntil:function(e,t){return this.skipWhile(en(e),t)},sortBy:function(e,t){return hr(this,cr(this,t,e))},take:function(e){return this.slice(0,Math.max(0,e))},takeLast:function(e){return hr(this,this.toSeq().reverse().take(e).reverse())},takeWhile:function(e,t){return hr(this,or(this,e,t))},takeUntil:function(e,t){return this.takeWhile(en(e),t)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=an(this))}});var Jr=r.prototype;Jr[d]=!0,Jr[F]=Jr.values,Jr.__toJS=Jr.toArray,Jr.__toStringMapper=rn,Jr.inspect=Jr.toSource=function(){return this.toString()},Jr.chain=Jr.flatMap,Jr.contains=Jr.includes,Kr(n,{flip:function(){return hr(this,Qt(this))},mapEntries:function(e,t){var r=this,n=0;return hr(this,this.toSeq().map((function(o,i){return e.call(t,[i,o],n++,r)})).fromEntrySeq())},mapKeys:function(e,t){var r=this;return hr(this,this.toSeq().flip().map((function(n,o){return e.call(t,n,o,r)})).flip())}});var Qr=n.prototype;function Xr(e,t){return t}function Zr(e,t){return[t,e]}function en(e){return function(){return!e.apply(this,arguments)}}function tn(e){return function(){return-e.apply(this,arguments)}}function rn(e){return"string"==typeof e?JSON.stringify(e):String(e)}function nn(){return k(arguments)}function on(e,t){return e<t?1:e>t?-1:0}function an(e){if(e.size===1/0)return 0;var t=c(e),r=l(e),n=t?1:0,o=e.__iterate(r?t?function(e,t){n=31*n+sn(Ce(e),Ce(t))|0}:function(e,t){n=n+sn(Ce(e),Ce(t))|0}:t?function(e){n=31*n+Ce(e)|0}:function(e){n=n+Ce(e)|0});return ln(o,n)}function ln(e,t){return t=je(t,3432918353),t=je(t<<15|t>>>-15,461845907),t=je(t<<13|t>>>-13,5),t=je((t=(t+3864292196|0)^e)^t>>>16,2246822507),t=Ee((t=je(t^t>>>13,3266489909))^t>>>16)}function sn(e,t){return e^t+2654435769+(e<<6)+(e>>2)|0}Qr[p]=!0,Qr[F]=Jr.entries,Qr.__toJS=Jr.toObject,Qr.__toStringMapper=function(e,t){return JSON.stringify(t)+": "+rn(e)},Kr(o,{toKeyedSeq:function(){return new Yt(this,!1)},filter:function(e,t){return hr(this,er(this,e,t,!1))},findIndex:function(e,t){var r=this.findEntry(e,t);return r?r[0]:-1},indexOf:function(e){var t=this.keyOf(e);return void 0===t?-1:t},lastIndexOf:function(e){var t=this.lastKeyOf(e);return void 0===t?-1:t},reverse:function(){return hr(this,Zt(this,!1))},slice:function(e,t){return hr(this,nr(this,e,t,!1))},splice:function(e,t){var r=arguments.length;if(t=Math.max(0|t,0),0===r||2===r&&!t)return this;e=q(e,e<0?this.count():this.size);var n=this.slice(0,e);return hr(this,1===r?n:n.concat(k(arguments,2),this.slice(e+t)))},findLastIndex:function(e,t){var r=this.findLastEntry(e,t);return r?r[0]:-1},first:function(){return this.get(0)},flatten:function(e){return hr(this,lr(this,e,!1))},get:function(e,t){return(e=E(this,e))<0||this.size===1/0||void 0!==this.size&&e>this.size?t:this.find((function(t,r){return r===e}),void 0,t)},has:function(e){return(e=E(this,e))>=0&&(void 0!==this.size?this.size===1/0||e<this.size:-1!==this.indexOf(e))},interpose:function(e){return hr(this,ur(this,e))},interleave:function(){var e=[this].concat(k(arguments)),t=fr(this.toSeq(),K.of,e),r=t.flatten(!0);return t.size&&(r.size=t.size*e.length),hr(this,r)},keySeq:function(){return xe(0,this.size)},last:function(){return this.get(-1)},skipWhile:function(e,t){return hr(this,ir(this,e,t,!1))},zip:function(){return hr(this,fr(this,nn,[this].concat(k(arguments))))},zipWith:function(e){var t=k(arguments);return t[0]=this,hr(this,fr(this,e,t))}}),o.prototype[f]=!0,o.prototype[h]=!0,Kr(i,{get:function(e,t){return this.has(e)?e:t},includes:function(e){return this.has(e)},keySeq:function(){return this.valueSeq()}}),i.prototype.has=Jr.includes,i.prototype.contains=i.prototype.includes,Kr(G,n.prototype),Kr(K,o.prototype),Kr(J,i.prototype),Kr(Oe,n.prototype),Kr(Se,o.prototype),Kr(ke,i.prototype);var un={Iterable:r,Seq:Y,Collection:we,Map:We,OrderedMap:Bt,List:St,Stack:Br,Set:Cr,OrderedSet:Rr,Record:wr,Range:xe,Repeat:be,is:me,fromJS:fe};return un}()}(sk);var uk=sk.exports;const ck=h(uk);var dk=function(e,t){for(var r=-1,n=null==e?0:e.length,o=Array(n);++r<n;)o[r]=t(e[r],r,e);return o};var pk=function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n&&!1!==t(e[r],r,e););return e},fk=Na,hk=function(){try{var e=fk(Object,"defineProperty");return e({},"",{}),e}catch(lF){}}(),gk=hk,vk=gk;var mk=function(e,t,r){"__proto__"==t&&vk?vk(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r},yk=mk,bk=Ci,_k=Object.prototype.hasOwnProperty;var xk=function(e,t,r){var n=e[t];_k.call(e,t)&&bk(n,r)&&(void 0!==r||t in e)||yk(e,t,r)},wk=xk,Ok=mk;var Sk=function(e,t,r,n){var o=!r;r||(r={});for(var i=-1,a=t.length;++i<a;){var l=t[i],s=n?n(r[l],e[l],l,r,e):void 0;void 0===s&&(s=e[l]),o?Ok(r,l,s):wk(r,l,s)}return r},kk=Sk,jk=tu;var Ek=function(e,t){return e&&kk(t,jk(t),e)};var Ck=fa,Tk=Hs,qk=function(e){var t=[];if(null!=e)for(var r in Object(e))t.push(r);return t},Ak=Object.prototype.hasOwnProperty;var Pk=zs,Ik=function(e){if(!Ck(e))return qk(e);var t=Tk(e),r=[];for(var n in e)("constructor"!=n||!t&&Ak.call(e,n))&&r.push(n);return r},Lk=Qs;var Nk=function(e){return Lk(e)?Pk(e,!0):Ik(e)},Rk=Sk,Mk=Nk;var Fk=function(e,t){return e&&Rk(t,Mk(t),e)},Dk={exports:{}};!function(e,t){var r=ea,n=t&&!t.nodeType&&t,o=n&&e&&!e.nodeType&&e,i=o&&o.exports===n?r.Buffer:void 0,a=i?i.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var r=e.length,n=a?a(r):new e.constructor(r);return e.copy(n),n}}(Dk,Dk.exports);var Vk=Dk.exports;var zk=function(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t},Bk=Sk,Hk=os;var Wk=function(e,t){return Bk(e,Hk(e),t)},Uk=Ws(Object.getPrototypeOf,Object),$k=Yl,Yk=Uk,Gk=os,Kk=Zl,Jk=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)$k(t,Gk(e)),e=Yk(e);return t}:Kk,Qk=Sk,Xk=Jk;var Zk=function(e,t){return Qk(e,Xk(e),t)},ej=Ql,tj=Jk,rj=Nk;var nj=function(e){return ej(e,rj,tj)},oj=Object.prototype.hasOwnProperty;var ij=function(e){var t=e.length,r=new e.constructor(t);return t&&"string"==typeof e[0]&&oj.call(e,"index")&&(r.index=e.index,r.input=e.input),r},aj=Rl;var lj=function(e){var t=new e.constructor(e.byteLength);return new aj(t).set(new aj(e)),t},sj=lj;var uj=function(e,t){var r=t?sj(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)},cj=/\w*$/;var dj=function(e){var t=new e.constructor(e.source,cj.exec(e));return t.lastIndex=e.lastIndex,t},pj=ta?ta.prototype:void 0,fj=pj?pj.valueOf:void 0;var hj=lj;var gj=function(e,t){var r=t?hj(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)},vj=lj,mj=uj,yj=dj,bj=function(e){return fj?Object(fj.call(e)):{}},_j=gj;var xj=function(e,t,r){var n=e.constructor;switch(t){case"[object ArrayBuffer]":return vj(e);case"[object Boolean]":case"[object Date]":return new n(+e);case"[object DataView]":return mj(e,r);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return _j(e,r);case"[object Map]":case"[object Set]":return new n;case"[object Number]":case"[object String]":return new n(e);case"[object RegExp]":return yj(e);case"[object Symbol]":return bj(e)}},wj=fa,Oj=Object.create,Sj=function(){function e(){}return function(t){if(!wj(t))return{};if(Oj)return Oj(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}(),kj=Sj,jj=Uk,Ej=Hs;var Cj=function(e){return"function"!=typeof e.constructor||Ej(e)?{}:kj(jj(e))},Tj=Cu,qj=as;var Aj=function(e){return qj(e)&&"[object Map]"==Tj(e)},Pj=Es,Ij=Ts&&Ts.isMap,Lj=Ij?Pj(Ij):Aj,Nj=Cu,Rj=as;var Mj=function(e){return Rj(e)&&"[object Set]"==Nj(e)},Fj=Es,Dj=Ts&&Ts.isSet,Vj=Dj?Fj(Dj):Mj,zj=jl,Bj=pk,Hj=xk,Wj=Ek,Uj=Fk,$j=Vk,Yj=zk,Gj=Wk,Kj=Zk,Jj=au,Qj=nj,Xj=Cu,Zj=ij,eE=xj,tE=Cj,rE=Gl,nE=ys,oE=Lj,iE=fa,aE=Vj,lE=tu,sE=Nk,uE="[object Arguments]",cE="[object Function]",dE="[object Object]",pE={};pE[uE]=pE["[object Array]"]=pE["[object ArrayBuffer]"]=pE["[object DataView]"]=pE["[object Boolean]"]=pE["[object Date]"]=pE["[object Float32Array]"]=pE["[object Float64Array]"]=pE["[object Int8Array]"]=pE["[object Int16Array]"]=pE["[object Int32Array]"]=pE["[object Map]"]=pE["[object Number]"]=pE[dE]=pE["[object RegExp]"]=pE["[object Set]"]=pE["[object String]"]=pE["[object Symbol]"]=pE["[object Uint8Array]"]=pE["[object Uint8ClampedArray]"]=pE["[object Uint16Array]"]=pE["[object Uint32Array]"]=!0,pE["[object Error]"]=pE[cE]=pE["[object WeakMap]"]=!1;var fE=function e(t,r,n,o,i,a){var l,s=1&r,u=2&r,c=4&r;if(n&&(l=i?n(t,o,i,a):n(t)),void 0!==l)return l;if(!iE(t))return t;var d=rE(t);if(d){if(l=Zj(t),!s)return Yj(t,l)}else{var p=Xj(t),f=p==cE||"[object GeneratorFunction]"==p;if(nE(t))return $j(t,s);if(p==dE||p==uE||f&&!i){if(l=u||f?{}:tE(t),!s)return u?Kj(t,Uj(l,t)):Gj(t,Wj(l,t))}else{if(!pE[p])return i?t:{};l=eE(t,p,s)}}a||(a=new zj);var h=a.get(t);if(h)return h;a.set(t,l),aE(t)?t.forEach((function(o){l.add(e(o,r,n,o,t,a))})):oE(t)&&t.forEach((function(o,i){l.set(i,e(o,r,n,i,t,a))}));var g=d?void 0:(c?u?Qj:Jj:u?sE:lE)(t);return Bj(g||t,(function(o,i){g&&(o=t[i=o]),Hj(l,i,e(o,r,n,i,t,a))})),l},hE=pa,gE=as;var vE=function(e){return"symbol"==typeof e||gE(e)&&"[object Symbol]"==hE(e)},mE=Gl,yE=vE,bE=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,_E=/^\w*$/;var xE=function(e,t){if(mE(e))return!1;var r=typeof e;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!yE(e))||(_E.test(e)||!bE.test(e)||null!=t&&e in Object(t))},wE=gl;function OE(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var r=function r(){var n=arguments,o=t?t.apply(this,n):n[0],i=r.cache;if(i.has(o))return i.get(o);var a=e.apply(this,n);return r.cache=i.set(o,a)||i,a};return r.cache=new(OE.Cache||wE),r}OE.Cache=wE;var SE=OE;var kE=function(e){var t=SE(e,(function(e){return 500===r.size&&r.clear(),e})),r=t.cache;return t},jE=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,EE=/\\(\\)?/g,CE=kE((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(jE,(function(e,r,n,o){t.push(n?o.replace(EE,"$1"):r||e)})),t})),TE=CE,qE=dk,AE=Gl,PE=vE,IE=ta?ta.prototype:void 0,LE=IE?IE.toString:void 0;var NE=function e(t){if("string"==typeof t)return t;if(AE(t))return qE(t,e)+"";if(PE(t))return LE?LE.call(t):"";var r=t+"";return"0"==r&&1/t==-Infinity?"-0":r},RE=NE;var ME=function(e){return null==e?"":RE(e)},FE=Gl,DE=xE,VE=TE,zE=ME;var BE=function(e,t){return FE(e)?e:DE(e,t)?[e]:VE(zE(e))};var HE=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0};const WE=h(HE);var UE=vE;var $E=function(e){if("string"==typeof e||UE(e))return e;var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t},YE=BE,GE=$E;var KE=function(e,t){for(var r=0,n=(t=YE(t,e)).length;null!=e&&r<n;)e=e[GE(t[r++])];return r&&r==n?e:void 0};var JE=function(e,t,r){var n=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(r=r>o?o:r)<0&&(r+=o),o=t>r?0:r-t>>>0,t>>>=0;for(var i=Array(o);++n<o;)i[n]=e[n+t];return i},QE=KE,XE=JE;var ZE=BE,eC=HE,tC=function(e,t){return t.length<2?e:QE(e,XE(t,0,-1))},rC=$E;var nC=function(e,t){return t=ZE(t,e),null==(e=tC(e,t))||delete e[rC(eC(t))]},oC=pa,iC=Uk,aC=as,lC=Function.prototype,sC=Object.prototype,uC=lC.toString,cC=sC.hasOwnProperty,dC=uC.call(Object);var pC=function(e){if(!aC(e)||"[object Object]"!=oC(e))return!1;var t=iC(e);if(null===t)return!0;var r=cC.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&uC.call(r)==dC},fC=pC;var hC=function(e){return fC(e)?void 0:e},gC=gs,vC=Gl,mC=ta?ta.isConcatSpreadable:void 0;var yC=Yl,bC=function(e){return vC(e)||gC(e)||!!(mC&&e&&e[mC])};var _C=function e(t,r,n,o,i){var a=-1,l=t.length;for(n||(n=bC),i||(i=[]);++a<l;){var s=t[a];r>0&&n(s)?r>1?e(s,r-1,n,o,i):yC(i,s):o||(i[i.length]=s)}return i},xC=_C;var wC=function(e){return(null==e?0:e.length)?xC(e,1):[]};var OC=function(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)},SC=OC,kC=Math.max;var jC=function(e,t,r){return t=kC(void 0===t?e.length-1:t,0),function(){for(var n=arguments,o=-1,i=kC(n.length-t,0),a=Array(i);++o<i;)a[o]=n[t+o];o=-1;for(var l=Array(t+1);++o<t;)l[o]=n[o];return l[t]=r(a),SC(e,this,l)}};var EC=function(e){return e},CC=function(e){return function(){return e}},TC=gk,qC=TC?function(e,t){return TC(e,"toString",{configurable:!0,enumerable:!1,value:CC(t),writable:!0})}:EC,AC=qC,PC=Date.now;var IC=function(e){var t=0,r=0;return function(){var n=PC(),o=16-(n-r);if(r=n,o>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}},LC=IC(AC),NC=wC,RC=jC,MC=LC;var FC=function(e){return MC(RC(e,void 0,NC),e+"")},DC=dk,VC=fE,zC=nC,BC=BE,HC=Sk,WC=hC,UC=nj,$C=FC((function(e,t){var r={};if(null==e)return r;var n=!1;t=DC(t,(function(t){return t=BC(t,e),n||(n=t.length>1),t})),HC(e,UC(e),r),n&&(r=VC(r,7,WC));for(var o=t.length;o--;)zC(r,t[o]);return r}));const YC=h($C);var GC=0;const KC=function(){var e=((new Date).getTime().toString(16)+"FF").substr(0,11),t="ssssssss-xxxx-4xxx-yxxx-x".replace(/[xys]/g,(function(e){var t="s"===e?Math.floor(16*Math.random()):15&GC++;return("x"===e?t:3&t|8).toString(16)}));return t+e};var JC={},QC=function(e){return"object"==b(e)&&null!==e&&!Array.isArray(e)},XC=["formatValue","mongoFormatValue","sqlFormatValue","jsonLogic","elasticSearchFormatValue","spelFormatValue","spelImportFuncs","spelImportValue"],ZC=["formatOp","mongoFormatOp","sqlFormatOp","jsonLogic","spelFormatOp"],eT=function(e,t){return void 0===e?t:e},tT=function(e,t){return e===t||(uk.Map.isMap(e)?e.equals(t):JSON.stringify(e)==JSON.stringify(t))},rT=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return e===t||(Array.isArray(e)?function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(e===t)return!0;if(!e||!t)return!1;var n=e.length;if(t.length!==n)return!1;for(var o=0;o<n;o++){if(!(r?rT(e[o],t[o],r):e[o]===t[o]))return!1}return!0}(e,t,r):uk.Map.isMap(e)?e.equals(t):"object"==b(e)?function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(e===t)return!0;if(!e||!t)return!1;var n=Object.keys(e),o=Object.keys(t),i=n.length;if(o.length!==i)return!1;for(var a=0;a<i;a++){var l=n[a];if(!(r?rT(e[l],t[l],r):e[l]===t[l]))return!1}return!0}(e,t,r):e===t)};var nT=function(e){return"object"===b(e)&&null!==e&&"function"==typeof e.toJS};function oT(e){return nT(e)?e:new ck.List(e)}function iT(e){return nT(e)?e.toJS():e}var aT=function(e){return e.replace(/[.*+?^${}()|[\]\\/]/g,"\\$&")},lT=function e(t){var r;if(t instanceof Array)return t.map((function(t,r){return e(t)}));if("object"===b(t)&&null!==t&&sT(t)){var n,o=YC(t,["$$typeof","_owner","_store","ref","key"]);return o.type&&(o.type="string"==typeof(r=o.type)?r:"function"==typeof r?r.name:r),null!=o&&null!==(n=o.props)&&void 0!==n&&n.children&&(o.props.children=e(o.props.children)),o}return t},sT=function(e){return"object"===b(e)&&null!==e&&!Array.isArray(e)&&Object.keys(e).includes("type")&&Object.keys(e).includes("props")&&Object.keys(e).includes("key")&&Object.keys(e).includes("ref")&&Object.keys(e).includes("$$typeof")},uT=function(e){return"object"===b(e)&&null!==e&&!Array.isArray(e)&&"string"==typeof e.type&&Object.keys(e).includes("props")},cT=function(e){return"object"===b(e)&&null!==e&&!Array.isArray(e)&&1===Object.keys(e).length};function dT(e){return new Promise((function(t){setTimeout(t,e)}))}function pT(e,t){return e||(e=[]),t||(t=[]),t.map((function(t){return[t,e.indexOf(t)]})).map((function(e,t,r){var n=ot(e,2),o=n[0];if(-1==n[1]){var i=r.slice(t+1),a=r.slice(0,t).reverse().find((function(e){var t=ot(e,2);return t[0],-1!=t[1]})),l=i.find((function(e){var t=ot(e,2);return t[0],-1!=t[1]}));return l?[o,"before",l[0]]:a?[o,"after",a[0]]:[o,"append",null]}return null})).filter((function(e){return null!==e})).reduce((function(e,t){var r=ot(t,3),n=r[0],o=r[1],i=r[2],a=e.indexOf(i);return-1==e.indexOf(n)&&(a>-1?e.splice(a+("after"==o?1:0),0,n):e.splice("append"==o?1/0:0,0,n)),e}),e.slice())}var fT=function e(t){"object"===b(t)&&null!==t&&(Object.keys(t).forEach((function(r){e(t[r])})),Object.freeze(t))},hT=function e(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];if(QC(t)){if(t.var)return n[t.var]=r,!0;if(!QC(r))return!1;for(var i in t){if(!e(t[i],r[i],n,[].concat(lk(o),[i])))return!1}return!0}if(Array.isArray(t)){if(!Array.isArray(r))return!1;for(var a=0;a<t.length;a++){if(!e(t[a],r[a],n,[].concat(lk(o),[a])))return!1}return!0}return t===r},gT=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(null!=e?e:"undefined"!=typeof process&&JC&&!1)?console:{error:function(){},log:function(){},warn:function(){},debug:function(){},info:function(){}}},vT=function(){for(var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=0;r<t.length;r++){var n=t[r];if(void 0!==n){e=n;break}}return e},mT=gT();const yT=Object.freeze(Object.defineProperty({__proto__:null,applyToJS:iT,cleanJSX:lT,deepEqual:tT,deepFreeze:fT,defaultValue:eT,escapeRegExp:aT,getFirstDefined:vT,getLogger:gT,isDirtyJSX:sT,isImmutable:nT,isJSX:uT,isJsonCompatible:hT,isJsonLogic:cT,logger:mT,mergeArraysSmart:pT,opDefKeysToOmit:ZC,shallowEqual:rT,sleep:dT,toImmutableList:oT,uuid:KC,widgetDefKeysToOmit:XC},Symbol.toStringTag,{value:"Module"}));var bT={exports:{}},_T={exports:{}};!function(e){function t(r){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(_T);var xT=_T.exports;!function(e){var t=xT.default;function r(){e.exports=r=function(){return o},e.exports.__esModule=!0,e.exports.default=e.exports;var n,o={},i=Object.prototype,a=i.hasOwnProperty,l=Object.defineProperty||function(e,t,r){e[t]=r.value},s="function"==typeof Symbol?Symbol:{},u=s.iterator||"@@iterator",c=s.asyncIterator||"@@asyncIterator",d=s.toStringTag||"@@toStringTag";function p(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{p({},"")}catch(n){p=function(e,t,r){return e[t]=r}}function f(e,t,r,n){var o=t&&t.prototype instanceof _?t:_,i=Object.create(o.prototype),a=new I(n||[]);return l(i,"_invoke",{value:T(e,r,a)}),i}function h(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}o.wrap=f;var g="suspendedStart",v="suspendedYield",m="executing",y="completed",b={};function _(){}function x(){}function w(){}var O={};p(O,u,(function(){return this}));var S=Object.getPrototypeOf,k=S&&S(S(L([])));k&&k!==i&&a.call(k,u)&&(O=k);var j=w.prototype=_.prototype=Object.create(O);function E(e){["next","throw","return"].forEach((function(t){p(e,t,(function(e){return this._invoke(t,e)}))}))}function C(e,r){function n(o,i,l,s){var u=h(e[o],e,i);if("throw"!==u.type){var c=u.arg,d=c.value;return d&&"object"==t(d)&&a.call(d,"__await")?r.resolve(d.__await).then((function(e){n("next",e,l,s)}),(function(e){n("throw",e,l,s)})):r.resolve(d).then((function(e){c.value=e,l(c)}),(function(e){return n("throw",e,l,s)}))}s(u.arg)}var o;l(this,"_invoke",{value:function(e,t){function i(){return new r((function(r,o){n(e,t,r,o)}))}return o=o?o.then(i,i):i()}})}function T(e,t,r){var o=g;return function(i,a){if(o===m)throw new Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:n,done:!0}}for(r.method=i,r.arg=a;;){var l=r.delegate;if(l){var s=q(l,r);if(s){if(s===b)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===g)throw o=y,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=m;var u=h(e,t,r);if("normal"===u.type){if(o=r.done?y:v,u.arg===b)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=y,r.method="throw",r.arg=u.arg)}}}function q(e,t){var r=t.method,o=e.iterator[r];if(o===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=n,q(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),b;var i=h(o,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,b;var a=i.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=n),t.delegate=null,b):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,b)}function A(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(A,this),this.reset(!0)}function L(e){if(e||""===e){var r=e[u];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function t(){for(;++o<e.length;)if(a.call(e,o))return t.value=e[o],t.done=!1,t;return t.value=n,t.done=!0,t};return i.next=i}}throw new TypeError(t(e)+" is not iterable")}return x.prototype=w,l(j,"constructor",{value:w,configurable:!0}),l(w,"constructor",{value:x,configurable:!0}),x.displayName=p(w,d,"GeneratorFunction"),o.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===x||"GeneratorFunction"===(t.displayName||t.name))},o.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,p(e,d,"GeneratorFunction")),e.prototype=Object.create(j),e},o.awrap=function(e){return{__await:e}},E(C.prototype),p(C.prototype,c,(function(){return this})),o.AsyncIterator=C,o.async=function(e,t,r,n,i){void 0===i&&(i=Promise);var a=new C(f(e,t,r,n),i);return o.isGeneratorFunction(t)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},E(j),p(j,d,"Generator"),p(j,u,(function(){return this})),p(j,"toString",(function(){return"[object Generator]"})),o.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},o.values=L,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(P),!e)for(var t in this)"t"===t.charAt(0)&&a.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=n)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(r,o){return l.type="throw",l.arg=e,t.next=r,o&&(t.method="next",t.arg=n),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],l=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=a.call(i,"catchLoc"),u=a.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&a.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,b):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),b},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),b}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;P(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:L(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=n),b}},o}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports}(bT);var wT=(0,bT.exports)(),OT=wT;try{regeneratorRuntime=wT}catch(V1){"object"==typeof globalThis?globalThis.regeneratorRuntime=wT:Function("r","regeneratorRuntime = r")(wT)}const ST=h(OT);var kT=mk,jT=Ci;var ET=function(e,t,r){(void 0!==r&&!jT(e[t],r)||void 0===r&&!(t in e))&&kT(e,t,r)};var CT=function(e){return function(t,r,n){for(var o=-1,i=Object(t),a=n(t),l=a.length;l--;){var s=a[e?l:++o];if(!1===r(i[s],s,i))break}return t}},TT=CT(),qT=Qs,AT=as;var PT=function(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]},IT=Sk,LT=Nk;var NT=ET,RT=Vk,MT=gj,FT=zk,DT=Cj,VT=gs,zT=Gl,BT=function(e){return AT(e)&&qT(e)},HT=ys,WT=ma,UT=fa,$T=pC,YT=Is,GT=PT,KT=function(e){return IT(e,LT(e))};var JT=jl,QT=ET,XT=TT,ZT=function(e,t,r,n,o,i,a){var l=GT(e,r),s=GT(t,r),u=a.get(s);if(u)NT(e,r,u);else{var c=i?i(l,s,r+"",e,t,a):void 0,d=void 0===c;if(d){var p=zT(s),f=!p&&HT(s),h=!p&&!f&&YT(s);c=s,p||f||h?zT(l)?c=l:BT(l)?c=FT(l):f?(d=!1,c=RT(s,!0)):h?(d=!1,c=MT(s,!0)):c=[]:$T(s)||VT(s)?(c=l,VT(l)?c=KT(l):UT(l)&&!WT(l)||(c=DT(s))):d=!1}d&&(a.set(s,c),o(c,s,n,i,a),a.delete(s)),NT(e,r,c)}},eq=fa,tq=Nk,rq=PT;var nq=function e(t,r,n,o,i){t!==r&&XT(r,(function(a,l){if(i||(i=new JT),eq(a))ZT(t,r,l,n,e,o,i);else{var s=o?o(rq(t,l),a,l+"",t,r,i):void 0;void 0===s&&(s=a),QT(t,l,s)}}),tq)},oq=EC,iq=jC,aq=LC;var lq=function(e,t){return aq(iq(e,t,oq),e+"")},sq=Ci,uq=Qs,cq=_s,dq=fa;var pq=function(e,t,r){if(!dq(r))return!1;var n=typeof t;return!!("number"==n?uq(r)&&cq(t,r.length):"string"==n&&t in r)&&sq(r[t],e)},fq=lq,hq=pq;var gq=function(e){return fq((function(t,r){var n=-1,o=r.length,i=o>1?r[o-1]:void 0,a=o>2?r[2]:void 0;for(i=e.length>3&&"function"==typeof i?(o--,i):void 0,a&&hq(r[0],r[1],a)&&(i=o<3?void 0:i,o=1),t=Object(t);++n<o;){var l=r[n];l&&e(t,l,n,i)}return t}))},vq=nq,mq=gq((function(e,t,r){vq(e,t,r)}));const yq=h(mq);var bq=xk,_q=BE,xq=_s,wq=fa,Oq=$E;var Sq=function(e,t,r,n){if(!wq(e))return e;for(var o=-1,i=(t=_q(t,e)).length,a=i-1,l=e;null!=l&&++o<i;){var s=Oq(t[o]),u=r;if("__proto__"===s||"constructor"===s||"prototype"===s)return e;if(o!=a){var c=l[s];void 0===(u=n?n(c,s,l):void 0)&&(u=wq(c)?c:xq(t[o+1])?[]:{})}bq(l,s,u),l=l[s]}return e},kq=KE,jq=Sq,Eq=BE;var Cq=function(e,t,r){for(var n=-1,o=t.length,i={};++n<o;){var a=t[n],l=kq(e,a);r(l,a)&&jq(i,Eq(a,e),l)}return i};var Tq=BE,qq=gs,Aq=Gl,Pq=_s,Iq=xs,Lq=$E;var Nq=function(e,t,r){for(var n=-1,o=(t=Tq(t,e)).length,i=!1;++n<o;){var a=Lq(t[n]);if(!(i=null!=e&&r(e,a)))break;e=e[a]}return i||++n!=o?i:!!(o=null==e?0:e.length)&&Iq(o)&&Pq(a,o)&&(Aq(e)||qq(e))},Rq=function(e,t){return null!=e&&t in Object(e)},Mq=Nq;var Fq=function(e,t){return null!=e&&Mq(e,t,Rq)},Dq=Cq,Vq=Fq;var zq=function(e,t){return Dq(e,t,(function(t,r){return Vq(e,r)}))},Bq=FC((function(e,t){return null==e?{}:zq(e,t)}));const Hq=h(Bq);var Wq=nq,Uq=gq((function(e,t,r,n){Wq(e,t,r,n)}));const $q=h(Uq);var Yq={formatField:function(e,t,r,n,o,i){return i?r:e},fieldSources:["field"],keepInputOnChangeFieldSrc:!0,fieldItemKeysForSearch:["label","path","altLabel","grouplabel"],listKeysForSearch:["title","value"],valueSourcesInfo:{value:{}},fieldSeparator:".",fieldSeparatorDisplay:".",canReorder:!0,canRegroup:!0,canDeleteLocked:!1,canLeaveEmptyGroup:!0,shouldCreateEmptyGroup:!1,canShortMongoQuery:!0,removeEmptyGroupsOnLoad:!0,removeIncompleteRulesOnLoad:!0,removeInvalidMultiSelectValuesOnLoad:!0,setOpOnChangeField:["keep","default"],groupOperators:["some","all","none"],defaultGroupConjunction:"AND",locale:{moment:"en"},valueLabel:"Value",valuePlaceholder:"Value",fieldLabel:"Field",operatorLabel:"Operator",funcLabel:"Function",fieldPlaceholder:"Select field",funcPlaceholder:"Select function",operatorPlaceholder:"Select operator",lockLabel:"Lock",lockedLabel:"Locked",deleteLabel:null,addGroupLabel:"Add group",addCaseLabel:"Add condition",addDefaultCaseLabel:"Add default condition",defaultCaseLabel:"Default:",addRuleLabel:"Add rule",addSubRuleLabel:"Add sub rule",delGroupLabel:"",notLabel:"Not",fieldSourcesPopupTitle:"Select source",valueSourcesPopupTitle:"Select value source",removeRuleConfirmOptions:null,removeGroupConfirmOptions:null};function Gq(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return Kq(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Kq(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(l)throw i}}}}function Kq(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Jq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Qq(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Jq(Object(r),!0).forEach((function(t){y(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Jq(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Xq=function(e){return"object"==b(e)&&null!==e&&!Array.isArray(e)},Zq=function(e,t){return null==e||""==e?void 0:Xq(e)?e:{value:e,title:void 0!==t?t:""+e}},eA=function(e){var t=Zq(e);return Xq(t)?Qq(Qq({},Zq(e)),{},{isCustom:!0}):t},tA=function(e){if(Array.isArray(e))return e.map((function(e){return Zq(e)}));if(!Xq(e))return e;var t=[];for(var r in e){var n=e[r];t.push(Zq(r,n))}return t},rA=function(e,t){if(Array.isArray(e)){var r=e.map((function(e){return Zq(e)}));return r.find((function(e){return""+e.value==""+t}))}return void 0!==e[t]?Zq(t,e[t]):void 0},nA=function(e,t){if(null==e)return t;var r=rA(e,t);return void 0!==r?r.title:t},oA=function(e,t){var r=[];if(Array.isArray(e)){var n,o=Gq(e);try{for(o.s();!(n=o.n()).done;){var i=n.value,a=t(Zq(i));null!=a&&r.push(a)}}catch(u){o.e(u)}finally{o.f()}}else for(var l in e){var s=t(Zq(l,e[l]));null!=s&&r.push(s)}return r},iA=function(e,t){return oA(t,(function(t){return""+t.value==""+e?t:null})).filter((function(e){return null!==e})).shift()};const aA=Object.freeze(Object.defineProperty({__proto__:null,getItemInListValues:rA,getListValue:iA,getTitleInListValues:nA,getValueInListValues:function(e,t){if(null==e)return t;var r=rA(e,t);return void 0!==r?r.value:t},listValuesToArray:tA,makeCustomListValue:eA,mapListValues:oA,searchListValue:function(e,t){return oA(t,(function(t){return-1!="".concat(t.value).indexOf(e)||-1!=t.title.indexOf(e)?t:null})).filter((function(e){return null!==e})).shift()},toListValue:Zq},Symbol.toStringTag,{value:"Module"}));var lA=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return e.interpose("children1").withMutations((function(e){return e.skip(1),e.push.apply(e,r),e}))},sA=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return e.interpose("children1").withMutations((function(e){return e.push.apply(e,r),e}))},uA=function(e,t){var r=new ck.OrderedMap(y({},e.get("id"),e)),n=e;return t.forEach((function(e){n=r.get(e),r=n.get("children1")})),n},cA=function(e){var t=e;return function e(r,n){var o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=n.push(r.get("id")),a=r.getIn(["properties","isLocked"]);o&&a&&(t=t.deleteIn(lA(i,"properties","isLocked")));var l=r.get("children1");l&&l.map((function(t,r){e(t,i,a||o)}))}(e,new ck.List),t},dA=function(e){var t=e;return function e(r,n,o,i){if(r){var a=r.get("path"),l=r.get("id"),s=l||i,u=n.push(s);a&&a.equals(u)||(t=t.setIn(lA(u,"path"),u)),l||(t=t.setIn(lA(u,"id"),s));var c=r.get("children1");c&&("Map"==c.constructor.name&&(t=t.setIn(lA(u,"children1"),new ck.OrderedMap(c))),c.map((function(t,r){e(t,u,o+1,r)})))}}(e,new ck.List,0),t},pA=function(e){var t=e;return function e(r,n,o,i){if(!r)return!1;var a=r.get("id")||i,l=n.push(a),s=r.get("children1");if(s){var u=s.map((function(t,r){return e(t,l,o+1,r)})).reduce((function(e,t){return e&&t}),!0);if((0==s.size||u)&&o>0)return t=t.deleteIn(lA(l)),!0}return!1}(e,new ck.List,0),t},fA=function(e){if(!e)return-1;var t=0;return function e(r,n,o){var i,a,l;"function"==typeof r.get?(i=r.get("id"),a=r.get("children1"),l=r.get("type")):(i=r.id,a=r.children1,l=r.type),"rule"==l||"rule_group"==l?t++:a&&a.map((function(t,r){e(t,n.concat(i))}))}(e,[]),t},hA=function(e){var t=[];return e&&function e(r,n,o){var i=r.get("id"),a=r.get("children1"),l=r.getIn(["properties","valueError"]),s=r.getIn(["properties","field"]);l&&l.size>0&&l.filter((function(e){return null!=e})).size>0&&t.push(s),a&&a.map((function(t,r){e(t,n.concat(i))}))}(e,[]),Array.from(new Set(t))},gA=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=e;return function e(r,n){r.path&&delete r.path,!t&&n&&delete r.id;var o=r.properties;o&&null==o.operatorOptions&&delete o.operatorOptions;var i=r.children1;if(i){for(var a in i)e(i[a],a);t&&(r.children1=Object.values(i))}}(e,null),r},vA=function(e){var t=[],r=e.get("children1");return r&&r.map((function(e){var r,n=e.getIn(["properties","value"]);n&&1==n.size?(r=n.get(0),Array.isArray(r)&&0==r.length&&(r=null)):r=null,t=[].concat(lk(t),[r])})),t},mA=function(e){return!e.get("children1")||0==e.get("children1").size},yA=function(e,t){return e.getIn(lA(t,"children1")).size>0};const bA=Object.freeze(Object.defineProperty({__proto__:null,expandTreePath:lA,expandTreeSubpath:sA,fixEmptyGroupsInTree:pA,fixPathsInTree:dA,getFlatTree:function(e){var t=[],r={},n=0;!function e(o,i,a,l,s,u,c,d,p){var f,h=o.get("type"),g=o.get("collapsed"),v=o.get("id"),m=o.get("children1"),y=o.getIn(["properties","isLocked"]),b=m?m.map((function(e,t){return t})).toArray():null,_="rule_group"==h,x=!s&&(!m||_),w=(null==b?void 0:b.length)>0,O=t.length,S=n;if(t.push(v),a||(n+=1),c.height=(c.height||0)+1,r[v]={type:h,parent:i.length?i[i.length-1]:null,parentType:d,caseId:"case_group"==h?v:p,isDefaultCase:"case_group"==h&&!m,path:i.concat(v),lev:u,leaf:!m,index:O,id:v,children:b,leafsCount:0,_top:O,top:a?null:S,collapsed:g,node:o,isLocked:y||l},m){var k={};m.map((function(t,r){e(t,i.concat(v),a||g,l||y,s||_,u+1,k,h,"case_group"==h?v:p)})),g||(c.height=(c.height||0)+(k.height||0),w&&!_&&(f=(k.depth||0)+1))}p&&x&&r[p].leafsCount++;var j=t.length,E=c.height;Object.assign(r[v],{_height:j-O,height:E,bottom:(a?null:S)+E}),null!=f&&(Object.assign(r[v],{depth:f}),c.depth=Math.max(c.depth||0,f))}(e,[],!1,!1,!1,0,{},null,null);for(var o=0;o<t.length;o++){var i=o>0?t[o-1]:null,a=o<t.length-1?t[o+1]:null,l=r[t[o]];l.prev=i,l.next=a}return{flat:t,items:r}},getItemByPath:uA,getLightTree:gA,getSwitchValues:vA,getTotalReordableNodesCountInTree:function(e){if(!e)return-1;var t=0;return function e(r,n,o){var i,a,l;"function"==typeof r.get?(i=r.get("id"),a=r.get("children1"),l=r.get("type")):(i=r.id,a=r.children1,l=r.type),t++,a&&!("rule_group"==l)&&a.map((function(t,r){e(t,n.concat(i))}))}(e,[]),t-1},getTotalRulesCountInTree:fA,getTreeBadFields:hA,hasChildren:yA,immutableToJs:iT,isEmptyTree:mA,isImmutable:nT,jsToImmutable:OA,removeIsLockedInTree:cA,toImmutableList:oT},Symbol.toStringTag,{value:"Module"}));var _A=function(e){if(xA(e))return e;if(wA(e))return OA(e);if("string"==typeof e&&e.startsWith('["~#iM"'))throw"You are trying to load query in obsolete serialization format (Immutable string) which is not supported in versions starting from 2.1.17";if("string"==typeof e)return OA(JSON.parse(e));throw"Can't load tree!"},xA=function(e){return uk.Map.isMap(e)},wA=function(e){return"object"==b(e)&&("group"==e.type||"switch_group"==e.type)};function OA(e){var t=uk.fromJS(e,(function(e,t){var r;if("properties"==e){r=t.toOrderedMap();for(var n=0;n<2;n++){var o;null===(null===(o=r.get("value"))||void 0===o?void 0:o.get(n))&&(r=r.setIn(["value",n],void 0))}}else r="value"==e&&ck.Iterable.isIndexed(t)?t.map((function(e){var t,r=null==e||null===(t=e.toJS)||void 0===t?void 0:t.call(e);return null!=r&&r.func?e.toOrderedMap():null!=e&&e.toJS?r:e})).toList():"asyncListValues"==e?t.toJS():"children1"==e&&ck.Iterable.isIndexed(t)?new ck.OrderedMap(t.map((function(e){return[e.get("id"),e]}))):ck.Iterable.isIndexed(t)?t.toList():t.toOrderedMap();return r}));return t}function SA(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return kA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return kA(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(l)throw i}}}}function kA(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function jA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function EA(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?jA(Object(r),!0).forEach((function(t){y(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jA(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var CA=function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n={errors:[]},o=bL(t,void 0,!1),i=TA(o),a=e?qA(e,i,o,"rule",n):void 0;a&&"group"!=a.type&&(a=MA(a,o));var l=a?_A(a):void 0;return r?[l,n.errors]:(n.errors.length&&console.warn("Errors while importing from JsonLogic:",n.errors),l)},TA=function(e){var t={};for(var r in e.operators){var n=e.operators[r];if("string"==typeof n.jsonLogic){var o=(n._jsonLogicIsRevArgs?"#":"")+n.jsonLogic+"/"+eT(n.cardinality,1);t[o]||(t[o]=[]),t[o].push(r)}else if("string"==typeof n.jsonLogic2){var i=n.jsonLogic2+"/"+eT(n.cardinality,1);t[i]||(t[i]=[]),t[i].push(r)}}var a={};for(var l in e.conjunctions){a[e.conjunctions[l].jsonLogicConj||l.toLowerCase()]=l}var s,u={},c=SA(kL(e));try{for(c.s();!(s=c.n()).done;){var d=ot(s.value,2),p=d[0],f=d[1],h=void 0;f.jsonLogicIsMethod?h="#"+f.jsonLogic:"string"==typeof f.jsonLogic&&(h=f.jsonLogic),h&&(u[h]||(u[h]=[]),u[h].push(p))}}catch(v){c.e(v)}finally{c.f()}var g=e.settings.jsonLogic;return{operators:t,conjunctions:a,funcs:u,varKeys:["var",g.groupVarKey,g.altVarKey]}},qA=function e(t,r,n,o,i){var a,l,s,u=arguments.length>5&&void 0!==arguments[5]&&arguments[5],c=arguments.length>6?arguments[6]:void 0,d=arguments.length>7?arguments[7]:void 0,p=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null;cT(t)&&(l=t[a=Object.keys(t)[0]],Array.isArray(l)||(l=[l]));var f=i.errors.length,h=n.settings.jsonLogic.lockedOp,g="!"==a&&1==l.length&&l[0]&&cT(l[0])&&r.varKeys.includes(Object.keys(l[0])[0]),v="!"==a&&!g,m=h&&a==h;m?s=e(l[0],r,n,o,i,u,c,d,p,!0):v?s=e(l[0],r,n,o,i,!u,c,d,p):"val"==o?s=PA(a,l,r,n,u,i,p)||NA(a,l,r,n,u,c,i,p)||AA(t,c,d,n,i):"rule"==o&&(s=RA(a,l,r,n,u,i,p,!1)||DA(a,l,r,n,u,i,p));var y=i.errors.length;return"!"!=a&&void 0===s&&y==f&&i.errors.push("Can't parse logic ".concat(JSON.stringify(t))),m&&(s.properties.isLocked=!0),s},AA=function(e,t,r,n,o){var i;if(void 0===e&&(e=null==t?void 0:t.defaultValue),void 0!==e){var a=n.widgets[r||(null==t?void 0:t.mainWidget)],l=null==t?void 0:t.type;if(a){if(!cT(e)){if("time"==l&&"number"==typeof e){var s=Math.floor(e/60/60)%24,u=Math.floor(e/60)%60,c=e%60,d=a.valueFormat;if(d){var p=new Date(e);p.setMilliseconds(0),p.setHours(s),p.setMinutes(u),p.setSeconds(c),e=X_(p).format(d)}else e="".concat(s,":").concat(u,":").concat(c)}if(["date","datetime"].includes(l)&&e&&!(e instanceof Date))try{var f=new Date(e);f instanceof Date&&f.toISOString()===e&&(e=f)}catch(lF){o.errors.push("Can't convert value ".concat(e," as Date")),e=void 0}if(e instanceof Date&&t){var h=a.valueFormat;h&&(e=X_(e).format(h))}var g;if(e&&null!=t&&null!==(i=t.fieldSettings)&&void 0!==i&&i.asyncFetch)g=Array.isArray(e)?e:[e];return{valueSrc:"value",value:e,valueType:a.type,asyncListValues:g}}o.errors.push("Unexpected logic in value: ".concat(JSON.stringify(e)))}else o.errors.push("No widget for type ".concat(l))}},PA=function(e,t,r,n,o,i){var a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;if(r.varKeys.includes(e)&&"string"==typeof t[0]){var l=qL(n,t[0],a),s=FL(n,l);return s?{valueSrc:"field",value:l,valueType:s.type}:void i.errors.push("No config for field ".concat(l))}},IA=function(e,t,r,n,o,i){var a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;Array.isArray(t)||(t=[t]);var l=PA(e,t,r,n,o,i,a);if(l)return{fieldSrc:"field",field:l.value}},LA=function(e,t,r,n,o){var i=NA(e,t,r,n,o,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6?arguments[6]:void 0,arguments.length>7&&void 0!==arguments[7]?arguments[7]:null);if(i)return{fieldSrc:"func",field:i.value}},NA=function(e,t,r,n,o){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=arguments.length>6?arguments[6]:void 0,l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;if(e){var s,u,c,d="method"==e;if(d){var p,f,h=B(t);p=h[0],s=h[1],f=h.slice(2),u=[p].concat(lk(f))}else s=e,u=t;var g=(d?"#":"")+s,v=(null==i?void 0:i.type)||(null==i?void 0:i.returnType),m=(r.funcs[g]||[]).filter((function(e){return!i||PL(n,e).returnType==v}));if(m.length)c=m[0];else{var b,_=y({},e,t),x=SA(kL(n));try{for(x.s();!(b=x.n()).done;){var w=ot(b.value,2),O=w[0],S=w[1];if(S.jsonLogicImport&&(!v||S.returnType==v)){var k=void 0;try{k=S.jsonLogicImport(_)}catch(I){}k&&(c=O,u=k)}}}catch(L){x.e(L)}finally{x.f()}}if(c&&c){var j=PL(n,c),E=Object.keys(j.args||{}),C=u.reduce((function(e,t,o){var i,s=E[o],u=j.args[s];return u&&(i=qA(t,r,n,"val",a,!1,u,null,l)),void 0!==i?EA(EA({},e),{},y({},s,i)):e}),{});for(var T in j.args){var q=j.args[T],A=C[T];if(void 0===A){var P;if(void 0!==(A=null==q?void 0:q.defaultValue))A={value:A,valueSrc:null!==(P=A)&&void 0!==P&&P.func?"func":"value",valueType:q.type};if(void 0===A){if(null==q||!q.isOptional)return void a.errors.push("No value for arg ".concat(T," of func ").concat(c))}else C[T]=A}}return{valueSrc:"func",value:{func:c,args:C},valueType:j.returnType}}}},RA=function(e,t,r,n,o,i){var a,l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=r.conjunctions[e],u=n.settings.fieldSeparator;if(s){var c=t.map((function(e){return qA(e,r,n,"rule",i,!1,null,null,l)})).filter((function(e){return void 0!==e})).reduce((function(e,t){return EA(EA({},e),{},y({},t.id,t))}),{}),d=Object.values(c).map((function(e){var t,r;return"field"==(null==e||null===(t=e.properties)||void 0===t?void 0:t.fieldSrc)&&(null==e||null===(r=e.properties)||void 0===r?void 0:r.field)})).filter((function(e){var t;return null==e||null===(t=e.includes)||void 0===t?void 0:t.call(e,u)})),p=Object.fromEntries((a=d,Array.from(new Set(a))).map((function(e){var t=e.split(u),r=Object.fromEntries(t.slice(0,-1).map((function(e,t,r){return[].concat(lk(r.slice(0,t)),[e])})).map((function(e){return[e.join(u),FL(n,e)]})).filter((function(e){var t=ot(e,2);t[0];var r=t[1];return"!group"==(null==r?void 0:r.type)})));return[e,Object.keys(r)]}))),f={conjunction:s,not:o},h=KC(),g={},v={};return Object.entries(c).map((function(e){var t=ot(e,2),r=t[0],o=t[1];if("group"==(null==o?void 0:o.type)||"rule_group"==(null==o?void 0:o.type))g[r]=o;else{var i,a=null==o||null===(i=o.properties)||void 0===i?void 0:i.field,c=p[a]||[],d=c[c.length-1];if(d){var f=g,h=RL(l,n),m=RL(d,n);rT(h,m.slice(0,h.length))||(h=[]);var y=d.split(u).slice(h.length).map((function(e,t,r){return[].concat(lk(h),lk(r.slice(0,t)),[e]).join(u)})).map((function(e){return{f:e,fc:FL(n,e)||{}}})).filter((function(e){return"!struct"!=e.fc.type}));y.map((function(e,t){var r=e.f,n=e.fc,o=v[r];o||(o=KC(),v[r]=o,f[o]={type:"rule_group",id:o,children1:{},properties:{conjunction:s,not:!1,field:r,fieldSrc:"field",mode:n.mode}}),f=f[o].children1})),f[r]=o}else o&&(g[r]=o)}})),{type:"group",id:h,children1:g,properties:f}}},MA=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{type:"group",id:KC(),children1:y({},e.id,e),properties:{conjunction:ZP(t),not:r}}},FA=function(e,t,r,n,o,i,a,l){var s=!(("all"==e||"some"==e)&&cT(r[1])&&"in"==Object.keys(r[1])[0])&&i.settings.groupOperators.includes(e),u=s?0:t-1;s?u=0:["==","!="].includes(e)&&1==u&&null===r[1]&&(t=1,u=0,r=[r[0]]);var c=e+"/"+u,d=o.operators[(a?"#":"")+c];if(d){var p,f=[];if(["<","<=",">",">="].includes(e)&&3==t)p=r[1],f=[r[0],r[2]];else if(a)p=r[1],f=[r[0]];else{var h=B(r);p=h[0],f=h.slice(1)}if(cT(p)){var g=function(e,t,r,n,o){var i,a,l,s,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,c=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,d=arguments.length>7?arguments[7]:void 0,p=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null,f=Object.keys(t)[0],h=Object.values(t)[0],g=function(e,t){return IA(e,t,n,o,u,d,p)||LA(e,t,n,o,u,c,d,p)},v=d.errors.length,m=g(f,h);if(m&&(i=m.field,a=m.fieldSrc),e&&(s=!0,l=r[0],r=[]),"reduce"==f&&Array.isArray(h)&&3==h.length){var y=ot(h,3),b=y[0],_=y[1],x=y[2];if(cT(b)&&0==x&&cT(_)&&Array.isArray(_["+"])&&1==_["+"][0]&&cT(_["+"][1])&&"accumulator"==_["+"][1].var)if(f=Object.keys(b)[0],h=Object.values(b)[0],"filter"==f){var w=ot(h,2),O=w[0],S=w[1];if(cT(O)){var k=g(f=Object.keys(O)[0],h=Object.values(O)[0]);k&&(i=k.field,a=k.fieldSrc,l=S,s=!0)}}else{var j=g(f,h);j&&(i=j.field,a=j.fieldSrc,s=!0)}}var E=d.errors.length;if(i||E!=v||d.errors.push("Unknown LHS ".concat(JSON.stringify(t))),i)return{field:i,fieldSrc:a,having:l,isGroup:s,args:r}}(s,p,f,o,i,null,null,l,n);if(g){var v=g.field,m=g.fieldSrc,y=g.having;g.isGroup;var b=g.args,_=FL(i,v);if(_){var x=d[0];if(d.length>1&&_&&_.operators){if(d=d.filter((function(e){return _.operators.includes(e)})),0==d.length)return void l.errors.push("No corresponding ops for LHS ".concat(v));x=d[0]}return{field:v,fieldSrc:m,fieldConfig:_,opKey:x,args:b,having:y}}l.errors.push("No config for LHS ".concat(v))}}else l.errors.push("Incorrect operands for ".concat(e,": ").concat(JSON.stringify(r)))}},DA=function e(t,r,n,o,i,a){var l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;if(t){var s=r.length;if(("all"==t||"some"==t)&&cT(r[1])){var u=Object.keys(r[1])[0];"in"==u&&(r=[r[0],r[1][u][1]],t=t+"-"+u)}var c=function(e,t,r,n,o,i,a){var l={errors:[]},s=FA(e,t,r,n,o,i,!1,l);if(s||(s=FA(e,t,r,n,o,i,!0,{errors:[]})),s)return s;a.errors.push(l.errors.join("; ")||"Unknown op ".concat(e,"/").concat(t))}(t,s,r,l,n,o,a);if(c){var d=c.field,p=c.fieldSrc,f=c.fieldConfig,h=c.opKey,g=c.args,v=c.having,m=o.operators[h];void 0!==f.showNot?f.showNot:o.settings.showNot;var b,_,x=!1;if("!group"==f.type&&v){_=v[b=Object.keys(v)[0]],Array.isArray(_)||(_=[_]);var w="!"==b&&1==_.length&&_[0]&&cT(_[0])&&n.varKeys.includes(Object.keys(_[0])[0]);"!"!=b||w||(x=!0,_=(v=v["!"])[b=Object.keys(v)[0]],Array.isArray(_)||(_=[_]))}i&&m.reversedOp&&(i=!1,h=m.reversedOp,m=o.operators[h]);var O=EI(o,d,h,null),S=g.map((function(e){return qA(e,n,o,"val",a,!1,f,O,l)}));if(!S.filter((function(e){return void 0===e})).length){var k;if(f.type,"!group"==f.type&&v){if(void 0!==n.conjunctions[b])k=RA(b,_,n,o,x,a,d,!0),x=!1;else{var j=e(b,_,n,o,x,a,d);x=!1,k=function(e,t,r,n,o){if(e)return{type:"rule_group",id:KC(),children1:y({},e.id,e),properties:{conjunction:o||XP(n,r),not:!1,field:t}}}(j,d,f,o,n.conjunctions.and)}if(!k)return;k.type="rule_group",Object.assign(k.properties,{field:d,mode:f.mode,operator:h}),"array"==f.mode&&Object.assign(k.properties,{value:S.map((function(e){return e.value})),valueSrc:S.map((function(e){return e.valueSrc})),valueType:S.map((function(e){return e.valueType}))}),i&&(k=MA(k,o,i))}else if("!group"!=f.type||v){var E=S.map((function(e){return e.asyncListValues})).filter((function(e){return null!=e})),C=E.length?E[0]:void 0;k={type:"rule",id:KC(),properties:EA({field:d,fieldSrc:p,operator:h,value:S.map((function(e){return e.value})),valueSrc:S.map((function(e){return e.valueSrc})),valueType:S.map((function(e){return e.valueType}))},C?{asyncListValues:C}:{})},i&&(k=MA(k,o,i))}else k={type:"rule_group",id:KC(),children1:{},properties:{conjunction:XP(o,f),not:i,mode:f.mode,field:d,operator:h}},"array"==f.mode&&Object.assign(k.properties,{value:S.map((function(e){return e.value})),valueSrc:S.map((function(e){return e.valueSrc})),valueType:S.map((function(e){return e.valueType}))});return k}}}},VA={exports:{}};!function(e,t){var r;r=function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=3)}([function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.SpelNode={create:function(e,t){var r,n={},o=e||"Abstract",i=[],a=null;if(n._type=o,n.getType=function(){return o},n.setType=function(e){o=e},n.getChildren=function(){return i},n.addChild=function(e){if(e){if(!e.setParent)throw{name:"Error",message:"Trying to add a child which is not a node: "+JSON.stringify(e)};e.setParent(n),i.push(e)}},n.getParent=function(){return a},n.setParent=function(e){a=e},n.getContext=function(e){return r||e.activeContext.peek()},n.setContext=function(e){r=e},n.getStartPosition=function(){return t>>16},n.getEndPosition=function(){return 65535&t},n.getValue=function(){throw{name:"MethodNotImplementedException",message:"SpelNode#getValue() must be overridden."}},n.toString=function(){var e="Kind: "+n.getType();e+=", Children: [";for(var t=0,r=n.getChildren().length;t<r;t+=1)e+="{"+n.getChildren()[t]+"}, ";return e+="]"},0===t)throw{name:"Error",message:"Position cannot be 0"};for(var l=arguments.length,s=Array(l>2?l-2:0),u=2;u<l;u++)s[u-2]=arguments[u];return s&&s.forEach((function(e){n.addChild(e)})),n}}},function(e,t,r){function n(e){this.elements=e||[]}Object.defineProperty(t,"__esModule",{value:!0}),t.Stack=n,n.prototype.push=function(e){return this.elements.push(e),e},n.prototype.pop=function(){return this.elements.pop()},n.prototype.peek=function(){return this.elements[this.elements.length-1]},n.prototype.empty=function(){return this.elements.length>0},n.prototype.search=function(e){return this.elements.length-this.elements.indexOf(e)}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n={LITERAL_INT:1,LITERAL_LONG:2,LITERAL_HEXINT:3,LITERAL_HEXLONG:4,LITERAL_STRING:5,LITERAL_REAL:6,LITERAL_REAL_FLOAT:7,LPAREN:"(",RPAREN:")",COMMA:",",IDENTIFIER:0,COLON:":",HASH:"#",RSQUARE:"]",LSQUARE:"[",LCURLY:"{",RCURLY:"}",DOT:".",PLUS:"+",STAR:"*",MINUS:"-",SELECT_FIRST:"^[",SELECT_LAST:"$[",QMARK:"?",PROJECT:"![",DIV:"/",GE:">=",GT:">",LE:"<=",LT:"<",EQ:"==",NE:"!=",MOD:"%",NOT:"!",ASSIGN:"=",INSTANCEOF:"instanceof",MATCHES:"matches",BETWEEN:"between",SELECT:"?[",POWER:"^",ELVIS:"?:",SAFE_NAVI:"?.",BEAN_REF:"@",SYMBOLIC_OR:"||",SYMBOLIC_AND:"&&",INC:"++",DEC:"--"};function o(e){this.type=e,this.tokenChars=n[e],this._hasPayload="string"!=typeof n[e],"number"==typeof n[e]&&(this._ordinal=n[e])}for(var i in n)n.hasOwnProperty(i)&&(o[i]=new o(i));o.prototype.toString=function(){return this.type+(0!==this.tokenChars.length?"("+this.tokenChars+")":"")},o.prototype.getLength=function(){return this.tokenChars.length},o.prototype.hasPayload=function(){return this._hasPayload},o.prototype.valueOf=function(e){for(var t in n)if(n.hasOwnProperty(t)&&n[t]===e)return o[t]},o.prototype.ordinal=function(){return this._ordinal},t.TokenKind=o},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.StandardContext=t.SpelExpressionEvaluator=void 0;var n=r(4),o=r(50);t.SpelExpressionEvaluator=n.SpelExpressionEvaluator,t.StandardContext=o.StandardContext},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.SpelExpressionEvaluator=void 0;var n=r(5),o=r(1),i={compile:function(e){var t=(0,n.SpelExpressionParser)().parse(e);return{eval:function(e,r){return function(e,t,r){var n,i=new o.Stack;return t||(t={}),i.push(t),n={rootContext:t,activeContext:i,locals:r},e.getValue(n)}(t,e,r)},_compiledExpression:t}},eval:function(e,t,r){return i.compile(e).eval(t,r)}};t.SpelExpressionEvaluator=i},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.SpelExpressionParser=void 0;var n=r(2),o=r(6),i=r(8),a=r(9),l=r(10),s=r(11),u=r(12),c=r(13),d=r(14),p=r(15),f=r(16),h=r(17),g=r(18),v=r(19),m=r(20),y=r(21),b=r(22),_=r(23),x=r(24),w=r(25),O=r(26),S=r(27),k=r(28),j=r(29),E=r(30),C=r(31),T=r(32),q=r(33),A=r(34),P=r(35),I=r(36),L=r(37),N=r(38),R=r(39),M=r(40),F=r(41),D=r(42),V=r(43),z=r(44),B=r(45),H=r(46),W=r(47),U=r(48),$=r(49);t.SpelExpressionParser=function(){var e,t,r,Y,G=new RegExp("[\\p{L}\\p{N}_$]+"),K=[];function J(){var e=Q();if(we()){var t=Se();if(t.getKind()===n.TokenKind.ASSIGN){null===e&&(e=s.NullLiteral.create(Te(t.startPos-1,t.endPos-1))),Oe();var r=Q();return g.Assign.create(Ce(t),e,r)}if(t.getKind()===n.TokenKind.ELVIS){null===e&&(e=s.NullLiteral.create(Te(t.startPos-1,t.endPos-2))),Oe();var o=J();return null===o&&(o=s.NullLiteral.create(Te(t.startPos+1,t.endPos+1))),N.Elvis.create(Ce(t),e,o)}if(t.getKind()===n.TokenKind.QMARK){null===e&&(e=s.NullLiteral.create(Te(t.startPos-1,t.endPos-1))),Oe();var i=J();me(n.TokenKind.COLON);var a=J();return L.Ternary.create(Ce(t),e,i,a)}}return e}function Q(){for(var e=X();xe("or")||ye(n.TokenKind.SYMBOLIC_OR);){var t=Oe(),r=X();je(t,e,r),e=P.OpOr.create(Ce(t),e,r)}return e}function X(){for(var e=Z();xe("and")||ye(n.TokenKind.SYMBOLIC_AND);){var t=Oe(),r=Z();je(t,e,r),e=A.OpAnd.create(Ce(t),e,r)}return e}function Z(){var e=ee(),t=function(){var e=Se();if(null===e)return null;if(e.isNumericRelationalOperator())return e;if(e.isIdentifier()){var t=e.stringValue();if("instanceof"===t.toLowerCase())return e.asInstanceOfToken();if("matches"===t.toLowerCase())return e.asMatchesToken();if("between"===t.toLowerCase())return e.asBetweenToken()}return null}();if(null!==t){var r=Oe(),o=ee();je(r,e,o);var i=t.kind;if(t.isNumericRelationalOperator()){var a=Ce(r);return i===n.TokenKind.GT?b.OpGT.create(a,e,o):i===n.TokenKind.LT?x.OpLT.create(a,e,o):i===n.TokenKind.LE?_.OpLE.create(a,e,o):i===n.TokenKind.GE?y.OpGE.create(a,e,o):i===n.TokenKind.EQ?v.OpEQ.create(a,e,o):m.OpNE.create(a,e,o)}return i===n.TokenKind.INSTANCEOF?V.OpInstanceof.create(Ce(r),e,o):i===n.TokenKind.MATCHES?I.OpMatches.create(Ce(r),e,o):z.OpBetween.create(Ce(r),e,o)}return e}function ee(){for(var e=te();_e(n.TokenKind.PLUS,n.TokenKind.MINUS,n.TokenKind.INC);){var t=Oe(),r=te();Ee(t,r),t.getKind()===n.TokenKind.PLUS?e=w.OpPlus.create(Ce(t),e,r):t.getKind()===n.TokenKind.MINUS&&(e=O.OpMinus.create(Ce(t),e,r))}return e}function te(){for(var e=re();_e(n.TokenKind.STAR,n.TokenKind.DIV,n.TokenKind.MOD);){var t=Oe(),r=re();je(t,e,r),e=t.getKind()===n.TokenKind.STAR?S.OpMultiply.create(Ce(t),e,r):t.getKind()===n.TokenKind.DIV?k.OpDivide.create(Ce(t),e,r):j.OpModulus.create(Ce(t),e,r)}return e}function re(){var e,t=ne();if(ye(n.TokenKind.POWER)){e=Oe();var r=ne();return Ee(e,r),E.OpPower.create(Ce(e),t,r)}return null!==t&&_e(n.TokenKind.INC,n.TokenKind.DEC)?(e=Oe()).getKind()===n.TokenKind.INC?C.OpInc.create(Ce(e),!0,t):T.OpDec.create(Ce(e),!0,t):t}function ne(){var e,t;return _e(n.TokenKind.PLUS,n.TokenKind.MINUS,n.TokenKind.NOT)?(e=Oe(),t=ne(),e.getKind()===n.TokenKind.NOT?q.OpNot.create(Ce(e),t):e.getKind()===n.TokenKind.PLUS?w.OpPlus.create(Ce(e),t):O.OpMinus.create(Ce(e),t)):_e(n.TokenKind.INC,n.TokenKind.DEC)?(e=Oe(),t=ne(),e.getKind()===n.TokenKind.INC?C.OpInc.create(Ce(e),!1,t):T.OpDec.create(Ce(e),!1,t)):function(){var e=[],t=function(){var e=Se();if(null===e)return!1;if(e.getKind()===n.TokenKind.LITERAL_INT||e.getKind()===n.TokenKind.LITERAL_LONG)ge(a.NumberLiteral.create(parseInt(e.stringValue(),10),Ce(e)));else if(e.getKind()===n.TokenKind.LITERAL_REAL||e.getKind()===n.TokenKind.LITERAL_REAL_FLOAT)ge(a.NumberLiteral.create(parseFloat(e.stringValue()),Ce(e)));else if(e.getKind()===n.TokenKind.LITERAL_HEXINT||e.getKind()===n.TokenKind.LITERAL_HEXLONG)ge(a.NumberLiteral.create(parseInt(e.stringValue(),16),Ce(e)));else if(xe("true"))ge(i.BooleanLiteral.create(!0,Ce(e)));else if(xe("false"))ge(i.BooleanLiteral.create(!1,Ce(e)));else{if(e.getKind()!==n.TokenKind.LITERAL_STRING)return!1;ge(l.StringLiteral.create(e.stringValue(),Ce(e)))}return Oe(),!0}()||function(){if(ye(n.TokenKind.LPAREN)){Oe();var e=J();return me(n.TokenKind.RPAREN),ge(e),!0}return!1}()||function(){if(ye(n.TokenKind.IDENTIFIER)){var e=Se();if("T"!==e.stringValue())return!1;var t=Oe();if(ye(n.TokenKind.RSQUARE))return ge(d.PropertyReference.create(t.stringValue(),Ce(t))),!0;me(n.TokenKind.LPAREN);for(var r=pe(),o=0;be(n.TokenKind.LSQUARE,!0);)me(n.TokenKind.RSQUARE),o++;return me(n.TokenKind.RPAREN),ge(B.TypeReference.create(Ce(e),r,o)),!0}return!1}()||function(){if(ye(n.TokenKind.IDENTIFIER)){var e=Se();return"null"===e.stringValue().toLowerCase()&&(Oe(),ge(s.NullLiteral.create(Ce(e))),!0)}return!1}()||function(){if(xe("new")){var e=Oe();if(ye(n.TokenKind.RSQUARE))return ge(d.PropertyReference.create(e.stringValue(),Ce(e))),!0;var t=pe(),r=[];if(r.push(t),ye(n.TokenKind.LSQUARE)){for(var o=[];be(n.TokenKind.LSQUARE,!0);)ye(n.TokenKind.RSQUARE)?o.push(null):o.push(J()),me(n.TokenKind.RSQUARE);ue()&&r.push(ve()),ge($.ConstructorReference.create(Ce(e),o,r))}else i=r,ye(n.TokenKind.LPAREN)||ke(Ce(Se()),"MISSING_CONSTRUCTOR_ARGS"),le(i),me(n.TokenKind.RPAREN),ge($.ConstructorReference.create(Ce(e),r));return!0}var i;return!1}()||he(!1)||ie()||function(){if(ye(n.TokenKind.BEAN_REF)){var e=Oe(),t=null,r=null;return ye(n.TokenKind.IDENTIFIER)?r=(t=me(n.TokenKind.IDENTIFIER)).data:ye(n.TokenKind.LITERAL_STRING)?r=(r=(t=me(n.TokenKind.LITERAL_STRING)).stringValue()).substring(1,r.length()-1):ke(e.startPos,"INVALID_BEAN_REFERENCE"),ge(H.BeanReference.create(Ce(t),r)),!0}return!1}()||se(!1)||de(!1)||ce()||ue()?ve():null;for(e.push(t);oe();)e.push(ve());return 1===e.length?e[0]:f.CompoundExpression.create(Te(t.getStartPosition(),e[e.length-1].getEndPosition()),e)}()}function oe(){var e=null;return e=_e(n.TokenKind.DOT,n.TokenKind.SAFE_NAVI)?function(){var e=Oe(),t=e.getKind()===n.TokenKind.SAFE_NAVI;return he(t)||ie()||se(t)||de(t)?ve():(null===Se()?ke(e.startPos,"OOD"):ke(e.startPos,"UNEXPECTED_DATA_AFTER_DOT",function(e){return e.getKind().hasPayload()?e.stringValue():e.getKind().toString().toLowerCase()}(Se())),null)}():ye(n.TokenKind.LSQUARE)&&ce()?ve():null,null!==e&&(ge(e),!0)}function ie(){if(!ye(n.TokenKind.HASH))return!1;var e=Oe(),t=me(n.TokenKind.IDENTIFIER),r=ae();return null===r?(ge(p.VariableReference.create(t.data,Te(e.startPos,t.endPos))),!0):(ge(u.FunctionReference.create(t.data,Te(e.startPos,t.endPos),r)),!0)}function ae(){if(!ye(n.TokenKind.LPAREN))return null;var e=[];return le(e),me(n.TokenKind.RPAREN),e}function le(e){var t,r=Se().startPos;do{Oe();var o=Se();null===o&&ke(r,"RUN_OUT_OF_ARGUMENTS"),o.getKind()!==n.TokenKind.RPAREN&&e.push(J()),t=Se()}while(null!==t&&t.kind===n.TokenKind.COMMA);null===t&&ke(r,"RUN_OUT_OF_ARGUMENTS")}function se(e){var t=Se();if(!be(n.TokenKind.PROJECT,!0))return!1;var r=J();return me(n.TokenKind.RSQUARE),ge(D.Projection.create(e,Ce(t),r)),!0}function ue(){var e=Se(),t=[];if(!be(n.TokenKind.LCURLY,!0))return!1;var r=null,o=Se();if(be(n.TokenKind.RCURLY,!0))r=R.InlineList.create(Te(e.startPos,o.endPos));else if(be(n.TokenKind.COLON,!0))o=me(n.TokenKind.RCURLY),r=M.InlineMap.create(Te(e.startPos,o.endPos));else{var i=J();if(ye(n.TokenKind.RCURLY))t.push(i),o=me(n.TokenKind.RCURLY),r=R.InlineList.create(Te(e.startPos,o.endPos),t);else if(be(n.TokenKind.COMMA,!0)){t.push(i);do{t.push(J())}while(be(n.TokenKind.COMMA,!0));o=me(n.TokenKind.RCURLY),r=R.InlineList.create(Ce(e.startPos,o.endPos),t)}else if(be(n.TokenKind.COLON,!0)){var a=[];for(a.push(i),a.push(J());be(n.TokenKind.COMMA,!0);)a.push(J()),me(n.TokenKind.COLON),a.push(J());o=me(n.TokenKind.RCURLY),r=M.InlineMap.create(Te(e.startPos,o.endPos),a)}else ke(e.startPos,"OOD")}return ge(r),!0}function ce(){var e=Se();if(!be(n.TokenKind.LSQUARE,!0))return!1;var t=J();return me(n.TokenKind.RSQUARE),ge(h.Indexer.create(Ce(e),t)),!0}function de(e){var t=Se();if(!function(){if(!we())return!1;var e=Se();return e.getKind()===n.TokenKind.SELECT||e.getKind()===n.TokenKind.SELECT_FIRST||e.getKind()===n.TokenKind.SELECT_LAST}())return!1;Oe();var r=J();return null===r&&ke(Ce(t),"MISSING_SELECTION_EXPRESSION"),me(n.TokenKind.RSQUARE),t.getKind()===n.TokenKind.SELECT_FIRST?ge(F.Selection.create(e,F.Selection.FIRST,Ce(t),r)):t.getKind()===n.TokenKind.SELECT_LAST?ge(F.Selection.create(e,F.Selection.LAST,Ce(t),r)):ge(F.Selection.create(e,F.Selection.ALL,Ce(t),r)),!0}function pe(){for(var t=[],r=Se();fe(r);)Oe(),r.kind!==n.TokenKind.DOT&&t.push(W.Identifier.create(r.stringValue(),Ce(r))),r=Se();t.length||(null===r&&ke(e.length(),"OOD"),ke(r.startPos,"NOT_EXPECTED_TOKEN","qualified ID",r.getKind().toString().toLowerCase()));var o=Te(t[0].getStartPosition(),t[t.length-1].getEndPosition());return U.QualifiedIdentifier.create(o,t)}function fe(e){if(null===e||e.kind===n.TokenKind.LITERAL_STRING)return!1;if(e.kind===n.TokenKind.DOT||e.kind===n.TokenKind.IDENTIFIER)return!0;var t=e.stringValue();return t&&t.length&&G.test(t)}function he(e){if(ye(n.TokenKind.IDENTIFIER)){var t=Oe(),r=ae();return null===r?(ge(d.PropertyReference.create(e,t.stringValue(),Ce(t))),!0):(ge(c.MethodReference.create(e,t.stringValue(),Ce(t),r)),!0)}return!1}function ge(e){K.push(e)}function ve(){return K.pop()}function me(t){var r=Oe();return null===r&&ke(e.length,"OOD"),r.getKind()!==t&&ke(r.startPos,"NOT_EXPECTED_TOKEN",t.toString().toLowerCase(),r.getKind().toString().toLowerCase()),r}function ye(e){return be(e,!1)}function be(e,t){if(!we())return!1;var r=Se();return r.getKind()===e?(t&&Y++,!0):e===n.TokenKind.IDENTIFIER&&r.getKind().ordinal()>=n.TokenKind.DIV.ordinal()&&r.getKind().ordinal()<=n.TokenKind.NOT.ordinal()&&null!==r.data}function _e(){if(!we())return!1;for(var e=Se(),t=Array.prototype.slice.call(arguments),r=0,n=t.length;r<n;r+=1)if(e.getKind()===t[r])return!0;return!1}function xe(e){if(!we())return!1;var t=Se();return t.getKind()===n.TokenKind.IDENTIFIER&&t.stringValue().toLowerCase()===e.toLowerCase()}function we(){return Y<t.length}function Oe(){return Y>=r?null:t[Y++]}function Se(){return Y>=r?null:t[Y]}function ke(t,r,n,o){throw n&&(r+="\nExpected: "+n),o&&(r+="\nActual: "+o),{name:"InternalParseException",message:"Error occurred while attempting to parse expression '"+e+"' at position "+t+". Message: "+r}}function je(e,t,r){!function(e,t){null===t&&ke(e.startPos,"LEFT_OPERAND_PROBLEM")}(e,t),Ee(e,r)}function Ee(e,t){null===t&&ke(e.startPos,"RIGHT_OPERAND_PROBLEM")}function Ce(e){return(e.startPos<<16)+e.endPos}function Te(e,t){return(e<<16)+t}return{setConfiguration:function(e){},parse:function(n,i){try{e=n,t=o.Tokenizer.tokenize(n),r=t.length,Y=0,K=[];var a=J();return we()&&ke(Se().startPos,"MORE_INPUT",Oe().toString()),a}catch(lF){throw lF.message}}}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.Tokenizer=void 0;var n=r(7),o=r(2),i=["DIV","EQ","GE","GT","LE","LT","MOD","NE","NOT"],a=[];!function(){var e;for(e="0".charCodeAt(0);e<="9".charCodeAt(0);e+=1)a[e]|=3;for(e="A".charCodeAt(0);e<="F".charCodeAt(0);e+=1)a[e]|=2;for(e="a".charCodeAt(0);e<="f".charCodeAt(0);e+=1)a[e]|=2;for(e="A".charCodeAt(0);e<="Z".charCodeAt(0);e+=1)a[e]|=4;for(e="a".charCodeAt(0);e<="z".charCodeAt(0);e+=1)a[e]|=4}(),t.Tokenizer={tokenize:function(e){var t=e,r=e+"\0",l=r.length,s=0,u=[];function c(){for(var e,i=s,a=!1;!a;)if("'"===(e=r[s+=1])&&("'"===r[s+1]?s+=1:a=!0),0===e.charCodeAt(0))throw{name:"SpelParseException",message:"Non-terminating quoted string in expression ("+t+") at position "+s};s+=1,u.push(new n.Token(o.TokenKind.LITERAL_STRING,m(i,s),i,s))}function d(){for(var e,i=s,a=!1;!a;)if('"'===(e=r[s+=1])&&('"'===r[s+1]?s+=1:a=!0),0===e.charCodeAt(0))throw{name:"SpelParseException",message:"Non-terminating double-quoted string in expression ("+t+") at position "+s};s+=1,u.push(new n.Token(o.TokenKind.LITERAL_STRING,m(i,s),i,s))}function p(e){var n,o,i,a=!1,l=s,u=r[s+1];if(!e||"x"!==u&&"X"!==u){do{s+=1}while(S(r[s]));if("."===(u=r[s])){a=!0,n=s;do{s+=1}while(S(r[s]));if(s===n+1)return void h(m(l,s=n),!1,l,s)}if(o=s,x("L","l")){if(a)throw{name:"SpelParseException",message:"Real cannot be long in expression ("+t+") at position "+s};h(m(l,o),!0,l,o),s+=1}else if(function(e){return"e"===e||"E"===e}(r[s])){a=!0,function(e){return"+"===e||"-"===e}(r[s+=1])&&(s+=1);do{s+=1}while(S(r[s]));i=!1,w(r[s])?(i=!0,o=s+=1):O(r[s])&&(o=s+=1),v(m(l,s),i,l,s)}else i=!1,w(u=r[s])?(a=!0,i=!0,o=s+=1):O(u)&&(a=!0,o=s+=1),a?v(m(l,o),i,l,o):h(m(l,o),!1,l,o)}else{s+=1;do{s+=1}while(j(r[s]));x("L","l")?(g(m(l+2,s),!0,l,s),s+=1):g(m(l+2,s),!1,l,s)}}function f(){var e,t,a,l=s;do{s+=1}while(k(a=r[s])||S(a)||"_"===a||"$"===a);e=m(l,s),(s-l==2||s-l==3)&&(t=e.toUpperCase(),i.indexOf(t)>=0)?function(e,t,r){u.push(new n.Token(e,r,t,t+e.getLength()))}(o.TokenKind.valueOf(t),l,e):u.push(new n.Token(o.TokenKind.IDENTIFIER,e.replace("\0",""),l,s))}function h(e,t,r,i){t?u.push(new n.Token(o.TokenKind.LITERAL_LONG,e,r,i)):u.push(new n.Token(o.TokenKind.LITERAL_INT,e,r,i))}function g(e,r,i,a){if(0===e.length)throw r?{name:"SpelParseException",message:"Not a long in expression ("+t+") at position "+s}:{name:"SpelParseException",message:"Not an int in expression ("+t+") at position "+s};r?u.push(new n.Token(o.TokenKind.LITERAL_HEXLONG,e,i,a)):u.push(new n.Token(o.TokenKind.LITERAL_HEXINT,e,i,a))}function v(e,t,r,i){t?u.push(new n.Token(o.TokenKind.LITERAL_REAL_FLOAT,e,r,i)):u.push(new n.Token(o.TokenKind.LITERAL_REAL,e,r,i))}function m(e,t){return r.substring(e,t)}function y(e){return 2===e.tokenChars.length&&r[s]===e.tokenChars[0]&&r[s+1]===e.tokenChars[1]}function b(e){u.push(new n.Token(e,null,s,s+1)),s+=1}function _(e){u.push(new n.Token(e,null,s,s+2)),s+=2}function x(e,t){var n=r[s];return n===e||n===t}function w(e){return"f"===e||"F"===e}function O(e){return"d"===e||"D"===e}function S(e){return!(e.charCodeAt(0)>255)&&0!=(1&a[e.charCodeAt(0)])}function k(e){return!(e.charCodeAt(0)>255)&&0!=(4&a[e.charCodeAt(0)])}function j(e){return!(e.charCodeAt(0)>255)&&0!=(2&a[e.charCodeAt(0)])}return function(){for(var e;s<l;)if(k(e=r[s]))f();else switch(e){case"+":y(o.TokenKind.INC)?_(o.TokenKind.INC):b(o.TokenKind.PLUS);break;case"_":f();break;case"-":y(o.TokenKind.DEC)?_(o.TokenKind.DEC):b(o.TokenKind.MINUS);break;case":":b(o.TokenKind.COLON);break;case".":b(o.TokenKind.DOT);break;case",":b(o.TokenKind.COMMA);break;case"*":b(o.TokenKind.STAR);break;case"/":b(o.TokenKind.DIV);break;case"%":b(o.TokenKind.MOD);break;case"(":b(o.TokenKind.LPAREN);break;case")":b(o.TokenKind.RPAREN);break;case"[":b(o.TokenKind.LSQUARE);break;case"#":b(o.TokenKind.HASH);break;case"]":b(o.TokenKind.RSQUARE);break;case"{":b(o.TokenKind.LCURLY);break;case"}":b(o.TokenKind.RCURLY);break;case"@":b(o.TokenKind.BEAN_REF);break;case"^":y(o.TokenKind.SELECT_FIRST)?_(o.TokenKind.SELECT_FIRST):b(o.TokenKind.POWER);break;case"!":y(o.TokenKind.NE)?_(o.TokenKind.NE):y(o.TokenKind.PROJECT)?_(o.TokenKind.PROJECT):b(o.TokenKind.NOT);break;case"=":y(o.TokenKind.EQ)?_(o.TokenKind.EQ):b(o.TokenKind.ASSIGN);break;case"&":if(!y(o.TokenKind.SYMBOLIC_AND))throw{name:"SpelParseException",message:"Missing character '&' in expression ("+t+") at position "+s};_(o.TokenKind.SYMBOLIC_AND);break;case"|":if(!y(o.TokenKind.SYMBOLIC_OR))throw{name:"SpelParseException",message:"Missing character '|' in expression ("+t+") at position "+s};_(o.TokenKind.SYMBOLIC_OR);break;case"?":y(o.TokenKind.SELECT)?_(o.TokenKind.SELECT):y(o.TokenKind.ELVIS)?_(o.TokenKind.ELVIS):y(o.TokenKind.SAFE_NAVI)?_(o.TokenKind.SAFE_NAVI):b(o.TokenKind.QMARK);break;case"$":y(o.TokenKind.SELECT_LAST)?_(o.TokenKind.SELECT_LAST):f();break;case">":y(o.TokenKind.GE)?_(o.TokenKind.GE):b(o.TokenKind.GT);break;case"<":y(o.TokenKind.LE)?_(o.TokenKind.LE):b(o.TokenKind.LT);break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":p("0"===e);break;case" ":case"\t":case"\r":case"\n":case"\0":s+=1;break;case"'":c();break;case'"':d();break;case"\\":throw{name:"SpelParseException",message:"Unexpected escape character in expression ("+t+") at position "+s};default:throw{name:"SpelParseException",message:"Cannot handle character '"+e+"' in expression ("+t+") at position "+s}}}(),u}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.Token=void 0;var n=r(2);function o(e,t,r,n){this.kind=e,this.startPos=r,this.endPos=n,t&&(this.data=t)}o.prototype.getKind=function(){return this.kind},o.prototype.toString=function(){var e="[";return e+=this.kind.toString(),this.kind.hasPayload()&&(e+=":"+this.data),e+="]",e+="("+this.startPos+","+this.endPos+")"},o.prototype.isIdentifier=function(){return this.kind===n.TokenKind.IDENTIFIER},o.prototype.isNumericRelationalOperator=function(){return this.kind===n.TokenKind.GT||this.kind===n.TokenKind.GE||this.kind===n.TokenKind.LT||this.kind===n.TokenKind.LE||this.kind===n.TokenKind.EQ||this.kind===n.TokenKind.NE},o.prototype.stringValue=function(){return this.data},o.prototype.asInstanceOfToken=function(){return new o(n.TokenKind.INSTANCEOF,this.startPos,this.endPos)},o.prototype.asMatchesToken=function(){return new o(n.TokenKind.MATCHES,this.startPos,this.endPos)},o.prototype.asBetweenToken=function(){return new o(n.TokenKind.BETWEEN,this.startPos,this.endPos)},o.prototype.getStartPosition=function(){return this.startPos},o.prototype.getEndPosition=function(){return this.endPos},t.Token=o},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.BooleanLiteral=void 0;var n=r(0);t.BooleanLiteral={create:function(e,t){var r=n.SpelNode.create("boolean",t);return r.getValue=function(){return e},r.setValue=function(t){return e=t},r}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.NumberLiteral=void 0;var n=r(0);t.NumberLiteral={create:function(e,t){var r=n.SpelNode.create("number",t);return r.getValue=function(){return e},r.setValue=function(t){return e=t},r}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.StringLiteral=void 0;var n=r(0);t.StringLiteral={create:function(e,t){var r=n.SpelNode.create("string",t);return e=function(e){return("'"===e[0]&&"'"===e[e.length-1]||'"'===e[0]&&'"'===e[e.length-1])&&(e=e.substring(1,e.length-1)),e.replace(/''/g,"'").replace(/""/g,'"')}(e),r.getValue=function(){return e},r.setValue=function(t){return e=t},r}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.NullLiteral=void 0;var n=r(0);t.NullLiteral={create:function(e,t){var r=n.SpelNode.create("null",t);return r.getValue=function(){return null},r}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.FunctionReference=void 0;var n=r(0),o=r(1);t.FunctionReference={create:function(e,t,r){var i=n.SpelNode.create("function",t);return i.getRaw=function(){return{functionName:e,args:r}},i.getValue=function(t){var n=t.locals||{},i=t.rootContext,a=[];if(r.forEach((function(e){var r=t.activeContext;t.activeContext=new o.Stack,t.activeContext.push(t.rootContext),a.push(e.getValue(t)),t.activeContext=r})),n[e])return n[e].apply(i,a);throw{name:"FunctionDoesNotExistException",message:"Function '"+e+"' does not exist."}},i}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.MethodReference=void 0;var n=r(0),o=r(1);t.MethodReference={create:function(e,t,r,i){var a=n.SpelNode.create("method",r);return a.getRaw=function(){return{methodName:t,args:i}},a.getValue=function(r){var n,a=r.activeContext.peek(),l=[];if(!a)throw{name:"ContextDoesNotExistException",message:"Attempting to look up property '"+t+"' for an undefined context."};function s(r){if(null==r){if(e)return null;throw{name:"NullPointerException",message:"Method "+t+" does not exist."}}return r}if(i.forEach((function(e){var t=r.activeContext;r.activeContext=new o.Stack,r.activeContext.push(r.rootContext),l.push(e.getValue(r)),r.activeContext=t})),"get"===t.substr(0,3)&&!a[t])return s(a[t.charAt(3).toLowerCase()+t.substring(4)]);if("set"===t.substr(0,3)&&!a[t])return a[t.charAt(3).toLowerCase()+t.substring(4)]=l[0];if(Array.isArray(a)){if("size"===t)return a.length;if("contains"===t)return a.includes(l[0])}return(n=s(a[t]))?n.apply(a,l):null},a}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.PropertyReference=void 0;var n=r(0);t.PropertyReference={create:function(e,t,r){var o=n.SpelNode.create("property",r);return o.getRaw=function(){return t},o.getValue=function(r){var n=r.activeContext.peek();if(!n){if(e)return null;throw{name:"ContextDoesNotExistException",message:"Attempting to look up property '"+t+"' for an undefined context."}}if(void 0===n[t]||null===n[t]){if(e)return null;if("size"===t&&Array.isArray(n))return n.length;throw{name:"NullPointerException",message:"Property '"+t+"' does not exist."}}return n[t]},o.setValue=function(e,r){var n=r.activeContext.peek();if(!n)throw{name:"ContextDoesNotExistException",message:"Attempting to assign property '"+t+"' for an undefined context."};return n[t]=e},o.getName=function(){return t},o}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.VariableReference=void 0;var n=r(0);t.VariableReference={create:function(e,t){var r=n.SpelNode.create("variable",t);return r.getRaw=function(){return e},r.getValue=function(t){var r=t.activeContext.peek(),n=t.locals;if(!r)throw{name:"ContextDoesNotExistException",message:"Attempting to look up variable '"+e+"' for an undefined context."};return"this"===e?r:"root"===e?t.rootContext:n[e]},r.setValue=function(t,r){return r.locals[e]=t},r}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.CompoundExpression=void 0;var n=r(0);t.CompoundExpression={create:function(e,t){var r=n.SpelNode.create.apply(null,["compound",e].concat(t));function o(e){var t,n=r.getChildren().length;for(t=0;t<n;t+=1)"indexer"===r.getChildren()[t].getType()?e.activeContext.push(e.activeContext.peek()[r.getChildren()[t].getValue(e)]):e.activeContext.push(r.getChildren()[t].getValue(e));return function(){for(t=0;t<n;t+=1)e.activeContext.pop()}}return r.getValue=function(e){var t;if(!e.activeContext.peek())throw{name:"ContextDoesNotExistException",message:"Attempting to evaluate compound expression with an undefined context."};var r=o(e);return t=e.activeContext.peek(),r(),t},r.setValue=function(e,t){var n=o(t),i=r.getChildren().length;return t.activeContext.pop(),e=r.getChildren()[i-1].setValue(e,t),t.activeContext.push(null),n(),e},r}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.Indexer=void 0;var n=r(0),o=r(1);t.Indexer={create:function(e,t){var r=n.SpelNode.create.apply(null,["indexer",e].concat(t));return r.getValue=function(e){var t,n,i=e.activeContext,a=r.getChildren().length;if(e.activeContext=new o.Stack,e.activeContext.push(e.rootContext),!e.activeContext.peek())throw{name:"ContextDoesNotExistException",message:"Attempting to evaluate compound expression with an undefined context."};for(t=0;t<a;t+=1)e.activeContext.push(r.getChildren()[t].getValue(e));for(n=e.activeContext.peek(),t=0;t<a;t+=1)e.activeContext.pop();return e.activeContext=i,n},r}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.Assign=void 0;var n=r(0);t.Assign={create:function(e,t,r){var o=n.SpelNode.create("assign",e,t,r);return o.getValue=function(e){if(!e.activeContext.peek())throw{name:"ContextDoesNotExistException",message:"Attempting to assign property '"+t.getValue(e)+"' for an undefined context."};return t.setValue(r.getValue(e),e)},o}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.OpEQ=void 0;var n=r(0);t.OpEQ={create:function(e,t,r){var o=n.SpelNode.create("op-eq",e,t,r);return o.getValue=function(e){return t.getValue(e)===r.getValue(e)},o}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.OpNE=void 0;var n=r(0);t.OpNE={create:function(e,t,r){var o=n.SpelNode.create("op-ne",e,t,r);return o.getValue=function(e){return t.getValue(e)!==r.getValue(e)},o}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.OpGE=void 0;var n=r(0);t.OpGE={create:function(e,t,r){var o=n.SpelNode.create("op-ge",e,t,r);return o.getValue=function(e){return t.getValue(e)>=r.getValue(e)},o}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.OpGT=void 0;var n=r(0);t.OpGT={create:function(e,t,r){var o=n.SpelNode.create("op-gt",e,t,r);return o.getValue=function(e){return t.getValue(e)>r.getValue(e)},o}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.OpLE=void 0;var n=r(0);t.OpLE={create:function(e,t,r){var o=n.SpelNode.create("op-le",e,t,r);return o.getValue=function(e){return t.getValue(e)<=r.getValue(e)},o}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.OpLT=void 0;var n=r(0);t.OpLT={create:function(e,t,r){var o=n.SpelNode.create("op-lt",e,t,r);return o.getValue=function(e){return t.getValue(e)<r.getValue(e)},o}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.OpPlus=void 0;var n=r(0);t.OpPlus={create:function(e,t,r){var o=n.SpelNode.create("op-plus",e,t,r);return o.getValue=function(e){return r?t.getValue(e)+r.getValue(e):+t.getValue(e)},o}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.OpMinus=void 0;var n=r(0);t.OpMinus={create:function(e,t,r){var o=n.SpelNode.create("op-minus",e,t,r);return o.getValue=function(e){return r?t.getValue(e)-r.getValue(e):-t.getValue(e)},o}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.OpMultiply=void 0;var n=r(0);t.OpMultiply={create:function(e,t,r){var o=n.SpelNode.create("op-multiply",e,t,r);return o.getValue=function(e){var n=t.getValue(e),o=r.getValue(e);if("number"==typeof n&&"number"==typeof o)return n*o;if("string"==typeof n&&"number"==typeof o){for(var i="",a=0;a<o;a+=1)i+=n;return i}return null},o}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.OpDivide=void 0;var n=r(0);t.OpDivide={create:function(e,t,r){var o=n.SpelNode.create("op-divide",e,t,r);return o.getValue=function(e){return t.getValue(e)/r.getValue(e)},o}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.OpModulus=void 0;var n=r(0);t.OpModulus={create:function(e,t,r){var o=n.SpelNode.create("op-modulus",e,t,r);return o.getValue=function(e){return t.getValue(e)%r.getValue(e)},o}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.OpPower=void 0;var n=r(0);t.OpPower={create:function(e,t,r){var o=n.SpelNode.create("op-power",e,t,r);return o.getValue=function(e){return Math.pow(t.getValue(e),r.getValue(e))},o}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.OpInc=void 0;var n=r(0);t.OpInc={create:function(e,t,r){var o=n.SpelNode.create("op-inc",e,r);return o.getValue=function(e){var n=r.getValue(e);return r.setValue(n+1,e),t?n:n+1},o}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.OpDec=void 0;var n=r(0);t.OpDec={create:function(e,t,r){var o=n.SpelNode.create("op-dec",e,r);return o.getValue=function(e){var n=r.getValue(e);return r.setValue(n-1,e),t?n:n-1},o}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.OpNot=void 0;var n=r(0);t.OpNot={create:function(e,t){var r=n.SpelNode.create("op-not",e,t);return r.getValue=function(e){return!t.getValue(e)},r}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.OpAnd=void 0;var n=r(0);t.OpAnd={create:function(e,t,r){var o=n.SpelNode.create("op-and",e,t,r);return o.getValue=function(e){return!!t.getValue(e)&&!!r.getValue(e)},o}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.OpOr=void 0;var n=r(0);t.OpOr={create:function(e,t,r){var o=n.SpelNode.create("op-or",e,t,r);return o.getValue=function(e){return!!t.getValue(e)||!!r.getValue(e)},o}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.OpMatches=void 0;var n=r(0);t.OpMatches={create:function(e,t,r){var o=n.SpelNode.create("matches",e,t,r);return o.getValue=function(e){var n=t.getValue(e),o=r.getValue(e);try{return!!new RegExp(o).exec(n)}catch(i){throw{name:"EvaluationException",message:i.toString()}}},o}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.Ternary=void 0;var n=r(0);t.Ternary={create:function(e,t,r,o){var i=n.SpelNode.create("ternary",e,t,r,o);return i.getValue=function(e){return t.getValue(e)?r.getValue(e):o.getValue(e)},i}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.Elvis=void 0;var n=r(0);t.Elvis={create:function(e,t,r){var o=n.SpelNode.create("elvis",e,t,r);return o.getValue=function(e){return null!==t.getValue(e)?t.getValue(e):r.getValue(e)},o}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.InlineList=void 0;var n=r(0);t.InlineList={create:function(e,t){var r=n.SpelNode.create("list",e),o=[].concat(t||[]);return r.getRaw=function(){return o},r.getValue=function(e){return o.map((function(t){return t.getValue(e)}))},r}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.InlineMap=void 0;var n=r(0);t.InlineMap={create:function(e,t){var r=n.SpelNode.create("map",e),o=[].concat(t||[]);return r.getValue=function(e){var t=!0,r=null,n={};return o.forEach((function(o){t?r="property"===o.getType()?o.getName():o.getValue(e):n[r]=o.getValue(e),t=!t})),n},r}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.Selection=void 0;var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=r(0);function i(e,t,r){var n;return r.activeContext.push(e),n=t.getValue(r),r.activeContext.pop(),n}t.Selection={create:function(e,t,r,a){var l=o.SpelNode.create("selection",r,a);return l.getValue=function(e){var r=e.activeContext.peek();if(r){if(Array.isArray(r))return function(e,t,r,n){var o=e.filter((function(e){return i(e,r,n)}));switch(t){case"ALL":return o;case"FIRST":return o[0]||null;case"LAST":return o.length?o[o.length-1]:null}}(r,t,a,e);if("object"===(void 0===r?"undefined":n(r)))return function(e,t,r,n){var o,a,l={},s=[],u={};for(a in e)e.hasOwnProperty(a)&&i(o={key:a,value:e[a]},r,n)&&s.push(o);switch(t){case"ALL":return s.forEach((function(e){l[e.key]=e.value})),l;case"FIRST":return s.length?(u[s[0].key]=s[0].value,u):null;case"LAST":return s.length?(u[s[s.length-1].key]=s[s.length-1].value,u):null}s.forEach((function(e){l[e.key]=e.value}))}(r,t,a,e)}return null},l},FIRST:"FIRST",LAST:"LAST",ALL:"ALL"}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.Projection=void 0;var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=r(0);function i(e,t,r){return e.map((function(e){var n;return r.activeContext.push(e),n=t.getValue(r),r.activeContext.pop(),n}))}t.Projection={create:function(e,t,r){var a=o.SpelNode.create("projection",t,r);return a.getValue=function(e){var t,o=e.activeContext.peek(),a=[];if(Array.isArray(o))return i(o,r,e);if("object"===(void 0===o?"undefined":n(o))){for(t in o)o.hasOwnProperty(t)&&a.push(o[t]);return i(a,r,e)}return null},a}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.OpInstanceof=void 0;var n=r(0);t.OpInstanceof={create:function(e,t,r){var o=n.SpelNode.create("instanceof",e,t,r);return o.getValue=function(e){throw{name:"MethodNotImplementedException",message:"OpInstanceOf: Not implemented"}},o}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.OpBetween=void 0;var n=r(0);t.OpBetween={create:function(e,t,r){var o=n.SpelNode.create("between",e,t,r);return o.getValue=function(e){throw{name:"MethodNotImplementedException",message:"OpBetween: Not implemented"}},o}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.TypeReference=void 0;var n=r(0);t.TypeReference={create:function(e,t,r){return(t=n.SpelNode.create("typeref",e,t)).getValue=function(e){throw{name:"MethodNotImplementedException",message:"TypeReference: Not implemented"}},t}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.BeanReference=void 0;var n=r(0);t.BeanReference={create:function(e,t){var r=n.SpelNode.create("beanref",e);return r.getValue=function(e){throw{name:"MethodNotImplementedException",message:"BeanReference: Not implemented"}},r}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.Identifier=void 0;var n=r(0);t.Identifier={create:function(e,t){var r=n.SpelNode.create("identifier",t);return r.getRaw=function(){return e},r.getValue=function(e){throw{name:"MethodNotImplementedException",message:"Identifier: Not implemented"}},r}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.QualifiedIdentifier=void 0;var n=r(0);t.QualifiedIdentifier={create:function(e,t){var r=n.SpelNode.create.apply(n.SpelNode,["qualifiedidentifier",e].concat(function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}(t)));return r.getRaw=function(){return t.map((function(e){return e.getRaw()}))},r.getValue=function(e){throw{name:"MethodNotImplementedException",message:"QualifiedIdentifier: Not implemented"}},r}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.ConstructorReference=void 0;var n=r(0),o=r(1);t.ConstructorReference={create:function(e,t,r){var i,a=void 0!==r;a?i=t.length&&t[0]&&"number"===t[0].getType()?t[0].getValue():null:(r=t,t=void 0);var l,s=(l=r,Array.isArray(l)?l:Array.from(l));s[0];var u=s.slice(1),c=n.SpelNode.create.apply(n.SpelNode,["constructorref",e].concat(function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}(r)));return c.getRaw=function(){return i},c.getValue=function(e){if(a&&u.length<=1){var t=[];return u.forEach((function(r){var n=e.activeContext;e.activeContext=new o.Stack,e.activeContext.push(e.rootContext),t.push(r.getValue(e)),e.activeContext=n})),1===u.length?t[0]:i?new Array(i):[]}throw{name:"MethodNotImplementedException",message:"ConstructorReference: Not implemented"}},c}}},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.StandardContext={create:function(e,t){var r={};return r.authentication=e||{},r.principal=t||{},r.hasRole=function(e){var t=!1;return!!e&&!(!r.authentication&&!Array.isArray(r.authentication.authorities))&&(r.authentication.authorities.forEach((function(r){r.authority.toLowerCase()===e.toLowerCase()&&(t=!0)})),t)},r.hasPermission=function(){var e=Array.prototype.slice.call(arguments);if(1===e.length)return r.hasRole(e[0])},r}}}])},e.exports=r()}(VA);var zA=VA.exports,BA={};!function(e){var t=e,r=/`/g,n=/\./g,o=/[\0\b\t\n\r\x1a\"\'\\]/g,i={"\0":"\\0","\b":"\\b","\t":"\\t","\n":"\\n","\r":"\\r","":"\\Z",'"':'\\"',"'":"\\'","\\":"\\\\"};function a(e){for(var t,r=o.lastIndex=0,n="";t=o.exec(e);)n+=e.slice(r,t.index)+i[t[0]],r=o.lastIndex;return 0===r?"'"+e+"'":r<e.length?"'"+n+e.slice(r)+"'":"'"+n+"'"}function l(e,t){for(e=e.toString();e.length<t;)e="0"+e;return e}t.escapeId=function(e,o){if(Array.isArray(e)){for(var i="",a=0;a<e.length;a++)i+=(0===a?"":", ")+t.escapeId(e[a],o);return i}return o?"`"+String(e).replace(r,"``")+"`":"`"+String(e).replace(r,"``").replace(n,"`.`")+"`"},t.escape=function(e,r,n){if(null==e)return"NULL";switch(typeof e){case"boolean":return e?"true":"false";case"number":return e+"";case"object":return"[object Date]"===Object.prototype.toString.call(e)?t.dateToString(e,n||"local"):Array.isArray(e)?t.arrayToList(e,n):Buffer.isBuffer(e)?t.bufferToString(e):"function"==typeof e.toSqlString?String(e.toSqlString()):r?a(e.toString()):t.objectToValues(e,n);default:return a(e)}},t.arrayToList=function(e,r){for(var n="",o=0;o<e.length;o++){var i=e[o];Array.isArray(i)?n+=(0===o?"":", ")+"("+t.arrayToList(i,r)+")":n+=(0===o?"":", ")+t.escape(i,!0,r)}return n},t.format=function(e,r,n,o){if(null==r)return e;Array.isArray(r)||(r=[r]);for(var i,a=0,l=/\?+/g,s="",u=0;u<r.length&&(i=l.exec(e));){var c=i[0].length;if(!(c>2)){var d=2===c?t.escapeId(r[u]):t.escape(r[u],n,o);s+=e.slice(a,i.index)+d,a=l.lastIndex,u++}}return 0===a?e:a<e.length?s+e.slice(a):s},t.dateToString=function(e,t){var r,n,o,i,s,u,c,d=new Date(e);if(isNaN(d.getTime()))return"NULL";if("local"===t)r=d.getFullYear(),n=d.getMonth()+1,o=d.getDate(),i=d.getHours(),s=d.getMinutes(),u=d.getSeconds(),c=d.getMilliseconds();else{var p=function(e){if("Z"===e)return 0;var t=e.match(/([\+\-\s])(\d\d):?(\d\d)?/);if(t)return("-"===t[1]?-1:1)*(parseInt(t[2],10)+(t[3]?parseInt(t[3],10):0)/60)*60;return!1}(t);!1!==p&&0!==p&&d.setTime(d.getTime()+6e4*p),r=d.getUTCFullYear(),n=d.getUTCMonth()+1,o=d.getUTCDate(),i=d.getUTCHours(),s=d.getUTCMinutes(),u=d.getUTCSeconds(),c=d.getUTCMilliseconds()}return a(l(r,4)+"-"+l(n,2)+"-"+l(o,2)+" "+l(i,2)+":"+l(s,2)+":"+l(u,2)+"."+l(c,3))},t.bufferToString=function(e){return"X"+a(e.toString("hex"))},t.objectToValues=function(e,r){var n="";for(var o in e){var i=e[o];"function"!=typeof i&&(n+=(0===n.length?"":", ")+t.escapeId(o)+" = "+t.escape(i,!0,r))}return n},t.raw=function(e){if("string"!=typeof e)throw new TypeError("argument sql must be a string");return{toSqlString:function(){return e}}}}(BA);var HA=h(BA);HA.trim=function(e){return"'"==e.charAt(0)?e.substring(1,e.length-1):e},HA.escapeLike=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=HA.escape(e);return n="'"+(n=(t?"%":"")+(n=(n=HA.trim(n)).replace(/[%_]/g,"\\$&"))+(r?"%":""))+"'"};var WA=function(e){var t="''",r=null==e?void 0:e.type;return"date"==r?t="'0000-00-00'":"datetime"==r?t="'0000-00-00 00:00'":"time"==r?t="'00:00'":"number"==r&&(t="0"),t},UA=function(e){var t="";return"number"==(null==e?void 0:e.type)&&(t=0),t},$A=function(e){var t,r,n,o=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=["int","float"];return e.map((function(e){if(null!=e){if("string"==typeof e)r="String";else{if("number"!=typeof e)throw new Error("spelEscape: Can't use value ".concat(e," in array"));r=Number.isInteger(e)?"int":"float"}if(t){if(t!=r){if(!i.includes(t)||!i.includes(r))throw new Error("spelEscape: Can't use different types in array: found ".concat(t," and ").concat(r));t="float"}}else t=r}})),t||(t="String"),n="float"==t?e.map((function(e){return GA(e,!0)})):e.map((function(e){return GA(e)})),o?"new ".concat(t,"[]{").concat(n.join(", "),"}"):"{".concat(n.join(", "),"}")},YA=function(e){return"".concat(e,".?[true]")},GA=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(null==e)return"null";switch(b(e)){case"boolean":return e?"true":"false";case"number":if(!Number.isFinite(e)||isNaN(e))return;return e+(!Number.isInteger(e)||t?"f":"");case"object":if(Array.isArray(e))return $A(e,r);throw new Error("spelEscape: Object is not supported");default:return function(e){return"'"+e.replace(/'/g,"''")+"'"}(e)}},KA=function(e){return null==e?"NULL":e.toString()};const JA=Object.freeze(Object.defineProperty({__proto__:null,SqlString:HA,mongoEmptyValue:UA,spelEscape:GA,spelFixList:YA,spelFormatConcat:function(e){return e&&Array.isArray(e)&&e.length?e.map((function(e){return"const"==e.type?GA(e.value):"property"==e.type?""+e.value:"variable"==e.type?"#"+e.value:void 0})).filter((function(e){return null!=e})).join(" + "):"null"},spelImportConcat:function(e){if(null==e)return[void 0,[]];var t=[],r=("case_value"==e.valueType?e.value:[e]).map((function(e){return"value"==e.valueSrc?null===e.value?void 0:{type:"const",value:e.value}:"field"==e.valueSrc?{type:e.isVariable?"variable":"property",value:e.value}:void t.push("Unsupported valueSrc ".concat(e.valueSrc," in concatenation"))})).filter((function(e){return null!=e}));return[r,t]},sqlEmptyValue:WA,stringifyForDisplay:KA},Symbol.toStringTag,{value:"Module"}));function QA(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return XA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return XA(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(l)throw i}}}}function XA(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ZA(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function eP(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ZA(Object(r),!0).forEach((function(t){y(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZA(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var tP="${0}.compareTo(${1})",rP={datetime:!0,time:!0,date:!0},nP=function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n={errors:[]},o=bL(t,void 0,!1),i=oP(e,o,n,null);return r?[i,n.errors]:(n.errors.length&&console.warn("Errors while exporting to SpEL:",n.errors),i)},oP=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(e){var o=e.get("type");return"group"===o||"rule_group"===o?lP(e,t,r,n):"rule"===o?cP(e,t,r,n):"switch_group"==o?aP(e,t,r):"case_group"==o?iP(e,t,r,n):void 0}},iP=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=e.get("type");if("case_group"==o){var i=e.get("properties")||new uk.Map,a=pP(t,i,r,null,n,"!case_value"),l=ot(a,3),s=l[0];return l[1],l[2],[lP(e,t,r,n),s]}r.errors.push("Unexpected child of type ".concat(o," inside switch"))},aP=function(e,t,r){e.get("properties")||new uk.Map;var n=e.get("children1");if(n){var o=n.map((function(e){return iP(e,t,r,null)})).filter((function(e){return void 0!==e})).toArray();if(o.length){if(1==o.length&&!o[0][0])return o[0][1];for(var i=[],a=0;a<o.length;a++)a==o.length-1||o[a][0]?(i.push(o[a]),a==o.length-1&&o[a][0]&&i.push([void 0,null])):r.errors.push("No condition for case ".concat(a));for(var l="",s="",u=0;u<i.length;u++){var c=ot(i[u],2),d=c[0],p=c[1];null==p&&(p="null"),null==d&&(d="true"),u!=i.length-1?(l+="(".concat(d," ? ").concat(p," : "),s+=")"):l+="".concat(p)}return l+s}}},lP=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=e.get("type"),i=e.get("properties")||new uk.Map,a=i.get("mode"),l=e.get("children1")||new uk.List,s=i.get("field"),u=i.get("conjunction");u||(u=ZP(t));var c=t.conjunctions[u],d=i.get("not"),p="rule_group"===o,f=p&&"struct"!=a,h=f?s:n,g=(FL(t,h)||{}).isSpelArray,v=t.settings.fieldSeparator,m=i.get("operator");m||a&&"some"!=a||(m="some");var y=uP(t,m,s),b=y!=m,_=m&&DL(t,y,s)||null,x=p&&(!y||0==_.cardinality),w=pP(t,i,r,y,n,null),O=ot(w,3),S=O[0],k=O[1],j=O[2],E=l.map((function(e){return oP(e,t,r,h)})).filter((function(e){return void 0!==e}));if(f&&!x){if(null==S)return}else if(!E.size)return;var C,T=p,q=E.size?c.spelFormatConj(E,u,d,T):null;if(f){var A=hP(r,t,s,n),P=(v||".")+(g?"length":"size()"),I="".concat(A).concat(P),L=q?"".concat(A,".?[").concat(q,"]").concat(P):I;C=sP(r,t,i,L,x?I:S,y,k,j,b)}else C=q;return C},sP=function(e,t,r,n,o,i,a,l){var s=arguments.length>8&&void 0!==arguments[8]&&arguments[8],u=r.get("field"),c=DL(t,i,u)||{},d=FL(t,u)||{},p=r.get("operatorOptions"),f=c.spelFormatOp||function(e,t,r){var n=t.spelOp;if(n){var o,i=n.includes("${0}"),a=rP[r],l=n,s=eT(t.cardinality,1);return a?o=function(e,t,r,n,o,i,a,u){var c=tP.replace(/\${(\w+)}/g,(function(t,n){return 0==n?e:s>1?r[n-1]:r}));return"".concat(c," ").concat(l," 0")}:i?o=function(e,t,r,o,i,a,l,u){return n.replace(/\${(\w+)}/g,(function(t,n){return 0==n?e:s>1?r[n-1]:r}))}:0==s?o=function(e,t,r,n,o,i,a,s){return"".concat(e," ").concat(l)}:1==s&&(o=function(e,t,r,n,o,i,a,s){return"".concat(e," ").concat(l," ").concat(r)}),o}}(0,c,l);if(f){var h,g=[n,i,o,a,l,YC(c,ZC),p,d];return h=f.call.apply(f,[t.ctx].concat(g)),s&&(h=t.settings.spelFormatReverse(h)),void 0===h&&e.errors.push("Operator ".concat(i," is not supported for value source ").concat(a)),h}e.errors.push("Operator ".concat(i," is not supported"))},uP=function(e,t,r){if(t){var n=DL(e,t,r)||{},o=n.reversedOp,i=DL(e,o,r)||{},a=n.spelOp||n.spelFormatOp,l=i.spelOp||i.spelFormatOp;if(a||l){if(!a&&l){var s=[o,t];t=s[0],o=s[1];var u=[i,n];n=u[0],i=u[1]}return t}}},cP=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=e.get("properties")||new uk.Map,i=o.get("field"),a=o.get("fieldSrc"),l=o.get("operator");if(null!=i&&null!=l){var s=uP(t,l,i);if(s){var u=s!=l,c=pP(t,o,r,s,n,null),d=ot(c,3),p=d[0],f=d[1],h=d[2];if(void 0!==p){var g=dP(r,t,i,a,n);if(void 0!==g)return sP(r,t,o,g,p,s,f,h,u)}}else r.errors.push("Operator ".concat(l," is not supported"))}},dP=function(e,t,r,n){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;return"func"===n?gP(e,t,r,o):hP(e,t,r,o)},pP=function(e,t,r,n,o){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=t.get("field"),l=t.get("valueSrc"),s=t.get("valueType");("!case_value"==i||s&&"case_value"==s.get(0))&&(a="!case_value");var u,c=FL(e,a)||{},d=DL(e,n,a)||{},p=eT(d.cardinality,1),f=t.get("value"),h=t.get("asyncListValues"),g=[],v=[];if(null!=f){var m=f.map((function(t,i){var u=l?l.get(i):null,p=s?s.get(i):null,f=MI(t,u,e),m=EI(e,a,n,u),y=YC(VL(e,a,n,m,u),["factory"]),b=fP(r,e,f,u,p,y,c,n,d,o,h);return void 0!==b&&(g.push(u),v.push(p)),b})),y=m.filter((function(e){return void 0===e})).size>0;m.size<p||y||(u=p>1?m.toArray():1==p?m.first():null)}return[u,g.length>1?g:g[0],v.length>1?v:v[0]]},fP=function(e,t,r,n,o,i,a,l,s){var u=arguments.length>9&&void 0!==arguments[9]?arguments[9]:null,c=arguments.length>10?arguments[10]:void 0;if(void 0!==r){var d;if("field"==n)d=hP(e,t,r,u);else if("func"==n)d=gP(e,t,r,u);else if("function"==typeof i.spelFormatValue){var p=i.spelFormatValue,f=[r,eP(eP({},Hq(a,["fieldSettings","listValues"])),{},{asyncListValues:c}),YC(i,XC)];if(l&&(f.push(l),f.push(s)),"field"==n){var h=FL(t,r)||{};f.push(h)}d=p.call.apply(p,[t.ctx].concat(f))}else d=GA(r);return d}},hP=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(r){var o=t.settings.fieldSeparator,i=FL(t,r)||{},a=RL(r,t),l=OI(r,t,n),s=t.settings.formatSpelField,u=CI(r,t,e,n),c=l.map((function(e){var t,r=ot(e,3),n=r[0],i=r[1],a=r[2];return a&&(t="!struct"==a.type||"!group"==a.type&&"struct"==a.mode?i.isSpelMap?"map":"class":"!group"==a.type?i.isSpelItemMap?"[map]":"[class]":"class"),{key:n,parent:t,isSpelVariable:null==i?void 0:i.isSpelVariable,fieldSeparator:o}}));return s.call(t.ctx,u,n,a,c,i,t)}},gP=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=r.get("func"),i=r.get("args"),a=PL(t,o);if(a){var l={},s=[],u=[];for(var c in a.args){var d,p=a.args[c],f=FL(t,p),h=p.defaultValue,g=p.isOptional,v=null!=h&&h.func?"func":"value",m=i?i.get(c):void 0,y=m?m.get("value"):void 0,b=m?m.get("valueSrc"):void 0,_=m?m.get("asyncListValues"):void 0,x=null===(d=p.spelEscapeForFormat)||void 0===d||d,w=null,O=EI(t,p,w,b),S=YC(VL(t,p,w,O,b),["factory"]),k=fP(e,t,y,b,p.type,S,f,null,null,n,_);if(null!=y&&void 0===k)return void("func"!=b&&e.errors.push("Can't format value of arg ".concat(c," for func ").concat(o)));var j=void 0;if(void 0===k&&!g&&null!=h){var E=EI(t,p,w,v),C=YC(VL(t,p,w,E,v),["factory"]);if(void 0===(j=fP(e,t,h,v,p.type,C,f,null,null,n,_)))return void("func"!=v&&e.errors.push("Can't format default value of arg ".concat(c," for func ").concat(o)))}var T=null!=k?k:j;if(void 0!==T){if(s.length){var q,A=QA(s);try{for(A.s();!(q=A.n()).done;){var P=q.value;l[P]=void 0}}catch(V){A.e(V)}finally{A.f()}s=[]}l[c]=x?T:null!=y?y:h}else g||u.push(c),s.push(c)}if(!u.length){var I;if("function"==typeof a.spelFormatFunc){var L=a.spelFormatFunc,N=[l];I=L.call.apply(L,[t.ctx].concat(N))}else if(a.spelFunc){I=a.spelFunc.replace(/\${(\w+)}/g,(function(e,t){var r;return null!==(r=l[t])&&void 0!==r?r:e}));var R,M=Object.keys(a.args||{}).reverse().filter((function(e){return!!a.args[e].isOptional})),F=QA(M);try{for(F.s();!(R=F.n()).done;){var D=R.value;if(null!=l[D])break;I=I.replace(new RegExp("(, )?\\${"+D+"}","g"),"")}}catch(V){F.e(V)}finally{F.f()}I=I.replace(/\${(\w+)}/g,"null")}else e.errors.push("Func ".concat(o," is not supported"));return I}}else e.errors.push("Func ".concat(o," is not defined in config"))};function vP(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return mP(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return mP(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(l)throw i}}}}function mP(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function yP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function bP(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?yP(Object(r),!0).forEach((function(t){y(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yP(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var _P={number:"number",string:"text",boolean:"boolean",null:"null"},xP={String:"text"},wP=function(e){return"object"==b(e)&&null!==e&&!Array.isArray(e)},OP=function(e,t){var r,n,o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i={errors:[]},a=bL(t,void 0,!1),l=jP(a),s=void 0;try{r=zA.SpelExpressionEvaluator.compile(e)._compiledExpression}catch(lF){i.errors.push(lF)}r&&(n=SP(r,i),mT.debug("convertedObj:",n,i),(s=EP(n,l,a,i))&&"group"!=s.type&&"switch_group"!=s.type&&(s=BP(s,a,n.not)),mT.debug("jsTree:",s));var u=s?_A(s):void 0;return o?[u,i.errors]:(i.errors.length&&console.warn("Errors while importing from SpEL:",i.errors),u)},SP=function e(t,r){var n,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=t.getType(),a=t.getChildren().map((function(n){return e(n,r,t)}));if("op-or"!=i&&"op-and"!=i||(a=a.reduce((function(e,t){var r=t.type==i&&!t.not?t.children:[t];return[].concat(lk(e),lk(r))}),[])),"op-not"==i)return 1!=a.length&&r.errors.push("Operator NOT should have 1 child, but got ".concat(a.length,"}")),bP(bP({},a[0]),{},{not:!a[0].not});if("compound"==i){var l=(a=a.filter((function(e){return!("selection"==e.type&&1==e.children.length&&"boolean"==e.children[0].type&&1==e.children[0].val)}))).find((function(e){return"selection"==e.type}));l&&1!=l.children.length&&r.errors.push("Selection should have 1 child, but got ".concat(l.children.length));var s=l?l.children[0]:null,u=a[a.length-1],c="method"==u.type&&"size"==u.val.methodName||"!func"==u.type&&"size"==u.methodName,d="property"==u.type&&"length"==u.val,p=a.filter((function(e){return e!==l&&e!==u})),f={type:"compound",children:p};if((c||d)&&null!=TP(p))return{type:"!aggr",filter:s,source:f};if(a=(a=a.filter((function(e){var t="variable"==e.type&&"this"==e.val,r="variable"==e.type&&"root"==e.val;return!(t||r)}))).map((function(e){return"indexer"==e.type&&1==e.children.length?{type:"indexer",val:e.children[0].val,itype:e.children[0].type}:e})),"!func"==u.type){var h={},g=h;do{var v,m;Object.assign(g,u),a=a.filter((function(e){return e!==u})),"!func"==(null===(m=u=a[a.length-1])||void 0===m?void 0:m.type)?(g.obj={},g=g.obj):a.length>1?g.obj={type:"compound",children:a}:g.obj=u}while("!func"==(null===(v=u)||void 0===v?void 0:v.type));return h}}try{t.getRaw?n=t.getRaw():0==t.getValue.length&&(n=t.getValue())}catch(lF){mT.error("[spel2js] Error in getValue()",lF)}if("ternary"==i&&(n=kP(a)),"object"===b(n)&&null!==n&&(n.methodName||n.functionName)&&(n.args=n.args.map((function(n){return e(n,r,t)}))),"list"==i&&(n=n.map((function(n){return e(n,r,t)})),!o&&1==n.length))return n[0];if("constructorref"==i){var y=a.find((function(e){return"qualifiedidentifier"==e.type})),_=null==y?void 0:y.val;return _?{type:"!new",cls:_,args:a.filter((function(e){return"qualifiedidentifier"!=e.type}))}:void r.errors.push("Can't find qualifiedidentifier in constructorref children: ".concat(JSON.stringify(a)))}if("typeref"==i){var x=a.find((function(e){return"qualifiedidentifier"==e.type})),w=null==x?void 0:x.val;return w?(a.filter((function(e){return"qualifiedidentifier"!=e.type})),{type:"!type",cls:w}):void r.errors.push("Can't find qualifiedidentifier in typeref children: ".concat(JSON.stringify(a)))}if("function"==i||"method"==i){var O=n,S=O.functionName,k=O.methodName,j=O.args;return{type:"!func",methodName:S||k,isVar:"function"==i,args:j}}return{type:i,children:a,val:n}},kP=function(e){var t=[];return function e(r){var n=ot(r,3),o=n[0],i=n[1],a=n[2];t.push([o,i]),"ternary"==(null==a?void 0:a.type)?e(a.children):t.push([void 0,a])}(e),t},jP=function(e){var t={},r=function(r){var n=e.operators[r];if(n.spelOps)n.spelOps.forEach((function(e){var n=e;t[n]||(t[n]=[]),t[n].push(r)}));else if(n.spelOp){var o=n.spelOp;t[o]||(t[o]=[]),t[o].push(r)}else mT.log("[spel] No spelOp for operator ".concat(r))};for(var n in e.operators)r(n);var o={};for(var i in e.conjunctions){o[e.conjunctions[i].spelConj||i.toLowerCase()]=i}var a,l={},s=vP(kL(e));try{var u=function(){var e=ot(a.value,2),t=e[0],r=e[1],n=[],o=r.spelFunc;if("string"==typeof o){var i=Object.keys(r.args||{}).reverse().filter((function(e){return!!r.args[e].isOptional||null!=r.args[e].defaultValue})),s=o.replace(/\${(\w+)}/g,(function(e,t){return"?"})),u=i.reduce((function(e,t){return[].concat(lk(e),[[t].concat(lk(e[e.length-1]||[]))])}),[]).map((function(e){return o.replace(/(?:, )?\${(\w+)}/g,(function(t,r){return e.includes(r)?"":t})).replace(/\${(\w+)}/g,(function(e,t){return"?"}))}));n=[s].concat(lk(u))}var c,d=vP(n);try{for(d.s();!(c=d.n()).done;){var p=c.value;l[p]||(l[p]=[]),l[p].push(t)}}catch(f){d.e(f)}finally{d.f()}};for(s.s();!(a=s.n()).done;)u()}catch(S){s.e(S)}finally{s.f()}var c={};for(var d in e.widgets){var p=e.widgets[d],f=p.spelImportFuncs;if(p.type,f){var h,g=vP(f);try{for(g.s();!(h=g.n()).done;){var v=h.value;if("string"==typeof v){var m=v.replace(/\${(\w+)}/g,(function(e,t){return"?"})),y=lk(v.matchAll(/\${(\w+)}/g)).map((function(e){var t=ot(e,2);t[0];return t[1]}));c[m]||(c[m]=[]),c[m].push({w:d,argsOrder:y})}}}catch(S){g.e(S)}finally{g.f()}}}var b={};for(var _ in e.operators){var x=e.operators[_].spelOp;if(null!=x&&x.includes("${0}")){var w=x.replace(/\${(\w+)}/g,(function(e,t){return"?"})),O=lk(x.matchAll(/\${(\w+)}/g)).map((function(e){var t=ot(e,2);return t[0],t[1]}));b[w]||(b[w]=[]),b[w].push({op:_,argsOrder:O})}}return b[tP.replace(/\${(\w+)}/g,(function(e,t){return"?"}))]=[{op:"!compare",argsOrder:["0","1"]}],{operators:t,conjunctions:o,funcs:l,valueFuncs:c,opFuncs:b}},EP=function e(t,r,n,o){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;if(t){var a,l=!0;if(0===t.type.indexOf("op-")||"matches"===t.type)a=CP(t,r,n,o,i);else if("!aggr"==t.type){var s,u=e(t.source,r,n,o,bP(bP({},t),{},{_groupField:null==i?void 0:i._groupField})),c=e(t.filter,r,n,o,bP(bP({},t),{},{_groupField:null==u?void 0:u.value}));"rule"==(null===(s=c)||void 0===s?void 0:s.type)&&(c=BP(c,n,t.filter.not)),a={groupFilter:c,groupFieldValue:u},i||(a=void 0,o.errors.push("Unexpected !aggr in root"),l=!1)}else if("ternary"==t.type){var d={};t.val.forEach((function(e){var i=ot(e,2),a=i[0],l=i[1],s=DP(a,l,r,n,o,t);s&&(d[s.id]=s)})),a={type:"switch_group",id:KC(),children1:d,properties:{}}}if(!a&&l&&(a=qP(t,r,n,o,i)),a&&!a.type&&!i){var p=FP(t,r,n,o);p?a=p:(a=void 0,o.errors.push("Can't convert rule of type ".concat(t.type,", it looks like var/literal")))}return a}},CP=function e(t,r,n,o){var i,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,l=t.type.startsWith("op-")?t.type.slice(3):t.type;if(("minus"==l||"plus"==l)&&1==t.children.length)return t.isUnary=!0,e(t.children[0],r,n,o,t);var s="and"==l&&2==t.children.length&&"op-ge"==t.children[0].type&&"op-le"==t.children[1].type,u="or"==l&&2==t.children.length&&"op-lt"==t.children[0].type&&"op-gt"==t.children[1].type;if(s||u){var c=ot(t.children[0].children,2),d=c[0],p=c[1],f=ot(t.children[1].children,2),h=f[0],g=f[1];if(MP(d,h,t,r,n,o,a))return p.val,g.val,e({type:"op-between",children:[d,p,g]},r,n,o,a)}var v=r.operators[l];"eq"==l&&"null"==t.children[1].type?v=["is_null"]:"ne"==l&&"null"==t.children[1].type?v=["is_not_null"]:"le"==l&&"string"==t.children[1].type&&""==t.children[1].val?v=["is_empty"]:"gt"==l&&"string"==t.children[1].type&&""==t.children[1].val?v=["is_not_empty"]:"between"==l&&(v=["between"]);var m=function(){var e,i=t.children.map((function(e){return EP(e,r,n,o,bP(bP({},t),{},{_groupField:null==a?void 0:a._groupField}))}));return i.length>=2&&"!compare"==(null===(e=i)||void 0===e||null===(e=e[0])||void 0===e?void 0:e.type)&&(i=i[0].children),i};if("and"==l||"or"==l){var y={};m().forEach((function(e){if(e){var t=KC();e.id=t,null!=e.type?y[t]=e:o.errors.push("Bad item in AND/OR: ".concat(JSON.stringify(e)))}})),i={type:"group",id:KC(),children1:y,properties:{conjunction:r.conjunctions[l],not:t.not}}}else if(v){var b,_,x=m(),w=x[0],O=x.slice(1),S=null==w||null===(b=w.groupFieldValue)||void 0===b?void 0:b.value,k=null===(_=O)||void 0===_?void 0:_[0],j=v[0];if(v.length>1){var E,C,T=(null===(E=x[0])||void 0===E?void 0:E.valueType)||(null===(C=x[1])||void 0===C?void 0:C.valueType),q=null==w?void 0:w.value,A=v.map((function(e){return{op:e,widget:EI(n,q,e)}}));if(mT.warn("[spel] Spel operator ".concat(l," can be mapped to ").concat(v,"."),"widgets:",A,"vals:",x,"valueType=",T),"eq"==l||"ne"==l){var P=A.find((function(e){e.op;var t=e.widget;return t&&"field"!=t}));P&&(j=P.op)}}null!=w&&w.groupFieldValue&&(k&&k.groupFieldValue&&"field"==k.groupFieldValue.valueSrc&&k.groupFieldValue.value==S?(j="all",O=[]):"equal"==j&&"value"==k.valueSrc&&"number"==k.valueType&&0==k.value?(j="none",O=[]):"greater"==j&&"value"==k.valueSrc&&"number"==k.valueType&&0==k.value&&(j="some",O=[]));var I=!1;if(t.not){var L=n.operators[j];L.reversedOp?(j=L.reversedOp,t.not=!1):I=!0}if(w)if(w.groupFieldValue)"field"!=w.groupFieldValue.valueSrc&&o.errors.push("Expected group field ".concat(JSON.stringify(w))),i=RP(w,j,O,n,o);else{"field"!=w.valueSrc&&"func"!=w.valueSrc&&o.errors.push("Expected field/func at LHS, but got ".concat(JSON.stringify(w)));var N=w.value;i=NP(n,o,N,j,O)}else;I&&("group"!==i.type?i=BP(i,n,t.not):i.properties.not=!i.properties.not)}else a||(i=FP(t,r,n,o));return i},TP=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=!1,o=e.map((function(e){if("variable"==e.type||"property"==e.type||"indexer"==e.type&&"string"==e.itype)return e.val;var o,i;n=!0,r&&(null==t||null===(o=t.errors)||void 0===o||null===(i=o.push)||void 0===i||i.call(o,"Unexpected item in field path compound: ".concat(JSON.stringify(e))))}));return n?void 0:o},qP=function e(t,r,n,o,i){if(null!=t){var a=n.settings.fieldSeparator;if("variable"==t.type||"property"==t.type){var l=qL(n,t.val,null==i?void 0:i._groupField),s=FL(n,l),u="variable"==t.type;return{valueSrc:"field",valueType:null==s?void 0:s.type,isVariable:u,value:l}}if("compound"==t.type){var c=TP(t.children,o);if(c){var d,p=qL(n,c.join(a),null==i?void 0:i._groupField),f=FL(n,p),h="variable"==(null===(d=t.children)||void 0===d||null===(d=d[0])||void 0===d?void 0:d.type);return{valueSrc:"field",valueType:null==f?void 0:f.type,isVariable:h,value:p}}}else{if(_P[t.type]){var g=t.val,v=_P[t.type];return null!=i&&i.isUnary&&(g=-g),{valueSrc:"value",valueType:v,value:g}}if("!new"==t.type&&xP[t.cls.at(-1)]){var m=t.args.map((function(i){return e(i,r,n,o,t)})),y=null==m?void 0:m[0],b=xP[t.cls.at(-1)];return bP(bP({},y),{},{valueType:b})}if("list"==t.type){var _,x=t.val.map((function(i){return e(i,r,n,o,t)}));x.length&&(null===(_=x[0])||void 0===_||_.valueType);var w=x.map((function(e){return null==e?void 0:e.value}));return{valueSrc:"value",valueType:"multiselect",value:w}}if("op-plus"==t.type&&"ternary"==(null==i?void 0:i.type))return VP(t,r,n,o)}var O=PP(t,r,n,o,i);if(void 0!==O)return O;o.errors.push("Can't convert arg of type ".concat(t.type))}},AP=function e(t,r){var n=[],o="",i=t.type,a=t.methodName;t.val;var l=t.obj,s=t.args,u=t.isVar,c=t.cls,d=t.children,p=null==d?void 0:d[d.length-1],f=r[r.length-1];if("!func"===i){for(var h=l;h;){var g,v=e(bP(bP({},h),{},{obj:null}),[{}]),m=ot(v,2),y=m[0],b=m[1];if("?"!==y){var _={s:f.s,params:lk(f.params),objs:lk(f.objs)};f.objs.unshift("?"),f.params.unshift(h),r.push(_),f=r[r.length-1]}f.objs.unshift(y),(g=f.params).unshift.apply(g,lk(b)),h="!func"===h.type?h.obj:null}var x,w=vP(r);try{for(w.s();!(x=w.n()).done;){var O,S=x.value;n=[].concat(lk((null==S?void 0:S.params)||[]),lk(s||[])),o="",null!=S&&null!==(O=S.objs)&&void 0!==O&&O.length&&(o+=S.objs.join(".")+"."),o+=(u?"#":"")+a,o+="("+(s||[]).map((function(e){return"?"})).join(", ")+")",S.s=o,S.params=n}}catch(k){w.e(k)}finally{w.f()}}else"!new"===i?(n=s||[],o="new ".concat(c.join("."),"(").concat(n.map((function(e){return"?"})).join(", "),")")):"!type"===i?o="T(".concat(c.join("."),")"):"compound"===i&&"property"===p.type&&function(e){return["length"].includes(e)}(p.val)?o=d.map((function(t){var r;if(t===p)return t.val;var o=e(bP(bP({},t),{},{obj:null}),[{}]),i=ot(o,2),a=i[0],l=i[1];return(r=n).push.apply(r,lk(l)),a})).join("."):(n=[t],o="?");return f&&(f.s=o,f.params=n),[o,n]},PP=function(e,t,r,n,o){var i,a=function(i){return qP(i,t,r,n,bP(bP({},e),{},{_groupField:null==o?void 0:o._groupField}))},l=function(e){var t=[{s:"",params:[],objs:[]}];return AP(e,t),t.map((function(e){return{s:e.s,params:e.params}})).reverse().filter((function(e){var t=e.s;return""!==t&&"?"!==t}))}(e),s=null==l||null===(i=l[0])||void 0===i?void 0:i.s;l.length&&mT.debug("Signatures for ",e,":",s,l);var u=IP(e,t,r,n,o,l,a);if(void 0!==u)return u;var c,d,p,f=LP(e,t,r,n,o,l,a);if(void 0!==f)return f;var h,g=vP(l);try{var v=function(){var e=h.value,n=e.s,o=e.params,i=t.funcs[n];if(i){c=i[0];var l=(d=PL(r,c)).spelFunc,s=o.map(a),u=lk(l.matchAll(/\${(\w+)}/g)).map((function(e){var t=ot(e,2);t[0];return t[1]}));return p=Object.fromEntries(u.map((function(e,t){return[e,s[t]]}))),"break"}};for(g.s();!(h=g.n()).done;){if("break"===v())break}}catch(T){g.e(T)}finally{g.f()}if(!c){var m,y=vP(kL(r));try{for(y.s();!(m=y.n()).done;){var b=ot(m.value,2),_=b[0],x=b[1];if(x.spelImport){var w=void 0;try{w=x.spelImport(e)}catch(q){}if(w)for(var O in d=PL(r,c=_),p={},w)p[O]=a(w[O])}}}catch(T){y.e(T)}finally{y.f()}}if(c){var S={};for(var k in d.args){var j,E=d.args[k],C=p[k];if(void 0===C)if(void 0===(C=null==E?void 0:E.defaultValue)){if(null==E||!E.isOptional)return void n.errors.push("No value for arg ".concat(k," of func ").concat(c))}else C={value:C,valueSrc:null!==(j=C)&&void 0!==j&&j.func?"func":"value",valueType:E.type};C&&(S[k]=C)}return{valueSrc:"func",value:{func:c,args:S},valueType:d.returnType}}e.methodName&&n.errors.push("Signature ".concat(s," - failed to convert"))},IP=function(e,t,r,n,o,i,a){var l,s,u,c=[];for(var d in r.widgets){var p=r.widgets[d].spelImportFuncs;if(p)for(var f=0;f<p.length;f++){var h=p[f];if(wP(h)){var g={};if(hT(h,e,g)){for(var v in g)g[v]=a(g[v]);c.push({s:"widgets.".concat(d,".spelImportFuncs[").concat(f,"]"),w:d,argsObj:g})}}}}var m,y=vP(i);try{for(y.s();!(m=y.n()).done;){var b,_=m.value,x=_.s,w=_.params,O=vP(t.valueFuncs[x]||[]);try{var S=function(){var e=b.value,t=e.w,r=e.argsOrder,n=w.map(a),o=Object.fromEntries(r.map((function(e,t){return[e,n[t]]})));c.push({s:x,w:t,argsObj:o})};for(O.s();!(b=O.n()).done;)S()}catch(F){O.e(F)}finally{O.f()}}}catch(F){y.e(F)}finally{y.f()}for(var k=0,j=c;k<j.length;k++){var E=j[k],C=E.s,T=E.w,q=E.argsObj,A=r.widgets[T],P=A.spelImportValue,I=A.type;for(var L in u=T,s=C,l=[],q)["value"].includes(q[L].valueSrc)||l.push("".concat(L," has unsupported value src ").concat(q[L].valueSrc));var N=q.v.value;if(P&&!l.length){var R=P.call(r.ctx,q.v,A,q),M=ot(R,2);N=M[0],(l=M[1])&&!Array.isArray(l)&&(l=[l])}if(!l.length)return{valueSrc:"value",valueType:I,value:N}}u&&l.length&&n.errors.push("Signature ".concat(s," - looks like convertable to ").concat(u,", but: ").concat(l.join("; ")))},LP=function(e,t,r,n,o,i,a){var l,s,u,c,d=vP(i);try{for(d.s();!(c=d.n()).done;){var p,f=c.value,h=f.s,g=f.params,v=vP(t.opFuncs[h]||[]);try{var m=function(){var t,i=p.value,c=i.op,d=i.argsOrder,f=g.map(a);if(s=c,"!compare"===c){if(o.type.startsWith("op-")&&2==o.children.length&&"number"==o.children[1].type&&0===o.children[1].val)return{v:{type:"!compare",children:f}};l.push("Result of compareTo() should be compared to 0")}u=h,l=[];var v=r.operators[s],m=(v.spelOp,v.valueTypes),y=Object.fromEntries(d.map((function(e,t){return[e,f[t]]}))),b=y[0],_=Object.keys(y).filter((function(e){return parseInt(e)>0})).map((function(e){return y[e]})),x=null===(t=f.filter((function(e){return!!e})).find((function(e){return"value"===e.valueSrc})))||void 0===t?void 0:t.valueType;if(m&&x&&!m.includes(x)&&l.push("Op supports types ".concat(m,", but got ").concat(x)),!l.length)return{v:NP(r,n,b,s,_,e)}};for(v.s();!(p=v.n()).done;){var y=m();if("object"===b(y))return y.v}}catch(_){v.e(_)}finally{v.f()}}}catch(_){d.e(_)}finally{d.f()}s&&l.length&&n.errors.push("Signature ".concat(u," - looks like convertable to ").concat(s,", but: ").concat(l.join("; ")))},NP=function(e,t,r,n,o,i){var a;if(!o.filter((function(e){return void 0===e})).length){var l=null!==(a=r)&&void 0!==a&&a.func?"func":"field";wP(r)&&r.valueSrc&&(l=r.valueSrc,r=r.value);var s=FL(e,r);if(s){var u=!1;if(null!=i&&i.not){var c=e.operators[n];c.reversedOp?(n=c.reversedOp,i.not=!1):u=!0}var d=EI(e,r,n),p=e.widgets[d||s.mainWidget],f=o.map((function(e){return e.asyncListValues})).filter((function(e){return null!=e})),h=f.length?f[0]:void 0,g={type:"rule",id:KC(),properties:bP({field:r,fieldSrc:l,operator:n,value:o.map((function(e){return e.value})),valueSrc:o.map((function(e){return e.valueSrc})),valueType:o.map((function(e){return"value"==e.valueSrc&&((null==p?void 0:p.type)||(null==s?void 0:s.type))||e.valueType}))},h?{asyncListValues:h}:{})};return u&&(g=BP(g,e,null==i?void 0:i.not),null!=i&&i.not&&(i.not=!1)),g}t.errors.push("No config for field ".concat(r))}},RP=function(e,t,r,n,o){var i=e.groupFilter,a=e.groupFieldValue;if("field"!=a.valueSrc)throw"Bad groupFieldValue: ".concat(JSON.stringify(a));var l=a.value,s=NP(n,o,l,t,r);if(s){var u,c=FL(n,l),d=null==c?void 0:c.mode;return(u="group"===(null==i?void 0:i.type)?bP(bP({},i||{}),{},{type:"rule_group",properties:bP(bP(bP({},s.properties),(null==i?void 0:i.properties)||{}),{},{mode:d})}):bP(bP({},s||{}),{},i?{type:"rule_group",children1:[i],properties:bP(bP({},s.properties),{},{mode:d})}:{type:"rule_group",properties:bP(bP({},s.properties),{},{mode:d})})).id||(u.id=KC()),u}},MP=function(e,t,r,n,o,i){var a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;if(e.type==t.type){if("!aggr"==e.type){var l=[e.source,t.source].map((function(e){return qP(e,n,o,i,bP(bP({},r),{},{_groupField:null==a?void 0:a._groupField}))})),s=ot(l,2),u=s[0],c=s[1];return u.value==c.value}var d=[e,t].map((function(e){return qP(e,n,o,i,bP(bP({},r),{},{_groupField:null==a?void 0:a._groupField}))})),p=ot(d,2),f=p[0],h=p[1];return f.value==h.value}return!1},FP=function(e,t,r,n){var o={},i=DP(null,e,t,r,n);return i&&(o[i.id]=i),{type:"switch_group",id:KC(),children1:o,properties:{}}},DP=function(e,t,r,n,o){var i,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,l=zP(n,o,r,t,a);return e?(i=EP(e,r,n,o,a))&&i.type?("group"!=i.type&&(i=BP(i,n)),i.type="case_group"):(o.errors.push("Unexpected case: ".concat(JSON.stringify(i))),i=void 0):i={id:KC(),type:"case_group",properties:{}},i&&(i.properties=bP(bP({},i.properties),l)),i},VP=function(e,t,r,n){var o=[];return function i(a){a.map((function(a){if("op-plus"==a.type)i(a.children);else{var l=qP(a,t,r,n,e);l?o.push(l):n.errors.push("Can't convert ".concat(a.type," in concatenation"))}}))}(e.children),{valueSrc:"value",valueType:"case_value",value:o}},zP=function(e,t,r,n){var o,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a={};o="op-plus"==(null==n?void 0:n.type)?VP(n,r,e,t):qP(n,r,e,t,i);var l=e.widgets.case_value,s=null==l?void 0:l.spelImportValue;if(s){var u=s(o),c=ot(u,2),d=c[0];c[1].map((function(e){return t.errors.push(e)})),d&&(a={value:[d],valueSrc:["value"],valueType:["case_value"]})}else t.errors.push("No fucntion to import case value");return a},BP=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{type:"group",id:KC(),children1:y({},e.id,e),properties:{conjunction:ZP(t),not:r||!1}}};const HP=Object.freeze(Object.defineProperty({__proto__:null,_loadFromJsonLogic:CA,_loadFromSpel:OP,checkTree:function(e,t){if(e){var r=bL(t,void 0,!0);return iI(e,null,r,r)}},getTree:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(e){var n=e;return n=n.toJS(),t&&(n=gA(n,r)),n}},isImmutableTree:xA,isJsonLogic:cT,isTree:wA,isValidTree:function(e){return 0==hA(e).length},jsToImmutable:OA,loadFromJsonLogic:function(e,t){return CA(e,t,!1)},loadFromSpel:function(e,t){return OP(e,t,!0)},loadTree:_A},Symbol.toStringTag,{value:"Module"}));function WP(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function UP(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?WP(Object(r),!0).forEach((function(t){y(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WP(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var $P=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=e.settings.defaultField,o=(r?YP(e,r):n)||t&&yI(e,r)||null;return null==o||"string"==typeof o||nT(o)||(o=OA(o)),o},YP=function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!r)return null;var n=(null==e||null===(t=e.settings)||void 0===t?void 0:t.fieldSeparator)||".",o=FL(e,r),i=null==o?void 0:o.defaultField;return i&&(i=[].concat(lk(RL(r)),[i]).join(n)),i},GP=function(e){var t;return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&(null===(t=e.settings.fieldSources)||void 0===t?void 0:t[0])||"field"},KP=function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=e.settings.defaultOperator,o=FL(e,t),i=(null==o?void 0:o.operators)||[];n&&!i.includes(n)&&(n=null);var a=null==o?void 0:o.defaultOperator;return a&&!i.includes(a)&&(a=null),!a&&r&&(a=xI(e,t)),(null==o?void 0:o._origDefaultOperator)&&a||n||a},JP=function(e,t,r){var n=t?DL(e,t,r):null;return n&&n.options?new ck.Map(n.options&&n.options.defaults||{}):null},QP=function(e){var t,r,n,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],l=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=null,u=null,c=null,d=e.settings.showErrorMessage;i?(c=null==i||null===(t=i.properties)||void 0===t?void 0:t.fieldSrc,s=null==i||null===(r=i.properties)||void 0===r?void 0:r.field,u=null==i||null===(n=i.properties)||void 0===n?void 0:n.operator):a?(c=(s=$P(e,l,o))?nT(s)?"func":"field":GP(e),u=KP(e,s,!0)):c=GP(e);var p=new ck.Map({fieldSrc:c,field:s,operator:u,value:new ck.List,valueSrc:new ck.List,operatorOptions:JP(e,u,s)});if(d&&(p=p.set("valueError",new ck.List)),s&&u){var f=mI(e,e,p,s,u,"operator",!1),h=f.newValue,g=f.newValueSrc,v=f.newValueType,m=f.newValueError;p=p.set("value",h).set("valueSrc",g).set("valueType",v),d&&(p=p.set("valueError",m))}return p},XP=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=(t=FL(e,t))&&t.conjunctions||Object.keys(e.conjunctions);return 1==r.length?r[0]:e.settings.defaultGroupConjunction||e.settings.defaultConjunction||r[0]},ZP=function(e){return e.settings.defaultConjunction||Object.keys(e.conjunctions)[0]},eI=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return new ck.Map({conjunction:XP(e,t),not:!1})},tI=function(e,t){var r;return t&&"group"==t.type?eI(e,null==t||null===(r=t.properties)||void 0===r?void 0:r.field):QP(e,null,t)},rI=function(e,t){return y({},e,new ck.Map({type:"rule",id:e,properties:QP(t)}))};const nI=Object.freeze(Object.defineProperty({__proto__:null,createListFromArray:function(e){return new ck.List(e)},defaultConjunction:ZP,defaultGroupConjunction:XP,defaultGroupProperties:eI,defaultItemProperties:tI,defaultOperatorOptions:JP,defaultRoot:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return new ck.Map({type:"group",id:KC(),children1:new ck.OrderedMap(t?UP({},rI(KC(),e)):{}),properties:eI(e)})},defaultRule:rI,defaultRuleProperties:QP,emptyProperies:function(){return new ck.Map},getDefaultField:$P,getDefaultFieldSrc:GP,getDefaultOperator:KP,getDefaultSubField:YP},Symbol.toStringTag,{value:"Module"}));var oI=function(e,t){return function(e){return"object"==b(e)&&null!==e&&Array.isArray(e)?"array":b(e)}(e)==t||"number"==t&&!isNaN(e)},iI=function(e,t,r,n,o,i){return void 0===o&&(o=r.settings.removeEmptyGroupsOnLoad),void 0===i&&(i=r.settings.removeIncompleteRulesOnLoad),aI(e,[],null,{},{config:r,oldConfig:n,removeEmptyGroups:o,removeIncompleteRules:i})};function aI(e,t,r,n,o){var i=e.get("type"),a=e.get("children1");return("group"===i||"rule_group"===i||"case_group"==i||"switch_group"==i)&&a&&a.size?function(e,t,r,n,o){var i=o.removeEmptyGroups,a=e.get("id"),l=e.get("children1"),s=l;!a&&r&&(a=r,e=e.set("id",a),n.sanitized=!0);var u={};l=l.map((function(e,r){return aI(e,t.concat(a),r,u,o)})),i&&(l=l.filter((function(e){return null!=e})));var c=u.sanitized||s.size!=l.size;!l.size&&i&&t.length&&(c=!0,e=void 0);c&&(n.sanitized=!0);c&&e&&(e=e.set("children1",l));return e}(e,t,r,n,o):"rule"===i?function(e,t,r,n,o){var i,a,l,s,u=o.removeIncompleteRules,c=o.config,d=o.oldConfig,p=c.settings.showErrorMessage,f=e.get("id"),h=e.get("properties"),g=h.get("field")||null,v=h.get("fieldSrc")||null,m=h.get("operator")||null,y=h.get("operatorOptions"),b=h.get("valueSrc"),_=h.get("value"),x=h.get("valueError"),w={field:(null===(i=g)||void 0===i||null===(a=i.toJS)||void 0===a?void 0:a.call(i))||g,fieldSrc:v,operator:m,operatorOptions:y?y.toJS():{},valueSrc:b?b.toJS():null,value:_?_.toJS():null,valueError:x?x.toJS():null};g&&m&&_&&_.includes(void 0),!f&&r&&(f=r,e=e.set("id",f),n.sanitized=!0);var O=g?FL(c,g):null;g&&!O&&(mT.warn("No config for field ".concat(g)),g=null);null==g&&(h=["operator","operatorOptions","valueSrc","value","valueError"].reduce((function(e,t){return e.delete(t)}),h),m=null);v||(v=ML(g),h=h.set("fieldSrc",v));"range_between"!=m&&"range_not_between"!=m||(m="range_between"==m?"between":"not_between",console.info("Fixed operator ".concat(h.get("operator")," to ").concat(m)),h=h.set("operator",m));var S=m?DL(c,m,g):null;m&&!S&&(console.warn("No config for operator ".concat(m)),m=null);var k=g?_I(c,g):[];g&&(null!=k&&k.length?m&&-1==k.indexOf(m)&&("is_empty"==m||"is_not_empty"==m?(m="is_empty"==m?"is_null":"is_not_null",console.info("Fixed operator ".concat(h.get("operator")," to ").concat(m," for ").concat(g)),h=h.set("operator",m)):(console.warn("Operator ".concat(m," is not supported for field ").concat(g)),m=null)):(console.warn("Type of field ".concat(g," is not supported")),m=null));null==m&&(h=(h=(h=(h=h.delete("operatorOptions")).delete("valueSrc")).delete("value")).delete("valueError"));y=h.get("operatorOptions"),m&&eT(S.cardinality,1),!m||y&&!S.options?(y=null,h=h.delete("operatorOptions")):m&&!y&&S.options&&(y=JP(c,m,g),h=h.set("operatorOptions",y));b=h.get("valueSrc"),_=h.get("value");var j=mI(c,d,h,g,m,null,!p,!0),E=j.newValue,C=j.newValueSrc,T=j.newValueError;_=E,b=C,x=T,h=(h=h.set("value",_)).set("valueSrc",b),h=p?h.set("valueError",x):h.delete("valueError");var q={field:(null===(l=g)||void 0===l||null===(s=l.toJS)||void 0===s?void 0:s.call(l))||g,fieldSrc:v,operator:m,operatorOptions:y?y.toJS():{},valueSrc:b?b.toJS():null,value:_?_.toJS():null,valueError:x?x.toJS():null},A=!tT(w,q),P=_&&0==_.filter((function(e,t){return!RI(e,b.get(t),c)})).size,I=RI(g,v,c),L=I&&m&&P;A&&(n.sanitized=!0);if(!L&&u){var N,R,M,F="Uncomplete rule";if(I)F="Uncomplete RHS",null!==(N=q.valueSrc)&&void 0!==N&&N[0]&&(null===(R=q.valueSrc)||void 0===R?void 0:R[0])!=(null===(M=w.valueSrc)||void 0===M?void 0:M[0])&&(F="Bad value src ".concat(q.valueSrc));else F="Uncomplete LHS";console.warn("[RAQB validate]","Removing rule: ",w,"Reason: ".concat(F)),e=void 0}else A&&(e=e.set("properties",h));return e}(e,0,r,n,o):e}var lI=function(e,t,r,n,o,i,a,l){var s=arguments.length>8&&void 0!==arguments[8]&&arguments[8],u=arguments.length>9&&void 0!==arguments[9]&&arguments[9],c=!(arguments.length>10&&void 0!==arguments[10])||arguments[10],d=null,p=o;if(null!=o){if("field"==a){var f=uI(t,r,o,a,i,l,e),h=ot(f,2);d=h[0],p=h[1]}else if("func"==a){var g=cI(t,r,o,a,i,l,e,n,u,s),v=ot(g,2);d=v[0],p=v[1]}else if("value"==a||!a){var m=sI(t,r,o,a,i,l,e,n,u,s),y=ot(m,2);d=y[0],p=y[1]}if(!d){FL(e,r);var b=EI(e,r,n,a),_=n?DL(e,n,r):null,x=YC(VL(e,r,n,b,a),["factory"]),w="field"==a?FL(e,o):null,O=x,S=x.validateValue;if("function"==typeof S){var k=[p,O,n,_];"field"==a&&k.push(w);var j=S.call.apply(S,[e.ctx].concat(k));"boolean"==typeof j?0==j&&(d="Invalid value"):d=j}}}return c&&d&&console.warn("[RAQB validate]","Field ".concat(r,": ").concat(d)),[d,p]},sI=function(e,t,r,n,o,i,a){var l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,s=arguments.length>8&&void 0!==arguments[8]&&arguments[8],u=arguments.length>9&&void 0!==arguments[9]&&arguments[9];if(t){var c=FL(a,t),d=EI(a,t,l,n),p=a.widgets[d],f=null==p?void 0:p.type,h=null==p?void 0:p.jsType,g=c.fieldSettings,v=(null==g?void 0:g.treeValues)||(null==g?void 0:g.listValues),m=!(null==g||!g.asyncFetch),y=v||m;if(o&&f&&o!=f)return["Value should have type ".concat(f,", but got value of type ").concat(o),r];if(h&&!oI(r,h)&&!y)return["Value should have JS type ".concat(h,", but got value of type ").concat(b(r)),r];if(g){var _=i||v;if(_&&!g.allowCustomValues)return function(e,t,r,n,o){var i=uk.List.isList(e)?e.toJS():e instanceof Array?lk(e):void 0;if(i){var a=i.reduce((function(e,r){var n=ot(e,2),o=n[0],i=n[1],a=rA(t,r);return null==a?[o,[].concat(lk(i),[r])]:[[].concat(lk(o),[a.value]),i]}),[[],[]]),l=ot(a,2),s=l[0],u=l[1],c=u.length>1;return[u.length?"".concat(c?"Values":"Value"," ").concat(u.join(", ")," ").concat(c?"are":"is"," not in list of values"):null,(r=void 0!==o?o:r||n)?s:e]}var d=rA(t,e);return null==d?["Value ".concat(e," is not in list of values"),e]:[null,e=d.value]}(r,_,u,s,a.settings.removeInvalidMultiSelectValuesOnLoad);if(null!=g.min&&r<g.min)return["Value ".concat(r," < min ").concat(g.min),u?g.min:r];if(null!=g.max&&r>g.max)return["Value ".concat(r," > max ").concat(g.max),u?g.max:r]}}return[null,r]},uI=function(e,t,r,n,o,i,a){var l=a.settings.fieldSeparator,s="object"==b(t)&&(null==t?void 0:t._isFuncArg),u=Array.isArray(e)?e.join(l):e,c=Array.isArray(r)?r.join(l):r,d=FL(a,r);return d?c!=u||s?o&&o!=d.type?["Field ".concat(r," is of type ").concat(d.type,", but expected ").concat(o),r]:[null,r]:["Can't compare field ".concat(e," with itself"),r]:["Unknown field ".concat(r),r]},cI=function(e,t,r,n,o,i,a){var l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,s=arguments.length>8&&void 0!==arguments[8]&&arguments[8],u=arguments.length>9&&void 0!==arguments[9]&&arguments[9],c=r;if(r){var d=r.get("func");if(d){var p=PL(a,d);if(!p)return["Unknown function ".concat(d),r];if(o&&p.returnType!=o)return["Function ".concat(d," should return value of type ").concat(p.returnType,", but got ").concat(o),r];for(var f in p.args){var h=p.args[f],g=c.get("args"),v=g?g.get(f):void 0,m=FL(a,h),y=v?v.get("value"):void 0,b=v?v.get("valueSrc"):void 0;if(void 0!==y){var _=lI(a,e,m,l,y,h.type,b,i,u,s,!1),x=ot(_,2),w=x[0],O=x[1];if(null!==w){if(!u)return["Invalid value of arg ".concat(f," for func ").concat(d,": ").concat(w),r];c=c.deleteIn(["args",f]),void 0!==h.defaultValue&&(c=(c=c.setIn(["args",f,"value"],h.defaultValue)).setIn(["args",f,"valueSrc"],"value"))}else O!==y&&(c=c.setIn(["args",f,"value"],O))}else if(s&&void 0===h.defaultValue&&!u&&!h.isOptional)return["Value of arg ".concat(f," for func ").concat(d," is required"),r]}}}return[null,c]},dI=function(e){return"object"==b(e)&&null!==e&&!Array.isArray(e)},pI=function(e,t){if(e){var r=e.get("func"),n=r&&PL(t,r);if(n){var o=e,i=!1;for(var a in n.args){var l=n.args[a],s=l.valueSources,u=l.isOptional,c=l.defaultValue,d=kI(t,s,l),p=o.get("args"),f=1==d.length?d[0]:void 0,h=p?p.get(a):void 0,g=h?h.get("value"):void 0,v=(h?h.get("valueSrc"):void 0)||f;if(void 0!==g){var m=MI(g,v,t);if(void 0===m)return;if(m!==g&&(o=o.setIn(["args",a,"value"],m)),i)return}else if(void 0===c||dI(c)){if(!u)return;i=!0}else o=(o=o.setIn(["args",a,"value"],fI(l))).setIn(["args",a,"valueSrc"],"value")}return o}}},fI=function(e){var t=e.defaultValue;return dI(t)&&!ck.Map.isMap(t)&&t.func?ck.fromJS(t,(function(e,t){return ck.Iterable.isIndexed(t)?t.toList():t.toOrderedMap()})):t},hI=function(e,t,r,n){if((null==e?void 0:e.returnType)!=(null==t?void 0:t.returnType))return[];var o=Object.keys(t.args).filter((function(o,i){var a=t.args[o],l=e.args[o];if(Object.keys(e.args).indexOf(o),!l&&(void 0!==a.defaultValue||a.isOptional))return!0;if((null==l?void 0:l.type)!=a.type)return!1;if(vI.includes(a.type)&&(!l.listValuesType||l.listValuesType!==a.listValuesType))return!1;if(r){var s=r.get(o),u=null==s?void 0:s.get("value"),c=null==s?void 0:s.get("valueSrc");if(a.valueSources&&!a.valueSources.includes(c))return!1;var d=lI(n,null,a,null,u,a.type,c,null,!1,!0,!1),p=ot(d,2),f=p[0];if(p[1],f)return!1}return!0}));return o};const gI=Object.freeze(Object.defineProperty({__proto__:null,completeFuncValue:pI,getCompatibleArgsOnFuncChange:hI,setArgValue:function(e,t,r,n,o){if(e&&e.get("func")){var i=(e=e.setIn(["args",t,"value"],r)).getIn(["args",t,"valueSrc"]),a=n.valueSources,l=kI(o,a,n),s=1==l.length?l[0]:void 0;!s&&l.includes("value")&&(s="value"),!i&&s&&(e=e.setIn(["args",t,"valueSrc"],s))}return e},setArgValueSrc:function(e,t,r,n,o){return e&&e.get("func")&&(e=e.setIn(["args",t],new ck.Map({valueSrc:r}))),e},setFunc:function(e,t,r){var n=r.settings.fieldSeparator;e=e||new ck.Map,Array.isArray(t)&&(t=t.join(n));var o=e.get("func"),i=e.get("args");e=e.set("func",t);var a=t&&PL(r,t),l=t&&AL(r,t),s=o&&AL(r,o),u=hI(s,l,i,r);if(u.length){var c=Object.keys(l.args).filter((function(e){return!u.includes(e)}));e=c.reduce((function(e,t){return e.deleteIn(["args",t])}),e)}else e=e.set("args",new ck.Map);if(a)for(var d in a.args){var p=a.args[d],f=p.valueSources,h=p.defaultValue,g=kI(r,f,p),v=g.length?g[0]:void 0,m=(h?dI(h)&&h.func?"func":"value":void 0)||v;e.getIn(["args",d])||(void 0!==h&&(e=e.setIn(["args",d,"value"],fI(p))),m&&(e=e.setIn(["args",d,"valueSrc"],m)))}return e}},Symbol.toStringTag,{value:"Module"}));var vI=["select","multiselect","treeselect","treemultiselect"],mI=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],l=arguments.length>7&&void 0!==arguments[7]&&arguments[7];t||(t=e);var s=e.settings.keepInputOnChangeFieldSrc,u=r.get("field"),c=r.get("fieldType"),d=r.get("operator"),p=r.get("value"),f=r.get("valueSrc",new ck.List),h=r.get("valueType",new ck.List),g=r.get("asyncListValues"),v=e.settings,m=v.convertableWidgets,y=v.clearValueOnChangeField,b=v.clearValueOnChangeOp,_=v.showErrorMessage,x=DL(e,o,n),w=o?eT(x.cardinality,1):null,O=FL(t,u),S=FL(e,n),k=!u&&c&&s,j=(null==O?void 0:O.type)||c,E=(null==S?void 0:S.type)||!n&&k&&j,C=(u||k)&&d&&o&&null!=p;if((C=(C=C&&(!i||"field"==i&&!y||"operator"==i&&!b))&&j&&E&&j==E)&&vI.includes(E)&&"field"==i){var T=null==S?void 0:S.listValuesType,q=null==O?void 0:O.listValuesType;T&&T===q||(C=!1)}for(var A=0;A<w;A++){var P=f.get(A)||null,I=EI(t,u,d,P),L=EI(e,n,o,P),N="value"==P?I:EI(t,u,d,"value"),R="value"==P?L:EI(e,n,o,"value");R==N||(m[N]||[]).includes(R)||!N&&k||(C=!1)}d!=o&&[d,o].includes("proximity")&&(C=!1);var M=VL(e,n,o,null,f.first()),F=jI(e,n,o,null);!n&&k&&(F=Object.keys(e.settings.valueSourcesInfo));var D={},V=Array.from({length:w},(function(){return null}));if(C)for(var z=function(){var t=p.get(B),r=h.get(B)||null,s=f.get(B)||null,u=null!=F.find((function(e){return e==s}));!u&&B>0&&null==s&&(u=!0);var c=lI(e,n,n,o,t,r,s,g,a,l,!0),d=ot(c,2),v=d[0],m=d[1],y=m!==t,b=!u||!!v&&("field"==i||!_&&!y);if(!!v&&_&&!b&&!y&&(V[B]=v),y&&(D[B]=m),b)return C=!1,"break"},B=0;B<w;B++){if("break"===z())break}var H,W=null,U=null,$=null;if(W=new ck.List(Array.from({length:w},(function(e,t){var r=void 0;if(C)t<p.size&&(r=p.get(t),void 0!==D[t]&&(r=D[t]));else if(1==w){var n;r=vT([null==S?void 0:S.defaultValue,null==S||null===(n=S.fieldSettings)||void 0===n?void 0:n.defaultValue,null==M?void 0:M.defaultValue])}return r}))),U=new ck.List(Array.from({length:w},(function(e,t){var r=null;return C?t<f.size&&(r=f.get(t)):(1==F.length||F.length>1)&&(r=F[0]),r}))),_){if(x&&x.validateValues&&U.toJS().filter((function(e){return"value"==e||null==e})).length==w){var Y=M&&M.toJS?W.toJS().map((function(t){return M.toJS.call(e.ctx,t,M)})):W.toJS(),G=x.validateValues(Y);_&&V.push(G)}$=new ck.List(V)}return H=new ck.List(Array.from({length:w},(function(e,t){var r=null;return C?t<h.size&&(r=h.get(t)):1==w&&M&&void 0!==M.type?r=M.type:1==w&&S&&void 0!==S.type&&(r="!group"==S.type?"number":S.type),r}))),{canReuseValue:C,newValue:W,newValueSrc:U,newValueType:H,newValueError:$,operatorCardinality:w}},yI=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=e.settings.fieldSeparator,n=RL(t,e),o=t?CL(e,t):e,i=null,a=[];do{var l,s=o===e?e.fields:null===(l=o)||void 0===l?void 0:l.subfields;if(!s||!Object.keys(s).length){o=i=null;break}i=Object.keys(s)[0],a.push(i),o=s[i]}while("!struct"==o.type||"!group"==o.type);return(n||[]).concat(a).join(r)},bI=function(e,t){var r;return(null===(r=e.types[t])||void 0===r?void 0:r.operators)||null},_I=function(e,t){var r=FL(e,t);return r?r.operators:[]},xI=function(e,t){var r,n=_I(e,t);return null!==(r=null==n?void 0:n[0])&&void 0!==r?r:null},wI=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"fields",o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"subfields";if(!e)return null;var i=t.settings.fieldSeparator,a=RL(e,t),l=RL(r,t),s=a.slice(l.length).map((function(e,t,r){return r.slice(0,t+1)})).map((function(e){return[].concat(lk(l),lk(e)).join(i)})).map((function(e){var r=CL(t,e,n,o);return r&&r.label||WE(e.split(i))})).filter((function(e){return null!=e}));return s},OI=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!e)return null;var n=r&&CL(t,r)||null,o=t.settings.fieldSeparator,i=RL(e,t),a=LL(e,r,t)?RL(r,t):[];return i.slice(a.length).map((function(e,t,r){return r.slice(0,t+1)})).map((function(e){return{part:[].concat(lk(a),lk(e)).join(o),key:e[e.length-1]}})).map((function(e){var r=e.part;return{key:e.key,cnf:CL(t,r)}})).map((function(e,t,r){return[e.key,e.cnf,t>0?r[t-1].cnf:n]}))};function SI(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=[],i=[];if(!t)return{widgets:o,valueSrcs:i};var a="object"==b(t)&&(!!t.func&&!!t.arg||t._isFuncArg),l=FL(e,t),s=r?e.operators[r]:null;if(null!=l&&l.widgets){var u=function(){var u=l.widgets[c];if(!e.widgets[c])return"continue";var d=e.widgets[c].valueSrc||"value",p=!0;if("field"==c&&(p=p&&kI(e,["field"],l).length>0),"func"==c&&(p=p&&kI(e,["func"],l).length>0),"value"!=n||u.operators||a||"!case_value"==t||(p=!1),u.operators&&r&&(p=p&&-1!=u.operators.indexOf(r)),n&&n!=d&&"const"!=n&&(p=!1),s&&0==s.cardinality&&"value"!=d&&(p=!1),p){var f,h;o.push(c);var g=-1!=(null===(f=l.valueSources)||void 0===f?void 0:f.indexOf(d));-1==(null==s||null===(h=s.valueSources)||void 0===h?void 0:h.indexOf(d))&&(g=!1),g&&!i.find((function(e){return e==d}))&&i.push(d)}};for(var c in l.widgets)u()}var d=function(e){var t=0;return l.preferWidgets?l.preferWidgets.includes(e)&&(t+=10-l.preferWidgets.indexOf(e)):e==l.mainWidget&&(t+=100),"field"==e&&(t-=1),"func"==e&&(t-=2),t};return o.sort((function(e,t){return d(t)-d(e)})),{widgets:o,valueSrcs:i}}var kI=function(e,t,r){var n;if(!r)return t;var o=null!==(n=r.type)&&void 0!==n?n:r.returnType;return t||(t=Object.keys(e.settings.valueSourcesInfo)),t.filter((function(t){var n=!0;if("field"==t&&e.__fieldsCntByType){var i=r._isFuncArg?0:1;n=n&&e.__fieldsCntByType[o]>i}return"func"==t&&(e.__funcsCntByType&&(n=n&&!!e.__funcsCntByType[o]),r.funcs&&(n=n&&r.funcs.length>0)),n}))},jI=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=SI(e,t,r,null).valueSrcs;return kI(e,o,n)},EI=function(e,t,r){var n=SI(e,t,r,arguments.length>3&&void 0!==arguments[3]?arguments[3]:null).widgets,o=null;return n.length&&(o=n[0]),o},CI=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};if(e){var i=FL(t,e)||{},a=t.settings.fieldSeparator,l=RL(e,t),s=Array.isArray(e)?e.join(a):e;if(null!=o&&o.useTableName&&i.tableName){var u=lk(l);u[0]=i.tableName,s=u.join(a)}if(i.fieldName&&(s=i.fieldName),n){FL(t,n);var c=n;0==s.indexOf(c+a)?s=s.slice((c+a).length):i.fieldName||r.errors.push("Can't cut group ".concat(c," from field ").concat(s))}return s}},TI=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=e.get("type"),o=e.getIn(["properties","mode"]);return"rule_group"==n&&"array"==o?qI(e,t,r):"group"==n||"rule_group"==n?PI(e,t,r):NI(e,t,r)},qI=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=e.get("children1"),o=e.get("properties");return AI(o.toObject(),n,t,r)},AI=function(e,t,r){var n,o,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=e.operator,l=null!==(n=null===(o=r.operators[a])||void 0===o?void 0:o.cardinality)&&void 0!==n?n:1,s=[!LI(e,r,!1),l>0||!II(t,r,i)].filter((function(e){return!!e})).length;return!(2==s)},PI=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=e.get("children1");return II(n,t,r)},II=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return!e||0==e.size||e.size>0&&0==e.filter((function(e){return!TI(e,t,r)})).size},LI=function(e,t){var r,n,o=e.field,i=e.fieldSrc,a=e.fieldType,l=e.operator,s=e.value,u=e.valueSrc;e.valueType;var c=arguments.length>2&&void 0!==arguments[2]&&arguments[2],d=null!==(r=null===(n=t.operators[l])||void 0===n?void 0:n.cardinality)&&void 0!==r?r:1,p=[c?null!==o||null!=a:RI(o,i,t,c),!!l,s.filter((function(e,r){var n;return RI(e,(null==u||null===(n=u.get)||void 0===n?void 0:n.call(u,r))||(null==u?void 0:u[r]),t,c)})).size>=d],f=p.filter((function(e){return!!e})).length;return!(3==f)},NI=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=e.get("properties");return LI(n.toObject(),t,r)},RI=function e(t,r,n){var o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!o&&"func"==r&&t){var i=t.get("func"),a=PL(n,i);if(a){var l=t.get("args");for(var s in a.args){var u=a.args[s],c=l?l.get(s):void 0,d=c?c.get("value"):void 0,p=c?c.get("valueSrc"):void 0;if(null==d&&void 0===(null==u?void 0:u.defaultValue)&&(null==u||!u.isOptional))return!1;if(null!=d&&!e(d,p,n,o))return!1}return!0}}return null!=t},MI=function(e,t,r){return"func"==t?pI(e,r):e};const FI=Object.freeze(Object.defineProperty({__proto__:null,completeValue:MI,filterValueSourcesForField:kI,formatFieldName:CI,getFieldPartsConfigs:OI,getFieldPathLabels:wI,getFirstField:yI,getFirstOperator:xI,getFuncPathLabels:function(e,t){return wI(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,"funcs","subfields")},getNewValueForFieldOp:mI,getOperatorsForField:_I,getOperatorsForType:bI,getValueLabel:function(e,t,r,n){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,i=arguments.length>5&&void 0!==arguments[5]&&arguments[5],a=t&&"object"==b(t)&&!!t.func&&!!t.arg,l=e.settings.showLabels,s=FL(e,t),u=VL(e,t,r,null,o)||{},c=DL(e,r,t)||{},d=null;if((i?1:c.cardinality)>1){var p=u.valueLabels||c.valueLabels;p&&(d=p[n]),d&&"object"!=b(d)&&(d={label:d,placeholder:d}),d||(d={label:e.settings.valueLabel+" "+(n+1),placeholder:e.settings.valuePlaceholder+" "+(n+1)})}else{var f=u.valueLabel,h=u.valuePlaceholder;a&&(f||(f=s.label||t.arg),h||l||(h=s.label||t.arg)),d={label:f||e.settings.valueLabel,placeholder:h||e.settings.valuePlaceholder}}return d},getValueSourcesForFieldOp:jI,getWidgetForFieldOp:EI,getWidgetsForFieldOp:function(e,t,r){return SI(e,t,r,arguments.length>3&&void 0!==arguments[3]?arguments[3]:null).widgets},isCompletedValue:RI,isEmptyGroupChildren:II,isEmptyItem:TI,isEmptyRuleGroupExtPropertiesAndChildren:AI,isEmptyRuleProperties:LI,selectTypes:vI},Symbol.toStringTag,{value:"Module"}));var DI={exports:{}};!function(e){var t=function(){function e(e,t){return null!=t&&e instanceof t}var t,r,n;try{t=Map}catch(l){t=function(){}}try{r=Set}catch(l){r=function(){}}try{n=Promise}catch(l){n=function(){}}function o(i,l,s,u,c){"object"==typeof l&&(s=l.depth,u=l.prototype,c=l.includeNonEnumerable,l=l.circular);var d=[],p=[],f="undefined"!=typeof Buffer;return void 0===l&&(l=!0),void 0===s&&(s=1/0),function i(s,h){if(null===s)return null;if(0===h)return s;var g,v;if("object"!=typeof s)return s;if(e(s,t))g=new t;else if(e(s,r))g=new r;else if(e(s,n))g=new n((function(e,t){s.then((function(t){e(i(t,h-1))}),(function(e){t(i(e,h-1))}))}));else if(o.__isArray(s))g=[];else if(o.__isRegExp(s))g=new RegExp(s.source,a(s)),s.lastIndex&&(g.lastIndex=s.lastIndex);else if(o.__isDate(s))g=new Date(s.getTime());else{if(f&&Buffer.isBuffer(s))return g=Buffer.allocUnsafe?Buffer.allocUnsafe(s.length):new Buffer(s.length),s.copy(g),g;e(s,Error)?g=Object.create(s):void 0===u?(v=Object.getPrototypeOf(s),g=Object.create(v)):(g=Object.create(u),v=u)}if(l){var m=d.indexOf(s);if(-1!=m)return p[m];d.push(s),p.push(g)}for(var y in e(s,t)&&s.forEach((function(e,t){var r=i(t,h-1),n=i(e,h-1);g.set(r,n)})),e(s,r)&&s.forEach((function(e){var t=i(e,h-1);g.add(t)})),s){var b;v&&(b=Object.getOwnPropertyDescriptor(v,y)),b&&null==b.set||(g[y]=i(s[y],h-1))}if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(s);for(y=0;y<_.length;y++){var x=_[y];(!(O=Object.getOwnPropertyDescriptor(s,x))||O.enumerable||c)&&(g[x]=i(s[x],h-1),O.enumerable||Object.defineProperty(g,x,{enumerable:!1}))}}if(c){var w=Object.getOwnPropertyNames(s);for(y=0;y<w.length;y++){var O,S=w[y];(O=Object.getOwnPropertyDescriptor(s,S))&&O.enumerable||(g[S]=i(s[S],h-1),Object.defineProperty(g,S,{enumerable:!1}))}}return g}(i,s)}function i(e){return Object.prototype.toString.call(e)}function a(e){var t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),t}return o.clonePrototype=function(e){if(null===e)return null;var t=function(){};return t.prototype=e,new t},o.__objToStr=i,o.__isDate=function(e){return"object"==typeof e&&"[object Date]"===i(e)},o.__isArray=function(e){return"object"==typeof e&&"[object Array]"===i(e)},o.__isRegExp=function(e){return"object"==typeof e&&"[object RegExp]"===i(e)},o.__getRegExpFlags=a,o}();e.exports&&(e.exports=t)}(DI);const VI=h(DI.exports);var zI={exports:{}};!function(e,t){e.exports=function(){function e(e){for(var t=[],r=0,n=e.length;r<n;r++)-1===t.indexOf(e[r])&&t.push(e[r]);return t}Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)});var t={},r={"==":function(e,t){return e==t},"===":function(e,t){return e===t},"!=":function(e,t){return e!=t},"!==":function(e,t){return e!==t},">":function(e,t){return e>t},">=":function(e,t){return e>=t},"<":function(e,t,r){return void 0===r?e<t:e<t&&t<r},"<=":function(e,t,r){return void 0===r?e<=t:e<=t&&t<=r},"!!":function(e){return t.truthy(e)},"!":function(e){return!t.truthy(e)},"%":function(e,t){return e%t},log:function(e){return console.log(e),e},in:function(e,t){return!(!t||void 0===t.indexOf)&&-1!==t.indexOf(e)},cat:function(){return Array.prototype.join.call(arguments,"")},substr:function(e,t,r){if(r<0){var n=String(e).substr(t);return n.substr(0,n.length+r)}return String(e).substr(t,r)},"+":function(){return Array.prototype.reduce.call(arguments,(function(e,t){return parseFloat(e,10)+parseFloat(t,10)}),0)},"*":function(){return Array.prototype.reduce.call(arguments,(function(e,t){return parseFloat(e,10)*parseFloat(t,10)}))},"-":function(e,t){return void 0===t?-e:e-t},"/":function(e,t){return e/t},min:function(){return Math.min.apply(this,arguments)},max:function(){return Math.max.apply(this,arguments)},merge:function(){return Array.prototype.reduce.call(arguments,(function(e,t){return e.concat(t)}),[])},var:function(e,t){var r=void 0===t?null:t,n=this;if(void 0===e||""===e||null===e)return n;for(var o=String(e).split("."),i=0;i<o.length;i++){if(null==n)return r;if(void 0===(n=n[o[i]]))return r}return n},missing:function(){for(var e=[],r=Array.isArray(arguments[0])?arguments[0]:arguments,n=0;n<r.length;n++){var o=r[n],i=t.apply({var:o},this);null!==i&&""!==i||e.push(o)}return e},missing_some:function(e,r){var n=t.apply({missing:r},this);return r.length-n.length>=e?[]:n}};return t.is_logic=function(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)&&1===Object.keys(e).length},t.truthy=function(e){return!(Array.isArray(e)&&0===e.length||!e)},t.get_operator=function(e){return Object.keys(e)[0]},t.get_values=function(e){return e[t.get_operator(e)]},t.apply=function(e,n){if(Array.isArray(e))return e.map((function(e){return t.apply(e,n)}));if(!t.is_logic(e))return e;var o,i,a,l,s,u=t.get_operator(e),c=e[u];if(Array.isArray(c)||(c=[c]),"if"===u||"?:"==u){for(o=0;o<c.length-1;o+=2)if(t.truthy(t.apply(c[o],n)))return t.apply(c[o+1],n);return c.length===o+1?t.apply(c[o],n):null}if("and"===u){for(o=0;o<c.length;o+=1)if(i=t.apply(c[o],n),!t.truthy(i))return i;return i}if("or"===u){for(o=0;o<c.length;o+=1)if(i=t.apply(c[o],n),t.truthy(i))return i;return i}if("filter"===u)return l=t.apply(c[0],n),a=c[1],Array.isArray(l)?l.filter((function(e){return t.truthy(t.apply(a,e))})):[];if("map"===u)return l=t.apply(c[0],n),a=c[1],Array.isArray(l)?l.map((function(e){return t.apply(a,e)})):[];if("reduce"===u)return l=t.apply(c[0],n),a=c[1],s=void 0!==c[2]?c[2]:null,Array.isArray(l)?l.reduce((function(e,r){return t.apply(a,{current:r,accumulator:e})}),s):s;if("all"===u){if(l=t.apply(c[0],n),a=c[1],!Array.isArray(l)||!l.length)return!1;for(o=0;o<l.length;o+=1)if(!t.truthy(t.apply(a,l[o])))return!1;return!0}if("none"===u){if(l=t.apply(c[0],n),a=c[1],!Array.isArray(l)||!l.length)return!0;for(o=0;o<l.length;o+=1)if(t.truthy(t.apply(a,l[o])))return!1;return!0}if("some"===u){if(l=t.apply(c[0],n),a=c[1],!Array.isArray(l)||!l.length)return!1;for(o=0;o<l.length;o+=1)if(t.truthy(t.apply(a,l[o])))return!0;return!1}if(c=c.map((function(e){return t.apply(e,n)})),r.hasOwnProperty(u)&&"function"==typeof r[u])return r[u].apply(n,c);if(u.indexOf(".")>0){var d=String(u).split("."),p=r;for(o=0;o<d.length;o++){if(!p.hasOwnProperty(d[o]))throw new Error("Unrecognized operation "+u+" (failed at "+d.slice(0,o+1).join(".")+")");p=p[d[o]]}return p.apply(n,c)}throw new Error("Unrecognized operation "+u)},t.uses_data=function(r){var n=[];if(t.is_logic(r)){var o=t.get_operator(r),i=r[o];Array.isArray(i)||(i=[i]),"var"===o?n.push(i[0]):i.forEach((function(e){n.push.apply(n,t.uses_data(e))}))}return e(n)},t.add_operation=function(e,t){r[e]=t},t.rm_operation=function(e){delete r[e]},t.rule_like=function(e,r){if(r===e)return!0;if("@"===r)return!0;if("number"===r)return"number"==typeof e;if("string"===r)return"string"==typeof e;if("array"===r)return Array.isArray(e)&&!t.is_logic(e);if(t.is_logic(r)){if(t.is_logic(e)){var n=t.get_operator(r),o=t.get_operator(e);if("@"===n||n===o)return t.rule_like(t.get_values(e,!1),t.get_values(r,!1))}return!1}if(Array.isArray(r)){if(Array.isArray(e)){if(r.length!==e.length)return!1;for(var i=0;i<r.length;i+=1)if(!t.rule_like(e[i],r[i]))return!1;return!0}return!1}return!1},t}()}(zI);const BI=h(zI.exports);function HI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function WI(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?HI(Object(r),!0).forEach((function(t){y(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HI(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function UI(e,t){return BI.add_operation(e,t)}var $I={CALL:function(e,t){for(var r=arguments.length,n=new Array(r>2?r-2:0),o=2;o<r;o++)n[o-2]=arguments[o];return e.call.apply(e,[t].concat(n))},JSX:function(e,t){return{type:e,props:t}},mergeObjects:function(e,t){return WI(WI({},e),t)},fromEntries:function(e){return Object.fromEntries(e)},strlen:function(e){return(null==e?void 0:e.length)||0},regexTest:function(e,t,r){return null!=(null==e?void 0:e.match(new RegExp(t,r)))},now:function(){return new Date},date_add:function(e,t,r){return X_(e).add(t,r).toDate()},toLowerCase:function(e){return e.toLowerCase()},toUpperCase:function(e){return e.toUpperCase()}};function YI(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return GI(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return GI(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(l)throw i}}}}function GI(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function KI(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function JI(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?KI(Object(r),!0).forEach((function(t){y(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):KI(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function QI(e,t,r){var n;try{n=BI.apply(e,t)}catch(lF){throw lF.message="".concat(r.join(".")," :: ").concat(lF.message),lF}return n}function XI(e,t,r,n){var o;try{o=t.call.apply(t,[e].concat(lk(r)))}catch(lF){throw lF.message="".concat(n.join(".")," :: ").concat(lF.message),lF}return o}!function(){for(var e in $I)UI(e,$I[e])}();var ZI=["conjunctions","fields","types","operators","widgets","settings","funcs","ctx"],eL={asyncFetch:{type:"f",args:["search","offset"]},labelYes:{type:"r"},labelNo:{type:"r"},marks:{type:"r",isArr:!0},validateValue:{type:"f",args:["val","fieldSettings","op","opDef","rightFieldDef"]}},tL=JI(JI({},eL),{},{factory:{type:"rf"},formatValue:{type:"f",args:["val","fieldDef","wgtDef","isForDisplay","op","opDef","rightFieldDef"]},sqlFormatValue:{type:"f",args:["val","fieldDef","wgtDef","op","opDef","rightFieldDef"]},spelFormatValue:{type:"f",args:["val","fieldDef","wgtDef","op","opDef","rightFieldDef"]},spelImportValue:{type:"f",args:["val","wgtDef","args"]},mongoFormatValue:{type:"f",args:["val","fieldDef","wgtDef","op","opDef"]},elasticSearchFormatValue:{type:"f",args:["queryType","val","op","field","config"]},jsonLogic:{type:"f",args:["val","fieldDef","wgtDef","op","opDef"]},validateValue:{type:"f",args:["val","fieldSettings","op","opDef","rightFieldDef"]},toJS:{type:"f",args:["val"]}}),rL={options:{factory:{type:"rf"}},formatOp:{type:"f",args:["field","op","vals","valueSrc","valueType","opDef","operatorOptions","isForDisplay","fieldDef"]},mongoFormatOp:{type:"f",args:["field","op","vals","useExpr","valueSrc","valueType","opDef","operatorOptions","fieldDef"]},sqlFormatOp:{type:"f",args:["field","op","vals","valueSrc","valueType","opDef","operatorOptions","fieldDef"]},spelFormatOp:{type:"f",args:["field","op","vals","valueSrc","valueType","opDef","operatorOptions","fieldDef"]},jsonLogic:{type:"f",ignore:"string",args:["field","op","vals","opDef","operatorOptions","fieldDef"]},elasticSearchQueryType:{type:"f",ignore:"string",args:["valueType"]},textSeparators:{type:"r",isArr:!0}},nL={widgetProps:tL,opProps:rL},oL={fields:{x:{fieldSettings:eL,widgets:{x:nL},mainWidgetProps:tL}},widgets:{x:tL},conjunctions:{x:{formatConj:{type:"f",args:["children","conj","not","isForDisplay"]},sqlFormatConj:{type:"f",args:["children","conj","not"]},spelFormatConj:{type:"f",args:["children","conj","not","omitBrackets"]}}},operators:{x:rL},types:{x:{widgets:{x:nL}}},funcs:{x:{renderBrackets:{type:"r",isArr:!0},renderSeps:{type:"r",isArr:!0},jsonLogic:{type:"f",ignore:"string",args:["formattedArgs"]},jsonLogicImport:{type:"f",args:["val"]},spelImport:{type:"f",args:["spel"]},formatFunc:{type:"f",args:["formattedArgs","isForDisplay"]},sqlFormatFunc:{type:"f",args:["formattedArgs"]},mongoFormatFunc:{type:"f",args:["formattedArgs"]},spelFormatFunc:{type:"f",args:["formattedArgs"]}}},settings:{locale:{mui:{type:"f",args:[],invokeWith:[],ignore:"jl"}},canCompareFieldWithField:{type:"f",args:["leftField","leftFieldConfig","rightField","rightFieldConfig","op"]},formatReverse:{type:"f",args:["q","op","reversedOp","operatorDefinition","revOperatorDefinition","isForDisplay"]},sqlFormatReverse:{type:"f",args:["q"]},spelFormatReverse:{type:"f",args:["q"]},formatField:{type:"f",args:["field","parts","label2","fieldDefinition","config","isForDisplay"]},formatSpelField:{type:"f",args:["field","parentField","parts","partsExt","fieldDefinition","config"]},formatAggr:{type:"f",args:["whereStr","aggrField","operator","value","valueSrc","valueType","opDef","operatorOptions","isForDisplay","aggrFieldDef"]},normalizeListValues:{type:"f",args:["listValues","type","fieldSettings"]},renderConfirm:{type:"f",args:["props"]},useConfirm:{type:"f",args:[]},renderField:{type:"rf"},renderOperator:{type:"rf"},renderFunc:{type:"rf"},renderConjs:{type:"rf"},renderButton:{type:"rf"},renderButtonGroup:{type:"rf"},renderValueSources:{type:"rf"},renderFieldSources:{type:"rf"},renderProvider:{type:"rf"},renderSwitch:{type:"rf"},renderSwitchPrefix:{type:"r"},renderItem:{type:"rf"},renderBeforeWidget:{type:"rf"},renderAfterWidget:{type:"rf"},renderBeforeActions:{type:"rf"},renderAfterActions:{type:"rf"},renderRuleError:{type:"rf"}}},iL=function(e){return"object"==b(e)&&null!==e&&!Array.isArray(e)},aL=function(e,t){if(e.__fieldNames)throw new Error("Don't apply `compressConfig()` to extended config");var r=Hq(e,ZI);delete r.ctx;for(var n=function e(t,r,n,o){if(iL(t)){if(sT(t)&&(t=lT(t)),"funcs"===n[0]&&!r){var i=n[n.length-1];(r=CL({funcs:o.BasicFuncs},i,"funcs","subfields")||void 0)&&(t.$$key=i)}if(void 0!==r&&iL(r))for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(!Object.keys(t).includes(a)||void 0===t[a]&&void 0!==r[a]?t[a]="$$deleted":(t[a]=e(t[a],r[a],[].concat(lk(n),[a]),o),void 0===t[a]&&delete t[a]));for(var l in t)if(Object.prototype.hasOwnProperty.call(t,l)){var s;if(!r||!Object.keys(r).includes(l))t[l]=e(t[l],null===(s=r)||void 0===s?void 0:s[l],[].concat(lk(n),[l]),o);void 0===t[l]&&delete t[l]}0===Object.keys(t).length&&(t=void 0)}else Array.isArray(t)&&t.forEach((function(r,i){t[i]=e(t[i],void 0,[].concat(lk(n),[i]),o)}));if(void 0===r||!rT(t,r,!0)){if("function"==typeof t)throw new Error("compressConfig: function at ".concat(n.join(".")," should be converted to JsonLogic"));return t}},o=0,i=ZI;o<i.length;o++){var a=i[o];if("ctx"===a);else if("fields"===a)r[a]=VI(r[a]),n(r[a],{},[a]);else if("funcs"===a)for(var l in r[a]=VI(r[a]||{}),r[a])n(r[a][l],null,[a,l],{BasicFuncs:Qr});else r[a]=VI(r[a]),n(r[a],t[a],[a])}return r},lL=function(e,t,r){if(!e.settings.useConfigCompress)throw new Error("Please enable `useConfigCompress` in config settings to use decompressConfig()");for(var n={},o=function e(t,r,n){if(iL(r))for(var o in iL(t)||(t={}),r)Object.prototype.hasOwnProperty.call(r,o)&&("$$deleted"===r[o]?delete t[o]:t[o]=e(t[o],r[o],[].concat(lk(n),[o])));else t=Array.isArray(r)?VI(r):r;return t},i=function e(t,r,n){var i=!1;if(iL(t)&&Object.prototype.hasOwnProperty.call(t,"$$key")&&t.$$key){var a=CL({funcs:n.BasicFuncs},t.$$key,"funcs","subfields");if(!a)throw new Error("decompressConfig: basic function not found by key ".concat(t.$$key," at ").concat(r.join(".")));delete t.$$key,t=o(VI(a),t,r),i=!0}if(!i)if(iL(t))for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&(t[l]=e(t[l],[].concat(lk(r),[l]),n));else if(Array.isArray(t)){var s,u=YI(t);try{for(u.s();!(s=u.n()).done;){var c=s.value;t[c]=e(t[c],[].concat(lk(r),[c]),n)}}catch(d){u.e(d)}finally{u.f()}}return t},a=0,l=ZI;a<l.length;a++){var s=l[a];"ctx"===s?n[s]=yq({},t.ctx||{},r||{}):"funcs"===s?(n[s]=VI(e[s]||{}),i(n[s],[s],{BasicFuncs:Qr})):"fields"===s?n[s]=VI(e[s]||{}):(n[s]=VI(t[s]||{}),o(n[s],e[s]||{},[s]))}return n},sL=function(e){if(e.__compliled)return e;return uL(e=VI(e),e,{ctx:e.ctx},oL,[]),Object.defineProperty(e,"__compliled",{enumerable:!1,writable:!1,value:!0}),e};function uL(e,t,r,n,o){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[];if(t)for(var a in i.length,n){var l=n[a],s="x"===a?i:[].concat(lk(i),[a]);if("r"===l.type){var u=t,c=u[a];if(l.isArr)for(var d in c){var p=pL(c[d],r,[].concat(lk(s),[d]));p!==c[d]&&(o.push("Compiled ".concat(s.join("."),"[").concat(d,"]")),c[d]=p)}else{var f=pL(c,r,s,void 0);f!==c&&(o.push("Compiled R ".concat(s.join("."))),u[a]=f)}}else if("rf"===l.type){var h=t,g=h[a],v=cL(g,r,s,l.ignore);v!==g&&(o.push("Compiled JL-RF ".concat(s.join("."))),h[a]=v)}else if("f"===l.type){var m,y=t,b=y[a],_=dL(b,r,s,l.args,l.ignore);if(l.invokeWith&&_&&"function"==typeof _)_=(m=_).call.apply(m,[null].concat(lk(l.invokeWith)));_!==b&&(o.push("Compiled JL-F ".concat(s.join("."))),y[a]=_)}else if("x"===a)for(var x in t){s=[].concat(lk(i),[x]);var w=t[x];uL(e,w,r,l,o,s),w.subfields&&uL(e,w.subfields,r,n,o,s)}else{uL(e,t[a],r,l,o,s)}}}function cL(e,t,r){return cT(e)?function(n,o){o=o||(null==t?void 0:t.ctx);var i=QI(e,{props:n,ctx:o},r);return"string"==typeof i&&(i={type:i,props:n}),pL(i,{ctx:o},r)}:"string"==typeof e?function(n,o){o=o||(null==t?void 0:t.ctx);var i=e.split(".").reduce((function(e,t){return null==e?void 0:e[t]}),o);return i?XI(this,i,[n,o],r):pL({type:e,props:n},{ctx:o},r)}:e}function dL(e,t,r,n){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0;return cT(e)&&"jl"!==o?function(){for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];var l=this||(null==t?void 0:t.ctx),s=(n||[]).reduce((function(e,t,r){return JI(JI({},e),{},y({},t,i[r]))}),{args:i,ctx:l});return QI(e,s,r)}.bind(null==t?void 0:t.ctx):"string"==typeof e&&"string"!==o?function(){var n=this||(null==t?void 0:t.ctx),o=e.split(".").reduce((function(e,t){return null==e?void 0:e[t]}),n);if(o){for(var i=arguments.length,a=new Array(i),l=0;l<i;l++)a[l]=arguments[l];return XI(this,o,a,r)}throw new Error("".concat(r.join(".")," :: Function ").concat(e," is not found in ctx"))}.bind(null==t?void 0:t.ctx):e}function pL(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0;if(uT(e)){var o,i=e.type,a=e.props;if("string"!=typeof i)throw new Error("renderReactElement for ".concat(r.join("."),": type should be string"));var l,s=function(e,t){var r;return(null==t||null===(r=t.components)||void 0===r?void 0:r[e])||t.W[e]||t.O[e]}(i,t.ctx)||i.toLowerCase();return void 0!==n&&(a=JI(JI({},a),{},{key:n})),null!==(o=a)&&void 0!==o&&o.children&&(l=pL(a.children,t,r),a=JI(JI({},a),{},{children:l})),t.ctx.RCE(s,a)}return e instanceof Array?e.map((function(e,n){return pL(e,t,r,""+n)})):e}function fL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function hL(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?fL(Object(r),!0).forEach((function(t){y(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fL(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var gL=ST.mark(kL),vL=ST.mark(jL);function mL(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return yL(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return yL(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(l)throw i}}}}function yL(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var bL=function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(e.__configId)return e;(e=r&&e.settings.useConfigCompress?e.__compliled?VI(e):sL(e):VI(e)).settings=$q({},Yq,e.settings,SL),e.__fieldsCntByType={},e.__funcsCntByType={},e.__fieldNames={},function(e,t){for(var r in e){_L(r,e[r],t)}}(e.types,e),xL(e.fields,e),wL(e.funcs,e);var n=e.settings.locale.moment;return n&&X_.locale(n),Object.defineProperty(e,"__configId",{enumerable:!1,writable:!1,value:t||KC()}),fT(e),e};function _L(e,t,r){var n=null,o=null;for(var i in t.mainWidget=t.mainWidget||Object.keys(t.widgets).filter((function(e){return"field"!=e&&"func"!=e}))[0],t.widgets){var a=t.widgets[i];if(a.operators){var l=a.operators;t.excludeOperators&&(l=l.filter((function(e){return!t.excludeOperators.includes(e)}))),n=pT(n,l)}a.defaultOperator&&(o=a.defaultOperator),i==t.mainWidget&&(a=yq({},{widgetProps:t.mainWidgetProps||{}},a)),t.widgets[i]=a}t.valueSources||(t.valueSources=Object.keys(r.settings.valueSourcesInfo));var s,u=mL(t.valueSources);try{for(u.s();!(s=u.n()).done;){var c=s.value;"value"==c||t.widgets[c]||(t.widgets[c]={})}}catch(d){u.e(d)}finally{u.f()}!t.operators&&n&&(t.operators=Array.from(new Set(n))),!t.defaultOperator&&o&&(t.defaultOperator=o)}function xL(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];for(var n in e)OL(e[n],t,[].concat(lk(r),[n])),e[n].subfields&&xL(e[n].subfields,t,[].concat(lk(r),[n]))}function wL(e,t){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(e){var o=(null==t||null===(r=t.settings)||void 0===r?void 0:r.fieldSeparator)||".";for(var i in e){var a=[].concat(lk(n),[i]).join(o),l=e[i];for(var s in l.returnType&&(t.__funcsCntByType[l.returnType]||(t.__funcsCntByType[l.returnType]=0),t.__funcsCntByType[l.returnType]++),l.args)OL(l.args[s],t,null,!0);if(l.args){var u,c=!0,d=mL(Object.keys(l.args).reverse());try{for(d.s();!(u=d.n()).done;){var p=u.value,f=l.args[p];!c&&f.isOptional&&(mT.info("Arg ".concat(p," for func ").concat(a," can't be optional")),delete f.isOptional),f.isOptional||(c=!1)}}catch(h){d.e(h)}finally{d.f()}}l.subfields&&wL(l.subfields,t,[].concat(lk(n),[i]))}}}function OL(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=null,i=null,a=t.types[e.type],l=e.excludeOperators||[];if("!struct"!=e.type&&"!group"!=e.type){e.fieldSettings||(e.fieldSettings={});for(var s=0,u=["listValues","treeValues","allowCustomValues","validateValue"];s<u.length;s++){var c=u[s];e[c]&&(e.fieldSettings[c]=e[c],delete e[c])}if(e.fieldSettings.listValues&&t.settings.normalizeListValues&&(e.fieldSettings.listValues=t.settings.normalizeListValues.call(t.ctx,e.fieldSettings.listValues,e.type,e.fieldSettings)),e.fieldSettings.treeValues&&t.settings.normalizeListValues&&(e.fieldSettings.treeValues=t.settings.normalizeListValues.call(t.ctx,e.fieldSettings.treeValues,e.type,e.fieldSettings)),!a)return void(e.disabled=!0);n||(t.__fieldsCntByType[e.type]||(t.__fieldsCntByType[e.type]=0),t.__fieldsCntByType[e.type]++),e.widgets||(e.widgets={}),n&&(e._isFuncArg=!0),e.mainWidget=e.mainWidget||a.mainWidget,e.valueSources=e.valueSources||a.valueSources;var d=a.excludeOperators||[],p=function(){var t=e.widgets[f]||{},r=a.widgets[f]||{};if(!n){var s=[].concat(lk(l),lk(d)),u=e.preferWidgets&&("field"==f||e.preferWidgets.includes(f))||s.length>0;if(t.operators){var c=t.operators.filter((function(e){return!s.includes(e)}));o=[].concat(lk(o||[]),lk(c))}else if(u&&r.operators){var p=r.operators.filter((function(e){return!s.includes(e)}));o=[].concat(lk(o||[]),lk(p))}t.defaultOperator&&(i=t.defaultOperator)}f==e.mainWidget&&(t=yq({},{widgetProps:e.mainWidgetProps||{}},t)),e.widgets[f]=t};for(var f in a.widgets)p();n||(!e.operators&&o&&(e.operators=Array.from(new Set(o))),e._origDefaultOperator=e.defaultOperator,!e.defaultOperator&&i&&(e.defaultOperator=i))}var h=TL(t,r),g=h.fieldName,v=h.inGroup;g&&(e.fieldName=g,t.__fieldNames[g]||(t.__fieldNames[g]=[]),t.__fieldNames[g].push({fullPath:r,inGroup:v}))}var SL=function(e,t,r,n,o,i){if(Array.isArray(e))return t};function kL(e){return ST.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.delegateYield(EL(e,e.funcs||{},[]),"t0",1);case 1:case"end":return t.stop()}}),gL)}function jL(e){return ST.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.delegateYield(EL(e,e.fields||{},[]),"t0",1);case 1:case"end":return t.stop()}}),vL)}function EL(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"subfields";return ST.mark((function o(i){var a,l,s;return ST.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:a=(null==e||null===(i=e.settings)||void 0===i?void 0:i.fieldSeparator)||".",o.t0=ST.keys(t);case 2:if((o.t1=o.t0()).done){o.next=13;break}if(l=o.t1.value,!(s=t[l])[n]){o.next=9;break}return o.delegateYield(EL(e,s[n],[].concat(lk(r),[l]),n),"t2",7);case 7:o.next=11;break;case 9:return o.next=11,[[].concat(lk(r),[l]).join(a),s];case 11:o.next=2;break;case 13:case"end":return o.stop()}}),o)}))()}var CL=function(e,t){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"fields",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"subfields";if(!t)return null;if("!case_value"==t)return{type:"case_value",mainWidget:"case_value",widgets:{case_value:e.widgets.case_value}};var i=(null==e||null===(r=e.settings)||void 0===r?void 0:r.fieldSeparator)||".",a=RL(t,e),l=e[n];if(!l)return null;for(var s=l,u=null,c=[],d=0;d<a.length;d++){var p=a[d];c.push(p),u=s[c.join(i)],d<a.length-1&&(u&&u[o]?(s=u[o],c=[]):u=null)}return u},TL=function(e,t){if(!t)return{};var r=e.settings.fieldSeparator,n=lk(t).reduce((function(t,n,o,i){var a=t.computedPath,l=t.computed,s=t.inGroup,u=[].concat(lk(i.slice(0,o)),[n]),c=CL(e,u);return"!group"===(null==c?void 0:c.type)&&o<i.length-1?(s=u.join(r),a=[]):null!=c&&c.fieldName?(l=!0,a=[c.fieldName]):a=[].concat(lk(a),[n]),{computedPath:a,computed:l,inGroup:s}}),{computedPath:[],computed:!1,inGroup:void 0}),o=n.computedPath,i=n.computed,a=n.inGroup;return i?{fieldName:o.join(r),inGroup:a}:{}},qL=function(e,t){var r,n,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=e.settings.fieldSeparator,a=[o].concat(lk(t.split(i))).filter((function(e){return null!=e})),l=t;return((null===(r=e.__fieldNames[l])||void 0===r||null===(n=r.find)||void 0===n||null===(n=n.call(r,(function(e){var t=e.inGroup;return!t||(null==o?void 0:o.startsWith(t))})))||void 0===n?void 0:n.fullPath)||a).join(i)},AL=function(e,t){if(!t)return null;var r=CL(e,t,"funcs","subfields");if(!r)return null;var n=r.returnType,o=r.args,i=Object.fromEntries(Object.entries(o||{}).map((function(e){var t=ot(e,2),r=t[0],n=t[1];return[r,Hq(n,["type","valueSources","defaultValue","fieldSettings","isOptional"])]})));return{returnType:n,args:i}},PL=function(e,t){if(!t)return null;var r=CL(e,t,"funcs","subfields");return r?hL(hL(hL({},e.types[r.returnType]||{}),r),{},{type:r.returnType||r.type}):null},IL=function(e,t,r){var n=PL(e,t);if(!n)return null;var o=n.args&&n.args[r]||null;if(!o)return null;var i=e.types[o.type]||{};return $q({},i,o||{},SL)},LL=function(e,t){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!t)return!1;var o=(null==n||null===(r=n.settings)||void 0===r?void 0:r.fieldSeparator)||".",i=NL(e,n),a=NL(t,n);return i.startsWith(a+o)},NL=function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if("string"==typeof e)return e;var n=(null==r||null===(t=r.settings)||void 0===t?void 0:t.fieldSeparator)||".";return RL(e,r).join(n)},RL=function(e){var t,r,n,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!e)return[];if(Array.isArray(e))return e;var i,a=(null==o||null===(t=o.settings)||void 0===t?void 0:t.fieldSeparator)||".";return null!=e&&e.func?Array.isArray(e.func)?e.func:e.func.split(a):null!=e&&null!==(r=e.get)&&void 0!==r&&r.call(e,"func")?null==e||null===(i=e.get)||void 0===i?void 0:i.call(e,"func").split(a):(null==e||null===(n=e.split)||void 0===n?void 0:n.call(e,a))||[]},ML=function(e){var t;if(!e)return null;if("object"==b(e)){if(!e.func&&e.type)return"field";if(e.func)return e.func&&e.arg?null:"func"}return null!=e&&null!==(t=e.get)&&void 0!==t&&t.call(e,"func")?null!=e&&e.get("arg")?null:"func":"field"},FL=function(e,t){var r;if(!t)return null;if("object"==b(t)){if(!t.func&&t.type)return t;if(t.func)return t.func&&t.arg?IL(e,t.func,t.arg):PL(e,t.func)}if(null!=t&&null!==(r=t.get)&&void 0!==r&&r.call(t,"func"))return null!=t&&t.get("arg")?IL(e,t.get("func"),t.get("arg")):PL(e,t.get("func"));var n=CL(e,t);if(!n)return null;var o=e.types[n.type]||{};return $q({},o,n||{},SL)},DL=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!t)return null;var n=e.operators[t];if(r){var o=FL(e,r),i=EI(e,r,t,null),a=e.widgets[i]||{},l=(o&&o.widgets?o.widgets[i]:{})||{},s=(a.opProps||{})[t],u=(l.opProps||{})[t];return yq({},n,s,u)}return n},VL=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;if(!t)return null;if(!r&&!n&&"const"!=o&&"!case_value"!=t)return null;var i=FL(e,t);n||(n=EI(e,t,r,o));var a=e.widgets[n]||{},l=((i&&i.widgets?i.widgets[n]:{})||{}).widgetProps||{},s=("value"==o||!o)&&i&&i.fieldSettings||{};return yq({},a,l,s)},zL=XC;const BL=Object.freeze(Object.defineProperty({__proto__:null,_widgetDefKeysToOmit:zL,applyJsonLogic:function(e,t){return BI.apply(e,t)},cleanJSX:lT,compileConfig:sL,compressConfig:aL,configKeys:ZI,decompressConfig:lL,extendConfig:bL,getFieldConfig:FL,getFieldParts:RL,getFieldPath:NL,getFieldPathParts:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!e)return null;var n=t.settings.fieldSeparator,o=RL(e,t);return r?o:o.map((function(e,t,r){return r.slice(0,t+1)})).map((function(e){return e.join(n)}))},getFieldRawConfig:CL,getFieldSrc:ML,getFieldWidgetConfig:VL,getFuncArgConfig:IL,getFuncConfig:PL,getFuncSignature:AL,getOperatorConfig:DL,isDirtyJSX:sT,isFieldDescendantOfField:LL,isJSX:uT,iterateFields:jL,iterateFuncs:kL,normalizeField:qL},Symbol.toStringTag,{value:"Module"}));function HL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function WL(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?HL(Object(r),!0).forEach((function(t){y(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HL(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var UL=function(e,t,r){if(e){var n=e.get("type"),o=e.get("children1");return("group"===n||"rule_group"===n)&&o&&o.size?$L(e,t,r):"rule"===n?YL(e,t,r):void 0}},$L=function(e,t,r){var n=e.get("properties")||new uk.Map,o=e.get("children1"),i=e.get("id"),a=o.map((function(e){return UL(e,t,r)})).filter((function(e){return void 0!==e}));if(a.size){var l=n.get("conjunction");l||(l=ZP(t));var s=n.get("not");return{id:i,rules:a.toList(),condition:l.toUpperCase(),not:s}}},YL=function(e,t,r){var n,o=e.get("properties")||new uk.Map,i=e.get("id"),a=o.get("operator"),l=o.get("operatorOptions"),s=o.get("field"),u=o.get("value"),c=o.get("valueSrc"),d=o.get("valueType"),p=u.filter((function(e){return void 0===e})).size>0;if(null!=s&&null!=a&&!p){var f=FL(t,s)||{},h=DL(t,a,s)||{},g=f.type||"undefined",v=eT(h.cardinality,1),m=t.types[f.type]||{},y=CI(s,t,r);if(!(u.size<v)){-1==r.usedFields.indexOf(s)&&r.usedFields.push(s),u=u.toArray(),c=c.toArray(),d=(null===(n=d)||void 0===n?void 0:n.toArray())||[];for(var b=[],_=0;_<u.length;_++){var x={type:d[_],value:u[_]};if(b.push(x),"field"==c[_]){var w=u[_];-1==r.usedFields.indexOf(w)&&r.usedFields.push(w)}}var O=l?l.toJS():null;O&&!Object.keys(O).length&&(O=null);var S={id:i,fieldName:y,type:g,input:m.mainWidget,operator:a};return O&&(S.operatorOptions=O),S.values=b,S}}};function GL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function KL(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?GL(Object(r),!0).forEach((function(t){y(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GL(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function JL(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return QL(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return QL(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(l)throw i}}}}function QL(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var XL=function(e,t,r,n){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;if(e){var i,a=e.get("type"),l=(e.get("properties")||new uk.Map).get("isLocked"),s=t.settings.jsonLogic.lockedOp;return"group"===a||"rule_group"===a?i=ZL(e,t,r,n,o):"rule"===a&&(i=eN(e,t,r,o)),l&&i&&s&&(i=y({},s,i)),i}},ZL=function(e,t,r,n){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,i=e.get("type"),a=e.get("properties")||new uk.Map,l=a.get("mode"),s=e.get("children1")||new uk.List,u=a.get("field"),c=a.get("conjunction");c||(c=ZP(t));var d=t.conjunctions[c].jsonLogicConj||c.toLowerCase(),p=a.get("not"),f="rule_group"===i&&!n,h=f&&"struct"!=l?u:o,g=a.get("operator"),v=g&&DL(t,g,u)||null,m=tN(t,a,r,g,o),b=f&&(!g||0==v.cardinality),_=s.map((function(e){return XL(e,t,r,!1,h)})).filter((function(e){return void 0!==e}));if(f&&"struct"!=l&&!b){if(null==m)return}else if(!_.size)return;var x={};if(1!=_.size||n?x[d]=_.toList().toJS():x=_.first(),p&&(x={"!":x}),f&&"struct"!=l){var w=oN(r,t,u,o);if(b){x=y({},g||"some",[w,x])}else{var O=_.size?{filter:[w,x]}:w;x=iN(t,a,{reduce:[O,{"+":[1,{var:"accumulator"}]},0]},m,g)}}return x},eN=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=e.get("properties")||new uk.Map,i=o.get("field"),a=o.get("fieldSrc"),l=o.get("operator"),s=o.get("operatorOptions");if((s=s?s.toJS():null)&&!Object.keys(s).length&&(s=null),null!=i&&null!=l){var u=FL(t,i)||{},c=DL(t,l,i)||{},d=c.reversedOp,p=DL(t,d,i)||{},f=!1;if(c.jsonLogic||p.jsonLogic){if(!c.jsonLogic&&p.jsonLogic){f=!0;var h=[d,l];l=h[0],d=h[1];var g=[p,c];c=g[0],p=g[1]}var v=tN(t,o,r,l,n);if(void 0!==v){var m="func"===a?nN(r,t,i,n):oN(r,t,i,n);if(void 0!==m)return iN(t,o,m,v,l,s,u,f)}}else r.errors.push("Operator ".concat(l," is not supported"))}},tN=function(e,t,r,n,o){var i=t.get("field"),a=t.get("valueSrc"),l=t.get("valueType"),s=FL(e,i)||{},u=DL(e,n,i)||{},c=eT(u.cardinality,1),d=t.get("value"),p=t.get("asyncListValues");if(null!=d){var f=r.usedFields,h=d.map((function(t,c){var d=a?a.get(c):null,f=l?l.get(c):null,h=MI(t,d,e),g=EI(e,i,n,d),v=YC(VL(e,i,n,g,d),["factory"]);return rN(r,e,h,d,f,v,s,n,u,o,p)})),g=h.filter((function(e){return void 0===e})).size>0;if(!(h.size<c||g))return c>1?h.toArray():1==c?h.first():null;r.usedFields=f}},rN=function(e,t,r,n,o,i,a,l,s){var u=arguments.length>9&&void 0!==arguments[9]?arguments[9]:null,c=arguments.length>10?arguments[10]:void 0;if(void 0!==r){var d;if("field"==n)d=oN(e,t,r,u);else if("func"==n)d=nN(e,t,r,u);else if("function"==typeof i.jsonLogic){var p=i.jsonLogic,f=[r,KL(KL({},Hq(a,["fieldSettings","listValues"])),{},{asyncListValues:c}),YC(i,XC)];l&&(f.push(l),f.push(s)),d=p.call.apply(p,[t.ctx].concat(f))}else d=r;return d}},nN=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=r.get("func"),i=r.get("args"),a=PL(t,o),l=RL(o,t),s=l[l.length-1];if(a)if(null!=a&&a.jsonLogic){var u={},c=[],d=[];for(var p in a.args){var f=a.args[p],h=FL(t,f),g=f.defaultValue,v=f.isOptional,m=null!=g&&g.func?"func":"value",b=i?i.get(p):void 0,_=b?b.get("value"):void 0,x=b?b.get("valueSrc"):void 0,w=null,O=EI(t,f,w,x),S=YC(VL(t,f,w,O,x),["factory"]),k=rN(e,t,_,x,f.type,S,h,null,null,n);if(null!=_&&void 0===k)return void("func"!=x&&e.errors.push("Can't format value of arg ".concat(p," for func ").concat(o)));var j=void 0;if(void 0===k&&!v&&null!=g){var E=EI(t,f,w,m),C=YC(VL(t,f,w,E,m),["factory"]);if(void 0===(j=rN(e,t,g,m,f.type,C,h,null,null,n)))return void("func"!=m&&e.errors.push("Can't format default value of arg ".concat(p," for func ").concat(o)))}var T=null!=k?k:j;if(void 0!==T){if(c.length){var q,A=JL(c);try{for(A.s();!(q=A.n()).done;){u[q.value]=void 0}}catch(D){A.e(D)}finally{A.f()}c=[]}u[p]=T}else v||d.push(p),c.push(p)}if(!d.length){var P,I=Object.values(u);if("function"==typeof a.jsonLogic){var L=a.jsonLogic,N=[u];P=L.call.apply(L,[t.ctx].concat(N))}else{var R=a.jsonLogic||s;if(!!a.jsonLogicIsMethod){var M=I[0],F=I.slice(1);P=F.length?{method:[M,R,F]}:{method:[M,R]}}else P=y({},R,I)}return P}}else e.errors.push("Func ".concat(o," is not supported"));else e.errors.push("Func ".concat(o," is not defined in config"))},oN=function(e,t,r){var n,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=t.settings,a=i.fieldSeparator,l=i.jsonLogic;if(r){Array.isArray(r)&&(r=r.join(a));var s=FL(t,r)||{},u=CI(r,t,e,o),c=s.jsonLogicVar||("!group"==s.type?l.groupVarKey:"var");n=y({},c,u),-1==e.usedFields.indexOf(r)&&e.usedFields.push(r)}return n},iN=function(e,t,r,n,o){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,l=arguments.length>7&&void 0!==arguments[7]&&arguments[7],s=t.get("field"),u=DL(e,o,s)||{},c="function"==typeof u.jsonLogic?u.jsonLogic:function(e,t,r,n){var o=e,i=eT(t.cardinality,1),a=eT(t._jsonLogicIsRevArgs,!1);"string"==typeof t.jsonLogic&&(o=t.jsonLogic);var l=["<","<=",">",">="],s=["==","!="];return function(e,t,u,c,d){return 0==i&&s.includes(o)?y({},o,[r,null]):0==i?y({},o,r):1==i&&a?y({},o,[n,r]):1==i?y({},o,[r,n]):2==i&&l.includes(o)?y({},o,[n[0],r,n[1]]):y({},o,[r].concat(lk(n)))}}(o,u,r,n),d=[r,o,n,YC(u,ZC),i,a],p=c.call.apply(c,[e.ctx].concat(d));return l&&(p={"!":p}),p};function aN(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return lN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return lN(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(l)throw i}}}}function lN(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function sN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function uN(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?sN(Object(r),!0).forEach((function(t){y(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sN(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var cN=function(e){return"object"==b(e)&&null!==e&&!Array.isArray(e)},dN=function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n={errors:[]},o=bL(t,void 0,!1),i=pN([],e,o,n);return r?[i,n.errors]:(n.errors.length&&console.warn("Errors while exporting to MongoDb:",n.errors),i)},pN=function(e,t,r,n){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:void 0,l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:void 0;if(t){var s=t.get("type");return"group"===s||"rule_group"===s?fN(e,t,r,n,o,i,a,l):"rule"===s?hN(e,t,r,n,o,i,a,l):void 0}},fN=function(e,t,r,n){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=t.get("type"),a=t.get("properties")||new uk.Map,l=t.get("children1")||new uk.List,s=r.settings,u=s.canShortMongoQuery,c=s.fieldSeparator,d=e.filter((function(e){return"rule_group"==e.get("type")})).length>0,p=e.filter((function(e){return"rule_group"==e.get("type")})).map((function(e){return e.get("properties").get("field")})).slice(-1).pop(),f=d&&p,h="rule_group"===i?a.get("field"):null,g=CI(h,r,n,f),v=(FL(r,h)||{}).mode,m=h&&"array"==v,b=o?!a.get("not"):a.get("not"),_=l.map((function(o){return pN([].concat(lk(e),[t]),o,r,n,b,"array"!=v,"array"==v?function(e){return"$$el".concat(c).concat(e)}:void 0)})).filter((function(e){return void 0!==e}));if(m||_.size){var x=a.get("conjunction");x||(x=ZP(r));var w=r.conjunctions[x],O=w.reversedConj;b&&O&&(x=O,w=r.conjunctions[x]);var S,k=w.mongoConj;if(1==_.size)S=_.first();else if(_.size>1){var j=_.toList().toJS();u&&"$and"==k&&(S=j.reduce((function(e,t){if(e){for(var r in t){if("$"==r[0]){e=void 0;break}if(null==e[r])e[r]=t[r];else{var n=e[r],o=t[r];if(cN(n)||(n={$eq:n}),cN(o)||(o={$eq:o}),Object.keys(n)[0]==Object.keys(o)[0]){e=void 0;break}e[r]=Object.assign({},n,o)}}return e}}),{})),S||(S=y({},k,j))}if(h)if("array"==v){var E={$size:{$ifNull:["$"+g,[]]}},C=S?{$size:{$ifNull:[{$filter:{input:"$"+g,as:"el",cond:S}},[]]}}:E;S={$expr:S=pN(e,t.set("type","rule"),r,n,!1,!1,(function(e){return C}),E)}}else S=y({},g,{$elemMatch:S});return S}},hN=function(e,t,r,n){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:void 0,l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:void 0,s=t.get("properties")||new uk.Map,u=e.filter((function(e){return"rule_group"==e.get("type")})).length>0,c=e.filter((function(e){return"rule_group"==e.get("type")})).map((function(e){return e.get("properties").get("field")})).slice(-1).pop(),d=u&&c,p=s.get("operator"),f=s.get("operatorOptions"),h=s.get("field"),g=s.get("fieldSrc"),v=s.get("value"),m=s.get("valueSrc"),y=s.get("valueType"),b=s.get("asyncListValues");if(null!=h&&null!=p&&void 0!==v){var _,x=FL(r,h)||{},w=DL(r,p,h)||{},O=w.reversedOp,S=DL(r,O,h)||{},k=eT(w.cardinality,1),j=o;if(j&&O){var E=[O,p];p=E[0],O=E[1];var C=[S,w];w=C[0],S=C[1],j=!1}var T=!1;if("func"==g){var q=mN(n,r,h,d),A=ot(q,2);_=A[0],T=A[1]}else _=CI(h,r,n,d),a&&(T=!0,_=a(_));if(null!=_){var P=[],I=[],L=v.map((function(e,t){var o=m?m.get(t):null,i=y?y.get(t):null,a=MI(e,o,r),l=EI(r,h,p,o),s=YC(VL(r,h,p,l,o),["factory"]),u=gN(n,r,a,o,i,s,x,d,p,w,b),c=ot(u,2),f=c[0],g=c[1];return void 0!==f&&(T=T||g,P.push(o),I.push(i)),f})),N=T&&i,R=L.filter((function(e){return void 0===e})).size>0;if(!(L.size<k||R)){var M=k>1?L.toArray():1==k?L.first():null,F=w.mongoFormatOp;if(F){var D=[_,p,void 0!==l&&null==M?l:M,T,P.length>1?P:P[0],I.length>1?I:I[0],YC(w,ZC),f,x],V=F.call.apply(F,[r.ctx].concat(D));return N&&(V={$expr:V}),j&&(V={$not:V}),V}n.errors.push("Operator ".concat(p," is not supported"))}}}},gN=function(e,t,r,n,o,i,a,l,s,u,c){if(void 0===r)return[void 0,!1];var d,p=!1;if("field"==n){var f=vN(e,t,r,l),h=ot(f,2);d=h[0],p=h[1]}else if("func"==n){var g=mN(e,t,r,l),v=ot(g,2);d=v[0],p=v[1]}else if("function"==typeof i.mongoFormatValue){var m=i.mongoFormatValue,y=[r,uN(uN({},Hq(a,["fieldSettings","listValues"])),{},{asyncListValues:c}),YC(i,XC)];s&&(y.push(s),y.push(u)),d=m.call.apply(m,[t.ctx].concat(y))}else d=r;return[d,p]},vN=function(e,t,r,n){var o,i=t.settings.fieldSeparator;if(r){var a=FL(t,r)||{},l=RL(r,t),s=wI(r,t),u=s?s.join(i):null;o="$"+(0,t.settings.formatField)(CI(r,t,e,n),l,u,a,t,!1)}return[o,!0]},mN=function(e,t,r,n){var o,i=r.get("func"),a=r.get("args"),l=PL(t,i);if(!l)return e.errors.push("Func ".concat(i," is not defined in config")),[void 0,!1];var s=RL(i,t),u=s[s.length-1],c=l.mongoFunc||u,d=l.mongoArgsAsObject,p={},f=0,h=void 0,g=[],v=[];for(var m in l.args){f++;var b=l.args[m],_=FL(t,b),x=b.defaultValue,w=b.isOptional,O=null!=x&&x.func?"func":"value",S=a?a.get(m):void 0,k=S?S.get("value"):void 0,j=S?S.get("valueSrc"):void 0,E=S?S.get("asyncListValues"):void 0,C=null,T=EI(t,b,C,j),q=YC(VL(t,b,C,T,j),["factory"]),A=gN(e,t,k,j,b.type,q,_,n,null,null,E),P=ot(A,2),I=P[0];if(P[1],null!=k&&void 0===I)return"func"!=j&&e.errors.push("Can't format value of arg ".concat(m," for func ").concat(i)),[void 0,!1];var L=void 0;if(void 0===I&&!w&&null!=x){var N=EI(t,b,C,O),R=YC(VL(t,b,C,N,O),["factory"]),M=gN(e,t,x,O,b.type,R,_,n,null,null,E),F=ot(M,2);if(L=F[0],F[1],void 0===L)return"func"!=O&&e.errors.push("Can't format default value of arg ".concat(m," for func ").concat(i)),[void 0,!1]}var D=null!=I?I:L;if(void 0!==D){if(g.length){var V,z=aN(g);try{for(z.s();!(V=z.n()).done;){p[V.value]=void 0}}catch(W){z.e(W)}finally{z.f()}g=[]}p[m]=D,h=D}else w||v.push(m),g.push(m)}if(v.length)return[void 0,!1];if("function"==typeof l.mongoFormatFunc){var B=l.mongoFormatFunc,H=[p];o=B.call.apply(B,[t.ctx].concat(H))}else{if(null===l.mongoFormatFunc)return e.errors.push("Functon ".concat(c," is not supported")),[void 0,!1];o=y({},c,d?p:1==f&&void 0!==h?h:Object.values(p))}return[o,!0]};function yN(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return bN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return bN(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(l)throw i}}}}function bN(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _N(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function xN(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_N(Object(r),!0).forEach((function(t){y(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_N(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var wN=function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n={errors:[]},o=bL(t,void 0,!1),i=ON(e,o,n);return r?[i,n.errors]:(n.errors.length&&console.warn("Errors while exporting to SQL:",n.errors),i)},ON=function(e,t,r){if(e){var n=e.get("type");return e.get("children1"),"group"===n||"rule_group"===n?SN(e,t,r):"rule"===n?kN(e,t,r):void 0}},SN=function(e,t,r){var n=e.get("type"),o=e.get("properties")||new uk.Map,i=e.get("children1")||new uk.List,a="rule_group"===n?o.get("field"):null;"array"==(FL(t,a)||{}).mode&&r.errors.push("Aggregation is not supported for ".concat(a));var l=o.get("not"),s=i.map((function(e){return ON(e,t,r)})).filter((function(e){return void 0!==e}));if(s.size){var u=o.get("conjunction");return u||(u=ZP(t)),t.conjunctions[u].sqlFormatConj(s,u,l)}},kN=function(e,t,r){var n=e.get("properties")||new uk.Map,o=n.get("field"),i=n.get("fieldSrc"),a=n.get("operator"),l=n.get("operatorOptions"),s=n.get("valueSrc"),u=n.get("valueType"),c=n.get("value"),d=n.get("asyncListValues");if(null!=o&&null!=a){var p=FL(t,o)||{},f=DL(t,a,o)||{},h=f.reversedOp,g=DL(t,h,o)||{},v=eT(f.cardinality,1),m=!1,y=f.sqlOp||f.sqlFormatOp,b=g.sqlOp||g.sqlFormatOp;if(y||b){if(!y&&b){m=!0;var _=[h,a];a=_[0],h=_[1];var x=[g,f];f=x[0],g=x[1]}var w=[],O=[],S=c.map((function(e,n){var i=s?s.get(n):null,l=u?u.get(n):null,c=MI(e,i,t),h=EI(t,o,a,i),g=YC(VL(t,o,a,h,i),["factory"]),v=jN(r,t,c,i,l,g,p,a,f,d);return void 0!==v&&(w.push(i),O.push(l)),v})),k=S.filter((function(e){return void 0===e})).size>0;if(!(k||S.size<v)){var j=1==v?S.first():S,E=f.sqlFormatOp||function(e,t){var r,n=t.sqlOp||e,o=eT(t.cardinality,1);return 0==o?r=function(e,t,r,o,i,a,l,s){return"".concat(e," ").concat(n)}:1==o?r=function(e,t,r,o,i,a,l,s){return"".concat(e," ").concat(n," ").concat(r)}:2==o&&(r=function(e,t,r,o,i,a,l,s){var u=r.first(),c=r.get(1);return"".concat(e," ").concat(n," ").concat(u," AND ").concat(c)}),r}(a,f);if(E){var C="func"==i?CN(r,t,o):EN(r,t,o);if(null!=C){var T,q=[C,a,j,w.length>1?w:w[0],O.length>1?O:O[0],YC(f,ZC),l,p];if(T=E.call.apply(E,[t.ctx].concat(q)),m&&(T=t.settings.sqlFormatReverse(T)),void 0!==T)return T;r.errors.push("Operator ".concat(a," is not supported for value source ").concat(w.join(", ")))}}else r.errors.push("Operator ".concat(a," is not supported"))}}else r.errors.push("Operator ".concat(a," is not supported"))}},jN=function(e,t,r,n,o,i,a,l,s,u){if(void 0!==r){var c;if("field"==n)c=EN(e,t,r);else if("func"==n)c=CN(e,t,r);else if("function"==typeof i.sqlFormatValue){var d=i.sqlFormatValue,p=[r,xN(xN({},Hq(a,["fieldSettings","listValues"])),{},{asyncListValues:u}),YC(i,XC)];if(l&&(p.push(l),p.push(s)),"field"==n){var f=FL(t,r)||{};p.push(f)}c=d.call.apply(d,[t.ctx].concat(p))}else c=Array.isArray(r)?r.map((function(e){return HA.escape(e)})):HA.escape(r);return c}},EN=function(e,t,r){if(r){var n=t.settings.fieldSeparator,o=FL(t,r)||{},i=RL(r,t),a=wI(r,t),l=a?a.join(n):null;return(0,t.settings.formatField)(CI(r,t,e,null,{useTableName:!0}),i,l,o,t)}},CN=function(e,t,r){var n=r.get("func"),o=r.get("args"),i=PL(t,n);if(i){var a=RL(n,t),l=a[a.length-1],s=i.sqlFunc||l,u={},c=[],d=[];for(var p in i.args){var f=i.args[p],h=FL(t,f),g=f.defaultValue,v=f.isOptional,m=null!=g&&g.func?"func":"value",y=o?o.get(p):void 0,b=y?y.get("value"):void 0,_=y?y.get("valueSrc"):void 0,x=y?y.get("asyncListValues"):void 0,w=jN(e,t,b,_,f.type,h,f,null,null,x);if(null!=b&&void 0===w)return void("func"!=_&&e.errors.push("Can't format value of arg ".concat(p," for func ").concat(n)));var O=void 0;if(void 0===w&&!v&&null!=g&&void 0===(O=jN(e,t,g,m,f.type,h,f,null,null,x)))return void("func"!=m&&e.errors.push("Can't format default value of arg ".concat(p," for func ").concat(n)));var S=null!=w?w:O;if(void 0!==S){if(c.length){var k,j=yN(p);try{for(j.s();!(k=j.n()).done;){u[k.value]=void 0}}catch(A){j.e(A)}finally{j.f()}c=[]}u[p]=S}else v||d.push(p),c.push(p)}if(!d.length){var E;if("function"==typeof i.sqlFormatFunc){var C=i.sqlFormatFunc,T=[u];E=C.call.apply(C,[t.ctx].concat(T))}else{var q=Object.entries(u).map((function(e){var t=ot(e,2);return t[0],t[1]})).join(", ");E="".concat(s,"(").concat(q,")")}return E}}else e.errors.push("Func ".concat(n," is not defined in config"))};function TN(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return qN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qN(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(l)throw i}}}}function qN(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function AN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function PN(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?AN(Object(r),!0).forEach((function(t){y(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AN(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var IN=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;if(e){var i=e.get("type");return e.get("children1"),"group"===i||"rule_group"===i?LN(e,t,r,n,o):"rule"===i?NN(e,t,r,n,o):void 0}},LN=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,i=e.get("type"),a=e.get("properties")||new uk.Map,l=a.get("mode"),s=e.get("children1")||new uk.List,u="rule_group"===i,c=u&&"array"==l?a.get("field"):null,d=u&&"array"==l,p=a.get("not"),f=s.map((function(e){return IN(e,t,r,n,c)})).filter((function(e){return void 0!==e}));if(d||f.size){var h=a.get("conjunction");h||(h=ZP(t));var g,v=t.conjunctions[h],m=f.size?v.formatConj(f,h,p,n):null;if(c){var y=NN(e,t,r,n,o,!0);if(y){var b,_=y.pop(),x=[m].concat(lk(y));g=(b=t.settings).formatAggr.apply(b,lk(x)),_&&(g=t.settings.formatReverse(g,null,null,null,null,n))}}else g=m;return g}},NN=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,i=arguments.length>5&&void 0!==arguments[5]&&arguments[5],a=e.get("properties")||new uk.Map,l=a.get("field"),s=a.get("fieldSrc"),u=a.get("operator"),c=a.get("operatorOptions");if(null!=l&&null!=u){var d=FL(t,l)||{},p=DL(t,u,l)||{},f=p.reversedOp,h=DL(t,f,l)||{},g=!1,v=p.formatOp;if(!v&&f&&(v=h.formatOp)){g=!0;var m=[f,u];u=m[0],f=m[1];var y=[h,p];p=y[0],h=y[1]}if(v||(v=function(e,t){var r,n=t.labelForFormat||e,o=eT(t.cardinality,1);return 0==o?r=function(e,t,r,o,i,a,l,s){return"".concat(e," ").concat(n)}:1==o?r=function(e,t,r,o,i,a,l,s){return"".concat(e," ").concat(n," ").concat(r)}:2==o&&(r=function(e,t,r,o,i,a,l,s){var u=r.first(),c=r.get(1);return"".concat(e," ").concat(n," ").concat(u," AND ").concat(c)}),r}(u,p)),v){var b="func"===s?FN(t,r,l,n,o):MN(t,r,l,n,o);if(null!=b){var _=function(e,t,r,n,o,i){var a,l=t.get("field"),s=t.get("valueSrc"),u=t.get("valueType"),c=FL(e,l)||{},d=n||t.get("operator"),p=DL(e,d,l)||{},f=eT(p.cardinality,1),h=t.get("value"),g=t.get("asyncListValues"),v=[],m=[];if(null!=h){var y=h.map((function(t,n){var a=s?s.get(n):null,f=u?u.get(n):null,h=MI(t,a,e),y=EI(e,l,d,a),b=YC(VL(e,l,d,y,a),["factory"]),_=RN(e,r,h,a,f,b,c,d,p,o,i,g);return void 0!==_&&(v.push(a),m.push(f)),_})),b=y.filter((function(e){return void 0===e})).size>0;b||y.size<f||(a=1==f?y.first():y)}return[a,v.length>1?v:v[0],m.length>1?m:m[0]]}(t,a,r,u,n,o),x=ot(_,3),w=x[0],O=x[1],S=x[2];if(void 0!==w){var k=[b,u,w,O,S,YC(p,ZC),c,n,d,g];if(i)return k;var j,E=(j=v).call.apply(j,[t.ctx].concat(k));return g&&(E=t.settings.formatReverse(E,u,f,p,h,n)),E}}}}},RN=function(e,t,r,n,o,i,a,l,s,u){var c=arguments.length>10&&void 0!==arguments[10]?arguments[10]:null,d=arguments.length>11?arguments[11]:void 0;if(void 0!==r){var p;if("field"==n)p=MN(e,t,r,u,c);else if("func"==n)p=FN(e,t,r,u,c);else if("function"==typeof i.formatValue){var f=i.formatValue,h=[r,PN(PN({},Hq(a,["fieldSettings","listValues"])),{},{asyncListValues:d}),YC(i,XC),u];if(l&&(h.push(l),h.push(s)),"field"==n){var g=FL(e,r)||{};h.push(g)}p=f.call.apply(f,[e.ctx].concat(h))}else p=r;return p}},MN=function(e,t,r,n){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,i=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],a=e.settings;a.fieldSeparator;var l=a.fieldSeparatorDisplay,s=null;if(r){var u=FL(e,r)||{},c=RL(r,e),d=wI(r,e,i?o:null),p=d?d.join(l):null,f=u.label2||p;s=(0,e.settings.formatField)(CI(r,e,t,i?o:null,{useTableName:!0}),c,f,u,e,n)}return s},FN=function(e,t,r,n){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,i=r.get("func"),a=r.get("args"),l=PL(e,i);if(l){var s=RL(i,e),u=s[s.length-1],c=n&&l.label||u,d={},p=[],f=[],h={};for(var g in l.args){var v=l.args[g],m=FL(e,v),y=v.defaultValue,b=v.isOptional,_=null!=y&&y.func?"func":"value",x=n&&v.label||g,w=a?a.get(g):void 0,O=w?w.get("value"):void 0,S=w?w.get("valueSrc"):void 0,k=w?w.get("asyncListValues"):void 0,j=RN(e,t,O,S,v.type,m,v,null,null,n,o,k);if(null!=O&&void 0===j)return void("func"!=S&&t.errors.push("Can't format value of arg ".concat(g," for func ").concat(i)));var E=void 0;if(void 0===j&&!b&&null!=y&&void 0===(E=RN(e,t,y,_,v.type,m,v,null,null,n,o,k)))return void("func"!=_&&t.errors.push("Can't format default value of arg ".concat(g," for func ").concat(i)));var C=null!=j?j:E;if(void 0!==C){if(p.length){var T,q=TN(g);try{for(q.s();!(T=q.n()).done;){var A=ot(T.value,2),P=A[0];A[1];d[P]=void 0}}catch(M){q.e(M)}finally{q.f()}p=[]}d[g]=C,h[x]=C}else b||f.push(g),p.push([g,x])}if(!f.length){var I=null;if("function"==typeof l.formatFunc){var L=l.formatFunc,N=[d,n];I=L.call.apply(L,[e.ctx].concat(N))}else{var R=Object.entries(n?h:d).map((function(e){var t=ot(e,2),r=t[0],o=t[1];return n?"".concat(r,": ").concat(o):"".concat(o)})).join(", ");I="".concat(c,"(").concat(R,")")}return I}}else t.errors.push("Func ".concat(i," is not defined in config"))};function DN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function VN(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?DN(Object(r),!0).forEach((function(t){y(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DN(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function zN(e,t,r,n,o,i){var a=function(e,t){return e}(n);switch(e){case"filter":return{script:o.operators[r].elasticSearchScript(n,t)};case"exists":return{field:n};case"match":return y({},a,t[0]);case"term":return y({},n,i===HN?{value:t[0]}:t[0]);case"geo_bounding_box":return y({},n,function(e){if(null==e)return null;var t=e.split(",").map(Number);return{top_left:{lat:t[0],lon:t[1]},bottom_right:{lat:t[2],lon:t[3]}}}(t[0]));case"range":return y({},n,function(e,t){if(e.length>1)return{gte:"".concat(e[0]),lte:"".concat(e[1])};var r=e[0];switch(t){case"on_date":case"not_on_date":case"equal":case"select_equals":case"not_equal":return{gte:"".concat(r,"||/d"),lte:"".concat(r,"||+1d")};case"less_or_equal":return{lte:"".concat(r)};case"greater_or_equal":return{gte:"".concat(r)};case"less":return{lt:"".concat(r)};case"greater":return{gt:"".concat(r)};default:return}}(t,r));case"wildcard":return y({},n,function(e){return{value:"*"+e+"*"}}(t[0]));case"regexp":return y({},n,function(e){return{value:e}}(t[0]));default:return}}function BN(e,t,r,n,o,i){if(e&&r&&null!=t){var a=r,l=n.operators[a];if(l){var s=l.elasticSearchQueryType,u=!1;if(!s&&l.reversedOp)u=!0,a=l.reversedOp,s=(l=n.operators[a]).elasticSearchQueryType;var c=EI(n,e,a,o),d=n.widgets[c];if(d){var p,f,h=d.elasticSearchFormatValue;if(p="function"==typeof s?s(c):s)return f="function"==typeof h?h(p,t,a,e,n):zN(p,t,a,e,n,i),u?{bool:{must_not:y({},p,VN({},f))}}:y({},p,VN({},f))}}}}var HN="ES_7_SYNTAX",WN="ES_6_SYNTAX";const UN=Object.freeze(Object.defineProperty({__proto__:null,ES_6_SYNTAX:WN,ES_7_SYNTAX:HN,_mongodbFormat:dN,_spelFormat:nP,_sqlFormat:wN,compareToSign:tP,elasticSearchFormat:function e(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:WN;if(t){var o=t.get("type"),i=t.get("properties")||new Map;if("rule"===o&&i.get("field")){var a,l,s=i.get("operator"),u=i.get("field"),c=i.get("fieldSrc"),d=i.get("value").toJS();null===(a=i.get("valueType"))||void 0===a||a.get(0);var p=null===(l=i.get("valueSrc"))||void 0===l?void 0:l.get(0);if("func"===p||"func"==c)return;return d&&Array.isArray(d[0])?d[0].map((function(e){return BN(u,[e],s,r,p,n)})):BN(u,d,s,r,p,n)}if("group"===o||"rule_group"===o){var f=i.get("not"),h=i.get("conjunction");return h||(h=ZP(r)),function(e,t,r,n,o,i){if(e&&e.size){var a=e.valueSeq().toArray(),l=function(e,t){switch(e){case"AND":return t?"must_not":"must";case"OR":return t?"should_not":"should";case"NOT":return t?"must":"must_not";default:return}}(t,r),s=a.map((function(e){return n(e,o,i)})).filter((function(e){return void 0!==e}));if(s.length){var u=s.flat(1/0);return{bool:y({},l,u)}}}}(t.get("children1"),h,f,e,r,n)}}},jsonLogicFormat:function(e,t){var r={usedFields:[],errors:[]},n=bL(t,void 0,!1),o=XL(e,n,r,!0),i=r.errors,a=r.usedFields;n.settings.fieldSeparator;var l,s={},u=JL(a);try{for(u.s();!(l=u.n()).done;)for(var c=l.value,d=RL(c,t),p=(FL(n,c),s),f=0;f<d.length;f++){var h=d[f],g=FL(n,d.slice(0,f+1))||{};f!=d.length-1?"!group"==g.type&&"struct"!=g.mode?(p[h]||(p[h]=[{}]),p=p[h][0]):(p[h]||(p[h]={}),p=p[h]):p[h]||(p[h]=null)}}catch(v){u.e(v)}finally{u.f()}return{errors:i,logic:o,data:s}},mongodbFormat:function(e,t){return dN(e,t,!1)},queryBuilderFormat:function(e,t){var r={usedFields:[]},n=UL(e,t,r);if(n)return WL(WL({},n),r)},queryString:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n={errors:[]},o=bL(t,void 0,!1),i=IN(e,o,n,r,null);return n.errors.length&&console.warn("Errors while exporting to string:",n.errors),i},spelFormat:function(e,t){return nP(e,t,!1)},sqlFormat:function(e,t){return wN(e,t,!1)}},Symbol.toStringTag,{value:"Module"}));function $N(e,t,r,n,o,i,a){try{var l=e[i](a),s=l.value}catch(u){return void r(u)}l.done?t(s):Promise.resolve(s).then(n,o)}function YN(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){$N(i,n,o,a,l,"next",e)}function l(e){$N(i,n,o,a,l,"throw",e)}a(void 0)}))}}var GN=["title","value","disabled","groupTitle","grouplabel","renderTitle","children","label","isCustom","isHidden"];function KN(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return JN(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return JN(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(l)throw i}}}}function JN(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function QN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function XN(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?QN(Object(r),!0).forEach((function(t){y(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QN(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const ZN=Object.freeze(Object.defineProperty({__proto__:null,fixListValuesGroupOrder:function(e){var t,r=[],n=[],o=KN(e);try{var i=function(){var e=t.value,o=function(e,t){if(e.findLastIndex)return e.findLastIndex(t);var r=lk(e).reverse().findIndex(t);return-1==r?-1:e.length-1-r}(r,(function(t){var r,n;return(null!==(r=t.groupTitle)&&void 0!==r?r:"")==(null!==(n=e.groupTitle)&&void 0!==n?n:"")}));null==e.groupTitle||n.includes(e.groupTitle)||(n.push(e.groupTitle),1===n.length&&(r=r.map((function(e){return XN(XN({},e),{},{groupTitle:""})})))),null==e.groupTitle&&n.length&&(e=XN(XN({},e),{},{groupTitle:""})),-1!=o?r.splice(o+1,0,e):r.push(e)};for(o.s();!(t=o.n()).done;)i()}catch(a){o.e(a)}finally{o.f()}return r},getListValue:iA,listValueToOption:function(e){if(null==e)return null;var t=e.title,r=e.value,n=e.disabled,o=e.groupTitle,i=e.grouplabel,a=e.renderTitle,l=e.children,s=e.label,u=e.isCustom,c=e.isHidden,d=Xr(e,GN),p={value:r,title:t||s||l};return n&&(p.disabled=n),u&&(p.isCustom=u),c&&(p.isHidden=c),(o||i)&&(p.groupTitle=o||i),a&&(p.renderTitle=a),p=XN(XN({},p),d)},mergeListValues:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!t)return e;var o=e||[],i=t.filter((function(e){return null==o.find((function(t){return""+t.value==""+e.value}))})).map((function(e){return n?XN(XN({},e),{},{isHidden:!0}):e}));return r?[].concat(lk(i),lk(o)):[].concat(lk(o),lk(i))},optionToListValue:function(e,t,r){var n,o=null==e||""==e?void 0:null!==(n=null==e?void 0:e.value)&&void 0!==n?n:e,i=iA(o,t),a=r&&!i?eA(o):void 0,l=i||a;return[o,l?[l]:void 0]},optionsToListValues:function(e,t,r){var n=e.map((function(e,n){var o,i=null==e||""==e?void 0:null!==(o=null==e?void 0:e.value)&&void 0!==o?o:e,a=iA(i,t),l=r&&!a?eA(i):void 0;return a||l})).filter((function(e){return null!=e})),o=n.map((function(e){var t;return null!==(t=null==e?void 0:e.value)&&void 0!==t?t:e}));return o.length||(o=void 0),[o,n]},simulateAsyncFetch:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3;return function(){var n=YN(ST.mark((function n(o,i,a){var l,s,u,c,d,p;return ST.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(l=null!=(null==a?void 0:a.pageSize)?a.pageSize:t,s=tA(e).filter((function(e){var t=e.title,r=e.value;return null==o||(-1!=t.toUpperCase().indexOf(o.toUpperCase())||-1!="".concat(r).toUpperCase().indexOf(o.toUpperCase()))})),l&&Math.ceil(s.length/l),u=i||0,c=l?s.slice(u,u+l):s,d=l?u+c.length:null,p=!!l&&d<s.length,!r){n.next=11;break}return n.next=11,dT(r);case 11:return n.abrupt("return",{values:c,hasMore:p});case 12:case"end":return n.stop()}}),n)})));return function(e,t,r){return n.apply(this,arguments)}}()}},Symbol.toStringTag,{value:"Module"})),eR=Object.freeze(Object.defineProperty({__proto__:null,Autocomplete:ZN,ConfigUtils:BL,DefaultUtils:nI,ExportUtils:JA,FuncUtils:gI,ListUtils:aA,OtherUtils:yT,RuleUtils:FI,TreeUtils:bA,clone:VI,compressConfig:aL,decompressConfig:lL,getSwitchValues:vA,moment:X_,uuid:KC,validateAndFixTree:function(e,t,r,n,o,i){var a=iI(e,t,r,n,o,i);return a=dA(a)},validateTree:iI},Symbol.toStringTag,{value:"Module"}));var tR={label:"Now",returnType:"datetime",jsonLogic:"now",jsonLogicCustomOps:{now:{}},spelFunc:"T(java.time.LocalDateTime).now()",sqlFormatFunc:function(){return"NOW()"},mongoFormatFunc:function(){return new Date},formatFunc:function(){return"NOW"}},rR={label:"Relative",returnType:"datetime",renderBrackets:["",""],renderSeps:["","",""],spelFormatFunc:function(e){var t=e.date,r=e.op,n=e.val,o=e.dim,i=r+(o.charAt(0).toUpperCase()+o.slice(1)+"s");return"".concat(t,".").concat(i,"(").concat(n,")")},spelImport:function(e){var t,r,n,o,i=null===(t=e.methodName)||void 0===t?void 0:t.match(/^(minus|plus)(\w+)s$/);if(i&&(o=i[2].toLowerCase(),r=i[1],["minus","plus"].includes(r)&&["day","week","month","year"].includes(o)))return r={type:"string",val:r},o={type:"string",val:o},n=e.args[0],{date:e.obj,op:r,val:n,dim:o}},jsonLogic:function(e){var t=e.date,r=e.op;return{date_add:[t,e.val*("minus"==r?-1:1),e.dim]}},jsonLogicImport:function(e){var t=e.date_add[0],r=Math.abs(e.date_add[1]);return[t,e.date_add[1]>=0?"plus":"minus",r,e.date_add[2]]},jsonLogicCustomOps:{date_add:{}},sqlFormatFunc:function(e){var t=e.date,r=e.op,n=e.val,o=e.dim;return"DATE_ADD(".concat(t,", INTERVAL ").concat(parseInt(n)*("minus"==r?-1:1)," ").concat(o.replace(/^'|'$/g,""),")")},mongoFormatFunc:null,formatFunc:function(e){var t=e.date,r=e.op,n=e.val,o=e.dim;return n?"".concat(t," ").concat("minus"==r?"-":"+"," ").concat(n," ").concat(o):t},args:{date:{label:"Date",type:"datetime",defaultValue:{func:"NOW",args:[]},valueSources:["func","field","value"],spelEscapeForFormat:!0},op:{label:"Op",type:"select",defaultValue:"plus",valueSources:["value"],mainWidgetProps:{customProps:{showSearch:!1}},fieldSettings:{listValues:{plus:"+",minus:"-"}},spelEscapeForFormat:!1},val:{label:"Value",type:"number",fieldSettings:{min:0},defaultValue:0,valueSources:["value"],spelEscapeForFormat:!1},dim:{label:"Dimension",type:"select",defaultValue:"day",valueSources:["value"],mainWidgetProps:{customProps:{showSearch:!1}},fieldSettings:{listValues:{day:"day",week:"week",month:"month",year:"year"}},spelEscapeForFormat:!1}}},nR={label:"Lowercase",mongoFunc:"$toLower",jsonLogic:"toLowerCase",spelFunc:"${str}.toLowerCase()",jsonLogicCustomOps:{toLowerCase:{}},returnType:"text",args:{str:{label:"String",type:"text",valueSources:["value","field","func"]}}},oR={label:"Uppercase",mongoFunc:"$toUpper",jsonLogic:"toUpperCase",spelFunc:"${str}.toUpperCase()",jsonLogicCustomOps:{toUpperCase:{}},returnType:"text",args:{str:{label:"String",type:"text",valueSources:["value","field","func"]}}},iR={label:"Linear regression",returnType:"number",formatFunc:function(e,t){var r=e.coef,n=e.bias,o=e.val;return"(".concat(r," * ").concat(o," + ").concat(n,")")},sqlFormatFunc:function(e){var t=e.coef,r=e.bias,n=e.val;return"(".concat(t," * ").concat(n," + ").concat(r,")")},spelFormatFunc:function(e){var t=e.coef,r=e.bias,n=e.val;return"(".concat(t," * ").concat(n," + ").concat(r,")")},spelImport:function(e){var t,r;if("op-plus"===e.type){var n=ot(e.children,2);if(r=n[0],t=n[1],"op-multiply"===r.type){var o=ot(r.children,2);return{coef:o[0],val:o[1],bias:t}}}},mongoFormatFunc:function(e){var t=e.coef,r=e.bias;return{$sum:[{$multiply:[t,e.val]},r]}},jsonLogic:function(e){var t=e.coef,r=e.bias;return{"+":[{"*":[t,e.val]},r]}},jsonLogicImport:function(e){return[e["+"][0]["*"][0],e["+"][0]["*"][1],e["+"][1]]},renderBrackets:["",""],renderSeps:[" * "," + "],args:{coef:{label:"Coef",type:"number",defaultValue:1,valueSources:["value"]},val:{label:"Value",type:"number",valueSources:["value","field"]},bias:{label:"Bias",type:"number",defaultValue:0,valueSources:["value"]}}},aR={utils:{SqlString:HA,moment:X_,mongoFormatOp1:function(e,t,r,n,o,i,a,l,s,u,c,d){var p="string"!=typeof n||n.startsWith("$")?n:"$"+n,f=t(i,d);if(void 0!==f)return r?a||e&&"$eq"!=e?a?{$not:y({},e,[p,f])}:y({},n,{$not:y({},e,f)}):y({},n,{$ne:f}):a||e&&"$eq"!=e?a?y({},e,[p,f]):y({},n,y({},e,f)):y({},n,f)},mongoFormatOp2:function(e,t,r,n,o,i,a,l,s,u,c){var d,p,f="string"!=typeof r||r.startsWith("$")?r:"$"+r;return t?i?{$not:{$and:[y({},e[0],[f,o[0]]),y({},e[1],[f,o[1]])]}}:y({},r,{$not:(d={},y(d,e[0],o[0]),y(d,e[1],o[1]),d)}):i?{$and:[y({},e[0],[f,o[0]]),y({},e[1],[f,o[1]])]}:y({},r,(y(p={},e[0],o[0]),y(p,e[1],o[1]),p))},mongoEmptyValue:UA,escapeRegExp:aT,sqlEmptyValue:WA,stringifyForDisplay:KA,getTitleInListValues:nA,spelEscape:GA,spelFixList:YA}};function lR(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return sR(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return sR(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(l)throw i}}}}function sR(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function uR(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function cR(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?uR(Object(r),!0).forEach((function(t){y(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uR(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var dR={equal:{label:"==",labelForFormat:"==",sqlOp:"=",spelOp:"==",spelOps:["==","eq"],reversedOp:"not_equal",formatOp:function(e,t,r,n,o,i,a,l,s){var u=l?"=":i.label;return"boolean"==o&&l?"No"==r?"NOT ".concat(e):"".concat(e):"".concat(e," ").concat(u," ").concat(r)},mongoFormatOp:function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=this.utils).mongoFormatOp1.apply(e,["$eq",function(e){return e},!1].concat(r))},jsonLogic:"==",elasticSearchQueryType:"term"},not_equal:{isNotOp:!0,label:"!=",labelForFormat:"!=",sqlOp:"<>",spelOp:"!=",spelOps:["!=","ne"],reversedOp:"equal",formatOp:function(e,t,r,n,o,i,a,l,s){return"boolean"==o&&l?"No"==r?"".concat(e):"NOT ".concat(e):"".concat(e," ").concat(i.label," ").concat(r)},mongoFormatOp:function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=this.utils).mongoFormatOp1.apply(e,["$ne",function(e){return e},!1].concat(r))},jsonLogic:"!="},less:{label:"<",labelForFormat:"<",sqlOp:"<",spelOp:"<",spelOps:["<","lt"],reversedOp:"greater_or_equal",mongoFormatOp:function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=this.utils).mongoFormatOp1.apply(e,["$lt",function(e){return e},!1].concat(r))},jsonLogic:"<",elasticSearchQueryType:"range"},less_or_equal:{label:"<=",labelForFormat:"<=",sqlOp:"<=",spelOp:"<=",spelOps:["<=","le"],reversedOp:"greater",mongoFormatOp:function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=this.utils).mongoFormatOp1.apply(e,["$lte",function(e){return e},!1].concat(r))},jsonLogic:"<=",elasticSearchQueryType:"range"},greater:{label:">",labelForFormat:">",sqlOp:">",spelOp:">",spelOps:[">","gt"],reversedOp:"less_or_equal",mongoFormatOp:function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=this.utils).mongoFormatOp1.apply(e,["$gt",function(e){return e},!1].concat(r))},jsonLogic:">",elasticSearchQueryType:"range"},greater_or_equal:{label:">=",labelForFormat:">=",sqlOp:">=",spelOp:">=",spelOps:[">=","ge"],reversedOp:"less",mongoFormatOp:function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=this.utils).mongoFormatOp1.apply(e,["$gte",function(e){return e},!1].concat(r))},jsonLogic:">=",elasticSearchQueryType:"range"},like:{label:"Contains",labelForFormat:"Contains",reversedOp:"not_like",sqlOp:"LIKE",spelOp:"${0}.contains(${1})",valueTypes:["text"],mongoFormatOp:function(){for(var e,t=this,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=this.utils).mongoFormatOp1.apply(e,["$regex",function(e){return"string"==typeof e?t.utils.escapeRegExp(e):void 0},!1].concat(n))},jsonLogic:"in",_jsonLogicIsRevArgs:!0,valueSources:["value"],elasticSearchQueryType:"regexp"},not_like:{isNotOp:!0,label:"Not contains",reversedOp:"like",labelForFormat:"Not Contains",sqlOp:"NOT LIKE",mongoFormatOp:function(){for(var e,t=this,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=this.utils).mongoFormatOp1.apply(e,["$regex",function(e){return"string"==typeof e?t.utils.escapeRegExp(e):void 0},!0].concat(n))},valueSources:["value"]},starts_with:{label:"Starts with",labelForFormat:"Starts with",sqlOp:"LIKE",spelOp:"${0}.startsWith(${1})",mongoFormatOp:function(){for(var e,t=this,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=this.utils).mongoFormatOp1.apply(e,["$regex",function(e){return"string"==typeof e?"^"+t.utils.escapeRegExp(e):void 0},!1].concat(n))},jsonLogic:void 0,valueSources:["value"]},ends_with:{label:"Ends with",labelForFormat:"Ends with",sqlOp:"LIKE",spelOp:"${0}.endsWith(${1})",mongoFormatOp:function(){for(var e,t=this,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=this.utils).mongoFormatOp1.apply(e,["$regex",function(e){return"string"==typeof e?t.utils.escapeRegExp(e)+"$":void 0},!1].concat(n))},jsonLogic:void 0,valueSources:["value"]},between:{label:"Between",labelForFormat:"BETWEEN",sqlOp:"BETWEEN",cardinality:2,formatOp:function(e,t,r,n,o,i,a,l){var s=r.first(),u=r.get(1);return l?"".concat(e," BETWEEN ").concat(s," AND ").concat(u):"".concat(e," >= ").concat(s," && ").concat(e," <= ").concat(u)},spelFormatOp:function(e,t,r,n,o,i,a,l){var s=r[0],u=r[1];return"".concat(e," >= ").concat(s," && ").concat(e," <= ").concat(u)},mongoFormatOp:function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=this.utils).mongoFormatOp2.apply(e,[["$gte","$lte"],!1].concat(r))},valueLabels:["Value from","Value to"],textSeparators:[null,"and"],reversedOp:"not_between",jsonLogic:"<=",validateValues:function(e){return null!=e[0]&&null!=e[1]?e[0]<=e[1]?null:"Invalid range":null},elasticSearchQueryType:function(e){return"time"===e?"filter":"range"}},not_between:{isNotOp:!0,label:"Not between",labelForFormat:"NOT BETWEEN",sqlOp:"NOT BETWEEN",cardinality:2,formatOp:function(e,t,r,n,o,i,a,l){var s=r.first(),u=r.get(1);return l?"".concat(e," NOT BETWEEN ").concat(s," AND ").concat(u):"(".concat(e," < ").concat(s," || ").concat(e," > ").concat(u,")")},spelFormatOp:function(e,t,r,n,o,i,a,l){var s=r[0],u=r[1];return"(".concat(e," < ").concat(s," || ").concat(e," > ").concat(u,")")},mongoFormatOp:function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=this.utils).mongoFormatOp2.apply(e,[["$gte","$lte"],!0].concat(r))},valueLabels:["Value from","Value to"],textSeparators:[null,"and"],reversedOp:"between",validateValues:function(e){return null!=e[0]&&null!=e[1]?e[0]<=e[1]?null:"Invalid range":null}},is_empty:{label:"Is empty",labelForFormat:"IS EMPTY",cardinality:0,reversedOp:"is_not_empty",formatOp:function(e,t,r,n,o,i,a,l){return l?"".concat(e," IS EMPTY"):"!".concat(e)},sqlFormatOp:function(e,t,r,n,o,i,a,l){var s=this.utils.sqlEmptyValue(l);return"COALESCE(".concat(e,", ").concat(s,") = ").concat(s)},spelFormatOp:function(e,t,r,n,o,i,a,l){return"".concat(e," <= ''")},mongoFormatOp:function(){for(var e,t=this,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=this.utils).mongoFormatOp1.apply(e,["$in",function(e,r){return[t.utils.mongoEmptyValue(r),null]},!1].concat(n))},jsonLogic:"!"},is_not_empty:{isNotOp:!0,label:"Is not empty",labelForFormat:"IS NOT EMPTY",cardinality:0,reversedOp:"is_empty",formatOp:function(e,t,r,n,o,i,a,l){return l?"".concat(e," IS NOT EMPTY"):"!!".concat(e)},sqlFormatOp:function(e,t,r,n,o,i,a,l){var s=this.utils.sqlEmptyValue(l);return"COALESCE(".concat(e,", ").concat(s,") <> ").concat(s)},spelFormatOp:function(e,t,r,n,o,i,a,l){return"".concat(e," > ''")},mongoFormatOp:function(){for(var e,t=this,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=this.utils).mongoFormatOp1.apply(e,["$nin",function(e,r){return[t.utils.mongoEmptyValue(r),null]},!1].concat(n))},jsonLogic:"!!",elasticSearchQueryType:"exists"},is_null:{label:"Is null",labelForFormat:"IS NULL",sqlOp:"IS NULL",cardinality:0,reversedOp:"is_not_null",formatOp:function(e,t,r,n,o,i,a,l){return l?"".concat(e," IS NULL"):"!".concat(e)},spelFormatOp:function(e,t,r,n,o,i,a,l){return"".concat(e," == null")},mongoFormatOp:function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=this.utils).mongoFormatOp1.apply(e,["$eq",function(e){return null},!1].concat(r))},jsonLogic:"=="},is_not_null:{label:"Is not null",labelForFormat:"IS NOT NULL",sqlOp:"IS NOT NULL",cardinality:0,reversedOp:"is_null",formatOp:function(e,t,r,n,o,i,a,l){return l?"".concat(e," IS NOT NULL"):"!!".concat(e)},spelFormatOp:function(e,t,r,n,o,i,a,l){return"".concat(e," != null")},mongoFormatOp:function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=this.utils).mongoFormatOp1.apply(e,["$ne",function(e){return null},!1].concat(r))},jsonLogic:"!=",elasticSearchQueryType:"exists"},select_equals:{label:"==",labelForFormat:"==",sqlOp:"=",formatOp:function(e,t,r,n,o,i,a,l){var s=l?"=":"==";return"".concat(e," ").concat(s," ").concat(r)},spelOp:"==",spelOps:["==","eq"],mongoFormatOp:function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=this.utils).mongoFormatOp1.apply(e,["$eq",function(e){return e},!1].concat(r))},reversedOp:"select_not_equals",jsonLogic:"==",elasticSearchQueryType:"term"},select_not_equals:{isNotOp:!0,label:"!=",labelForFormat:"!=",sqlOp:"<>",formatOp:function(e,t,r,n,o,i,a,l){return"".concat(e," != ").concat(r)},spelOp:"!=",spelOps:["!=","ne"],mongoFormatOp:function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=this.utils).mongoFormatOp1.apply(e,["$ne",function(e){return e},!1].concat(r))},reversedOp:"select_equals",jsonLogic:"!="},select_any_in:{label:"Any in",labelForFormat:"IN",sqlOp:"IN",formatOp:function(e,t,r,n,o,i,a,l){return"value"==n?"".concat(e," IN (").concat(r.join(", "),")"):"".concat(e," IN (").concat(r,")")},sqlFormatOp:function(e,t,r,n,o,i,a,l){return"value"==n?"".concat(e," IN (").concat(r.join(", "),")"):void 0},valueTypes:["multiselect"],spelOp:"${1}.contains(${0})",mongoFormatOp:function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=this.utils).mongoFormatOp1.apply(e,["$in",function(e){return e},!1].concat(r))},reversedOp:"select_not_any_in",jsonLogic:"in",elasticSearchQueryType:"term"},select_not_any_in:{isNotOp:!0,label:"Not in",labelForFormat:"NOT IN",sqlOp:"NOT IN",formatOp:function(e,t,r,n,o,i,a,l){return"value"==n?"".concat(e," NOT IN (").concat(r.join(", "),")"):"".concat(e," NOT IN (").concat(r,")")},sqlFormatOp:function(e,t,r,n,o,i,a,l){return"value"==n?"".concat(e," NOT IN (").concat(r.join(", "),")"):void 0},mongoFormatOp:function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=this.utils).mongoFormatOp1.apply(e,["$nin",function(e){return e},!1].concat(r))},reversedOp:"select_any_in"},multiselect_contains:{label:"Contains",labelForFormat:"CONTAINS",formatOp:function(e,t,r,n,o,i,a,l){return"value"==n?"".concat(e," CONTAINS [").concat(r.join(", "),"]"):"".concat(e," CONTAINS ").concat(r)},reversedOp:"multiselect_not_contains",jsonLogic2:"some-in",jsonLogic:function(e,t,r){return{some:[e,{in:[{var:""},r]}]}},spelOp:"T(CollectionUtils).containsAny(${0}, ${1})",elasticSearchQueryType:"term",mongoFormatOp:function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=this.utils).mongoFormatOp1.apply(e,["$in",function(e){return e},!1].concat(r))}},multiselect_not_contains:{isNotOp:!0,label:"Not contains",labelForFormat:"NOT CONTAINS",formatOp:function(e,t,r,n,o,i,a,l){return"value"==n?"".concat(e," NOT CONTAINS [").concat(r.join(", "),"]"):"".concat(e," NOT CONTAINS ").concat(r)},reversedOp:"multiselect_contains"},multiselect_equals:{label:"Equals",labelForFormat:"==",sqlOp:"=",formatOp:function(e,t,r,n,o,i,a,l){var s=l?"=":"==";return"value"==n?"".concat(e," ").concat(s," [").concat(r.join(", "),"]"):"".concat(e," ").concat(s," ").concat(r)},sqlFormatOp:function(e,t,r,n,o,i,a,l){var s=this;return"value"==n?"".concat(e," = '").concat(r.map((function(e){return s.utils.SqlString.trim(e)})).join(","),"'"):void 0},spelOp:"${0}.equals(${1})",mongoFormatOp:function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=this.utils).mongoFormatOp1.apply(e,["$eq",function(e){return e},!1].concat(r))},reversedOp:"multiselect_not_equals",jsonLogic2:"all-in",jsonLogic:function(e,t,r){return{all:[e,{in:[{var:""},r]}]}},elasticSearchQueryType:"term"},multiselect_not_equals:{isNotOp:!0,label:"Not equals",labelForFormat:"!=",sqlOp:"<>",formatOp:function(e,t,r,n,o,i,a,l){return"value"==n?"".concat(e," != [").concat(r.join(", "),"]"):"".concat(e," != ").concat(r)},sqlFormatOp:function(e,t,r,n,o,i,a,l){var s=this;return"value"==n?"".concat(e," != '").concat(r.map((function(e){return s.utils.SqlString.trim(e)})).join(","),"'"):void 0},mongoFormatOp:function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=this.utils).mongoFormatOp1.apply(e,["$ne",function(e){return e},!1].concat(r))},reversedOp:"multiselect_equals"},proximity:{label:"Proximity search",cardinality:2,valueLabels:[{label:"Word 1",placeholder:"Enter first word"},{label:"Word 2",placeholder:"Enter second word"}],textSeparators:[],formatOp:function(e,t,r,n,o,i,a,l){var s=r.first(),u=r.get(1),c=a.get("proximity");return"".concat(e," ").concat(s," NEAR/").concat(c," ").concat(u)},sqlFormatOp:function(e,t,r,n,o,i,a,l){var s=r.first(),u=r.get(1),c=this.utils.SqlString.trim(s),d=this.utils.SqlString.trim(u),p=a.get("proximity");return"CONTAINS(".concat(e,", 'NEAR((").concat(c,", ").concat(d,"), ").concat(p,")')")},mongoFormatOp:void 0,jsonLogic:void 0,options:{optionLabel:"Near",optionTextBefore:"Near",optionPlaceholder:"Select words between",minProximity:2,maxProximity:10,defaults:{proximity:2}}},some:{label:"Some",labelForFormat:"SOME",cardinality:0,jsonLogic:"some",spelFormatOp:function(e){return"".concat(e," > 0")},mongoFormatOp:function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=this.utils).mongoFormatOp1.apply(e,["$gt",function(e){return 0},!1].concat(r))}},all:{label:"All",labelForFormat:"ALL",cardinality:0,jsonLogic:"all",spelFormatOp:function(e,t,r){return"".concat(e," == ").concat(r)},mongoFormatOp:function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=this.utils).mongoFormatOp1.apply(e,["$eq",function(e){return e},!1].concat(r))}},none:{label:"None",labelForFormat:"NONE",cardinality:0,jsonLogic:"none",spelFormatOp:function(e){return"".concat(e," == 0")},mongoFormatOp:function(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=this.utils).mongoFormatOp1.apply(e,["$eq",function(e){return 0},!1].concat(r))}}},pR={text:{type:"text",jsType:"string",valueSrc:"value",valueLabel:"String",valuePlaceholder:"Enter string",formatValue:function(e,t,r,n){return n?this.utils.stringifyForDisplay(e):JSON.stringify(e)},spelFormatValue:function(e,t,r,n,o){return this.utils.spelEscape(e)},sqlFormatValue:function(e,t,r,n,o){return"LIKE"==o.sqlOp||"NOT LIKE"==o.sqlOp?this.utils.SqlString.escapeLike(e,"starts_with"!=n,"ends_with"!=n):this.utils.SqlString.escape(e)},toJS:function(e,t){return e},mongoFormatValue:function(e,t,r){return e}},textarea:{type:"text",jsType:"string",valueSrc:"value",valueLabel:"Text",valuePlaceholder:"Enter text",formatValue:function(e,t,r,n){return n?this.utils.stringifyForDisplay(e):JSON.stringify(e)},sqlFormatValue:function(e,t,r,n,o){return"LIKE"==o.sqlOp||"NOT LIKE"==o.sqlOp?this.utils.SqlString.escapeLike(e,"starts_with"!=n,"ends_with"!=n):this.utils.SqlString.escape(e)},spelFormatValue:function(e){return this.utils.spelEscape(e)},toJS:function(e,t){return e},mongoFormatValue:function(e,t,r){return e},fullWidth:!0},number:{type:"number",jsType:"number",valueSrc:"value",valueLabel:"Number",valuePlaceholder:"Enter number",valueLabels:[{label:"Number from",placeholder:"Enter number from"},{label:"Number to",placeholder:"Enter number to"}],formatValue:function(e,t,r,n){return n?this.utils.stringifyForDisplay(e):JSON.stringify(e)},sqlFormatValue:function(e,t,r,n,o){return this.utils.SqlString.escape(e)},spelFormatValue:function(e,t,r){var n=r.step&&!Number.isInteger(r.step);return this.utils.spelEscape(e,n)},toJS:function(e,t){return e},mongoFormatValue:function(e,t,r){return e}},slider:{type:"number",jsType:"number",valueSrc:"value",valueLabel:"Number",valuePlaceholder:"Enter number or move slider",formatValue:function(e,t,r,n){return n?this.utils.stringifyForDisplay(e):JSON.stringify(e)},sqlFormatValue:function(e,t,r,n,o){return this.utils.SqlString.escape(e)},spelFormatValue:function(e){return this.utils.spelEscape(e)},toJS:function(e,t){return e},mongoFormatValue:function(e,t,r){return e}},select:{type:"select",jsType:"string",valueSrc:"value",valueLabel:"Value",valuePlaceholder:"Select value",formatValue:function(e,t,r,n){var o=this.utils.getTitleInListValues(t.fieldSettings.listValues||t.asyncListValues,e);return n?this.utils.stringifyForDisplay(o):JSON.stringify(e)},sqlFormatValue:function(e,t,r,n,o){return this.utils.SqlString.escape(e)},spelFormatValue:function(e){return this.utils.spelEscape(e)},toJS:function(e,t){return e},mongoFormatValue:function(e,t,r){return e}},multiselect:{type:"multiselect",jsType:"array",valueSrc:"value",valueLabel:"Values",valuePlaceholder:"Select values",formatValue:function(e,t,r,n){var o=this,i=e.map((function(e){return o.utils.getTitleInListValues(t.fieldSettings.listValues||t.asyncListValues,e)}));return n?i.map(this.utils.stringifyForDisplay):e.map(JSON.stringify)},sqlFormatValue:function(e,t,r,n,o){var i=this;return e.map((function(e){return i.utils.SqlString.escape(e)}))},spelFormatValue:function(e,t,r,n,o){var i=o.spelOp&&o.spelOp.startsWith("${1}"),a=this.utils.spelEscape(e);return i&&(a=this.utils.spelFixList(a)),a},toJS:function(e,t){return e},mongoFormatValue:function(e,t,r){return e}},date:{type:"date",jsType:"string",valueSrc:"value",dateFormat:"DD.MM.YYYY",valueFormat:"YYYY-MM-DD",valueLabel:"Date",valuePlaceholder:"Enter date",valueLabels:[{label:"Date from",placeholder:"Enter date from"},{label:"Date to",placeholder:"Enter date to"}],formatValue:function(e,t,r,n){var o=this.utils.moment(e,r.valueFormat);return n?o.format(r.dateFormat):JSON.stringify(e)},sqlFormatValue:function(e,t,r,n,o){var i=this.utils.moment(e,r.valueFormat);return this.utils.SqlString.escape(i.format("YYYY-MM-DD"))},spelFormatValue:function(e,t,r,n,o){var i=this.utils.moment(e,r.valueFormat).format("YYYY-MM-DD");return"T(java.time.LocalDate).parse('".concat(i,"', T(java.time.format.DateTimeFormatter).ofPattern('").concat("yyyy-MM-dd","'))")},spelImportFuncs:[{obj:{cls:["java","time","LocalDate"]},methodName:"parse",args:[{var:"v"},{obj:{cls:["java","time","format","DateTimeFormatter"]},methodName:"ofPattern",args:[{var:"fmt"}]}]}],spelImportValue:function(e,t,r){var n,o,i,a;if(!t)return[void 0,"No widget def to get value format"];if(null!=r&&null!==(n=r.fmt)&&void 0!==n&&null!==(n=n.value)&&void 0!==n&&null!==(o=n.includes)&&void 0!==o&&o.call(n," ")||null!==(i=r.fmt)&&void 0!==i&&null!==(i=i.value)&&void 0!==i&&null!==(a=i.toLowerCase)&&void 0!==a&&a.call(i).includes("hh:mm"))return[void 0,"Invalid date format ".concat(JSON.stringify(r.fmt))];var l=this.utils.moment(e.value,this.utils.moment.ISO_8601);return l.isValid()?[l.format(null==t?void 0:t.valueFormat),[]]:[void 0,"Invalid date"]},jsonLogic:function(e,t,r){return this.utils.moment(e,r.valueFormat).toDate()},toJS:function(e,t){var r=this.utils.moment(e,t.valueFormat);return r.isValid()?r.toDate():void 0},mongoFormatValue:function(e,t,r){var n=this.utils.moment(e,r.valueFormat);return n.isValid()?n.toDate():void 0}},time:{type:"time",jsType:"string",valueSrc:"value",timeFormat:"HH:mm",valueFormat:"HH:mm:ss",use12Hours:!1,valueLabel:"Time",valuePlaceholder:"Enter time",valueLabels:[{label:"Time from",placeholder:"Enter time from"},{label:"Time to",placeholder:"Enter time to"}],formatValue:function(e,t,r,n){var o=this.utils.moment(e,r.valueFormat);return n?o.format(r.timeFormat):JSON.stringify(e)},sqlFormatValue:function(e,t,r,n,o){var i=this.utils.moment(e,r.valueFormat);return this.utils.SqlString.escape(i.format("HH:mm:ss"))},spelFormatValue:function(e,t,r,n,o){var i=this.utils.moment(e,r.valueFormat).format("HH:mm:ss");return"T(java.time.LocalTime).parse('".concat(i,"')")},spelImportFuncs:["T(java.time.LocalTime).parse(${v})"],spelImportValue:function(e,t,r){var n,o,i;if(!t)return[void 0,"No widget def to get value format"];if(null!=r&&r.fmt&&(null===(n=r.fmt)||void 0===n||null===(n=n.value)||void 0===n||null===(o=n.toLowerCase)||void 0===o||!o.call(n).includes("hh:mm")||null!==(i=r.fmt)&&void 0!==i&&null!==(i=i.value)&&void 0!==i&&i.includes(" ")))return[void 0,"Invalid time format ".concat(JSON.stringify(r.fmt))];var a=this.utils.moment(e.value,"HH:mm:ss");return a.isValid()?[a.format(null==t?void 0:t.valueFormat),[]]:[void 0,"Invalid date"]},jsonLogic:function(e,t,r){var n=this.utils.moment(e,r.valueFormat);return 60*n.get("hour")*60+60*n.get("minute")+n.get("second")},toJS:function(e,t){var r=this.utils.moment(e,t.valueFormat);return r.isValid()?60*r.get("hour")*60+60*r.get("minute")+r.get("second"):void 0},mongoFormatValue:function(e,t,r){var n=this.utils.moment(e,r.valueFormat);return 60*n.get("hour")*60+60*n.get("minute")+n.get("second")},elasticSearchFormatValue:function(e,t,r,n){return{script:{script:{source:"doc[".concat(n,"][0].getHour() >== params.min && doc[").concat(n,"][0].getHour() <== params.max"),params:{min:t[0],max:t[1]}}}}}},datetime:{type:"datetime",jsType:"string",valueSrc:"value",timeFormat:"HH:mm",dateFormat:"DD.MM.YYYY",valueFormat:"YYYY-MM-DD HH:mm:ss",use12Hours:!1,valueLabel:"Datetime",valuePlaceholder:"Enter datetime",valueLabels:[{label:"Datetime from",placeholder:"Enter datetime from"},{label:"Datetime to",placeholder:"Enter datetime to"}],formatValue:function(e,t,r,n){var o=this.utils.moment(e,r.valueFormat);return n?o.format(r.dateFormat+" "+r.timeFormat):JSON.stringify(e)},sqlFormatValue:function(e,t,r,n,o){var i=this.utils.moment(e,r.valueFormat);return this.utils.SqlString.escape(i.toDate())},spelFormatValue:function(e,t,r,n,o){var i=this.utils.moment(e,r.valueFormat).format("YYYY-MM-DD HH:mm:ss");return"T(java.time.LocalDateTime).parse('".concat(i,"', T(java.time.format.DateTimeFormatter).ofPattern('").concat("yyyy-MM-dd HH:mm:ss","'))")},spelImportFuncs:[{obj:{cls:["java","time","LocalDateTime"]},methodName:"parse",args:[{var:"v"},{obj:{cls:["java","time","format","DateTimeFormatter"]},methodName:"ofPattern",args:[{var:"fmt"}]}]}],spelImportValue:function(e,t,r){var n,o;if(!t)return[void 0,"No widget def to get value format"];if(null==r||null===(n=r.fmt)||void 0===n||null===(n=n.value)||void 0===n||null===(o=n.includes)||void 0===o||!o.call(n," "))return[void 0,"Invalid datetime format ".concat(JSON.stringify(r.fmt))];var i=this.utils.moment(e.value,this.utils.moment.ISO_8601);return i.isValid()?[i.format(null==t?void 0:t.valueFormat),[]]:[void 0,"Invalid date"]},jsonLogic:function(e,t,r){return this.utils.moment(e,r.valueFormat).toDate()},toJS:function(e,t){var r=this.utils.moment(e,t.valueFormat);return r.isValid()?r.toDate():void 0},mongoFormatValue:function(e,t,r){var n=this.utils.moment(e,r.valueFormat);return n.isValid()?n.toDate():void 0}},boolean:{type:"boolean",jsType:"boolean",valueSrc:"value",labelYes:"Yes",labelNo:"No",formatValue:function(e,t,r,n){return n?e?"Yes":"No":JSON.stringify(!!e)},sqlFormatValue:function(e,t,r,n,o){return this.utils.SqlString.escape(e)},spelFormatValue:function(e,t,r,n,o){return this.utils.spelEscape(e)},defaultValue:!1,toJS:function(e,t){return e},mongoFormatValue:function(e,t,r){return e}},field:{valueSrc:"field",formatValue:function(e,t,r,n,o,i,a){return n&&a.label||e},sqlFormatValue:function(e,t,r,n,o,i){return e},spelFormatValue:function(e,t,r,n,o){return e},valueLabel:"Field to compare",valuePlaceholder:"Select field to compare"},func:{valueSrc:"func",valueLabel:"Function",valuePlaceholder:"Select function"},case_value:{valueSrc:"value",type:"case_value",spelFormatValue:function(e){return this.utils.spelEscape(""===e?null:e)},spelImportValue:function(e){return[e.value,[]]}}},fR=cR(cR({},Yq),{},{convertableWidgets:{number:["slider","rangeslider"],slider:["number","rangeslider"],rangeslider:["number","slider"],text:["textarea"],textarea:["text"]},formatSpelField:function(e,t,r,n,o,i){var a=this,l=n.map((function(e,t){var r=e.key,n=e.parent,o=e.fieldSeparator;return 0==t?"[map]"==n?"#this[".concat(a.utils.spelEscape(r),"]"):r:"map"==n||"[map]"==n?"[".concat(a.utils.spelEscape(r),"]"):"".concat(o).concat(r)})).join("");return o.fieldName&&(l=e),o.isSpelVariable&&(l="#"+l),l},sqlFormatReverse:function(e){if(null!=e)return"NOT("+e+")"},spelFormatReverse:function(e){if(null!=e)return"!("+e+")"},formatReverse:function(e,t,r,n,o,i){if(null!=e)return i?"NOT ("+e+")":"!("+e+")"},formatAggr:function(e,t,r,n,o,i,a,l,s,u){var c=a.labelForFormat,d=a.cardinality;if(0==d){var p=e?" HAVE ".concat(e):"";return"".concat(c," OF ").concat(t).concat(p)}if(null==d||1==d){var f=e?" WHERE ".concat(e):"";return"COUNT OF ".concat(t).concat(f," ").concat(c," ").concat(n)}if(2==d){var h=e?" WHERE ".concat(e):"",g=n.first(),v=n.get(1);return"COUNT OF ".concat(t).concat(h," ").concat(c," ").concat(g," AND ").concat(v)}},jsonLogic:{groupVarKey:"var",altVarKey:"var",lockedOp:"locked"},canCompareFieldWithField:function(e,t,r,n){return!0},valueSourcesInfo:{value:{label:"Value"},field:{label:"Field",widget:"field"},func:{label:"Function",widget:"func"}}}),hR=function(e,t){var r,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o={rangeslider:mR,treeselect:yR,treemultiselect:bR,rangeable__date:vR("date","date")},i=lR(t);try{for(i.s();!(r=i.n()).done;){var a=r.value,l=o[a];if(!l)throw new Error("Can't ".concat(n?"add":"remove"," mixin ").concat(a));e=l(e,n)}}catch(s){i.e(s)}finally{i.f()}return e},gR=function(e,t){return hR(e,t,!0)},vR=function(e,t){return function(r){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=r.types;return o=cR(cR({},o),{},y({},e,cR(cR({},o[e]),{},{widgets:cR({},o[e].widgets)}))),n?o[e].widgets[t]=cR({opProps:{between:{isSpecialRange:!0,textSeparators:[null,null]},not_between:{isSpecialRange:!0,textSeparators:[null,null]}}},o[e].widgets[t]):delete o[e].widgets[t],cR(cR({},r),{},{types:o})}},mR=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=e.widgets,n=e.types;return r=cR({},r),t?r.rangeslider=cR({type:"number",jsType:"number",valueSrc:"value",valueLabel:"Range",valuePlaceholder:"Select range",valueLabels:[{label:"Number from",placeholder:"Enter number from"},{label:"Number to",placeholder:"Enter number to"}],formatValue:function(e,t,r,n){return n?this.utils.stringifyForDisplay(e):JSON.stringify(e)},sqlFormatValue:function(e,t,r,n,o){return this.utils.SqlString.escape(e)},spelFormatValue:function(e){return this.utils.spelEscape(e)},singleWidget:"slider",toJS:function(e,t){return e}},r.rangeslider):delete r.rangeslider,n=cR(cR({},n),{},{number:cR(cR({},n.number),{},{widgets:cR({},n.number.widgets)})}),t?n.number.widgets.rangeslider=cR({opProps:{between:{isSpecialRange:!0},not_between:{isSpecialRange:!0}},operators:["between","not_between","is_null","is_not_null"]},n.number.widgets.rangeslider):delete n.number.widgets.rangeslider,cR(cR({},e),{},{widgets:r,types:n})},yR=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=e.widgets,n=e.types;return r=cR({},r),t?r.treeselect=cR({type:"treeselect",jsType:"string",valueSrc:"value",valueLabel:"Value",valuePlaceholder:"Select value",formatValue:function(e,t,r,n){var o=t.fieldSettings.treeValues||t.fieldSettings.listValues||t.asyncListValues,i=this.utils.getTitleInListValues(o,e);return n?this.utils.stringifyForDisplay(i):JSON.stringify(e)},sqlFormatValue:function(e,t,r,n,o){return this.utils.SqlString.escape(e)},spelFormatValue:function(e){return this.utils.spelEscape(e)},toJS:function(e,t){return e}},r.treeselect):delete r.treeselect,n=cR({},n),t?n.treeselect=cR({mainWidget:"treeselect",defaultOperator:"select_equals",widgets:{treeselect:{operators:["select_equals","select_not_equals"]},treemultiselect:{operators:["select_any_in","select_not_any_in"]}}},n.treeselect):delete n.treeselect,cR(cR({},e),{},{widgets:r,types:n})},bR=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=e.widgets,n=e.types;return r=cR({},r),t?r.treemultiselect=cR({type:"treemultiselect",jsType:"array",valueSrc:"value",valueLabel:"Values",valuePlaceholder:"Select values",formatValue:function(e,t,r,n){var o=this,i=t.fieldSettings.treeValues||t.fieldSettings.listValues||t.asyncListValues,a=e.map((function(e){return o.utils.getTitleInListValues(i,e)}));return n?a.map(this.utils.stringifyForDisplay):e.map(JSON.stringify)},sqlFormatValue:function(e,t,r,n,o){var i=this;return e.map((function(e){return i.utils.SqlString.escape(e)}))},spelFormatValue:function(e){return this.utils.spelEscape(e)},toJS:function(e,t){return e}},r.treemultiselect):delete r.treemultiselect,n=cR({},n),t?n.treemultiselect=cR({defaultOperator:"multiselect_equals",widgets:{treemultiselect:{operators:["multiselect_equals","multiselect_not_equals"]}}},n.treemultiselect):delete n.treemultiselect,cR(cR({},e),{},{widgets:r,types:n})},_R={addMixins:gR,removeMixins:function(e,t){return hR(e,t,!1)}},xR={conjunctions:{AND:{label:"And",mongoConj:"$and",jsonLogicConj:"and",sqlConj:"AND",spelConj:"and",spelConjs:["and","&&"],reversedConj:"OR",formatConj:function(e,t,r,n){return e.size>1?(r?"NOT ":"")+"("+e.join(" "+(n?"AND":"&&")+" ")+")":(r?"NOT (":"")+e.first()+(r?")":"")},sqlFormatConj:function(e,t,r){return e.size>1?(r?"NOT ":"")+"("+e.join(" AND ")+")":(r?"NOT (":"")+e.first()+(r?")":"")},spelFormatConj:function(e,t,r,n){return r&&(n=!1),e.size>1?(r?"!":"")+(n?"":"(")+e.join(" && ")+(n?"":")"):(r?"!(":"")+e.first()+(r?")":"")}},OR:{label:"Or",mongoConj:"$or",jsonLogicConj:"or",sqlConj:"OR",spelConj:"or",spelConjs:["or","||"],reversedConj:"AND",formatConj:function(e,t,r,n){return e.size>1?(r?"NOT ":"")+"("+e.join(" "+(n?"OR":"||")+" ")+")":(r?"NOT (":"")+e.first()+(r?")":"")},sqlFormatConj:function(e,t,r){return e.size>1?(r?"NOT ":"")+"("+e.join(" OR ")+")":(r?"NOT (":"")+e.first()+(r?")":"")},spelFormatConj:function(e,t,r,n){return r&&(n=!1),e.size>1?(r?"!":"")+(n?"":"(")+e.join(" || ")+(n?"":")"):(r?"!(":"")+e.first()+(r?")":"")}}},operators:dR,widgets:pR,types:{text:{defaultOperator:"equal",mainWidget:"text",widgets:{text:{operators:["equal","not_equal","like","not_like","starts_with","ends_with","proximity","is_empty","is_not_empty","is_null","is_not_null"],widgetProps:{},opProps:{}},textarea:{operators:["equal","not_equal","like","not_like","starts_with","ends_with","is_empty","is_not_empty","is_null","is_not_null"],widgetProps:{},opProps:{}},field:{operators:["equal","not_equal","proximity"]}}},number:{defaultOperator:"equal",mainWidget:"number",widgets:{number:{operators:["equal","not_equal","less","less_or_equal","greater","greater_or_equal","between","not_between","is_null","is_not_null"]},slider:{operators:["equal","not_equal","less","less_or_equal","greater","greater_or_equal","is_null","is_not_null"]}}},date:{defaultOperator:"equal",widgets:{date:{operators:["equal","not_equal","less","less_or_equal","greater","greater_or_equal","between","not_between","is_null","is_not_null"]}}},time:{defaultOperator:"equal",widgets:{time:{operators:["equal","not_equal","less","less_or_equal","greater","greater_or_equal","between","not_between","is_null","is_not_null"]}}},datetime:{defaultOperator:"equal",widgets:{datetime:{operators:["equal","not_equal","less","less_or_equal","greater","greater_or_equal","between","not_between","is_null","is_not_null"]}}},select:{mainWidget:"select",defaultOperator:"select_equals",widgets:{select:{operators:["select_equals","select_not_equals","is_null","is_not_null"]},multiselect:{operators:["select_any_in","select_not_any_in","is_null","is_not_null"]}}},multiselect:{defaultOperator:"multiselect_equals",widgets:{multiselect:{operators:["multiselect_contains","multiselect_not_contains","multiselect_equals","multiselect_not_equals","is_null","is_not_null"]}}},boolean:{defaultOperator:"equal",widgets:{boolean:{operators:["equal","not_equal","is_null","is_not_null"],widgetProps:{}},field:{operators:["equal","not_equal"]}}},"!group":{defaultOperator:"some",mainWidget:"number",widgets:{number:{widgetProps:{min:0},operators:["some","all","none","equal","not_equal","less","less_or_equal","greater","greater_or_equal","between","not_between"],opProps:{equal:{label:"Count =="},not_equal:{label:"Count !="},less:{label:"Count <"},less_or_equal:{label:"Count <="},greater:{label:"Count >"},greater_or_equal:{label:"Count >="},between:{label:"Count between"},not_between:{label:"Count not between"}}}}},case_value:{mainWidget:"case_value",widgets:{case_value:{}}}},settings:fR,ctx:aR};const wR=xR=gR(xR,["rangeslider","treeselect","treemultiselect"]);var OR="ADD_GROUP",SR="ADD_CASE_GROUP",kR="REMOVE_GROUP",jR="SET_CONJUNCTION",ER="SET_NOT",CR="ADD_RULE",TR="REMOVE_RULE",qR="SET_FIELD",AR="SET_FIELD_SRC",PR="SET_OPERATOR",IR="SET_VALUE",LR="SET_VALUE_SRC",NR="SET_OPERATOR_OPTION",RR="SET_LOCK",MR="SET_TREE",FR="MOVE_ITEM",DR="after",VR="before",zR="append",BR="prepend",HR="SET_DRAG_PROGRESS",WR="SET_DRAG_START",UR="SET_DRAG_END",$R=TT,YR=tu;var GR=function(e,t){return e&&$R(e,t,YR)},KR=jl,JR=Hu;var QR=function(e,t,r,n){var o=r.length,i=o,a=!n;if(null==e)return!i;for(e=Object(e);o--;){var l=r[o];if(a&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++o<i;){var s=(l=r[o])[0],u=e[s],c=l[1];if(a&&l[2]){if(void 0===u&&!(s in e))return!1}else{var d=new KR;if(n)var p=n(u,c,s,e,t,d);if(!(void 0===p?JR(c,u,3,n,d):p))return!1}}return!0},XR=fa;var ZR=function(e){return e==e&&!XR(e)},eM=ZR,tM=tu;var rM=function(e,t){return function(r){return null!=r&&(r[e]===t&&(void 0!==t||e in Object(r)))}},nM=QR,oM=function(e){for(var t=tM(e),r=t.length;r--;){var n=t[r],o=e[n];t[r]=[n,o,eM(o)]}return t},iM=rM;var aM=KE;var lM=function(e,t,r){var n=null==e?void 0:aM(e,t);return void 0===n?r:n},sM=Hu,uM=lM,cM=Fq,dM=xE,pM=ZR,fM=rM,hM=$E;var gM=KE;var vM=function(e){return function(t){return null==t?void 0:t[e]}},mM=function(e){return function(t){return gM(t,e)}},yM=xE,bM=$E;var _M=function(e){var t=oM(e);return 1==t.length&&t[0][2]?iM(t[0][0],t[0][1]):function(r){return r===e||nM(r,e,t)}},xM=function(e,t){return dM(e)&&pM(t)?fM(hM(e),t):function(r){var n=uM(r,e);return void 0===n&&n===t?cM(r,e):sM(t,n,3)}},wM=EC,OM=Gl,SM=function(e){return yM(e)?vM(bM(e)):mM(e)};var kM=function(e){return"function"==typeof e?e:null==e?wM:"object"==typeof e?OM(e)?xM(e[0],e[1]):_M(e):SM(e)},jM=mk,EM=GR,CM=kM;const TM=h((function(e,t){var r={};return t=CM(t),EM(e,(function(e,n,o){jM(r,n,t(e,n,o))})),r}));function qM(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return AM(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return AM(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(l)throw i}}}}function AM(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function PM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function IM(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?PM(Object(r),!0).forEach((function(t){y(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PM(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var LM=function(e,t,r,n,o,i){var a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:{},s=i.settings.shouldCreateEmptyGroup,u=t.push(n),c=!s,d=!(null==l||!l.isDefaultCase),p=e;return(e=RM(e,t,r,n,eI(i).merge(o||{}),i,a))!==p&&(a||d||(e=e.setIn(lA(u,"children1"),new ck.OrderedMap),c&&(e=RM(e,u,"rule",KC(),QP(i),i))),e=dA(e)),e},NM=function e(t,r,n){n&&Array.isArray(n)&&(r.children1=new ck.OrderedMap(n.reduce((function(r,n){var o=KC(),i=IM(IM({},n),{},{properties:tI(t,n).merge(n.properties||{}),id:o});return e(t,i,i.children1),IM(IM({},r),{},y({},o,new ck.Map(i)))}),{})))},RM=function(e,t,r,n,o,i){var a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;if("switch_group"==r)throw new Error("Can't add switch_group programmatically");var l,s,u=i.settings,c=u.maxNumberOfCases,d=u.maxNumberOfRules,p=u.maxNesting,f="switch_group"==e.get("type"),h=e.getIn(lA(t)),g=f?e.getIn(lA(t.take(2))):null,v=lA(t,"children1"),m=e.getIn(v),b=!!m&&m.size,_=b?m.size:null;"case_group"==r?(l=_,s=c):"group"==r?(l=t.size,s=p):"rule_group"==(null==h?void 0:h.get("type"))||(l=fA(f?g:e),s=d);var x=!s||!l||l<s,w={type:r,id:n,properties:o};NM(i,w,a);var O="case_group"==r&&b&&null==m.last().get("children1");if(x){var S=new ck.OrderedMap(y({},n,new ck.Map(w)));if(b)if(O){var k,j=m.last(),E=new ck.OrderedMap((y(k={},n,new ck.Map(w)),y(k,j.get("id"),j),k));e=(e=e.deleteIn(lA(v,"children1",j.get("id")))).mergeIn(v,E)}else e=e.mergeIn(v,S);else e=e.setIn(v,S);e=dA(e)}return e},MM=function(e,t){return e=e.deleteIn(lA(t)),e=dA(e)},FM=function(e,t,r){var n=null;if(e)if("field"===t){var o=FL(r,e);o&&(n=o.type)}else if("func"===t){var i=e.get("func");if(i){var a=PL(r,i);a&&(n=a.returnType)}}return n},DM={dragging:{id:null,x:null,y:null,w:null,h:null},mousePos:{},dragStart:{id:null}},VM=function(e,t){if(!e||!e.type)return null;var r,n=[MR,WR,HR,UR],o=TM(YC(e,["config","asyncListValues","__isInternal"]),iT),i=e.path&&function(e,t){return e.getIn(lA(t,"properties","field"))||null}(t.tree,e.path)||e.field;i&&(null!==(r=i)&&void 0!==r&&r.toJS&&(i=i.toJS()),o.affectedField=i);return(n.includes(e.type)||0==e.type.indexOf("@@redux"))&&(o=null),o};const zM=function(e,t,r,n){var o=IM({tree:t},DM);return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,i=arguments.length>1?arguments[1]:void 0,a={__isInternalValueChange:void 0,__lastAction:void 0},l={},s=VM(i,t);switch(null==i?void 0:i.type){case MR:var u=r(i.config,i.tree);l.tree=u;break;case SR:l.tree=LM(t.tree,i.path,"case_group",i.id,i.properties,i.config,i.children,i.meta);break;case OR:l.tree=LM(t.tree,i.path,"group",i.id,i.properties,i.config,i.children,i.meta);break;case kR:l.tree=function(e,t,r){e=MM(e,t);var n=r.settings.canLeaveEmptyGroup,o=t.slice(0,-1);yA(e,o)||n||(e=pA(e),!mA(e)||n)||(e=RM(e,new ck.List,"rule",KC(),QP(r,void 0,void 0,!1,!1),r));return dA(e)}(t.tree,i.path,i.config);break;case CR:l.tree=RM(t.tree,i.path,i.ruleType,i.id,i.properties,i.config,i.children);break;case TR:l.tree=function(e,t,r){e=MM(e,t);var n=r.settings.canLeaveEmptyGroup,o=t.pop(),i=e.getIn(lA(o)),a=i.getIn(["properties","field"]),l=i.getIn(["properties","operator"]);i.getIn(["properties","value",0]);var s=a?FL(r,a):null,u=l?DL(r,l,a):null,c=a&&l&&0!=u.cardinality,d="rule_group"==i.get("type"),p=!yA(e,o),f=d?c&&s.initialEmptyWhere:n;p&&!f&&(d&&(e=e.deleteIn(lA(o))),e=pA(e),mA(e)&&!n)&&(e=RM(e,new ck.List,"rule",KC(),QP(r,void 0,void 0,!1,!1),r));return dA(e)}(t.tree,i.path,i.config);break;case jR:l.tree=function(e,t,r){return e.setIn(lA(t,"properties","conjunction"),r)}(t.tree,i.path,i.conjunction);break;case ER:l.tree=function(e,t,r){return e.setIn(lA(t,"properties","not"),r)}(t.tree,i.path,i.not);break;case qR:var c=function(e,t,r,n,o,i){var a,l;if(!r)return{tree:MM(e,t),isInternalValueChange:l};var s=n.settings,u=s.fieldSeparator,c=s.setOpOnChangeField,d=s.showErrorMessage;s.keepInputOnChangeFieldSrc,Array.isArray(r)&&(r=r.join(u));var p=e.getIn(lA(t,"type")),f=e.getIn(lA(t,"properties")),h="rule_group"==p,g=f.get("fieldSrc"),v=FL(n,r);if(!v)return console.warn("No config for LHS ".concat(r)),{tree:e,isInternalValueChange:l};var m=v.type;"!group"!==m&&"!struct"!==m||(m=null);var y=f.get("operator"),b=f.get("operatorOptions");f.get("field"),f.get("value"),f.get("valueSrc",new ck.List),f.get("valueType",new ck.List);var _="!group"==v.type,x=_&&"array"==v.mode,w=h!=_,O=v&&-1!==(null===(a=v.operators)||void 0===a?void 0:a.indexOf(y))?y:null,S=null,k="func"===g?bI(n,m):_I(n,r);if(k&&1==k.length)S=k[0];else if(k&&k.length>1){var j,E=qM(c||[]);try{for(E.s();!(j=E.n()).done;){var C=j.value;if("keep"!=C||w?"default"==C?S=KP(n,r,!1):"first"==C&&(S=xI(n,r)):S=O,S)break}}catch(N){E.e(N)}finally{E.f()}}if(!_&&!v.operators)return console.warn("Type ".concat(v.type," is not supported")),{tree:e,isInternalValueChange:l};if(h&&!_&&(e=(e=(e=e.setIn(lA(t,"type"),"rule")).deleteIn(lA(t,"children1"))).setIn(lA(t,"properties"),new ck.OrderedMap)),_){e=e.setIn(lA(t,"type"),"rule_group");var T=mI(n,n,f,r,S,"field",!0);T.canReuseValue;var q=T.newValue,A=T.newValueSrc,P=T.newValueType,I=T.operatorCardinality,L=eI(n,v).merge({field:r,fieldSrc:"field",mode:v.mode});x&&(L=L.merge({operator:S,value:q,valueSrc:A,valueType:P})),e=(e=e.setIn(lA(t,"children1"),new ck.OrderedMap)).setIn(lA(t,"properties"),L),v.initialEmptyWhere&&1==I||(e=RM(e,t,"rule",KC(),QP(n,r),n)),e=dA(e)}else e=e.updateIn(lA(t,"properties"),(function(e){return e.withMutations((function(e){var t=mI(n,n,e,r,S,"field",!0),o=t.canReuseValue,a=t.newValue,s=t.newValueSrc,u=t.newValueType,c=t.newValueError;d&&(e=e.set("valueError",c));var p=o?b:JP(n,S,r);return l=i,e.set("field",r).delete("fieldType").set("fieldSrc",g).set("operator",S).set("operatorOptions",p).set("value",a).set("valueSrc",s).set("valueType",u).delete("asyncListValues")}))}));return{tree:e,isInternalValueChange:l}}(t.tree,i.path,i.field,i.config,i.asyncListValues,i.__isInternal),d=c.tree,p=c.isInternalValueChange;l.__isInternalValueChange=p,l.tree=d;break;case AR:l.tree=function(e,t,r,n){var o=n.settings.keepInputOnChangeFieldSrc,i=e.getIn(lA(t));i.get("type");var a=i.get("properties"),l=a.get("field"),s=a.get("fieldType"),u=FL(n,l),c=(null==u?void 0:u.type)||s;c&&"!group"!==c&&"!struct"!==c||(c=null);var d=!vI.includes(c);return(e=o&&!TI(i,n,!0)&&d?(e=e.setIn(lA(t,"properties","field"),null)).setIn(lA(t,"properties","fieldType"),c):e.setIn(lA(t,"properties"),QP(n,null,null,!1))).setIn(lA(t,"properties","fieldSrc"),r)}(t.tree,i.path,i.srcKey,i.config);break;case RR:l.tree=function(e,t,r){return cA(e.setIn(lA(t,"properties","isLocked"),r))}(t.tree,i.path,i.lock);break;case PR:l.tree=function(e,t,r,n){var o=n.settings.showErrorMessage,i=e.getIn(lA(t,"properties")),a=e.getIn(lA(t,"children1")),l=i.get("field");i.get("fieldSrc");var s=FL(n,l),u="!group"==(null==s?void 0:s.type),c=DL(n,r,l),d=c?eT(c.cardinality,1):null;return e=e.updateIn(lA(t,"properties"),(function(e){return e.withMutations((function(e){var t=e.get("field"),i=e.get("operatorOptions");e.get("value",new ck.List),e.get("valueSrc",new ck.List),e.get("operator");var a=mI(n,n,e,t,r,"operator",!0),l=a.canReuseValue,s=a.newValue,u=a.newValueSrc,c=a.newValueType,d=a.newValueError;o&&(e=e.set("valueError",d));var p=l?i:JP(n,r,t);return l||(e=e.delete("asyncListValues")),e.set("operator",r).set("operatorOptions",p).set("value",s).set("valueSrc",u).set("valueType",c)}))})),u&&0==d&&0==a.size&&(e=RM(e,t,"rule",KC(),QP(n,l),n)),e}(t.tree,i.path,i.operator,i.config);break;case IR:var f=function(e,t,r,n,o,i,a,l){var s,u=i.settings,c=u.fieldSeparator,d=u.showErrorMessage,p=e.getIn(lA(t,"properties","valueSrc",r+""))||null;"field"===p&&Array.isArray(n)&&(n=n.join(c));var f=e.getIn(lA(t,"properties","field"))||null,h=e.getIn(lA(t,"properties","operator"))||null,g=DL(i,h,f),v=h?eT(g.cardinality,1):null,m=o||FM(n,p,i),y=lI(i,f,f,h,n,m,p,a,!1,!1,!0),b=ot(y,2),_=b[0],x=b[1],w=!_;if(x!==n&&(n=x),d){var O=EI(i,f,h,p),S=VL(i,f,h,O,p),k=Array.from({length:v},(function(r,n){return e.getIn(lA(t,"properties","valueSrc",n+""))||null}));if(g&&g.validateValues&&k.filter((function(e){return"value"==e||null==e})).length==v){var j=Array.from({length:v},(function(o,i){return i==r?n:e.getIn(lA(t,"properties","value",i+""))||null})),E=S&&S.toJS?j.map((function(e){return S.toJS.call(i.ctx,e,S)})):j,C=g.validateValues(E);e=e.setIn(lA(t,"properties","valueError",v),C)}}e.getIn(lA(t,"properties","value"))||(e=e.setIn(lA(t,"properties","value"),new ck.List(new Array(v))).setIn(lA(t,"properties","valueType"),new ck.List(new Array(v))).setIn(lA(t,"properties","valueError"),new ck.List(new Array(v))));var T=null==e.getIn(lA(t,"properties","value",r+"")),q=!!e.getIn(lA(t,"properties","valueError",r));return(w||d)&&(e=e.deleteIn(lA(t,"properties","asyncListValues")),void 0===n?e=(e=e.setIn(lA(t,"properties","value",r+""),void 0)).setIn(lA(t,"properties","valueType",r+""),null):(a&&(e=e.setIn(lA(t,"properties","asyncListValues"),a)),e=(e=e.setIn(lA(t,"properties","value",r+""),n)).setIn(lA(t,"properties","valueType",r+""),m),s=l&&!T&&!q)),d&&(e=e.setIn(lA(t,"properties","valueError",r),_)),l&&(w&&q||!w&&!q)&&(e=e.setIn(lA(t,"properties","valueError",r),_),s=!1),{tree:e,isInternalValueChange:s}}(t.tree,i.path,i.delta,i.value,i.valueType,i.config,i.asyncListValues,i.__isInternal),h=f.tree,g=f.isInternalValueChange;l.__isInternalValueChange=g,l.tree=h;break;case LR:l.tree=function(e,t,r,n,o){var i=o.settings.showErrorMessage,a=e.getIn(lA(t,"properties","field"))||null;e.getIn(lA(t,"properties","fieldSrc"));var l=e.getIn(lA(t,"properties","operator"))||null;if(e=(e=(e=e.setIn(lA(t,"properties","value",r+""),void 0)).setIn(lA(t,"properties","valueType",r+""),null)).deleteIn(lA(t,"properties","asyncListValues")),i){e=e.setIn(lA(t,"properties","valueError",r),null);var s=DL(o,l,a),u=l?eT(s.cardinality,1):null;s.validateValues&&(e=e.setIn(lA(t,"properties","valueError",u),null))}if(e=void 0===n?e.setIn(lA(t,"properties","valueSrc",r+""),null):e.setIn(lA(t,"properties","valueSrc",r+""),n),n){var c=e.getIn(lA(t,"properties")),d=mI(o,o,c,a,l,"valueSrc",!0),p=d.canReuseValue,f=d.newValue,h=d.newValueSrc,g=d.newValueType;d.newValueError,p||h.get(r)!=n||(e=(e=e.setIn(lA(t,"properties","value",r+""),f.get(r))).setIn(lA(t,"properties","valueType",r+""),g.get(r)))}return e}(t.tree,i.path,i.delta,i.srcKey,i.config);break;case NR:l.tree=function(e,t,r,n){return e.setIn(lA(t,"properties","operatorOptions",r),n)}(t.tree,i.path,i.name,i.value);break;case FR:l.tree=function(e,t,r,n,o){var i=uA(e,t),a=t.pop(),l=t.size>1?uA(e,a):null,s=l?l.get("children1"):null,u=uA(e,r),c=n==zR||n==BR?r:r.pop(),d=n==zR||n==BR?u:r.size>1?uA(e,c):null,p=d?d.get("children1"):null;if(!l||!d||!i)return e;var f=l.get("id")==d.get("id"),h=c.size<a.size&&tT(c.toArray(),a.toArray().slice(0,c.size)),g=c.size>a.size&&tT(a.toArray(),c.toArray().slice(0,a.size)),v=null,m=null;h?v=ck.List(a.toArray().slice(c.size)):g&&(m=ck.List(c.toArray().slice(a.size)));var b=p,_=s;return g||(_=_.delete(i.get("id"))),f?b=_:h&&(b=b.updateIn(sA(v,"children1"),(function(e){return _}))),n==VR||n==DR?b=ck.OrderedMap().withMutations((function(e){var t,r=qM(b.entries());try{for(r.s();!(t=r.n()).done;){var o=ot(t.value,2),a=o[0],l=o[1];a==u.get("id")&&n==VR&&e.set(i.get("id"),i),e.set(a,l),a==u.get("id")&&n==DR&&e.set(i.get("id"),i)}}catch(s){r.e(s)}finally{r.f()}})):n==zR?b=b.merge(y({},i.get("id"),i)):n==BR&&(b=ck.OrderedMap(y({},i.get("id"),i)).merge(b)),g&&(_=(_=_.updateIn(sA(m,"children1"),(function(e){return b}))).delete(i.get("id"))),f||h||(e=e.updateIn(lA(a,"children1"),(function(e){return _}))),g||(e=e.updateIn(lA(c,"children1"),(function(e){return b}))),dA(e)}(t.tree,i.fromPath,i.toPath,i.placement,i.config);break;case WR:l.dragStart=i.dragStart,l.dragging=i.dragging,l.mousePos=i.mousePos;break;case HR:l.mousePos=i.mousePos,l.dragging=i.dragging;break;case UR:l.tree=function(e,t){return t.settings.canLeaveEmptyGroup||(e=pA(e)),e}(t.tree,e),l=IM(IM({},l),DM)}return s&&(l.__lastAction=s),n&&l.tree&&t.tree&&n(t.tree),IM(IM(IM({},t),a),l)}};const BM=Object.freeze(Object.defineProperty({__proto__:null,addCaseGroup:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return{type:SR,path:oT(t),children:n,id:KC(),properties:eI(e).merge(r||{}),config:e}},addDefaultCaseGroup:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return{type:SR,path:oT(t),children:n,id:KC(),properties:eI(e).merge(r||{}),config:e,meta:{isDefaultCase:!0}}},addGroup:function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return{type:OR,path:oT(t),children:n,id:KC(),properties:eI(e).merge(r||{}),config:e}},addRule:function(e,t,r){var n=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null;return{type:CR,ruleType:arguments.length>3&&void 0!==arguments[3]?arguments[3]:"rule",children:arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,path:oT(t),id:KC(),properties:QP(e,n).merge(r||{}),config:e}},moveItem:function(e,t,r,n){return{type:FR,fromPath:oT(t),toPath:oT(r),placement:n,config:e}},removeGroup:function(e,t){return{type:kR,path:oT(t),config:e}},removeRule:function(e,t){return{type:TR,path:oT(t),config:e}},setTree:function(e,t){return{type:MR,tree:t,config:e}}},Symbol.toStringTag,{value:"Module"}));const HM=Object.freeze(Object.defineProperty({__proto__:null,setConjunction:function(e,t,r){return{type:jR,path:oT(t),conjunction:r}},setLock:function(e,t,r){return{type:RR,path:oT(t),lock:r}},setNot:function(e,t,r){return{type:ER,path:oT(t),not:r}}},Symbol.toStringTag,{value:"Module"}));const WM=Object.freeze(Object.defineProperty({__proto__:null,setField:function(e,t,r,n,o){return{type:qR,path:oT(t),field:r,config:e,asyncListValues:n,__isInternal:o}},setFieldSrc:function(e,t,r){return{type:AR,path:oT(t),srcKey:r,config:e}},setOperator:function(e,t,r){return{type:PR,path:oT(t),operator:r,config:e}},setOperatorOption:function(e,t,r,n){return{type:NR,path:oT(t),name:r,value:n,config:e}},setValue:function(e,t,r,n,o,i,a){return{type:IR,path:oT(t),delta:r,value:n,valueType:o,asyncListValues:i,config:e,__isInternal:a}},setValueSrc:function(e,t,r,n){return{type:LR,path:oT(t),delta:r,srcKey:n,config:e}}},Symbol.toStringTag,{value:"Module"}));function UM(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function $M(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?UM(Object(r),!0).forEach((function(t){y(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):UM(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var YM=$M($M($M($M({},eR),UN),HP),{},{ConfigMixins:_R});const GM=N.createContext();var KM=N.createContext(null);var JM=function(e){e()},QM=function(){return JM};var XM={notify:function(){},get:function(){return[]}};function ZM(e,t){var r,n=XM;function o(){a.onStateChange&&a.onStateChange()}function i(){r||(r=t?t.addNestedSub(o):e.subscribe(o),n=function(){var e=QM(),t=null,r=null;return{clear:function(){t=null,r=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],r=t;r;)e.push(r),r=r.next;return e},subscribe:function(e){var n=!0,o=r={callback:e,next:null,prev:r};return o.prev?o.prev.next=o:t=o,function(){n&&null!==t&&(n=!1,o.next?o.next.prev=o.prev:r=o.prev,o.prev?o.prev.next=o.next:t=o.next)}}}}())}var a={addNestedSub:function(e){return i(),n.subscribe(e)},notifyNestedSubs:function(){n.notify()},handleChangeWrapper:o,isSubscribed:function(){return Boolean(r)},trySubscribe:i,tryUnsubscribe:function(){r&&(r(),r=void 0,n.clear(),n=XM)},getListeners:function(){return n}};return a}var eF="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?g.useLayoutEffect:g.useEffect;function tF(e){var t=e.store,r=e.context,n=e.children,o=g.useMemo((function(){var e=ZM(t);return{store:t,subscription:e}}),[t]),i=g.useMemo((function(){return t.getState()}),[t]);eF((function(){var e=o.subscription;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),i!==t.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=null}}),[o,i]);var a=r||KM;return N.createElement(a.Provider,{value:o},n)}var rF={exports:{}},nF={},oF=60103,iF=60106,aF=60107,lF=60108,sF=60114,uF=60109,cF=60110,dF=60112,pF=60113,fF=60120,hF=60115,gF=60116,vF=60121,mF=60122,yF=60117,bF=60129,_F=60131;if("function"==typeof Symbol&&Symbol.for){var xF=Symbol.for;oF=xF("react.element"),iF=xF("react.portal"),aF=xF("react.fragment"),lF=xF("react.strict_mode"),sF=xF("react.profiler"),uF=xF("react.provider"),cF=xF("react.context"),dF=xF("react.forward_ref"),pF=xF("react.suspense"),fF=xF("react.suspense_list"),hF=xF("react.memo"),gF=xF("react.lazy"),vF=xF("react.block"),mF=xF("react.server.block"),yF=xF("react.fundamental"),bF=xF("react.debug_trace_mode"),_F=xF("react.legacy_hidden")}function wF(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case oF:switch(e=e.type){case aF:case sF:case lF:case pF:case fF:return e;default:switch(e=e&&e.$$typeof){case cF:case dF:case gF:case hF:case uF:return e;default:return t}}case iF:return t}}}var OF=uF,SF=oF,kF=dF,jF=aF,EF=gF,CF=hF,TF=iF,qF=sF,AF=lF,PF=pF;nF.ContextConsumer=cF,nF.ContextProvider=OF,nF.Element=SF,nF.ForwardRef=kF,nF.Fragment=jF,nF.Lazy=EF,nF.Memo=CF,nF.Portal=TF,nF.Profiler=qF,nF.StrictMode=AF,nF.Suspense=PF,nF.isAsyncMode=function(){return!1},nF.isConcurrentMode=function(){return!1},nF.isContextConsumer=function(e){return wF(e)===cF},nF.isContextProvider=function(e){return wF(e)===uF},nF.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===oF},nF.isForwardRef=function(e){return wF(e)===dF},nF.isFragment=function(e){return wF(e)===aF},nF.isLazy=function(e){return wF(e)===gF},nF.isMemo=function(e){return wF(e)===hF},nF.isPortal=function(e){return wF(e)===iF},nF.isProfiler=function(e){return wF(e)===sF},nF.isStrictMode=function(e){return wF(e)===lF},nF.isSuspense=function(e){return wF(e)===pF},nF.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===aF||e===sF||e===bF||e===lF||e===pF||e===fF||e===_F||"object"==typeof e&&null!==e&&(e.$$typeof===gF||e.$$typeof===hF||e.$$typeof===uF||e.$$typeof===cF||e.$$typeof===dF||e.$$typeof===yF||e.$$typeof===vF||e[0]===mF)},nF.typeOf=wF,rF.exports=nF;var IF=rF.exports,LF=["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"],NF=["reactReduxForwardedRef"],RF=[],MF=[null,null];function FF(e,t){var r=e[1];return[t.payload,r+1]}function DF(e,t,r){eF((function(){return e.apply(void 0,t)}),r)}function VF(e,t,r,n,o,i,a){e.current=n,t.current=o,r.current=!1,i.current&&(i.current=null,a())}function zF(e,t,r,n,o,i,a,l,s,u){if(e){var c=!1,d=null,p=function(){if(!c){var e,r,p=t.getState();try{e=n(p,o.current)}catch(lF){r=lF,d=lF}r||(d=null),e===i.current?a.current||s():(i.current=e,l.current=e,a.current=!0,u({type:"STORE_UPDATED",payload:{error:r}}))}};r.onStateChange=p,r.trySubscribe(),p();return function(){if(c=!0,r.tryUnsubscribe(),r.onStateChange=null,d)throw d}}}var BF=function(){return[null,0]};function HF(e,t){void 0===t&&(t={});var r=t,n=r.getDisplayName,o=void 0===n?function(e){return"ConnectAdvanced("+e+")"}:n,i=r.methodName,a=void 0===i?"connectAdvanced":i,l=r.renderCountProp,s=void 0===l?void 0:l,u=r.shouldHandleStateChanges,c=void 0===u||u,d=r.storeKey,f=void 0===d?"store":d;r.withRef;var h=r.forwardRef,v=void 0!==h&&h,m=r.context,y=void 0===m?KM:m,b=p(r,LF),_=y;return function(t){var r=t.displayName||t.name||"Component",n=o(r),i=w({},b,{getDisplayName:o,methodName:a,renderCountProp:s,shouldHandleStateChanges:c,storeKey:f,displayName:n,wrappedComponentName:r,WrappedComponent:t}),l=b.pure;var u=l?g.useMemo:function(e){return e()};function d(r){var n=g.useMemo((function(){var e=r.reactReduxForwardedRef,t=p(r,NF);return[r.context,e,t]}),[r]),o=n[0],a=n[1],l=n[2],s=g.useMemo((function(){return o&&o.Consumer&&IF.isContextConsumer(N.createElement(o.Consumer,null))?o:_}),[o,_]),d=g.useContext(s),f=Boolean(r.store)&&Boolean(r.store.getState)&&Boolean(r.store.dispatch);Boolean(d)&&Boolean(d.store);var h=f?r.store:d.store,v=g.useMemo((function(){return function(t){return e(t.dispatch,i)}(h)}),[h]),m=g.useMemo((function(){if(!c)return MF;var e=ZM(h,f?null:d.subscription),t=e.notifyNestedSubs.bind(e);return[e,t]}),[h,f,d]),y=m[0],b=m[1],x=g.useMemo((function(){return f?d:w({},d,{subscription:y})}),[f,d,y]),O=g.useReducer(FF,RF,BF),S=O[0][0],k=O[1];if(S&&S.error)throw S.error;var j=g.useRef(),E=g.useRef(l),C=g.useRef(),T=g.useRef(!1),q=u((function(){return C.current&&l===E.current?C.current:v(h.getState(),l)}),[h,S,l]);DF(VF,[E,j,T,l,q,C,b]),DF(zF,[c,h,y,v,E,j,T,C,b,k],[h,y,v]);var A=g.useMemo((function(){return N.createElement(t,w({},q,{ref:a}))}),[a,t,q]);return g.useMemo((function(){return c?N.createElement(s.Provider,{value:x},A):A}),[s,A,x])}var h=l?N.memo(d):d;if(h.WrappedComponent=t,h.displayName=d.displayName=n,v){var m=N.forwardRef((function(e,t){return N.createElement(h,w({},e,{reactReduxForwardedRef:t}))}));return m.displayName=n,m.WrappedComponent=t,H(m,t)}return H(h,t)}}function WF(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}function UF(e,t){if(WF(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(var o=0;o<r.length;o++)if(!Object.prototype.hasOwnProperty.call(t,r[o])||!WF(e[r[o]],t[r[o]]))return!1;return!0}function $F(e){return function(t,r){var n=e(t,r);function o(){return n}return o.dependsOnOwnProps=!1,o}}function YF(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function GF(e,t){return function(t,r){r.displayName;var n=function(e,t){return n.dependsOnOwnProps?n.mapToProps(e,t):n.mapToProps(e)};return n.dependsOnOwnProps=!0,n.mapToProps=function(t,r){n.mapToProps=e,n.dependsOnOwnProps=YF(e);var o=n(t,r);return"function"==typeof o&&(n.mapToProps=o,n.dependsOnOwnProps=YF(o),o=n(t,r)),o},n}}const KF=[function(e){return"function"==typeof e?GF(e):void 0},function(e){return e?void 0:$F((function(e){return{dispatch:e}}))},function(e){return e&&"object"==typeof e?$F((function(t){return function(e,t){var r={},n=function(n){var o=e[n];"function"==typeof o&&(r[n]=function(){return t(o.apply(void 0,arguments))})};for(var o in e)n(o);return r}(e,t)})):void 0}];const JF=[function(e){return"function"==typeof e?GF(e):void 0},function(e){return e?void 0:$F((function(){return{}}))}];function QF(e,t,r){return w({},r,e,t)}const XF=[function(e){return"function"==typeof e?function(e){return function(t,r){r.displayName;var n,o=r.pure,i=r.areMergedPropsEqual,a=!1;return function(t,r,l){var s=e(t,r,l);return a?o&&i(s,n)||(n=s):(a=!0,n=s),n}}}(e):void 0},function(e){return e?void 0:function(){return QF}}];var ZF=["initMapStateToProps","initMapDispatchToProps","initMergeProps"];function eD(e,t,r,n){return function(o,i){return r(e(o,i),t(n,i),i)}}function tD(e,t,r,n,o){var i,a,l,s,u,c=o.areStatesEqual,d=o.areOwnPropsEqual,p=o.areStatePropsEqual,f=!1;function h(o,f){var h,g,v=!d(f,a),m=!c(o,i,f,a);return i=o,a=f,v&&m?(l=e(i,a),t.dependsOnOwnProps&&(s=t(n,a)),u=r(l,s,a)):v?(e.dependsOnOwnProps&&(l=e(i,a)),t.dependsOnOwnProps&&(s=t(n,a)),u=r(l,s,a)):m?(h=e(i,a),g=!p(h,l),l=h,g&&(u=r(l,s,a)),u):u}return function(o,c){return f?h(o,c):(l=e(i=o,a=c),s=t(n,a),u=r(l,s,a),f=!0,u)}}function rD(e,t){var r=t.initMapStateToProps,n=t.initMapDispatchToProps,o=t.initMergeProps,i=p(t,ZF),a=r(e,i),l=n(e,i),s=o(e,i);return(i.pure?tD:eD)(a,l,s,e,i)}var nD=["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"];function oD(e,t,r){for(var n=t.length-1;n>=0;n--){var o=t[n](e);if(o)return o}return function(t,n){throw new Error("Invalid value of type "+typeof e+" for "+r+" argument when connecting component "+n.wrappedComponentName+".")}}function iD(e,t){return e===t}function aD(e){var t=void 0===e?{}:e,r=t.connectHOC,n=void 0===r?HF:r,o=t.mapStateToPropsFactories,i=void 0===o?JF:o,a=t.mapDispatchToPropsFactories,l=void 0===a?KF:a,s=t.mergePropsFactories,u=void 0===s?XF:s,c=t.selectorFactory,d=void 0===c?rD:c;return function(e,t,r,o){void 0===o&&(o={});var a=o,s=a.pure,c=void 0===s||s,f=a.areStatesEqual,h=void 0===f?iD:f,g=a.areOwnPropsEqual,v=void 0===g?UF:g,m=a.areStatePropsEqual,y=void 0===m?UF:m,b=a.areMergedPropsEqual,_=void 0===b?UF:b,x=p(a,nD),O=oD(e,i,"mapStateToProps"),S=oD(t,l,"mapDispatchToProps"),k=oD(r,u,"mergeProps");return n(d,w({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:O,initMapDispatchToProps:S,initMergeProps:k,pure:c,areStatesEqual:h,areOwnPropsEqual:v,areStatePropsEqual:y,areMergedPropsEqual:_},x))}}const lD=aD();var sD;sD=L.unstable_batchedUpdates,JM=sD;var uD="after",cD="before",dD="append",pD="prepend",fD=function(e,t){return{type:"SET_DRAG_PROGRESS",mousePos:e,dragging:t}},hD=function(e,t,r){return{type:"SET_DRAG_START",dragStart:e,dragging:t,mousePos:r}},gD=function(){return{type:"SET_DRAG_END"}},vD=BM,mD=HM,yD=WM;function bD(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return _D(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _D(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(l)throw i}}}}function _D(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var xD=YM.ConfigUtils,wD=xD.extendConfig,OD=xD.configKeys,SD=function(){var e=new Map,t=0,r=function(r){return function(t){var r,n=bD(e.keys());try{var o=function(){var n=r.value,o=0===OD.map((function(e){return n[e]===t[e]})).filter((function(e){return!e})).length;if(o)return{v:e.get(n)}};for(n.s();!(r=n.n()).done;){var i=o();if("object"===b(i))return i.v}}catch(c){n.e(c)}finally{n.f()}var a,l=bD(e.values());try{var s=function(){var e=a.value,r=0===OD.map((function(r){return e[r]===t[r]})).filter((function(e){return!e})).length;if(r)return{v:e}};for(l.s();!(a=l.n()).done;){var u=s();if("object"===b(u))return u.v}}catch(c){l.e(c)}finally{l.f()}return null}(r)||function(r){var n=wD(r,++t);return e.size+1>2&&e.delete(e.keys()[0]),e.set(r,n),n}(r)};return{getExtended:function(e){return r(function(e){return Hq(e,OD)}(e))},getBasic:function(t){var r,n=bD(e.keys());try{var o=function(){var n=r.value,o=e.get(n),i=0===OD.map((function(e){return o[e]===t[e]})).filter((function(e){return!e})).length;if(i)return{v:n}};for(n.s();!(r=n.n()).done;){var i=o();if("object"===b(i))return i.v}}catch(a){n.e(a)}finally{n.f()}return t}}},kD={},jD=function(e,t,r){if(!t||e.length<=t)return e;var n=e.substr(0,t-1);return(r?n.substr(0,n.lastIndexOf(" ")):n)+"..."},ED=function(e,t){return e===t||e.equals(t)},CD=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return e===t||(Array.isArray(e)?function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(e===t)return!0;if(!e||!t)return!1;var n=e.length;if(t.length!==n)return!1;for(var o=0;o<n;o++){if(!(r?CD(e[o],t[o],r):e[o]===t[o]))return!1}return!0}(e,t,r):e&&"function"==typeof e.equals?e.equals(t):"object"===b(e)?function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(e===t)return!0;if(!e||!t)return!1;var n=Object.keys(e),o=Object.keys(t),i=n.length;if(o.length!==i)return!1;for(var a=0;a<i;a++){var l=n[a];if(!(r?CD(e[l],t[l],r):e[l]===t[l]))return!1}return!0}(e,t,r):e===t)};var TD=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(null!=e?e:"undefined"!=typeof process&&kD&&!1)?console:{error:function(){},log:function(){},warn:function(){},debug:function(){},info:function(){}}}(),qD=YM.validateAndFixTree,AD=function e(t){if(t){var r,n=(r=t)._reactRootContainer?"root":Object.getOwnPropertyNames(r).filter((function(e){return e.startsWith("__reactContainer")})).length>0?"container":void 0;return void 0!==n?n:e(t.parentNode)}},PD=function(e){return"root"===AD(e)},ID=function(e,t){return function(r,n){var o=e.props,i=e.state,a=r!=o||n!=i;if(a&&i==n&&o!=r){var l=[];for(var s in r){var u=r[s]!=o[s];u&&("ignore"==t[s]?u=!1:"shallow_deep"==t[s]?u=!CD(r[s],o[s],!0):"shallow"==t[s]?u=!CD(r[s],o[s]):"function"==typeof t[s]&&(u=t[s](r[s],o[s],n))),u&&l.push(s)}l.length||(a=!1)}return a}},LD=function(e){return function(t,r){return!CD(e.props,t)||!CD(e.state,r)}},ND=function(e){if(e.shouldComponentUpdate||(e.shouldComponentUpdate=LD(e)),function(){var e=N.version.split(".").map(parseInt.bind(null,10));return 16==e[0]&&e[1]<3||e[0]<16}())e.componentWillReceiveProps=function(t){e.onPropsChanged(t)};else{var t=e.shouldComponentUpdate;e.shouldComponentUpdate=function(r,n){return!CD(e.props,r)&&e.onPropsChanged(r),t.call(e,r,n)}.bind(e)}},RD=function(e,t,r){return TM(e,(function(e){return function(){for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return r(e.apply(void 0,[t].concat(o)))}}))};const MD=Object.freeze(Object.defineProperty({__proto__:null,bindActionCreators:RD,isUsingLegacyReactDomRender:PD,liteShouldComponentUpdate:ID,pureShouldComponentUpdate:LD,useOnPropsChanged:ND},Symbol.toStringTag,{value:"Module"}));function FD(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function DD(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?FD(Object(r),!0).forEach((function(t){y(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FD(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function VD(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(lF){return!1}}();return function(){var r,n=G(e);if(t){var o=G(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return K(this,r)}}var zD=function(e){W(r,e);var t=VD(r);function r(e){var n;return U(this,r),(n=t.call(this,e)).shouldComponentUpdate=ID($(n),{tree:function(e){return e!==n.oldValidatedTree||n.oldValidatedTree!==n.validatedTree}}),ND($(n)),n._updateActions(e),n.validatedTree=e.getMemoizedTree(e.config,e.tree,void 0,e.sanitizeTree),n.oldValidatedTree=n.validatedTree,n}return Y(r,[{key:"_updateActions",value:function(e){var t=e.config,r=e.dispatch;this.actions=RD(DD(DD(DD({},vD),mD),yD),t,r)}},{key:"onPropsChanged",value:function(e){var t=e.onChange,r=this.props.config,n=e.tree;this.props.tree;var o=e.config;if(this.oldValidatedTree=this.validatedTree,this.validatedTree=n,r!==o&&(this._updateActions(e),this.validatedTree=e.getMemoizedTree(o,n,r)),!ED(this.validatedTree,this.oldValidatedTree)){var i=e.getBasicConfig(o);t&&t(this.validatedTree,i,e.__lastAction)}}},{key:"render",value:function(){var e=this.props,t=e.config,r=e.renderBuilder,n=e.dispatch,o=e.__isInternalValueChange;return r({tree:this.validatedTree,actions:this.actions,config:t,dispatch:n,__isInternalValueChange:o})}}]),r}(g.Component);zD.propTypes={config:it.object.isRequired,onChange:it.func,renderBuilder:it.func,tree:it.any};var BD=lD((function(e){return{tree:e.tree,__isInternalValueChange:e.__isInternalValueChange,__lastAction:e.__lastAction}}),null,null,{context:GM})(zD);function HD(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(lF){return!1}}();return function(){var r,n=G(e);if(t){var o=G(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return K(this,r)}}BD.displayName="ConnectedQuery";var WD=YM.DefaultUtils.defaultRoot,UD=function(e){W(r,e);var t=HD(r);function r(e,n){var o;U(this,r),(o=t.call(this,e,n)).setLastTree=function(e){o.prevTree&&(o.prevprevTree=o.prevTree),o.prevTree=e},o.shouldComponentUpdate=ID($(o),{value:function(e,t,r){return!1}}),ND($(o));var i=SD(),a=i.getExtended,l=i.getBasic;o.getMemoizedConfig=a,o.getBasicConfig=l,o.getMemoizedTree=function(){var e,t,r;return function(n,o){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return o?n.__configId===r&&(ED(o,e)||ED(o,t))?t:(r=n.__configId,e=o,t=!1===a?qD(o,null,n,i||n,!1,!1):qD(o,null,n,i||n)):null}}();var s=o.getMemoizedConfig(e),u=s.settings.shouldCreateEmptyGroup,c=WD(s,!u),d=!!e.value,p=e.value||c,f=o.getMemoizedTree(s,p,void 0,d),h=zM(s,f,o.getMemoizedTree,o.setLastTree),g=at(h);return o.config=s,o.state={store:g},o.QueryWrapper=function(e){return s.settings.renderProvider(e,s.ctx)},o}return Y(r,[{key:"onPropsChanged",value:function(e){var t=this.props,r=this.config,n=this.getMemoizedConfig(e),o=r!==n,i=this.state.store.getState().tree,a=!ED(e.value,this.props.value)&&!ED(e.value,i),l=a?e.value||WD(e):i,s=a&&!ED(e.value,this.prevTree)&&!ED(e.value,this.prevprevTree);if(this.sanitizeTree=s||o,o&&(t.settings.renderProvider!==e.settings.renderProvider&&(this.QueryWrapper=function(e){return n.settings.renderProvider(e,n.ctx)}),this.config=n),a||o){var u=this.getMemoizedTree(n,l,r,this.sanitizeTree);this.state.store.dispatch(vD.setTree(n,u))}}},{key:"render",value:function(){var e=this.props,t=e.renderBuilder,r=e.get_children,n=e.onChange,o=this.state.store,i=this.config,a=this.QueryWrapper;return N.createElement(a,{config:i},N.createElement(tF,{store:o,context:GM},N.createElement(BD,{config:i,getMemoizedTree:this.getMemoizedTree,getBasicConfig:this.getBasicConfig,sanitizeTree:this.sanitizeTree,onChange:n,renderBuilder:t||r})))}}]),r}(g.Component);function $D(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(lF){return!1}}();return function(){var r,n=G(e);if(t){var o=G(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return K(this,r)}}UD.propTypes={conjunctions:it.object.isRequired,fields:it.object.isRequired,types:it.object.isRequired,operators:it.object.isRequired,widgets:it.object.isRequired,settings:it.object.isRequired,ctx:it.object.isRequired,onChange:it.func,renderBuilder:it.func,value:it.any};var YD=YM.ConfigUtils.getFieldConfig;function GD(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(lF){return!1}}();return function(){var r,n=G(e);if(t){var o=G(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return K(this,r)}}var KD=YM.clone,JD=YM.TreeUtils.getFlatTree,QD=!1;var XD=["isDraggingTempo","isDraggingMe","dragging"];function ZD(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(lF){return!1}}();return function(){var r,n=G(e);if(t){var o=G(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return K(this,r)}}const eV=function(e){return function(t){var r;return r=function(r){W(o,r);var n=ZD(o);function o(e){var t;return U(this,o),(t=n.call(this,e)).handleDraggerMouseDown=function(e){var r=t.props.id,n=t.wrapper.current;t.props.onDragStart&&t.props.onDragStart(r,n,e)},t.wrapper=N.createRef(),t}return Y(o,[{key:"render",value:function(){var r=this.props,n=r.isDraggingTempo,o=r.isDraggingMe,i=r.dragging,a=Xr(r,XD),l=a.isTrueLocked,s={};o&&n&&(QD||(s={top:i.y,left:i.x,width:i.w}));var u=Rr(e,"group-or-rule",o&&n?"qb-draggable":null,o&&!n?"qb-placeholder":null,l?"locked":null);return N.createElement("div",{className:u,style:s,ref:this.wrapper,"data-id":this.props.id},N.createElement(t,w({handleDraggerMouseDown:this.handleDraggerMouseDown,isDraggingMe:o,isDraggingTempo:n},a)))}}]),o}(g.PureComponent),r.propTypes={isDraggingTempo:it.bool,isDraggingMe:it.bool,onDragStart:it.func,dragging:it.object,isLocked:it.bool,isTrueLocked:it.bool},r}};var tV=dk,rV=kM,nV=Cq,oV=nj;const iV=h((function(e,t){if(null==e)return{};var r=tV(oV(e),(function(e){return[e]}));return t=rV(t),nV(e,r,(function(e,r){return t(e,r[0])}))}));function aV(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function lV(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(lF){return!1}}();return function(){var r,n=G(e);if(t){var o=G(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return K(this,r)}}var sV=YM.ConfigUtils,uV=sV.getFieldConfig,cV=sV.getOperatorConfig,dV=function(e){W(r,e);var t=lV(r);function r(e){var n;return U(this,r),n=t.call(this,e),ND($(n)),n.onPropsChanged(e),n}return Y(r,[{key:"onPropsChanged",value:function(e){var t=this.props,r=!this.meta||["config","selectedField","selectedFieldSrc","selectedFieldType","selectedOperator"].map((function(r){return e[r]!==t[r]})).filter((function(e){return e})).length>0;r&&(this.meta=this.getMeta(e))}},{key:"getMeta",value:function(e){var t,r=e.config,n=e.selectedField,o=e.selectedFieldType,i=e.selectedOperator,a=uV(r,n),l=lk((null==a?void 0:a.operators)||(null===(t=r.types[o])||void 0===t?void 0:t.operators)||[]);n||l.includes(i)||l.push(i);var s=TM(iV(r.operators,(function(e,t){return-1!==(null==l?void 0:l.indexOf(t))})),(function(e,t){return cV(r,t,n)})),u=this.buildOptions(r,s,l),c=s[i]||{},d=i?[i]:null;return{placeholder:this.props.config.settings.operatorPlaceholder,items:u,selectedKey:i,selectedKeys:d,selectedPath:d,selectedLabel:c.label,selectedOpts:c,fieldConfig:a}}},{key:"buildOptions",value:function(e,t,r){return t&&r?ru(t).sort((function(e,t){return r.indexOf(e)-r.indexOf(t)})).map((function(e){return{key:e,path:e,label:t[e].label}})):null}},{key:"render",value:function(){var e=this.props,t=e.config,r=e.customProps,n=e.setOperator,o=e.readonly,i=e.id,a=e.groupId,l=t.settings.renderOperator,s=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?aV(Object(r),!0).forEach((function(t){y(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aV(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({id:i,groupId:a,config:t,customProps:r,readonly:o,setField:n},this.meta);return s.items?l(s,t.ctx):null}}]),r}(g.Component);dV.propTypes={id:it.string,groupId:it.string,config:it.object.isRequired,selectedField:it.any,selectedFieldType:it.string,selectedFieldSrc:it.string,selectedOperator:it.string,readonly:it.bool,setOperator:it.func.isRequired};var pV=["children"],fV=function(e){var t=e.children,r=Xr(e,pV);return N.createElement("div",r,t)},hV=function(){},gV=function(){return N.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"gray",width:"18px",height:"18px"},N.createElement("path",{d:"M0 0h24v24H0V0z",fill:"none"}),N.createElement("path",{d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"}))},vV=function(e){return function(t){var r=t.config.settings.useConfirm,n=r?r.call(t.config.ctx,t.config.ctx):null;return N.createElement(e,w({},t,{confirmFn:n}))}};function mV(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(lF){return!1}}();return function(){var r,n=G(e);if(t){var o=G(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return K(this,r)}}var yV=function(e){W(r,e);var t=mV(r);function r(){return U(this,r),t.apply(this,arguments)}return Y(r,[{key:"render",value:function(){var e=this.props,t=e.config,r=e.selectedField,n=e.selectedFieldSrc,o=e.selectedFieldType,i=e.selectedOperator,a=e.setOperator,l=e.selectedFieldParts,s=e.showOperator,u=e.showOperatorLabel,c=e.selectedFieldWidgetConfig,d=e.readonly,p=e.id,f=e.groupId;return[s&&N.createElement(fV,{key:"operators-for-"+(l||[]).join("_"),className:"rule--operator"},t.settings.showLabels&&N.createElement("label",{className:"rule--label"},t.settings.operatorLabel),N.createElement(dV,{key:"operator",config:t,selectedField:r,selectedFieldSrc:n,selectedFieldType:o,selectedOperator:i,setOperator:a,readonly:d,id:p,groupId:f})),u&&N.createElement(fV,{key:"operators-for-"+(l||[]).join("_"),className:"rule--operator"},N.createElement("div",{className:"rule--operator-wrapper"},t.settings.showLabels?N.createElement("label",{className:"rule--label"}," "):null,N.createElement("div",{className:"rule--operator-text-wrapper"},N.createElement("span",{className:"rule--operator-text"},c.operatorInlineLabel))))]}}]),r}(g.PureComponent);function bV(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _V(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(lF){return!1}}();return function(){var r,n=G(e);if(t){var o=G(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return K(this,r)}}var xV=YM.RuleUtils.getFieldPathLabels,wV=YM.ConfigUtils,OV=wV.getFieldConfig,SV=wV.getFieldParts,kV=wV.getFieldPathParts,jV=function(e){W(r,e);var t=_V(r);function r(e){var n;return U(this,r),n=t.call(this,e),ND($(n)),n.onPropsChanged(e),n}return Y(r,[{key:"onPropsChanged",value:function(e){var t=this.props,r=!this.meta||["selectedField","selectedFieldSrc","selectedFieldType","config","parentField"].map((function(r){return e[r]!==t[r]})).filter((function(e){return e})).length>0;r&&(this.meta=this.getMeta(e))}},{key:"getMeta",value:function(e){var t=e.selectedField,r=e.selectedFieldType,n=e.config,o=e.parentField,i=t,a=n.settings,l=a.maxLabelsLength,s=a.fieldSeparatorDisplay,u=a.fieldPlaceholder;a.fieldSeparator;var c=!!t,d=c?null:jD(u,l),p=c?OV(n,i):null,f=p||{},h=kV(i,n),g=kV(i,n,!0),v=this.getFieldLabel(p,i,n),m=xV(i,n),y=m?m.join(s):null;(y==v||o)&&(y=null);var b=f.label2,_=SV(o,n),x=o?OV(n,o):null,w=o?x&&x.subfields:n.fields,O=!c&&r;return{placeholder:d,items:this.buildOptions(_,n,w,O,_),parentField:o,selectedKey:i,selectedKeys:h,selectedPath:g,selectedLabel:v,selectedOpts:f,selectedAltLabel:b,selectedFullLabel:y,errorText:O?"Please select field":null}}},{key:"getFieldLabel",value:function(e,t,r){if(!t)return null;var n=r.settings.maxLabelsLength,o=SV(t,r),i=(null==e?void 0:e.label)||WE(o);return i=jD(i,n)}},{key:"buildOptions",value:function(e,t,r){var n=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null;if(!r)return null;var l=t.settings,s=l.fieldSeparator,u=l.fieldSeparatorDisplay,c=null!=i&&i.length?i.join(s)+s:"",d=function e(t){return Object.keys(t).reduce((function(r,n){var i=t[n];return"!struct"===i.type?r+e(i.subfields):r+(i.type===o?1:0)}),0)};return ru(r).map((function(l){var s=[].concat(lk(null!=i?i:[]),[l]),p=r[l],f=n.getFieldLabel(p,s,t),h=xV(s,t).join(u);(h==f||null!=e&&e.length)&&(h=null);var g=p.label2,v=p.tooltip,m=p.disabled;if(!p.hideForSelect){if("!struct"==p.type){var y=n.buildOptions(e,t,p.subfields,o,s,f),b=d(p.subfields)>0;return{disabled:m,key:l,path:c+l,label:f,fullLabel:h,altLabel:g,tooltip:v,items:y,matchesType:b}}var _=void 0!==o?p.type===o:void 0;return{disabled:m,key:l,path:c+l,label:f,fullLabel:h,altLabel:g,tooltip:v,grouplabel:a,matchesType:_}}})).filter((function(e){return!!e}))}},{key:"render",value:function(){var e=this.props,t=e.config,r=e.customProps,n=e.setField,o=e.setFieldSrc,i=e.readonly,a=e.id,l=e.groupId,s=t.settings.renderField,u=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?bV(Object(r),!0).forEach((function(t){y(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bV(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({id:a,groupId:l,config:t,customProps:r,readonly:i,setField:n,setFieldSrc:o},this.meta);return s(u,t.ctx)}}]),r}(g.Component);function EV(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function CV(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(lF){return!1}}();return function(){var r,n=G(e);if(t){var o=G(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return K(this,r)}}jV.propTypes={id:it.string,groupId:it.string,config:it.object.isRequired,selectedField:it.any,selectedFieldSrc:it.string,selectedFieldType:it.string,parentField:it.string,customProps:it.object,readonly:it.bool,setField:it.func.isRequired,setFieldSrc:it.func};var TV=YM.clone,qV=YM.ConfigUtils,AV=qV.getFieldConfig,PV=qV.getFuncConfig,IV=qV.getFieldParts,LV=qV.getFieldPathParts,NV=YM.RuleUtils,RV=NV.getFuncPathLabels,MV=NV.getWidgetForFieldOp,FV=function(e){W(r,e);var t=CV(r);function r(e){var n;return U(this,r),n=t.call(this,e),ND($(n)),n.onPropsChanged(e),n}return Y(r,[{key:"onPropsChanged",value:function(e){var t=this.props,r=!this.items||["config","field","fieldType","fieldSrc","operator","isFuncArg","isLHS"].map((function(r){return e[r]!==t[r]})).filter((function(e){return e})).length>0,n=!this.meta||["config","field","fieldType","fieldSrc","value","isLHS"].map((function(r){return e[r]!==t[r]})).filter((function(e){return e})).length>0;n&&(this.meta=this.getMeta(e)),r&&(this.items=this.getItems(e,this.meta))}},{key:"getItems",value:function(e,t){var r=e.config,n=e.field,o=e.fieldType,i=e.isLHS,a=e.operator,l=e.parentFuncs,s=e.fieldDefinition,u=e.isFuncArg,c=t.lookingForFieldType,d=r.settings.canUseFuncForField,p=this.filterFuncs(r,r.funcs,n,o,i,a,d,l,u,s);return this.buildOptions(r,p,c)}},{key:"getMeta",value:function(e){var t,r=e.config,n=e.field,o=e.fieldType,i=e.value,a=e.isLHS,l=e.isFuncArg,s=r.settings,u=s.funcPlaceholder,c=s.fieldSeparatorDisplay,d=i,p=!!i,f=AV(r,n),h=null==f||null===(t=f.widgets)||void 0===t?void 0:t.field;h&&h.widgetProps;var g=p?null:u,v=p?PV(r,d):null,m=v||{},y=LV(d,r),b=LV(d,r,!0),_=this.getFuncLabel(v,d,r),x=RV(d,r),w=x?x.join(c):null;w==_&&(w=null);var O=a&&!l&&!p&&o;return{placeholder:g,selectedKey:d,selectedKeys:y,selectedPath:b,selectedLabel:_,selectedOpts:m,selectedFullLabel:w,errorText:O?"Please select function":null,lookingForFieldType:O}}},{key:"filterFuncs",value:function(e,t,r,n,o,i,a,l,s,u){t=TV(t);var c,d=e.settings.fieldSeparator,p=AV(e,r),f=p,h=MV(e,r,i,"value");return h&&e.widgets[h],s?(f=u,c=null==u?void 0:u.type):p?c=p.type:o||(c=n),function t(n,o){for(var s in n){var u=n[s].subfields,h=(o||[]).concat(s),g=h.join(d),v=PV(e,g);if("!struct"==v.type)0==t(u,h)&&delete n[s];else{var m,y=!c||v.returnType==c;null!==(m=f)&&void 0!==m&&m.funcs&&(y=y&&f.funcs.includes(g)),a&&(y=y&&a(r,p,g,v,i)),!v.allowSelfNesting&&l&&l.map((function(e){var t=ot(e,2),r=t[0];return t[1],r})).includes(g)&&(y=!1),y||delete n[s]}}return ru(n).length}(t,[]),t}},{key:"buildOptions",value:function(e,t){var r=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;if(!t)return null;var a=e.settings,l=a.fieldSeparator,s=a.fieldSeparatorDisplay,u=null!=o&&o.length?o.join(l)+l:"",c=function e(t){return Object.keys(t).reduce((function(r,o){var i=t[o];return"!struct"===i.type?r+e(i.subfields):r+(i.type===n?1:0)}),0)};return ru(t).map((function(a){var l=[].concat(lk(null!=o?o:[]),[a]),d=t[a],p=r.getFuncLabel(d,l,e),f=RV(l,e).join(s);f==p&&(f=null);var h=d.tooltip;if("!struct"==d.type){var g=r.buildOptions(e,d.subfields,n,l,p),v=c(d.subfields)>0;return{key:a,path:u+a,label:p,fullLabel:f,tooltip:h,items:g,matchesType:v}}var m=void 0!==n?d.returnType===n:void 0;return{key:a,path:u+a,label:p,fullLabel:f,tooltip:h,grouplabel:i,matchesType:m}}))}},{key:"getFuncLabel",value:function(e,t,r){if(!t)return null;r.settings.fieldSeparator;var n=r.settings.maxLabelsLength,o=IV(t,r),i=(null==e?void 0:e.label)||WE(o);return i=jD(i,n)}},{key:"render",value:function(){var e=this.props,t=e.config,r=e.customProps,n=e.setValue,o=e.readonly,i=e.id,a=e.groupId,l=t.settings.renderFunc,s=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?EV(Object(r),!0).forEach((function(t){y(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):EV(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({config:t,customProps:r,readonly:o,setField:n,items:this.items,id:i,groupId:a},this.meta);return l(s,t.ctx)}}]),r}(g.Component);FV.propTypes={id:it.string,groupId:it.string,config:it.object.isRequired,field:it.any,fieldType:it.string,fieldSrc:it.string,operator:it.string,customProps:it.object,value:it.string,setValue:it.func.isRequired,readonly:it.bool,parentFuncs:it.array,fieldDefinition:it.object,isFuncArg:it.bool,isLHS:it.bool};var DV=Math.ceil,VV=Math.max;var zV=function(e,t,r,n){for(var o=-1,i=VV(DV((t-e)/(r||1)),0),a=Array(i);i--;)a[n?i:++o]=e,e+=r;return a},BV=/\s/;var HV=function(e){for(var t=e.length;t--&&BV.test(e.charAt(t)););return t},WV=HV,UV=/^\s+/;var $V=function(e){return e?e.slice(0,WV(e)+1).replace(UV,""):e},YV=fa,GV=vE,KV=/^[-+]0x[0-9a-f]+$/i,JV=/^0b[01]+$/i,QV=/^0o[0-7]+$/i,XV=parseInt;var ZV=function(e){if("number"==typeof e)return e;if(GV(e))return NaN;if(YV(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=YV(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=$V(e);var r=JV.test(e);return r||QV.test(e)?XV(e.slice(2),r?2:8):KV.test(e)?NaN:+e},ez=ZV,tz=1/0;var rz=function(e){return e?(e=ez(e))===tz||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0},nz=zV,oz=pq,iz=rz;var az=function(e){return function(t,r,n){return n&&"number"!=typeof n&&oz(t,r,n)&&(r=n=void 0),t=iz(t),void 0===r?(r=t,t=0):r=iz(r),n=void 0===n?t<r?1:-1:iz(n),nz(t,r,n,e)}},lz=az();const sz=h(lz);var uz=["factory"];function cz(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function dz(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?cz(Object(r),!0).forEach((function(t){y(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cz(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var pz=YM.ListUtils.getTitleInListValues,fz=YM.ConfigUtils._widgetDefKeysToOmit;const hz=function(e){var t=e.delta,r=e.isFuncArg;e.valueSrc;var n=e.value,o=e.valueError,i=e.asyncListValues,a=e.isSpecialRange,l=e.fieldDefinition;e.widget;var s=e.widgetDefinition,u=e.widgetValueLabel,c=e.valueLabels,d=e.textSeparators,p=e.setValueHandler,f=e.config,h=e.field,g=e.fieldSrc,v=e.fieldType,m=e.isLHS,y=e.operator,b=e.readonly,_=e.parentField,x=e.parentFuncs,w=e.id,O=e.groupId,S=s.factory,k=Xr(s,uz),j=r&&l.valueSources&&1==l.valueSources.length&&"const"==l.valueSources[0],E=l.defaultValue;if(!S)return"?";var C=a?[n.get(0),n.get(1)]:n?n.get(t):void 0,T=o&&(a?[o.get(0),o.get(1)]:o.get(t))||null;a&&void 0===C[0]&&void 0===C[1]&&(C=void 0);var q=(l||{}).fieldSettings,A=YC(dz(dz(dz({},k),q),{},{config:f,field:h,fieldSrc:g,fieldType:v,isLHS:m,parentField:_,parentFuncs:x,fieldDefinition:l,operator:y,delta:t,isSpecialRange:a,isFuncArg:r,value:C,valueError:T,label:u.label,placeholder:u.placeholder,placeholders:c?c.placeholder:null,textSeparators:d,setValue:p,readonly:b,asyncListValues:i,id:w,groupId:O}),[].concat(lk(fz),["toJS"]));if(j&&E){var P=(null==q?void 0:q.treeValues)||(null==q?void 0:q.listValues);return"boolean"==typeof E?E?A.labelYes||"YES":A.labelNo||"NO":P?Array.isArray(E)?E.map((function(e){return pz(P,e)||e})).join(", "):pz(P,E)||E:""+E}return S(A,f.ctx)};function gz(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(lF){return!1}}();return function(){var r,n=G(e);if(t){var o=G(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return K(this,r)}}var vz=YM.ConfigUtils,mz=vz.getFieldConfig,yz=vz.getOperatorConfig,bz=vz.getFieldWidgetConfig,_z=YM.RuleUtils,xz=_z.getValueSourcesForFieldOp,wz=_z.getWidgetForFieldOp,Oz=_z.getValueLabel,Sz=YM.DefaultUtils.createListFromArray,kz={cardinality:1},jz=function(e){W(r,e);var t=gz(r);function r(e){var n;return U(this,r),(n=t.call(this,e))._setValue=function(e,t,r,o,i,a){if(e&&Array.isArray(o)){var l=[n.props.value.get(0),n.props.value.get(1)];l[0]!=o[0]&&n.props.setValue(0,o[0],r,i,a),l[1]!=o[1]&&n.props.setValue(1,o[1],r,i,a)}else n.props.setValue(t,o,r,i,a)},n._onChangeValueSrc=function(e,t){n.props.setValueSrc(e,t)},n.renderWidget=function(e,t,r){var n=r.config,o=r.isFuncArg,i=r.leftField,a=r.operator,l=r.value,s=r.valueError,u=r.readonly,c=r.parentField,d=r.parentFuncs,p=r.id,f=r.groupId,h=r.fieldSrc,g=r.fieldType,v=r.isLHS,m=n.settings,y=t.widgets,b=t.iValues,_=t.aField,x=t.valueSources,O=o?b:l,S=o?i:_,k=y[e],j=k.valueSrc,E=k.valueLabel,C=x.length>1&&!u,T=m.showLabels?N.createElement("label",{className:"rule--label"},E.label):null;return N.createElement("div",{key:"widget-"+S+"-"+e,className:Rr("func"==j?"widget--func":"widget--widget",C?"widget--has-valuerscs":"widget--has-no-valuerscs")},"func"==j?null:T,N.createElement(hz,w({id:p,groupId:f,valueSrc:j,delta:e,value:O,valueError:s,isFuncArg:o,isLHS:v},Hq(t,["isSpecialRange","fieldDefinition","asyncListValues"]),Hq(y[e],["widget","widgetDefinition","widgetValueLabel","valueLabels","textSeparators","setValueHandler"]),{config:n,field:S,fieldSrc:h,fieldType:g,parentField:c,parentFuncs:d,operator:a,readonly:u})))},n.renderValueSources=function(e,t,r){var n=r.config,o=r.isFuncArg,i=r.leftField,a=r.operator,l=r.readonly,s=n.settings,u=t.valueSources,c=t.widgets,d=t.aField,p=o?i:d,f=c[e],h=f.valueSrc,g=f.setValueSrcHandler,v=s.valueSourcesInfo,m=s.renderValueSources,y=u.map((function(e){return[e,{label:v[e].label}]})),b=function(e){return m(e,n.ctx)},_=s.showLabels?N.createElement("label",{className:"rule--label"}," "):null;return u.length>1&&!l&&N.createElement("div",{key:"valuesrc-"+p+"-"+e,className:"widget--valuesrc"},_,N.createElement(b,{key:"valuesrc-"+e,delta:e,valueSources:y,valueSrc:h,config:n,field:p,operator:a,setValueSrc:g,readonly:l,title:s.valueSourcesPopupTitle}))},n.renderSep=function(e,t,r){var n=r.config,o=t.widgets,i=n.settings,a=o[e].sepText,l=i.showLabels?N.createElement("label",{className:"rule--label"}," "):null;return a&&N.createElement("div",{key:"widget-separators-"+e,className:Rr("widget--sep",0==e&&"widget--sep-first")},l,N.createElement("span",null,a))},n.renderWidgetDelta=function(e){return[n.renderSep(e,n.meta,n.props),n.renderValueSources(e,n.meta,n.props),n.renderWidget(e,n.meta,n.props)]},ND($(n)),n.onPropsChanged(e),n}return Y(r,[{key:"onPropsChanged",value:function(e){var t=this.props,r=!this.meta||["config","field","fieldSrc","fieldType","fieldFunc","fieldArg","leftField","operator","valueSrc","isFuncArg","asyncListValues","isLHS"].map((function(r){return e[r]!==t[r]||"isFuncArg"==r&&e.isFuncArg&&e.value!==t.value})).filter((function(e){return e})).length>0;r&&(this.meta=this.getMeta(e))}},{key:"getMeta",value:function(e){var t=this,r=e.config,n=e.field;e.fieldSrc;var o=e.fieldType,i=e.fieldFunc,a=e.fieldArg,l=e.operator,s=e.valueSrc,u=e.value,c=e.isForRuleGroup,d=e.isCaseValue,p=e.isFuncArg;e.leftField;var f=e.asyncListValues,h=p?{func:i,arg:a}:n,g=!n&&o,v=s,m=u;(p||c||d)&&(v=Sz([s]),m=Sz([u]));var y=mz(r,h);!y&&g&&(y=r.types[o]);var b,_=wz(r,h,l);!_&&g&&(_=null===(b=r.types[o])||void 0===b?void 0:b.mainWidget);var x=p?kz:yz(r,l,h);if((null==y||null==x)&&!d)return null;var w=null==x?void 0:x.isSpecialRange,O=w&&("field"==v.get(0)||"field"==v.get(1)),S=w&&!O,k=S?1:function(e,t){return void 0===e?t:e}(null==x?void 0:x.cardinality,1);if(0===k)return null;var j=xz(r,h,l,y);h||(j=Object.keys(r.settings.valueSourcesInfo));var E=sz(0,k).map((function(e){var n,o=v.get(e)||null,i=wz(r,h,l,o),a=bz(r,h,l,i,o);O&&(i=a.singleWidget,a=bz(r,h,l,i,o)),!a&&g&&(i=["func","field"].includes(o)?o:_,a=r.widgets[i]);var s=null===(n=a)||void 0===n?void 0:n.type,u=Oz(r,h,l,e,o,S),c=Oz(r,h,l,e,null,S),d=null!=x&&x.textSeparators?null==x?void 0:x.textSeparators[e]:null,p=t._onChangeValueSrc.bind(t,e),f=null,m=null;return w&&(f={placeholder:[(f=[Oz(r,h,l,0),Oz(r,h,l,1)])[0].placeholder,f[1].placeholder],label:[f[0].label,f[1].label]},m=null==x?void 0:x.textSeparators),{valueSrc:o,valueLabel:u,widget:i,sepText:d,setValueSrcHandler:p,widgetDefinition:a,widgetValueLabel:c,valueLabels:f,textSeparators:m,setValueHandler:t._setValue.bind(t,w,e,s)}}));return{defaultWidget:_,fieldDefinition:y,operatorDefinition:x,isSpecialRange:S,cardinality:k,valueSources:j,widgets:E,iValues:m,aField:h,asyncListValues:f}}},{key:"render",value:function(){if(!this.meta)return null;var e=this.meta,t=e.defaultWidget,r=e.cardinality;if(!t)return null;var n=t;return N.createElement(fV,{className:"rule--widget rule--widget--".concat(n.toUpperCase()),key:"widget-col-"+n},sz(0,r).map(this.renderWidgetDelta))}}]),r}(g.Component);function Ez(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(lF){return!1}}();return function(){var r,n=G(e);if(t){var o=G(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return K(this,r)}}jz.propTypes={config:it.object.isRequired,value:it.any,valueSrc:it.any,valueError:it.any,field:it.any,fieldSrc:it.string,fieldType:it.string,operator:it.string,readonly:it.bool,asyncListValues:it.array,id:it.string,groupId:it.string,setValue:it.func,setValueSrc:it.func,isFuncArg:it.bool,fieldFunc:it.string,fieldArg:it.string,leftField:it.any,isForRuleGroup:it.bool,parentField:it.string,parentFuncs:it.array,isLHS:it.bool,isCaseValue:it.bool};var Cz=YM.ConfigUtils.getFuncConfig,Tz=YM.FuncUtils,qz=Tz.setFunc,Az=Tz.setArgValue,Pz=Tz.setArgValueSrc,Iz=function(e){W(r,e);var t=Ez(r);function r(e){var n;return U(this,r),(n=t.call(this,e)).setFunc=function(e){n.props.setValue(qz(n.props.value,e,n.props.config))},n.setArgValue=function(e,t,r,o){var i=n.props.config,a=n.meta.funcDefinition.args[e];n.props.setValue(Az(n.props.value,e,t,a,i),r,o)},n.setArgValueSrc=function(e,t){var r=n.props.config,o=n.meta.funcDefinition.args[e];n.props.setValue(Pz(n.props.value,e,t,o,r))},n.renderFuncSelect=function(){var e=n.props,t=e.config,r=e.field,o=e.fieldType,i=e.fieldSrc,a=e.isLHS,l=e.operator,s=e.customProps,u=e.value,c=e.readonly,d=e.parentFuncs,p=e.id,f=e.groupId,h=e.isFuncArg,g=e.fieldDefinition,v={value:u?u.get("func"):null,setValue:n.setFunc,config:t,field:r,fieldType:o,fieldSrc:i,isLHS:a,operator:l,customProps:s,readonly:c,parentFuncs:d,isFuncArg:h,fieldDefinition:g,id:p,groupId:f},m=t.settings,y=m.showLabels,b=m.funcLabel,_=y?N.createElement("label",{className:"rule--label"},b):null;return N.createElement(fV,{key:"func",className:"rule--func"},_,N.createElement(FV,v))},n.renderArgLabel=function(e,t){var r=t.valueSources,o=t.type,i=t.showPrefix,a=t.label,l=n.props.config,s=r&&1==r.length&&"const"==r[0];return!l.settings.showLabels&&("boolean"==o||s)&&i?N.createElement(fV,{className:"rule--func--arg-label"},a||e):null},n.renderArgLabelSep=function(e,t){var r=t.valueSources,o=t.type,i=t.showPrefix,a=n.props.config,l=r&&1==r.length&&"const"==r[0];return!a.settings.showLabels&&("boolean"==o||l)&&i?N.createElement(fV,{className:"rule--func--arg-label-sep"},":"):null},n.renderArgVal=function(e,t,r){var o=n.props,i=o.config,a=o.field,l=o.fieldType,s=o.fieldSrc,u=o.isLHS;o.operator;var c=o.value,d=o.readonly,p=o.parentFuncs,f=o.id,h=o.groupId,g=c?c.getIn(["args",t]):null,v=g?g.get("value"):void 0,m=1==r.valueSources.length?r.valueSources[0]:void 0,y={config:i,fieldFunc:e,fieldArg:t,leftField:a,fieldType:l,fieldSrc:s,isLHS:u,operator:null,value:v,valueSrc:g?g.get("valueSrc")||m||"value":m,setValue:n.setArgValue,setValueSrc:n.setArgValueSrc,funcKey:e,argKey:t,argDefinition:r,readonly:d,parentFuncs:p,id:f,groupId:h};return N.createElement(fV,{className:"rule--func--arg-value"},N.createElement(Lz,y))},n.renderArgSep=function(e,t,r,n){var o=n.renderSeps;return r?N.createElement(fV,{className:"rule--func--arg-sep"},o?o[r-1]:", "):null},n.renderBracketBefore=function(e){var t=e.renderBrackets;return N.createElement(fV,{key:"before_args",className:"rule--func--bracket-before"},t?t[0]:"(")},n.renderBracketAfter=function(e){var t=e.renderBrackets;return N.createElement(fV,{key:"after_args",className:"rule--func--bracket-after"},t?t[1]:")")},n.renderFuncArgs=function(){var e=n.meta,t=e.funcDefinition,r=e.funcKey;if(!r)return null;var o=(t||{}).args;return o?N.createElement(N.Fragment,null,n.renderBracketBefore(t),N.createElement(fV,{key:"args",className:"rule--func--args"},Object.keys(o).map((function(e,i){return N.createElement(fV,{key:"arg-".concat(e,"-").concat(i),className:"rule--func--arg"},n.renderArgSep(e,o[e],i,t),n.renderArgLabel(e,o[e]),n.renderArgLabelSep(e,o[e]),n.renderArgVal(r,e,o[e]))}))),n.renderBracketAfter(t)):null},ND($(n)),n.onPropsChanged(e),n}return Y(r,[{key:"onPropsChanged",value:function(e){var t=this.props,r=!this.meta||["config","field","operator","value","fieldSrc","fieldType","isLHS"].map((function(r){return e[r]!==t[r]})).filter((function(e){return e})).length>0;r&&(this.meta=this.getMeta(e))}},{key:"getMeta",value:function(e){var t=e.config;e.field,e.operator;var r=e.value,n=r?r.get("func"):null;return{funcDefinition:n?Cz(t,n):null,funcKey:n}}},{key:"render",value:function(){return N.createElement(fV,{className:"rule--func--wrapper"},this.renderFuncSelect(),this.renderFuncArgs())}}]),r}(g.Component);Iz.propTypes={id:it.string,groupId:it.string,config:it.object.isRequired,field:it.any,fieldSrc:it.string,fieldType:it.string,operator:it.string,customProps:it.object,value:it.object,setValue:it.func.isRequired,readonly:it.bool,parentFuncs:it.array,fieldDefinition:it.object,isFuncArg:it.bool,isLHS:it.bool};var Lz=function(e){W(r,e);var t=Ez(r);function r(e){var n;return U(this,r),(n=t.call(this,e)).setValue=function(e,t,r,o,i){var a=n.props;(0,a.setValue)(a.argKey,t,o,i)},n.setValueSrc=function(e,t,r){var o=n.props;(0,o.setValueSrc)(o.argKey,t)},ND($(n)),n.onPropsChanged(e),n}return Y(r,[{key:"onPropsChanged",value:function(e){var t=this.props,r=!this.meta||["parentFuncs","funcKey","argKey"].map((function(r){return e[r]!==t[r]})).filter((function(e){return e})).length>0;r&&(this.meta=this.getMeta(e))}},{key:"getMeta",value:function(e){var t=e.parentFuncs,r=e.funcKey,n=e.argKey;return{parentFuncs:[].concat(lk(t||[]),[[r,n]])}}},{key:"render",value:function(){var e=this.meta.parentFuncs;return N.createElement(jz,w({},this.props,{setValue:this.setValue,setValueSrc:this.setValueSrc,isFuncArg:!0,parentFuncs:e}))}}]),r}(g.Component);function Nz(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(lF){return!1}}();return function(){var r,n=G(e);if(t){var o=G(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return K(this,r)}}Lz.propTypes={funcKey:it.string.isRequired,argKey:it.string.isRequired,setValue:it.func.isRequired,setValueSrc:it.func.isRequired,readonly:it.bool,isLHS:it.bool,parentFuncs:it.array,id:it.string,groupId:it.string};var Rz=function(e){W(r,e);var t=Nz(r);function r(){var e;U(this,r);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).renderField=function(){var t=e.props,r=t.config,n=t.classname,o=t.selectedField,i=t.selectedFieldSrc,a=t.selectedFieldType,l=t.setField,s=t.parentField,u=t.readonly,c=t.id,d=t.groupId;if(!["func","field"].includes(i))return"?";var p="func"===i?N.createElement(Iz,{isLHS:!0,config:r,value:o,fieldSrc:i,fieldType:a,parentField:s,setValue:l,readonly:u,id:c,groupId:d,key:"field-func-"+c}):N.createElement(jV,{config:r,selectedField:o,selectedFieldSrc:i,selectedFieldType:a,parentField:s,setField:l,customProps:r.settings.customFieldSelectProps,readonly:u,id:c,groupId:d,key:"field-"+c}),f="func"===i?r.settings.funcLabel:r.settings.fieldLabel,h=r.settings.showLabels&&"func"!==i&&N.createElement("label",{className:"rule--label"},f);return N.createElement("div",{key:i,className:n},h,p)},e.renderFieldSources=function(){var t=e.props,r=t.config,n=t.readonly,o=t.selectedFieldSrc,i=t.setFieldSrc,a=t.id,l=r.settings,s=l.fieldSources,u=l.valueSourcesInfo,c=l.renderValueSources,d=s.map((function(e){return[e,{label:u[e].label}]})),p=function(e){return c(e,r.ctx)},f=l.showLabels?N.createElement("label",{className:"rule--label"}," "):null;return s.length>1&&!n&&N.createElement("div",{key:"fieldsrc",className:"rule--fieldsrc"},f,N.createElement(p,{key:"fieldsrc-"+a,valueSources:d,valueSrc:o,config:r,setValueSrc:i,readonly:n,title:l.fieldSourcesPopupTitle}))},e}return Y(r,[{key:"render",value:function(){var e=this.props;e.classname;var t=e.canSelectFieldSource,r=t&&this.renderFieldSources(),n=this.renderField();return t?N.createElement(fV,{className:"rule--field-wrapper"},r,n):n}}]),r}(g.PureComponent),Mz=["factory"];function Fz(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(lF){return!1}}();return function(){var r,n=G(e);if(t){var o=G(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return K(this,r)}}var Dz=YM.ConfigUtils.getOperatorConfig,Vz=function(e){W(r,e);var t=Fz(r);function r(){return U(this,r),t.apply(this,arguments)}return Y(r,[{key:"render",value:function(){if(!this.props.selectedOperator)return null;var e=Dz(this.props.config,this.props.selectedOperator,this.props.selectedField);if(void 0===e.options)return null;var t=e.options,r=t.factory,n=Xr(t,Mz),o=r(Object.assign({},n,{config:this.props.config,field:this.props.selectedField,fieldSrc:this.props.selectedFieldSrc,operator:this.props.selectedOperator,options:this.props.operatorOptions,setOption:this.props.setOperatorOption,readonly:this.props.readonly}),this.props.config.ctx),i=this.props.selectedOperator;return N.createElement("div",{className:"rule--operator rule--operator--".concat(i.toUpperCase())},o)}}]),r}(g.PureComponent);function zz(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Bz(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?zz(Object(r),!0).forEach((function(t){y(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zz(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Hz(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(lF){return!1}}();return function(){var r,n=G(e);if(t){var o=G(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return K(this,r)}}Vz.propTypes={config:it.object.isRequired,operatorOptions:it.any.isRequired,selectedField:it.any,selectedFieldSrc:it.string,selectedOperator:it.string.isRequired,readonly:it.bool,setOperatorOption:it.func.isRequired};var Wz=YM.ConfigUtils,Uz=Wz.getFieldConfig,$z=Wz.getOperatorConfig,Yz=Wz.getFieldWidgetConfig,Gz=Wz.getFieldParts,Kz=YM.RuleUtils.isEmptyRuleProperties,Jz=function(e){W(r,e);var t=Hz(r);function r(e){var n;return U(this,r),n=t.call(this,e),ND($(n)),n.removeSelf=n.removeSelf.bind($(n)),n.setLock=n.setLock.bind($(n)),n.onPropsChanged(e),n}return Y(r,[{key:"onPropsChanged",value:function(e){var t=this.props,r=!this.meta||["selectedField","selectedFieldSrc","selectedFieldType","selectedOperator","config","reordableNodesCnt","isLocked"].map((function(r){return e[r]!==t[r]})).filter((function(e){return e})).length>0;r&&(this.meta=this.getMeta(e))}},{key:"getMeta",value:function(e){var t=e.selectedField,r=e.selectedFieldType,n=e.selectedOperator,o=e.config,i=e.reordableNodesCnt,a=e.isLocked,l=o.settings.keepInputOnChangeFieldSrc,s=Gz(t,o),u=Uz(o,t),c=u&&"!struct"==u.type,d=!!t||l&&r,p=d&&n,f=$z(o,n,t),h=f&&null!=f.options,g=Yz(o,t,n,null,null)||{},v=g.hideOperator;return{selectedFieldParts:s,selectedFieldWidgetConfig:g,showDragIcon:o.settings.canReorder&&i>1&&!a,showOperator:d&&!v,showOperatorLabel:d&&v&&g.operatorInlineLabel,showWidget:p&&!c,showOperatorOptions:p&&h}}},{key:"setLock",value:function(e){this.props.setLock(e)}},{key:"removeSelf",value:function(){var e=this,t=this.props,r=t.confirmFn,n=t.config,o=n.settings,i=o.renderConfirm,a=o.removeRuleConfirmOptions,l=function(){e.props.removeSelf()};a&&!this.isEmptyCurrentRule()?i.call(n.ctx,Bz(Bz({},a),{},{onOk:l,onCancel:null,confirmFn:r}),n.ctx):l()}},{key:"_buildWidgetProps",value:function(e){return{field:e.selectedField,fieldSrc:e.selectedFieldSrc,fieldType:e.selectedFieldType,operator:e.selectedOperator,operatorOptions:e.operatorOptions,value:e.value,valueType:e.valueType,valueSrc:e.valueSrc,asyncListValues:e.asyncListValues,valueError:e.valueError,parentField:e.parentField}}},{key:"isEmptyCurrentRule",value:function(){var e=this.props.config,t=this._buildWidgetProps(this.props);return Kz(t,e)}},{key:"renderField",value:function(){var e=this.props,t=e.config,r=e.isLocked,n=e.parentField,o=e.groupId,i=e.id,a=e.selectedFieldSrc,l=e.selectedField,s=e.selectedFieldType,u=e.setField,c=e.setFieldSrc,d=t.settings.immutableFieldsMode;return N.createElement(Rz,{key:"field",classname:Rr("func"==a?"rule--field--func":"rule--field"),config:t,canSelectFieldSource:!n,selectedField:l,selectedFieldSrc:a,selectedFieldType:s,setField:d?hV:u,setFieldSrc:d?hV:c,parentField:n,readonly:d||r,id:i,groupId:o})}},{key:"renderOperator",value:function(){var e=this.props,t=e.config,r=e.isLocked,n=this.meta,o=n.selectedFieldParts,i=n.selectedFieldWidgetConfig,a=n.showOperator,l=n.showOperatorLabel,s=t.settings.immutableOpsMode;return N.createElement(yV,{key:"operator",config:t,selectedField:this.props.selectedField,selectedFieldSrc:this.props.selectedFieldSrc,selectedFieldType:this.props.selectedFieldType,selectedOperator:this.props.selectedOperator,setOperator:s?hV:this.props.setOperator,selectedFieldParts:o,showOperator:a,showOperatorLabel:l,selectedFieldWidgetConfig:i,readonly:s||r,id:this.props.id,groupId:this.props.groupId})}},{key:"renderWidget",value:function(){var e=this.props,t=e.config,r=e.isLocked,n=this.meta.showWidget,o=t.settings.immutableValuesMode;if(!n)return null;var i=N.createElement(jz,w({key:"values"},this._buildWidgetProps(this.props),{config:t,setValue:o?hV:this.props.setValue,setValueSrc:o?hV:this.props.setValueSrc,readonly:o||r,id:this.props.id,groupId:this.props.groupId}));return N.createElement(fV,{key:"widget-for-"+this.props.selectedOperator,className:"rule--value"},i)}},{key:"renderOperatorOptions",value:function(){var e=this.props.config,t=this.meta.showOperatorOptions,r=e.settings,n=r.immutableOpsMode,o=r.immutableValuesMode;if(!t)return null;var i=N.createElement(Vz,{key:"operatorOptions",selectedField:this.props.selectedField,selectedOperator:this.props.selectedOperator,operatorOptions:this.props.operatorOptions,setOperatorOption:n?hV:this.props.setOperatorOption,config:e,readonly:o});return N.createElement(fV,{key:"op-options-for-"+this.props.selectedOperator,className:"rule--operator-options"},i)}},{key:"renderBeforeWidget",value:function(){var e=this.props.config,t=e.settings.renderBeforeWidget;return t&&N.createElement(fV,{key:"before-widget-for-"+this.props.selectedOperator,className:"rule--before-widget"},"function"==typeof t?t(this.props,e.ctx):t)}},{key:"renderAfterWidget",value:function(){var e=this.props.config,t=e.settings.renderAfterWidget;return t&&N.createElement(fV,{key:"after-widget-for-"+this.props.selectedOperator,className:"rule--after-widget"},"function"==typeof t?t(this.props,e.ctx):t)}},{key:"renderError",value:function(){var e=this.props,t=e.config,r=e.valueError,n=t.settings,o=n.renderRuleError,i=n.showErrorMessage,a=r&&r.toArray().filter((function(e){return!!e})).shift()||null;return i&&a&&N.createElement("div",{className:"rule--error"},o?o({error:a},t.ctx):a)}},{key:"renderDrag",value:function(){return this.meta.showDragIcon&&N.createElement("span",{key:"rule-drag-icon",className:"qb-drag-handler rule--drag-handler",onMouseDown:this.props.handleDraggerMouseDown},N.createElement(gV,null)," ")}},{key:"renderDel",value:function(){var e=this.props,t=e.config,r=e.isLocked,n=t.settings,o=n.deleteLabel,i=n.immutableGroupsMode,a=n.renderButton,l=n.canDeleteLocked,s=function(e){return a(e,t.ctx)};return!i&&(!r||r&&l)&&N.createElement(s,{type:"delRule",onClick:this.removeSelf,label:o,config:t})}},{key:"renderLock",value:function(){var e=this.props,t=e.config,r=e.isLocked,n=e.isTrueLocked,o=e.id,i=t.settings,a=i.lockLabel,l=i.lockedLabel,s=i.showLock,u=i.renderSwitch,c=function(e){return u(e,t.ctx)};return s&&!(r&&!n)&&N.createElement(c,{type:"lock",id:o,value:r,setValue:this.setLock,label:a,checkedLabel:l,hideLabel:!0,config:t})}},{key:"render",value:function(){var e=this.meta,t=e.showOperatorOptions,r=e.selectedFieldWidgetConfig,n=this.props,o=n.valueSrc,i=n.value,a=n.config,l="value"==o.first()&&!t&&1==i.size&&r.fullWidth,s=a.settings.renderButtonGroup,u=function(e){return s(e,a.ctx)},c=[this.renderField(),this.renderOperator(),this.renderBeforeWidget(),this.renderWidget(),this.renderAfterWidget(),this.renderOperatorOptions()],d=N.createElement("div",{key:"rule-body",className:Rr("rule--body",l&&"can--shrink--value")},c),p=this.renderError(),f=this.renderDrag(),h=this.renderLock(),g=this.renderDel();return N.createElement(N.Fragment,null,f,N.createElement("div",{className:"rule--body--wrapper"},d,p),N.createElement("div",{className:"rule--header"},N.createElement(u,{config:a},h,g)))}}]),r}(g.Component);Jz.propTypes={id:it.string.isRequired,groupId:it.string,selectedField:it.any,selectedFieldSrc:it.string,selectedFieldType:it.string,selectedOperator:it.string,operatorOptions:it.object,config:it.object.isRequired,value:it.any,valueSrc:it.any,valueType:it.any,asyncListValues:it.array,isDraggingMe:it.bool,isDraggingTempo:it.bool,parentField:it.string,valueError:it.any,isLocked:it.bool,isTrueLocked:it.bool,handleDraggerMouseDown:it.func,setField:it.func,setFieldSrc:it.func,setOperator:it.func,setOperatorOption:it.func,setLock:it.func,removeSelf:it.func,setValue:it.func,setValueSrc:it.func,reordableNodesCnt:it.number,totalRulesCnt:it.number,parentReordableNodesCnt:it.number};const Qz=function(e){var t=lD((function(e){return{dragging:e.dragging}}),null,null,{context:GM})(function(e){var t;return t=function(t){W(n,t);var r=$D(n);function n(e){var t;return U(this,n),(t=r.call(this,e)).dummyFn=function(){},t.removeSelf=function(){t.props.actions.removeRule(t.props.path)},t.setLock=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;t.props.actions.setLock(t.props.path,e)},t.setField=function(e,r,n){t.props.actions.setField(t.props.path,e,r,n)},t.setFieldSrc=function(e){t.props.actions.setFieldSrc(t.props.path,e)},t.setOperator=function(e){t.props.actions.setOperator(t.props.path,e)},t.setOperatorOption=function(e,r){t.props.actions.setOperatorOption(t.props.path,e,r)},t.setValue=function(e,r,n,o,i){t.props.actions.setValue(t.props.path,e,r,n,o,i)},t.setValueSrc=function(e,r){t.props.actions.setValueSrc(t.props.path,e,r)},t.pureShouldComponentUpdate=LD($(t)),t.dummyFn.isDummyFn=!0,t}return Y(n,[{key:"shouldComponentUpdate",value:function(e,t){var r=this.props,n=this.state,o=this.pureShouldComponentUpdate(e,t);if(o&&n==t&&r!=e){var i=(e.dragging.id||r.dragging.id)==e.id,a=[];for(var l in e){var s=e[l]!=r[l];"dragging"!=l||i||(s=!1),s&&a.push(l)}a.length||(o=!1)}return o}},{key:"render",value:function(){var t=this.props.dragging.id==this.props.id,r=YD(this.props.config,this.props.field),n=this.props.fieldType||(null==r?void 0:r.type)||null,o=this.props.config.settings.showErrorMessage;r&&r.type;var i=!t&&this.props.isDraggingTempo,a=this.props.valueError,l=a&&a.toArray().filter((function(e){return!!e})).shift()||null,s=null!=l&&o;return N.createElement("div",{className:Rr("group-or-rule-container","rule-container",s?"rule-with-error":null),"data-id":this.props.id},[t?N.createElement(e,{key:"dragging",id:this.props.id,groupId:this.props.groupId,isDraggingMe:!0,isDraggingTempo:!0,dragging:this.props.dragging,setField:this.dummyFn,setFieldSrc:this.dummyFn,setOperator:this.dummyFn,setOperatorOption:this.dummyFn,setLock:this.dummyFn,removeSelf:this.dummyFn,setValue:this.dummyFn,setValueSrc:this.dummyFn,selectedField:this.props.field||null,selectedFieldSrc:this.props.fieldSrc||"field",selectedFieldType:n,parentField:this.props.parentField||null,selectedOperator:this.props.operator||null,value:this.props.value||null,valueSrc:this.props.valueSrc||null,valueType:this.props.valueType||null,valueError:this.props.valueError||null,operatorOptions:this.props.operatorOptions,config:this.props.config,reordableNodesCnt:this.props.reordableNodesCnt,totalRulesCnt:this.props.totalRulesCnt,asyncListValues:this.props.asyncListValues,isLocked:this.props.isLocked,isTrueLocked:this.props.isTrueLocked,parentReordableNodesCnt:this.props.parentReordableNodesCnt}):null,N.createElement(e,{key:this.props.id,id:this.props.id,groupId:this.props.groupId,isDraggingMe:t,isDraggingTempo:i,onDragStart:this.props.onDragStart,setLock:i?this.dummyFn:this.setLock,removeSelf:i?this.dummyFn:this.removeSelf,setField:i?this.dummyFn:this.setField,setFieldSrc:i?this.dummyFn:this.setFieldSrc,setOperator:i?this.dummyFn:this.setOperator,setOperatorOption:i?this.dummyFn:this.setOperatorOption,setValue:i?this.dummyFn:this.setValue,setValueSrc:i?this.dummyFn:this.setValueSrc,selectedField:this.props.field||null,selectedFieldSrc:this.props.fieldSrc||"field",selectedFieldType:n,parentField:this.props.parentField||null,selectedOperator:this.props.operator||null,value:this.props.value||null,valueSrc:this.props.valueSrc||null,valueType:this.props.valueType||null,valueError:this.props.valueError||null,operatorOptions:this.props.operatorOptions,config:this.props.config,reordableNodesCnt:this.props.reordableNodesCnt,totalRulesCnt:this.props.totalRulesCnt,asyncListValues:this.props.asyncListValues,isLocked:this.props.isLocked,isTrueLocked:this.props.isTrueLocked,parentReordableNodesCnt:this.props.parentReordableNodesCnt})])}}]),n}(g.Component),t.propTypes={id:it.string.isRequired,groupId:it.string,config:it.object.isRequired,path:it.any.isRequired,operator:it.string,field:it.any,fieldSrc:it.string,fieldType:it.string,actions:it.object.isRequired,onDragStart:it.func,value:it.any,valueSrc:it.any,asyncListValues:it.array,valueError:it.any,operatorOptions:it.object,reordableNodesCnt:it.number,parentField:it.string,isLocked:it.bool,isTrueLocked:it.bool,dragging:it.object,isDraggingTempo:it.bool},t}(e));return t.displayName="ConnectedRuleContainer",t}(eV("rule")(vV(Jz)));var Xz=rz;var Zz=function(e,t,r){return e==e&&(void 0!==r&&(e=e<=r?e:r),void 0!==t&&(e=e>=t?e:t)),e},eB=NE,tB=function(e){var t=Xz(e),r=t%1;return t==t?r?t-r:t:0},rB=ME;const nB=h((function(e,t,r){return e=rB(e),r=null==r?0:Zz(tB(r),0,e.length),t=eB(t),e.slice(r,r+t.length)==t}));function oB(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(lF){return!1}}();return function(){var r,n=G(e);if(t){var o=G(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return K(this,r)}}var iB=YM.DefaultUtils.defaultGroupConjunction;const aB=function(e,t){var r=lD((function(e){return{dragging:e.dragging}}),null,null,{context:GM})(function(e,t){var r;return r=function(r){W(o,r);var n=oB(o);function o(e){var r;return U(this,o),(r=n.call(this,e))._selectedConjunction=function(e){return(e=e||r.props).conjunction||iB(e.config,e.field)},r.setConjunction=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;r.props.actions.setConjunction(r.props.path,e)},r.setNot=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;r.props.actions.setNot(r.props.path,e)},r.setLock=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;r.props.actions.setLock(r.props.path,e)},r.dummyFn=function(){},r.removeSelf=function(){r.props.actions.removeGroup(r.props.path)},r.addGroup=function(){r.props.actions.addGroup(r.props.path)},r.addCaseGroup=function(){r.props.actions.addCaseGroup(r.props.path)},r.addDefaultCaseGroup=function(){r.props.actions.addDefaultCaseGroup(r.props.path)},r.addRule=function(){var e="rule_group"==t?r.props.field:null;r.props.actions.addRule(r.props.path,void 0,void 0,void 0,e)},r.setField=function(e,t,n){r.props.actions.setField(r.props.path,e,t,n)},r.setOperator=function(e){r.props.actions.setOperator(r.props.path,e)},r.setValue=function(e,t,n){r.props.actions.setValue(r.props.path,e,t,n)},r.pureShouldComponentUpdate=LD($(r)),ND($(r)),r.selectedConjunction=r._selectedConjunction(e),r.conjunctionOptions=r._getConjunctionOptions(e),r.dummyFn.isDummyFn=!0,r}return Y(o,[{key:"shouldComponentUpdate",value:function(e,t){var r=this.props,n=this.state,o=this.pureShouldComponentUpdate(e,t);if(o&&n==t&&r!=e){var i=(e.dragging.id||r.dragging.id)==e.id,a=[];for(var l in e){var s=e[l]!=r[l];"dragging"!=l||i||(s=!1),s&&a.push(l)}a.length||(o=!1)}return o}},{key:"onPropsChanged",value:function(e){var t=e.config;e.id;var r=e.conjunction,n=this.props.config,o=this.props.conjunction;n==t&&o==r||(this.selectedConjunction=this._selectedConjunction(e),this.conjunctionOptions=this._getConjunctionOptions(e))}},{key:"_getConjunctionOptions",value:function(e){var t=this;return TM(e.config.conjunctions,(function(r,n){return{id:"conjunction-".concat(e.id,"-").concat(n),name:"conjunction[".concat(e.id,"]"),key:n,label:r.label,checked:n===t._selectedConjunction(e)}}))}},{key:"render",value:function(){var t=this.props.dragging.id==this.props.id,r=this.props.path.size,n=this.props.config.settings.maxNesting,o=!t&&this.props.isDraggingTempo,i=this.props.fieldType||null,a=void 0===n||r<n,l=1==r;return N.createElement("div",{className:"group-or-rule-container group-container","data-id":this.props.id},[t?N.createElement(e,{key:"dragging",id:this.props.id,groupId:this.props.groupId,isDraggingMe:!0,isDraggingTempo:!0,dragging:this.props.dragging,isRoot:l,allowFurtherNesting:a,conjunctionOptions:this.conjunctionOptions,not:this.props.not,selectedConjunction:this.selectedConjunction,setConjunction:this.dummyFn,setNot:this.dummyFn,setLock:this.dummyFn,removeSelf:this.dummyFn,addGroup:this.dummyFn,addCaseGroup:this.dummyFn,addDefaultCaseGroup:this.dummyFn,addRule:this.dummyFn,setField:this.dummyFn,setOperator:this.dummyFn,setValue:this.dummyFn,value:this.props.value||null,config:this.props.config,children1:this.props.children1,actions:this.props.actions,reordableNodesCnt:this.props.reordableNodesCnt,totalRulesCnt:this.props.totalRulesCnt,selectedField:this.props.field||null,selectedFieldSrc:this.props.fieldSrc||"field",selectedFieldType:i,parentField:this.props.parentField||null,selectedOperator:this.props.operator||null,isLocked:this.props.isLocked,isTrueLocked:this.props.isTrueLocked,parentReordableNodesCnt:this.props.parentReordableNodesCnt}):null,N.createElement(e,{key:this.props.id,id:this.props.id,groupId:this.props.groupId,isDraggingMe:t,isDraggingTempo:o,onDragStart:this.props.onDragStart,isRoot:l,allowFurtherNesting:a,conjunctionOptions:this.conjunctionOptions,not:this.props.not,selectedConjunction:this.selectedConjunction,setConjunction:o?this.dummyFn:this.setConjunction,setNot:o?this.dummyFn:this.setNot,setLock:o?this.dummyFn:this.setLock,removeSelf:o?this.dummyFn:this.removeSelf,addGroup:o?this.dummyFn:this.addGroup,addCaseGroup:o?this.dummyFn:this.addCaseGroup,addDefaultCaseGroup:o?this.dummyFn:this.addDefaultCaseGroup,addRule:o?this.dummyFn:this.addRule,setField:o?this.dummyFn:this.setField,setOperator:o?this.dummyFn:this.setOperator,setValue:o?this.dummyFn:this.setValue,value:this.props.value||null,config:this.props.config,children1:this.props.children1,actions:this.props.actions,reordableNodesCnt:this.props.reordableNodesCnt,totalRulesCnt:this.props.totalRulesCnt,selectedField:this.props.field||null,selectedFieldSrc:this.props.fieldSrc||"field",selectedFieldType:i,parentField:this.props.parentField||null,selectedOperator:this.props.operator||null,isLocked:this.props.isLocked,isTrueLocked:this.props.isTrueLocked,parentReordableNodesCnt:this.props.parentReordableNodesCnt})])}}]),o}(g.Component),r.propTypes={config:it.object.isRequired,actions:it.object.isRequired,path:it.any.isRequired,id:it.string.isRequired,groupId:it.string,not:it.bool,conjunction:it.string,children1:it.any,onDragStart:it.func,reordableNodesCnt:it.number,field:it.any,fieldSrc:it.string,fieldType:it.string,parentField:it.string,isLocked:it.bool,isTrueLocked:it.bool,dragging:it.object,isDraggingTempo:it.bool},r}(e,t));return r.displayName="ConnectedGroupContainer",r};function lB(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(lF){return!1}}();return function(){var r,n=G(e);if(t){var o=G(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return K(this,r)}}var sB={topLeft:"group--actions--tl",topCenter:"group--actions--tc",topRight:"group--actions--tr",bottomLeft:"group--actions--bl",bottomCenter:"group--actions--bc",bottomRight:"group--actions--br"},uB=function(e){W(r,e);var t=lB(r);function r(){return U(this,r),t.apply(this,arguments)}return Y(r,[{key:"render",value:function(){var e=this.props,t=e.config,r=e.addRule,n=e.addGroup,o=e.removeSelf,i=e.setLock,a=e.isLocked,l=e.isTrueLocked,s=e.id,u=e.canAddGroup,c=e.canAddRule,d=e.canDeleteGroup,p=t.settings,f=p.immutableGroupsMode,h=p.addRuleLabel,g=p.addGroupLabel,v=p.delGroupLabel,m=p.groupActionsPosition,y=p.renderButton,b=p.renderSwitch,_=p.renderButtonGroup,x=p.lockLabel,w=p.lockedLabel,O=p.showLock,S=p.canDeleteLocked,k=function(e){return y(e,t.ctx)},j=function(e){return b(e,t.ctx)},E=function(e){return _(e,t.ctx)},C=sB[m||"topRight"],T=O&&!(a&&!l)&&N.createElement(j,{type:"lock",id:s,value:a,setValue:i,label:x,checkedLabel:w,config:t}),q=!f&&c&&!a&&N.createElement(k,{type:"addRule",onClick:r,label:h,readonly:a,config:t}),A=!f&&u&&!a&&N.createElement(k,{type:"addGroup",onClick:n,label:g,readonly:a,config:t}),P=!f&&d&&(!a||a&&S)&&N.createElement(k,{type:"delGroup",onClick:o,label:v,config:t});return N.createElement("div",{className:"group--actions ".concat(C)},N.createElement(E,{config:t},T,q,A,P))}}]),r}(g.PureComponent);function cB(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function dB(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?cB(Object(r),!0).forEach((function(t){y(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cB(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function pB(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(lF){return!1}}();return function(){var r,n=G(e);if(t){var o=G(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return K(this,r)}}var fB=YM.RuleUtils.isEmptyGroupChildren,hB=function(e){W(r,e);var t=pB(r);function r(e){var n;return U(this,r),(n=t.call(this,e)).childrenClassName=function(){return""},n.renderBeforeActions=function(){var e=n.props.config.settings.renderBeforeActions;return null==e?null:"function"==typeof e?e(n.props,n.props.config.ctx):e},n.renderAfterActions=function(){var e=n.props.config.settings.renderAfterActions;return null==e?null:"function"==typeof e?e(n.props,n.props.config.ctx):e},n.removeSelf=n.removeSelf.bind($(n)),n.setLock=n.setLock.bind($(n)),n.renderItem=n.renderItem.bind($(n)),n}return Y(r,[{key:"isGroupTopPosition",value:function(){return nB(this.props.config.settings.groupActionsPosition||"topRight","top")}},{key:"setLock",value:function(e){this.props.setLock(e)}},{key:"removeSelf",value:function(){var e=this,t=this.props,r=t.confirmFn,n=t.config,o=n.settings,i=o.renderConfirm,a=o.removeGroupConfirmOptions,l=function(){e.props.removeSelf()};a&&!this.isEmptyCurrentGroup()?i.call(n.ctx,dB(dB({},a),{},{onOk:l,onCancel:null,confirmFn:r}),n.ctx):l()}},{key:"isEmptyCurrentGroup",value:function(){var e=this.props,t=e.children1,r=e.config;return fB(t,r)}},{key:"render",value:function(){return N.createElement(N.Fragment,null,this.renderHeaderWrapper(),this.renderChildrenWrapper(),this.renderFooterWrapper())}},{key:"showNot",value:function(){return this.props.config.settings.showNot}},{key:"showConjs",value:function(){var e=this.props,t=e.conjunctionOptions;return e.children1,e.config,Object.keys(t).length>1||this.showNot()}},{key:"isNoChildren",value:function(){var e=this.props.children1;return!e||0==e.size}},{key:"isOneChild",value:function(){var e=this.props.children1;return!e||e.size<2}},{key:"renderChildrenWrapper",value:function(){return this.props.children1&&N.createElement("div",{key:"group-children",className:Rr("group--children",this.showConjs()?"":"hide--conjs",this.isOneChild()?"hide--line":"",this.isOneChild()?"one--child":"",this.childrenClassName())},this.renderChildren())}},{key:"renderHeaderWrapper",value:function(){var e=this.isGroupTopPosition();return N.createElement("div",{key:"group-header",className:Rr("group--header",this.isOneChild()?"one--child":"",this.showConjs()?"":"hide--conjs",this.isOneChild()?"hide--line":"",this.isNoChildren()?"no--children":"")},this.renderHeader(),e&&this.renderBeforeActions(),e&&this.renderActions(),e&&this.renderAfterActions())}},{key:"renderFooterWrapper",value:function(){return!this.isGroupTopPosition()&&N.createElement("div",{key:"group-footer",className:"group--footer"},this.renderBeforeActions(),this.renderActions(),this.renderAfterActions())}},{key:"renderActions",value:function(){var e=this.props,t=e.config,r=e.addRule,n=e.addGroup,o=e.isLocked,i=e.isTrueLocked,a=e.id;return N.createElement(uB,{config:t,addRule:r,addGroup:n,canAddGroup:this.canAddGroup(),canAddRule:this.canAddRule(),canDeleteGroup:this.canDeleteGroup(),removeSelf:this.removeSelf,setLock:this.setLock,isLocked:o,isTrueLocked:i,id:a})}},{key:"canAddGroup",value:function(){return this.props.allowFurtherNesting}},{key:"canAddRule",value:function(){var e=this.props.config.settings.maxNumberOfRules,t=this.props.totalRulesCnt;return!e||t<e}},{key:"canDeleteGroup",value:function(){return!this.props.isRoot}},{key:"renderChildren",value:function(){var e=this.props.children1;return e?e.map(this.renderItem).toList():null}},{key:"renderItem",value:function(e){var t=this.props,r=t.config,n=t.actions,o=t.onDragStart,i=t.isLocked,a="group"==e.get("type")&&null!=e.getIn(["properties","field"])?"rule_group":e.get("type");return N.createElement(oH,w({},this.extraPropsForItem(e),{key:e.get("id"),id:e.get("id"),groupId:t.id,path:e.get("path"),type:a,properties:e.get("properties"),config:r,actions:n,children1:e.get("children1"),reordableNodesCnt:this.reordableNodesCntForItem(e),totalRulesCnt:this.totalRulesCntForItem(e),parentReordableNodesCnt:this.reordableNodesCnt(),onDragStart:o,isDraggingTempo:this.props.isDraggingTempo,isParentLocked:i}))}},{key:"extraPropsForItem",value:function(e){return{}}},{key:"reordableNodesCnt",value:function(){return this.props.isLocked?0:this.props.reordableNodesCnt}},{key:"totalRulesCntForItem",value:function(e){return this.props.totalRulesCnt}},{key:"reordableNodesCntForItem",value:function(e){return this.props.isLocked?0:this.reordableNodesCnt()}},{key:"showDragIcon",value:function(){var e=this.props,t=e.config,r=e.isRoot,n=e.isLocked,o=this.reordableNodesCnt();return t.settings.canReorder&&!r&&o>1&&!n}},{key:"renderDrag",value:function(){var e=this.props.handleDraggerMouseDown;return this.showDragIcon()&&N.createElement("span",{key:"group-drag-icon",className:"qb-drag-handler group--drag-handler",onMouseDown:e},N.createElement(gV,null)," ")}},{key:"conjunctionOptions",value:function(){var e=this.props.conjunctionOptions;return e}},{key:"renderConjs",value:function(){var e=this.props,t=e.config,r=e.children1,n=e.id,o=e.selectedConjunction,i=e.setConjunction,a=e.not,l=e.setNot,s=e.isLocked,u=t.settings,c=u.immutableGroupsMode,d=u.renderConjs;u.showNot;var p=u.notLabel,f=this.conjunctionOptions();return this.showConjs()&&r&&r.size?d({disabled:this.isOneChild(),readonly:c||s,selectedConjunction:o,setConjunction:c?hV:i,conjunctionOptions:f,config:t,not:a||!1,id:n,setNot:c?hV:l,notLabel:p,showNot:this.showNot(),isLocked:s},t.ctx):null}},{key:"renderHeader",value:function(){return N.createElement("div",{className:"group--conjunctions"},this.renderConjs(),this.renderDrag())}}]),r}(g.Component);hB.propTypes={reordableNodesCnt:it.number,conjunctionOptions:it.object.isRequired,allowFurtherNesting:it.bool.isRequired,isRoot:it.bool.isRequired,not:it.bool,selectedConjunction:it.string,config:it.object.isRequired,id:it.string.isRequired,groupId:it.string,path:it.any,children1:it.any,isDraggingMe:it.bool,isDraggingTempo:it.bool,isLocked:it.bool,isTrueLocked:it.bool,handleDraggerMouseDown:it.func,onDragStart:it.func,addRule:it.func.isRequired,addGroup:it.func.isRequired,removeSelf:it.func.isRequired,setConjunction:it.func.isRequired,setNot:it.func.isRequired,setLock:it.func.isRequired,actions:it.object.isRequired};const gB=aB(eV("group")(vV(hB)),"group");function vB(){return vB="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=G(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},vB.apply(this,arguments)}function mB(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(lF){return!1}}();return function(){var r,n=G(e);if(t){var o=G(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return K(this,r)}}var yB=function(e){W(r,e);var t=mB(r);function r(){return U(this,r),t.apply(this,arguments)}return Y(r,[{key:"render",value:function(){var e=this.props,t=e.config,r=e.addRule,n=e.canAddRule,o=e.canDeleteGroup,i=e.removeSelf,a=e.setLock,l=e.isLocked,s=e.isTrueLocked,u=e.id,c=t.settings,d=c.immutableGroupsMode,p=c.addRuleLabel,f=c.delGroupLabel,h=c.renderButton,g=c.renderSwitch,v=c.renderButtonGroup,m=c.lockLabel,y=c.lockedLabel,b=c.showLock,_=c.canDeleteLocked,x=function(e){return h(e,t.ctx)},w=function(e){return g(e,t.ctx)},O=function(e){return v(e,t.ctx)},S=b&&!(l&&!s)&&N.createElement(w,{type:"lock",id:u,value:l,setValue:a,label:m,checkedLabel:y,hideLabel:!0,config:t}),k=!d&&n&&!l&&N.createElement(x,{type:"addRuleGroup",onClick:r,label:p,readonly:l,config:t}),j=!d&&o&&(!l||l&&_)&&N.createElement(x,{type:"delRuleGroup",onClick:i,label:f,config:t});return N.createElement("div",{className:"group--actions"},N.createElement(O,{config:t},S,k,j))}}]),r}(g.PureComponent);function bB(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _B(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?bB(Object(r),!0).forEach((function(t){y(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bB(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function xB(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(lF){return!1}}();return function(){var r,n=G(e);if(t){var o=G(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return K(this,r)}}var wB=function(e){W(r,e);var t=xB(r);function r(e){var n;return U(this,r),(n=t.call(this,e)).childrenClassName=function(){return"rule_group--children"},n.renderHeaderWrapper=function(){return null},n.renderFooterWrapper=function(){return null},n.renderConjs=function(){return null},n.canAddGroup=function(){return!1},n.canAddRule=function(){return!0},n.canDeleteGroup=function(){return!1},ND($(n)),n.onPropsChanged(e),n}return Y(r,[{key:"onPropsChanged",value:function(e){}},{key:"reordableNodesCntForItem",value:function(e){if(this.props.isLocked)return 0;var t=this.props.children1;return(null==t?void 0:t.size)||0}},{key:"renderChildrenWrapper",value:function(){return N.createElement(N.Fragment,null,this.renderDrag(),this.renderField(),this.renderActions(),vB(G(r.prototype),"renderChildrenWrapper",this).call(this))}},{key:"renderField",value:function(){var e=this.props,t=e.config,r=e.selectedField,n=e.selectedFieldSrc,o=e.selectedFieldType,i=e.setField,a=e.setFieldSrc,l=e.parentField,s=e.id,u=e.groupId,c=e.isLocked,d=t.settings.immutableFieldsMode;return N.createElement(Rz,{key:"field",classname:"group--field",config:t,canSelectFieldSource:!1,selectedField:r,selectedFieldSrc:n,selectedFieldType:o,setField:i,setFieldSrc:a,parentField:l,readonly:d||c,id:s,groupId:u})}},{key:"renderActions",value:function(){var e=this.props,t=e.config,r=e.addRule,n=e.isLocked,o=e.isTrueLocked,i=e.id;return N.createElement(yB,{config:t,addRule:r,canAddRule:this.canAddRule(),canDeleteGroup:this.canDeleteGroup(),removeSelf:this.removeSelf,setLock:this.setLock,isLocked:n,isTrueLocked:o,id:i})}},{key:"extraPropsForItem",value:function(e){return{parentField:this.props.selectedField}}}]),r}(hB);wB.propTypes=_B(_B({},hB.propTypes),{},{selectedField:it.any,selectedFieldSrc:it.string,parentField:it.string,setField:it.func,setFieldSrc:it.func});const OB=aB(eV("group rule_group")(vV(wB)),"rule_group");function SB(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(lF){return!1}}();return function(){var r,n=G(e);if(t){var o=G(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return K(this,r)}}var kB=function(e){W(r,e);var t=SB(r);function r(){return U(this,r),t.apply(this,arguments)}return Y(r,[{key:"render",value:function(){var e=this.props,t=e.config,r=e.addRule,n=e.canAddRule,o=e.canDeleteGroup,i=e.removeSelf,a=e.setLock,l=e.isLocked,s=e.isTrueLocked,u=e.id,c=t.settings,d=c.immutableGroupsMode,p=c.addSubRuleLabel,f=c.delGroupLabel,h=c.renderButton,g=c.renderSwitch,v=c.renderButtonGroup,m=c.lockLabel,y=c.lockedLabel,b=c.showLock,_=c.canDeleteLocked,x=function(e){return h(e,t.ctx)},w=function(e){return g(e,t.ctx)},O=function(e){return v(e,t.ctx)},S=b&&!(l&&!s)&&N.createElement(w,{type:"lock",id:u,value:l,setValue:a,label:m,checkedLabel:y,config:t}),k=!d&&n&&!l&&N.createElement(x,{type:"addRuleGroupExt",onClick:r,label:p,readonly:l,config:t}),j=!d&&o&&(!l||l&&_)&&N.createElement(x,{type:"delRuleGroup",onClick:i,label:f,config:t});return N.createElement("div",{className:"group--actions group--actions--tr"},N.createElement(O,{config:t},S,k,j))}}]),r}(g.PureComponent);function jB(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function EB(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?jB(Object(r),!0).forEach((function(t){y(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):jB(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function CB(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return TB(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return TB(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,l=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){l=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(l)throw i}}}}function TB(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function qB(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(lF){return!1}}();return function(){var r,n=G(e);if(t){var o=G(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return K(this,r)}}var AB=YM.ConfigUtils,PB=AB.getFieldConfig,IB=AB.getFieldWidgetConfig,LB=YM.RuleUtils.isEmptyRuleGroupExtPropertiesAndChildren,NB=function(e){W(r,e);var t=qB(r);function r(e){var n;return U(this,r),(n=t.call(this,e)).childrenClassName=function(){return"rule_group_ext--children"},n.renderFooterWrapper=function(){return null},n.canAddGroup=function(){return!1},n.canAddRule=function(){return!0},n.canDeleteGroup=function(){return!0},ND($(n)),n.onPropsChanged(e),n}return Y(r,[{key:"onPropsChanged",value:function(e){}},{key:"renderHeaderWrapper",value:function(){return N.createElement("div",{key:"group-header",className:Rr("group--header",this.isOneChild()?"one--child":"",this.isOneChild()?"hide--line":"",this.isNoChildren()?"no--children":"",this.showDragIcon()?"with--drag":"hide--drag",!this.showConjs()||this.isOneChild()&&!this.showNot()?"hide--conjs":"with--conjs")},this.renderHeader(),this.renderGroupField(),this.renderActions())}},{key:"renderHeader",value:function(){return N.createElement("div",{className:"group--conjunctions"},this.renderConjs(),this.renderDrag())}},{key:"renderGroupField",value:function(){return N.createElement("div",{className:"group--field--count--rule"},this.renderField(),this.renderOperator(),this.renderWidget())}},{key:"showNot",value:function(){var e=this.props,t=e.config,r=e.selectedField;e.selectedOperator;var n=PB(t,r)||{};return null!=n.showNot?n.showNot:t.settings.showNot}},{key:"conjunctionOptions",value:function(){var e=this.props,t=e.config,n=e.selectedField;e.selectedOperator;var o=PB(t,n)||{},i=vB(G(r.prototype),"conjunctionOptions",this).call(this);if(o.conjunctions){var a,l={},s=CB(o.conjunctions);try{for(s.s();!(a=s.n()).done;){var u=a.value;l[u]=i[u]}}catch(c){s.e(c)}finally{s.f()}i=l}return i}},{key:"renderField",value:function(){var e=this.props,t=e.config,r=e.selectedField,n=e.selectedFieldSrc,o=e.selectedFieldType,i=e.setField,a=e.setFieldSrc,l=e.parentField,s=e.id,u=e.groupId,c=e.isLocked,d=t.settings.immutableFieldsMode;return N.createElement(Rz,{key:"field",classname:"rule--field",config:t,canSelectFieldSource:!1,selectedField:r,selectedFieldSrc:n,selectedFieldType:o,setField:i,setFieldSrc:a,parentField:l,readonly:d||c,id:s,groupId:u})}},{key:"renderOperator",value:function(){var e=this.props,t=e.config,r=e.selectedField,n=e.selectedFieldSrc,o=e.selectedOperator;e.setField;var i=e.setOperator,a=e.isLocked,l=t.settings.immutableFieldsMode,s=IB(t,r,o)||{},u=s.hideOperator,c=r&&u&&s.operatorInlineLabel,d=r&&!u;return N.createElement(yV,{key:"operator",classname:"group--operator",config:t,selectedField:r,selectedFieldSrc:n,selectedOperator:o,setOperator:i,selectedFieldPartsLabels:["group"],showOperator:d,showOperatorLabel:c,selectedFieldWidgetConfig:s,readonly:l||a,id:this.props.id,groupId:this.props.groupId})}},{key:"isEmptyCurrentGroup",value:function(){var e=this.props,t=e.children1,r=e.config,n=this._buildWidgetProps(this.props);return LB(n,t,r)}},{key:"_buildWidgetProps",value:function(e){var t=e.selectedField,r=e.selectedFieldSrc,n=e.selectedFieldType,o=e.selectedOperator,i=e.operatorOptions,a=e.value,l=e.valueType;return e.valueSrc,e.asyncListValues,e.valueError,{field:t,fieldSrc:r,fieldType:n,operator:o,operatorOptions:i,value:a,valueType:l,valueSrc:["value"],valueError:null,parentField:e.parentField}}},{key:"renderWidget",value:function(){var e=this.props,t=e.config,r=e.selectedField,n=e.selectedOperator,o=e.isLocked,i=t.settings.immutableValuesMode;if(!(r&&n))return null;var a=N.createElement(jz,w({key:"values",isForRuleGroup:!0},this._buildWidgetProps(this.props),{config:t,setValue:i?hV:this.props.setValue,setValueSrc:hV,readonly:i||o,id:this.props.id,groupId:this.props.groupId}));return N.createElement(fV,{key:"widget-for-"+this.props.selectedOperator,className:"rule--value"},a)}},{key:"renderActions",value:function(){var e=this.props,t=e.config,r=e.addRule,n=e.isLocked,o=e.isTrueLocked,i=e.id;return N.createElement(kB,{config:t,addRule:r,canAddRule:this.canAddRule(),canDeleteGroup:this.canDeleteGroup(),removeSelf:this.removeSelf,setLock:this.setLock,isLocked:n,isTrueLocked:o,id:i})}},{key:"reordableNodesCntForItem",value:function(e){if(this.props.isLocked)return 0;var t=this.props.children1;return(null==t?void 0:t.size)||0}},{key:"extraPropsForItem",value:function(e){return{parentField:this.props.selectedField}}}]),r}(hB);NB.propTypes=EB(EB({},hB.propTypes),{},{selectedField:it.any,selectedFieldSrc:it.string,selectedOperator:it.string,value:it.any,parentField:it.string,setField:it.func,setFieldSrc:it.func,setOperator:it.func,setValue:it.func});const RB=aB(eV("group rule_group_ext")(vV(NB)),"rule_group");function MB(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(lF){return!1}}();return function(){var r,n=G(e);if(t){var o=G(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return K(this,r)}}var FB={topLeft:"group--actions--tl",topCenter:"group--actions--tc",topRight:"group--actions--tr",bottomLeft:"group--actions--bl",bottomCenter:"group--actions--bc",bottomRight:"group--actions--br"},DB=function(e){W(r,e);var t=MB(r);function r(){return U(this,r),t.apply(this,arguments)}return Y(r,[{key:"render",value:function(){var e=this.props,t=e.config,r=e.addCaseGroup,n=e.addDefaultCaseGroup,o=e.setLock,i=e.isLocked,a=e.isTrueLocked,l=e.id,s=e.canAddGroup,u=e.canAddDefault,c=t.settings,d=c.immutableGroupsMode,p=c.addCaseLabel,f=c.addDefaultCaseLabel,h=c.groupActionsPosition,g=c.renderButton,v=c.renderSwitch,m=c.renderButtonGroup,y=c.lockLabel,b=c.lockedLabel,_=c.showLock,x=function(e){return g(e,t.ctx)},w=function(e){return v(e,t.ctx)},O=function(e){return m(e,t.ctx)},S=FB[h||"topRight"],k=_&&!(i&&!a)&&N.createElement(w,{type:"lock",id:l,value:i,setValue:o,label:y,checkedLabel:b,config:t}),j=!d&&s&&!i&&N.createElement(x,{type:"addCaseGroup",onClick:r,label:p,readonly:i,config:t}),E=!d&&u&&!i&&N.createElement(x,{type:"addDefaultCaseGroup",onClick:n,label:f,readonly:i,config:t});return N.createElement("div",{className:"group--actions ".concat(S)},N.createElement(O,{config:t},k,j,E))}}]),r}(g.PureComponent);function VB(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function zB(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(lF){return!1}}();return function(){var r,n=G(e);if(t){var o=G(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return K(this,r)}}var BB=YM.TreeUtils,HB=BB.getTotalReordableNodesCountInTree,WB=BB.getTotalRulesCountInTree,UB=function(e){W(r,e);var t=zB(r);function r(e){var n;return U(this,r),(n=t.call(this,e)).childrenClassName=function(){return"switch_group--children"},n.renderFooterWrapper=function(){return null},n.hasDefaultCase=function(){var e;return(null===(e=n.props.children1)||void 0===e?void 0:e.size)&&n.props.children1.filter((function(e){return null==e.get("children1")})).size>0},ND($(n)),n.onPropsChanged(e),n}return Y(r,[{key:"onPropsChanged",value:function(e){}},{key:"canAddGroup",value:function(){var e,t=this.props.config.settings.maxNumberOfCases,r=(null===(e=this.props.children1)||void 0===e?void 0:e.size)||0;return!t||r<t}},{key:"canAddRule",value:function(){return!1}},{key:"reordableNodesCnt",value:function(){var e,t=(null===(e=this.props.children1)||void 0===e?void 0:e.size)||0;return this.hasDefaultCase()&&t--,t}},{key:"totalRulesCntForItem",value:function(e){return WB(e)}},{key:"reordableNodesCntForItem",value:function(e){var t;if(this.props.isLocked)return 0;var r=this.props.config.settings,n=r.canLeaveEmptyCase,o=r.canRegroupCases,i=(null===(t=this.props.children1)||void 0===t?void 0:t.size)||0;this.hasDefaultCase()&&i--;var a=HB(e);return 1==a&&o&&n&&i>1&&(a=111),a}},{key:"renderHeaderWrapper",value:function(){return N.createElement("div",{key:"group-header",className:Rr("group--header",this.isOneChild()?"one--child":"",this.isOneChild()?"hide--line":"",this.isNoChildren()?"no--children":"",this.showDragIcon()?"with--drag":"hide--drag")},this.renderHeader(),this.renderActions())}},{key:"renderHeader",value:function(){return N.createElement("div",{className:"group--conjunctions"},this.renderConjs(),this.renderDrag())}},{key:"renderConjs",value:function(){return this.props.config.settings.renderSwitchPrefix||null}},{key:"showNot",value:function(){return!1}},{key:"renderActions",value:function(){var e=this.props,t=e.config,r=e.addCaseGroup,n=e.addDefaultCaseGroup,o=e.isLocked,i=e.isTrueLocked,a=e.id;return N.createElement(DB,{config:t,addCaseGroup:r,addDefaultCaseGroup:n,canAddDefault:!this.hasDefaultCase(),canAddGroup:this.canAddGroup(),setLock:this.setLock,isLocked:o,isTrueLocked:i,id:a})}}]),r}(hB);UB.propTypes=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?VB(Object(r),!0).forEach((function(t){y(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VB(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},hB.propTypes);const $B=aB(eV("group switch_group")(vV(UB)),"switch_group");function YB(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function GB(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?YB(Object(r),!0).forEach((function(t){y(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):YB(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function KB(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(lF){return!1}}();return function(){var r,n=G(e);if(t){var o=G(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return K(this,r)}}var JB=function(e){W(r,e);var t=KB(r);function r(e){var n;return U(this,r),(n=t.call(this,e)).childrenClassName=function(){return"case_group--children"},n.renderFooterWrapper=function(){return null},ND($(n)),n.onPropsChanged(e),n}return Y(r,[{key:"onPropsChanged",value:function(e){}},{key:"isDefaultCase",value:function(){return null==this.props.children1}},{key:"reordableNodesCnt",value:function(){return this.props.parentReordableNodesCnt}},{key:"reordableNodesCntForItem",value:function(e){return this.props.isLocked?0:this.props.reordableNodesCnt}},{key:"totalRulesCntForItem",value:function(e){return this.props.totalRulesCnt}},{key:"showDragIcon",value:function(){return!this.isDefaultCase()&&vB(G(r.prototype),"showDragIcon",this).call(this)}},{key:"renderHeaderWrapper",value:function(){return N.createElement("div",{key:"group-header",className:Rr("group--header",this.isOneChild()?"one--child":"",this.isOneChild()?"hide--line":"",this.isNoChildren()?"no--children":"",this.showDragIcon()?"with--drag":"hide--drag",!this.showConjs()||this.isOneChild()&&!this.showNot()?"hide--conjs":"with--conjs")},this.renderHeaderLeft(),this.renderHeaderCenter(),this.renderActions())}},{key:"renderChildrenWrapper",value:function(){return this.isDefaultCase()?null:N.createElement("div",{className:"case_group--body"},this.renderCondition(),this.renderValue())}},{key:"renderHeaderLeft",value:function(){return this.isDefaultCase()?this.props.config.settings.defaultCaseLabel||"":N.createElement("div",{className:"group--conjunctions"},this.renderConjs(),this.renderDrag())}},{key:"renderCondition",value:function(){return this.isDefaultCase()?null:vB(G(r.prototype),"renderChildrenWrapper",this).call(this)}},{key:"renderHeaderCenter",value:function(){return this.isDefaultCase()?this.renderValue():null}},{key:"canAddGroup",value:function(){return!this.isDefaultCase()&&vB(G(r.prototype),"canAddGroup",this).call(this)}},{key:"canAddRule",value:function(){return!this.isDefaultCase()&&vB(G(r.prototype),"canAddRule",this).call(this)}},{key:"renderValue",value:function(){var e=this.props,t=e.config,r=e.isLocked,n=e.value,o=e.setValue,i=e.id,a=t.settings.immutableValuesMode,l=N.createElement(jz,{key:"values",isCaseValue:!0,field:"!case_value",operator:null,value:n,valueSrc:"value",valueError:null,config:t,setValue:a?hV:o,setValueSrc:hV,readonly:a||r,id:i,groupId:null});return N.createElement(fV,{className:"case_group--value"},l)}},{key:"renderActions",value:function(){var e=this.props,t=e.config,r=e.addGroup,n=e.addRule,o=e.isLocked,i=e.isTrueLocked,a=e.id;return N.createElement(uB,{config:t,addGroup:r,addRule:n,canAddRule:this.canAddRule(),canAddGroup:this.canAddGroup(),canDeleteGroup:this.canDeleteGroup(),removeSelf:this.removeSelf,setLock:this.setLock,isLocked:o,isTrueLocked:i,id:a})}},{key:"isEmptyCurrentGroup",value:function(){var e=this.props.value,t=e&&e.size?e.get(0):null,n=null!=t&&(!Array.isArray(t)||t.length>0);return vB(G(r.prototype),"isEmptyCurrentGroup",this).call(this)&&!n}}]),r}(hB);JB.propTypes=GB(GB({},hB.propTypes),{},{parentReordableNodesCnt:it.number,value:it.any,setValue:it.func});const QB=aB(eV("group case_group")(vV(JB)),"case_group");var XB=["type"];function ZB(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(lF){return!1}}();return function(){var r,n=G(e);if(t){var o=G(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return K(this,r)}}function eH(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function tH(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?eH(Object(r),!0).forEach((function(t){y(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eH(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var rH=function(e){var t,r=(null===(t=e.properties)||void 0===t?void 0:t.toObject())||{},n=tH({},r);return e.isParentLocked&&(n.isLocked=!0),r.isLocked&&(n.isTrueLocked=!0),n},nH={rule:function(e){return N.createElement(Qz,w({},rH(e),{id:e.id,groupId:e.groupId,path:e.path,actions:e.actions,reordableNodesCnt:e.reordableNodesCnt,totalRulesCnt:e.totalRulesCnt,config:e.config,onDragStart:e.onDragStart,isDraggingTempo:e.isDraggingTempo,parentField:e.parentField,parentReordableNodesCnt:e.parentReordableNodesCnt}))},group:function(e){return N.createElement(gB,w({},rH(e),{id:e.id,groupId:e.groupId,path:e.path,actions:e.actions,config:e.config,reordableNodesCnt:e.reordableNodesCnt,totalRulesCnt:e.totalRulesCnt,onDragStart:e.onDragStart,isDraggingTempo:e.isDraggingTempo,children1:e.children1,parentField:null,parentReordableNodesCnt:e.parentReordableNodesCnt}))},rule_group:function(e){return N.createElement(OB,w({},rH(e),{id:e.id,groupId:e.groupId,path:e.path,actions:e.actions,config:e.config,reordableNodesCnt:e.reordableNodesCnt,totalRulesCnt:e.totalRulesCnt,onDragStart:e.onDragStart,isDraggingTempo:e.isDraggingTempo,children1:e.children1,parentField:e.parentField,parentReordableNodesCnt:e.parentReordableNodesCnt}))},rule_group_ext:function(e){return N.createElement(RB,w({},rH(e),{id:e.id,groupId:e.groupId,path:e.path,actions:e.actions,config:e.config,reordableNodesCnt:e.reordableNodesCnt,totalRulesCnt:e.totalRulesCnt,onDragStart:e.onDragStart,isDraggingTempo:e.isDraggingTempo,children1:e.children1,parentField:e.parentField,parentReordableNodesCnt:e.parentReordableNodesCnt}))},switch_group:function(e){return N.createElement($B,w({},rH(e),{id:e.id,groupId:e.groupId,path:e.path,actions:e.actions,config:e.config,reordableNodesCnt:e.reordableNodesCnt,totalRulesCnt:e.totalRulesCnt,onDragStart:e.onDragStart,isDraggingTempo:e.isDraggingTempo,children1:e.children1,parentField:null,parentReordableNodesCnt:e.parentReordableNodesCnt}))},case_group:function(e){return N.createElement(QB,w({},rH(e),{id:e.id,groupId:e.groupId,path:e.path,actions:e.actions,config:e.config,reordableNodesCnt:e.reordableNodesCnt,totalRulesCnt:e.totalRulesCnt,onDragStart:e.onDragStart,isDraggingTempo:e.isDraggingTempo,children1:e.children1,parentField:null,parentReordableNodesCnt:e.parentReordableNodesCnt}))}},oH=function(e){W(r,e);var t=ZB(r);function r(){return U(this,r),t.apply(this,arguments)}return Y(r,[{key:"render",value:function(){var e,t=this.props,r=t.type,n=Xr(t,XB),o="array"==(null===(e=n.properties)||void 0===e?void 0:e.get("mode"))?"_ext":"",i=n.config.settings.renderItem,a=nH[r+o];return i?i(tH(tH({},n),{},{type:r,itemComponent:a}),n.config.ctx):a?a(n):null}}]),r}(g.PureComponent);function iH(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(lF){return!1}}();return function(){var r,n=G(e);if(t){var o=G(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return K(this,r)}}oH.propTypes={config:it.object.isRequired,id:it.string.isRequired,groupId:it.string,type:it.oneOf(["rule","group","rule_group","switch_group","case_group"]).isRequired,path:it.any.isRequired,properties:it.any.isRequired,children1:it.any,actions:it.object.isRequired,reordableNodesCnt:it.number,onDragStart:it.func,parentField:it.string,isDraggingTempo:it.bool,isParentLocked:it.bool};var aH=YM.TreeUtils,lH=aH.getTotalReordableNodesCountInTree,sH=aH.getTotalRulesCountInTree,uH=YM.DefaultUtils,cH=uH.createListFromArray,dH=uH.emptyProperies,pH=function(e){W(r,e);var t=iH(r);function r(e){var n;return U(this,r),(n=t.call(this,e)).pureShouldComponentUpdate=LD($(n)),n._updPath(e),n}return Y(r,[{key:"shouldComponentUpdate",value:function(e,t){var r=this.props,n=this.pureShouldComponentUpdate(e,t);if(n){var o=[];for(var i in e){e[i]!==r[i]&&"__isInternalValueChange"!=i&&o.push(i)}o.length||(n=!1),1==o.length&&"tree"==o[0]&&e.__isInternalValueChange&&(n=!1)}return n}},{key:"_updPath",value:function(e){var t=e.tree.get("id");this.path=cH([t])}},{key:"render",value:function(){var e=this.props.tree,t=e.get("type"),r="switch_group"==t,n=r?null:lH(e),o=r?null:sH(e),i=e.get("id");return N.createElement(oH,{key:i,id:i,path:this.path,type:t,properties:e.get("properties")||dH(),config:this.props.config,actions:this.props.actions,children1:e.get("children1")||dH(),reordableNodesCnt:n,totalRulesCnt:o,parentReordableNodesCnt:0,onDragStart:this.props.onDragStart})}}]),r}(g.Component);pH.propTypes={tree:it.any.isRequired,config:it.object.isRequired,actions:it.object.isRequired,onDragStart:it.func};const fH=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=lD((function(e){return{dragging:e.dragging,dragStart:e.dragStart,mousePos:e.mousePos}}),{setDragStart:hD,setDragProgress:fD,setDragEnd:gD},null,{context:GM})(function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return t=function(t){W(o,t);var n=GD(o);function o(e){var t;return U(this,o),(t=n.call(this,e))._getEventTarget=function(e,t){return e&&e.__mocked_window||document.body||window},t.onDragStart=function(e,r,n){var o=r.closest(".query-builder");void 0===t._isUsingLegacyReactDomRender&&(t._isUsingLegacyReactDomRender=PD(o)),document.body.classList.add("qb-dragging"),o.classList.add("qb-dragging");var i=o.closest(".query-builder-container")||o,a=(i=t._getScrollParent(i)||document.body).scrollTop;t._getDraggableNodeEl(o),t._getPlaceholderNodeEl(o);var l,s=o.querySelectorAll(".group--children"),u=s.length?s[0]:null;u&&(l=window.getComputedStyle(u,null).getPropertyValue("padding-left"),l=parseInt(l));var c={id:e,x:r.offsetLeft,y:r.offsetTop,w:r.offsetWidth,h:r.offsetHeight,itemInfo:t.tree.items[e],paddingLeft:l},d={id:e,x:r.offsetLeft,y:r.offsetTop,scrollTop:a,clientX:n.clientX,clientY:n.clientY,itemInfo:KD(t.tree.items[e]),treeEl:o,treeElContainer:i},p={clientX:n.clientX,clientY:n.clientY},f=t._getEventTarget(n,d);t.eventTarget=f,f.addEventListener("mousemove",t.onDrag),f.addEventListener("mouseup",t.onDragEnd),t.props.setDragStart(d,c,p)},t.onDrag=function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=Object.assign({},t.props.dragging),i=t.props.dragStart,a=o.paddingLeft,l=i.treeElContainer.scrollTop;if(o.itemInfo=t.tree.items[o.id],o.itemInfo){var s={clientX:e.clientX,clientY:e.clientY},u={clientX:i.clientX,clientY:i.clientY};if(e.__mock_dom){var c=i.treeEl,d=t._getDraggableNodeEl(c),p=t._getPlaceholderNodeEl(c);e.__mock_dom({treeEl:c,dragEl:d,plhEl:p})}if(!i.plX){var f=i.treeEl,h=t._getPlaceholderNodeEl(f);h&&(i.plX=h.getBoundingClientRect().left+window.scrollX,i.plY=h.getBoundingClientRect().top+window.scrollY)}var g=i.x,v=i.y,m=i.clientX,y=i.clientY,b=i.scrollTop,_={x:g+(e.clientX-m),y:v+(e.clientY-y)+(l-b)};o.x=_.x,o.y=_.y,o.paddingLeft=a,o.mousePos=s,o.startMousePos=u,t.props.setDragProgress(s,o),n&&t.handleDrag(o,e,r)||e.preventDefault&&e.preventDefault()}},t.onDragEnd=function(){var e=t.props.dragStart.treeEl;t.props.setDragEnd(),e.classList.remove("qb-dragging"),document.body.classList.remove("qb-dragging"),t._cacheEls={};var r=t.eventTarget||t._getEventTarget();r.removeEventListener("mousemove",t.onDrag),r.removeEventListener("mouseup",t.onDragEnd)},t.pureShouldComponentUpdate=LD($(t)),ND($(t)),t.onPropsChanged(e),t}return Y(o,[{key:"onPropsChanged",value:function(e){this.tree=JD(e.tree)}},{key:"shouldComponentUpdate",value:function(e,t){var r=this.props,n=this.state,o=this.pureShouldComponentUpdate(e,t);if(o&&n==t&&r!=e){var i=[];for(var a in e)e[a]!=r[a]&&"dragging"!=a&&"mousePos"!=a&&i.push(a);i.length||(o=!1)}return o}},{key:"componentDidUpdate",value:function(e,t){var r=this.props.dragging,n=this.props.dragStart;if(QD=!1,n&&n.id&&(r.itemInfo=this.tree.items[r.id],r.itemInfo&&(r.itemInfo.index!=n.itemInfo.index||r.itemInfo.parent!=n.itemInfo.parent))){var o=n.treeEl,i=n.treeElContainer,a=this._getPlaceholderNodeEl(o,!0);if(a){var l=a.getBoundingClientRect().left+window.scrollX,s=a.getBoundingClientRect().top+window.scrollY,u=n.plX,c=n.plY,d=i.scrollTop;n.plX=l,n.plY=s,n.itemInfo=KD(r.itemInfo),n.y=a.offsetTop,n.x=a.offsetLeft,n.clientY+=s-c,n.clientX+=l-u,i!=document.body&&(n.scrollTop=d),this.onDrag(this.props.mousePos,!1)}}}},{key:"_getNodeElById",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(null==t)return null;this._cacheEls||(this._cacheEls={});var n=this._cacheEls[t];return n&&document.contains(n)&&!r||(n=e.querySelector('.group-or-rule-container[data-id="'+t+'"]'),this._cacheEls[t]=n),n}},{key:"_getDraggableNodeEl",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this._cacheEls||(this._cacheEls={});var r=this._cacheEls.draggable;if(r&&document.contains(r)&&!t)return r;var n=e.getElementsByClassName("qb-draggable");return r=n.length?n[0]:null,this._cacheEls.draggable=r,r}},{key:"_getPlaceholderNodeEl",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this._cacheEls||(this._cacheEls={});var r=this._cacheEls.placeholder;if(r&&document.contains(r)&&!t)return r;var n=e.getElementsByClassName("qb-placeholder");return r=n.length?n[0]:null,this._cacheEls.placeholder=r,r}},{key:"_isScrollable",value:function(e){var t=window.getComputedStyle(e)["overflow-y"];return("scroll"===t||"auto"===t)&&e.scrollHeight>e.offsetHeight}},{key:"_getScrollParent",value:function(e){return null==e?null:e===document.body||this._isScrollable(e)?e:this._getScrollParent(e.parentNode)}},{key:"handleDrag",value:function(e,t,r){var n,o,i,a,l=this,s=e.itemInfo,u=e.paddingLeft,c=null,d=this.props.dragStart.treeEl,p=e.id,f=this._getDraggableNodeEl(d),h=this._getPlaceholderNodeEl(d);if(f&&h){if(n=f.getBoundingClientRect(),!(o=h.getBoundingClientRect()).width)return;var g={hrz:0,vrt:0};n.top<o.top?g.vrt=-1:n.bottom>o.bottom&&(g.vrt=1),n.left>o.left?g.hrz=1:n.left<o.left&&(g.hrz=-1);var v,m={x:(a=d.getBoundingClientRect()).left+(a.right-a.left)/2,y:g.vrt>=0?n.bottom:n.top};if(t.__mocked_hov_container)v=t.__mocked_hov_container;else{var y=document.elementFromPoint(m.x,m.y-1);if(!(v=y?y.closest(".group-or-rule-container"):null)&&y&&y.classList.contains("query-builder-container")){var b,_=null==y||null===(b=y.firstChild)||void 0===b?void 0:b.firstChild;_&&_.classList.contains("group-or-rule-container")&&(v=_)}}if(v){var x=v.classList.contains("group-container"),w=v.getAttribute("data-id"),O=v,S=!1,k=!1;if(O){var j=(i=O.getBoundingClientRect()).bottom-i.top,E=this.tree.items[w];if(!E)throw new Error("There is an issue with rendering. If you use Next.js, please check getServerSideProps() method.");var C=null,T=null,q=null,A=null;if(0==g.vrt)q=s,(T=h)&&(C=T.getBoundingClientRect());else if(x){if(g.vrt>0){var P=v.getElementsByClassName("group--header"),I=P.length?P[0]:null;if(I){var L=I.getBoundingClientRect(),N=L.bottom-L.top;n.bottom-L.top>3*N/4&&E.top>e.itemInfo.top&&(q=E,C=L,T=I,k=!0)}}else g.vrt<0&&E.lev>=s.lev&&i.bottom-n.top>=2&&E.top<e.itemInfo.top&&(q=E,C=i,T=O,S=!0);(g.vrt<0?i.bottom-n.top>j-5:n.bottom-i.top>j-5)&&(k||S||(q=E,C=i,T=O),A=E)}else(g.vrt<0?i.bottom-n.top>j/2:n.bottom-i.top>j/2)&&(q=E,C=i,T=O);var R=q&&q.id==p;if(C){var M=n.left-a.left;C.left,a.left;var F=Math.max(0,Math.round(M/u)),D=[],V=[];if(R);else{if(x&&(S?D.push([dD,q,q.lev+1]):k&&D.push([pD,q,q.lev+1]),A)){var z=0==A.lev,B="case_group"==A.type&&"case_group"!=s.type,H=A.prev&&this.tree.items[A.prev].caseId,W=A.next&&this.tree.items[A.next].caseId;s.caseId==H&&(H=null),s.caseId==W&&(W=null);var U=H&&this.tree.items[H],$=W&&this.tree.items[W];g.vrt>0?z?V.push([dD,A,A.lev+1]):B&&$?V.push([pD,$,$.lev+1]):V.push([uD,A,A.lev]):g.vrt<0&&(z?V.push([pD,A,A.lev+1]):B&&U?V.push([dD,U,U.lev+1]):V.push([cD,A,A.lev]))}S||k||(g.vrt<0?D.push([cD,q,q.lev]):g.vrt>0&&D.push([uD,q,q.lev]))}var Y=function(e){var t=e[1],r=s.caseId?l.tree.items[s.caseId]:null,n=t.caseId?l.tree.items[t.caseId]:null;return[].concat(lk(e),[r,n])};D=D.map(Y),V=V.map(Y);var G=null,K=(D=D.filter((function(e){var t=e[0],r=e[1];if((t==cD||t==uD)&&null==r.parent)return!1;if(r.collapsed&&(t==dD||t==pD))return!1;var n=r.id==s.id;if(!n)for(var o=r;o.parent;)if((o=l.tree.items[o.parent]).id==s.id){n=!0;break}return!n})).map((function(e){var t=e[0],r=e[1];e[2],e[3],e[4];var n=null;return(n=t==dD||t==pD?r:l.tree.items[r.parent])&&null==n.parent&&(n=null),e[5]=n,e}))).filter((function(e){return l.canMove(s,e[1],e[0],e[3],e[4],e[5],r)}));0==K.length&&V.length>0&&(K=V.filter((function(e){return l.canMove(s,e[1],e[0],e[3],e[4],e[5],r)})));var J=K.map((function(e){return e[2]})),Q=s.lev,X=J.concat(Q),Z=null;-1!=X.indexOf(F)?Z=F:F>Math.max.apply(Math,lk(X))?Z=Math.max.apply(Math,lk(X)):F<Math.min.apply(Math,lk(X))&&(Z=Math.min.apply(Math,lk(X))),G=K.find((function(e){return e[2]==Z})),R||G||!K.length||(G=K[0]),c=G}}}else TD.log("out of tree bounds!")}return!!c&&(this.move(s,c[1],c[0],c[3]),!0)}},{key:"canMove",value:function(e,t,r,n,o,i,a){if(!e||!t)return!1;if(e.id===t.id)return!1;var l=this.props.config.settings,s=l.canRegroup,u=l.canRegroupCases,c=l.maxNesting,d=l.maxNumberOfRules,p=l.canLeaveEmptyCase,f=(i?i.lev+1:t.lev)+(e.depth||0),h=r==cD||r==uD,g=r==pD||r==dD,v=h&&1==t.lev||g&&0==t.lev,m=e.parent!=t.parent,y=g||m,b="case_group"==e.type&&!v||"rule_group"==e.parentType||"rule_group"==t.type||"rule_group"==t.parentType||"case_group"!=e.type&&"case_group"==t.type&&h||"case_group"!=e.type&&"switch_group"==t.type||!u&&e.caseId!=t.caseId,_=t.isLocked||e.isLocked||i&&i.isLocked;if(c&&f>c)return!1;if(y&&(!s||b||_))return!1;if("case_group"!=e.type&&e.caseId!=t.caseId){var x=!!n&&2==n._height,w=o?o.leafsCount+1:0;if(d&&w>d)return!1;if(x&&!p)return!1}if("case_group"==e.type&&(e.isDefaultCase||t.isDefaultCase||"switch_group"==t.type&&r==dD))return!1;var O=!0;return a&&(O=a(e.node.toJS(),t.node.toJS(),r,i?i.node.toJS():null)),O}},{key:"move",value:function(e,t,r,n){this._isUsingLegacyReactDomRender||(QD=!0),this.props.actions.moveItem(e.path,t.path,r)}},{key:"render",value:function(){return N.createElement(e,w({},this.props,{onDragStart:this.onDragStart}))}}]),o}(g.Component),t.propTypes={tree:it.any.isRequired,actions:it.object.isRequired},t}(e,t));return r.displayName="ConnectedSortableContainer",r}(pH);function hH(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function gH(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(lF){return!1}}();return function(){var r,n=G(e);if(t){var o=G(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return K(this,r)}}var vH=YM.clone,mH=YM.ConfigUtils,yH=mH.getFieldConfig,bH=mH.getFieldParts,_H=mH.getFieldPathParts,xH=YM.RuleUtils,wH=xH.getFieldPathLabels,OH=xH.getWidgetForFieldOp,SH=function(e){W(r,e);var t=gH(r);function r(e){var n;return U(this,r),n=t.call(this,e),ND($(n)),n.onPropsChanged(e),n}return Y(r,[{key:"onPropsChanged",value:function(e){var t=this.props,r=!this.items||["config","field","fieldSrc","fieldType","operator","isFuncArg","parentField"].map((function(r){return e[r]!==t[r]})).filter((function(e){return e})).length>0,n=!this.meta||["config","field","fieldSrc","fieldType","operator","value","placeholder","isFuncArg","parentField"].map((function(r){return e[r]!==t[r]})).filter((function(e){return e})).length>0;r&&(this.items=this.getItems(e)),n&&(this.meta=this.getMeta(e))}},{key:"getItems",value:function(e){var t=e.config,r=e.field,n=e.fieldType,o=e.operator,i=e.parentField,a=e.isFuncArg,l=e.fieldDefinition,s=t.settings.canCompareFieldWithField;t.settings.fieldSeparator;var u=bH(i,t),c=i?yH(t,i):null,d=i?null==c?void 0:c.subfields:t.fields,p=this.filterFields(t,d,r,i,u,o,s,a,l,n);return this.buildOptions(u,t,p,u)}},{key:"getMeta",value:function(e){var t,r=e.config,n=e.field;e.fieldType,e.operator;var o=e.value,i=e.placeholder,a=e.isFuncArg,l=e.parentField,s=r.settings,u=s.fieldPlaceholder,c=s.fieldSeparatorDisplay,d=o,p=!!o,f=n?yH(r,n):{},h=null==f||null===(t=f.widgets)||void 0===t?void 0:t.field,g=(null==h?void 0:h.widgetProps)||{},v=p?null:a&&i||g.valuePlaceholder||u,m=p?yH(r,d):null,y=m||{},b=_H(d,r),_=_H(d,r,!0),x=this.getFieldLabel(m,d,r),w=wH(d,r),O=w?w.join(c):null;return(O==x||l)&&(O=null),{placeholder:v,selectedKey:d,selectedKeys:b,selectedPath:_,selectedLabel:x,selectedOpts:y,selectedAltLabel:y.label2,selectedFullLabel:O}}},{key:"filterFields",value:function(e,t,r,n,o,i,a,l,s,u){t=vH(t);var c,d=e.settings.fieldSeparator,p=yH(e,r),f=OH(e,r,i,"value");return e.widgets[f],c=l?null==s?void 0:s.type:p?p.type:u,function t(n,o){for(var s in n){var u=n[s].subfields,f=(o||[]).concat(s),h=f.join(d),g=yH(e,h);if(g)if("!struct"==g.type||"!group"==g.type)0==t(u,f)&&delete n[s];else{var v=!(c&&g.type!=c||!l&&h==r),m=a||e.settings.canCompareFieldWithField;m&&(v=v&&m(r,p,h,g,i)),v||delete n[s]}else delete n[s]}return ru(n).length}(t,o||[]),t}},{key:"buildOptions",value:function(e,t,r){var n=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;if(!r)return null;var a=t.settings,l=a.fieldSeparator,s=a.fieldSeparatorDisplay,u=null!=o&&o.length?o.join(l)+l:"";return ru(r).map((function(a){var l=[].concat(lk(null!=o?o:[]),[a]),c=r[a],d=n.getFieldLabel(c,l,t),p=wH(l,t).join(s);(p==d||e)&&(p=null);var f=c.label2,h=c.tooltip;if(!c.hideForCompare)return"!struct"==c.type||"!group"==c.type?{key:a,path:u+a,label:d,fullLabel:p,altLabel:f,tooltip:h,items:n.buildOptions(e,t,c.subfields,l,d)}:{key:a,path:u+a,label:d,fullLabel:p,altLabel:f,tooltip:h,grouplabel:i}})).filter((function(e){return!!e}))}},{key:"getFieldLabel",value:function(e,t,r){if(!t)return null;var n=r.settings.maxLabelsLength,o=bH(t,r),i=(null==e?void 0:e.label)||WE(o);return i=jD(i,n)}},{key:"render",value:function(){var e=this.props,t=e.config,r=e.customProps,n=e.setValue,o=e.readonly,i=e.id,a=e.groupId,l=t.settings.renderField,s=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?hH(Object(r),!0).forEach((function(t){y(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hH(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({isValueField:!0,config:t,customProps:r,setField:n,readonly:o,items:this.items,id:i,groupId:a},this.meta);return l(s,t.ctx)}}]),r}(g.Component);SH.propTypes={id:it.string,groupId:it.string,setValue:it.func.isRequired,config:it.object.isRequired,field:it.any,fieldSrc:it.string,fieldType:it.string,value:it.string,operator:it.string,customProps:it.object,readonly:it.bool,parentField:it.string,fieldDefinition:it.object,isFuncArg:it.bool};YM.moment;var kH=YM.moment;var jH=YM.ListUtils.mapListValues;var EH=YM.ListUtils.mapListValues;const CH=Object.freeze(Object.defineProperty({__proto__:null,FuncWidget:Iz,ValueFieldWidget:SH,VanillaBooleanWidget:function(e){var t=e.value,r=e.setValue;e.config;var n=e.labelYes,o=e.labelNo,i=e.readonly,a=e.customProps,l=void 0===a?{}:a,s=l.radioYes||{},u=l.radioNo||{},c=function(e){return r("true"==e.target.value)};return N.createElement(N.Fragment,null,N.createElement("input",w({type:"radio",value:!0,checked:!!t,disabled:i,onChange:c},s))," ",n,N.createElement("input",w({type:"radio",value:!1,checked:!t,disabled:i,onChange:c},u))," ",o)},VanillaButton:function(e){var t=e.type,r=e.label,n=e.onClick,o=e.readonly;e.config;var i=r||{addRuleGroup:"+",addRuleGroupExt:"+",delGroup:"x",delRuleGroup:"x",delRule:"x"}[t];return N.createElement("button",{onClick:n,type:"button",disabled:o},i)},VanillaButtonGroup:function(e){var t=e.children;return e.config,N.createElement(N.Fragment,null,t)},VanillaConjs:function(e){var t,r=e.id,n=e.not,o=e.setNot,i=e.conjunctionOptions,a=e.setConjunction,l=e.disabled,s=e.readonly,u=e.config,c=e.showNot,d=e.notLabel,p=Object.keys(i).length,f=l,h=u.settings.forceShowConj||p>1&&!f,g=function(e){return a(e.target.value)},v=function(e){return o(e.target.checked)};return[c&&(t="not",[N.createElement("input",{key:r+t,type:"checkbox",id:r+t,checked:n,disabled:s,onChange:v}),N.createElement("label",{key:r+t+"label",htmlFor:r+t},d||"NOT")]),h&&Object.keys(i).map((function(e){var t=i[e],r=t.id,n=t.name,o=t.label,u=t.checked,c=a.isDummyFn?"__dummy":"";return!s&&!l||u?[N.createElement("input",{key:r+c,type:"radio",id:r+c,name:n+c,checked:u,disabled:s||l,value:e,onChange:g}),N.createElement("label",{key:r+c+"label",htmlFor:r+c},o)]:null}))]},VanillaDateTimeWidget:function(e){var t=e.value,r=e.setValue;e.config;var n=e.valueFormat;e.use12Hours;var o=e.readonly,i=e.customProps,a=t;return a=t?kH(t).format("YYYY-MM-DDTHH:mm"):"",N.createElement("input",w({type:"datetime-local",value:a,disabled:o,onChange:function(e){var t=e.target.value;t=""==t?void 0:kH(new Date(t)).format(n),r(t)}},i))},VanillaDateWidget:function(e){var t=e.value,r=e.setValue;e.config,e.valueFormat;var n=e.readonly,o=e.customProps;return N.createElement("input",w({type:"date",value:t||"",disabled:n,onChange:function(e){var t=e.target.value;""==t&&(t=void 0),r(t)}},o))},VanillaFieldSelect:function(e){var t=e.items,r=e.setField,n=e.selectedKey,o=e.readonly,i=e.errorText,a=null!=n;return N.createElement("select",{onChange:function(e){return r(e.target.value)},value:a?n:"",disabled:o,style:{color:i?"red":null}},!a&&N.createElement("option",{disabled:!0,value:""}),function e(t){return t.map((function(t){var r=t.items,n=t.path,o=t.label,i=t.disabled,a=t.matchesType;if(r)return N.createElement("optgroup",{disabled:i,key:n,label:o},e(r));var l=a?{fontWeight:"bold"}:{};return N.createElement("option",{disabled:i,key:n,value:n,style:l},o)}))}(t))},VanillaMultiSelectWidget:function(e){var t=e.listValues,r=e.value,n=e.setValue;e.allowCustomValues;var o=e.readonly,i=e.customProps;return N.createElement("select",w({multiple:!0,onChange:function(e){return n(function(e){for(var t=[],r=e.options,n=0;n<r.length;n++){var o=r[n];o.selected&&t.push(o.value)}return t.length||(t=void 0),t}(e.target))},value:r,disabled:o},YC(i,["showSearch","input","showCheckboxes"])),jH(t,(function(e){var t=e.title,r=e.value;return N.createElement("option",{key:r,value:r},t)})))},VanillaNumberWidget:function(e){var t=e.value,r=e.setValue;e.config;var n=e.readonly,o=e.min,i=e.max,a=e.step,l=e.placeholder,s=e.customProps,u=null==t?"":t;return N.createElement("input",w({type:"number",value:u,placeholder:l,disabled:n,min:o,max:i,step:a,onChange:function(e){var t=e.target.value;t=""===t||null===t?void 0:Number(t),r(t)}},s))},VanillaProvider:function(e){return e.config,e.children},VanillaSelectWidget:function(e){var t=e.listValues,r=e.value,n=e.setValue;e.allowCustomValues;var o=e.readonly,i=e.customProps,a=null!=r;return N.createElement("select",w({onChange:function(e){return n(e.target.value)},value:a?r:"",disabled:o},YC(i,["showSearch","input"])),!a&&N.createElement("option",{disabled:!0,value:""}),EH(t,(function(e){var t=e.title,r=e.value;return N.createElement("option",{key:r,value:r},t)})))},VanillaSliderWidget:function(e){var t=e.value,r=e.setValue;e.config;var n=e.readonly,o=e.min,i=e.max,a=e.step,l=e.placeholder,s=e.customProps,u=void 0===s?{}:s,c=u.input||{},d=u.slider||u,p=function(e){var t=e.target.value;t=""===t||null===t?void 0:Number(t),r(t)},f=null==t?"":t;return N.createElement("div",{style:{display:"inline-flex"}},N.createElement("input",w({key:"number",type:"number",value:f,placeholder:l,disabled:n,min:o,max:i,step:a,onChange:p},c)),N.createElement("input",w({key:"range",type:"range",value:f,disabled:n,min:o,max:i,step:a,onChange:p},d)))},VanillaSwitch:function(e){var t=e.value,r=e.setValue,n=e.label,o=e.id;e.config;var i=e.type;return[N.createElement("input",{key:o+i,type:"checkbox",id:o+i,checked:!!t,onChange:function(e){return r(e.target.checked)}}),N.createElement("label",{key:o+i+"label",htmlFor:o+i},n)]},VanillaTextAreaWidget:function(e){var t=e.value,r=e.setValue;e.config;var n=e.readonly,o=e.placeholder,i=e.maxLength;e.maxRows;var a=e.fullWidth,l=e.customProps,s=t||"";return N.createElement("textarea",w({value:s,placeholder:o,disabled:n,onChange:function(e){var t=e.target.value;""===t&&(t=void 0),r(t)},maxLength:i,style:{width:a?"100%":void 0}},l))},VanillaTextWidget:function(e){var t=e.value,r=e.setValue;e.config;var n=e.readonly,o=e.placeholder,i=e.maxLength,a=e.customProps,l=t||"";return N.createElement("input",w({type:"text",value:l,placeholder:o,disabled:n,onChange:function(e){var t=e.target.value;""===t&&(t=void 0),r(t)},maxLength:i},a))},VanillaTimeWidget:function(e){var t=e.value,r=e.setValue;e.config,e.valueFormat,e.use12Hours;var n=e.readonly,o=e.customProps;return N.createElement("input",w({type:"time",value:t||"",disabled:n,onChange:function(e){var t=e.target.value;""==t&&(t=void 0),r(t)}},o))},VanillaValueSources:function(e){e.config;var t=e.valueSources,r=e.valueSrc;e.title;var n=e.setValueSrc,o=e.readonly;return N.createElement("select",{onChange:function(e){return n(e.target.value)},value:r||"",disabled:o},function(e){return e.map((function(e){var t=ot(e,2),r=t[0],n=t[1];return N.createElement("option",{key:r,value:r},n.label)}))}(t))},vanillaConfirm:function(e){var t=e.onOk;e.okText,e.cancelText;var r=e.title;confirm(r)&&t()}},Symbol.toStringTag,{value:"Module"}));function TH(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(lF){return!1}}();return function(){var r,n=G(e);if(t){var o=G(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return K(this,r)}}var qH=function(e){W(r,e);var t=TH(r);function r(){var e;U(this,r);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).handleChange=function(t){e.props.setOption("proximity",parseInt(t))},e}return Y(r,[{key:"render",value:function(){var e=this.props,t=e.defaults,r=e.options,n=e.config,o=e.optionLabel,i=e.optionPlaceholder,a=e.customProps,l=e.minProximity,s=e.maxProximity,u=e.optionTextBefore,c=e.readonly,d=n.settings,p=n.widgets,f=n.ctx,h=t?t.proximity:void 0,g=d.showLabels,v=r.get("proximity",h),m=sz(l,s+1).map((function(e){return{title:e,value:e}})),y=p.select.factory,b=function(e){return y(e,f)};return N.createElement("div",{className:"operator--PROXIMITY"},N.createElement("div",{className:"operator--options"},g&&N.createElement("label",{className:"rule--label"},o),!g&&u&&N.createElement("div",{className:"operator--options--sep"},N.createElement("span",null,u)),N.createElement(b,w({config:n,value:v,listValues:m,setValue:this.handleChange,readonly:c,placeholder:i},a))),N.createElement("div",{className:"operator--widgets"},this.props.children))}}]),r}(g.PureComponent);qH.propTypes={config:it.object.isRequired,setOption:it.func.isRequired,options:it.any.isRequired,minProximity:it.number,maxProximity:it.number,optionPlaceholder:it.string,optionTextBefore:it.string,optionLabel:it.string,customProps:it.object,readonly:it.bool},qH.defaultProps={customProps:{},minProximity:2,maxProximity:10,optionPlaceholder:"Select words between",optionLabel:"Words between",optionTextBefore:null};const AH=Object.freeze(Object.defineProperty({__proto__:null,ProximityOperator:qH},Symbol.toStringTag,{value:"Module"}));function PH(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function IH(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?PH(Object(r),!0).forEach((function(t){y(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PH(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var LH=IH({},wR.conjunctions),NH=IH(IH({},wR.operators),{},{proximity:IH(IH({},wR.operators.proximity),{},{options:IH(IH({},wR.operators.proximity.options),{},{factory:function(e,t){return(0,t.RCE)(t.O.ProximityOperator,e)}})})}),RH={text:IH(IH({},wR.widgets.text),{},{factory:function(e,t){return(0,t.RCE)(t.W.VanillaTextWidget,e)}}),textarea:IH(IH({},wR.widgets.textarea),{},{factory:function(e,t){return(0,t.RCE)(t.W.VanillaTextAreaWidget,e)}}),number:IH(IH({},wR.widgets.number),{},{factory:function(e,t){return(0,t.RCE)(t.W.VanillaNumberWidget,e)}}),slider:IH(IH({},wR.widgets.slider),{},{factory:function(e,t){return(0,t.RCE)(t.W.VanillaSliderWidget,e)}}),select:IH(IH({},wR.widgets.select),{},{factory:function(e,t){return(0,t.RCE)(t.W.VanillaSelectWidget,e)}}),multiselect:IH(IH({},wR.widgets.multiselect),{},{factory:function(e,t){return(0,t.RCE)(t.W.VanillaMultiSelectWidget,e)}}),date:IH(IH({},wR.widgets.date),{},{factory:function(e,t){return(0,t.RCE)(t.W.VanillaDateWidget,e)}}),time:IH(IH({},wR.widgets.time),{},{factory:function(e,t){return(0,t.RCE)(t.W.VanillaTimeWidget,e)}}),datetime:IH(IH({},wR.widgets.datetime),{},{factory:function(e,t){return(0,t.RCE)(t.W.VanillaDateTimeWidget,e)}}),boolean:IH(IH({},wR.widgets.boolean),{},{factory:function(e,t){return(0,t.RCE)(t.W.VanillaBooleanWidget,e)}}),field:IH(IH({},wR.widgets.field),{},{factory:function(e,t){return(0,t.RCE)(t.W.ValueFieldWidget,e)},customProps:{showSearch:!0}}),func:IH(IH({},wR.widgets.func),{},{factory:function(e,t){return(0,t.RCE)(t.W.FuncWidget,e)},customProps:{}}),case_value:IH(IH({},wR.widgets.case_value),{},{factory:function(e,t){return(0,t.RCE)(t.W.VanillaTextWidget,e)}})},MH=IH(IH({},wR.types),{},{select:IH(IH({},wR.types.select),{},{widgets:IH(IH({},wR.types.select.widgets),{},{select:IH(IH({},wR.types.select.widgets.select),{},{widgetProps:{customProps:{showSearch:!0}}})})})}),FH=IH(IH({},wR.settings),{},{renderField:function(e,t){return(0,t.RCE)(t.W.VanillaFieldSelect,e)},renderOperator:function(e,t){return(0,t.RCE)(t.W.VanillaFieldSelect,e)},renderFunc:function(e,t){return(0,t.RCE)(t.W.VanillaFieldSelect,e)},renderConjs:function(e,t){return(0,t.RCE)(t.W.VanillaConjs,e)},renderSwitch:function(e,t){return(0,t.RCE)(t.W.VanillaSwitch,e)},renderButton:function(e,t){return(0,t.RCE)(t.W.VanillaButton,e)},renderButtonGroup:function(e,t){return(0,t.RCE)(t.W.VanillaButtonGroup,e)},renderProvider:function(e,t){return(0,t.RCE)(t.W.VanillaProvider,e)},renderValueSources:function(e,t){return(0,t.RCE)(t.W.VanillaValueSources,e)},renderFieldSources:function(e,t){return(0,t.RCE)(t.W.VanillaValueSources,e)},renderConfirm:function(e,t){return(0,t.W.vanillaConfirm)(e)},renderSwitchPrefix:"Conditions",customFieldSelectProps:{showSearch:!0},defaultSliderWidth:"200px",defaultSelectWidth:"200px",defaultSearchWidth:"100px",defaultMaxRows:5,renderSize:"small",maxLabelsLength:100,showLock:!1,showNot:!0,forceShowConj:!1,groupActionsPosition:"topRight"}),DH=IH(IH({},wR.ctx),{},{W:IH({},CH),O:IH({},AH),RCE:function(e,t){return N.createElement(e,t)}}),VH={conjunctions:LH,operators:NH,widgets:RH,types:MH,settings:FH,ctx:DH};const zH=VH=YM.ConfigMixins.removeMixins(VH,["rangeslider","treeselect","treemultiselect"]);var BH=ea,HH=fa,WH=function(){return BH.Date.now()},UH=ZV,$H=Math.max,YH=Math.min;var GH=function(e,t,r){var n,o,i,a,l,s,u=0,c=!1,d=!1,p=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function f(t){var r=n,i=o;return n=o=void 0,u=t,a=e.apply(i,r)}function h(e){var r=e-s;return void 0===s||r>=t||r<0||d&&e-u>=i}function g(){var e=WH();if(h(e))return v(e);l=setTimeout(g,function(e){var r=t-(e-s);return d?YH(r,i-(e-u)):r}(e))}function v(e){return l=void 0,p&&n?f(e):(n=o=void 0,a)}function m(){var e=WH(),r=h(e);if(n=arguments,o=this,s=e,r){if(void 0===l)return function(e){return u=e,l=setTimeout(g,t),c?f(e):a}(s);if(d)return clearTimeout(l),l=setTimeout(g,t),f(s)}return void 0===l&&(l=setTimeout(g,t)),a}return t=UH(t)||0,HH(r)&&(c=!!r.leading,i=(d="maxWait"in r)?$H(UH(r.maxWait)||0,t):i,p="trailing"in r?!!r.trailing:p),m.cancel=function(){void 0!==l&&clearTimeout(l),u=0,n=s=o=l=void 0},m.flush=function(){return void 0===l?a:v(WH())},m};const KH=h(GH);function JH(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function QH(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?JH(Object(r),!0).forEach((function(t){y(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JH(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var XH=YM.Autocomplete,ZH=XH.mergeListValues,eW=XH.listValueToOption,tW=XH.optionToListValue,rW=XH.optionsToListValues,nW=XH.fixListValuesGroupOrder,oW=YM.ListUtils,iW=oW.mapListValues,aW=oW.listValuesToArray,lW=oW.getListValue,sW=oW.makeCustomListValue,uW=oW.searchListValue;function cW(e){return new Promise((function(t){setTimeout(t,e)}))}oW.getItemInListValues;function dW(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function pW(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?dW(Object(r),!0).forEach((function(t){y(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dW(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const fW=pW(pW({},YM),{},{ReactUtils:MD});var hW=fW.moment;var gW=fW.moment;var vW=fW.moment;var mW=fW.ListUtils.mapListValues;var yW=["width"];var bW=["width"];var _W=fW.ListUtils.mapListValues;var xW={},wW=A;Object.defineProperty(xW,"__esModule",{value:!0});var OW=xW.default=void 0,SW=wW(we()),kW=j,jW=(0,SW.default)((0,kW.jsx)("path",{d:"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}),"Check");OW=xW.default=jW;var EW=["width"];function CW(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function TW(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?CW(Object(r),!0).forEach((function(t){y(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):CW(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var qW=function(e,t){var r=e.asyncFetch,n=e.useLoadMore,o=e.useAsyncSearch,i=e.forceAsyncSearch,a=e.asyncListValues,l=e.listValues,s=e.allowCustomValues,u=e.value,c=e.setValue,d=e.placeholder,p=e.config,f=t.debounceTimeout,h=t.multiple,g=t.uif,v=["LOAD_MORE","LOADING_MORE"],m="Load more...",y="Loading more...",b=i?"Type to search":d,_=N.useState(!1),x=ot(_,2),w=x[0],O=x[1],S=N.useState(void 0),k=ot(S,2),j=k[0],E=k[1],C=N.useState(0),T=ot(C,2),q=T[0],A=T[1],P=N.useState(!1),I=ot(P,2),L=I[0],R=I[1],M=N.useState(""),F=ot(M,2),D=F[0],V=F[1],z=N.useState(void 0),B=ot(z,2),H=B[0],W=B[1],U=N.useRef(0),$=N.useRef(0),Y=N.useRef(!1),G=aW(a),K=r?a?ZH(H,G,!0):H:l,J=r?H:l;s&&D&&!uW(D,H)&&(J=ZH(J,[sW(D)],!0)),!r||H||!a||D||w||"antd"!==g||(J=K),r&&!s&&a&&"mui"===g&&(J=ZH(J,G,!0,!0));var Q=q>0,X=w&&r&&void 0===H&&(!i||D),Z=X&&Q,ee=!Z&&K&&K.length>0&&j&&j.hasMore&&(j.filter||"")===D,te=!Q&&ee,re=iW(J,eW),ne=null!=u,oe=!h&&ne?lW(u,K):null,ie=function(){var e=YN(ST.mark((function e(){var t,o,i,a,l,s,u,c,d,f,h,g,v,m,y=arguments;return ST.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=y.length>0&&void 0!==y[0]?y[0]:null,!(o=y.length>1&&void 0!==y[1]&&y[1])&&j&&E(void 0),i=o&&H?H.length:0,a=o&&j||!n&&{pageSize:0},l=++U.current,e.next=8,r.call(null==p?void 0:p.ctx,t,i,a);case 8:if(s=e.sent,!(U.current!=l)&&$.current){e.next=12;break}return e.abrupt("return",null);case 12:return u=null!=s&&s.values?s:{values:s},c=u.values,d=u.hasMore,f=u.meta,h=aW(c),o?(v=ZH(H,h,!1),g=v.length>H.length):(v=h,n&&(g=v.length>0)),(m=null!=d||null!=f||null!=g?QH(QH(QH(QH({},null!=g?{hasMore:g}:{}),null!=d?{hasMore:d}:{}),null!=f?f:{}),{},{filter:t}):void 0)&&E(m),e.abrupt("return",v);case 18:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ae=function(){var e=YN(ST.mark((function e(){var t,r,n,o=arguments;return ST.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:null,r=o.length>1&&void 0!==o[1]&&o[1],A((function(e){return e+1})),R(r),e.next=6,ie(t,r);case 6:if(n=e.sent,$.current){e.next=9;break}return e.abrupt("return");case 9:null!=n&&W(n),A((function(e){return e-1})),R(!1);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),le=N.useCallback(KH(ae,f),[]);N.useEffect((function(){return $.current++,X&&0==q&&0==U.current&&YN(ST.mark((function e(){return ST.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ae();case 2:case"end":return e.stop()}}),e)})))(),function(){$.current--}}),[X]);var se=function(){O(!0)},ue=function(){var e=YN(ST.mark((function e(t){var r;return ST.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=Y.current)?(Y.current=!1,h&&O(!1)):O(!1),"mui"!==g||r){e.next=6;break}return"",e.next=6,de(null,"","my-reset");case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ce=function(){var e=YN(ST.mark((function e(t,n,o){var i,a,l,d,p,f,v,m,y,b,_,x,O,S,k;return ST.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=h&&"mui"===g&&"clear"===o,l=!h&&"mui"===g&&"clear"===o&&"change"===(null==t?void 0:t.type),"mui"===g&&(o=n,n=h?o.map((function(e){var t;return null!==(t=null==e?void 0:e.value)&&void 0!==t?t:e})):null!==(d=null===(p=o)||void 0===p?void 0:p.value)&&void 0!==d?d:o),f=h&&Array.isArray(o)&&o.map((function(e){return null==e?void 0:e.specialValue})).find((function(e){return!!e}))||(null===(i=o)||void 0===i?void 0:i.specialValue),h&&n&&!Array.isArray(n)&&(n=[].concat(lk(u||[]),[n]),o=null),!(a&&0===n.length&&D&&w||l)){e.next=8;break}return e.abrupt("return");case 8:if(v=h&&n.length&&n.length>(u||[]).length&&n[n.length-1]==D&&!lW(D,H),"LOAD_MORE"!=f){e.next=16;break}return V(D),Y.current=!0,e.next=14,ae(D,!0);case 14:e.next=32;break;case 16:if("LOADING_MORE"!=f){e.next=20;break}Y.current=!0,e.next=32;break;case 20:if(!h){e.next=30;break}if(m=rW(n,K,s),y=ot(m,2),b=y[0],_=y[1],c(b,r?_:void 0),!v){e.next=28;break}return e.next=26,cW(0);case 26:return e.next=28,de(null,"","my-reset");case 28:e.next=32;break;case 30:x=tW(n,K,s),O=ot(x,2),S=O[0],k=O[1],c(S,r?k:void 0);case 32:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),de=function(){var e=YN(ST.mark((function e(t,r,n){var a,l;return ST.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a="mui"===g&&"reset"===n,(l=r)!==m&&l!==y&&!a){e.next=4;break}return e.abrupt("return");case 4:if(r==D){e.next=13;break}if(V(l),!(o&&(!i||!!l))){e.next=12;break}return e.next=10,le(l);case 10:e.next=13;break;case 12:o&&i&&W([]);case 13:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}();return{options:"mui"===g?nW(re):re,listValues:K,hasValue:ne,selectedListValue:oe,open:w,onOpen:se,onClose:ue,onDropdownVisibleChange:function(e){e?se():ue()},onChange:ce,inputValue:D,onInputChange:de,canShowLoadMore:te,isInitialLoading:Z,isLoading:Q,isLoadingMore:L,isSpecialValue:function(e){var t=(null==e?void 0:e.specialValue)||(null==e?void 0:e.value);return v.includes(t)},extendOptions:function(e){var t=lk(e);return n&&(te?t.push({specialValue:"LOAD_MORE",title:m}):L&&t.push({specialValue:"LOADING_MORE",title:y,disabled:!0})),t},getOptionSelected:function(e,t){if(null==t)return null;var r=null!=t.value?t.value:t;return e.value===r},getOptionDisabled:function(e){return e&&e.disabled},getOptionIsCustom:function(e){var t;if(null!=e&&e.isCustom)return!0;var r=null!==(t=null==e?void 0:e.value)&&void 0!==t?t:e,n=lW(r,K);return(null==n?void 0:n.isCustom)||!1},getOptionLabel:function(e){if(null==e)return null;var t=null!=e.value?e:eW(lW(e,K));return!t&&e.specialValue?e.title:!t&&s?e:t?t.title||t.label:e},aPlaceholder:b}},AW=[];const PW=function(e){var t=e.allowCustomValues,r=e.multiple,n=e.disableClearable,o=e.value,i=e.customProps,a=e.readonly,l=e.config,s=e.filterOptionsConfig,u=e.errorText,c=g.useCallback((function(e){var t=l.settings.listKeysForSearch.map((function(t){return"string"==typeof e[t]?e[t]:""})).join("\0");return t}),[l]),d=In(s||{stringify:c}),p=qW(e,{debounceTimeout:100,multiple:r,uif:"mui"}),f=p.open,h=p.onOpen,v=p.onClose,m=p.onChange,y=p.onInputChange,b=p.inputValue,_=p.options,x=p.isInitialLoading,O=p.isLoading,S=p.aPlaceholder,k=p.extendOptions,j=p.getOptionDisabled,E=p.getOptionIsCustom,C=p.getOptionLabel,T=p.selectedListValue,q=l.settings,A=q.defaultSelectWidth,P=(q.defaultSearchWidth,i||{}),I=P.width,L=Xr(P,EW),R=L.input||{};R.width,R=YC(R,["width"]);var M=YC(L,["showSearch","showCheckboxes"]),F=I||A,D={width:r?void 0:F,minWidth:F},V=a?"":S,z=null!=o?o:r?AW:null;return N.createElement(pr,{fullWidth:false},N.createElement(io,w({disableClearable:n,disableCloseOnSelect:r,fullWidth:false,multiple:r,style:D,freeSolo:t,loading:x,open:f,onOpen:h,onClose:v,inputValue:b,onInputChange:y,label:V,onChange:m,value:z,disabled:a,readOnly:a,options:_,groupBy:function(e){return null==e?void 0:e.groupTitle},getOptionLabel:C,getOptionDisabled:j,renderInput:function(e){var t,n=!r&&!f,o=null!==(t=null==T?void 0:T.title)&&void 0!==t?t:"",i=n?o:r&&!f?"":null!=b?b:"";return N.createElement(cr,w({variant:"standard"},e,{inputProps:TW(TW({},e.inputProps),{},{value:i}),InputProps:TW(TW({},e.InputProps),{},{readOnly:a,endAdornment:N.createElement(N.Fragment,null,O?N.createElement(zt,{color:"inherit",size:20}):null,e.InputProps.endAdornment)}),disabled:a,placeholder:V,error:!!u},R))},renderTags:function(e,t){return e.map((function(e,r){return N.createElement(Et,w({key:e.value,label:C(e),size:"small",variant:E(e)?"outlined":"filled"},t({index:r})))}))},renderOption:function(e,t){var n=t.title,i=t.renderTitle,a=t.value,l=t.isHidden,s=r?(o||[]).includes(a):o==a,u=E(t)?"customSelectOption":void 0,c=N.createElement("span",{className:u},i||n);return l?null:t.specialValue?N.createElement("div",e,i||n):r?N.createElement(Vt,w({},e,{size:"small",selected:s}),!s&&N.createElement(xo,{inset:!0},c),s&&N.createElement(N.Fragment,null,N.createElement(yo,null,N.createElement(OW,null)),c)):N.createElement("div",e,c)},filterOptions:function(e,t){var r=d(e,t);return k(r)},isOptionEqualToValue:function(e,t){return(null==e?void 0:e.value)==t},size:"small"},M)))};var IW=["items","selectedKey","setField","isValueField"];function LW(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function NW(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?LW(Object(r),!0).forEach((function(t){y(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LW(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var RW={key:"_value2",path:"value",label:"title",altLabel:"_altLabel",tooltip:"tooltip",grouplabel:"groupTitle"},MW=function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t.map((function(t){var n=t.items,o=t.path,i=t.key,a=t.label,l=t.altLabel,s=t.disabled,u=t.grouplabel,c=t.matchesType,d=t.tooltip,p="  ".repeat(r);return n?e(n,r+1):{title:a,renderTitle:c?N.createElement("b",null,p+a):p+a,value:o,disabled:s,groupTitle:r>0?p+u:null,tooltip:d,_value2:i,_altLabel:l}})).flat(1/0)},FW=function(e,t){var r=e.items,n=e.selectedKey,o=e.setField,i=e.isValueField,a=Xr(e,IW),l=MW(r),s=n,u={stringify:g.useCallback((function(e){var r=t.settings.fieldItemKeysForSearch.map((function(e){return RW[e]})),n=r.map((function(t){return"string"==typeof e[t]?e[t]:""})).join("\0");return n}),[t])};return NW(NW({},a),{},{listValues:l,setValue:function(e,t){if(e||i)return o(e)},filterOptionsConfig:u,allowCustomValues:!1,multiple:!1,disableClearable:!i,value:s})};var DW={},VW=A;Object.defineProperty(DW,"__esModule",{value:!0});var zW=DW.default=void 0,BW=VW(we()),HW=j,WW=(0,BW.default)((0,HW.jsx)("path",{d:"M12 17c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm6-9h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6h1.9c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm0 12H6V10h12v10z"}),"LockOpen");zW=DW.default=WW;var UW={},$W=A;Object.defineProperty(UW,"__esModule",{value:!0});var YW=UW.default=void 0,GW=$W(we()),KW=j,JW=(0,GW.default)((0,KW.jsx)("path",{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zm3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2z"}),"Lock");YW=UW.default=JW;var QW={},XW=A;Object.defineProperty(QW,"__esModule",{value:!0});var ZW=QW.default=void 0,eU=XW(we()),tU=j,rU=(0,eU.default)((0,tU.jsx)("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6-1.41-1.41z"}),"ExpandMoreSharp");ZW=QW.default=rU;var nU,oU=!(null==Wr||null===(nU=Wr.propTypes)||void 0===nU||!nU.format);const iU={MuiTextWidget:function(e){var t=e.value,r=e.setValue,n=e.config,o=e.readonly,i=e.placeholder,a=e.customProps,l=e.maxLength,s=e.valueError,u=g.useState(t),c=ot(u,2),d=c[0],p=c[1];g.useEffect((function(){t!==d&&p(t)}),[t]);var f=(!!n.settings.showErrorMessage||!s?d:t)||"";return N.createElement(pr,null,N.createElement(cr,w({variant:"standard",value:f,placeholder:o?"":i,InputProps:{readOnly:o},inputProps:{maxLength:l},disabled:o,onChange:function(e){var t=e.target.value;""===t&&(t=void 0),p(t),r(t,void 0,true)},size:"small"},a)))},MuiTextAreaWidget:function(e){var t=e.value,r=e.setValue,n=e.config,o=e.readonly,i=e.placeholder,a=e.customProps,l=e.maxLength,s=e.maxRows,u=e.fullWidth,c=n.settings.defaultMaxRows,d=t||"";return N.createElement(pr,{fullWidth:u},N.createElement(cr,w({variant:"standard",fullWidth:u,maxRows:s||c,multiline:!0,value:d,placeholder:o?"":i,InputProps:{readOnly:o},inputProps:{maxLength:l},disabled:o,onChange:function(e){var t=e.target.value;""===t&&(t=void 0),r(t)},size:"small"},a)))},MuiDateWidget:function(e){var t,r=e.value,n=e.setValue,o=e.readonly,i=e.customProps,a=e.dateFormat,l=e.valueFormat,s=e.placeholder,u=!(null==Wr||null===(t=Wr.propTypes)||void 0===t||!t.format),c=u?{format:a,slotProps:{textField:{size:"small",variant:"standard"},toolbar:{toolbarPlaceholder:o?"":s}}}:{inputFormat:a,renderInput:function(e){return N.createElement(cr,w({size:"small",variant:"standard"},e))},toolbarPlaceholder:o?"":s},d=r?u&&"string"==typeof r?hW(r,l):r:null;return N.createElement(pr,null,N.createElement(Wr,w({desktopModeMediaQuery:"@media (pointer: fine), (pointer: none)",readOnly:o,disabled:o,value:d,onChange:function(e){n(function(e){return e&&e.isValid()?e.format(l):void 0}(e))}},c,i)))},MuiDateTimeWidget:function(e){var t,r=e.value,n=e.setValue,o=e.use12Hours,i=e.readonly,a=e.placeholder,l=e.dateFormat,s=e.timeFormat,u=e.valueFormat,c=e.customProps,d=!(null==Tr||null===(t=Tr.propTypes)||void 0===t||!t.format),p=l+" "+s,f=d?{format:p,slotProps:{textField:{size:"small",variant:"standard"},toolbar:{toolbarPlaceholder:i?"":a}}}:{inputFormat:p,renderInput:function(e){return N.createElement(cr,w({size:"small",variant:"standard"},e))},toolbarPlaceholder:i?"":a},h=r?d&&"string"==typeof r?gW(r,u):r:null;return N.createElement(pr,null,N.createElement(Tr,w({desktopModeMediaQuery:"@media (pointer: fine), (pointer: none)",readOnly:i,disabled:i,ampm:!!o,value:h,onChange:function(e){n(function(e){return e&&e.isValid()?e.format(u):void 0}(e))}},f,c)))},MuiTimeWidget:function(e){var t,r=e.value,n=e.setValue,o=e.use12Hours,i=e.readonly,a=e.placeholder,l=e.timeFormat,s=e.valueFormat,u=e.customProps,c=!(null==Ur||null===(t=Ur.propTypes)||void 0===t||!t.format),d=-1!=l.indexOf(":ss"),p=r?vW(r,l):null,f=c?{format:l,slotProps:{textField:{size:"small",variant:"standard"},toolbar:{toolbarPlaceholder:i?"":a}}}:{inputFormat:l,renderInput:function(e){return N.createElement(cr,w({size:"small",variant:"standard"},e))},toolbarPlaceholder:i?"":a};return N.createElement(pr,null,N.createElement(Ur,w({desktopModeMediaQuery:"@media (pointer: fine), (pointer: none)",readOnly:i,disabled:i,ampm:!!o,value:p,onChange:function(e){n(function(e){return e&&e.isValid()?e.format(s):void 0}(e))},views:d?["hours","minutes","seconds"]:["hours","minutes"]},f,u)))},MuiSelectWidget:function(e){var t=e.listValues,r=e.value,n=e.setValue;e.allowCustomValues;var o=e.readonly,i=e.placeholder,a=e.customProps,l=function(e){return mW(t,(function(t){var r=t.title;return t.value===e?r:null})).filter((function(e){return null!==e})).shift()},s=null!=r;return N.createElement(pr,null,N.createElement(hr,w({variant:"standard",autoWidth:!0,displayEmpty:!0,placeholder:o?"":i,onChange:function(e){void 0!==e.target.value&&n(e.target.value)},value:s?r:"",disabled:o,readOnly:o,renderValue:function(e){return o||null!=e?l(e):i},size:"small"},YC(a,["showSearch","input"])),mW(t,(function(e){var t=e.title,r=e.value;return N.createElement(Vt,{key:r,value:r},t)}))))},MuiNumberWidget:function(e){var t=e.value,r=e.setValue;e.config;var n=e.readonly,o=e.min,i=e.max,a=e.step,l=e.placeholder,s=e.customProps,u=null==t?"":t;return N.createElement(pr,null,N.createElement(cr,w({variant:"standard",type:"number",value:u,placeholder:n?"":l,InputProps:{readOnly:n},inputProps:{min:o,max:i,step:a},disabled:n,onChange:function(e){var t=e.target.value;t=""===t||null===t?void 0:Number(t),r(t)},size:"small"},s)))},MuiSliderWidget:function(e){var t=e.config,r=e.placeholder,n=e.customProps,o=e.value,i=e.setValue,a=e.min,l=e.max,s=e.step,u=e.marks,c=e.readonly,d=t.settings.defaultSliderWidth,p=g.useCallback((function(e,t){i(t)}),[]),f=n||{},h=f.width,v=Xr(f,yW),m=v.input||{},y=v.slider||v,_="number"==typeof o?o:"",x="number"==typeof o?o:null,O=g.useMemo((function(){return!!u&&Object.keys(u).map((function(e){return{value:Number(e),label:"object"===b(u[e])||void 0===u[e]?u[e]:N.createElement("p",null,u[e])}}))}),[u]),S=N.createElement(cr,w({variant:"standard",type:"number",value:_,placeholder:r,InputProps:{readOnly:c},inputProps:{min:a,max:l,step:s},disabled:c,onChange:function(e){var t=e.target.value;t=""===t||null===t?void 0:Number(t),i(t)},onBlur:function(){o<a?i(a):o>l&&i(l)},size:"small"},m)),k=N.createElement(Io,w({value:x,onChange:p,disabled:c,min:a,max:l,step:s,marks:O,valueLabelDisplay:"auto",size:"small"},y)),j={marginLeft:"5px",paddingLeft:"12px",marginBottom:O&&"-16px",width:h||d};return N.createElement(pr,null,N.createElement("div",{style:{display:"inline-flex",alignItems:"center",flexWrap:"wrap"}},N.createElement("div",{style:{marginLeft:"5px"}},S),N.createElement("div",{style:j},k)))},MuiRangeWidget:function(e){var t=e.config,r=e.placeholders,n=e.customProps,o=e.value,i=e.setValue,a=e.min,l=e.max,s=e.step,u=e.marks,c=e.readonly,d=e.textSeparators,p=t.settings.defaultSliderWidth;g.useEffect((function(){var t=e.value||[void 0,void 0],r=ot(t,2),n=r[0],o=r[1];!e.value||null!=n&&null!=o||setTimeout((function(){var e=n||o;i([e,e])}),1)}),[]);var f=function(){o&&(o[0]<a?i([a,o[1]]):o[1]>l&&i([o[0],l]))},h=n||{},v=h.width,m=Xr(h,bW),y=m.input||{},_=m.slider||m,x=!!u&&Object.keys(u).map((function(e){return{value:Number(e),label:"object"===b(u[e])||void 0===u[e]?u[e]:N.createElement("p",null,u[e])}})),O=o?lk(o):[void 0,void 0],S=ot(O,2),k=S[0],j=S[1];null==k&&(k="",O[0]=0),null==j&&(j="",O[1]=0);var E=N.createElement(cr,w({variant:"standard",type:"number",value:k,placeholder:r[0],InputProps:{readOnly:c},inputProps:{min:a,max:l,step:s},disabled:c,onChange:function(t){var r=t.target.value;r=""===r||null==r?void 0:Number(r);var n=e.value?lk(e.value):[void 0,void 0];n[0]=r,i(n)},onBlur:f,size:"small"},y)),C=N.createElement(cr,w({variant:"standard",type:"number",value:j,placeholder:r[1],InputProps:{readOnly:c},inputProps:{min:a,max:l,step:s},disabled:c,onChange:function(t){var r=t.target.value;r=""===r||null==r?void 0:Number(r);var n=e.value?lk(e.value):[void 0,void 0];n[1]=r,i(n)},onBlur:f,size:"small"},y)),T=N.createElement(Io,w({value:O,onChange:function(e,t){i(t)},disabled:c,min:a,max:l,step:s,marks:x,valueLabelDisplay:"auto",size:"small"},_)),q={marginLeft:"5px"},A={marginLeft:"5px",paddingLeft:"12px",marginBottom:x&&"-16px",width:v||p};return N.createElement(pr,null,N.createElement("div",{style:{display:"inline-flex",flexWrap:"wrap"}},N.createElement("div",{style:q},E),N.createElement("div",{className:"widget--sep"},N.createElement("span",null,d[1])),N.createElement("div",{style:q},C),N.createElement("div",{style:A},T)))},MuiBooleanWidget:function(e){var t=e.customProps,r=e.value,n=e.setValue,o=e.labelYes,i=e.labelNo,a=e.readonly;return N.createElement(pr,null,N.createElement(ge,{component:"div"},N.createElement(Er,{component:"label",container:!0,alignItems:"center",spacing:0},N.createElement(Er,{item:!0,component:"span"},i),N.createElement(Er,{item:!0,component:"span"},N.createElement(Dt,w({checked:!!r,onChange:function(){n(!r)},disabled:a},t))),N.createElement(Er,{item:!0,component:"span"},o))))},MuiMultiSelectWidget:function(e){var t=e.listValues,r=e.value,n=e.setValue;e.allowCustomValues;var o,i=e.readonly,a=e.placeholder,l=e.customProps,s=null!=r&&r.length>0;return N.createElement(pr,null,N.createElement(hr,w({multiple:!0,variant:"standard",autoWidth:!0,displayEmpty:!0,label:i?"":a,onChange:function(e){void 0!==e.target.value&&n(e.target.value)},value:s?r:[],disabled:i,readOnly:i,renderValue:function(e){if(!i&&!e.length)return a;var r=_W(t,(function(t){var r=t.title,n=t.value;return e.indexOf(n)>-1?r:null})).filter((function(e){return null!==e}));return r.join(", ")},size:"small"},YC(l,["showSearch","input","showCheckboxes"])),(o=s?r:[],_W(t,(function(e){var t=e.title,r=e.value;return N.createElement(Vt,{key:r,value:r},N.createElement(Hr,{checked:o.indexOf(r)>-1}),N.createElement(xo,{primary:t}))})))))},MuiAutocompleteWidget:PW,MuiFieldSelect:function(e){var t=e.items,r=e.setField,n=e.selectedKey,o=e.readonly,i=e.placeholder,a=e.errorText,l=null!=n;return N.createElement(pr,null,N.createElement(hr,{error:!!a,variant:"standard",autoWidth:!0,displayEmpty:!0,placeholder:i,onChange:function(e){void 0!==e.target.value&&r(e.target.value)},value:l?n:"",disabled:o,renderValue:function(e){if(!o&&!e)return i;return function t(r){return r.map((function(r){return r.items?t(r.items):r.path===e?r.label:null}))}(t).filter((function(e){return Array.isArray(e)?e.some((function(e){return null!==e})):null!==e})).pop()},size:"small"},function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Object.keys(t).map((function(n){var o=t[n],i=o.items,a=o.path,l=o.label,s=o.disabled,u=o.matchesType,c="  ".repeat(r);return i?[N.createElement(Bn,{disabled:s,key:a,disableSticky:!0},c&&N.createElement("span",null,c),l),e(i,r+1)]:N.createElement(Vt,{disabled:s,key:a,value:a},c&&N.createElement("span",null,c),u?N.createElement("b",null,l):l)}))}(t)))},MuiFieldAutocomplete:function(e){return N.createElement(PW,FW(e,e.config))},MuiButton:function(e){var t=e.type,r=e.label,n=e.onClick,o=e.readonly;e.config;var i={delGroup:N.createElement($r,null),delRuleGroup:N.createElement($r,null),delRule:N.createElement($r,null),addRule:N.createElement(Hg,null),addGroup:N.createElement(Hg,null),addRuleGroupExt:N.createElement(Hg,null),addRuleGroup:N.createElement(Hg,null)},a={addRule:"neutral",addGroup:"primary",delGroup:"secondary",delRuleGroup:"secondary",delRule:"secondary"};return!r||{addRuleGroup:!0,addRuleGroupExt:!0}[t]?N.createElement(pe,{size:"small",disabled:o,onClick:n,color:a[t]},i[t]):N.createElement(Me,{size:"small",disabled:o,onClick:n,color:a[t],startIcon:i[t]},r)},MuiButtonGroup:function(e){var t=e.children;return e.config,N.createElement(N.Fragment,null,t)},MuiConjs:function(e){var t=e.id,r=e.not,n=e.setNot,o=e.conjunctionOptions,i=e.setConjunction,a=e.disabled,l=e.readonly,s=e.config,u=e.showNot,c=e.notLabel,d=Object.keys(o).length,p=a,f=s.settings.forceShowConj||d>1&&!p,h=function(e){return i(e)},g=function(e){return n(e)};return N.createElement(pr,null,N.createElement(uo,{disableElevation:!0,variant:"contained",size:"small",disabled:l},u&&(l&&!r?null:N.createElement(Me,{key:t,id:t+"__not",color:r?"secondary":"neutral",onClick:g.bind(null,!r),disabled:l},c||"NOT")),f&&Object.keys(o).map((function(e){var t=o[e],r=t.id;t.name;var n=t.label,s=t.checked,u=i.isDummyFn?"__dummy":"";return!l&&!a||s?N.createElement(Me,{key:r+u,id:r+u,color:s?"primary":"neutral",value:e,onClick:h.bind(null,e),disabled:l||a},n):null}))))},MuiSwitch:function(e){var t=e.value,r=e.setValue,n=e.label,o=e.checkedLabel,i=e.hideLabel,a=e.id,l=e.config,s=e.type;l.settings.renderSize;var u=function(){return r(!t)},c=s,d=t&&o||n,p=t?N.createElement(YW,null):N.createElement(zW,null);return"lock"==s?i?N.createElement(pe,{key:a+c,onClick:u,size:"small"},p):N.createElement(Me,{key:a+c,onClick:u,size:"small",startIcon:p},d):N.createElement(Br,{control:N.createElement(Dt,{checked:!!t,size:"small",onChange:function(e){return r(e.target.checked)}}),label:d})},MuiValueSources:function(e){var t=e.valueSources,r=e.valueSrc,n=e.title,o=e.setValueSrc;e.readonly;var i=N.useState(null),a=ot(i,2),l=a[0],s=a[1],u=function(){s(null)},c=Boolean(l);return N.createElement("div",null,N.createElement(pe,{size:"small",onClick:function(e){l?u():function(e){s(e.currentTarget)}(e)}},N.createElement(ZW,null)),N.createElement(gr,{anchorEl:l,open:c,onClose:u},N.createElement(pr,{component:"fieldset",sx:{p:0}},N.createElement(fr,{component:"legend",sx:{p:2,pt:0,pb:1}},n),function(e){return e.map((function(e){var t=ot(e,2),n=t[0],i=t[1],a=r==n||!r&&"value"==n;return N.createElement(Vt,{key:n,value:n,selected:a,onClick:function(e){return function(e,t){o(t),u()}(0,n)}},!a&&N.createElement(xo,{inset:!0},i.label),a&&N.createElement(N.Fragment,null,N.createElement(yo,null,N.createElement(OW,null)),i.label))}))}(t))))},MuiConfirm:function(e){var t=e.onOk,r=e.okText,n=e.cancelText,o=e.title;(0,e.confirmFn)({description:o||"Are you sure?",title:null,confirmationText:r||"Ok",cancellationText:n||"Cancel"}).then(t).catch((function(){}))},MuiUseConfirm:function(){return g.useContext(Y_)},MuiProvider:function(e){var t=e.config,r=e.children,n=t.settings.theme||{},o=t.settings.locale||{},i=o.moment,a=n.mui,l=o.mui,s=J(a,l,{palette:{neutral:{main:"#64748B",contrastText:"#fff"}}}),u=oU?{locale:i}:{adapterLocale:i},c=N.createElement("div",{className:"mui"},r),d=N.createElement(qr,w({dateAdapter:ak},u),N.createElement(Q_,null,c));return s?N.createElement(lt,{theme:s},d):d}};function aU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function lU(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?aU(Object(r),!0).forEach((function(t){y(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aU(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var sU=lU(lU({},zH.settings),{},{renderField:function(e,t){var r,n=t.RCE,o=t.W,i=o.MuiFieldAutocomplete,a=o.MuiFieldSelect;return null!=e&&null!==(r=e.customProps)&&void 0!==r&&r.showSearch?n(i,e):n(a,e)},renderOperator:function(e,t){return(0,t.RCE)(t.W.MuiFieldSelect,e)},renderFunc:function(e,t){return(0,t.RCE)(t.W.MuiFieldSelect,e)},renderConjs:function(e,t){return(0,t.RCE)(t.W.MuiConjs,e)},renderSwitch:function(e,t){return(0,t.RCE)(t.W.MuiSwitch,e)},renderButton:function(e,t){return(0,t.RCE)(t.W.MuiButton,e)},renderButtonGroup:function(e,t){return(0,t.RCE)(t.W.MuiButtonGroup,e)},renderValueSources:function(e,t){return(0,t.RCE)(t.W.MuiValueSources,e)},renderFieldSources:function(e,t){return(0,t.RCE)(t.W.MuiValueSources,e)},renderProvider:function(e,t){return(0,t.RCE)(t.W.MuiProvider,e)},renderConfirm:function(e,t){return(0,t.W.MuiConfirm)(e)},useConfirm:function(e){return(0,e.W.MuiUseConfirm)()}}),uU=lU(lU({},zH.widgets),{},{text:lU(lU({},zH.widgets.text),{},{factory:function(e,t){return(0,t.RCE)(t.W.MuiTextWidget,e)}}),textarea:lU(lU({},zH.widgets.textarea),{},{factory:function(e,t){return(0,t.RCE)(t.W.MuiTextAreaWidget,e)}}),number:lU(lU({},zH.widgets.number),{},{factory:function(e,t){return(0,t.RCE)(t.W.MuiNumberWidget,e)}}),multiselect:lU(lU({},zH.widgets.multiselect),{},{factory:function(e,t){var r=t.RCE,n=t.W,o=n.MuiAutocompleteWidget,i=n.MuiMultiSelectWidget;return e.asyncFetch||e.showSearch?r(o,lU(lU({},e),{},{multiple:!0})):r(i,e)}}),select:lU(lU({},zH.widgets.select),{},{factory:function(e,t){var r=t.RCE,n=t.W,o=n.MuiAutocompleteWidget,i=n.MuiSelectWidget;return e.asyncFetch||e.showSearch?r(o,e):r(i,e)}}),slider:lU(lU({},zH.widgets.slider),{},{factory:function(e,t){return(0,t.RCE)(t.W.MuiSliderWidget,e)}}),boolean:lU(lU({},zH.widgets.boolean),{},{factory:function(e,t){return(0,t.RCE)(t.W.MuiBooleanWidget,e)}}),date:lU(lU({},zH.widgets.date),{},{factory:function(e,t){return(0,t.RCE)(t.W.MuiDateWidget,e)}}),time:lU(lU({},zH.widgets.time),{},{factory:function(e,t){return(0,t.RCE)(t.W.MuiTimeWidget,e)}}),datetime:lU(lU({},zH.widgets.datetime),{},{factory:function(e,t){return(0,t.RCE)(t.W.MuiDateTimeWidget,e)}}),rangeslider:lU(lU({},zH.widgets.rangeslider),{},{factory:function(e,t){return(0,t.RCE)(t.W.MuiRangeWidget,e)}})}),cU=lU({},zH.types),dU=lU(lU({},zH.ctx),{},{W:lU(lU({},zH.ctx.W),iU)}),pU=lU(lU({},zH),{},{ctx:dU,types:cU,widgets:uU,settings:sU});const fU=pU=fW.ConfigMixins.addMixins(pU,["rangeslider"]),hU=fU,gU=e=>'<span class="logicField">'+e+"</span>",vU=e=>'<span class="logicOp">'+e+"</span>",mU=(e,t)=>'<span class="logicValue">'+("text"==t?'"'+e+'"':e)+"</span>",yU={AND:hU.conjunctions.AND,OR:hU.conjunctions.OR},bU=d(d({},hU.operators),{},{less:d(d({},hU.operators.less),{},{formatOp:(e,t,r,n,o,i,a,l,s)=>`${gU(e)} ${vU("<")} ${mU(r,o)}`}),less_or_equal:d(d({},hU.operators.less_or_equal),{},{formatOp:(e,t,r,n,o,i,a,l,s)=>`${gU(e)} ${vU("<=")} ${mU(r,o)}`}),greater:d(d({},hU.operators.greater),{},{formatOp:(e,t,r,n,o,i,a,l,s)=>`${gU(e)} ${vU(">")} ${mU(r,o)}`}),greater_or_equal:d(d({},hU.operators.greater_or_equal),{},{formatOp:(e,t,r,n,o,i,a,l,s)=>`${gU(e)} ${vU(">=")} ${mU(r,o)}`}),equal:d(d({},hU.operators.equal),{},{label:"Equals",jsonLogic:"==",formatOp:(e,t,r,n,o,i,a,l,s)=>{const u=l?"equals":i.label;return`${gU(e)} ${vU(u)} ${mU(r,o)}`}}),not_equal:d(d({},hU.operators.not_equal),{},{label:"Not Equals",jsonLogic:"!=",formatOp:(e,t,r,n,o,i,a,l,s)=>{const u=l?"not equals":i.label;return`${gU(e)} ${vU(u)} ${mU(r,o)}`}}),starts_with:d(d({},hU.operators.starts_with),{},{jsonLogic:"startsWith",formatOp:(e,t,r,n,o,i,a,l,s)=>{const u=l?"starts with":i.label;return`${gU(e)} ${vU(u)} ${mU(r,o)}`}}),ends_with:d(d({},hU.operators.ends_with),{},{jsonLogic:"endsWith",formatOp:(e,t,r,n,o,i,a,l,s)=>{const u=l?"ends with":i.label;return`${gU(e)} ${vU(u)} ${mU(r,o)}`}}),between:d(d({},hU.operators.between),{},{label:"Between",jsonLogic:"between",formatOp:(e,t,r,n,o,i,a,l)=>{let s=r.first(),u=r.get(1);return l?`${gU(e)} ${vU("between")} ${mU(s,o)} ${vU("and")} ${mU(u,o)}`:`${e} >= ${s} && ${e} <= ${u}`}}),not_between:d(d({},hU.operators.not_between),{},{label:"Not Between",jsonLogic:"not_between",formatOp:(e,t,r,n,o,i,a,l)=>{let s=r.first(),u=r.get(1);return l?`${gU(e)} ${vU("not between")} ${mU(s,o)} ${vU("and")} ${mU(u,o)}`:`${e} >= ${s} && ${e} <= ${u}`}}),like:d(d({},hU.operators.like),{},{label:"Contains",jsonLogic:"contains",_jsonLogicIsRevArgs:!1,formatOp:(e,t,r,n,o,i,a,l,s)=>{const u=l?"contains":i.label;return`${gU(e)} ${vU(u)} ${mU(r,o)}`}}),not_like:d(d({},hU.operators.not_like),{},{label:"Not Contains",jsonLogic:"not_contains",formatOp:(e,t,r,n,o,i,a,l,s)=>{const u=l?"does not containends with":i.label;return`${gU(e)} ${vU(u)} ${mU(r,o)}`}}),select_any_in:d(d({},hU.operators.select_any_in),{},{label:"Any In",jsonLogic:"in",formatOp:(e,t,r,n,o,i,a,l)=>{let s=r.join(", ");return`${gU(e)} ${vU("in")} (${mU(s,"")})`}}),select_not_any_in:d(d({},hU.operators.select_not_any_in),{},{label:"None In",jsonLogic:"not_in",formatOp:(e,t,r,n,o,i,a,l)=>{let s=r.join(", ");return`${gU(e)} ${vU("not in")} (${mU(s,"")})`}}),multiselect_equals:d(d({},hU.operators.multiselect_equals),{},{label:"Any In",jsonLogic:"any_in",formatOp:(e,t,r,n,o,i,a,l)=>{let s=r.join(", ");return`${vU("Any of")} (${mU(s,"")}) in ${gU(e)} ${vU("is selected")}`}}),multiselect_not_equals:d(d({},hU.operators.multiselect_not_equals),{},{label:"None In",jsonLogic:"none_in",formatOp:(e,t,r,n,o,i,a,l)=>{let s=r.join(", ");return`${vU("None of")} (${mU(s,"")}) in ${gU(e)} ${vU("is selected")}`}}),is_relevant:{label:"Is Displayed",jsonLogic:"relevance",cardinality:0,formatOp:(e,t,r,n,o,i,a,l)=>`${gU(e)} ${mU("is shown")}`},is_not_relevant:{label:"Is Hidden",jsonLogic:"not_relevance",cardinality:0,formatOp:(e,t,r,n,o,i,a,l)=>`${gU(e)} ${mU("is not shown")}`},is_valid:{label:"Is Valid",jsonLogic:"validity",cardinality:0,formatOp:(e,t,r,n,o,i,a,l)=>`${gU(e)} ${mU("is valid")}`},is_not_valid:{label:"Is Not Valid",jsonLogic:"not_validity",cardinality:0,formatOp:(e,t,r,n,o,i,a,l)=>`${gU(e)} ${mU("is not valid")}`},is_void:{cardinality:0,label:"Is Empty",jsonLogic:"is_void",formatOp:(e,t,r,n,o,i,a,l)=>`${gU(e)} ${mU("is empty")}`},is_online:{cardinality:0,label:"Is Online",jsonLogic:"is_online",formatOp:(e,t,r,n,o,i,a,l)=>`${gU(e)} ${mU("is online")}`},is_offline:{cardinality:0,label:"Is Offline",jsonLogic:"is_offline",formatOp:(e,t,r,n,o,i,a,l)=>`${gU(e)} ${mU("is Offline")}`},is_not_void:{cardinality:0,label:"Is not Empty",jsonLogic:"is_not_void",formatOp:(e,t,r,n,o,i,a,l)=>`${gU(e)} ${mU("is not empty")}`},is_file_void:{cardinality:0,label:"Is Empty",jsonLogic:"is_file_void",formatOp:(e,t,r,n,o,i,a,l)=>`${gU(e)} ${mU("is empty")}`},is_file_not_void:{cardinality:0,label:"Is not Empty",jsonLogic:"is_file_not_void",formatOp:(e,t,r,n,o,i,a,l)=>`${gU(e)} ${mU("is not empty")}`}}),_U=d(d({},hU.widgets),{},{text:d({},hU.widgets.text),slider:d(d({},hU.widgets.slider),{},{customProps:{width:"300px"}}),rangeslider:d(d({},hU.widgets.rangeslider),{},{customProps:{width:"300px"}}),date:d(d({},hU.widgets.date),{},{dateFormat:"DD.MM.YYYY",valueFormat:"YYYY-MM-DD"}),time:d(d({},hU.widgets.time),{},{timeFormat:"HH:mm",valueFormat:"HH:mm:ss"}),datetime:d(d({},hU.widgets.datetime),{},{timeFormat:"HH:mm",dateFormat:"DD.MM.YYYY",valueFormat:"YYYY-MM-DD HH:mm:ss"}),func:d(d({},hU.widgets.func),{},{customProps:{showSearch:!0}}),treeselect:d(d({},hU.widgets.treeselect),{},{customProps:{showSearch:!0}})}),xU=d(d({},hU.types),{},{boolean:Bt(hU.types.boolean,{widgets:{boolean:{widgetProps:{hideOperator:!0,operatorInlineLabel:"is"}}}})}),wU=d(d(d({},hU.settings),{valueLabel:"Value",valuePlaceholder:"Value",fieldLabel:"Field",operatorLabel:"Operator",fieldPlaceholder:"Select field",operatorPlaceholder:"Select operator",deleteLabel:null,addGroupLabel:"Add group",addRuleLabel:"Add rule",addSubRuleLabel:"Add sub rule",delGroupLabel:null,notLabel:"Not",valueSourcesPopupTitle:"Select value source",removeRuleConfirmOptions:{title:"Are you sure delete this rule?",okText:"Yes",okType:"danger"},removeGroupConfirmOptions:{title:"Are you sure delete this group?",okText:"Yes",okType:"danger"}}),{},{valueSourcesInfo:{value:{label:"Value"},field:{label:"Field",widget:"field"},func:{label:"Function",widget:"func"}},canReorder:!1,showNot:!1,maxNesting:1,canLeaveEmptyGroup:!1}),OU={ctx:fU.ctx,conjunctions:yU,operators:bU,widgets:_U,types:xU,settings:wU,funcs:{}};function SU(e){const t=fW.jsonLogicFormat,r=fW.queryString,n=fW.loadTree,o=fW.uuid,i=fW.loadFromJsonLogic,a=fW.checkTree,l=d(d({},OU),{},{fields:e.fields}),s=e.logic?a(i(e.logic,l),l):n({id:o(),type:"group"}),u=f(g.useState(s),2),c=u[0],p=u[1],h=f(g.useState(r(c,l,!0)),2),v=h[0],m=h[1];return j.jsxs(j.Fragment,{children:[j.jsxs("div",{className:"query-builder-result",children:[e.logic&&v?j.jsx("pre",{className:"condition-human-text",children:st(Ae(v),50)}):j.jsx("pre",{className:"condition-human-text",children:e.t("no_condition")}),j.jsx("div",{className:"icon-container",children:j.jsx(pe,{onClick:()=>e.onDialogStateChanged(!0),children:j.jsx(Lo,{})})})]},"result"),j.jsxs(Pr,{fullScreen:!0,sx:{margin:"200px"},open:e.dialogOpen,onClose:()=>e.onDialogStateChanged(!1),"aria-labelledby":"alert-dialog-title-logic-builder","aria-describedby":"alert-dialog-description",children:[j.jsx(Ft,{id:"alert-dialog-title-logic-builder",children:e.title}),j.jsx(Ir,{children:j.jsx(UD,d(d({},l),{},{value:c,onChange:e=>{p(e)},renderBuilder:e=>j.jsx("div",{jey:"builder",className:"query-builder-container",children:j.jsx("div",{className:"query-builder",children:j.jsx(fH,d({},e))})})}))}),j.jsx(Cr,{children:j.jsx(Me,{onClick:()=>{e.onDialogStateChanged(!1),(()=>{const n=t(c,l),o=n.logic;n.errors,m(r(c,l,!0)),e.onChange(o)})()},autoFocus:!0,variant:"contained",children:"Agree"})})]})]})}const kU=(e,t,r,n)=>{var o,i,a,l,s,u,c,d,p,f,h;const g=e+". "+Ae((null===(o=t.content)||void 0===o||null===(o=o.label)||void 0===o?void 0:o[n])||"");if(je(e))return{[e]:{label:g,type:"text",valueSources:["value"],operators:["is_relevant","is_not_relevant","is_valid","is_not_valid"]}};switch(t.type){case"text":case"barcode":case"email":return{[e]:{label:g,type:"text",valueSources:["value"],operators:["is_relevant","is_not_relevant","is_valid","is_not_valid","is_void","is_not_void","equal","not_equal","like","not_like","starts_with","ends_with"]}};case"paragraph":return{[e]:{label:g,type:"text",valueSources:["value"],operators:["is_relevant","is_not_relevant","is_valid","is_not_valid","is_void","is_not_void","like","not_like","starts_with","ends_with"]}};case"number":return{[e]:{label:g,type:"number",valueSources:["value"],operators:["is_relevant","is_not_relevant","is_valid","is_not_valid","is_void","is_not_void","equal","not_equal","less","less_or_equal","greater","greater_or_equal","between","not_between"]}};case"file_upload":return{[e]:{label:g,type:"text",valueSources:["value"],operators:["is_relevant","is_not_relevant","is_valid","is_not_valid","is_file_void","is_file_not_void"]}};case"signature":case"photo_capture":case"video_capture":return{[e]:{label:g,type:"text",valueSources:["value"],operators:["is_relevant","is_not_relevant","is_valid","is_not_valid","is_file_void","is_file_not_void"]}};case"date":return{[e]:{label:g,type:"date",valueSources:["value"],operators:["is_relevant","is_not_relevant","is_valid","is_not_valid","is_void","is_not_void","greater_or_equal","less_or_equal","between"]}};case"time":return{[e]:{label:g,type:"time",valueSources:["value"],operators:["is_relevant","is_not_relevant","is_valid","is_not_valid","is_void","is_not_void","greater_or_equal","less_or_equal","between"]}};case"date_time":return{[e]:{label:g,type:"datetime",valueSources:["value"],operators:["is_relevant","is_not_relevant","is_valid","is_not_valid","is_void","is_not_void","greater_or_equal","less_or_equal","between"]}};case"image_scq":case"icon_scq":case"scq":let o={},y={};null===(i=t.children)||void 0===i||i.forEach((e=>{var t;const o=Ae((null===(t=r[e.qualifiedCode].content)||void 0===t||null===(t=t.label)||void 0===t?void 0:t[n])||"");y[e.code]=o?e.code+" - "+o:e.code})),o[e]={label:g,fieldSettings:{listValues:y},type:"select",valueSources:["value"],operators:["is_relevant","is_not_relevant","is_valid","is_not_valid","is_void","is_not_void","select_any_in","select_not_any_in"]};let b=null===(a=t.children)||void 0===a?void 0:a.find((e=>"Aother"===e.code));var v;if(b&&null!==(l=r[b.qualifiedCode].children)&&void 0!==l&&l.find((e=>"Atext"===e.code)))o[e+"AotherAtext"]={label:`${g} [${(null===(v=r[b.qualifiedCode].content)||void 0===v||null===(v=v.label)||void 0===v?void 0:v[n])||""}]`,type:"text",valueSources:["value"],operators:["is_relevant","is_not_relevant","is_valid","is_not_valid","is_void","is_not_void","equal","not_equal","like","not_like","starts_with","ends_with"]};return o;case"image_mcq":case"icon_mcq":case"mcq":let _={},x={};null===(s=t.children)||void 0===s||s.forEach((e=>{var t;const o=Ae((null===(t=r[e.qualifiedCode].content)||void 0===t||null===(t=t.label)||void 0===t?void 0:t[n])||"");x[e.code]=o?e.code+" - "+o:e.code})),_[e]={label:g,fieldSettings:{listValues:x},type:"multiselect",valueSources:["value"],operators:["is_relevant","is_not_relevant","is_valid","is_not_valid","multiselect_equals","multiselect_not_equals"]};let w=null===(u=t.children)||void 0===u?void 0:u.find((e=>"Aother"===e.code));var m;if(w&&null!==(c=r[w.qualifiedCode].children)&&void 0!==c&&c.find((e=>"Atext"===e.code)))_[e+"AotherAtext"]={label:`${g} [${(null===(m=r[w.qualifiedCode].content)||void 0===m||null===(m=m.label)||void 0===m?void 0:m[n])||""}]`,type:"text",valueSources:["value"],operators:["is_relevant","is_not_relevant","is_valid","is_not_valid","is_void","is_not_void","equal","not_equal","like","not_like","starts_with","ends_with"]};return _;case"nps":let O={};return null===(d=t.children)||void 0===d||d.forEach((e=>{var t;const o=Ae((null===(t=r[e.qualifiedCode].content)||void 0===t||null===(t=t.label)||void 0===t?void 0:t[n])||"");x[e.code]=o?e.code+" - "+o:e.code})),O[e]={label:g,fieldSettings:{min:0,max:10},type:"number",valueSources:["value"],operators:["is_void","is_not_void","equal","not_equal","less","less_or_equal","greater","greater_or_equal","between","not_between"]},O;case"scq_icon_array":case"scq_array":let S={},k={};return null===(p=t.children)||void 0===p||p.filter((e=>"column"==e.type)).forEach((e=>{var t;const o=Ae((null===(t=r[e.qualifiedCode].content)||void 0===t||null===(t=t.label)||void 0===t?void 0:t[n])||"");k[e.code]=o?e.code+" - "+o:e.code})),S[e]={label:g,type:"text",valueSources:["value"],operators:["is_relevant","is_not_relevant","is_valid","is_not_valid"]},null===(f=t.children)||void 0===f||f.filter((e=>"row"==e.type)).forEach((t=>{var o;S[e+t.code]={label:g+" - "+Ae((null===(o=r[t.qualifiedCode].content)||void 0===o||null===(o=o.label)||void 0===o?void 0:o[n])||""),type:"select",valueSources:["value"],fieldSettings:{listValues:k},operators:["select_any_in","select_not_any_in"]}})),S;case"ranking":case"image_ranking":let j={};return null===(h=t.children)||void 0===h||h.forEach((o=>{var i;j[e+o.code]={label:g+" - "+Ae((null===(i=r[o.qualifiedCode].content)||void 0===i||null===(i=i.label)||void 0===i?void 0:i[n])||""),type:"number",fieldSettings:{min:1,max:t.children.length},valueSources:["value"],operators:["is_void","is_not_void","equal","not_equal","less","less_or_equal","greater","greater_or_equal","between","not_between"]}})),j;default:return[]}},jU="_relevanceError_1j5a5_5",EU="_errorContainer_1j5a5_9";function CU({code:e,t:t}){var r,n,o;const i=Se(),a=f(g.useState(!1),2),l=a[0],s=a[1],u=ke((e=>e.designState)),c=N.useMemo((()=>u.langInfo)),p=N.useMemo((()=>u[e])),h=N.useMemo((()=>((e,t,r,n,o)=>{let i=Ff(e,t),a={mode:{label:"Mode",type:"text",valueSources:["value"],operators:["is_offline","is_online"]},survey_lang:{label:"Language",type:"select",valueSources:["value"],operators:["select_any_in","select_not_any_in"],fieldSettings:{listValues:o}}};return i.forEach((e=>{r[e]&&(Ee(e)||je(e))&&(a=d(d({},a),kU(e,r[e],r,n)))})),a})(u.componentIndex,e,u,c.mainLang,c.languagesList.map((e=>e.code)))),[u]),v=null===(r=p.instructionList)||void 0===r?void 0:r.find((e=>"conditional_relevance"==e.code)),m=((null==v?void 0:v.errors)||[]).length>0,y=null===(n=p.relevance)||void 0===n?void 0:n.logic,b=!m&&Object.keys(h).length>0,_=f(g.useState((null===(o=p.relevance)||void 0===o?void 0:o.rule)||"show_always"),2),x=_[0],w=_[1],O="show_if"==x||"hide_if"==x,S=()=>i(ut({code:e,key:"relevance",value:{logic:void 0,rule:"show_always"}}));return j.jsxs("div",{className:`${m?jU:""}`,children:[j.jsx(pr,{variant:"standard",fullWidth:!0,children:j.jsxs(hr,{id:"show-hide-select",value:x,label:"Age",onChange:t=>(t=>{switch(w(t),t){case"show_always":return void S();case"hide_always":return void i(ut({code:e,key:"relevance",value:{logic:void 0,rule:t}}));case"show_if":case"hide_if":return"show_if"!=(null==y?void 0:y.rule)&&"hide_if"!=(null==y?void 0:y.rule)&&s(!0),void(y&&i(ut({code:e,key:"relevance",value:{logic:y,rule:t}})))}})(t.target.value),children:[j.jsx(Vt,{disabled:m,value:"show_always",children:t("show_always")},"show_always"),j.jsx(Vt,{disabled:!b,value:"show_if",children:t("show_if")},"show_if"),j.jsx(Vt,{disabled:!b,value:"hide_if",children:t("hide_if")},"hide_if"),j.jsx(Vt,{disabled:m,value:"hide_always",children:t("hide_always")},"hide_always")]})}),!m&&O&&j.jsx(SU,{title:t("show_if"==x?"condition_to_show":"condition_to_hide"),onChange:t=>{s(!1),O&&i(ut({code:e,key:"relevance",value:{logic:t,rule:x}}))},onDialogStateChanged:e=>s(e),fields:h,t:t,dialogOpen:l,logic:y}),m?j.jsxs("div",{className:EU,children:[j.jsx(mn,{t:t,i18nKey:"wrong_logic_err"}),j.jsx(Me,{variant:"contained",onClick:()=>S(),children:"OK"})]}):"",O&&!y?j.jsx("div",{children:j.jsx(mn,{t:t,i18nKey:"no_logic_err"})}):""]})}const TU=(e,t,r)=>{var n;const o=t[e];return{code:e,label:e+". "+Ae(null===(n=o.content)||void 0===n||null===(n=n.label)||void 0===n?void 0:n[r])}},qU=(e,t)=>{let r=[],n=e.find((e=>e.code===t.parent));return n&&n.parent&&(r.push(n),r=r.concat(qU(e,n))),r},AU=(e,t,r,n)=>{let o=[];return je(t.code)||Ee(t.code)?(e.filter((e=>e.parent==t.parent&&e.minIndex>t.maxIndex&&(!t.prioritisedSiblings||-1===t.prioritisedSiblings.indexOf(e.code)))).forEach((t=>{o=o.concat(TU(t.code,r,n)),o=o.concat(PU(e,t,r,n))})),o):o},PU=(e,t,r,n)=>{let o=[];return je(t.code)?(t.children&&t.children.forEach((t=>{let i=e.find((e=>e.code===t));o=o.concat(TU(i.code,r,n)),o=o.concat(PU(e,i,r,n))})),o):o},IU={skipItem:"_skipItem_1n8m2_1",toEnd:"_toEnd_1n8m2_6"};function LU({code:e,t:t}){const r=Se(),n=ke((t=>t.designState[e].skip_logic||{})),o=ke((t=>{const r=t.designState.langInfo.mainLang;return((e,t,r,n)=>{let o=[];if(!e)return o;let i=e.find((e=>e.code===t));return i?(o=o.concat(AU(e,i,r,n)),i.parent&&qU(e,i).filter((e=>Ee(e.code)||je(e.code))).forEach((t=>{o=o.concat(AU(e,t,r,n))})),o):o})(t.designState.componentIndex,e,t.designState,r)})),i=ke((t=>t.designState[e].instructionList.filter((e=>e.code.startsWith("skip_to"))))),a=ke((t=>{var r;const n=t.designState.langInfo.lang;return null===(r=t.designState[e])||void 0===r||null===(r=r.children)||void 0===r?void 0:r.map((e=>{var r;return{code:e.code,label:(null===(r=t.designState[e.qualifiedCode].content)||void 0===r||null===(r=r.label)||void 0===r?void 0:r[n])||e.code}}))})),l=(t,n)=>{r("proceed"==n?ct({code:e,answerCode:t}):dt({code:e,answerCode:t,skipTo:n}))},s=(t,n)=>{r(pt({code:e,answerCode:t,toEnd:n}))};return j.jsx(j.Fragment,{children:null==a?void 0:a.map((e=>{var r;const a=e.code,u=null==n?void 0:n[a],c=null==u?void 0:u.skipTo,d=c||"proceed",p=c&&(null==i||null===(r=i.find((e=>e.code=="skip_to_on_"+a)))||void 0===r||null===(r=r.errors)||void 0===r?void 0:r.find((e=>"InvalidSkipReference"==e.name)));return j.jsxs("div",{className:IU.skipItem,children:[j.jsx(mn,{t:t,values:{code:e.label},i18nKey:"if_answer_is"}),p?NU(a,c,l,t):RU(a,o,d,null==u?void 0:u.toEnd,l,s,t)]},e.code)}))})}function NU(e,t,r,n){return j.jsxs(P,{className:IU.errorDisplay,children:[j.jsx($t,{style:{verticalAlign:"middle"}})," ",j.jsx(mn,{t:n,values:{code:t},i18nKey:"invalid_skip_destination_err"}),j.jsx(Me,{variant:"contained",onClick:()=>r(e,"proceed"),children:n("ok")})]})}function RU(e,t,r,n,o,i,a){return j.jsxs(j.Fragment,{children:[j.jsx(pr,{variant:"standard",fullWidth:!0,children:j.jsxs(hr,{id:"skip-action",value:r,label:a("skip_to"),onChange:t=>o(e,t.target.value),children:[j.jsx(Vt,{value:"proceed",children:a("proceed_as_usual")},"proceed"),t&&(null==t?void 0:t.map((e=>j.jsx(Vt,{value:e.code,children:e.label},e.code))))]})}),r&&r.startsWith("G")&&j.jsxs("div",{className:IU.toEnd,children:[j.jsx("h4",{children:a("to_group_end")}),j.jsx(Dt,{checked:n||!1,onChange:t=>i(e,t.target.checked)})]})]})}const MU={sectionTitle:"_sectionTitle_62go7_1",rightContent:"_rightContent_62go7_6",close:"_close_62go7_13",accordionStyle:"_accordionStyle_62go7_17"},FU={errorDisplay:"_errorDisplay_1avr2_1"};function DU({errors:e}){const t=Oe("design").t;return j.jsx(P,{className:FU.errorDisplay,children:e.map((e=>"PriorityGroupItemNotChild"==e.name?j.jsx(mn,{t:t,i18nKey:"err_priority_group_item_not_child",values:{items:e.items.join(", ")}},e.name):"DuplicatePriorityGroupItems"==e.name?j.jsx(mn,{t:t,i18nKey:"err_duplicate_priority_group_items",values:{items:e.items.join(", ")}},e.name):"PriorityLimitMismatch"==e.name?t("err_priority_limit_mismatch"):"RandomGroupItemNotChild"==e.name?j.jsx(mn,{t:t,i18nKey:"err_random_group_item_not_child",values:{items:e.items.join(", ")}},e.name):"DuplicateRandomGroupItems"==e.name?j.jsx(mn,{t:t,i18nKey:"err_duplicate_random_group_items",values:{items:e.items.join(", ")}},e.name):void 0))},"box")}const VU={randomHeader:"_randomHeader_1pjix_1",title:"_title_1pjix_6",action:"_action_1pjix_11",settingIcon:"_settingIcon_1pjix_15",randomBody:"_randomBody_1pjix_19",list:"_list_1pjix_19",weight:"_weight_1pjix_30",randomAction:"_randomAction_1pjix_47",listItem:"_listItem_1pjix_53",label:"_label_1pjix_58",input:"_input_1pjix_64",listItemError:"_listItemError_1pjix_68",randomItem:"_randomItem_1pjix_84",highlighted:"_highlighted_1pjix_89"};var zU={},BU=A;Object.defineProperty(zU,"__esModule",{value:!0});var HU=zU.default=void 0,WU=BU(we()),UU=j,$U=(0,WU.default)((0,UU.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 5.63l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83c.39-.39.39-1.02 0-1.41z"}),"Mode");function YU(e){var t;return j.jsxs(Yr,{className:`${VU.randomItem} ${e.isBeingEdited?VU.highlighted:""}`,children:[j.jsxs("div",{className:VU.randomHeader,children:[j.jsx("h4",{className:VU.title,children:e.t("prioritise")}),j.jsxs("div",{className:VU.action,children:[j.jsx(pe,{onClick:()=>e.onEditClicked(e.index),children:j.jsx(HU,{className:VU.settingIcon})}),j.jsx(pe,{onClick:()=>e.onDeleteClicked(e.index),children:j.jsx($r,{className:VU.settingIcon})})]})]}),j.jsxs("div",{className:VU.randomBody,children:[e.t("priority_show_limit_from_count",{limit:e.data.limit,count:null===(t=e.data.weights)||void 0===t?void 0:t.length}),j.jsx("ul",{className:VU.list,children:e.data&&e.data.weights&&e.data.weights.map(((t,r)=>j.jsx(GU,{label:e.getChildLabelByCode(t.code),code:t.code,childrenCodes:e.childrenCodes,weight:t.weight},r)))})]})]})}function GU({code:e,label:t,weight:r,childrenCodes:n}){return j.jsxs("li",{className:-1!==n.indexOf(e)?VU.listItem:VU.listItemError,children:[j.jsxs("div",{className:`${VU.content} ${VU.label}`,children:[e,": ",t]}),j.jsx("div",{className:VU.weight,children:j.jsx("span",{children:r})})]})}HU=zU.default=$U;const KU={title:"_title_5cg20_1",randomBody:"_randomBody_5cg20_6",list:"_list_5cg20_6",weight:"_weight_5cg20_18",label:"_label_5cg20_35",randomAction:"_randomAction_5cg20_39",listItem:"_listItem_5cg20_45",input:"_input_5cg20_50",randomItem:"_randomItem_5cg20_54"};var JU={},QU=A;Object.defineProperty(JU,"__esModule",{value:!0});var XU=JU.default=void 0,ZU=QU(we()),e$=j,t$=(0,ZU.default)((0,e$.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm5 11H7v-2h10v2z"}),"RemoveCircle");XU=JU.default=t$;var r$={},n$=A;Object.defineProperty(r$,"__esModule",{value:!0});var o$=r$.default=void 0,i$=n$(we()),a$=j,l$=(0,i$.default)((0,a$.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm5 11h-4v4h-2v-4H7v-2h4V7h2v4h4v2z"}),"AddCircle");function s$(e){const t=e.t,r=f(g.useState(e.checked),2),n=r[0],o=r[1],i=f(g.useState(e.data),2),a=i[0],l=i[1],s=e=>{l(d(d({},a),{},{limit:e}))},u=(e,t)=>{const r=d({},a);r.weights=[...a.weights],r.weights[t]=d(d({},a.weights[t]),{},{weight:e}),l(r)};return j.jsxs(Yr,{className:KU.randomItem,children:[j.jsx("h4",{className:KU.title,children:e.title}),j.jsxs("div",{className:KU.randomBody,children:[j.jsx(c$,{t:t,increaseLimit:e=>{if(e===a.weights.length-1)return!1;e++,s(e)},decreaseLimit:e=>{if(1===e)return!1;e--,s(e)},limit:a.limit}),j.jsx("ul",{className:`${KU.list} ${KU.active}`,children:a&&a.weights&&a.weights.map(((t,r)=>j.jsx(u$,{code:t.code,weight:t.weight,handleChange:e=>((e,t)=>{const r=[...n];r[t]=e,o([...r])})(e,r),decreaseWeight:e=>((e,t)=>{if(1===e)return!1;e--,u(e,t)})(e,r),increaseWeight:e=>((e,t)=>{e++,u(e,t)})(e,r),checked:(null==n?void 0:n[r])||!1,label:e.getChildLabelByCode(t.code)},r)))})]}),j.jsxs("div",{className:KU.randomAction,children:[j.jsx(Me,{variant:"text",onClick:t=>e.onCancel(),children:t("cancel")}),j.jsx(Me,{variant:"contained",onClick:t=>(()=>{const t=n.filter((e=>e)).length;if(t<2)return!1;const r=d({},a),o=n.reduce(((e,t,n)=>(t&&e.push(r.weights[n]),e)),[]);e.onSubmit(d(d({},r),{},{weights:o}))})(),disabled:!(()=>{const e=n.filter((e=>e)).length;return e>=2&&a.limit<=e-1&&a.limit>=1})(),children:t("submit")})]})]})}function u$({code:e,checked:t,label:r,weight:n,handleChange:o,increaseWeight:i,decreaseWeight:a}){return j.jsxs("li",{className:KU.listItem,children:[j.jsx(Hr,{checked:t,onChange:e=>o(e.target.checked)}),j.jsxs("div",{className:`${KU.content} ${KU.label}`,children:[e,": ",r]}),j.jsxs("div",{className:KU.weight,children:[j.jsx(pe,{size:"small",onClick:e=>a(n),children:j.jsx(XU,{})}),j.jsx("span",{children:n}),j.jsx(pe,{size:"small",onClick:e=>i(n),children:j.jsx(o$,{})})]})]})}function c$({limit:e,increaseLimit:t,decreaseLimit:r,t:n}){return j.jsxs(j.Fragment,{children:[n("priority_show"),j.jsx(pe,{size:"small",onClick:t=>r(e),children:j.jsx(XU,{})}),e,j.jsx(pe,{size:"small",onClick:r=>t(e),children:j.jsx(o$,{})})]})}function d$({t:e,type:t,code:r,hideErrors:n}){var o,i;const a=Se(),l=f(g.useState({}),2),s=l[0],u=l[1],c=ke((e=>e.designState[r])),p=ke((e=>{var n;return(null===(n=e.designState[r])||void 0===n||null===(n=n.children)||void 0===n||null===(n=n.filter((e=>!t||e.type==t)))||void 0===n||null===(n=n.filter((e=>{var t,r;return"welcome"!=(null===(t=e.groupType)||void 0===t?void 0:t.toLowerCase())&&"end"!=(null===(r=e.groupType)||void 0===r?void 0:r.toLowerCase())})))||void 0===n?void 0:n.map((e=>e.code)))||[]})),h=ke((e=>e.designState.langInfo.lang)),v=ke((e=>{var n;return(null===(n=e.designState[r])||void 0===n||null===(n=n.children)||void 0===n||null===(n=n.filter((e=>!t||e.type==t)))||void 0===n?void 0:n.map((t=>{var r;return{code:t.code,label:null===(r=e.designState[t.qualifiedCode].content)||void 0===r||null===(r=r.label)||void 0===r?void 0:r[h]}})))||[]})),m=ft(c,"priority_groups"),y=(null==m||null===(o=m.priorities)||void 0===o?void 0:o.filter((e=>!t||e.weights.some((e=>p.includes(e.code))))))||[];let b=y.map((e=>e.weights)).flat().map((e=>e.code)).flat();const _=(null==m||null===(i=m.errors)||void 0===i?void 0:i.filter((e=>e.items.some((e=>b.includes(e))))))||[],x=e=>{a(t?ht({code:r,priorities:e,type:t}):gt({code:r,priorities:e}))},w=e=>{var t;const r=null===(t=v.find((t=>t.code==e)))||void 0===t?void 0:t.label;return null==r?void 0:r.replace(/<[^>]*>/g,"")},O=()=>p.filter((e=>!b.includes(e))),S=!s||0==Object.keys(s).length,k=()=>{u({})},E=e=>{let t=[...e.weights].sort((function(e,t){return p.findIndex((t=>t===e.code))-p.findIndex((e=>e===t.code))}));return d(d({},e),{},{weights:t})};return j.jsxs(j.Fragment,{children:[y&&y.map(((t,r)=>j.jsx(YU,{t:e,data:E(t),index:r,childrenCodes:p,isBeingEdited:s.index==r,onDeleteClicked:t=>{u({}),(t=>{window.confirm(e("are_you_sure"))&&x(y.filter(((e,r)=>r!==t)))})(t)},onEditClicked:t=>(t=>{let r=[],n=[];n.weights=[];const o=O();p.forEach((e=>{if(o.includes(e))n.weights.push({code:e,weight:1}),r.push(!1);else{let o=y[t].weights.findIndex((t=>t.code==e));o>-1&&(n.weights.push(y[t].weights[o]),r.push(!0))}n.limit=y[t].limit})),u({index:t,checked:r,title:e("edit_priority_rule"),data:n})})(t),getChildLabelByCode:w},r))),!n&&_.length>0?j.jsx(DU,{errors:_}):"",S&&j.jsxs(Me,{variant:"contained",disabled:O().length<2,onClick:()=>{const t=O(),r=t.map((e=>({code:e,weight:1})));u({title:e("add_priority_rule"),checked:t.map((e=>!1)),data:{limit:1,weights:r},index:y?y.length:0,icon:j.jsx(fh,{})})},children:[j.jsx(fh,{sx:{paddingRight:"8px"}})," ",e("add_priority_rule")]}),s&&s.data&&j.jsx(s$,{t:e,title:s.title,data:((e,t)=>{let r=[...e.weights].filter((e=>t.includes(e.code)));return r.length<=1&&k(),{limit:Math.min(e.limit,r.length-1),weights:r}})(s.data,p),index:s.index,getChildLabelByCode:w,checked:s.checked,onSubmit:e=>((e,t)=>{const r=y?[...y]:[];r[t]=d({},e),x(r),k()})(e,s.index),onCancel:k})]})}o$=r$.default=l$;const p$="_selectValue_14l81_1",f$={errorDisplay:"_errorDisplay_1vtlj_1",addNew:"_addNew_1vtlj_10"},h$={title:"_title_1p7e9_1",list:"_list_1p7e9_6",randomAction:"_randomAction_1p7e9_19",listItem:"_listItem_1p7e9_25",input:"_input_1p7e9_30",randomItem:"_randomItem_1p7e9_34"};function g$(e){const t=e.t,r=f(g.useState(e.checked),2),n=r[0],o=r[1],i=f(g.useState(e.randomOption),2),a=i[0],l=i[1],s=[t("random_order"),t("flip_order"),t("sort_by_label")],u=["RANDOM","FLIP","ALPHA"];return j.jsxs(Yr,{className:h$.randomItem,children:[j.jsx("h4",{className:h$.title,children:e.title}),j.jsx(pr,{variant:"standard",fullWidth:!0,children:j.jsx(hr,{id:"select-value",value:a,label:"Select Value",onChange:e=>{l(e.target.value)},children:s.map(((e,t)=>j.jsx(Vt,{value:u[t],children:e},e)))})}),j.jsx("ul",{className:h$.list,children:e.data&&e.data.map(((t,r)=>j.jsx(v$,{code:t,handleChange:e=>((e,t)=>{const r=[...n];r[t]=e,o([...r])})(e,r),checked:(null==n?void 0:n[r])||!1,label:e.getChildLabelByCode(t)},r)))}),j.jsxs("div",{className:h$.randomAction,children:[j.jsx(Me,{variant:"text",onClick:t=>e.onCancel(),children:t("cancel")}),j.jsx(Me,{variant:"contained",onClick:t=>(()=>{const t=n.filter((e=>e)).length;if(t<2)return!1;const r=n.reduce(((t,r,n)=>(r&&t.push(e.data[n]),t)),[]);e.onSubmit(r,a)})(),disabled:!(n.filter((e=>e)).length>=2),children:t("submit")})]})]})}function v$({code:e,label:t,checked:r,handleChange:n}){return j.jsxs("li",{className:h$.listItem,children:[j.jsx(Hr,{checked:r,onChange:e=>n(e.target.checked)}),e,": ",t]})}const m$={randomHeader:"_randomHeader_10d2m_1",title:"_title_10d2m_6",action:"_action_10d2m_11",settingIcon:"_settingIcon_10d2m_15",list:"_list_10d2m_19",randomAction:"_randomAction_10d2m_30",listItem:"_listItem_10d2m_36",label:"_label_10d2m_41",input:"_input_10d2m_47",listItemError:"_listItemError_10d2m_51",randomItem:"_randomItem_10d2m_63",highlighted:"_highlighted_10d2m_68"},y$=(e,t)=>{switch(e){case"ALPHA":return t("sort_by_label");case"RANDOM":return t("random_order");case"FLIP":return t("flip_order")}throw"unidentified randomOption: "+e};function b$(e){const t=e.t;return j.jsxs(Yr,{className:`${m$.randomItem} ${e.isBeingEdited?m$.highlighted:""}`,children:[j.jsxs("div",{className:m$.randomHeader,children:[j.jsx("h4",{className:m$.title,children:y$(e.randomOption,t)}),j.jsxs("div",{className:m$.action,children:[j.jsx(pe,{onClick:()=>e.onEditClicked(e.index),children:j.jsx(HU,{className:m$.settingIcon})}),j.jsx(pe,{onClick:()=>e.onDeleteClicked(e.index),children:j.jsx($r,{className:m$.settingIcon})})]})]}),j.jsx("ul",{className:m$.list,children:e.data&&e.data.map(((t,r)=>j.jsx(_$,{label:e.getChildLabelByCode(t),code:t,childrenCodes:e.childrenCodes},r)))})]})}function _$({code:e,label:t,childrenCodes:r}){return j.jsx("li",{className:-1!==r.indexOf(e)?m$.listItem:m$.listItemError,children:j.jsxs("div",{className:`${m$.content} ${m$.label}`,children:[e,": ",t]})})}function x$({t:e,type:t,code:r,hideErrors:n}){var o,i;const a=Se(),l=f(g.useState({}),2),s=l[0],u=l[1],c=ke((e=>e.designState[r])),d=ke((e=>{var n;return(null===(n=e.designState[r])||void 0===n||null===(n=n.children)||void 0===n||null===(n=n.filter((e=>!t||e.type==t)))||void 0===n||null===(n=n.filter((e=>{var t,r;return"welcome"!=(null===(t=e.groupType)||void 0===t?void 0:t.toLowerCase())&&"end"!=(null===(r=e.groupType)||void 0===r?void 0:r.toLowerCase())})))||void 0===n?void 0:n.map((e=>e.code)))||[]})),p=ke((e=>e.designState.langInfo.lang)),h=ke((e=>{var n;return(null===(n=e.designState[r])||void 0===n||null===(n=n.children)||void 0===n||null===(n=n.filter((e=>!t||e.type==t)))||void 0===n?void 0:n.map((t=>{var r;return{code:t.code,label:null===(r=e.designState[t.qualifiedCode].content)||void 0===r||null===(r=r.label)||void 0===r?void 0:r[p]}})))||[]})),v=ft(c,"random_group"),m=(null==v||null===(o=v.groups)||void 0===o?void 0:o.filter((e=>!t||e.codes.some((e=>d.includes(e))))))||[],y=m.map((e=>e.codes)).flat(),b=(null==v||null===(i=v.errors)||void 0===i?void 0:i.filter((e=>e.items.some((e=>y.includes(e))))))||[],_=e=>{a(t?vt({code:r,groups:e,type:t}):mt({code:r,groups:e}))},x=e=>{var t;const r=null===(t=h.find((t=>t.code==e)))||void 0===t?void 0:t.label;return null==r?void 0:r.replace(/<[^>]*>/g,"")},w=e=>d.filter((e=>!y.includes(e))),O=e=>[...e.codes].sort((function(e,t){return d.findIndex((t=>t===e))-d.findIndex((e=>e===t))})),S=()=>{u({})},k=!s||0==Object.keys(s).length;return j.jsxs(j.Fragment,{children:[m&&m.map(((t,r)=>j.jsx(b$,{t:e,data:O(t),randomOption:t.randomOption,index:r,isBeingEdited:s.index==r,childrenCodes:d,getChildLabelByCode:x,onDeleteClicked:t=>{u({}),(t=>{window.confirm(e("are_you_sure"))&&_(m.filter(((e,r)=>r!==t)))})(t)},onEditClicked:t=>(t=>{let r=[],n=[],o=w();n=d.filter((e=>o.includes(e)||m[t].codes.includes(e))),r=n.map((e=>!!m[t].codes.includes(e))),u({index:t,checked:r,randomOption:m[t].randomOption||"RANDOM",title:e("edit_random_rule"),data:n})})(t)},r))),!n&&b.length>0?j.jsx(DU,{errors:b}):"",k&&j.jsxs(Me,{className:f$.addNew,variant:"contained",disabled:w().length<2,onClick:()=>{const t=w();u({title:e("add_new_random_rule"),data:t,checked:[],randomOption:"RANDOM",index:m?m.length:0})},children:[j.jsx(lh,{sx:{paddingRight:"8px"}})," ",e("add_random_rule")]}),s&&s.data&&j.jsx(g$,{t:e,title:s.title,data:((e,t)=>{let r=[...e].filter((e=>t.includes(e)));return r.length<=1&&S(),r})(s.data,d),randomOption:s.randomOption,getChildLabelByCode:x,checked:s.checked,onSubmit:(e,t)=>((e,t,r)=>{const n=m?[...m]:[];n[r]={codes:e,randomOption:t},_(n),S()})(e,t,s.index),onCancel:S})]})}function w$({t:e,rule:t,code:r}){const n=Se(),o=ke((e=>e.designState[r][t]||"NONE"));let i="",a=[],l=[];switch(t){case"randomize_questions":i=e("questions_order"),a=[e("as_is"),e("random_order"),e("flip_order"),e("custom_random")],l=["NONE","RANDOM","FLIP","custom"];break;case"prioritize_questions":i=e("questions_priority"),a=[e("no_priority"),e("prioritise_questions")],l=["NONE","prioritize"];break;case"randomize_groups":i=e("groups_order"),a=[e("as_is"),e("random_order"),e("flip_order"),e("custom_random")],l=["NONE","RANDOM","FLIP","custom"];break;case"prioritize_groups":i=e("groups_priority"),a=[e("no_priority"),e("prioritise_groups")],l=["NONE","prioritize"];break;case"randomize_options":i=e("options_order"),a=[e("as_is"),e("random_order"),e("flip_order"),e("sort_by_label"),e("custom_random")],l=["NONE","RANDOM","FLIP","ALPHA","custom"];break;case"prioritize_options":i=e("options_priority"),a=[e("no_priority"),e("prioritise_options")],l=["NONE","prioritize"];break;case"randomize_rows":i=e("rows_order"),a=[e("as_is"),e("random_order"),e("flip_order"),e("sort_by_label"),e("custom_random")],l=["NONE","RANDOM","FLIP","ALPHA","custom"];break;case"prioritize_rows":i=e("rows_priority"),a=[e("no_priority"),e("prioritise_rows")],l=["NONE","prioritize"];break;case"randomize_columns":i=e("columns_order"),a=[e("as_is"),e("random_order"),e("flip_order"),e("sort_by_label"),e("custom_random")],l=["NONE","RANDOM","FLIP","ALPHA","custom"];break;case"prioritize_columns":i=e("columns_priority"),a=[e("no_priority"),e("prioritise_columns")],l=["NONE","prioritize"]}return j.jsxs(j.Fragment,{children:[j.jsx("h4",{children:i}),j.jsx(pr,{className:p$,variant:"standard",fullWidth:!0,children:j.jsx(hr,{id:"select-value",value:o,label:"Select Value",onChange:e=>{var o;o=e.target.value,n(Ue({code:r,key:t,value:"NONE"==o?void 0:o}))},children:a.map(((e,t)=>j.jsx(Vt,{value:l[t],children:e},e)))})}),"custom"==o&&-1!==["randomize_questions","randomize_options","randomize_groups"].indexOf(t)&&j.jsx(x$,{label:"",code:r,t:e}),"custom"==o&&"randomize_rows"==t&&j.jsx(x$,{label:"",type:"row",code:r,t:e}),"prioritize"==o&&"prioritize_rows"==t&&j.jsx(d$,{label:"",type:"row",code:r,t:e}),"custom"==o&&"randomize_columns"==t&&j.jsx(x$,{label:"",type:"column",code:r,t:e}),"prioritize"==o&&"prioritize_columns"==t&&j.jsx(d$,{label:"",type:"column",code:r,t:e}),"prioritize"==o&&-1!==["prioritize_questions","prioritize_options","prioritize_groups"].indexOf(t)&&j.jsx(d$,{label:"",code:r,t:e})]})}const O$=()=>{const e=Oe("design").t,t=Se(),r=ke((e=>e.designState.Survey.navigationMode||Gr.GROUP_BY_GROUP));return j.jsxs(pr,{fullWidth:!0,children:[j.jsx(vr,{id:"navigation-mode-label",children:e("navigation_mode")}),j.jsxs(hr,{labelId:"navigation-mode-label",id:"demo-simple-select",value:r,label:e("label.navigation_mode"),onChange:e=>{t(Ue({code:"Survey",key:"navigationMode",value:e.target.value}))},children:[j.jsx(Vt,{value:Gr.GROUP_BY_GROUP,children:e("group_by_group")}),j.jsx(Vt,{value:Gr.QUESTION_BY_QUESTION,children:e("question_by_question")}),j.jsx(Vt,{value:Gr.ALL_IN_ONE,children:e("all_in_one")})]})]})},S$="_theming_1v217_1",k$="_chooseImage_1v217_12",j$="_resetButton_1v217_21",E$="_fontText_1v217_24",C$="_selectDropdown_1v217_27",T$="_colorBox_1v217_33",q$="_colorPickerContainer_1v217_40",A$={themingItem:"_themingItem_11qn9_1",themingItemBody:"_themingItemBody_11qn9_6",selectDropdown:"_selectDropdown_11qn9_13"};function P$(e){const t=Array.from({length:12},((e,t)=>2*t+10));return j.jsx("div",{className:A$.themingItem,children:j.jsx("div",{className:A$.themingItemBody,children:j.jsx(hr,{size:"small",value:e.value.size||e.default.size,onChange:t=>{return r="size",n=t.target.value,void e.onChange(d(d({},e.value),{},{[r]:n}));var r,n},IconComponent:Ht,className:A$.selectDropdown,sx:{"& .MuiSvgIcon-root":{color:"#16205b"}},children:t&&t.length>0&&t.map(((e,t)=>j.jsx(Vt,{value:e,children:e},`fontSize-${t}`)))},"fontSize")})})}var I$={},L$={},N$=pa,R$=Gl,M$=as;var F$=function(e){return"string"==typeof e||!R$(e)&&M$(e)&&"[object String]"==N$(e)},D$=EC;var V$=GR,z$=function(e){return"function"==typeof e?e:D$};var B$=function(e,t){return e&&V$(e,z$(t))},H$=Qs;var W$=function(e,t){return function(r,n){if(null==r)return r;if(!H$(r))return e(r,n);for(var o=r.length,i=t?o:-1,a=Object(r);(t?i--:++i<o)&&!1!==n(a[i],i,a););return r}},U$=W$(GR),$$=Qs;var Y$=function(e,t){var r=-1,n=$$(e)?Array(e.length):[];return U$(e,(function(e,o,i){n[++r]=t(e,o,i)})),n},G$=dk,K$=kM,J$=Y$,Q$=Gl;var X$=function(e,t){return(Q$(e)?G$:J$)(e,K$(t))};Object.defineProperty(L$,"__esModule",{value:!0}),L$.flattenNames=void 0;var Z$=nY(F$),eY=nY(B$),tY=nY(pC),rY=nY(X$);function nY(e){return e&&e.__esModule?e:{default:e}}var oY=L$.flattenNames=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=[];return(0,rY.default)(t,(function(t){Array.isArray(t)?e(t).map((function(e){return r.push(e)})):(0,tY.default)(t)?(0,eY.default)(t,(function(e,t){!0===e&&r.push(t),r.push(t+"-"+e)})):(0,Z$.default)(t)&&r.push(t)})),r};L$.default=oY;var iY={},aY=fE;var lY=function(e){return aY(e,5)};Object.defineProperty(iY,"__esModule",{value:!0}),iY.mergeClasses=void 0;var sY=dY(B$),uY=dY(lY),cY=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};function dY(e){return e&&e.__esModule?e:{default:e}}var pY=iY.mergeClasses=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=e.default&&(0,uY.default)(e.default)||{};return t.map((function(t){var n=e[t];return n&&(0,sY.default)(n,(function(e,t){r[t]||(r[t]={}),r[t]=cY({},r[t],n[t])})),t})),r};iY.default=pY;var fY={};Object.defineProperty(fY,"__esModule",{value:!0}),fY.autoprefix=void 0;var hY,gY=(hY=B$)&&hY.__esModule?hY:{default:hY},vY=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};var mY={borderRadius:function(e){return{msBorderRadius:e,MozBorderRadius:e,OBorderRadius:e,WebkitBorderRadius:e,borderRadius:e}},boxShadow:function(e){return{msBoxShadow:e,MozBoxShadow:e,OBoxShadow:e,WebkitBoxShadow:e,boxShadow:e}},userSelect:function(e){return{WebkitTouchCallout:e,KhtmlUserSelect:e,MozUserSelect:e,msUserSelect:e,WebkitUserSelect:e,userSelect:e}},flex:function(e){return{WebkitBoxFlex:e,MozBoxFlex:e,WebkitFlex:e,msFlex:e,flex:e}},flexBasis:function(e){return{WebkitFlexBasis:e,flexBasis:e}},justifyContent:function(e){return{WebkitJustifyContent:e,justifyContent:e}},transition:function(e){return{msTransition:e,MozTransition:e,OTransition:e,WebkitTransition:e,transition:e}},transform:function(e){return{msTransform:e,MozTransform:e,OTransform:e,WebkitTransform:e,transform:e}},absolute:function(e){var t=e&&e.split(" ");return{position:"absolute",top:t&&t[0],right:t&&t[1],bottom:t&&t[2],left:t&&t[3]}},extend:function(e,t){var r=t[e];return r||{extend:e}}},yY=fY.autoprefix=function(e){var t={};return(0,gY.default)(e,(function(e,r){var n={};(0,gY.default)(e,(function(e,t){var r=mY[t];r?n=vY({},n,r(e)):n[t]=e})),t[r]=n})),t};fY.default=yY;var bY={};Object.defineProperty(bY,"__esModule",{value:!0}),bY.hover=void 0;var _Y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xY=function(e){return e&&e.__esModule?e:{default:e}}(g);function wY(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var OY=bY.hover=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"span";return function(r){function n(){var r,o,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);for(var a=arguments.length,l=Array(a),s=0;s<a;s++)l[s]=arguments[s];return o=i=wY(this,(r=n.__proto__||Object.getPrototypeOf(n)).call.apply(r,[this].concat(l))),i.state={hover:!1},i.handleMouseOver=function(){return i.setState({hover:!0})},i.handleMouseOut=function(){return i.setState({hover:!1})},i.render=function(){return xY.default.createElement(t,{onMouseOver:i.handleMouseOver,onMouseOut:i.handleMouseOut},xY.default.createElement(e,_Y({},i.props,i.state)))},wY(i,o)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,r),n}(xY.default.Component)};bY.default=OY;var SY={};Object.defineProperty(SY,"__esModule",{value:!0}),SY.active=void 0;var kY=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jY=function(e){return e&&e.__esModule?e:{default:e}}(g);function EY(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var CY=SY.active=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"span";return function(r){function n(){var r,o,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);for(var a=arguments.length,l=Array(a),s=0;s<a;s++)l[s]=arguments[s];return o=i=EY(this,(r=n.__proto__||Object.getPrototypeOf(n)).call.apply(r,[this].concat(l))),i.state={active:!1},i.handleMouseDown=function(){return i.setState({active:!0})},i.handleMouseUp=function(){return i.setState({active:!1})},i.render=function(){return jY.default.createElement(t,{onMouseDown:i.handleMouseDown,onMouseUp:i.handleMouseUp},jY.default.createElement(e,kY({},i.props,i.state)))},EY(i,o)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,r),n}(jY.default.Component)};SY.default=CY;var TY={};Object.defineProperty(TY,"__esModule",{value:!0});TY.default=function(e,t){var r={},n=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];r[e]=t};return 0===e&&n("first-child"),e===t-1&&n("last-child"),(0===e||e%2==0)&&n("even"),1===Math.abs(e%2)&&n("odd"),n("nth-child",e),r},Object.defineProperty(I$,"__esModule",{value:!0}),I$.ReactCSS=I$.loop=I$.handleActive=MY=I$.handleHover=I$.hover=void 0;var qY=RY(L$),AY=RY(iY),PY=RY(fY),IY=RY(bY),LY=RY(SY),NY=RY(TY);function RY(e){return e&&e.__esModule?e:{default:e}}I$.hover=IY.default;var MY=I$.handleHover=IY.default;I$.handleActive=LY.default,I$.loop=NY.default;var FY=I$.ReactCSS=function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];var o=(0,qY.default)(r),i=(0,AY.default)(e,o);return(0,PY.default)(i)},DY=I$.default=FY,VY={},zY=function(e,t,r,n){var o=e+"-"+t+"-"+r+(n?"-server":"");if(VY[o])return VY[o];var i=function(e,t,r,n){if("undefined"==typeof document&&!n)return null;var o=n?new n:document.createElement("canvas");o.width=2*r,o.height=2*r;var i=o.getContext("2d");return i?(i.fillStyle=e,i.fillRect(0,0,o.width,o.height),i.fillStyle=t,i.fillRect(0,0,r,r),i.translate(r,r),i.fillRect(0,0,r,r),o.toDataURL()):null}(e,t,r,n);return VY[o]=i,i},BY=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},HY=function(e){var t=e.white,r=e.grey,n=e.size,o=e.renderers,i=e.borderRadius,a=e.boxShadow,l=e.children,s=DY({default:{grid:{borderRadius:i,boxShadow:a,absolute:"0px 0px 0px 0px",background:"url("+zY(t,r,n,o.canvas)+") center left"}}});return g.isValidElement(l)?N.cloneElement(l,BY({},l.props,{style:BY({},l.props.style,s.grid)})):N.createElement("div",{style:s.grid})};HY.defaultProps={size:8,white:"transparent",grey:"rgba(0,0,0,.08)",renderers:{}};var WY=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},UY=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function $Y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var YY=function(e){function t(){var e,r,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return r=n=$Y(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.handleChange=function(e){var t=function(e,t,r,n,o){var i=o.clientWidth,a=o.clientHeight,l="number"==typeof e.pageX?e.pageX:e.touches[0].pageX,s="number"==typeof e.pageY?e.pageY:e.touches[0].pageY,u=l-(o.getBoundingClientRect().left+window.pageXOffset),c=s-(o.getBoundingClientRect().top+window.pageYOffset);if("vertical"===r){var d=void 0;if(d=c<0?0:c>a?1:Math.round(100*c/a)/100,t.a!==d)return{h:t.h,s:t.s,l:t.l,a:d,source:"rgb"}}else{var p=void 0;if(n!==(p=u<0?0:u>i?1:Math.round(100*u/i)/100))return{h:t.h,s:t.s,l:t.l,a:p,source:"rgb"}}return null}(e,n.props.hsl,n.props.direction,n.props.a,n.container);t&&"function"==typeof n.props.onChange&&n.props.onChange(t,e)},n.handleMouseDown=function(e){n.handleChange(e),window.addEventListener("mousemove",n.handleChange),window.addEventListener("mouseup",n.handleMouseUp)},n.handleMouseUp=function(){n.unbindEventListeners()},n.unbindEventListeners=function(){window.removeEventListener("mousemove",n.handleChange),window.removeEventListener("mouseup",n.handleMouseUp)},$Y(n,r)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),UY(t,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"render",value:function(){var e=this,t=this.props.rgb,r=DY({default:{alpha:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},checkboard:{absolute:"0px 0px 0px 0px",overflow:"hidden",borderRadius:this.props.radius},gradient:{absolute:"0px 0px 0px 0px",background:"linear-gradient(to right, rgba("+t.r+","+t.g+","+t.b+", 0) 0%,\n           rgba("+t.r+","+t.g+","+t.b+", 1) 100%)",boxShadow:this.props.shadow,borderRadius:this.props.radius},container:{position:"relative",height:"100%",margin:"0 3px"},pointer:{position:"absolute",left:100*t.a+"%"},slider:{width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",marginTop:"1px",transform:"translateX(-2px)"}},vertical:{gradient:{background:"linear-gradient(to bottom, rgba("+t.r+","+t.g+","+t.b+", 0) 0%,\n           rgba("+t.r+","+t.g+","+t.b+", 1) 100%)"},pointer:{left:0,top:100*t.a+"%"}},overwrite:WY({},this.props.style)},{vertical:"vertical"===this.props.direction,overwrite:!0});return N.createElement("div",{style:r.alpha},N.createElement("div",{style:r.checkboard},N.createElement(HY,{renderers:this.props.renderers})),N.createElement("div",{style:r.gradient}),N.createElement("div",{style:r.container,ref:function(t){return e.container=t},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},N.createElement("div",{style:r.pointer},this.props.pointer?N.createElement(this.props.pointer,this.props):N.createElement("div",{style:r.slider}))))}}]),t}(g.PureComponent||g.Component),GY=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var KY=[38,40],JY=1,QY=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return r.handleBlur=function(){r.state.blurValue&&r.setState({value:r.state.blurValue,blurValue:null})},r.handleChange=function(e){r.setUpdatedValue(e.target.value,e)},r.handleKeyDown=function(e){var t,n=function(e){return Number(String(e).replace(/%/g,""))}(e.target.value);if(!isNaN(n)&&(t=e.keyCode,KY.indexOf(t)>-1)){var o=r.getArrowOffset(),i=38===e.keyCode?n+o:n-o;r.setUpdatedValue(i,e)}},r.handleDrag=function(e){if(r.props.dragLabel){var t=Math.round(r.props.value+e.movementX);t>=0&&t<=r.props.dragMax&&r.props.onChange&&r.props.onChange(r.getValueObjectWithLabel(t),e)}},r.handleMouseDown=function(e){r.props.dragLabel&&(e.preventDefault(),r.handleDrag(e),window.addEventListener("mousemove",r.handleDrag),window.addEventListener("mouseup",r.handleMouseUp))},r.handleMouseUp=function(){r.unbindEventListeners()},r.unbindEventListeners=function(){window.removeEventListener("mousemove",r.handleDrag),window.removeEventListener("mouseup",r.handleMouseUp)},r.state={value:String(e.value).toUpperCase(),blurValue:String(e.value).toUpperCase()},r.inputId="rc-editable-input-"+JY++,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),GY(t,[{key:"componentDidUpdate",value:function(e,t){this.props.value===this.state.value||e.value===this.props.value&&t.value===this.state.value||(this.input===document.activeElement?this.setState({blurValue:String(this.props.value).toUpperCase()}):this.setState({value:String(this.props.value).toUpperCase(),blurValue:!this.state.blurValue&&String(this.props.value).toUpperCase()}))}},{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"getValueObjectWithLabel",value:function(e){return function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}({},this.props.label,e)}},{key:"getArrowOffset",value:function(){return this.props.arrowOffset||1}},{key:"setUpdatedValue",value:function(e,t){var r=this.props.label?this.getValueObjectWithLabel(e):e;this.props.onChange&&this.props.onChange(r,t),this.setState({value:e})}},{key:"render",value:function(){var e=this,t=DY({default:{wrap:{position:"relative"}},"user-override":{wrap:this.props.style&&this.props.style.wrap?this.props.style.wrap:{},input:this.props.style&&this.props.style.input?this.props.style.input:{},label:this.props.style&&this.props.style.label?this.props.style.label:{}},"dragLabel-true":{label:{cursor:"ew-resize"}}},{"user-override":!0},this.props);return N.createElement("div",{style:t.wrap},N.createElement("input",{id:this.inputId,style:t.input,ref:function(t){return e.input=t},value:this.state.value,onKeyDown:this.handleKeyDown,onChange:this.handleChange,onBlur:this.handleBlur,placeholder:this.props.placeholder,spellCheck:"false"}),this.props.label&&!this.props.hideLabel?N.createElement("label",{htmlFor:this.inputId,style:t.label,onMouseDown:this.handleMouseDown},this.props.label):null)}}]),t}(g.PureComponent||g.Component),XY=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function ZY(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var eG=function(e){function t(){var e,r,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return r=n=ZY(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.handleChange=function(e){var t=function(e,t,r,n){var o=n.clientWidth,i=n.clientHeight,a="number"==typeof e.pageX?e.pageX:e.touches[0].pageX,l="number"==typeof e.pageY?e.pageY:e.touches[0].pageY,s=a-(n.getBoundingClientRect().left+window.pageXOffset),u=l-(n.getBoundingClientRect().top+window.pageYOffset);if("vertical"===t){var c=void 0;if(c=u<0?359:u>i?0:360*(-100*u/i+100)/100,r.h!==c)return{h:c,s:r.s,l:r.l,a:r.a,source:"hsl"}}else{var d=void 0;if(d=s<0?0:s>o?359:100*s/o*360/100,r.h!==d)return{h:d,s:r.s,l:r.l,a:r.a,source:"hsl"}}return null}(e,n.props.direction,n.props.hsl,n.container);t&&"function"==typeof n.props.onChange&&n.props.onChange(t,e)},n.handleMouseDown=function(e){n.handleChange(e),window.addEventListener("mousemove",n.handleChange),window.addEventListener("mouseup",n.handleMouseUp)},n.handleMouseUp=function(){n.unbindEventListeners()},ZY(n,r)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),XY(t,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"unbindEventListeners",value:function(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var e=this,t=this.props.direction,r=void 0===t?"horizontal":t,n=DY({default:{hue:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius,boxShadow:this.props.shadow},container:{padding:"0 2px",position:"relative",height:"100%",borderRadius:this.props.radius},pointer:{position:"absolute",left:100*this.props.hsl.h/360+"%"},slider:{marginTop:"1px",width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",transform:"translateX(-2px)"}},vertical:{pointer:{left:"0px",top:-100*this.props.hsl.h/360+100+"%"}}},{vertical:"vertical"===r});return N.createElement("div",{style:n.hue},N.createElement("div",{className:"hue-"+r,style:n.container,ref:function(t){return e.container=t},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},N.createElement("style",null,"\n            .hue-horizontal {\n              background: linear-gradient(to right, #f00 0%, #ff0 17%, #0f0\n                33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n              background: -webkit-linear-gradient(to right, #f00 0%, #ff0\n                17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n            }\n\n            .hue-vertical {\n              background: linear-gradient(to top, #f00 0%, #ff0 17%, #0f0 33%,\n                #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n              background: -webkit-linear-gradient(to top, #f00 0%, #ff0 17%,\n                #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n            }\n          "),N.createElement("div",{style:n.pointer},this.props.pointer?N.createElement(this.props.pointer,this.props):N.createElement("div",{style:n.slider}))))}}]),t}(g.PureComponent||g.Component);function tG(e,t){return e===t||e!=e&&t!=t}function rG(e,t){for(var r=e.length;r--;)if(tG(e[r][0],t))return r;return-1}var nG=Array.prototype.splice;function oG(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}oG.prototype.clear=function(){this.__data__=[],this.size=0},oG.prototype.delete=function(e){var t=this.__data__,r=rG(t,e);return!(r<0)&&(r==t.length-1?t.pop():nG.call(t,r,1),--this.size,!0)},oG.prototype.get=function(e){var t=this.__data__,r=rG(t,e);return r<0?void 0:t[r][1]},oG.prototype.has=function(e){return rG(this.__data__,e)>-1},oG.prototype.set=function(e,t){var r=this.__data__,n=rG(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this};var iG="object"==typeof global&&global&&global.Object===Object&&global,aG="object"==typeof self&&self&&self.Object===Object&&self,lG=iG||aG||Function("return this")(),sG=lG.Symbol,uG=Object.prototype,cG=uG.hasOwnProperty,dG=uG.toString,pG=sG?sG.toStringTag:void 0;var fG=Object.prototype.toString;var hG="[object Null]",gG="[object Undefined]",vG=sG?sG.toStringTag:void 0;function mG(e){return null==e?void 0===e?gG:hG:vG&&vG in Object(e)?function(e){var t=cG.call(e,pG),r=e[pG];try{e[pG]=void 0;var n=!0}catch(lF){}var o=dG.call(e);return n&&(t?e[pG]=r:delete e[pG]),o}(e):function(e){return fG.call(e)}(e)}function yG(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}var bG="[object AsyncFunction]",_G="[object Function]",xG="[object GeneratorFunction]",wG="[object Proxy]";function OG(e){if(!yG(e))return!1;var t=mG(e);return t==_G||t==xG||t==bG||t==wG}var SG=lG["__core-js_shared__"],kG=function(){var e=/[^.]+$/.exec(SG&&SG.keys&&SG.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();var jG=Function.prototype.toString;function EG(e){if(null!=e){try{return jG.call(e)}catch(lF){}try{return e+""}catch(lF){}}return""}var CG=/^\[object .+?Constructor\]$/,TG=Function.prototype,qG=Object.prototype,AG=TG.toString,PG=qG.hasOwnProperty,IG=RegExp("^"+AG.call(PG).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function LG(e){return!(!yG(e)||(t=e,kG&&kG in t))&&(OG(e)?IG:CG).test(EG(e));var t}function NG(e,t){var r=function(e,t){return null==e?void 0:e[t]}(e,t);return LG(r)?r:void 0}var RG=NG(lG,"Map"),MG=NG(Object,"create");var FG=Object.prototype.hasOwnProperty;var DG=Object.prototype.hasOwnProperty;function VG(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function zG(e,t){var r=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?r["string"==typeof t?"string":"hash"]:r.map}function BG(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}VG.prototype.clear=function(){this.__data__=MG?MG(null):{},this.size=0},VG.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},VG.prototype.get=function(e){var t=this.__data__;if(MG){var r=t[e];return"__lodash_hash_undefined__"===r?void 0:r}return FG.call(t,e)?t[e]:void 0},VG.prototype.has=function(e){var t=this.__data__;return MG?void 0!==t[e]:DG.call(t,e)},VG.prototype.set=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=MG&&void 0===t?"__lodash_hash_undefined__":t,this},BG.prototype.clear=function(){this.size=0,this.__data__={hash:new VG,map:new(RG||oG),string:new VG}},BG.prototype.delete=function(e){var t=zG(this,e).delete(e);return this.size-=t?1:0,t},BG.prototype.get=function(e){return zG(this,e).get(e)},BG.prototype.has=function(e){return zG(this,e).has(e)},BG.prototype.set=function(e,t){var r=zG(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this};function HG(e){var t=this.__data__=new oG(e);this.size=t.size}HG.prototype.clear=function(){this.__data__=new oG,this.size=0},HG.prototype.delete=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r},HG.prototype.get=function(e){return this.__data__.get(e)},HG.prototype.has=function(e){return this.__data__.has(e)},HG.prototype.set=function(e,t){var r=this.__data__;if(r instanceof oG){var n=r.__data__;if(!RG||n.length<199)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new BG(n)}return r.set(e,t),this.size=r.size,this};var WG=function(){try{var e=NG(Object,"defineProperty");return e({},"",{}),e}catch(lF){}}();function UG(e,t,r){"__proto__"==t&&WG?WG(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}function $G(e,t,r){(void 0!==r&&!tG(e[t],r)||void 0===r&&!(t in e))&&UG(e,t,r)}var YG,GG=function(e,t,r){for(var n=-1,o=Object(e),i=r(e),a=i.length;a--;){var l=i[YG?a:++n];if(!1===t(o[l],l,o))break}return e},KG="object"==typeof s&&s&&!s.nodeType&&s,JG=KG&&"object"==typeof c&&c&&!c.nodeType&&c,QG=JG&&JG.exports===KG?lG.Buffer:void 0,XG=QG?QG.allocUnsafe:void 0;var ZG=lG.Uint8Array;function eK(e,t){var r,n,o=t?(r=e.buffer,n=new r.constructor(r.byteLength),new ZG(n).set(new ZG(r)),n):e.buffer;return new e.constructor(o,e.byteOffset,e.length)}var tK=Object.create,rK=function(){function e(){}return function(t){if(!yG(t))return{};if(tK)return tK(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}();function nK(e,t){return function(r){return e(t(r))}}const oK=nK(Object.getPrototypeOf,Object);var iK=Object.prototype;function aK(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||iK)}function lK(e){return null!=e&&"object"==typeof e}function sK(e){return lK(e)&&"[object Arguments]"==mG(e)}var uK=Object.prototype,cK=uK.hasOwnProperty,dK=uK.propertyIsEnumerable,pK=sK(function(){return arguments}())?sK:function(e){return lK(e)&&cK.call(e,"callee")&&!dK.call(e,"callee")};const fK=pK;var hK=Array.isArray,gK=9007199254740991;function vK(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=gK}function mK(e){return null!=e&&vK(e.length)&&!OG(e)}var yK="object"==typeof s&&s&&!s.nodeType&&s,bK=yK&&"object"==typeof c&&c&&!c.nodeType&&c,_K=bK&&bK.exports===yK?lG.Buffer:void 0,xK=(_K?_K.isBuffer:void 0)||function(){return!1},wK="[object Object]",OK=Function.prototype,SK=Object.prototype,kK=OK.toString,jK=SK.hasOwnProperty,EK=kK.call(Object);var CK={};CK["[object Float32Array]"]=CK["[object Float64Array]"]=CK["[object Int8Array]"]=CK["[object Int16Array]"]=CK["[object Int32Array]"]=CK["[object Uint8Array]"]=CK["[object Uint8ClampedArray]"]=CK["[object Uint16Array]"]=CK["[object Uint32Array]"]=!0,CK["[object Arguments]"]=CK["[object Array]"]=CK["[object ArrayBuffer]"]=CK["[object Boolean]"]=CK["[object DataView]"]=CK["[object Date]"]=CK["[object Error]"]=CK["[object Function]"]=CK["[object Map]"]=CK["[object Number]"]=CK["[object Object]"]=CK["[object RegExp]"]=CK["[object Set]"]=CK["[object String]"]=CK["[object WeakMap]"]=!1;var TK,qK="object"==typeof s&&s&&!s.nodeType&&s,AK=qK&&"object"==typeof c&&c&&!c.nodeType&&c,PK=AK&&AK.exports===qK&&iG.process,IK=function(){try{var e=AK&&AK.require&&AK.require("util").types;return e||PK&&PK.binding&&PK.binding("util")}catch(lF){}}(),LK=IK&&IK.isTypedArray,NK=LK?(TK=LK,function(e){return TK(e)}):function(e){return lK(e)&&vK(e.length)&&!!CK[mG(e)]};function RK(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var MK=Object.prototype.hasOwnProperty;function FK(e,t,r){var n=e[t];MK.call(e,t)&&tG(n,r)&&(void 0!==r||t in e)||UG(e,t,r)}var DK=9007199254740991,VK=/^(?:0|[1-9]\d*)$/;function zK(e,t){var r=typeof e;return!!(t=null==t?DK:t)&&("number"==r||"symbol"!=r&&VK.test(e))&&e>-1&&e%1==0&&e<t}var BK=Object.prototype.hasOwnProperty;function HK(e,t){var r=hK(e),n=!r&&fK(e),o=!r&&!n&&xK(e),i=!r&&!n&&!o&&NK(e),a=r||n||o||i,l=a?function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}(e.length,String):[],s=l.length;for(var u in e)!t&&!BK.call(e,u)||a&&("length"==u||o&&("offset"==u||"parent"==u)||i&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||zK(u,s))||l.push(u);return l}var WK=Object.prototype.hasOwnProperty;function UK(e){if(!yG(e))return function(e){var t=[];if(null!=e)for(var r in Object(e))t.push(r);return t}(e);var t=aK(e),r=[];for(var n in e)("constructor"!=n||!t&&WK.call(e,n))&&r.push(n);return r}function $K(e){return mK(e)?HK(e,!0):UK(e)}function YK(e){return function(e,t,r,n){var o=!r;r||(r={});for(var i=-1,a=t.length;++i<a;){var l=t[i],s=n?n(r[l],e[l],l,r,e):void 0;void 0===s&&(s=e[l]),o?UG(r,l,s):FK(r,l,s)}return r}(e,$K(e))}function GK(e,t,r,n,o,i,a){var l=RK(e,r),s=RK(t,r),u=a.get(s);if(u)$G(e,r,u);else{var c,d=i?i(l,s,r+"",e,t,a):void 0,p=void 0===d;if(p){var f=hK(s),h=!f&&xK(s),g=!f&&!h&&NK(s);d=s,f||h||g?hK(l)?d=l:lK(c=l)&&mK(c)?d=function(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}(l):h?(p=!1,d=function(e,t){if(t)return e.slice();var r=e.length,n=XG?XG(r):new e.constructor(r);return e.copy(n),n}(s,!0)):g?(p=!1,d=eK(s,!0)):d=[]:function(e){if(!lK(e)||mG(e)!=wK)return!1;var t=oK(e);if(null===t)return!0;var r=jK.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&kK.call(r)==EK}(s)||fK(s)?(d=l,fK(l)?d=YK(l):yG(l)&&!OG(l)||(d=function(e){return"function"!=typeof e.constructor||aK(e)?{}:rK(oK(e))}(s))):p=!1}p&&(a.set(s,d),o(d,s,n,i,a),a.delete(s)),$G(e,r,d)}}function KK(e,t,r,n,o){e!==t&&GG(t,(function(i,a){if(o||(o=new HG),yG(i))GK(e,t,a,r,KK,n,o);else{var l=n?n(RK(e,a),i,a+"",e,t,o):void 0;void 0===l&&(l=i),$G(e,a,l)}}),$K)}function JK(e){return e}var QK=Math.max;var XK=WG?function(e,t){return WG(e,"toString",{configurable:!0,enumerable:!1,value:(r=t,function(){return r}),writable:!0});var r}:JK;const ZK=XK;var eJ=Date.now;var tJ=function(e){var t=0,r=0;return function(){var n=eJ(),o=16-(n-r);if(r=n,o>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(ZK);function rJ(e,t){return tJ(function(e,t,r){return t=QK(void 0===t?e.length-1:t,0),function(){for(var n=arguments,o=-1,i=QK(n.length-t,0),a=Array(i);++o<i;)a[o]=n[t+o];o=-1;for(var l=Array(t+1);++o<t;)l[o]=n[o];return l[t]=r(a),function(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}(e,this,l)}}(e,t,JK),e+"")}var nJ,oJ=(nJ=function(e,t,r){KK(e,t,r)},rJ((function(e,t){var r=-1,n=t.length,o=n>1?t[n-1]:void 0,i=n>2?t[2]:void 0;for(o=nJ.length>3&&"function"==typeof o?(n--,o):void 0,i&&function(e,t,r){if(!yG(r))return!1;var n=typeof t;return!!("number"==n?mK(r)&&zK(t,r.length):"string"==n&&t in r)&&tG(r[t],e)}(t[0],t[1],i)&&(o=n<3?void 0:o,n=1),e=Object(e);++r<n;){var a=t[r];a&&nJ(e,a,r,o)}return e}))),iJ=function(e){var t=e.zDepth,r=e.radius,n=e.background,o=e.children,i=e.styles,a=DY(oJ({default:{wrap:{position:"relative",display:"inline-block"},content:{position:"relative"},bg:{absolute:"0px 0px 0px 0px",boxShadow:"0 "+t+"px "+4*t+"px rgba(0,0,0,.24)",borderRadius:r,background:n}},"zDepth-0":{bg:{boxShadow:"none"}},"zDepth-1":{bg:{boxShadow:"0 2px 10px rgba(0,0,0,.12), 0 2px 5px rgba(0,0,0,.16)"}},"zDepth-2":{bg:{boxShadow:"0 6px 20px rgba(0,0,0,.19), 0 8px 17px rgba(0,0,0,.2)"}},"zDepth-3":{bg:{boxShadow:"0 17px 50px rgba(0,0,0,.19), 0 12px 15px rgba(0,0,0,.24)"}},"zDepth-4":{bg:{boxShadow:"0 25px 55px rgba(0,0,0,.21), 0 16px 28px rgba(0,0,0,.22)"}},"zDepth-5":{bg:{boxShadow:"0 40px 77px rgba(0,0,0,.22), 0 27px 24px rgba(0,0,0,.2)"}},square:{bg:{borderRadius:"0"}},circle:{bg:{borderRadius:"50%"}}},void 0===i?{}:i),{"zDepth-1":1===t});return N.createElement("div",{style:a.wrap},N.createElement("div",{style:a.bg}),N.createElement("div",{style:a.content},o))};iJ.propTypes={background:it.string,zDepth:it.oneOf([0,1,2,3,4,5]),radius:it.number,styles:it.object},iJ.defaultProps={background:"#fff",zDepth:1,radius:2,styles:{}};var aJ=function(){return lG.Date.now()},lJ=/\s/;var sJ=/^\s+/;function uJ(e){return e?e.slice(0,function(e){for(var t=e.length;t--&&lJ.test(e.charAt(t)););return t}(e)+1).replace(sJ,""):e}var cJ="[object Symbol]";function dJ(e){return"symbol"==typeof e||lK(e)&&mG(e)==cJ}var pJ=NaN,fJ=/^[-+]0x[0-9a-f]+$/i,hJ=/^0b[01]+$/i,gJ=/^0o[0-7]+$/i,vJ=parseInt;function mJ(e){if("number"==typeof e)return e;if(dJ(e))return pJ;if(yG(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=yG(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=uJ(e);var r=hJ.test(e);return r||gJ.test(e)?vJ(e.slice(2),r?2:8):fJ.test(e)?pJ:+e}var yJ="Expected a function",bJ=Math.max,_J=Math.min;function xJ(e,t,r){var n,o,i,a,l,s,u=0,c=!1,d=!1,p=!0;if("function"!=typeof e)throw new TypeError(yJ);function f(t){var r=n,i=o;return n=o=void 0,u=t,a=e.apply(i,r)}function h(e){var r=e-s;return void 0===s||r>=t||r<0||d&&e-u>=i}function g(){var e=aJ();if(h(e))return v(e);l=setTimeout(g,function(e){var r=t-(e-s);return d?_J(r,i-(e-u)):r}(e))}function v(e){return l=void 0,p&&n?f(e):(n=o=void 0,a)}function m(){var e=aJ(),r=h(e);if(n=arguments,o=this,s=e,r){if(void 0===l)return function(e){return u=e,l=setTimeout(g,t),c?f(e):a}(s);if(d)return clearTimeout(l),l=setTimeout(g,t),f(s)}return void 0===l&&(l=setTimeout(g,t)),a}return t=mJ(t)||0,yG(r)&&(c=!!r.leading,i=(d="maxWait"in r)?bJ(mJ(r.maxWait)||0,t):i,p="trailing"in r?!!r.trailing:p),m.cancel=function(){void 0!==l&&clearTimeout(l),u=0,n=s=o=l=void 0},m.flush=function(){return void 0===l?a:v(aJ())},m}var wJ=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var OJ=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.handleChange=function(e){"function"==typeof r.props.onChange&&r.throttle(r.props.onChange,function(e,t,r){var n=r.getBoundingClientRect(),o=n.width,i=n.height,a="number"==typeof e.pageX?e.pageX:e.touches[0].pageX,l="number"==typeof e.pageY?e.pageY:e.touches[0].pageY,s=a-(r.getBoundingClientRect().left+window.pageXOffset),u=l-(r.getBoundingClientRect().top+window.pageYOffset);s<0?s=0:s>o&&(s=o),u<0?u=0:u>i&&(u=i);var c=s/o,d=1-u/i;return{h:t.h,s:c,v:d,a:t.a,source:"hsv"}}(e,r.props.hsl,r.container),e)},r.handleMouseDown=function(e){r.handleChange(e);var t=r.getContainerRenderWindow();t.addEventListener("mousemove",r.handleChange),t.addEventListener("mouseup",r.handleMouseUp)},r.handleMouseUp=function(){r.unbindEventListeners()},r.throttle=function(e,t,r){var n=!0,o=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return yG(r)&&(n="leading"in r?!!r.leading:n,o="trailing"in r?!!r.trailing:o),xJ(e,t,{leading:n,maxWait:t,trailing:o})}((function(e,t,r){e(t,r)}),50),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),wJ(t,[{key:"componentWillUnmount",value:function(){this.throttle.cancel(),this.unbindEventListeners()}},{key:"getContainerRenderWindow",value:function(){for(var e=this.container,t=window;!t.document.contains(e)&&t.parent!==t;)t=t.parent;return t}},{key:"unbindEventListeners",value:function(){var e=this.getContainerRenderWindow();e.removeEventListener("mousemove",this.handleChange),e.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var e=this,t=this.props.style||{},r=t.color,n=t.white,o=t.black,i=t.pointer,a=t.circle,l=DY({default:{color:{absolute:"0px 0px 0px 0px",background:"hsl("+this.props.hsl.h+",100%, 50%)",borderRadius:this.props.radius},white:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},black:{absolute:"0px 0px 0px 0px",boxShadow:this.props.shadow,borderRadius:this.props.radius},pointer:{position:"absolute",top:-100*this.props.hsv.v+100+"%",left:100*this.props.hsv.s+"%",cursor:"default"},circle:{width:"4px",height:"4px",boxShadow:"0 0 0 1.5px #fff, inset 0 0 1px 1px rgba(0,0,0,.3),\n            0 0 1px 2px rgba(0,0,0,.4)",borderRadius:"50%",cursor:"hand",transform:"translate(-2px, -2px)"}},custom:{color:r,white:n,black:o,pointer:i,circle:a}},{custom:!!this.props.style});return N.createElement("div",{style:l.color,ref:function(t){return e.container=t},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},N.createElement("style",null,"\n          .saturation-white {\n            background: -webkit-linear-gradient(to right, #fff, rgba(255,255,255,0));\n            background: linear-gradient(to right, #fff, rgba(255,255,255,0));\n          }\n          .saturation-black {\n            background: -webkit-linear-gradient(to top, #000, rgba(0,0,0,0));\n            background: linear-gradient(to top, #000, rgba(0,0,0,0));\n          }\n        "),N.createElement("div",{style:l.white,className:"saturation-white"},N.createElement("div",{style:l.black,className:"saturation-black"}),N.createElement("div",{style:l.pointer},this.props.pointer?N.createElement(this.props.pointer,this.props):N.createElement("div",{style:l.circle}))))}}]),t}(g.PureComponent||g.Component);function SJ(e,t){for(var r=-1,n=null==e?0:e.length;++r<n&&!1!==t(e[r],r,e););return e}var kJ=nK(Object.keys,Object),jJ=Object.prototype.hasOwnProperty;function EJ(e){return mK(e)?HK(e):function(e){if(!aK(e))return kJ(e);var t=[];for(var r in Object(e))jJ.call(e,r)&&"constructor"!=r&&t.push(r);return t}(e)}var CJ=function(e,t){return function(r,n){if(null==r)return r;if(!mK(r))return e(r,n);for(var o=r.length,i=t?o:-1,a=Object(r);(t?i--:++i<o)&&!1!==n(a[i],i,a););return r}}((function(e,t){return e&&GG(e,t,EJ)}));const TJ=CJ;function qJ(e,t){var r;return(hK(e)?SJ:TJ)(e,"function"==typeof(r=t)?r:JK)}function AJ(e){return AJ="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},AJ(e)}var PJ=/^\s+/,IJ=/\s+$/;function LJ(e,t){if(t=t||{},(e=e||"")instanceof LJ)return e;if(!(this instanceof LJ))return new LJ(e,t);var r=function(e){var t={r:0,g:0,b:0},r=1,n=null,o=null,i=null,a=!1,l=!1;"string"==typeof e&&(e=function(e){e=e.replace(PJ,"").replace(IJ,"").toLowerCase();var t,r=!1;if(QJ[e])e=QJ[e],r=!0;else if("transparent"==e)return{r:0,g:0,b:0,a:0,format:"name"};if(t=cQ.rgb.exec(e))return{r:t[1],g:t[2],b:t[3]};if(t=cQ.rgba.exec(e))return{r:t[1],g:t[2],b:t[3],a:t[4]};if(t=cQ.hsl.exec(e))return{h:t[1],s:t[2],l:t[3]};if(t=cQ.hsla.exec(e))return{h:t[1],s:t[2],l:t[3],a:t[4]};if(t=cQ.hsv.exec(e))return{h:t[1],s:t[2],v:t[3]};if(t=cQ.hsva.exec(e))return{h:t[1],s:t[2],v:t[3],a:t[4]};if(t=cQ.hex8.exec(e))return{r:rQ(t[1]),g:rQ(t[2]),b:rQ(t[3]),a:aQ(t[4]),format:r?"name":"hex8"};if(t=cQ.hex6.exec(e))return{r:rQ(t[1]),g:rQ(t[2]),b:rQ(t[3]),format:r?"name":"hex"};if(t=cQ.hex4.exec(e))return{r:rQ(t[1]+""+t[1]),g:rQ(t[2]+""+t[2]),b:rQ(t[3]+""+t[3]),a:aQ(t[4]+""+t[4]),format:r?"name":"hex8"};if(t=cQ.hex3.exec(e))return{r:rQ(t[1]+""+t[1]),g:rQ(t[2]+""+t[2]),b:rQ(t[3]+""+t[3]),format:r?"name":"hex"};return!1}(e));"object"==AJ(e)&&(dQ(e.r)&&dQ(e.g)&&dQ(e.b)?(t=function(e,t,r){return{r:255*eQ(e,255),g:255*eQ(t,255),b:255*eQ(r,255)}}(e.r,e.g,e.b),a=!0,l="%"===String(e.r).substr(-1)?"prgb":"rgb"):dQ(e.h)&&dQ(e.s)&&dQ(e.v)?(n=oQ(e.s),o=oQ(e.v),t=function(e,t,r){e=6*eQ(e,360),t=eQ(t,100),r=eQ(r,100);var n=Math.floor(e),o=e-n,i=r*(1-t),a=r*(1-o*t),l=r*(1-(1-o)*t),s=n%6,u=[r,a,i,i,l,r][s],c=[l,r,r,a,i,i][s],d=[i,i,l,r,r,a][s];return{r:255*u,g:255*c,b:255*d}}(e.h,n,o),a=!0,l="hsv"):dQ(e.h)&&dQ(e.s)&&dQ(e.l)&&(n=oQ(e.s),i=oQ(e.l),t=function(e,t,r){var n,o,i;function a(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+6*(t-e)*r:r<.5?t:r<2/3?e+(t-e)*(2/3-r)*6:e}if(e=eQ(e,360),t=eQ(t,100),r=eQ(r,100),0===t)n=o=i=r;else{var l=r<.5?r*(1+t):r+t-r*t,s=2*r-l;n=a(s,l,e+1/3),o=a(s,l,e),i=a(s,l,e-1/3)}return{r:255*n,g:255*o,b:255*i}}(e.h,n,i),a=!0,l="hsl"),e.hasOwnProperty("a")&&(r=e.a));return r=ZJ(r),{ok:a,format:e.format||l,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:r}}(e);this._originalInput=e,this._r=r.r,this._g=r.g,this._b=r.b,this._a=r.a,this._roundA=Math.round(100*this._a)/100,this._format=t.format||r.format,this._gradientType=t.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=r.ok}function NJ(e,t,r){e=eQ(e,255),t=eQ(t,255),r=eQ(r,255);var n,o,i=Math.max(e,t,r),a=Math.min(e,t,r),l=(i+a)/2;if(i==a)n=o=0;else{var s=i-a;switch(o=l>.5?s/(2-i-a):s/(i+a),i){case e:n=(t-r)/s+(t<r?6:0);break;case t:n=(r-e)/s+2;break;case r:n=(e-t)/s+4}n/=6}return{h:n,s:o,l:l}}function RJ(e,t,r){e=eQ(e,255),t=eQ(t,255),r=eQ(r,255);var n,o,i=Math.max(e,t,r),a=Math.min(e,t,r),l=i,s=i-a;if(o=0===i?0:s/i,i==a)n=0;else{switch(i){case e:n=(t-r)/s+(t<r?6:0);break;case t:n=(r-e)/s+2;break;case r:n=(e-t)/s+4}n/=6}return{h:n,s:o,v:l}}function MJ(e,t,r,n){var o=[nQ(Math.round(e).toString(16)),nQ(Math.round(t).toString(16)),nQ(Math.round(r).toString(16))];return n&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0):o.join("")}function FJ(e,t,r,n){return[nQ(iQ(n)),nQ(Math.round(e).toString(16)),nQ(Math.round(t).toString(16)),nQ(Math.round(r).toString(16))].join("")}function DJ(e,t){t=0===t?0:t||10;var r=LJ(e).toHsl();return r.s-=t/100,r.s=tQ(r.s),LJ(r)}function VJ(e,t){t=0===t?0:t||10;var r=LJ(e).toHsl();return r.s+=t/100,r.s=tQ(r.s),LJ(r)}function zJ(e){return LJ(e).desaturate(100)}function BJ(e,t){t=0===t?0:t||10;var r=LJ(e).toHsl();return r.l+=t/100,r.l=tQ(r.l),LJ(r)}function HJ(e,t){t=0===t?0:t||10;var r=LJ(e).toRgb();return r.r=Math.max(0,Math.min(255,r.r-Math.round(-t/100*255))),r.g=Math.max(0,Math.min(255,r.g-Math.round(-t/100*255))),r.b=Math.max(0,Math.min(255,r.b-Math.round(-t/100*255))),LJ(r)}function WJ(e,t){t=0===t?0:t||10;var r=LJ(e).toHsl();return r.l-=t/100,r.l=tQ(r.l),LJ(r)}function UJ(e,t){var r=LJ(e).toHsl(),n=(r.h+t)%360;return r.h=n<0?360+n:n,LJ(r)}function $J(e){var t=LJ(e).toHsl();return t.h=(t.h+180)%360,LJ(t)}function YJ(e,t){if(isNaN(t)||t<=0)throw new Error("Argument to polyad must be a positive number");for(var r=LJ(e).toHsl(),n=[LJ(e)],o=360/t,i=1;i<t;i++)n.push(LJ({h:(r.h+i*o)%360,s:r.s,l:r.l}));return n}function GJ(e){var t=LJ(e).toHsl(),r=t.h;return[LJ(e),LJ({h:(r+72)%360,s:t.s,l:t.l}),LJ({h:(r+216)%360,s:t.s,l:t.l})]}function KJ(e,t,r){t=t||6,r=r||30;var n=LJ(e).toHsl(),o=360/r,i=[LJ(e)];for(n.h=(n.h-(o*t>>1)+720)%360;--t;)n.h=(n.h+o)%360,i.push(LJ(n));return i}function JJ(e,t){t=t||6;for(var r=LJ(e).toHsv(),n=r.h,o=r.s,i=r.v,a=[],l=1/t;t--;)a.push(LJ({h:n,s:o,v:i})),i=(i+l)%1;return a}LJ.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},getLuminance:function(){var e,t,r,n=this.toRgb();return e=n.r/255,t=n.g/255,r=n.b/255,.2126*(e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4))+.7152*(t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4))+.0722*(r<=.03928?r/12.92:Math.pow((r+.055)/1.055,2.4))},setAlpha:function(e){return this._a=ZJ(e),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var e=RJ(this._r,this._g,this._b);return{h:360*e.h,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=RJ(this._r,this._g,this._b),t=Math.round(360*e.h),r=Math.round(100*e.s),n=Math.round(100*e.v);return 1==this._a?"hsv("+t+", "+r+"%, "+n+"%)":"hsva("+t+", "+r+"%, "+n+"%, "+this._roundA+")"},toHsl:function(){var e=NJ(this._r,this._g,this._b);return{h:360*e.h,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=NJ(this._r,this._g,this._b),t=Math.round(360*e.h),r=Math.round(100*e.s),n=Math.round(100*e.l);return 1==this._a?"hsl("+t+", "+r+"%, "+n+"%)":"hsla("+t+", "+r+"%, "+n+"%, "+this._roundA+")"},toHex:function(e){return MJ(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return function(e,t,r,n,o){var i=[nQ(Math.round(e).toString(16)),nQ(Math.round(t).toString(16)),nQ(Math.round(r).toString(16)),nQ(iQ(n))];if(o&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)&&i[3].charAt(0)==i[3].charAt(1))return i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0)+i[3].charAt(0);return i.join("")}(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(100*eQ(this._r,255))+"%",g:Math.round(100*eQ(this._g,255))+"%",b:Math.round(100*eQ(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+Math.round(100*eQ(this._r,255))+"%, "+Math.round(100*eQ(this._g,255))+"%, "+Math.round(100*eQ(this._b,255))+"%)":"rgba("+Math.round(100*eQ(this._r,255))+"%, "+Math.round(100*eQ(this._g,255))+"%, "+Math.round(100*eQ(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(XJ[MJ(this._r,this._g,this._b,!0)]||!1)},toFilter:function(e){var t="#"+FJ(this._r,this._g,this._b,this._a),r=t,n=this._gradientType?"GradientType = 1, ":"";if(e){var o=LJ(e);r="#"+FJ(o._r,o._g,o._b,o._a)}return"progid:DXImageTransform.Microsoft.gradient("+n+"startColorstr="+t+",endColorstr="+r+")"},toString:function(e){var t=!!e;e=e||this._format;var r=!1,n=this._a<1&&this._a>=0;return t||!n||"hex"!==e&&"hex6"!==e&&"hex3"!==e&&"hex4"!==e&&"hex8"!==e&&"name"!==e?("rgb"===e&&(r=this.toRgbString()),"prgb"===e&&(r=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(r=this.toHexString()),"hex3"===e&&(r=this.toHexString(!0)),"hex4"===e&&(r=this.toHex8String(!0)),"hex8"===e&&(r=this.toHex8String()),"name"===e&&(r=this.toName()),"hsl"===e&&(r=this.toHslString()),"hsv"===e&&(r=this.toHsvString()),r||this.toHexString()):"name"===e&&0===this._a?this.toName():this.toRgbString()},clone:function(){return LJ(this.toString())},_applyModification:function(e,t){var r=e.apply(null,[this].concat([].slice.call(t)));return this._r=r._r,this._g=r._g,this._b=r._b,this.setAlpha(r._a),this},lighten:function(){return this._applyModification(BJ,arguments)},brighten:function(){return this._applyModification(HJ,arguments)},darken:function(){return this._applyModification(WJ,arguments)},desaturate:function(){return this._applyModification(DJ,arguments)},saturate:function(){return this._applyModification(VJ,arguments)},greyscale:function(){return this._applyModification(zJ,arguments)},spin:function(){return this._applyModification(UJ,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(KJ,arguments)},complement:function(){return this._applyCombination($J,arguments)},monochromatic:function(){return this._applyCombination(JJ,arguments)},splitcomplement:function(){return this._applyCombination(GJ,arguments)},triad:function(){return this._applyCombination(YJ,[3])},tetrad:function(){return this._applyCombination(YJ,[4])}},LJ.fromRatio=function(e,t){if("object"==AJ(e)){var r={};for(var n in e)e.hasOwnProperty(n)&&(r[n]="a"===n?e[n]:oQ(e[n]));e=r}return LJ(e,t)},LJ.equals=function(e,t){return!(!e||!t)&&LJ(e).toRgbString()==LJ(t).toRgbString()},LJ.random=function(){return LJ.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})},LJ.mix=function(e,t,r){r=0===r?0:r||50;var n=LJ(e).toRgb(),o=LJ(t).toRgb(),i=r/100;return LJ({r:(o.r-n.r)*i+n.r,g:(o.g-n.g)*i+n.g,b:(o.b-n.b)*i+n.b,a:(o.a-n.a)*i+n.a})},LJ.readability=function(e,t){var r=LJ(e),n=LJ(t);return(Math.max(r.getLuminance(),n.getLuminance())+.05)/(Math.min(r.getLuminance(),n.getLuminance())+.05)},LJ.isReadable=function(e,t,r){var n,o,i=LJ.readability(e,t);switch(o=!1,(n=function(e){var t,r;t=((e=e||{level:"AA",size:"small"}).level||"AA").toUpperCase(),r=(e.size||"small").toLowerCase(),"AA"!==t&&"AAA"!==t&&(t="AA");"small"!==r&&"large"!==r&&(r="small");return{level:t,size:r}}(r)).level+n.size){case"AAsmall":case"AAAlarge":o=i>=4.5;break;case"AAlarge":o=i>=3;break;case"AAAsmall":o=i>=7}return o},LJ.mostReadable=function(e,t,r){var n,o,i,a,l=null,s=0;o=(r=r||{}).includeFallbackColors,i=r.level,a=r.size;for(var u=0;u<t.length;u++)(n=LJ.readability(e,t[u]))>s&&(s=n,l=LJ(t[u]));return LJ.isReadable(e,l,{level:i,size:a})||!o?l:(r.includeFallbackColors=!1,LJ.mostReadable(e,["#fff","#000"],r))};var QJ=LJ.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},XJ=LJ.hexNames=function(e){var t={};for(var r in e)e.hasOwnProperty(r)&&(t[e[r]]=r);return t}(QJ);function ZJ(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function eQ(e,t){(function(e){return"string"==typeof e&&-1!=e.indexOf(".")&&1===parseFloat(e)})(e)&&(e="100%");var r=function(e){return"string"==typeof e&&-1!=e.indexOf("%")}(e);return e=Math.min(t,Math.max(0,parseFloat(e))),r&&(e=parseInt(e*t,10)/100),Math.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function tQ(e){return Math.min(1,Math.max(0,e))}function rQ(e){return parseInt(e,16)}function nQ(e){return 1==e.length?"0"+e:""+e}function oQ(e){return e<=1&&(e=100*e+"%"),e}function iQ(e){return Math.round(255*parseFloat(e)).toString(16)}function aQ(e){return rQ(e)/255}var lQ,sQ,uQ,cQ=(sQ="[\\s|\\(]+("+(lQ="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+lQ+")[,|\\s]+("+lQ+")\\s*\\)?",uQ="[\\s|\\(]+("+lQ+")[,|\\s]+("+lQ+")[,|\\s]+("+lQ+")[,|\\s]+("+lQ+")\\s*\\)?",{CSS_UNIT:new RegExp(lQ),rgb:new RegExp("rgb"+sQ),rgba:new RegExp("rgba"+uQ),hsl:new RegExp("hsl"+sQ),hsla:new RegExp("hsla"+uQ),hsv:new RegExp("hsv"+sQ),hsva:new RegExp("hsva"+uQ),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function dQ(e){return!!cQ.CSS_UNIT.exec(e)}var pQ=function(e){var t=0,r=0;return qJ(["r","g","b","a","h","s","l","v"],(function(n){if(e[n]&&(t+=1,isNaN(e[n])||(r+=1),"s"===n||"l"===n)){/^\d+%$/.test(e[n])&&(r+=1)}})),t===r&&e},fQ=function(e,t){var r=e.hex?LJ(e.hex):LJ(e),n=r.toHsl(),o=r.toHsv(),i=r.toRgb(),a=r.toHex();return 0===n.s&&(n.h=t||0,o.h=t||0),{hsl:n,hex:"000000"===a&&0===i.a?"transparent":"#"+a,rgb:i,hsv:o,oldHue:e.h||t||n.h,source:e.source}},hQ=function(e){if("transparent"===e)return!0;var t="#"===String(e).charAt(0)?1:0;return e.length!==4+t&&e.length<7+t&&LJ(e).isValid()},gQ=function(e){if(!e)return"#fff";var t=fQ(e);return"transparent"===t.hex?"rgba(0,0,0,0.4)":(299*t.rgb.r+587*t.rgb.g+114*t.rgb.b)/1e3>=128?"#000":"#fff"},vQ=function(e,t){return LJ(t+" ("+e.replace("°","")+")")._ok},mQ=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yQ=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var bQ=function(e){var t=function(t){function r(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(r.__proto__||Object.getPrototypeOf(r)).call(this));return t.handleChange=function(e,r){if(pQ(e)){var n=fQ(e,e.h||t.state.oldHue);t.setState(n),t.props.onChangeComplete&&t.debounce(t.props.onChangeComplete,n,r),t.props.onChange&&t.props.onChange(n,r)}},t.handleSwatchHover=function(e,r){if(pQ(e)){var n=fQ(e,e.h||t.state.oldHue);t.props.onSwatchHover&&t.props.onSwatchHover(n,r)}},t.state=mQ({},fQ(e.color,0)),t.debounce=xJ((function(e,t,r){e(t,r)}),100),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(r,t),yQ(r,[{key:"render",value:function(){var t={};return this.props.onSwatchHover&&(t.onSwatchHover=this.handleSwatchHover),N.createElement(e,mQ({},this.props,this.state,{onChange:this.handleChange},t))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return mQ({},fQ(e.color,t.oldHue))}}]),r}(g.PureComponent||g.Component);return t.propTypes=mQ({},e.propTypes),t.defaultProps=mQ({},e.defaultProps,{color:{h:250,s:.5,l:.2,a:1}}),t},_Q=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xQ=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();function wQ(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var OQ=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};const SQ=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"span";return function(r){function n(){var e,t,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return t=r=wQ(this,(e=n.__proto__||Object.getPrototypeOf(n)).call.apply(e,[this].concat(i))),r.state={focus:!1},r.handleFocus=function(){return r.setState({focus:!0})},r.handleBlur=function(){return r.setState({focus:!1})},wQ(r,t)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,r),xQ(n,[{key:"render",value:function(){return N.createElement(t,{onFocus:this.handleFocus,onBlur:this.handleBlur},N.createElement(e,_Q({},this.props,this.state)))}}]),n}(N.Component)}((function(e){var t=e.color,r=e.style,n=e.onClick,o=void 0===n?function(){}:n,i=e.onHover,a=e.title,l=void 0===a?t:a,s=e.children,u=e.focus,c=e.focusStyle,d="transparent"===t,p=DY({default:{swatch:OQ({background:t,height:"100%",width:"100%",cursor:"pointer",position:"relative",outline:"none"},r,u?void 0===c?{}:c:{})}}),f={};return i&&(f.onMouseOver=function(e){return i(t,e)}),N.createElement("div",OQ({style:p.swatch,onClick:function(e){return o(t,e)},title:l,tabIndex:0,onKeyDown:function(e){return 13===e.keyCode&&o(t,e)}},f),s,d&&N.createElement(HY,{borderRadius:p.swatch.borderRadius,boxShadow:"inset 0 0 0 1px rgba(0,0,0,0.1)"}))}));var kQ=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jQ=function(e){var t=e.rgb,r=e.hsl,n=e.width,o=e.height,i=e.onChange,a=e.direction,l=e.style,s=e.renderers,u=e.pointer,c=e.className,d=void 0===c?"":c,p=DY({default:{picker:{position:"relative",width:n,height:o},alpha:{radius:"2px",style:l}}});return N.createElement("div",{style:p.picker,className:"alpha-picker "+d},N.createElement(YY,kQ({},p.alpha,{rgb:t,hsl:r,pointer:u,renderers:s,onChange:i,direction:a})))};function EQ(e,t){for(var r=-1,n=null==e?0:e.length,o=Array(n);++r<n;)o[r]=t(e[r],r,e);return o}jQ.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:function(e){var t=e.direction,r=DY({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:"vertical"===t});return N.createElement("div",{style:r.picker})}},bQ(jQ);function CQ(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new BG;++t<r;)this.add(e[t])}function TQ(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}CQ.prototype.add=CQ.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},CQ.prototype.has=function(e){return this.__data__.has(e)};var qQ=1,AQ=2;function PQ(e,t,r,n,o,i){var a=r&qQ,l=e.length,s=t.length;if(l!=s&&!(a&&s>l))return!1;var u=i.get(e),c=i.get(t);if(u&&c)return u==t&&c==e;var d=-1,p=!0,f=r&AQ?new CQ:void 0;for(i.set(e,t),i.set(t,e);++d<l;){var h=e[d],g=t[d];if(n)var v=a?n(g,h,d,t,e,i):n(h,g,d,e,t,i);if(void 0!==v){if(v)continue;p=!1;break}if(f){if(!TQ(t,(function(e,t){if(a=t,!f.has(a)&&(h===e||o(h,e,r,n,i)))return f.push(t);var a}))){p=!1;break}}else if(h!==g&&!o(h,g,r,n,i)){p=!1;break}}return i.delete(e),i.delete(t),p}function IQ(e){var t=-1,r=Array(e.size);return e.forEach((function(e,n){r[++t]=[n,e]})),r}function LQ(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r}var NQ=1,RQ=2,MQ="[object Boolean]",FQ="[object Date]",DQ="[object Error]",VQ="[object Map]",zQ="[object Number]",BQ="[object RegExp]",HQ="[object Set]",WQ="[object String]",UQ="[object Symbol]",$Q="[object ArrayBuffer]",YQ="[object DataView]",GQ=sG?sG.prototype:void 0,KQ=GQ?GQ.valueOf:void 0;var JQ=Object.prototype.propertyIsEnumerable,QQ=Object.getOwnPropertySymbols,XQ=QQ?function(e){return null==e?[]:(e=Object(e),function(e,t){for(var r=-1,n=null==e?0:e.length,o=0,i=[];++r<n;){var a=e[r];t(a,r,e)&&(i[o++]=a)}return i}(QQ(e),(function(t){return JQ.call(e,t)})))}:function(){return[]};const ZQ=XQ;function eX(e){return function(e,t,r){var n=t(e);return hK(e)?n:function(e,t){for(var r=-1,n=t.length,o=e.length;++r<n;)e[o+r]=t[r];return e}(n,r(e))}(e,EJ,ZQ)}var tX=1,rX=Object.prototype.hasOwnProperty;var nX=NG(lG,"DataView"),oX=NG(lG,"Promise"),iX=NG(lG,"Set"),aX=NG(lG,"WeakMap"),lX="[object Map]",sX="[object Promise]",uX="[object Set]",cX="[object WeakMap]",dX="[object DataView]",pX=EG(nX),fX=EG(RG),hX=EG(oX),gX=EG(iX),vX=EG(aX),mX=mG;(nX&&mX(new nX(new ArrayBuffer(1)))!=dX||RG&&mX(new RG)!=lX||oX&&mX(oX.resolve())!=sX||iX&&mX(new iX)!=uX||aX&&mX(new aX)!=cX)&&(mX=function(e){var t=mG(e),r="[object Object]"==t?e.constructor:void 0,n=r?EG(r):"";if(n)switch(n){case pX:return dX;case fX:return lX;case hX:return sX;case gX:return uX;case vX:return cX}return t});const yX=mX;var bX=1,_X="[object Arguments]",xX="[object Array]",wX="[object Object]",OX=Object.prototype.hasOwnProperty;function SX(e,t,r,n,o,i){var a=hK(e),l=hK(t),s=a?xX:yX(e),u=l?xX:yX(t),c=(s=s==_X?wX:s)==wX,d=(u=u==_X?wX:u)==wX,p=s==u;if(p&&xK(e)){if(!xK(t))return!1;a=!0,c=!1}if(p&&!c)return i||(i=new HG),a||NK(e)?PQ(e,t,r,n,o,i):function(e,t,r,n,o,i,a){switch(r){case YQ:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case $Q:return!(e.byteLength!=t.byteLength||!i(new ZG(e),new ZG(t)));case MQ:case FQ:case zQ:return tG(+e,+t);case DQ:return e.name==t.name&&e.message==t.message;case BQ:case WQ:return e==t+"";case VQ:var l=IQ;case HQ:var s=n&NQ;if(l||(l=LQ),e.size!=t.size&&!s)return!1;var u=a.get(e);if(u)return u==t;n|=RQ,a.set(e,t);var c=PQ(l(e),l(t),n,o,i,a);return a.delete(e),c;case UQ:if(KQ)return KQ.call(e)==KQ.call(t)}return!1}(e,t,s,r,n,o,i);if(!(r&bX)){var f=c&&OX.call(e,"__wrapped__"),h=d&&OX.call(t,"__wrapped__");if(f||h){var g=f?e.value():e,v=h?t.value():t;return i||(i=new HG),o(g,v,r,n,i)}}return!!p&&(i||(i=new HG),function(e,t,r,n,o,i){var a=r&tX,l=eX(e),s=l.length;if(s!=eX(t).length&&!a)return!1;for(var u=s;u--;){var c=l[u];if(!(a?c in t:rX.call(t,c)))return!1}var d=i.get(e),p=i.get(t);if(d&&p)return d==t&&p==e;var f=!0;i.set(e,t),i.set(t,e);for(var h=a;++u<s;){var g=e[c=l[u]],v=t[c];if(n)var m=a?n(v,g,c,t,e,i):n(g,v,c,e,t,i);if(!(void 0===m?g===v||o(g,v,r,n,i):m)){f=!1;break}h||(h="constructor"==c)}if(f&&!h){var y=e.constructor,b=t.constructor;y==b||!("constructor"in e)||!("constructor"in t)||"function"==typeof y&&y instanceof y&&"function"==typeof b&&b instanceof b||(f=!1)}return i.delete(e),i.delete(t),f}(e,t,r,n,o,i))}function kX(e,t,r,n,o){return e===t||(null==e||null==t||!lK(e)&&!lK(t)?e!=e&&t!=t:SX(e,t,r,n,kX,o))}var jX=1,EX=2;function CX(e){return e==e&&!yG(e)}function TX(e,t){return function(r){return null!=r&&(r[e]===t&&(void 0!==t||e in Object(r)))}}function qX(e){var t=function(e){for(var t=EJ(e),r=t.length;r--;){var n=t[r],o=e[n];t[r]=[n,o,CX(o)]}return t}(e);return 1==t.length&&t[0][2]?TX(t[0][0],t[0][1]):function(r){return r===e||function(e,t,r,n){var o=r.length,i=o,a=!n;if(null==e)return!i;for(e=Object(e);o--;){var l=r[o];if(a&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++o<i;){var s=(l=r[o])[0],u=e[s],c=l[1];if(a&&l[2]){if(void 0===u&&!(s in e))return!1}else{var d=new HG;if(n)var p=n(u,c,s,e,t,d);if(!(void 0===p?kX(c,u,jX|EX,n,d):p))return!1}}return!0}(r,e,t)}}var AX=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,PX=/^\w*$/;function IX(e,t){if(hK(e))return!1;var r=typeof e;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!dJ(e))||(PX.test(e)||!AX.test(e)||null!=t&&e in Object(t))}var LX="Expected a function";function NX(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError(LX);var r=function r(){var n=arguments,o=t?t.apply(this,n):n[0],i=r.cache;if(i.has(o))return i.get(o);var a=e.apply(this,n);return r.cache=i.set(o,a)||i,a};return r.cache=new(NX.Cache||BG),r}NX.Cache=BG;var RX=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,MX=/\\(\\)?/g,FX=function(e){var t=NX(e,(function(e){return 500===r.size&&r.clear(),e})),r=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(RX,(function(e,r,n,o){t.push(n?o.replace(MX,"$1"):r||e)})),t})),DX=1/0,VX=sG?sG.prototype:void 0,zX=VX?VX.toString:void 0;function BX(e){if("string"==typeof e)return e;if(hK(e))return EQ(e,BX)+"";if(dJ(e))return zX?zX.call(e):"";var t=e+"";return"0"==t&&1/e==-DX?"-0":t}function HX(e,t){return hK(e)?e:IX(e,t)?[e]:FX(function(e){return null==e?"":BX(e)}(e))}var WX=1/0;function UX(e){if("string"==typeof e||dJ(e))return e;var t=e+"";return"0"==t&&1/e==-WX?"-0":t}function $X(e,t){for(var r=0,n=(t=HX(t,e)).length;null!=e&&r<n;)e=e[UX(t[r++])];return r&&r==n?e:void 0}function YX(e,t){return null!=e&&t in Object(e)}function GX(e,t){return null!=e&&function(e,t,r){for(var n=-1,o=(t=HX(t,e)).length,i=!1;++n<o;){var a=UX(t[n]);if(!(i=null!=e&&r(e,a)))break;e=e[a]}return i||++n!=o?i:!!(o=null==e?0:e.length)&&vK(o)&&zK(a,o)&&(hK(e)||fK(e))}(e,t,YX)}var KX=1,JX=2;function QX(e,t){return IX(e)&&CX(t)?TX(UX(e),t):function(r){var n=function(e,t,r){var n=null==e?void 0:$X(e,t);return void 0===n?r:n}(r,e);return void 0===n&&n===t?GX(r,e):kX(t,n,KX|JX)}}function XX(e){return IX(e)?(t=UX(e),function(e){return null==e?void 0:e[t]}):function(e){return function(t){return $X(t,e)}}(e);var t}function ZX(e,t){var r=-1,n=mK(e)?Array(e.length):[];return TJ(e,(function(e,o,i){n[++r]=t(e,o,i)})),n}function eZ(e,t){var r;return(hK(e)?EQ:ZX)(e,"function"==typeof(r=t)?r:null==r?JK:"object"==typeof r?hK(r)?QX(r[0],r[1]):qX(r):XX(r))}var tZ=function(e){var t=e.colors,r=e.onClick,n=e.onSwatchHover,o=DY({default:{swatches:{marginRight:"-10px"},swatch:{width:"22px",height:"22px",float:"left",marginRight:"10px",marginBottom:"10px",borderRadius:"4px"},clear:{clear:"both"}}});return N.createElement("div",{style:o.swatches},eZ(t,(function(e){return N.createElement(SQ,{key:e,color:e,style:o.swatch,onClick:r,onHover:n,focusStyle:{boxShadow:"0 0 4px "+e}})})),N.createElement("div",{style:o.clear}))},rZ=function(e){var t=e.onChange,r=e.onSwatchHover,n=e.hex,o=e.colors,i=e.width,a=e.triangle,l=e.styles,s=void 0===l?{}:l,u=e.className,c=void 0===u?"":u,d="transparent"===n,p=function(e,r){hQ(e)&&t({hex:e,source:"hex"},r)},f=DY(oJ({default:{card:{width:i,background:"#fff",boxShadow:"0 1px rgba(0,0,0,.1)",borderRadius:"6px",position:"relative"},head:{height:"110px",background:n,borderRadius:"6px 6px 0 0",display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},body:{padding:"10px"},label:{fontSize:"18px",color:gQ(n),position:"relative"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 10px 10px 10px",borderColor:"transparent transparent "+n+" transparent",position:"absolute",top:"-10px",left:"50%",marginLeft:"-10px"},input:{width:"100%",fontSize:"12px",color:"#666",border:"0px",outline:"none",height:"22px",boxShadow:"inset 0 0 0 1px #ddd",borderRadius:"4px",padding:"0 7px",boxSizing:"border-box"}},"hide-triangle":{triangle:{display:"none"}}},s),{"hide-triangle":"hide"===a});return N.createElement("div",{style:f.card,className:"block-picker "+c},N.createElement("div",{style:f.triangle}),N.createElement("div",{style:f.head},d&&N.createElement(HY,{borderRadius:"6px 6px 0 0"}),N.createElement("div",{style:f.label},n)),N.createElement("div",{style:f.body},N.createElement(tZ,{colors:o,onClick:p,onSwatchHover:r}),N.createElement(QY,{style:{input:f.input},value:n,onChange:p})))};rZ.propTypes={width:it.oneOfType([it.string,it.number]),colors:it.arrayOf(it.string),triangle:it.oneOf(["top","hide"]),styles:it.object},rZ.defaultProps={width:170,colors:["#D9E3F0","#F47373","#697689","#37D67A","#2CCCE4","#555555","#dce775","#ff8a65","#ba68c8"],triangle:"top",styles:{}},bQ(rZ);var nZ="#ffcdd2",oZ="#e57373",iZ="#f44336",aZ="#d32f2f",lZ="#b71c1c",sZ="#f8bbd0",uZ="#f06292",cZ="#e91e63",dZ="#c2185b",pZ="#880e4f",fZ="#e1bee7",hZ="#ba68c8",gZ="#9c27b0",vZ="#7b1fa2",mZ="#4a148c",yZ="#d1c4e9",bZ="#9575cd",_Z="#673ab7",xZ="#512da8",wZ="#311b92",OZ="#c5cae9",SZ="#7986cb",kZ="#3f51b5",jZ="#303f9f",EZ="#1a237e",CZ="#bbdefb",TZ="#64b5f6",qZ="#2196f3",AZ="#1976d2",PZ="#0d47a1",IZ="#b3e5fc",LZ="#4fc3f7",NZ="#03a9f4",RZ="#0288d1",MZ="#01579b",FZ="#b2ebf2",DZ="#4dd0e1",VZ="#00bcd4",zZ="#0097a7",BZ="#006064",HZ="#b2dfdb",WZ="#4db6ac",UZ="#009688",$Z="#00796b",YZ="#004d40",GZ="#c8e6c9",KZ="#81c784",JZ="#4caf50",QZ="#388e3c",XZ="#dcedc8",ZZ="#aed581",e0="#8bc34a",t0="#689f38",r0="#33691e",n0="#f0f4c3",o0="#dce775",i0="#cddc39",a0="#afb42b",l0="#827717",s0="#fff9c4",u0="#fff176",c0="#ffeb3b",d0="#fbc02d",p0="#f57f17",f0="#ffecb3",h0="#ffd54f",g0="#ffc107",v0="#ffa000",m0="#ff6f00",y0="#ffe0b2",b0="#ffb74d",_0="#ff9800",x0="#f57c00",w0="#e65100",O0="#ffccbc",S0="#ff8a65",k0="#ff5722",j0="#e64a19",E0="#bf360c",C0="#d7ccc8",T0="#a1887f",q0="#795548",A0="#5d4037",P0="#3e2723",I0="#cfd8dc",L0="#90a4ae",N0="#607d8b",R0="#455a64",M0="#263238",F0=function(e){var t=e.color,r=e.onClick,n=e.onSwatchHover,o=e.hover,i=e.active,a=e.circleSize,l=e.circleSpacing,s=DY({default:{swatch:{width:a,height:a,marginRight:l,marginBottom:l,transform:"scale(1)",transition:"100ms transform ease"},Swatch:{borderRadius:"50%",background:"transparent",boxShadow:"inset 0 0 0 "+(a/2+1)+"px "+t,transition:"100ms box-shadow ease"}},hover:{swatch:{transform:"scale(1.2)"}},active:{Swatch:{boxShadow:"inset 0 0 0 3px "+t}}},{hover:o,active:i});return N.createElement("div",{style:s.swatch},N.createElement(SQ,{style:s.Swatch,color:t,onClick:r,onHover:n,focusStyle:{boxShadow:s.Swatch.boxShadow+", 0 0 5px "+t}}))};F0.defaultProps={circleSize:28,circleSpacing:14};const D0=MY(F0);var V0=function(e){var t=e.width,r=e.onChange,n=e.onSwatchHover,o=e.colors,i=e.hex,a=e.circleSize,l=e.styles,s=void 0===l?{}:l,u=e.circleSpacing,c=e.className,d=void 0===c?"":c,p=DY(oJ({default:{card:{width:t,display:"flex",flexWrap:"wrap",marginRight:-u,marginBottom:-u}}},s)),f=function(e,t){return r({hex:e,source:"hex"},t)};return N.createElement("div",{style:p.card,className:"circle-picker "+d},eZ(o,(function(e){return N.createElement(D0,{key:e,color:e,onClick:f,onSwatchHover:n,active:i===e.toLowerCase(),circleSize:a,circleSpacing:u})})))};function z0(e){return void 0===e}V0.propTypes={width:it.oneOfType([it.string,it.number]),circleSize:it.number,circleSpacing:it.number,styles:it.object},V0.defaultProps={width:252,circleSize:28,circleSpacing:14,colors:[iZ,cZ,gZ,_Z,kZ,qZ,NZ,VZ,UZ,JZ,e0,i0,c0,g0,_0,k0,q0,N0],styles:{}},bQ(V0);var B0={};Object.defineProperty(B0,"__esModule",{value:!0});var H0=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},W0=function(e){return e&&e.__esModule?e:{default:e}}(g);var U0=B0.default=function(e){var t=e.fill,r=void 0===t?"currentColor":t,n=e.width,o=void 0===n?24:n,i=e.height,a=void 0===i?24:i,l=e.style,s=void 0===l?{}:l,u=function(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}(e,["fill","width","height","style"]);return W0.default.createElement("svg",H0({viewBox:"0 0 24 24",style:H0({fill:r,width:o,height:a},s)},u),W0.default.createElement("path",{d:"M12,18.17L8.83,15L7.42,16.41L12,21L16.59,16.41L15.17,15M12,5.83L15.17,9L16.58,7.59L12,3L7.41,7.59L8.83,9L12,5.83Z"}))},$0=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var Y0=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return r.toggleViews=function(){"hex"===r.state.view?r.setState({view:"rgb"}):"rgb"===r.state.view?r.setState({view:"hsl"}):"hsl"===r.state.view&&(1===r.props.hsl.a?r.setState({view:"hex"}):r.setState({view:"rgb"}))},r.handleChange=function(e,t){e.hex?hQ(e.hex)&&r.props.onChange({hex:e.hex,source:"hex"},t):e.r||e.g||e.b?r.props.onChange({r:e.r||r.props.rgb.r,g:e.g||r.props.rgb.g,b:e.b||r.props.rgb.b,source:"rgb"},t):e.a?(e.a<0?e.a=0:e.a>1&&(e.a=1),r.props.onChange({h:r.props.hsl.h,s:r.props.hsl.s,l:r.props.hsl.l,a:Math.round(100*e.a)/100,source:"rgb"},t)):(e.h||e.s||e.l)&&("string"==typeof e.s&&e.s.includes("%")&&(e.s=e.s.replace("%","")),"string"==typeof e.l&&e.l.includes("%")&&(e.l=e.l.replace("%","")),1==e.s?e.s=.01:1==e.l&&(e.l=.01),r.props.onChange({h:e.h||r.props.hsl.h,s:Number(z0(e.s)?r.props.hsl.s:e.s),l:Number(z0(e.l)?r.props.hsl.l:e.l),source:"hsl"},t))},r.showHighlight=function(e){e.currentTarget.style.background="#eee"},r.hideHighlight=function(e){e.currentTarget.style.background="transparent"},1!==e.hsl.a&&"hex"===e.view?r.state={view:"rgb"}:r.state={view:e.view},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),$0(t,[{key:"render",value:function(){var e=this,t=DY({default:{wrap:{paddingTop:"16px",display:"flex"},fields:{flex:"1",display:"flex",marginLeft:"-6px"},field:{paddingLeft:"6px",width:"100%"},alpha:{paddingLeft:"6px",width:"100%"},toggle:{width:"32px",textAlign:"right",position:"relative"},icon:{marginRight:"-4px",marginTop:"12px",cursor:"pointer",position:"relative"},iconHighlight:{position:"absolute",width:"24px",height:"28px",background:"#eee",borderRadius:"4px",top:"10px",left:"12px",display:"none"},input:{fontSize:"11px",color:"#333",width:"100%",borderRadius:"2px",border:"none",boxShadow:"inset 0 0 0 1px #dadada",height:"21px",textAlign:"center"},label:{textTransform:"uppercase",fontSize:"11px",lineHeight:"11px",color:"#969696",textAlign:"center",display:"block",marginTop:"12px"},svg:{fill:"#333",width:"24px",height:"24px",border:"1px transparent solid",borderRadius:"5px"}},disableAlpha:{alpha:{display:"none"}}},this.props,this.state),r=void 0;return"hex"===this.state.view?r=N.createElement("div",{style:t.fields,className:"flexbox-fix"},N.createElement("div",{style:t.field},N.createElement(QY,{style:{input:t.input,label:t.label},label:"hex",value:this.props.hex,onChange:this.handleChange}))):"rgb"===this.state.view?r=N.createElement("div",{style:t.fields,className:"flexbox-fix"},N.createElement("div",{style:t.field},N.createElement(QY,{style:{input:t.input,label:t.label},label:"r",value:this.props.rgb.r,onChange:this.handleChange})),N.createElement("div",{style:t.field},N.createElement(QY,{style:{input:t.input,label:t.label},label:"g",value:this.props.rgb.g,onChange:this.handleChange})),N.createElement("div",{style:t.field},N.createElement(QY,{style:{input:t.input,label:t.label},label:"b",value:this.props.rgb.b,onChange:this.handleChange})),N.createElement("div",{style:t.alpha},N.createElement(QY,{style:{input:t.input,label:t.label},label:"a",value:this.props.rgb.a,arrowOffset:.01,onChange:this.handleChange}))):"hsl"===this.state.view&&(r=N.createElement("div",{style:t.fields,className:"flexbox-fix"},N.createElement("div",{style:t.field},N.createElement(QY,{style:{input:t.input,label:t.label},label:"h",value:Math.round(this.props.hsl.h),onChange:this.handleChange})),N.createElement("div",{style:t.field},N.createElement(QY,{style:{input:t.input,label:t.label},label:"s",value:Math.round(100*this.props.hsl.s)+"%",onChange:this.handleChange})),N.createElement("div",{style:t.field},N.createElement(QY,{style:{input:t.input,label:t.label},label:"l",value:Math.round(100*this.props.hsl.l)+"%",onChange:this.handleChange})),N.createElement("div",{style:t.alpha},N.createElement(QY,{style:{input:t.input,label:t.label},label:"a",value:this.props.hsl.a,arrowOffset:.01,onChange:this.handleChange})))),N.createElement("div",{style:t.wrap,className:"flexbox-fix"},r,N.createElement("div",{style:t.toggle},N.createElement("div",{style:t.icon,onClick:this.toggleViews,ref:function(t){return e.icon=t}},N.createElement(U0,{style:t.svg,onMouseOver:this.showHighlight,onMouseEnter:this.showHighlight,onMouseOut:this.hideHighlight}))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return 1!==e.hsl.a&&"hex"===t.view?{view:"rgb"}:null}}]),t}(N.Component);Y0.defaultProps={view:"hex"};var G0=function(){var e=DY({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",transform:"translate(-6px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return N.createElement("div",{style:e.picker})},K0=function(){var e=DY({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}}});return N.createElement("div",{style:e.picker})},J0=function(e){var t=e.width,r=e.onChange,n=e.disableAlpha,o=e.rgb,i=e.hsl,a=e.hsv,l=e.hex,s=e.renderers,u=e.styles,c=void 0===u?{}:u,d=e.className,p=void 0===d?"":d,f=e.defaultView,h=DY(oJ({default:{picker:{width:t,background:"#fff",borderRadius:"2px",boxShadow:"0 0 2px rgba(0,0,0,.3), 0 4px 8px rgba(0,0,0,.3)",boxSizing:"initial",fontFamily:"Menlo"},saturation:{width:"100%",paddingBottom:"55%",position:"relative",borderRadius:"2px 2px 0 0",overflow:"hidden"},Saturation:{radius:"2px 2px 0 0"},body:{padding:"16px 16px 12px"},controls:{display:"flex"},color:{width:"32px"},swatch:{marginTop:"6px",width:"16px",height:"16px",borderRadius:"8px",position:"relative",overflow:"hidden"},active:{absolute:"0px 0px 0px 0px",borderRadius:"8px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.1)",background:"rgba("+o.r+", "+o.g+", "+o.b+", "+o.a+")",zIndex:"2"},toggles:{flex:"1"},hue:{height:"10px",position:"relative",marginBottom:"8px"},Hue:{radius:"2px"},alpha:{height:"10px",position:"relative"},Alpha:{radius:"2px"}},disableAlpha:{color:{width:"22px"},alpha:{display:"none"},hue:{marginBottom:"0px"},swatch:{width:"10px",height:"10px",marginTop:"0px"}}},c),{disableAlpha:n});return N.createElement("div",{style:h.picker,className:"chrome-picker "+p},N.createElement("div",{style:h.saturation},N.createElement(OJ,{style:h.Saturation,hsl:i,hsv:a,pointer:K0,onChange:r})),N.createElement("div",{style:h.body},N.createElement("div",{style:h.controls,className:"flexbox-fix"},N.createElement("div",{style:h.color},N.createElement("div",{style:h.swatch},N.createElement("div",{style:h.active}),N.createElement(HY,{renderers:s}))),N.createElement("div",{style:h.toggles},N.createElement("div",{style:h.hue},N.createElement(eG,{style:h.Hue,hsl:i,pointer:G0,onChange:r})),N.createElement("div",{style:h.alpha},N.createElement(YY,{style:h.Alpha,rgb:o,hsl:i,pointer:G0,renderers:s,onChange:r})))),N.createElement(Y0,{rgb:o,hsl:i,hex:l,view:f,onChange:r,disableAlpha:n})))};J0.propTypes={width:it.oneOfType([it.string,it.number]),disableAlpha:it.bool,styles:it.object,defaultView:it.oneOf(["hex","rgb","hsl"])},J0.defaultProps={width:225,disableAlpha:!1,styles:{}};const Q0=bQ(J0);var X0=function(e){var t=e.color,r=e.onClick,n=void 0===r?function(){}:r,o=e.onSwatchHover,i=e.active,a=DY({default:{color:{background:t,width:"15px",height:"15px",float:"left",marginRight:"5px",marginBottom:"5px",position:"relative",cursor:"pointer"},dot:{absolute:"5px 5px 5px 5px",background:gQ(t),borderRadius:"50%",opacity:"0"}},active:{dot:{opacity:"1"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},dot:{background:"#000"}},transparent:{dot:{background:"#000"}}},{active:i,"color-#FFFFFF":"#FFFFFF"===t,transparent:"transparent"===t});return N.createElement(SQ,{style:a.color,color:t,onClick:n,onHover:o,focusStyle:{boxShadow:"0 0 4px "+t}},N.createElement("div",{style:a.dot}))},Z0=function(e){var t=e.hex,r=e.rgb,n=e.onChange,o=DY({default:{fields:{display:"flex",paddingBottom:"6px",paddingRight:"5px",position:"relative"},active:{position:"absolute",top:"6px",left:"5px",height:"9px",width:"9px",background:t},HEXwrap:{flex:"6",position:"relative"},HEXinput:{width:"80%",padding:"0px",paddingLeft:"20%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},HEXlabel:{display:"none"},RGBwrap:{flex:"3",position:"relative"},RGBinput:{width:"70%",padding:"0px",paddingLeft:"30%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},RGBlabel:{position:"absolute",top:"3px",left:"0px",lineHeight:"16px",textTransform:"uppercase",fontSize:"12px",color:"#999"}}}),i=function(e,t){e.r||e.g||e.b?n({r:e.r||r.r,g:e.g||r.g,b:e.b||r.b,source:"rgb"},t):n({hex:e.hex,source:"hex"},t)};return N.createElement("div",{style:o.fields,className:"flexbox-fix"},N.createElement("div",{style:o.active}),N.createElement(QY,{style:{wrap:o.HEXwrap,input:o.HEXinput,label:o.HEXlabel},label:"hex",value:t,onChange:i}),N.createElement(QY,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"r",value:r.r,onChange:i}),N.createElement(QY,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"g",value:r.g,onChange:i}),N.createElement(QY,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"b",value:r.b,onChange:i}))},e1=function(e){var t=e.onChange,r=e.onSwatchHover,n=e.colors,o=e.hex,i=e.rgb,a=e.styles,l=void 0===a?{}:a,s=e.className,u=void 0===s?"":s,c=DY(oJ({default:{Compact:{background:"#f6f6f6",radius:"4px"},compact:{paddingTop:"5px",paddingLeft:"5px",boxSizing:"initial",width:"240px"},clear:{clear:"both"}}},l)),d=function(e,r){e.hex?hQ(e.hex)&&t({hex:e.hex,source:"hex"},r):t(e,r)};return N.createElement(iJ,{style:c.Compact,styles:l},N.createElement("div",{style:c.compact,className:"compact-picker "+u},N.createElement("div",null,eZ(n,(function(e){return N.createElement(X0,{key:e,color:e,active:e.toLowerCase()===o,onClick:d,onSwatchHover:r})})),N.createElement("div",{style:c.clear})),N.createElement(Z0,{hex:o,rgb:i,onChange:d})))};e1.propTypes={colors:it.arrayOf(it.string),styles:it.object},e1.defaultProps={colors:["#4D4D4D","#999999","#FFFFFF","#F44E3B","#FE9200","#FCDC00","#DBDF00","#A4DD00","#68CCCA","#73D8FF","#AEA1FF","#FDA1FF","#333333","#808080","#cccccc","#D33115","#E27300","#FCC400","#B0BC00","#68BC00","#16A5A5","#009CE0","#7B64FF","#FA28FF","#000000","#666666","#B3B3B3","#9F0500","#C45100","#FB9E00","#808900","#194D33","#0C797D","#0062B1","#653294","#AB149E"],styles:{}},bQ(e1);const t1=MY((function(e){var t=e.hover,r=e.color,n=e.onClick,o=e.onSwatchHover,i={position:"relative",zIndex:"2",outline:"2px solid #fff",boxShadow:"0 0 5px 2px rgba(0,0,0,0.25)"},a=DY({default:{swatch:{width:"25px",height:"25px",fontSize:"0"}},hover:{swatch:i}},{hover:t});return N.createElement("div",{style:a.swatch},N.createElement(SQ,{color:r,onClick:n,onHover:o,focusStyle:i}))}));var r1=function(e){var t=e.width,r=e.colors,n=e.onChange,o=e.onSwatchHover,i=e.triangle,a=e.styles,l=void 0===a?{}:a,s=e.className,u=void 0===s?"":s,c=DY(oJ({default:{card:{width:t,background:"#fff",border:"1px solid rgba(0,0,0,0.2)",boxShadow:"0 3px 12px rgba(0,0,0,0.15)",borderRadius:"4px",position:"relative",padding:"5px",display:"flex",flexWrap:"wrap"},triangle:{position:"absolute",border:"7px solid transparent",borderBottomColor:"#fff"},triangleShadow:{position:"absolute",border:"8px solid transparent",borderBottomColor:"rgba(0,0,0,0.15)"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-14px",left:"10px"},triangleShadow:{top:"-16px",left:"9px"}},"top-right-triangle":{triangle:{top:"-14px",right:"10px"},triangleShadow:{top:"-16px",right:"9px"}},"bottom-left-triangle":{triangle:{top:"35px",left:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",left:"9px",transform:"rotate(180deg)"}},"bottom-right-triangle":{triangle:{top:"35px",right:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",right:"9px",transform:"rotate(180deg)"}}},l),{"hide-triangle":"hide"===i,"top-left-triangle":"top-left"===i,"top-right-triangle":"top-right"===i,"bottom-left-triangle":"bottom-left"===i,"bottom-right-triangle":"bottom-right"===i}),d=function(e,t){return n({hex:e,source:"hex"},t)};return N.createElement("div",{style:c.card,className:"github-picker "+u},N.createElement("div",{style:c.triangleShadow}),N.createElement("div",{style:c.triangle}),eZ(r,(function(e){return N.createElement(t1,{color:e,key:e,onClick:d,onSwatchHover:o})})))};r1.propTypes={width:it.oneOfType([it.string,it.number]),colors:it.arrayOf(it.string),triangle:it.oneOf(["hide","top-left","top-right","bottom-left","bottom-right"]),styles:it.object},r1.defaultProps={width:200,colors:["#B80000","#DB3E00","#FCCB00","#008B02","#006B76","#1273DE","#004DCF","#5300EB","#EB9694","#FAD0C3","#FEF3BD","#C1E1C5","#BEDADC","#C4DEF6","#BED3F3","#D4C4FB"],triangle:"top-left",styles:{}},bQ(r1);var n1=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o1=function(e){var t=e.width,r=e.height,n=e.onChange,o=e.hsl,i=e.direction,a=e.pointer,l=e.styles,s=void 0===l?{}:l,u=e.className,c=void 0===u?"":u,d=DY(oJ({default:{picker:{position:"relative",width:t,height:r},hue:{radius:"2px"}}},s));return N.createElement("div",{style:d.picker,className:"hue-picker "+c},N.createElement(eG,n1({},d.hue,{hsl:o,pointer:a,onChange:function(e){return n({a:1,h:e.h,l:.5,s:1})},direction:i})))};o1.propTypes={styles:it.object},o1.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:function(e){var t=e.direction,r=DY({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:"vertical"===t});return N.createElement("div",{style:r.picker})},styles:{}},bQ(o1);bQ((function(e){var t=e.onChange,r=e.hex,n=e.rgb,o=e.styles,i=void 0===o?{}:o,a=e.className,l=void 0===a?"":a,s=DY(oJ({default:{material:{width:"98px",height:"98px",padding:"16px",fontFamily:"Roboto"},HEXwrap:{position:"relative"},HEXinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"2px solid "+r,outline:"none",height:"30px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},Hex:{style:{}},RGBwrap:{position:"relative"},RGBinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"1px solid #eee",outline:"none",height:"30px"},RGBlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},split:{display:"flex",marginRight:"-10px",paddingTop:"11px"},third:{flex:"1",paddingRight:"10px"}}},i)),u=function(e,r){e.hex?hQ(e.hex)&&t({hex:e.hex,source:"hex"},r):(e.r||e.g||e.b)&&t({r:e.r||n.r,g:e.g||n.g,b:e.b||n.b,source:"rgb"},r)};return N.createElement(iJ,{styles:i},N.createElement("div",{style:s.material,className:"material-picker "+l},N.createElement(QY,{style:{wrap:s.HEXwrap,input:s.HEXinput,label:s.HEXlabel},label:"hex",value:r,onChange:u}),N.createElement("div",{style:s.split,className:"flexbox-fix"},N.createElement("div",{style:s.third},N.createElement(QY,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"r",value:n.r,onChange:u})),N.createElement("div",{style:s.third},N.createElement(QY,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"g",value:n.g,onChange:u})),N.createElement("div",{style:s.third},N.createElement(QY,{style:{wrap:s.RGBwrap,input:s.RGBinput,label:s.RGBlabel},label:"b",value:n.b,onChange:u})))))}));var i1=function(e){var t=e.onChange,r=e.rgb,n=e.hsv,o=e.hex,i=DY({default:{fields:{paddingTop:"5px",paddingBottom:"9px",width:"80px",position:"relative"},divider:{height:"5px"},RGBwrap:{position:"relative"},RGBinput:{marginLeft:"40%",width:"40%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"5px",fontSize:"13px",paddingLeft:"3px",marginRight:"10px"},RGBlabel:{left:"0px",top:"0px",width:"34px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px",position:"absolute"},HEXwrap:{position:"relative"},HEXinput:{marginLeft:"20%",width:"80%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"6px",fontSize:"13px",paddingLeft:"3px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",width:"14px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px"},fieldSymbols:{position:"absolute",top:"5px",right:"-7px",fontSize:"13px"},symbol:{height:"20px",lineHeight:"22px",paddingBottom:"7px"}}}),a=function(e,o){e["#"]?hQ(e["#"])&&t({hex:e["#"],source:"hex"},o):e.r||e.g||e.b?t({r:e.r||r.r,g:e.g||r.g,b:e.b||r.b,source:"rgb"},o):(e.h||e.s||e.v)&&t({h:e.h||n.h,s:e.s||n.s,v:e.v||n.v,source:"hsv"},o)};return N.createElement("div",{style:i.fields},N.createElement(QY,{style:{wrap:i.RGBwrap,input:i.RGBinput,label:i.RGBlabel},label:"h",value:Math.round(n.h),onChange:a}),N.createElement(QY,{style:{wrap:i.RGBwrap,input:i.RGBinput,label:i.RGBlabel},label:"s",value:Math.round(100*n.s),onChange:a}),N.createElement(QY,{style:{wrap:i.RGBwrap,input:i.RGBinput,label:i.RGBlabel},label:"v",value:Math.round(100*n.v),onChange:a}),N.createElement("div",{style:i.divider}),N.createElement(QY,{style:{wrap:i.RGBwrap,input:i.RGBinput,label:i.RGBlabel},label:"r",value:r.r,onChange:a}),N.createElement(QY,{style:{wrap:i.RGBwrap,input:i.RGBinput,label:i.RGBlabel},label:"g",value:r.g,onChange:a}),N.createElement(QY,{style:{wrap:i.RGBwrap,input:i.RGBinput,label:i.RGBlabel},label:"b",value:r.b,onChange:a}),N.createElement("div",{style:i.divider}),N.createElement(QY,{style:{wrap:i.HEXwrap,input:i.HEXinput,label:i.HEXlabel},label:"#",value:o.replace("#",""),onChange:a}),N.createElement("div",{style:i.fieldSymbols},N.createElement("div",{style:i.symbol},"°"),N.createElement("div",{style:i.symbol},"%"),N.createElement("div",{style:i.symbol},"%")))},a1=function(e){var t=e.hsl,r=DY({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}},"black-outline":{picker:{boxShadow:"inset 0 0 0 1px #000"}}},{"black-outline":t.l>.5});return N.createElement("div",{style:r.picker})},l1=function(){var e=DY({default:{triangle:{width:0,height:0,borderStyle:"solid",borderWidth:"4px 0 4px 6px",borderColor:"transparent transparent transparent #fff",position:"absolute",top:"1px",left:"1px"},triangleBorder:{width:0,height:0,borderStyle:"solid",borderWidth:"5px 0 5px 8px",borderColor:"transparent transparent transparent #555"},left:{Extend:"triangleBorder",transform:"translate(-13px, -4px)"},leftInside:{Extend:"triangle",transform:"translate(-8px, -5px)"},right:{Extend:"triangleBorder",transform:"translate(20px, -14px) rotate(180deg)"},rightInside:{Extend:"triangle",transform:"translate(-8px, -5px)"}}});return N.createElement("div",{style:e.pointer},N.createElement("div",{style:e.left},N.createElement("div",{style:e.leftInside})),N.createElement("div",{style:e.right},N.createElement("div",{style:e.rightInside})))},s1=function(e){var t=e.onClick,r=e.label,n=e.children,o=e.active,i=DY({default:{button:{backgroundImage:"linear-gradient(-180deg, #FFFFFF 0%, #E6E6E6 100%)",border:"1px solid #878787",borderRadius:"2px",height:"20px",boxShadow:"0 1px 0 0 #EAEAEA",fontSize:"14px",color:"#000",lineHeight:"20px",textAlign:"center",marginBottom:"10px",cursor:"pointer"}},active:{button:{boxShadow:"0 0 0 1px #878787"}}},{active:o});return N.createElement("div",{style:i.button,onClick:t},r||n)},u1=function(e){var t=e.rgb,r=e.currentColor,n=DY({default:{swatches:{border:"1px solid #B3B3B3",borderBottom:"1px solid #F0F0F0",marginBottom:"2px",marginTop:"1px"},new:{height:"34px",background:"rgb("+t.r+","+t.g+", "+t.b+")",boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 1px 0 #000"},current:{height:"34px",background:r,boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 -1px 0 #000"},label:{fontSize:"14px",color:"#000",textAlign:"center"}}});return N.createElement("div",null,N.createElement("div",{style:n.label},"new"),N.createElement("div",{style:n.swatches},N.createElement("div",{style:n.new}),N.createElement("div",{style:n.current})),N.createElement("div",{style:n.label},"current"))},c1=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var d1=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return r.state={currentColor:e.hex},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),c1(t,[{key:"render",value:function(){var e=this.props,t=e.styles,r=void 0===t?{}:t,n=e.className,o=void 0===n?"":n,i=DY(oJ({default:{picker:{background:"#DCDCDC",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.25), 0 8px 16px rgba(0,0,0,.15)",boxSizing:"initial",width:"513px"},head:{backgroundImage:"linear-gradient(-180deg, #F0F0F0 0%, #D4D4D4 100%)",borderBottom:"1px solid #B1B1B1",boxShadow:"inset 0 1px 0 0 rgba(255,255,255,.2), inset 0 -1px 0 0 rgba(0,0,0,.02)",height:"23px",lineHeight:"24px",borderRadius:"4px 4px 0 0",fontSize:"13px",color:"#4D4D4D",textAlign:"center"},body:{padding:"15px 15px 0",display:"flex"},saturation:{width:"256px",height:"256px",position:"relative",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0",overflow:"hidden"},hue:{position:"relative",height:"256px",width:"19px",marginLeft:"10px",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0"},controls:{width:"180px",marginLeft:"10px"},top:{display:"flex"},previews:{width:"60px"},actions:{flex:"1",marginLeft:"20px"}}},r));return N.createElement("div",{style:i.picker,className:"photoshop-picker "+o},N.createElement("div",{style:i.head},this.props.header),N.createElement("div",{style:i.body,className:"flexbox-fix"},N.createElement("div",{style:i.saturation},N.createElement(OJ,{hsl:this.props.hsl,hsv:this.props.hsv,pointer:a1,onChange:this.props.onChange})),N.createElement("div",{style:i.hue},N.createElement(eG,{direction:"vertical",hsl:this.props.hsl,pointer:l1,onChange:this.props.onChange})),N.createElement("div",{style:i.controls},N.createElement("div",{style:i.top,className:"flexbox-fix"},N.createElement("div",{style:i.previews},N.createElement(u1,{rgb:this.props.rgb,currentColor:this.state.currentColor})),N.createElement("div",{style:i.actions},N.createElement(s1,{label:"OK",onClick:this.props.onAccept,active:!0}),N.createElement(s1,{label:"Cancel",onClick:this.props.onCancel}),N.createElement(i1,{onChange:this.props.onChange,rgb:this.props.rgb,hsv:this.props.hsv,hex:this.props.hex}))))))}}]),t}(N.Component);d1.propTypes={header:it.string,styles:it.object},d1.defaultProps={header:"Color Picker",styles:{}},bQ(d1);var p1=function(e){var t=e.onChange,r=e.rgb,n=e.hsl,o=e.hex,i=e.disableAlpha,a=DY({default:{fields:{display:"flex",paddingTop:"4px"},single:{flex:"1",paddingLeft:"6px"},alpha:{flex:"1",paddingLeft:"6px"},double:{flex:"2"},input:{width:"80%",padding:"4px 10% 3px",border:"none",boxShadow:"inset 0 0 0 1px #ccc",fontSize:"11px"},label:{display:"block",textAlign:"center",fontSize:"11px",color:"#222",paddingTop:"3px",paddingBottom:"4px",textTransform:"capitalize"}},disableAlpha:{alpha:{display:"none"}}},{disableAlpha:i}),l=function(e,o){e.hex?hQ(e.hex)&&t({hex:e.hex,source:"hex"},o):e.r||e.g||e.b?t({r:e.r||r.r,g:e.g||r.g,b:e.b||r.b,a:r.a,source:"rgb"},o):e.a&&(e.a<0?e.a=0:e.a>100&&(e.a=100),e.a/=100,t({h:n.h,s:n.s,l:n.l,a:e.a,source:"rgb"},o))};return N.createElement("div",{style:a.fields,className:"flexbox-fix"},N.createElement("div",{style:a.double},N.createElement(QY,{style:{input:a.input,label:a.label},label:"hex",value:o.replace("#",""),onChange:l})),N.createElement("div",{style:a.single},N.createElement(QY,{style:{input:a.input,label:a.label},label:"r",value:r.r,onChange:l,dragLabel:"true",dragMax:"255"})),N.createElement("div",{style:a.single},N.createElement(QY,{style:{input:a.input,label:a.label},label:"g",value:r.g,onChange:l,dragLabel:"true",dragMax:"255"})),N.createElement("div",{style:a.single},N.createElement(QY,{style:{input:a.input,label:a.label},label:"b",value:r.b,onChange:l,dragLabel:"true",dragMax:"255"})),N.createElement("div",{style:a.alpha},N.createElement(QY,{style:{input:a.input,label:a.label},label:"a",value:Math.round(100*r.a),onChange:l,dragLabel:"true",dragMax:"100"})))},f1=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},h1=function(e){var t=e.colors,r=e.onClick,n=void 0===r?function(){}:r,o=e.onSwatchHover,i=DY({default:{colors:{margin:"0 -10px",padding:"10px 0 0 10px",borderTop:"1px solid #eee",display:"flex",flexWrap:"wrap",position:"relative"},swatchWrap:{width:"16px",height:"16px",margin:"0 10px 10px 0"},swatch:{borderRadius:"3px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15)"}},"no-presets":{colors:{display:"none"}}},{"no-presets":!t||!t.length}),a=function(e,t){n({hex:e,source:"hex"},t)};return N.createElement("div",{style:i.colors,className:"flexbox-fix"},t.map((function(e){var t="string"==typeof e?{color:e}:e,r=""+t.color+(t.title||"");return N.createElement("div",{key:r,style:i.swatchWrap},N.createElement(SQ,f1({},t,{style:i.swatch,onClick:a,onHover:o,focusStyle:{boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), 0 0 4px "+t.color}})))})))};h1.propTypes={colors:it.arrayOf(it.oneOfType([it.string,it.shape({color:it.string,title:it.string})])).isRequired};var g1=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},v1=function(e){var t=e.width,r=e.rgb,n=e.hex,o=e.hsv,i=e.hsl,a=e.onChange,l=e.onSwatchHover,s=e.disableAlpha,u=e.presetColors,c=e.renderers,d=e.styles,p=void 0===d?{}:d,f=e.className,h=void 0===f?"":f,g=DY(oJ({default:g1({picker:{width:t,padding:"10px 10px 0",boxSizing:"initial",background:"#fff",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.15), 0 8px 16px rgba(0,0,0,.15)"},saturation:{width:"100%",paddingBottom:"75%",position:"relative",overflow:"hidden"},Saturation:{radius:"3px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},controls:{display:"flex"},sliders:{padding:"4px 0",flex:"1"},color:{width:"24px",height:"24px",position:"relative",marginTop:"4px",marginLeft:"4px",borderRadius:"3px"},activeColor:{absolute:"0px 0px 0px 0px",borderRadius:"2px",background:"rgba("+r.r+","+r.g+","+r.b+","+r.a+")",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},hue:{position:"relative",height:"10px",overflow:"hidden"},Hue:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},alpha:{position:"relative",height:"10px",marginTop:"4px",overflow:"hidden"},Alpha:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"}},p),disableAlpha:{color:{height:"10px"},hue:{height:"10px"},alpha:{display:"none"}}},p),{disableAlpha:s});return N.createElement("div",{style:g.picker,className:"sketch-picker "+h},N.createElement("div",{style:g.saturation},N.createElement(OJ,{style:g.Saturation,hsl:i,hsv:o,onChange:a})),N.createElement("div",{style:g.controls,className:"flexbox-fix"},N.createElement("div",{style:g.sliders},N.createElement("div",{style:g.hue},N.createElement(eG,{style:g.Hue,hsl:i,onChange:a})),N.createElement("div",{style:g.alpha},N.createElement(YY,{style:g.Alpha,rgb:r,hsl:i,renderers:c,onChange:a}))),N.createElement("div",{style:g.color},N.createElement(HY,null),N.createElement("div",{style:g.activeColor}))),N.createElement(p1,{rgb:r,hsl:i,hex:n,onChange:a,disableAlpha:s}),N.createElement(h1,{colors:u,onClick:a,onSwatchHover:l}))};v1.propTypes={disableAlpha:it.bool,width:it.oneOfType([it.string,it.number]),styles:it.object},v1.defaultProps={disableAlpha:!1,width:200,styles:{},presetColors:["#D0021B","#F5A623","#F8E71C","#8B572A","#7ED321","#417505","#BD10E0","#9013FE","#4A90E2","#50E3C2","#B8E986","#000000","#4A4A4A","#9B9B9B","#FFFFFF"]},bQ(v1);var m1=function(e){var t=e.hsl,r=e.offset,n=e.onClick,o=void 0===n?function(){}:n,i=e.active,a=e.first,l=e.last,s=DY({default:{swatch:{height:"12px",background:"hsl("+t.h+", 50%, "+100*r+"%)",cursor:"pointer"}},first:{swatch:{borderRadius:"2px 0 0 2px"}},last:{swatch:{borderRadius:"0 2px 2px 0"}},active:{swatch:{transform:"scaleY(1.8)",borderRadius:"3.6px/2px"}}},{active:i,first:a,last:l});return N.createElement("div",{style:s.swatch,onClick:function(e){return o({h:t.h,s:.5,l:r,source:"hsl"},e)}})},y1=function(e){var t=e.onClick,r=e.hsl,n=DY({default:{swatches:{marginTop:"20px"},swatch:{boxSizing:"border-box",width:"20%",paddingRight:"1px",float:"left"},clear:{clear:"both"}}}),o=.1;return N.createElement("div",{style:n.swatches},N.createElement("div",{style:n.swatch},N.createElement(m1,{hsl:r,offset:".80",active:Math.abs(r.l-.8)<o&&Math.abs(r.s-.5)<o,onClick:t,first:!0})),N.createElement("div",{style:n.swatch},N.createElement(m1,{hsl:r,offset:".65",active:Math.abs(r.l-.65)<o&&Math.abs(r.s-.5)<o,onClick:t})),N.createElement("div",{style:n.swatch},N.createElement(m1,{hsl:r,offset:".50",active:Math.abs(r.l-.5)<o&&Math.abs(r.s-.5)<o,onClick:t})),N.createElement("div",{style:n.swatch},N.createElement(m1,{hsl:r,offset:".35",active:Math.abs(r.l-.35)<o&&Math.abs(r.s-.5)<o,onClick:t})),N.createElement("div",{style:n.swatch},N.createElement(m1,{hsl:r,offset:".20",active:Math.abs(r.l-.2)<o&&Math.abs(r.s-.5)<o,onClick:t,last:!0})),N.createElement("div",{style:n.clear}))},b1=function(e){var t=e.hsl,r=e.onChange,n=e.pointer,o=e.styles,i=void 0===o?{}:o,a=e.className,l=void 0===a?"":a,s=DY(oJ({default:{hue:{height:"12px",position:"relative"},Hue:{radius:"2px"}}},i));return N.createElement("div",{style:s.wrap||{},className:"slider-picker "+l},N.createElement("div",{style:s.hue},N.createElement(eG,{style:s.Hue,hsl:t,pointer:n,onChange:r})),N.createElement("div",{style:s.swatches},N.createElement(y1,{hsl:t,onClick:r})))};b1.propTypes={styles:it.object},b1.defaultProps={pointer:function(){var e=DY({default:{picker:{width:"14px",height:"14px",borderRadius:"6px",transform:"translate(-7px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return N.createElement("div",{style:e.picker})},styles:{}},bQ(b1);var _1={};Object.defineProperty(_1,"__esModule",{value:!0});var x1=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},w1=function(e){return e&&e.__esModule?e:{default:e}}(g);var O1=_1.default=function(e){var t=e.fill,r=void 0===t?"currentColor":t,n=e.width,o=void 0===n?24:n,i=e.height,a=void 0===i?24:i,l=e.style,s=void 0===l?{}:l,u=function(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}(e,["fill","width","height","style"]);return w1.default.createElement("svg",x1({viewBox:"0 0 24 24",style:x1({fill:r,width:o,height:a},s)},u),w1.default.createElement("path",{d:"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"}))},S1=function(e){var t=e.color,r=e.onClick,n=void 0===r?function(){}:r,o=e.onSwatchHover,i=e.first,a=e.last,l=e.active,s=DY({default:{color:{width:"40px",height:"24px",cursor:"pointer",background:t,marginBottom:"1px"},check:{color:gQ(t),marginLeft:"8px",display:"none"}},first:{color:{overflow:"hidden",borderRadius:"2px 2px 0 0"}},last:{color:{overflow:"hidden",borderRadius:"0 0 2px 2px"}},active:{check:{display:"block"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},check:{color:"#333"}},transparent:{check:{color:"#333"}}},{first:i,last:a,active:l,"color-#FFFFFF":"#FFFFFF"===t,transparent:"transparent"===t});return N.createElement(SQ,{color:t,style:s.color,onClick:n,onHover:o,focusStyle:{boxShadow:"0 0 4px "+t}},N.createElement("div",{style:s.check},N.createElement(O1,null)))},k1=function(e){var t=e.onClick,r=e.onSwatchHover,n=e.group,o=e.active,i=DY({default:{group:{paddingBottom:"10px",width:"40px",float:"left",marginRight:"10px"}}});return N.createElement("div",{style:i.group},eZ(n,(function(e,i){return N.createElement(S1,{key:e,color:e,active:e.toLowerCase()===o,first:0===i,last:i===n.length-1,onClick:t,onSwatchHover:r})})))},j1=function(e){var t=e.width,r=e.height,n=e.onChange,o=e.onSwatchHover,i=e.colors,a=e.hex,l=e.styles,s=void 0===l?{}:l,u=e.className,c=void 0===u?"":u,d=DY(oJ({default:{picker:{width:t,height:r},overflow:{height:r,overflowY:"scroll"},body:{padding:"16px 0 6px 16px"},clear:{clear:"both"}}},s)),p=function(e,t){return n({hex:e,source:"hex"},t)};return N.createElement("div",{style:d.picker,className:"swatches-picker "+c},N.createElement(iJ,null,N.createElement("div",{style:d.overflow},N.createElement("div",{style:d.body},eZ(i,(function(e){return N.createElement(k1,{key:e.toString(),group:e,active:a,onClick:p,onSwatchHover:o})})),N.createElement("div",{style:d.clear})))))};j1.propTypes={width:it.oneOfType([it.string,it.number]),height:it.oneOfType([it.string,it.number]),colors:it.arrayOf(it.arrayOf(it.string)),styles:it.object},j1.defaultProps={width:320,height:240,colors:[[lZ,aZ,iZ,oZ,nZ],[pZ,dZ,cZ,uZ,sZ],[mZ,vZ,gZ,hZ,fZ],[wZ,xZ,_Z,bZ,yZ],[EZ,jZ,kZ,SZ,OZ],[PZ,AZ,qZ,TZ,CZ],[MZ,RZ,NZ,LZ,IZ],[BZ,zZ,VZ,DZ,FZ],[YZ,$Z,UZ,WZ,HZ],["#194D33",QZ,JZ,KZ,GZ],[r0,t0,e0,ZZ,XZ],[l0,a0,i0,o0,n0],[p0,d0,c0,u0,s0],[m0,v0,g0,h0,f0],[w0,x0,_0,b0,y0],[E0,j0,k0,S0,O0],[P0,A0,q0,T0,C0],[M0,R0,N0,L0,I0],["#000000","#525252","#969696","#D9D9D9","#FFFFFF"]],styles:{}},bQ(j1);var E1=function(e){var t=e.onChange,r=e.onSwatchHover,n=e.hex,o=e.colors,i=e.width,a=e.triangle,l=e.styles,s=void 0===l?{}:l,u=e.className,c=void 0===u?"":u,d=DY(oJ({default:{card:{width:i,background:"#fff",border:"0 solid rgba(0,0,0,0.25)",boxShadow:"0 1px 4px rgba(0,0,0,0.25)",borderRadius:"4px",position:"relative"},body:{padding:"15px 9px 9px 15px"},label:{fontSize:"18px",color:"#fff"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent #fff transparent",position:"absolute"},triangleShadow:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent rgba(0,0,0,.1) transparent",position:"absolute"},hash:{background:"#F0F0F0",height:"30px",width:"30px",borderRadius:"4px 0 0 4px",float:"left",color:"#98A1A4",display:"flex",alignItems:"center",justifyContent:"center"},input:{width:"100px",fontSize:"14px",color:"#666",border:"0px",outline:"none",height:"28px",boxShadow:"inset 0 0 0 1px #F0F0F0",boxSizing:"content-box",borderRadius:"0 4px 4px 0",float:"left",paddingLeft:"8px"},swatch:{width:"30px",height:"30px",float:"left",borderRadius:"4px",margin:"0 6px 6px 0"},clear:{clear:"both"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-10px",left:"12px"},triangleShadow:{top:"-11px",left:"12px"}},"top-right-triangle":{triangle:{top:"-10px",right:"12px"},triangleShadow:{top:"-11px",right:"12px"}}},s),{"hide-triangle":"hide"===a,"top-left-triangle":"top-left"===a,"top-right-triangle":"top-right"===a}),p=function(e,r){hQ(e)&&t({hex:e,source:"hex"},r)};return N.createElement("div",{style:d.card,className:"twitter-picker "+c},N.createElement("div",{style:d.triangleShadow}),N.createElement("div",{style:d.triangle}),N.createElement("div",{style:d.body},eZ(o,(function(e,t){return N.createElement(SQ,{key:t,color:e,hex:e,style:d.swatch,onClick:p,onHover:r,focusStyle:{boxShadow:"0 0 4px "+e}})})),N.createElement("div",{style:d.hash},"#"),N.createElement(QY,{label:null,style:{input:d.input},value:n.replace("#",""),onChange:p}),N.createElement("div",{style:d.clear})))};E1.propTypes={width:it.oneOfType([it.string,it.number]),triangle:it.oneOf(["hide","top-left","top-right"]),colors:it.arrayOf(it.string),styles:it.object},E1.defaultProps={width:276,colors:["#FF6900","#FCB900","#7BDCB5","#00D084","#8ED1FC","#0693E3","#ABB8C3","#EB144C","#F78DA7","#9900EF"],triangle:"top-left",styles:{}},bQ(E1);var C1=function(e){var t=DY({default:{picker:{width:"20px",height:"20px",borderRadius:"22px",border:"2px #fff solid",transform:"translate(-12px, -13px)",background:"hsl("+Math.round(e.hsl.h)+", "+Math.round(100*e.hsl.s)+"%, "+Math.round(100*e.hsl.l)+"%)"}}});return N.createElement("div",{style:t.picker})};C1.propTypes={hsl:it.shape({h:it.number,s:it.number,l:it.number,a:it.number})},C1.defaultProps={hsl:{a:1,h:249.94,l:.2,s:.5}};var T1=function(e){var t=DY({default:{picker:{width:"20px",height:"20px",borderRadius:"22px",transform:"translate(-10px, -7px)",background:"hsl("+Math.round(e.hsl.h)+", 100%, 50%)",border:"2px white solid"}}});return N.createElement("div",{style:t.picker})};T1.propTypes={hsl:it.shape({h:it.number,s:it.number,l:it.number,a:it.number})},T1.defaultProps={hsl:{a:1,h:249.94,l:.2,s:.5}};var q1=function(e){var t=e.onChange,r=e.rgb,n=e.hsl,o=e.hex,i=e.hsv,a=function(e,r){if(e.hex)hQ(e.hex)&&t({hex:e.hex,source:"hex"},r);else if(e.rgb){var n=e.rgb.split(",");vQ(e.rgb,"rgb")&&t({r:n[0],g:n[1],b:n[2],a:1,source:"rgb"},r)}else if(e.hsv){var o=e.hsv.split(",");vQ(e.hsv,"hsv")&&(o[2]=o[2].replace("%",""),o[1]=o[1].replace("%",""),o[0]=o[0].replace("°",""),1==o[1]?o[1]=.01:1==o[2]&&(o[2]=.01),t({h:Number(o[0]),s:Number(o[1]),v:Number(o[2]),source:"hsv"},r))}else if(e.hsl){var i=e.hsl.split(",");vQ(e.hsl,"hsl")&&(i[2]=i[2].replace("%",""),i[1]=i[1].replace("%",""),i[0]=i[0].replace("°",""),1==c[1]?c[1]=.01:1==c[2]&&(c[2]=.01),t({h:Number(i[0]),s:Number(i[1]),v:Number(i[2]),source:"hsl"},r))}},l=DY({default:{wrap:{display:"flex",height:"100px",marginTop:"4px"},fields:{width:"100%"},column:{paddingTop:"10px",display:"flex",justifyContent:"space-between"},double:{padding:"0px 4.4px",boxSizing:"border-box"},input:{width:"100%",height:"38px",boxSizing:"border-box",padding:"4px 10% 3px",textAlign:"center",border:"1px solid #dadce0",fontSize:"11px",textTransform:"lowercase",borderRadius:"5px",outline:"none",fontFamily:"Roboto,Arial,sans-serif"},input2:{height:"38px",width:"100%",border:"1px solid #dadce0",boxSizing:"border-box",fontSize:"11px",textTransform:"lowercase",borderRadius:"5px",outline:"none",paddingLeft:"10px",fontFamily:"Roboto,Arial,sans-serif"},label:{textAlign:"center",fontSize:"12px",background:"#fff",position:"absolute",textTransform:"uppercase",color:"#3c4043",width:"35px",top:"-6px",left:"0",right:"0",marginLeft:"auto",marginRight:"auto",fontFamily:"Roboto,Arial,sans-serif"},label2:{left:"10px",textAlign:"center",fontSize:"12px",background:"#fff",position:"absolute",textTransform:"uppercase",color:"#3c4043",width:"32px",top:"-6px",fontFamily:"Roboto,Arial,sans-serif"},single:{flexGrow:"1",margin:"0px 4.4px"}}}),s=r.r+", "+r.g+", "+r.b,u=Math.round(n.h)+"°, "+Math.round(100*n.s)+"%, "+Math.round(100*n.l)+"%",c=Math.round(i.h)+"°, "+Math.round(100*i.s)+"%, "+Math.round(100*i.v)+"%";return N.createElement("div",{style:l.wrap,className:"flexbox-fix"},N.createElement("div",{style:l.fields},N.createElement("div",{style:l.double},N.createElement(QY,{style:{input:l.input,label:l.label},label:"hex",value:o,onChange:a})),N.createElement("div",{style:l.column},N.createElement("div",{style:l.single},N.createElement(QY,{style:{input:l.input2,label:l.label2},label:"rgb",value:s,onChange:a})),N.createElement("div",{style:l.single},N.createElement(QY,{style:{input:l.input2,label:l.label2},label:"hsv",value:c,onChange:a})),N.createElement("div",{style:l.single},N.createElement(QY,{style:{input:l.input2,label:l.label2},label:"hsl",value:u,onChange:a})))))},A1=function(e){var t=e.width,r=e.onChange,n=e.rgb,o=e.hsl,i=e.hsv,a=e.hex,l=e.header,s=e.styles,u=void 0===s?{}:s,c=e.className,d=void 0===c?"":c,p=DY(oJ({default:{picker:{width:t,background:"#fff",border:"1px solid #dfe1e5",boxSizing:"initial",display:"flex",flexWrap:"wrap",borderRadius:"8px 8px 0px 0px"},head:{height:"57px",width:"100%",paddingTop:"16px",paddingBottom:"16px",paddingLeft:"16px",fontSize:"20px",boxSizing:"border-box",fontFamily:"Roboto-Regular,HelveticaNeue,Arial,sans-serif"},saturation:{width:"70%",padding:"0px",position:"relative",overflow:"hidden"},swatch:{width:"30%",height:"228px",padding:"0px",background:"rgba("+n.r+", "+n.g+", "+n.b+", 1)",position:"relative",overflow:"hidden"},body:{margin:"auto",width:"95%"},controls:{display:"flex",boxSizing:"border-box",height:"52px",paddingTop:"22px"},color:{width:"32px"},hue:{height:"8px",position:"relative",margin:"0px 16px 0px 16px",width:"100%"},Hue:{radius:"2px"}}},u));return N.createElement("div",{style:p.picker,className:"google-picker "+d},N.createElement("div",{style:p.head},l),N.createElement("div",{style:p.swatch}),N.createElement("div",{style:p.saturation},N.createElement(OJ,{hsl:o,hsv:i,pointer:C1,onChange:r})),N.createElement("div",{style:p.body},N.createElement("div",{style:p.controls,className:"flexbox-fix"},N.createElement("div",{style:p.hue},N.createElement(eG,{style:p.Hue,hsl:o,radius:"4px",pointer:T1,onChange:r}))),N.createElement(q1,{rgb:n,hsl:o,hex:a,hsv:i,onChange:r})))};A1.propTypes={width:it.oneOfType([it.string,it.number]),styles:it.object,header:it.string},A1.defaultProps={width:652,styles:{},header:"Color picker"},bQ(A1);const P1=["Alegreya","Amatic SC","Arial","Bree Serif","Calibri","Cambria","Caveat","Comfortaa","Comic Sans MS","Courier New","EB Garamond","Georgia","Google Sans","Impact","Lexend","Lobster","Lora","Merriweather","Montserrat","Nunito","Oswald","Pacifico","Permanent Marker","Pinyon Script","Playfair Display","Proxima Nova","Roboto","Roboto Mono","Roboto Serif","Spectral","Times New Roman","Trebuchet MS","Ultra","Varela Round","Verdana"];function I1({t:e}){const t=ze("design"),r=Se(),n=ke((e=>e.designState.Survey.theme));function o(e,t){if("font"===e){const e=d({},n.textStyles);e.group=d(d({},e.group),{},{font:t}),e.question=d(d({},e.question),{},{font:t}),e.text=d(d({},e.text),{},{font:t}),r(Ue({code:"Survey",key:"theme",value:d(d({},n),{},{textStyles:e})}))}else if("textColor"===e){const e=d({},n.textStyles);e.group=d(d({},e.group),{},{color:t}),e.question=d(d({},e.question),{},{color:t}),e.text=d(d({},e.text),{},{color:t}),r(Ue({code:"Survey",key:"theme",value:d(d({},n),{},{textStyles:e})}))}else if("bgColor"===e){const e=t.match(/rgba?\((\d+),\s*(\d+),\s*(\d+),?\s*(\d?\.?\d+)?\)/);if(e){const t=e[1],o=e[2],i=e[3];let a=e[4];a&&"0"!==a&&"0.0"!==a||(a="1");const l=`rgba(${t}, ${o}, ${i}, ${a})`;console.log("New bgColor:",l),r(Ue({code:"Survey",key:"theme",value:d(d({},n),{},{bgColor:l})}))}else r(Ue({code:"Survey",key:"theme",value:d(d({},n),{},{bgColor:t})}))}else r(Ue({code:"Survey",key:"theme",value:d(d({},n),{},{[e]:t})}))}const i=Kr(),a=Kr(),l=Kr(),s=Kr(),u=()=>{i.onFalse(),a.onFalse(),l.onFalse(),s.onFalse()},c=g.useRef(),p=g.useRef(),f=g.useRef(),h=g.useRef();function v(e,t){g.useEffect((()=>{function r(r){e.current&&!e.current.contains(r.target)&&t()}return document.addEventListener("mousedown",r),()=>{document.removeEventListener("mousedown",r)}}),[e,t])}v(c,u),v(p,u),v(f,u),v(h,u);const m=e=>{e.value?e.onFalse():(u(),e.onToggle())},y=ke((e=>{var t;return null===(t=e.designState.Survey)||void 0===t||null===(t=t.resources)||void 0===t?void 0:t.backgroundImage})),b=ke((e=>{var t;return null===(t=e.designState.Survey)||void 0===t||null===(t=t.resources)||void 0===t?void 0:t.headerImage}));return j.jsxs("div",{className:S$,children:[j.jsxs("span",{className:E$,children:[" ",e("font")]}),j.jsx(hr,{sx:{"& .MuiSvgIcon-root":{color:"#16205b"}},IconComponent:Ht,size:"small",className:C$,value:n.textStyles.group.font,onChange:e=>o("font",e.target.value),children:P1&&P1.length>0&&P1.map(((e,t)=>j.jsx(Vt,{sx:{fontFamily:e},value:e,children:e},`fontFamily-${t}`)))},"fontFamily"),j.jsxs(yt,{display:"flex",justifyContent:"space-between",width:"100%",flexDirection:"row",children:[j.jsx(ge,{variant:"subtitle2",alignSelf:"center",children:e("group_title")}),j.jsx(P$,{value:n.textStyles.group,default:bt.textStyles.group,onChange:e=>{o("textStyles",d(d({},n.textStyles),{},{group:e}))}},"group")]}),j.jsxs(yt,{display:"flex",justifyContent:"space-between",width:"100%",flexDirection:"row",children:[j.jsx(ge,{variant:"subtitle2",alignSelf:"center",children:e("question_title")}),j.jsx(P$,{value:n.textStyles.question,default:bt.textStyles.question,onChange:e=>o("textStyles",d(d({},n.textStyles),{},{question:e}))},"question")]}),j.jsxs(yt,{display:"flex",justifyContent:"space-between",width:"100%",flexDirection:"row",children:[j.jsx(ge,{variant:"subtitle2",alignSelf:"center",children:e("theme_text")}),j.jsx(P$,{value:n.textStyles.text,default:bt.textStyles.text,onChange:e=>o("textStyles",d(d({},n.textStyles),{},{text:e}))},"text")]}),j.jsx("hr",{}),j.jsxs(yt,{display:"flex",justifyContent:"space-between",width:"100%",flexDirection:"row",position:"relative",children:[j.jsx(ge,{variant:"subtitle2",alignSelf:"center",children:e("highlight_color")}),j.jsx(Me,{onClick:()=>m(i),style:{backgroundColor:n.primaryColor},className:T$}),i.value&&j.jsxs(P,{ref:c,className:q$,children:[j.jsx(pe,{onClick:()=>m(i),style:{marginLeft:"auto",color:"#333"},"aria-label":"close",children:j.jsx(Rt,{})}),j.jsx(Q0,{color:n.primaryColor,onChange:e=>{o("primaryColor",`rgba(${e.rgb.r}, ${e.rgb.g}, ${e.rgb.b}, ${e.rgb.a})`)}})]})]}),j.jsxs(yt,{display:"flex",justifyContent:"space-between",width:"100%",flexDirection:"row",position:"relative",children:[j.jsx(ge,{variant:"subtitle2",alignSelf:"center",children:e("background_color")}),j.jsx(Me,{onClick:()=>m(a),style:{backgroundColor:n.bgColor},className:T$}),a.value&&j.jsxs(P,{ref:p,className:q$,children:[j.jsx(pe,{onClick:()=>m(a),style:{marginLeft:"auto",color:"#333"},"aria-label":"close",children:j.jsx(Rt,{})}),j.jsx(Q0,{color:n.bgColor,onChange:e=>{o("bgColor",`rgba(${e.rgb.r}, ${e.rgb.g}, ${e.rgb.b}, ${e.rgb.a})`)}})]})]}),j.jsxs(yt,{display:"flex",justifyContent:"space-between",width:"100%",flexDirection:"row",position:"relative",children:[j.jsx(ge,{variant:"subtitle2",alignSelf:"center",children:e("foreground_color")}),j.jsx(Me,{onClick:()=>m(l),style:{backgroundColor:n.paperColor},className:T$}),l.value&&j.jsxs(P,{ref:f,className:q$,children:[j.jsx(pe,{onClick:()=>m(l),style:{marginLeft:"auto",color:"#333"},"aria-label":"close",children:j.jsx(Rt,{})}),j.jsx(Q0,{color:n.paperColor,onChange:e=>{o("paperColor",`rgba(${e.rgb.r}, ${e.rgb.g}, ${e.rgb.b}, ${e.rgb.a})`)}})]})]}),j.jsxs(yt,{display:"flex",justifyContent:"space-between",width:"100%",flexDirection:"row",position:"relative",children:[j.jsx(ge,{variant:"subtitle2",alignSelf:"center",children:e("text_color")}),j.jsx(Me,{onClick:()=>m(s),style:{backgroundColor:n.textStyles.group.color},className:T$}),s.value&&j.jsxs(P,{ref:h,className:q$,children:[j.jsx(pe,{onClick:()=>m(s),style:{marginLeft:"auto",color:"#333"},"aria-label":"close",children:j.jsx(Rt,{})}),j.jsx(Q0,{color:n.textStyles.group.color,onChange:e=>{o("textColor",`rgba(${e.rgb.r}, ${e.rgb.g}, ${e.rgb.b}, ${e.rgb.a})`)}})]})]}),j.jsxs(yt,{display:"flex",justifyContent:"space-between",width:"100%",flexDirection:"row",children:[j.jsx(ge,{variant:"subtitle2",alignSelf:"center",children:e("upload_banner")}),j.jsxs(Me,{component:"label",className:k$,children:[j.jsx(Zt,{}),j.jsx("input",{hidden:!0,accept:"image/*",type:"file",onChange:function(e){e.preventDefault();let n=e.target.files[0];t.uploadResource(n).then((e=>{r(Be({code:"Survey",key:"headerImage",value:n.name}))})).catch((e=>{console.error(e)}))}})]}),b&&j.jsx(pe,{className:j$,onClick:()=>{r(Be({code:"Survey",key:"headerImage",value:null}))},children:j.jsx(Mr,{})})]}),j.jsxs(yt,{display:"flex",justifyContent:"space-between",width:"100%",flexDirection:"row",gap:1,children:[j.jsx(ge,{variant:"subtitle2",alignSelf:"center",children:e("upload_background")}),j.jsxs(Me,{component:"label",className:k$,children:[j.jsx(Zt,{}),j.jsx("input",{hidden:!0,accept:"image/*",type:"file",onChange:function(e){e.preventDefault();let o=e.target.files[0];t.uploadResource(o).then((e=>{r(Be({code:"Survey",key:"backgroundImage",value:o.name})),r(Ue({code:"Survey",key:"theme",value:d(d({},n),{},{bgColor:"rgba(0, 0, 0, 0)"})}))})).catch((e=>{console.error(e)}))}})]}),y&&j.jsx(pe,{className:j$,onClick:()=>{r(Be({code:"Survey",key:"backgroundImage",value:null}))},children:j.jsx(Mr,{})})]})]})}const L1=N.memo((function({t:e}){const t=Se(),r=g.useCallback((e=>{t(_t(e))})),n=R(),o=Ut([e=>e.designState.setup||{}],(e=>{var t;return{code:e.code,expanded:e.expanded,highlighted:e.highlighted,rules:e.rules,isSingleRule:1===(null===(t=e.rules)||void 0===t?void 0:t.length)}})),i=ke(o),a=i.code,l=i.expanded,s=i.highlighted,u=i.rules,c=i.isSingleRule;return j.jsxs("div",{className:MU.rightContent,style:{left:"rtl"==n.direction?"0px":""},children:[j.jsx("div",{className:MU.close,children:j.jsx(pe,{onClick:()=>{t(xt())},children:j.jsx(Rt,{})})}),null==u?void 0:u.map((t=>j.jsx(R1,{expanded:(null==l?void 0:l.includes(t.key))||c||!1,isSingleRule:c,code:a,t:e,toggleExpand:r,highlighted:t.key==s,rule:t},a+t.title)))]})})),N1=N.memo((({code:e,rule:t,t:r})=>{if(Se(),t.startsWith("validation_"))return j.jsx(A_,{t:r,rule:t,code:e},e+t);switch(t){case"theme":return j.jsx(I1,{t:r},e+t);case"language":return j.jsx(Wt,{t:r},e+t);case"maxChars":return j.jsx(b_,{label:r("text_field_size"),rule:t,lowerBound:1,upperBound:500,defaultValue:20,code:e},e+t);case"minRows":return j.jsx(b_,{label:r("textarea_lines"),lowerBound:1,upperBound:500,code:e,defaultValue:20},e+t);case"hideText":return j.jsx(I_,{label:r("hide_text"),rule:t,code:e},e+t);case"showDescription":return j.jsx(I_,{label:r("show_description"),rule:t,code:e},e+t);case"showWordCount":return j.jsx(I_,{label:r("show_word_count"),rule:t,code:e},e+t);case"navigationMode":return j.jsx(O$,{},e+t);case"allowPrevious":return j.jsx(I_,{label:r("allow_previous"),rule:t,code:e},e+t);case"allowIncomplete":return j.jsx(I_,{label:r("allow_incomplete"),rule:t,code:e},e+t);case"allowJump":return j.jsx(I_,{label:r("allow_jump"),rule:t,code:e},e+t);case"skipInvalid":return j.jsx(I_,{label:r("skip_invalid"),rule:t,code:e},e+t);case"hint":return j.jsx(x_,{t:r,code:e},e+t);case"lower_bound_hint":return j.jsx(w_,{title:r("lower_bound_hint"),objectName:"lower_bound_hint",code:e},e+t);case"higher_bound_hint":return j.jsx(w_,{title:r("upper_bound_hint"),objectName:"higher_bound_hint",code:e},e+t);case"loop":return j.jsx(I_,{rule:t,code:e,label:r("loop_video")},e+t);case"audio_only":return j.jsx(I_,{rule:t,code:e,label:r("audio_only")},e+t);case"fullDayFormat":return j.jsx(I_,{rule:t,code:e,label:r("fullday_format")},e+t);case"randomize_questions":case"prioritize_questions":case"randomize_options":case"prioritize_options":case"randomize_groups":case"prioritize_groups":case"randomize_rows":case"prioritize_rows":case"randomize_columns":case"prioritize_columns":return j.jsx(w$,{t:r,rule:t,code:e},e+t);case"maxDate":return j.jsx(F_,{lowerBound:1,code:e,label:r("max_date"),rule:t},e+t);case"minDate":return j.jsx(F_,{label:r("min_date"),rule:t,code:e},e+t);case"dateFormat":const n=["DD.MM.YYYY","MM.DD.YYYY","YYYY.MM.DD","DD/MM/YYYY","MM/DD/YYYY","YYYY/MM/DD"];return j.jsx(N_,{values:n,defaultValue:"DD.MM.YYYY",label:r("date_format"),rule:t,code:e},e+t);case"decimal_separator":const o=["",",","."],i=[r("no_decimals_allowed"),",","."];return j.jsx(N_,{values:o,labels:i,defaultValue:"",label:r("decimal_separator"),rule:t,code:e},e+t);case"imageAspectRatio":const a=["1:1","16:9","4:3","3:2","9:16","3:4","2:3"],l=[1,1.7778,1.3333,1.5,.562,.75,.6667];return j.jsx(N_,{values:l,labels:a,defaultValue:"1:1",label:r("image_aspect_ratio"),rule:t,code:e},e+t);case"reorder_setup":const s=[r("collapse_none"),r("collapse_groups"),r("collapse_questions")],u=["collapse_none","collapse_groups","collapse_questions"];return j.jsx(N_,{values:u,labels:s,defaultValue:"collapse_none",label:r("order_mode"),rule:t,code:e},e+t);case"iconSize":const c=["48","64","72","96"];return j.jsx(N_,{values:c,defaultValue:"1:1",label:r("image_icon_size"),rule:t,code:e},e+t);case"columns":const d=["1","2","3","4","6"];return j.jsx(N_,{values:d,defaultValue:"2",label:r("columns_number"),rule:t,code:e},e+t);case"imageHeight":return j.jsx(b_,{label:r("image_height"),lowerBound:50,upperBound:500,code:e,defaultValue:250,rule:t},e+t);case"spacing":return j.jsx(b_,{label:r("spacing"),lowerBound:2,upperBound:32,code:e,defaultValue:8,rule:t},e+t);case"skip_logic":return j.jsx(LU,{t:r,code:e},e+t);case"relevance":return j.jsx(CU,{t:r,code:e},e+t);default:return""}})),R1=N.memo((({expanded:e,highlighted:t,code:r,rule:n,isSingleRule:o,t:i,toggleExpand:a})=>j.jsxs(Fr,{expanded:e,className:MU.accordionStyle,TransitionProps:{unmountOnExit:!0},children:[j.jsx(Dr,{onClick:()=>a(n.key),className:MU.setupHeader,expandIcon:o?null:j.jsx(Vr,{}),children:j.jsx("span",{className:MU.sectionTitle,children:i(n.title)})}),j.jsx(zr,{sx:{backgroundColor:t?"#fff":"background.paper"},children:n.rules.map((e=>j.jsx(N1,{code:r,rule:e,t:i},e)))})]}))),M1="_box_xl6bf_1",F1="_boxHasSetup_xl6bf_8";const D1=N.memo((function({t:e}){const t=R(),r=ke((e=>{var t;return(null===(t=e.designState)||void 0===t?void 0:t.setup)||{}})),n=Object.keys(r).length>0;return j.jsx(P,{className:`${M1} ${n?F1:""}`,style:{transition:t.transitions.create("all",{easing:t.transitions.easing.sharp,duration:300})},timeout:300,children:n&&j.jsx(L1,{t:e})})}));s("default",N.memo((function(){const e=Oe(["design","run"]),t=e.t,r=e.i18n.cloneInstance(),n=g.useRef(null),o=ke((e=>e.designState.langInfo)),i=null==o?void 0:o.lang,a=o&&(null==o?void 0:o.onMainLang),l=ke((e=>{var t;return null===(t=e.designState.Survey)||void 0===t?void 0:t.theme}));g.useEffect((()=>{var e;n.current&&(e=i,new Promise(((t,o)=>{const i=Ne.includes(e)?"rtl":"ltr",a=n.current;a.dir!=i&&(a.dir=i),a.scrollTop=0,e&&r&&e!=r.language&&r.changeLanguage(e),t()})))}),[i,n]);const s=g.useMemo((()=>wt(i)),[i]),u=N.useCallback(J(d(d({},Ot(l)),{},{direction:Ne.includes(i)?"rtl":"ltr"})),[l]);return j.jsx("div",{className:Mo.mainContainer,children:j.jsxs(Yt,{backend:Gt()?Kt:Jt,children:[a&&j.jsx(y_,{t:t}),j.jsx(Q,{value:s,children:j.jsx(lt,{theme:u,children:j.jsx(X,{i18n:r,children:j.jsx(h_,{onMainLang:a,ref:n,className:Mo.contentPanel})})})}),j.jsx(D1,{t:t})]})})})))}}}))}();
