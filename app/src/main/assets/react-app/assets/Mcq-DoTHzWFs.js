import{r as h,j as n,B as k}from"./index-BdaHkdQl.js";import{l as v,v as w,D as p,aq as x,av as u}from"./use-service-D09swmN7.js";import{s as q,V as b}from"./index-Djh-vddw.js";import{F as A}from"./FormControlLabel-DrGXXvQK.js";import{C as y}from"./Checkbox-0qy6A3Vu.js";import{F as M,T as R}from"./TextField-B66jFwFo.js";import{F as T}from"./RadioGroup-CqdWVjub.js";import"./isTouchDevice-DBnnGyOq.js";import"./common-C_0iAd7K.js";import"./ArrowBack-l2Daik9b.js";import"./useFormControl-BousA45m.js";import"./SwitchBase-outpB1OY.js";import"./RadioGroupContext-DPRdtZdW.js";import"./FormGroup-D1wY6CsR.js";function z(t){var m;const o=v(),l=w(d=>{var f;let a=d.runState.values[(f=t.Answer)==null?void 0:f.qualifiedCode];return{showAnswer:typeof(a==null?void 0:a.relevance)>"u"||a.relevance,checked:(a==null?void 0:a.value)||!1}},q),s=p(),i=d=>{s(x({componentCode:d.target.name,value:d.target.checked})),s(u(d.target.name)),s(u(t.parentCode))};return l.showAnswer?n.jsx(A,{control:n.jsx(y,{checked:l.checked,onChange:i,name:t.Answer.qualifiedCode,sx:{color:o.textStyles.text.color}}),label:n.jsx(k,{sx:{fontFamily:o.textStyles.text.font,fontSize:o.textStyles.text.size},children:(m=t.Answer.content)==null?void 0:m.label})}):""}const B=h.memo(z);function D(t){return n.jsx(M,{component:"fieldset",children:n.jsx(T,{children:t.component.answers.map(o=>o.type==="other"?n.jsx(I,{Answer:o,parentCode:t.component.qualifiedCode},o.qualifiedCode):n.jsx(B,{Answer:o,parentCode:t.component.qualifiedCode},o.qualifiedCode))})})}function I(t){const o=v(),l=t.Answer.answers[0],s=w(e=>{var C;let r=e.runState.values[t.Answer.qualifiedCode],c=e.runState.values[l.qualifiedCode],S=e.runState.values.Survey.show_errors,F=e.templateState[l.qualifiedCode];return{showAnswer:typeof(r==null?void 0:r.relevance)>"u"||r.relevance,childInvalid:(S||F)&&(c==null?void 0:c.relevance)===!0&&(c==null?void 0:c.validity)===!1,checked:(r==null?void 0:r.value)||!1,textValue:(c==null?void 0:c.value)||"",textRelevance:(C=e.textChild)==null?void 0:C.relevance}},q),i=p(),m=e=>{i(x({componentCode:e.target.name,value:e.target.checked})),i(u(e.target.name)),i(u(t.parentCode)),e.target.checked&&a.current.focus()},d=e=>{i(x({componentCode:e.target.name,value:e.target.value}))},a=h.useRef(),f=e=>{i(x({componentCode:t.Answer.qualifiedCode,value:!0}))},g=e=>{i(u(e.target.name))},j=()=>{var e,r;return n.jsx(A,{control:n.jsx(y,{checked:s.checked,onChange:m,name:t.Answer.qualifiedCode,sx:{color:o.textStyles.text.color}}),label:n.jsx("div",{className:"w-100",children:n.jsx(R,{variant:"standard",required:s.textRelevance&&((e=l.validation)==null?void 0:e.required),inputRef:a,id:l.qualifiedCode,name:l.qualifiedCode,label:(r=t.Answer.content)==null?void 0:r.label,onChange:d,onFocus:f,onBlur:g,sx:{label:{color:o.textStyles.text.color}},value:s.textValue,InputProps:{sx:{fontFamily:o.textStyles.text.font,color:o.textStyles.text.color,fontSize:o.textStyles.text.size}},helperText:s.childInvalid?n.jsx(b,{component:l,limit:1}):""})})})};return s.showAnswer?j():""}const X=h.memo(D);export{X as default};
