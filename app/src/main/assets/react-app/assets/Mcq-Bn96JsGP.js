import{r as h,j as n,B as F}from"./index-DrdL8HT2.js";import{w as v,H as w,aS as p,U as q,aT as f,a$ as u,ax as b}from"./use-service-0Fq5u1zn.js";import{V as R}from"./index-DQ4E-_8z.js";import{F as A}from"./FormControlLabel-DFbM1-QV.js";import{C as y}from"./Checkbox-DbTDcKnM.js";import{R as T}from"./RadioGroup-BNMeAdus.js";import{T as M}from"./TextField-DRWs31uB.js";import"./isTouchDevice-CHtK4r2d.js";import"./common-5BhfyGYi.js";import"./CardMedia-CIEe5zwn.js";import"./Card-Dppxln-L.js";import"./Toolbar-CWuxDDNF.js";import"./SwitchBase-9pSiC_Cg.js";import"./RadioGroupContext-CfCEyyF4.js";import"./FormGroup-D-acla1V.js";function z(t){var m;const o=v(),l=w(d=>{var x;let a=d.runState.values[(x=t.Answer)==null?void 0:x.qualifiedCode];return{showAnswer:typeof(a==null?void 0:a.relevance)>"u"||a.relevance,checked:(a==null?void 0:a.value)||!1}},p),s=q(),i=d=>{s(f({componentCode:d.target.name,value:d.target.checked})),s(u(d.target.name)),s(u(t.parentCode))};return l.showAnswer?n.jsx(A,{control:n.jsx(y,{checked:l.checked,onChange:i,name:t.Answer.qualifiedCode,sx:{color:o.textStyles.text.color}}),label:n.jsx(F,{sx:{fontFamily:o.textStyles.text.font,fontSize:o.textStyles.text.size},children:(m=t.Answer.content)==null?void 0:m.label})}):""}const B=h.memo(z);function I(t){return n.jsx(b,{component:"fieldset",children:n.jsx(T,{children:t.component.answers.map(o=>o.type==="other"?n.jsx(V,{Answer:o,parentCode:t.component.qualifiedCode},o.qualifiedCode):n.jsx(B,{Answer:o,parentCode:t.component.qualifiedCode},o.qualifiedCode))})})}function V(t){const o=v(),l=t.Answer.answers[0],s=w(e=>{var C;let r=e.runState.values[t.Answer.qualifiedCode],c=e.runState.values[l.qualifiedCode],j=e.runState.values.Survey.show_errors,k=e.templateState[l.qualifiedCode];return{showAnswer:typeof(r==null?void 0:r.relevance)>"u"||r.relevance,childInvalid:(j||k)&&(c==null?void 0:c.relevance)===!0&&(c==null?void 0:c.validity)===!1,checked:(r==null?void 0:r.value)||!1,textValue:(c==null?void 0:c.value)||"",textRelevance:(C=e.textChild)==null?void 0:C.relevance}},p),i=q(),m=e=>{i(f({componentCode:e.target.name,value:e.target.checked})),i(u(e.target.name)),i(u(t.parentCode)),e.target.checked&&a.current.focus()},d=e=>{i(f({componentCode:e.target.name,value:e.target.value}))},a=h.useRef(),x=e=>{i(f({componentCode:t.Answer.qualifiedCode,value:!0}))},g=e=>{i(u(e.target.name))},S=()=>{var e,r;return n.jsx(A,{control:n.jsx(y,{checked:s.checked,onChange:m,name:t.Answer.qualifiedCode,sx:{color:o.textStyles.text.color}}),label:n.jsx("div",{className:"w-100",children:n.jsx(M,{variant:"standard",required:s.textRelevance&&((e=l.validation)==null?void 0:e.required),inputRef:a,id:l.qualifiedCode,name:l.qualifiedCode,label:(r=t.Answer.content)==null?void 0:r.label,onChange:d,onFocus:x,onBlur:g,sx:{label:{color:o.textStyles.text.color}},value:s.textValue,InputProps:{sx:{fontFamily:o.textStyles.text.font,color:o.textStyles.text.color,fontSize:o.textStyles.text.size}},helperText:s.childInvalid?n.jsx(R,{component:l,limit:1}):""})})})};return s.showAnswer?S():""}const X=h.memo(I);export{X as default};
