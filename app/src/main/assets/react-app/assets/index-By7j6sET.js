import{b as Li,w as en,r as X,I as jF,K as PF,M as oe,an as wt,O as LF,_ as he,g as qg,f as Hg,h as Qt,j as T,d as pn,k as fl,a0 as vu,l as jb,i as Pb,q as Dr,B as ht,p as kn,ah as FF,R as j,aj as ma,z as zg,af as RF,ao as $F,ap as NF,G as DF,aq as iE,ar as Wt,as as Gt,at as Yt,au as Le,av as Zt,x as aE,C as MF,aw as VF}from"./index-Dk6dJ9ej.js";import{c0 as BF,c1 as ph,C as qF,A as Hf,k as qo,c2 as HF,f as Ir,j as ns,c as is,c3 as hh,aj as $o,ak as Lb,al as Ts,I as bt,h as oE,c4 as zF,b as wv,bU as UF,c5 as WF,T as wn,l as GF,c6 as Fb,L as YF,c7 as KF,D as JF,n as QF,o as zf,v as vh,p as Uf,c8 as sE,z as XF,x as Ja,bP as ZF,c9 as eR,e as tR,K as Mr,M as as,U as _t,H as ye,ca as Hi,cb as os,aF as Bn,cc as Fa,cd as rR,bl as Ai,au as nR,ce as Rb,cf as Co,an as mo,aS as gh,w as Vr,cg as iR,aQ as Ht,bb as za,ch as ss,ci as bi,R as Ll,cj as Ra,bd as Jd,ck as ad,aC as Ug,cl as aR,cm as oR,cn as mh,co as gu,bo as sR,cp as yh,cq as lR,aU as lE,cr as uR,cs as Gn,ct as od,av as Fr,S as zi,N as Xr,cu as ke,a0 as z,cv as Qd,P as cR,bD as fR,W as dR,ap as uE,bf as pR,cw as lf,cx as hR,cy as vR,cz as gR,cA as cE,cB as mR,cC as yR,cD as bR,cE as _R,aO as Ca,cF as bh,cG as SR,aD as Wg,aG as OR,aH as xR,aI as wR,at as ER,bw as CR}from"./use-service-CuOd9RJq.js";import{b as yo}from"./common-DrzhiyDD.js";import{B as pt,G as TR,H as fE,J as kR,L as un,M as IR,N as fi,O as AR,t as di,T as ia,D as Gg,P as ls,C as jR,Q as dE,U as PR,K as pE,V as LR,W as _h}from"./Web-DQ9Pn3X4.js";import{c as hE,E as FR,D as RR,i as $R,T as NR,H as DR}from"./isTouchDevice-BxZW9fIr.js";import{u as MR,a as VR,D as BR,d as $b}from"./Image-Bpkmz4MJ.js";import{T as Xt,F as vE,I as qR}from"./TextField-D9TfNg6R.js";import{T as gE,a as mE,b as Xd,c as yE}from"./TableRow-BVZoCPfq.js";import{T as bE}from"./TableHead-4a7kcj4u.js";import{T as hn}from"./TableCell-Df_hHt8Q.js";import{R as HR}from"./Radio-sWld0RcS.js";import{u as Ui}from"./useDrop-DEZwxHg6.js";import{R as zR}from"./index-BuwWmREk.js";import{G as oo,q as Yg,D as UR,L as WR}from"./DateTimePicker-D-0LakcT.js";import{P as _E,a as Kg,b as $u}from"./Tabs-BEdGyaaJ.js";import{D as Jg}from"./index-BCpvU79U.js";import{C as GR,H as Nb,c as _i,A as YR,a as KR,d as JR,b as QR}from"./index-CuL9dkpX.js";import{C as XR,a as Db}from"./Close-Coe7rEfx.js";import{F as Pa}from"./FormControlLabel-DbQERhmC.js";import{C as ji}from"./Checkbox-B5kyj27j.js";import{D as ZR,T as e$}from"./DatePicker-ClSTvCu6.js";import{d as Nu}from"./Delete-B5E6oedv.js";import{C as Zd}from"./Card-vFcRbAK1.js";import{N as uf}from"./survey-D2pw4t3m.js";import{u as cf}from"./use-boolean-CcZ3eDor.js";import"./radioClasses-u6Ak_u_2.js";import"./tableRowClasses-CVBxymtu.js";import"./SwitchBase-vj41ugwS.js";import"./RadioGroupContext-NID61kUr.js";import"./InputAdornment-73wn1e1W.js";const SE=Object.freeze(Object.defineProperty({__proto__:null,get LINEAR_REGRESSION(){return Goe},get LOWER(){return Uoe},get NOW(){return Hoe},get RELATIVE_DATETIME(){return zoe},get UPPER(){return Woe}},Symbol.toStringTag,{value:"Module"}));function ei(t,e){if(t==null)return{};var r,n,i=Li(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.includes(r)||{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}var t$={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0};const r$=en(t$);var n$=/\s([^'"/\s><]+?)[\s/>]|([^\s=]+)=\s?(".*?"|'.*?')/g;function Mb(t){var e={type:"tag",name:"",voidElement:!1,attrs:{},children:[]},r=t.match(/<\/?([^\s]+?)[/\s>]/);if(r&&(e.name=r[1],(r$[r[1]]||t.charAt(t.length-2)==="/")&&(e.voidElement=!0),e.name.startsWith("!--"))){var n=t.indexOf("-->");return{type:"comment",comment:n!==-1?t.slice(4,n):""}}for(var i=new RegExp(n$),a=null;(a=i.exec(t))!==null;)if(a[0].trim())if(a[1]){var o=a[1].trim(),s=[o,""];o.indexOf("=")>-1&&(s=o.split("=")),e.attrs[s[0]]=s[1],i.lastIndex--}else a[2]&&(e.attrs[a[2]]=a[3].trim().substring(1,a[3].length-1));return e}var i$=/<[a-zA-Z0-9\-\!\/](?:"[^"]*"|'[^']*'|[^'">])*>/g,a$=/^\s*$/,o$=Object.create(null);function OE(t,e){switch(e.type){case"text":return t+e.content;case"tag":return t+="<"+e.name+(e.attrs?function(r){var n=[];for(var i in r)n.push(i+'="'+r[i]+'"');return n.length?" "+n.join(" "):""}(e.attrs):"")+(e.voidElement?"/>":">"),e.voidElement?t:t+e.children.reduce(OE,"")+"</"+e.name+">";case"comment":return t+"<!--"+e.comment+"-->"}}var s$={parse:function(t,e){e||(e={}),e.components||(e.components=o$);var r,n=[],i=[],a=-1,o=!1;if(t.indexOf("<")!==0){var s=t.indexOf("<");n.push({type:"text",content:s===-1?t:t.substring(0,s)})}return t.replace(i$,function(l,u){if(o){if(l!=="</"+r.name+">")return;o=!1}var c,f=l.charAt(1)!=="/",d=l.startsWith("<!--"),p=u+l.length,v=t.charAt(p);if(d){var h=Mb(l);return a<0?(n.push(h),n):((c=i[a]).children.push(h),n)}if(f&&(a++,(r=Mb(l)).type==="tag"&&e.components[r.name]&&(r.type="component",o=!0),r.voidElement||o||!v||v==="<"||r.children.push({type:"text",content:t.slice(p,t.indexOf("<",p))}),a===0&&n.push(r),(c=i[a-1])&&c.children.push(r),i[a]=r),(!f||r.voidElement)&&(a>-1&&(r.voidElement||r.name===l.slice(2,-1))&&(a--,r=a===-1?n:i[a]),!o&&v!=="<"&&v)){c=a===-1?n:i[a].children;var g=t.indexOf("<",p),y=t.slice(p,g===-1?void 0:g);a$.test(y)&&(y=" "),(g>-1&&a+c.length>=0||y!==" ")&&c.push({type:"text",content:y})}}),n},stringify:function(t){return t.reduce(function(e,r){return e+OE("",r)},"")}},l$=["format"],u$=["children","count","parent","i18nKey","context","tOptions","values","defaults","components","ns","i18n","t","shouldUnescape"];function Vb(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Jr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Vb(Object(r),!0).forEach(function(n){oe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Vb(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Sh(t,e){if(!t)return!1;var r=t.props?t.props.children:t.children;return e?r.length>0:!!r}function Oh(t){return t?t.props?t.props.children:t.children:[]}function c$(t){return Object.prototype.toString.call(t)!=="[object Array]"?!1:t.every(function(e){return X.isValidElement(e)})}function ku(t){return Array.isArray(t)?t:[t]}function f$(t,e){var r=Jr({},e);return r.props=Object.assign(t.props,e.props),r}function xE(t,e){if(!t)return"";var r="",n=ku(t),i=e.transSupportBasicHtmlNodes&&e.transKeepBasicHtmlNodesFor?e.transKeepBasicHtmlNodesFor:[];return n.forEach(function(a,o){if(typeof a=="string")r+="".concat(a);else if(X.isValidElement(a)){var s=Object.keys(a.props).length,l=i.indexOf(a.type)>-1,u=a.props.children;if(!u&&l&&s===0)r+="<".concat(a.type,"/>");else if(!u&&(!l||s!==0))r+="<".concat(o,"></").concat(o,">");else if(a.props.i18nIsDynamicList)r+="<".concat(o,"></").concat(o,">");else if(l&&s===1&&typeof u=="string")r+="<".concat(a.type,">").concat(u,"</").concat(a.type,">");else{var c=xE(u,e);r+="<".concat(o,">").concat(c,"</").concat(o,">")}}else if(a===null)ph("Trans: the passed in value is invalid - seems you passed in a null child.");else if(wt(a)==="object"){var f=a.format,d=ei(a,l$),p=Object.keys(d);if(p.length===1){var v=f?"".concat(p[0],", ").concat(f):p[0];r+="{{".concat(v,"}}")}else ph("react-i18next: the passed in object contained more than one variable - the object should look like {{ value, format }} where format is optional.",a)}else ph("Trans: the passed in value is invalid - seems you passed in a variable like {number} - please pass in variables for interpolation as full objects like {{number}}.",a)}),r}function d$(t,e,r,n,i,a){if(e==="")return[];var o=n.transKeepBasicHtmlNodesFor||[],s=e&&new RegExp(o.join("|")).test(e);if(!t&&!s)return[e];var l={};function u(g){var y=ku(g);y.forEach(function(m){typeof m!="string"&&(Sh(m)?u(Oh(m)):wt(m)==="object"&&!X.isValidElement(m)&&Object.assign(l,m))})}u(t);var c=s$.parse("<0>".concat(e,"</0>")),f=Jr(Jr({},l),i);function d(g,y,m){var _=Oh(g),b=v(_,y.children,m);return c$(_)&&b.length===0?_:b}function p(g,y,m,_,b){g.dummy&&(g.children=y),m.push(X.cloneElement(g,Jr(Jr({},g.props),{},{key:_}),b?void 0:y))}function v(g,y,m){var _=ku(g),b=ku(y);return b.reduce(function(S,O,x){var E=O.children&&O.children[0]&&O.children[0].content&&r.services.interpolator.interpolate(O.children[0].content,f,r.language);if(O.type==="tag"){var A=_[parseInt(O.name,10)];!A&&m.length===1&&m[0][O.name]&&(A=m[0][O.name]),A||(A={});var C=Object.keys(O.attrs).length!==0?f$({props:O.attrs},A):A,k=X.isValidElement(C),w=k&&Sh(O,!0)&&!O.voidElement,I=s&&wt(C)==="object"&&C.dummy&&!k,L=wt(t)==="object"&&t!==null&&Object.hasOwnProperty.call(t,O.name);if(typeof C=="string"){var P=r.services.interpolator.interpolate(C,f,r.language);S.push(P)}else if(Sh(C)||w){var V=d(C,O,m);p(C,V,S,x)}else if(I){var $=v(_,O.children,m);S.push(X.cloneElement(C,Jr(Jr({},C.props),{},{key:x}),$))}else if(Number.isNaN(parseFloat(O.name)))if(L){var U=d(C,O,m);p(C,U,S,x,O.voidElement)}else if(n.transSupportBasicHtmlNodes&&o.indexOf(O.name)>-1)if(O.voidElement)S.push(X.createElement(O.name,{key:"".concat(O.name,"-").concat(x)}));else{var M=v(_,O.children,m);S.push(X.createElement(O.name,{key:"".concat(O.name,"-").concat(x)},M))}else if(O.voidElement)S.push("<".concat(O.name," />"));else{var R=v(_,O.children,m);S.push("<".concat(O.name,">").concat(R,"</").concat(O.name,">"))}else if(wt(C)==="object"&&!k){var F=O.children[0]?E:null;F&&S.push(F)}else O.children.length===1&&E?S.push(X.cloneElement(C,Jr(Jr({},C.props),{},{key:x}),E)):S.push(X.cloneElement(C,Jr(Jr({},C.props),{},{key:x})))}else if(O.type==="text"){var N=n.transWrapTextNodes,B=a?n.unescape(r.services.interpolator.interpolate(O.content,f,r.language)):r.services.interpolator.interpolate(O.content,f,r.language);N?S.push(X.createElement(N,{key:"".concat(O.name,"-").concat(x)},B)):S.push(B)}return S},[])}var h=v([{dummy:!0,children:t||[]}],c,ku(t||[]));return Oh(h[0])}function $a(t){var e=t.children,r=t.count,n=t.parent,i=t.i18nKey,a=t.context,o=t.tOptions,s=o===void 0?{}:o,l=t.values,u=t.defaults,c=t.components,f=t.ns,d=t.i18n,p=t.t,v=t.shouldUnescape,h=ei(t,u$),g=X.useContext(jF)||{},y=g.i18n,m=g.defaultNS,_=d||y||LF();if(!_)return BF("You will need to pass in an i18next instance by using i18nextReactModule"),e;var b=p||_.t.bind(_)||function(P){return P};a&&(s.context=a);var S=Jr(Jr({},PF()),_.options&&_.options.react),O=f||b.ns||m||_.options&&_.options.defaultNS;O=typeof O=="string"?[O]:O||["translation"];var x=u||xE(e,S)||S.transEmptyNodeValue||i,E=S.hashTransKey,A=i||(E?E(x):x),C=l?s.interpolation:{interpolation:Jr(Jr({},s.interpolation),{},{prefix:"#$?",suffix:"?$#"})},k=Jr(Jr(Jr(Jr({},s),{},{count:r},l),C),{},{defaultValue:x,ns:O}),w=A?b(A,k):x,I=d$(c||e,w,_,S,k,v),L=n!==void 0?n:S.defaultTransParent;return L?X.createElement(L,h,I):I}function p$(t){return X.Children.toArray(t).filter(e=>X.isValidElement(e))}const h$={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"};function Bb(t){return typeof t.normalize<"u"?t.normalize("NFD").replace(/[\u0300-\u036f]/g,""):t}function wE(t={}){const{ignoreAccents:e=!0,ignoreCase:r=!0,limit:n,matchFrom:i="any",stringify:a,trim:o=!1}=t;return(s,{inputValue:l,getOptionLabel:u})=>{let c=o?l.trim():l;r&&(c=c.toLowerCase()),e&&(c=Bb(c));const f=c?s.filter(d=>{let p=(a||u)(d);return r&&(p=p.toLowerCase()),e&&(p=Bb(p)),i==="start"?p.indexOf(c)===0:p.indexOf(c)>-1}):s;return typeof n=="number"?f.slice(0,n):f}}function ff(t,e){for(let r=0;r<t.length;r+=1)if(e(t[r]))return r;return-1}const v$=wE(),qb=5,g$=t=>{var e;return t.current!==null&&((e=t.current.parentElement)==null?void 0:e.contains(document.activeElement))};function m$(t){const{unstable_isActiveElementInListbox:e=g$,unstable_classNamePrefix:r="Mui",autoComplete:n=!1,autoHighlight:i=!1,autoSelect:a=!1,blurOnSelect:o=!1,clearOnBlur:s=!t.freeSolo,clearOnEscape:l=!1,componentName:u="useAutocomplete",defaultValue:c=t.multiple?[]:null,disableClearable:f=!1,disableCloseOnSelect:d=!1,disabled:p,disabledItemsFocusable:v=!1,disableListWrap:h=!1,filterOptions:g=v$,filterSelectedOptions:y=!1,freeSolo:m=!1,getOptionDisabled:_,getOptionKey:b,getOptionLabel:S=ne=>{var Z;return(Z=ne.label)!=null?Z:ne},groupBy:O,handleHomeEndKeys:x=!t.freeSolo,id:E,includeInputInList:A=!1,inputValue:C,isOptionEqualToValue:k=(ne,Z)=>ne===Z,multiple:w=!1,onChange:I,onClose:L,onHighlightChange:P,onInputChange:V,onOpen:$,open:U,openOnFocus:M=!1,options:R,readOnly:F=!1,selectOnFocus:N=!t.freeSolo,value:B}=t,q=qF(E);let W=S;W=ne=>{const Z=S(ne);return typeof Z!="string"?String(Z):Z};const D=X.useRef(!1),G=X.useRef(!0),H=X.useRef(null),Y=X.useRef(null),[K,ie]=X.useState(null),[te,se]=X.useState(-1),ue=i?0:-1,fe=X.useRef(ue),[de,Se]=Hf({controlled:B,default:c,name:u}),[J,re]=Hf({controlled:C,default:"",name:u,state:"inputValue"}),[ce,ve]=X.useState(!1),ee=X.useCallback((ne,Z)=>{if(!(w?de.length<Z.length:Z!==null)&&!s)return;let _e;if(w)_e="";else if(Z==null)_e="";else{const ze=W(Z);_e=typeof ze=="string"?ze:""}J!==_e&&(re(_e),V&&V(ne,_e,"reset"))},[W,J,w,V,re,s,de]),[me,Oe]=Hf({controlled:U,default:!1,name:u,state:"open"}),[we,Je]=X.useState(!0),at=!w&&de!=null&&J===W(de),le=me&&!F,ge=le?g(R.filter(ne=>!(y&&(w?de:[de]).some(Z=>Z!==null&&k(ne,Z)))),{inputValue:at&&we?"":J,getOptionLabel:W}):[],pe=MR({filteredOptions:ge,value:de,inputValue:J});X.useEffect(()=>{const ne=de!==pe.value;ce&&!ne||m&&!ne||ee(null,de)},[de,ee,ce,pe.value,m]);const Pe=me&&ge.length>0&&!F,Be=qo(ne=>{ne===-1?H.current.focus():K.querySelector('[data-tag-index="'.concat(ne,'"]')).focus()});X.useEffect(()=>{w&&te>de.length-1&&(se(-1),Be(-1))},[de,w,te,Be]);function Ne(ne,Z){if(!Y.current||ne<0||ne>=ge.length)return-1;let be=ne;for(;;){const _e=Y.current.querySelector('[data-option-index="'.concat(be,'"]')),ze=v?!1:!_e||_e.disabled||_e.getAttribute("aria-disabled")==="true";if(_e&&_e.hasAttribute("tabindex")&&!ze)return be;if(Z==="next"?be=(be+1)%ge.length:be=(be-1+ge.length)%ge.length,be===ne)return-1}}const ot=qo(({event:ne,index:Z,reason:be="auto"})=>{if(fe.current=Z,Z===-1?H.current.removeAttribute("aria-activedescendant"):H.current.setAttribute("aria-activedescendant","".concat(q,"-option-").concat(Z)),P&&P(ne,Z===-1?null:ge[Z],be),!Y.current)return;const _e=Y.current.querySelector('[role="option"].'.concat(r,"-focused"));_e&&(_e.classList.remove("".concat(r,"-focused")),_e.classList.remove("".concat(r,"-focusVisible")));let ze=Y.current;if(Y.current.getAttribute("role")!=="listbox"&&(ze=Y.current.parentElement.querySelector('[role="listbox"]')),!ze)return;if(Z===-1){ze.scrollTop=0;return}const St=Y.current.querySelector('[data-option-index="'.concat(Z,'"]'));if(St&&(St.classList.add("".concat(r,"-focused")),be==="keyboard"&&St.classList.add("".concat(r,"-focusVisible")),ze.scrollHeight>ze.clientHeight&&be!=="mouse"&&be!=="touch")){const Bt=St,Kr=ze.clientHeight+ze.scrollTop,Re=Bt.offsetTop+Bt.offsetHeight;Re>Kr?ze.scrollTop=Re-ze.clientHeight:Bt.offsetTop-Bt.offsetHeight*(O?1.3:0)<ze.scrollTop&&(ze.scrollTop=Bt.offsetTop-Bt.offsetHeight*(O?1.3:0))}}),st=qo(({event:ne,diff:Z,direction:be="next",reason:_e="auto"})=>{if(!le)return;const St=Ne((()=>{const Bt=ge.length-1;if(Z==="reset")return ue;if(Z==="start")return 0;if(Z==="end")return Bt;const Kr=fe.current+Z;return Kr<0?Kr===-1&&A?-1:h&&fe.current!==-1||Math.abs(Z)>1?0:Bt:Kr>Bt?Kr===Bt+1&&A?-1:h||Math.abs(Z)>1?Bt:0:Kr})(),be);if(ot({index:St,reason:_e,event:ne}),n&&Z!=="reset")if(St===-1)H.current.value=J;else{const Bt=W(ge[St]);H.current.value=Bt,Bt.toLowerCase().indexOf(J.toLowerCase())===0&&J.length>0&&H.current.setSelectionRange(J.length,Bt.length)}}),Ke=()=>{const ne=(Z,be)=>{const _e=Z?W(Z):"",ze=be?W(be):"";return _e===ze};if(fe.current!==-1&&pe.filteredOptions&&pe.filteredOptions.length!==ge.length&&pe.inputValue===J&&(w?de.length===pe.value.length&&pe.value.every((Z,be)=>W(de[be])===W(Z)):ne(pe.value,de))){const Z=pe.filteredOptions[fe.current];if(Z)return ff(ge,be=>W(be)===W(Z))}return-1},Vt=X.useCallback(()=>{if(!le)return;const ne=Ke();if(ne!==-1){fe.current=ne;return}const Z=w?de[0]:de;if(ge.length===0||Z==null){st({diff:"reset"});return}if(Y.current){if(Z!=null){const be=ge[fe.current];if(w&&be&&ff(de,ze=>k(be,ze))!==-1)return;const _e=ff(ge,ze=>k(ze,Z));_e===-1?st({diff:"reset"}):ot({index:_e});return}if(fe.current>=ge.length-1){ot({index:ge.length-1});return}ot({index:fe.current})}},[ge.length,w?!1:de,y,st,ot,le,J,w]),Ar=qo(ne=>{HF(Y,ne),ne&&Vt()});X.useEffect(()=>{Vt()},[Vt]);const vt=ne=>{me||(Oe(!0),Je(!0),$&&$(ne))},Fe=(ne,Z)=>{me&&(Oe(!1),L&&L(ne,Z))},De=(ne,Z,be,_e)=>{if(w){if(de.length===Z.length&&de.every((ze,St)=>ze===Z[St]))return}else if(de===Z)return;I&&I(ne,Z,be,_e),Se(Z)},Ge=X.useRef(!1),Qe=(ne,Z,be="selectOption",_e="options")=>{let ze=be,St=Z;if(w){St=Array.isArray(de)?de.slice():[];const Bt=ff(St,Kr=>k(Z,Kr));Bt===-1?St.push(Z):_e!=="freeSolo"&&(St.splice(Bt,1),ze="removeOption")}ee(ne,St),De(ne,St,ze,{option:Z}),!d&&(!ne||!ne.ctrlKey&&!ne.metaKey)&&Fe(ne,ze),(o===!0||o==="touch"&&Ge.current||o==="mouse"&&!Ge.current)&&H.current.blur()};function ft(ne,Z){if(ne===-1)return-1;let be=ne;for(;;){if(Z==="next"&&be===de.length||Z==="previous"&&be===-1)return-1;const _e=K.querySelector('[data-tag-index="'.concat(be,'"]'));if(!_e||!_e.hasAttribute("tabindex")||_e.disabled||_e.getAttribute("aria-disabled")==="true")be+=Z==="next"?1:-1;else return be}}const Et=(ne,Z)=>{if(!w)return;J===""&&Fe(ne,"toggleInput");let be=te;te===-1?J===""&&Z==="previous"&&(be=de.length-1):(be+=Z==="next"?1:-1,be<0&&(be=0),be===de.length&&(be=-1)),be=ft(be,Z),se(be),Be(be)},It=ne=>{D.current=!0,re(""),V&&V(ne,"","clear"),De(ne,w?[]:null,"clear")},_r=ne=>Z=>{if(ne.onKeyDown&&ne.onKeyDown(Z),!Z.defaultMuiPrevented&&(te!==-1&&["ArrowLeft","ArrowRight"].indexOf(Z.key)===-1&&(se(-1),Be(-1)),Z.which!==229))switch(Z.key){case"Home":le&&x&&(Z.preventDefault(),st({diff:"start",direction:"next",reason:"keyboard",event:Z}));break;case"End":le&&x&&(Z.preventDefault(),st({diff:"end",direction:"previous",reason:"keyboard",event:Z}));break;case"PageUp":Z.preventDefault(),st({diff:-qb,direction:"previous",reason:"keyboard",event:Z}),vt(Z);break;case"PageDown":Z.preventDefault(),st({diff:qb,direction:"next",reason:"keyboard",event:Z}),vt(Z);break;case"ArrowDown":Z.preventDefault(),st({diff:1,direction:"next",reason:"keyboard",event:Z}),vt(Z);break;case"ArrowUp":Z.preventDefault(),st({diff:-1,direction:"previous",reason:"keyboard",event:Z}),vt(Z);break;case"ArrowLeft":Et(Z,"previous");break;case"ArrowRight":Et(Z,"next");break;case"Enter":if(fe.current!==-1&&le){const be=ge[fe.current],_e=_?_(be):!1;if(Z.preventDefault(),_e)return;Qe(Z,be,"selectOption"),n&&H.current.setSelectionRange(H.current.value.length,H.current.value.length)}else m&&J!==""&&at===!1&&(w&&Z.preventDefault(),Qe(Z,J,"createOption","freeSolo"));break;case"Escape":le?(Z.preventDefault(),Z.stopPropagation(),Fe(Z,"escape")):l&&(J!==""||w&&de.length>0)&&(Z.preventDefault(),Z.stopPropagation(),It(Z));break;case"Backspace":if(w&&!F&&J===""&&de.length>0){const be=te===-1?de.length-1:te,_e=de.slice();_e.splice(be,1),De(Z,_e,"removeOption",{option:de[be]})}break;case"Delete":if(w&&!F&&J===""&&de.length>0&&te!==-1){const be=te,_e=de.slice();_e.splice(be,1),De(Z,_e,"removeOption",{option:de[be]})}break}},Ft=ne=>{ve(!0),M&&!D.current&&vt(ne)},Rr=ne=>{if(e(Y)){H.current.focus();return}ve(!1),G.current=!0,D.current=!1,a&&fe.current!==-1&&le?Qe(ne,ge[fe.current],"blur"):a&&m&&J!==""?Qe(ne,J,"blur","freeSolo"):s&&ee(ne,de),Fe(ne,"blur")},qe=ne=>{const Z=ne.target.value;J!==Z&&(re(Z),Je(!1),V&&V(ne,Z,"input")),Z===""?!f&&!w&&De(ne,null,"clear"):vt(ne)},lt=ne=>{const Z=Number(ne.currentTarget.getAttribute("data-option-index"));fe.current!==Z&&ot({event:ne,index:Z,reason:"mouse"})},ur=ne=>{ot({event:ne,index:Number(ne.currentTarget.getAttribute("data-option-index")),reason:"touch"}),Ge.current=!0},Gr=ne=>{const Z=Number(ne.currentTarget.getAttribute("data-option-index"));Qe(ne,ge[Z],"selectOption"),Ge.current=!1},Yr=ne=>Z=>{const be=de.slice();be.splice(ne,1),De(Z,be,"removeOption",{option:de[ne]})},mt=ne=>{me?Fe(ne,"toggleInput"):vt(ne)},dt=ne=>{ne.currentTarget.contains(ne.target)&&ne.target.getAttribute("id")!==q&&ne.preventDefault()},cr=ne=>{ne.currentTarget.contains(ne.target)&&(H.current.focus(),N&&G.current&&H.current.selectionEnd-H.current.selectionStart===0&&H.current.select(),G.current=!1)},Rt=ne=>{!p&&(J===""||!me)&&mt(ne)};let jr=m&&J.length>0;jr=jr||(w?de.length>0:de!==null);let tr=ge;return O&&(tr=ge.reduce((ne,Z,be)=>{const _e=O(Z);return ne.length>0&&ne[ne.length-1].group===_e?ne[ne.length-1].options.push(Z):ne.push({key:be,index:be,group:_e,options:[Z]}),ne},[])),p&&ce&&Rr(),{getRootProps:(ne={})=>he({"aria-owns":Pe?"".concat(q,"-listbox"):null},ne,{onKeyDown:_r(ne),onMouseDown:dt,onClick:cr}),getInputLabelProps:()=>({id:"".concat(q,"-label"),htmlFor:q}),getInputProps:()=>({id:q,value:J,onBlur:Rr,onFocus:Ft,onChange:qe,onMouseDown:Rt,"aria-activedescendant":le?"":null,"aria-autocomplete":n?"both":"list","aria-controls":Pe?"".concat(q,"-listbox"):void 0,"aria-expanded":Pe,autoComplete:"off",ref:H,autoCapitalize:"none",spellCheck:"false",role:"combobox",disabled:p}),getClearProps:()=>({tabIndex:-1,type:"button",onClick:It}),getPopupIndicatorProps:()=>({tabIndex:-1,type:"button",onClick:mt}),getTagProps:({index:ne})=>he({key:ne,"data-tag-index":ne,tabIndex:-1},!F&&{onDelete:Yr(ne)}),getListboxProps:()=>({role:"listbox",id:"".concat(q,"-listbox"),"aria-labelledby":"".concat(q,"-label"),ref:Ar,onMouseDown:ne=>{ne.preventDefault()}}),getOptionProps:({index:ne,option:Z})=>{var be;const _e=(w?de:[de]).some(St=>St!=null&&k(Z,St)),ze=_?_(Z):!1;return{key:(be=b==null?void 0:b(Z))!=null?be:W(Z),tabIndex:-1,role:"option",id:"".concat(q,"-option-").concat(ne),onMouseMove:lt,onClick:Gr,onTouchStart:ur,"data-option-index":ne,"aria-disabled":ze,"aria-selected":_e}},id:q,inputValue:J,value:de,dirty:jr,expanded:le&&K,popupOpen:le,focused:ce||te!==-1,anchorEl:K,setAnchorEl:ie,focusedTag:te,groupedOptions:tr}}function y$(t){return qg("MuiListSubheader",t)}Hg("MuiListSubheader",["root","colorPrimary","colorInherit","gutters","inset","sticky"]);const b$=["className","color","component","disableGutters","disableSticky","inset"],_$=t=>{const{classes:e,color:r,disableGutters:n,inset:i,disableSticky:a}=t,o={root:["root",r!=="default"&&"color".concat(Qt(r)),!n&&"gutters",i&&"inset",!a&&"sticky"]};return is(o,y$,e)},S$=Ir("li",{name:"MuiListSubheader",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.color!=="default"&&e["color".concat(Qt(r.color))],!r.disableGutters&&e.gutters,r.inset&&e.inset,!r.disableSticky&&e.sticky]}})(({theme:t,ownerState:e})=>he({boxSizing:"border-box",lineHeight:"48px",listStyle:"none",color:(t.vars||t).palette.text.secondary,fontFamily:t.typography.fontFamily,fontWeight:t.typography.fontWeightMedium,fontSize:t.typography.pxToRem(14)},e.color==="primary"&&{color:(t.vars||t).palette.primary.main},e.color==="inherit"&&{color:"inherit"},!e.disableGutters&&{paddingLeft:16,paddingRight:16},e.inset&&{paddingLeft:72},!e.disableSticky&&{position:"sticky",top:0,zIndex:1,backgroundColor:(t.vars||t).palette.background.paper})),Qg=X.forwardRef(function(e,r){const n=ns({props:e,name:"MuiListSubheader"}),{className:i,color:a="default",component:o="li",disableGutters:s=!1,disableSticky:l=!1,inset:u=!1}=n,c=Li(n,b$),f=he({},n,{color:a,component:o,disableGutters:s,disableSticky:l,inset:u}),d=_$(f);return T.jsx(S$,he({as:o,className:pn(d.root,i),ref:r,ownerState:f},c))});Qg.muiSkipListHighlight=!0;var Hb,zb;const O$=["autoComplete","autoHighlight","autoSelect","blurOnSelect","ChipProps","className","clearIcon","clearOnBlur","clearOnEscape","clearText","closeText","componentsProps","defaultValue","disableClearable","disableCloseOnSelect","disabled","disabledItemsFocusable","disableListWrap","disablePortal","filterOptions","filterSelectedOptions","forcePopupIcon","freeSolo","fullWidth","getLimitTagsText","getOptionDisabled","getOptionKey","getOptionLabel","isOptionEqualToValue","groupBy","handleHomeEndKeys","id","includeInputInList","inputValue","limitTags","ListboxComponent","ListboxProps","loading","loadingText","multiple","noOptionsText","onChange","onClose","onHighlightChange","onInputChange","onOpen","open","openOnFocus","openText","options","PaperComponent","PopperComponent","popupIcon","readOnly","renderGroup","renderInput","renderOption","renderTags","selectOnFocus","size","slotProps","value"],x$=["ref"],w$=["key"],E$=["key"],C$=t=>{const{classes:e,disablePortal:r,expanded:n,focused:i,fullWidth:a,hasClearIcon:o,hasPopupIcon:s,inputFocused:l,popupOpen:u,size:c}=t,f={root:["root",n&&"expanded",i&&"focused",a&&"fullWidth",o&&"hasClearIcon",s&&"hasPopupIcon"],inputRoot:["inputRoot"],input:["input",l&&"inputFocused"],tag:["tag","tagSize".concat(Qt(c))],endAdornment:["endAdornment"],clearIndicator:["clearIndicator"],popupIndicator:["popupIndicator",u&&"popupIndicatorOpen"],popper:["popper",r&&"popperDisablePortal"],paper:["paper"],listbox:["listbox"],loading:["loading"],noOptions:["noOptions"],option:["option"],groupLabel:["groupLabel"],groupUl:["groupUl"]};return is(f,kR,e)},T$=Ir("div",{name:"MuiAutocomplete",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t,{fullWidth:n,hasClearIcon:i,hasPopupIcon:a,inputFocused:o,size:s}=r;return[{["& .".concat(pt.tag)]:e.tag},{["& .".concat(pt.tag)]:e["tagSize".concat(Qt(s))]},{["& .".concat(pt.inputRoot)]:e.inputRoot},{["& .".concat(pt.input)]:e.input},{["& .".concat(pt.input)]:o&&e.inputFocused},e.root,n&&e.fullWidth,a&&e.hasPopupIcon,i&&e.hasClearIcon]}})({["&.".concat(pt.focused," .").concat(pt.clearIndicator)]:{visibility:"visible"},"@media (pointer: fine)":{["&:hover .".concat(pt.clearIndicator)]:{visibility:"visible"}},["& .".concat(pt.tag)]:{margin:3,maxWidth:"calc(100% - 6px)"},["& .".concat(pt.inputRoot)]:{[".".concat(pt.hasPopupIcon,"&, .").concat(pt.hasClearIcon,"&")]:{paddingRight:30},[".".concat(pt.hasPopupIcon,".").concat(pt.hasClearIcon,"&")]:{paddingRight:56},["& .".concat(pt.input)]:{width:0,minWidth:30}},["& .".concat(hh.root)]:{paddingBottom:1,"& .MuiInput-input":{padding:"4px 4px 4px 0px"}},["& .".concat(hh.root,".").concat($o.sizeSmall)]:{["& .".concat(hh.input)]:{padding:"2px 4px 3px 0"}},["& .".concat(Lb.root)]:{padding:9,[".".concat(pt.hasPopupIcon,"&, .").concat(pt.hasClearIcon,"&")]:{paddingRight:39},[".".concat(pt.hasPopupIcon,".").concat(pt.hasClearIcon,"&")]:{paddingRight:65},["& .".concat(pt.input)]:{padding:"7.5px 4px 7.5px 5px"},["& .".concat(pt.endAdornment)]:{right:9}},["& .".concat(Lb.root,".").concat($o.sizeSmall)]:{paddingTop:6,paddingBottom:6,paddingLeft:6,["& .".concat(pt.input)]:{padding:"2.5px 4px 2.5px 8px"}},["& .".concat(Ts.root)]:{paddingTop:19,paddingLeft:8,[".".concat(pt.hasPopupIcon,"&, .").concat(pt.hasClearIcon,"&")]:{paddingRight:39},[".".concat(pt.hasPopupIcon,".").concat(pt.hasClearIcon,"&")]:{paddingRight:65},["& .".concat(Ts.input)]:{padding:"7px 4px"},["& .".concat(pt.endAdornment)]:{right:9}},["& .".concat(Ts.root,".").concat($o.sizeSmall)]:{paddingBottom:1,["& .".concat(Ts.input)]:{padding:"2.5px 4px"}},["& .".concat($o.hiddenLabel)]:{paddingTop:8},["& .".concat(Ts.root,".").concat($o.hiddenLabel)]:{paddingTop:0,paddingBottom:0,["& .".concat(pt.input)]:{paddingTop:16,paddingBottom:17}},["& .".concat(Ts.root,".").concat($o.hiddenLabel,".").concat($o.sizeSmall)]:{["& .".concat(pt.input)]:{paddingTop:8,paddingBottom:9}},["& .".concat(pt.input)]:{flexGrow:1,textOverflow:"ellipsis",opacity:0},variants:[{props:{fullWidth:!0},style:{width:"100%"}},{props:{size:"small"},style:{["& .".concat(pt.tag)]:{margin:2,maxWidth:"calc(100% - 4px)"}}},{props:{inputFocused:!0},style:{["& .".concat(pt.input)]:{opacity:1}}},{props:{multiple:!0},style:{["& .".concat(pt.inputRoot)]:{flexWrap:"wrap"}}}]}),k$=Ir("div",{name:"MuiAutocomplete",slot:"EndAdornment",overridesResolver:(t,e)=>e.endAdornment})({position:"absolute",right:0,top:"50%",transform:"translate(0, -50%)"}),I$=Ir(bt,{name:"MuiAutocomplete",slot:"ClearIndicator",overridesResolver:(t,e)=>e.clearIndicator})({marginRight:-2,padding:4,visibility:"hidden"}),A$=Ir(bt,{name:"MuiAutocomplete",slot:"PopupIndicator",overridesResolver:({ownerState:t},e)=>he({},e.popupIndicator,t.popupOpen&&e.popupIndicatorOpen)})({padding:2,marginRight:-2,variants:[{props:{popupOpen:!0},style:{transform:"rotate(180deg)"}}]}),j$=Ir(_E,{name:"MuiAutocomplete",slot:"Popper",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[{["& .".concat(pt.option)]:e.option},e.popper,r.disablePortal&&e.popperDisablePortal]}})(({theme:t})=>({zIndex:(t.vars||t).zIndex.modal,variants:[{props:{disablePortal:!0},style:{position:"absolute"}}]})),P$=Ir(oE,{name:"MuiAutocomplete",slot:"Paper",overridesResolver:(t,e)=>e.paper})(({theme:t})=>he({},t.typography.body1,{overflow:"auto"})),L$=Ir("div",{name:"MuiAutocomplete",slot:"Loading",overridesResolver:(t,e)=>e.loading})(({theme:t})=>({color:(t.vars||t).palette.text.secondary,padding:"14px 16px"})),F$=Ir("div",{name:"MuiAutocomplete",slot:"NoOptions",overridesResolver:(t,e)=>e.noOptions})(({theme:t})=>({color:(t.vars||t).palette.text.secondary,padding:"14px 16px"})),R$=Ir("div",{name:"MuiAutocomplete",slot:"Listbox",overridesResolver:(t,e)=>e.listbox})(({theme:t})=>({listStyle:"none",margin:0,padding:"8px 0",maxHeight:"40vh",overflow:"auto",position:"relative",["& .".concat(pt.option)]:{minHeight:48,display:"flex",overflow:"hidden",justifyContent:"flex-start",alignItems:"center",cursor:"pointer",paddingTop:6,boxSizing:"border-box",outline:"0",WebkitTapHighlightColor:"transparent",paddingBottom:6,paddingLeft:16,paddingRight:16,[t.breakpoints.up("sm")]:{minHeight:"auto"},["&.".concat(pt.focused)]:{backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},'&[aria-disabled="true"]':{opacity:(t.vars||t).palette.action.disabledOpacity,pointerEvents:"none"},["&.".concat(pt.focusVisible)]:{backgroundColor:(t.vars||t).palette.action.focus},'&[aria-selected="true"]':{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / ").concat(t.vars.palette.action.selectedOpacity,")"):fl(t.palette.primary.main,t.palette.action.selectedOpacity),["&.".concat(pt.focused)]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / calc(").concat(t.vars.palette.action.selectedOpacity," + ").concat(t.vars.palette.action.hoverOpacity,"))"):fl(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:(t.vars||t).palette.action.selected}},["&.".concat(pt.focusVisible)]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / calc(").concat(t.vars.palette.action.selectedOpacity," + ").concat(t.vars.palette.action.focusOpacity,"))"):fl(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}}}})),$$=Ir(Qg,{name:"MuiAutocomplete",slot:"GroupLabel",overridesResolver:(t,e)=>e.groupLabel})(({theme:t})=>({backgroundColor:(t.vars||t).palette.background.paper,top:-8})),N$=Ir("ul",{name:"MuiAutocomplete",slot:"GroupUl",overridesResolver:(t,e)=>e.groupUl})({padding:0,["& .".concat(pt.option)]:{paddingLeft:24}}),D$=X.forwardRef(function(e,r){var n,i,a,o;const s=ns({props:e,name:"MuiAutocomplete"}),{autoComplete:l=!1,autoHighlight:u=!1,autoSelect:c=!1,blurOnSelect:f=!1,ChipProps:d,className:p,clearIcon:v=Hb||(Hb=T.jsx(TR,{fontSize:"small"})),clearOnBlur:h=!s.freeSolo,clearOnEscape:g=!1,clearText:y="Clear",closeText:m="Close",componentsProps:_={},defaultValue:b=s.multiple?[]:null,disableClearable:S=!1,disableCloseOnSelect:O=!1,disabled:x=!1,disabledItemsFocusable:E=!1,disableListWrap:A=!1,disablePortal:C=!1,filterSelectedOptions:k=!1,forcePopupIcon:w="auto",freeSolo:I=!1,fullWidth:L=!1,getLimitTagsText:P=_e=>"+".concat(_e),getOptionLabel:V,groupBy:$,handleHomeEndKeys:U=!s.freeSolo,includeInputInList:M=!1,limitTags:R=-1,ListboxComponent:F="ul",ListboxProps:N,loading:B=!1,loadingText:q="Loading…",multiple:W=!1,noOptionsText:D="No options",openOnFocus:G=!1,openText:H="Open",PaperComponent:Y=oE,PopperComponent:K=_E,popupIcon:ie=zb||(zb=T.jsx(zF,{})),readOnly:te=!1,renderGroup:se,renderInput:ue,renderOption:fe,renderTags:de,selectOnFocus:Se=!s.freeSolo,size:J="medium",slotProps:re={}}=s,ce=Li(s,O$),{getRootProps:ve,getInputProps:ee,getInputLabelProps:me,getPopupIndicatorProps:Oe,getClearProps:we,getTagProps:Je,getListboxProps:at,getOptionProps:le,value:ge,dirty:pe,expanded:Pe,id:Be,popupOpen:Ne,focused:ot,focusedTag:st,anchorEl:Ke,setAnchorEl:Vt,inputValue:Ar,groupedOptions:vt}=m$(he({},s,{componentName:"Autocomplete"})),Fe=!S&&!x&&pe&&!te,De=(!I||w===!0)&&w!==!1,{onMouseDown:Ge}=ee(),{ref:Qe}=N!=null?N:{},ft=at(),{ref:Et}=ft,It=Li(ft,x$),_r=wv(Et,Qe),Rr=V||(_e=>{var ze;return(ze=_e.label)!=null?ze:_e}),qe=he({},s,{disablePortal:C,expanded:Pe,focused:ot,fullWidth:L,getOptionLabel:Rr,hasClearIcon:Fe,hasPopupIcon:De,inputFocused:st===-1,popupOpen:Ne,size:J}),lt=C$(qe);let ur;if(W&&ge.length>0){const _e=ze=>he({className:lt.tag,disabled:x},Je(ze));de?ur=de(ge,_e,qe):ur=ge.map((ze,St)=>{const Bt=_e({index:St}),{key:Kr}=Bt,Re=Li(Bt,w$);return T.jsx(fE,he({label:Rr(ze),size:J},Re,d),Kr)})}if(R>-1&&Array.isArray(ur)){const _e=ur.length-R;!ot&&_e>0&&(ur=ur.splice(0,R),ur.push(T.jsx("span",{className:lt.tag,children:P(_e)},ur.length)))}const Yr=se||(_e=>T.jsxs("li",{children:[T.jsx($$,{className:lt.groupLabel,ownerState:qe,component:"div",children:_e.group}),T.jsx(N$,{className:lt.groupUl,ownerState:qe,children:_e.children})]},_e.key)),dt=fe||((_e,ze)=>{const{key:St}=_e,Bt=Li(_e,E$);return T.jsx("li",he({},Bt,{children:Rr(ze)}),St)}),cr=(_e,ze)=>{const St=le({option:_e,index:ze});return dt(he({},St,{className:lt.option}),_e,{selected:St["aria-selected"],index:ze,inputValue:Ar},qe)},Rt=(n=re.clearIndicator)!=null?n:_.clearIndicator,jr=(i=re.paper)!=null?i:_.paper,tr=(a=re.popper)!=null?a:_.popper,ne=(o=re.popupIndicator)!=null?o:_.popupIndicator,Z=_e=>T.jsx(j$,he({as:K,disablePortal:C,style:{width:Ke?Ke.clientWidth:null},ownerState:qe,role:"presentation",anchorEl:Ke,open:Ne},tr,{className:pn(lt.popper,tr==null?void 0:tr.className),children:T.jsx(P$,he({ownerState:qe,as:Y},jr,{className:pn(lt.paper,jr==null?void 0:jr.className),children:_e}))}));let be=null;return vt.length>0?be=Z(T.jsx(R$,he({as:F,className:lt.listbox,ownerState:qe},It,N,{ref:_r,children:vt.map((_e,ze)=>$?Yr({key:_e.key,group:_e.group,children:_e.options.map((St,Bt)=>cr(St,_e.index+Bt))}):cr(_e,ze))}))):B&&vt.length===0?be=Z(T.jsx(L$,{className:lt.loading,ownerState:qe,children:q})):vt.length===0&&!I&&!B&&(be=Z(T.jsx(F$,{className:lt.noOptions,ownerState:qe,role:"presentation",onMouseDown:_e=>{_e.preventDefault()},children:D}))),T.jsxs(X.Fragment,{children:[T.jsx(T$,he({ref:r,className:pn(lt.root,p),ownerState:qe},ve(ce),{children:ue({id:Be,disabled:x,fullWidth:!0,size:J==="small"?"small":void 0,InputLabelProps:me(),InputProps:he({ref:Vt,className:lt.inputRoot,startAdornment:ur,onClick:_e=>{_e.target===_e.currentTarget&&Ge(_e)}},(Fe||De)&&{endAdornment:T.jsxs(k$,{className:lt.endAdornment,ownerState:qe,children:[Fe?T.jsx(I$,he({},we(),{"aria-label":y,title:y,ownerState:qe},Rt,{className:pn(lt.clearIndicator,Rt==null?void 0:Rt.className),children:v})):null,De?T.jsx(A$,he({},Oe(),{disabled:x,"aria-label":Ne?m:H,title:Ne?m:H,ownerState:qe},ne,{className:pn(lt.popupIndicator,ne==null?void 0:ne.className),children:ie})):null]})}),inputProps:he({className:lt.input,disabled:x,readOnly:te},ee())})})),Ke?be:null]})}),M$=["children","className","color","component","disabled","disableElevation","disableFocusRipple","disableRipple","fullWidth","orientation","size","variant"],V$=(t,e)=>{const{ownerState:r}=t;return[{["& .".concat(un.grouped)]:e.grouped},{["& .".concat(un.grouped)]:e["grouped".concat(Qt(r.orientation))]},{["& .".concat(un.grouped)]:e["grouped".concat(Qt(r.variant))]},{["& .".concat(un.grouped)]:e["grouped".concat(Qt(r.variant)).concat(Qt(r.orientation))]},{["& .".concat(un.grouped)]:e["grouped".concat(Qt(r.variant)).concat(Qt(r.color))]},{["& .".concat(un.firstButton)]:e.firstButton},{["& .".concat(un.lastButton)]:e.lastButton},{["& .".concat(un.middleButton)]:e.middleButton},e.root,e[r.variant],r.disableElevation===!0&&e.disableElevation,r.fullWidth&&e.fullWidth,r.orientation==="vertical"&&e.vertical]},B$=t=>{const{classes:e,color:r,disabled:n,disableElevation:i,fullWidth:a,orientation:o,variant:s}=t,l={root:["root",s,o==="vertical"&&"vertical",a&&"fullWidth",i&&"disableElevation"],grouped:["grouped","grouped".concat(Qt(o)),"grouped".concat(Qt(s)),"grouped".concat(Qt(s)).concat(Qt(o)),"grouped".concat(Qt(s)).concat(Qt(r)),n&&"disabled"],firstButton:["firstButton"],lastButton:["lastButton"],middleButton:["middleButton"]};return is(l,IR,e)},q$=Ir("div",{name:"MuiButtonGroup",slot:"Root",overridesResolver:V$})(({theme:t,ownerState:e})=>he({display:"inline-flex",borderRadius:(t.vars||t).shape.borderRadius},e.variant==="contained"&&{boxShadow:(t.vars||t).shadows[2]},e.disableElevation&&{boxShadow:"none"},e.fullWidth&&{width:"100%"},e.orientation==="vertical"&&{flexDirection:"column"},{["& .".concat(un.grouped)]:he({minWidth:40,"&:hover":he({},e.variant==="contained"&&{boxShadow:"none"})},e.variant==="contained"&&{boxShadow:"none"}),["& .".concat(un.firstButton,",& .").concat(un.middleButton)]:he({},e.orientation==="horizontal"&&{borderTopRightRadius:0,borderBottomRightRadius:0},e.orientation==="vertical"&&{borderBottomRightRadius:0,borderBottomLeftRadius:0},e.variant==="text"&&e.orientation==="horizontal"&&{borderRight:t.vars?"1px solid rgba(".concat(t.vars.palette.common.onBackgroundChannel," / 0.23)"):"1px solid ".concat(t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"),["&.".concat(un.disabled)]:{borderRight:"1px solid ".concat((t.vars||t).palette.action.disabled)}},e.variant==="text"&&e.orientation==="vertical"&&{borderBottom:t.vars?"1px solid rgba(".concat(t.vars.palette.common.onBackgroundChannel," / 0.23)"):"1px solid ".concat(t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"),["&.".concat(un.disabled)]:{borderBottom:"1px solid ".concat((t.vars||t).palette.action.disabled)}},e.variant==="text"&&e.color!=="inherit"&&{borderColor:t.vars?"rgba(".concat(t.vars.palette[e.color].mainChannel," / 0.5)"):fl(t.palette[e.color].main,.5)},e.variant==="outlined"&&e.orientation==="horizontal"&&{borderRightColor:"transparent"},e.variant==="outlined"&&e.orientation==="vertical"&&{borderBottomColor:"transparent"},e.variant==="contained"&&e.orientation==="horizontal"&&{borderRight:"1px solid ".concat((t.vars||t).palette.grey[400]),["&.".concat(un.disabled)]:{borderRight:"1px solid ".concat((t.vars||t).palette.action.disabled)}},e.variant==="contained"&&e.orientation==="vertical"&&{borderBottom:"1px solid ".concat((t.vars||t).palette.grey[400]),["&.".concat(un.disabled)]:{borderBottom:"1px solid ".concat((t.vars||t).palette.action.disabled)}},e.variant==="contained"&&e.color!=="inherit"&&{borderColor:(t.vars||t).palette[e.color].dark},{"&:hover":he({},e.variant==="outlined"&&e.orientation==="horizontal"&&{borderRightColor:"currentColor"},e.variant==="outlined"&&e.orientation==="vertical"&&{borderBottomColor:"currentColor"})}),["& .".concat(un.lastButton,",& .").concat(un.middleButton)]:he({},e.orientation==="horizontal"&&{borderTopLeftRadius:0,borderBottomLeftRadius:0},e.orientation==="vertical"&&{borderTopRightRadius:0,borderTopLeftRadius:0},e.variant==="outlined"&&e.orientation==="horizontal"&&{marginLeft:-1},e.variant==="outlined"&&e.orientation==="vertical"&&{marginTop:-1})})),H$=X.forwardRef(function(e,r){const n=ns({props:e,name:"MuiButtonGroup"}),{children:i,className:a,color:o="primary",component:s="div",disabled:l=!1,disableElevation:u=!1,disableFocusRipple:c=!1,disableRipple:f=!1,fullWidth:d=!1,orientation:p="horizontal",size:v="medium",variant:h="outlined"}=n,g=Li(n,M$),y=he({},n,{color:o,component:s,disabled:l,disableElevation:u,disableFocusRipple:c,disableRipple:f,fullWidth:d,orientation:p,size:v,variant:h}),m=B$(y),_=X.useMemo(()=>({className:m.grouped,color:o,disabled:l,disableElevation:u,disableFocusRipple:c,disableRipple:f,fullWidth:d,size:v,variant:h}),[o,l,u,c,f,d,v,h,m.grouped]),b=p$(i),S=b.length,O=x=>{const E=x===0,A=x===S-1;return E&&A?"":E?m.firstButton:A?m.lastButton:m.middleButton};return T.jsx(q$,he({as:s,role:"group",className:pn(m.root,a),ref:r,ownerState:y},g,{children:T.jsx(UF.Provider,{value:_,children:b.map((x,E)=>T.jsx(WF.Provider,{value:O(E),children:x},E))})}))});function z$(t){return qg("MuiDialogContentText",t)}Hg("MuiDialogContentText",["root"]);const U$=["children","className"],W$=t=>{const{classes:e}=t,n=is({root:["root"]},z$,e);return he({},e,n)},G$=Ir(wn,{shouldForwardProp:t=>GF(t)||t==="classes",name:"MuiDialogContentText",slot:"Root",overridesResolver:(t,e)=>e.root})({}),Y$=X.forwardRef(function(e,r){const n=ns({props:e,name:"MuiDialogContentText"}),{className:i}=n,a=Li(n,U$),o=W$(a);return T.jsx(G$,he({component:"p",variant:"body1",color:"text.secondary",ref:r,ownerState:a,className:pn(o.root,i)},n,{classes:o}))});function K$(t){return qg("MuiIcon",t)}Hg("MuiIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const J$=["baseClassName","className","color","component","fontSize"],Q$=t=>{const{color:e,fontSize:r,classes:n}=t,i={root:["root",e!=="inherit"&&"color".concat(Qt(e)),"fontSize".concat(Qt(r))]};return is(i,K$,n)},X$=Ir("span",{name:"MuiIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,r.color!=="inherit"&&e["color".concat(Qt(r.color))],e["fontSize".concat(Qt(r.fontSize))]]}})(({theme:t,ownerState:e})=>({userSelect:"none",width:"1em",height:"1em",overflow:"hidden",display:"inline-block",textAlign:"center",flexShrink:0,fontSize:{inherit:"inherit",small:t.typography.pxToRem(20),medium:t.typography.pxToRem(24),large:t.typography.pxToRem(36)}[e.fontSize],color:{primary:(t.vars||t).palette.primary.main,secondary:(t.vars||t).palette.secondary.main,info:(t.vars||t).palette.info.main,success:(t.vars||t).palette.success.main,warning:(t.vars||t).palette.warning.main,action:(t.vars||t).palette.action.active,error:(t.vars||t).palette.error.main,disabled:(t.vars||t).palette.action.disabled,inherit:void 0}[e.color]})),EE=X.forwardRef(function(e,r){const n=ns({props:e,name:"MuiIcon"}),{baseClassName:i="material-icons",className:a,color:o="inherit",component:s="span",fontSize:l="medium"}=n,u=Li(n,J$),c=he({},n,{baseClassName:i,color:o,component:s,fontSize:l}),f=Q$(c);return T.jsx(X$,he({as:s,className:pn(i,"notranslate",f.root,a),ownerState:c,"aria-hidden":!0,ref:r},u))});EE.muiName="Icon";const Z$=["children","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"],e2=t=>{const{classes:e,inset:r,primary:n,secondary:i,dense:a}=t;return is({root:["root",r&&"inset",a&&"dense",n&&i&&"multiline"],primary:["primary"],secondary:["secondary"]},KF,e)},t2=Ir("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[{["& .".concat(Fb.primary)]:e.primary},{["& .".concat(Fb.secondary)]:e.secondary},e.root,r.inset&&e.inset,r.primary&&r.secondary&&e.multiline,r.dense&&e.dense]}})(({ownerState:t})=>he({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},t.primary&&t.secondary&&{marginTop:6,marginBottom:6},t.inset&&{paddingLeft:56})),Xg=X.forwardRef(function(e,r){const n=ns({props:e,name:"MuiListItemText"}),{children:i,className:a,disableTypography:o=!1,inset:s=!1,primary:l,primaryTypographyProps:u,secondary:c,secondaryTypographyProps:f}=n,d=Li(n,Z$),{dense:p}=X.useContext(YF);let v=l!=null?l:i,h=c;const g=he({},n,{disableTypography:o,inset:s,primary:!!v,secondary:!!h,dense:p}),y=e2(g);return v!=null&&v.type!==wn&&!o&&(v=T.jsx(wn,he({variant:p?"body2":"body1",className:y.primary,component:u!=null&&u.variant?void 0:"span",display:"block"},u,{children:v}))),h!=null&&h.type!==wn&&!o&&(h=T.jsx(wn,he({variant:"body2",className:y.secondary,color:"text.secondary",display:"block"},f,{children:h}))),T.jsxs(t2,he({className:pn(y.root,a),ownerState:g,ref:r},d,{children:[v,h]}))});function r2(t,e,r=(n,i)=>n===i){return t.length===e.length&&t.every((n,i)=>r(n,e[i]))}const n2=2;function CE(t,e){return t-e}function Ub(t,e){var r;const{index:n}=(r=t.reduce((i,a,o)=>{const s=Math.abs(e-a);return i===null||s<i.distance||s===i.distance?{distance:s,index:o}:i},null))!=null?r:{};return n}function df(t,e){if(e.current!==void 0&&t.changedTouches){const r=t;for(let n=0;n<r.changedTouches.length;n+=1){const i=r.changedTouches[n];if(i.identifier===e.current)return{x:i.clientX,y:i.clientY}}return!1}return{x:t.clientX,y:t.clientY}}function sd(t,e,r){return(t-e)*100/(r-e)}function i2(t,e,r){return(r-e)*t+e}function a2(t){if(Math.abs(t)<1){const r=t.toExponential().split("e-"),n=r[0].split(".")[1];return(n?n.length:0)+parseInt(r[1],10)}const e=t.toString().split(".")[1];return e?e.length:0}function o2(t,e,r){const n=Math.round((t-r)/e)*e+r;return Number(n.toFixed(a2(e)))}function Wb({values:t,newValue:e,index:r}){const n=t.slice();return n[r]=e,n.sort(CE)}function pf({sliderRef:t,activeIndex:e,setActive:r}){var n,i;const a=zf(t.current);if(!((n=t.current)!=null&&n.contains(a.activeElement))||Number(a==null||(i=a.activeElement)==null?void 0:i.getAttribute("data-index"))!==e){var o;(o=t.current)==null||o.querySelector('[type="range"][data-index="'.concat(e,'"]')).focus()}r&&r(e)}function hf(t,e){return typeof t=="number"&&typeof e=="number"?t===e:typeof t=="object"&&typeof e=="object"?r2(t,e):!1}const s2={horizontal:{offset:t=>({left:"".concat(t,"%")}),leap:t=>({width:"".concat(t,"%")})},"horizontal-reverse":{offset:t=>({right:"".concat(t,"%")}),leap:t=>({width:"".concat(t,"%")})},vertical:{offset:t=>({bottom:"".concat(t,"%")}),leap:t=>({height:"".concat(t,"%")})}},l2=t=>t;let vf;function Gb(){return vf===void 0&&(typeof CSS<"u"&&typeof CSS.supports=="function"?vf=CSS.supports("touch-action","none"):vf=!0),vf}function u2(t){const{"aria-labelledby":e,defaultValue:r,disabled:n=!1,disableSwap:i=!1,isRtl:a=!1,marks:o=!1,max:s=100,min:l=0,name:u,onChange:c,onChangeCommitted:f,orientation:d="horizontal",rootRef:p,scale:v=l2,step:h=1,shiftStep:g=10,tabIndex:y,value:m}=t,_=X.useRef(),[b,S]=X.useState(-1),[O,x]=X.useState(-1),[E,A]=X.useState(!1),C=X.useRef(0),[k,w]=Hf({controlled:m,default:r!=null?r:l,name:"Slider"}),I=c&&((le,ge,pe)=>{const Pe=le.nativeEvent||le,Be=new Pe.constructor(Pe.type,Pe);Object.defineProperty(Be,"target",{writable:!0,value:{value:ge,name:u}}),c(Be,ge,pe)}),L=Array.isArray(k);let P=L?k.slice().sort(CE):[k];P=P.map(le=>le==null?l:vu(le,l,s));const V=o===!0&&h!==null?[...Array(Math.floor((s-l)/h)+1)].map((le,ge)=>({value:l+h*ge})):o||[],$=V.map(le=>le.value),{isFocusVisibleRef:U,onBlur:M,onFocus:R,ref:F}=JF(),[N,B]=X.useState(-1),q=X.useRef(),W=wv(F,q),D=wv(p,W),G=le=>ge=>{var pe;const Pe=Number(ge.currentTarget.getAttribute("data-index"));R(ge),U.current===!0&&B(Pe),x(Pe),le==null||(pe=le.onFocus)==null||pe.call(le,ge)},H=le=>ge=>{var pe;M(ge),U.current===!1&&B(-1),x(-1),le==null||(pe=le.onBlur)==null||pe.call(le,ge)},Y=(le,ge)=>{const pe=Number(le.currentTarget.getAttribute("data-index")),Pe=P[pe],Be=$.indexOf(Pe);let Ne=ge;if(V&&h==null){const ot=$[$.length-1];Ne>ot?Ne=ot:Ne<$[0]?Ne=$[0]:Ne=Ne<Pe?$[Be-1]:$[Be+1]}if(Ne=vu(Ne,l,s),L){i&&(Ne=vu(Ne,P[pe-1]||-1/0,P[pe+1]||1/0));const ot=Ne;Ne=Wb({values:P,newValue:Ne,index:pe});let st=pe;i||(st=Ne.indexOf(ot)),pf({sliderRef:q,activeIndex:st})}w(Ne),B(pe),I&&!hf(Ne,k)&&I(le,Ne,pe),f&&f(le,Ne)},K=le=>ge=>{var pe;if(h!==null){const Pe=Number(ge.currentTarget.getAttribute("data-index")),Be=P[Pe];let Ne=null;(ge.key==="ArrowLeft"||ge.key==="ArrowDown")&&ge.shiftKey||ge.key==="PageDown"?Ne=Math.max(Be-g,l):((ge.key==="ArrowRight"||ge.key==="ArrowUp")&&ge.shiftKey||ge.key==="PageUp")&&(Ne=Math.min(Be+g,s)),Ne!==null&&(Y(ge,Ne),ge.preventDefault())}le==null||(pe=le.onKeyDown)==null||pe.call(le,ge)};QF(()=>{if(n&&q.current.contains(document.activeElement)){var le;(le=document.activeElement)==null||le.blur()}},[n]),n&&b!==-1&&S(-1),n&&N!==-1&&B(-1);const ie=le=>ge=>{var pe;(pe=le.onChange)==null||pe.call(le,ge),Y(ge,ge.target.valueAsNumber)},te=X.useRef();let se=d;a&&d==="horizontal"&&(se+="-reverse");const ue=({finger:le,move:ge=!1})=>{const{current:pe}=q,{width:Pe,height:Be,bottom:Ne,left:ot}=pe.getBoundingClientRect();let st;se.indexOf("vertical")===0?st=(Ne-le.y)/Be:st=(le.x-ot)/Pe,se.indexOf("-reverse")!==-1&&(st=1-st);let Ke;if(Ke=i2(st,l,s),h)Ke=o2(Ke,h,l);else{const Ar=Ub($,Ke);Ke=$[Ar]}Ke=vu(Ke,l,s);let Vt=0;if(L){ge?Vt=te.current:Vt=Ub(P,Ke),i&&(Ke=vu(Ke,P[Vt-1]||-1/0,P[Vt+1]||1/0));const Ar=Ke;Ke=Wb({values:P,newValue:Ke,index:Vt}),i&&ge||(Vt=Ke.indexOf(Ar),te.current=Vt)}return{newValue:Ke,activeIndex:Vt}},fe=qo(le=>{const ge=df(le,_);if(!ge)return;if(C.current+=1,le.type==="mousemove"&&le.buttons===0){de(le);return}const{newValue:pe,activeIndex:Pe}=ue({finger:ge,move:!0});pf({sliderRef:q,activeIndex:Pe,setActive:S}),w(pe),!E&&C.current>n2&&A(!0),I&&!hf(pe,k)&&I(le,pe,Pe)}),de=qo(le=>{const ge=df(le,_);if(A(!1),!ge)return;const{newValue:pe}=ue({finger:ge,move:!0});S(-1),le.type==="touchend"&&x(-1),f&&f(le,pe),_.current=void 0,J()}),Se=qo(le=>{if(n)return;Gb()||le.preventDefault();const ge=le.changedTouches[0];ge!=null&&(_.current=ge.identifier);const pe=df(le,_);if(pe!==!1){const{newValue:Be,activeIndex:Ne}=ue({finger:pe});pf({sliderRef:q,activeIndex:Ne,setActive:S}),w(Be),I&&!hf(Be,k)&&I(le,Be,Ne)}C.current=0;const Pe=zf(q.current);Pe.addEventListener("touchmove",fe,{passive:!0}),Pe.addEventListener("touchend",de,{passive:!0})}),J=X.useCallback(()=>{const le=zf(q.current);le.removeEventListener("mousemove",fe),le.removeEventListener("mouseup",de),le.removeEventListener("touchmove",fe),le.removeEventListener("touchend",de)},[de,fe]);X.useEffect(()=>{const{current:le}=q;return le.addEventListener("touchstart",Se,{passive:Gb()}),()=>{le.removeEventListener("touchstart",Se),J()}},[J,Se]),X.useEffect(()=>{n&&J()},[n,J]);const re=le=>ge=>{var pe;if((pe=le.onMouseDown)==null||pe.call(le,ge),n||ge.defaultPrevented||ge.button!==0)return;ge.preventDefault();const Pe=df(ge,_);if(Pe!==!1){const{newValue:Ne,activeIndex:ot}=ue({finger:Pe});pf({sliderRef:q,activeIndex:ot,setActive:S}),w(Ne),I&&!hf(Ne,k)&&I(ge,Ne,ot)}C.current=0;const Be=zf(q.current);Be.addEventListener("mousemove",fe,{passive:!0}),Be.addEventListener("mouseup",de)},ce=sd(L?P[0]:l,l,s),ve=sd(P[P.length-1],l,s)-ce,ee=(le={})=>{const ge=vh(le),pe={onMouseDown:re(ge||{})},Pe=he({},ge,pe);return he({},le,{ref:D},Pe)},me=le=>ge=>{var pe;(pe=le.onMouseOver)==null||pe.call(le,ge);const Pe=Number(ge.currentTarget.getAttribute("data-index"));x(Pe)},Oe=le=>ge=>{var pe;(pe=le.onMouseLeave)==null||pe.call(le,ge),x(-1)};return{active:b,axis:se,axisProps:s2,dragging:E,focusedThumbIndex:N,getHiddenInputProps:(le={})=>{var ge;const pe=vh(le),Pe={onChange:ie(pe||{}),onFocus:G(pe||{}),onBlur:H(pe||{}),onKeyDown:K(pe||{})},Be=he({},pe,Pe);return he({tabIndex:y,"aria-labelledby":e,"aria-orientation":d,"aria-valuemax":v(s),"aria-valuemin":v(l),name:u,type:"range",min:t.min,max:t.max,step:t.step===null&&t.marks?"any":(ge=t.step)!=null?ge:void 0,disabled:n},le,Be,{style:he({},h$,{direction:a?"rtl":"ltr",width:"100%",height:"100%"})})},getRootProps:ee,getThumbProps:(le={})=>{const ge=vh(le),pe={onMouseOver:me(ge||{}),onMouseLeave:Oe(ge||{})};return he({},le,ge,pe)},marks:V,open:O,range:L,rootRef:D,trackLeap:ve,trackOffset:ce,values:P,getThumbStyle:le=>({pointerEvents:b!==-1&&b!==le?"none":void 0})}}const c2=t=>!t||!Uf(t),f2=t=>{const{open:e}=t;return{offset:pn(e&&fi.valueLabelOpen),circle:fi.valueLabelCircle,label:fi.valueLabelLabel}};function d2(t){const{children:e,className:r,value:n}=t,i=f2(t);return e?X.cloneElement(e,{className:pn(e.props.className)},T.jsxs(X.Fragment,{children:[e.props.children,T.jsx("span",{className:pn(i.offset,r),"aria-hidden":!0,children:T.jsx("span",{className:i.circle,children:T.jsx("span",{className:i.label,children:n})})})]})):null}const p2=["aria-label","aria-valuetext","aria-labelledby","component","components","componentsProps","color","classes","className","disableSwap","disabled","getAriaLabel","getAriaValueText","marks","max","min","name","onChange","onChangeCommitted","orientation","shiftStep","size","step","scale","slotProps","slots","tabIndex","track","value","valueLabelDisplay","valueLabelFormat"];function Yb(t){return t}const h2=Ir("span",{name:"MuiSlider",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,e["color".concat(Qt(r.color))],r.size!=="medium"&&e["size".concat(Qt(r.size))],r.marked&&e.marked,r.orientation==="vertical"&&e.vertical,r.track==="inverted"&&e.trackInverted,r.track===!1&&e.trackFalse]}})(({theme:t})=>{var e;return{borderRadius:12,boxSizing:"content-box",display:"inline-block",position:"relative",cursor:"pointer",touchAction:"none",WebkitTapHighlightColor:"transparent","@media print":{colorAdjust:"exact"},["&.".concat(fi.disabled)]:{pointerEvents:"none",cursor:"default",color:(t.vars||t).palette.grey[400]},["&.".concat(fi.dragging)]:{["& .".concat(fi.thumb,", & .").concat(fi.track)]:{transition:"none"}},variants:[...Object.keys(((e=t.vars)!=null?e:t).palette).filter(r=>{var n;return((n=t.vars)!=null?n:t).palette[r].main}).map(r=>({props:{color:r},style:{color:(t.vars||t).palette[r].main}})),{props:{orientation:"horizontal"},style:{height:4,width:"100%",padding:"13px 0","@media (pointer: coarse)":{padding:"20px 0"}}},{props:{orientation:"horizontal",size:"small"},style:{height:2}},{props:{orientation:"horizontal",marked:!0},style:{marginBottom:20}},{props:{orientation:"vertical"},style:{height:"100%",width:4,padding:"0 13px","@media (pointer: coarse)":{padding:"0 20px"}}},{props:{orientation:"vertical",size:"small"},style:{width:2}},{props:{orientation:"vertical",marked:!0},style:{marginRight:44}}]}}),v2=Ir("span",{name:"MuiSlider",slot:"Rail",overridesResolver:(t,e)=>e.rail})({display:"block",position:"absolute",borderRadius:"inherit",backgroundColor:"currentColor",opacity:.38,variants:[{props:{orientation:"horizontal"},style:{width:"100%",height:"inherit",top:"50%",transform:"translateY(-50%)"}},{props:{orientation:"vertical"},style:{height:"100%",width:"inherit",left:"50%",transform:"translateX(-50%)"}},{props:{track:"inverted"},style:{opacity:1}}]}),g2=Ir("span",{name:"MuiSlider",slot:"Track",overridesResolver:(t,e)=>e.track})(({theme:t})=>{var e;return{display:"block",position:"absolute",borderRadius:"inherit",border:"1px solid currentColor",backgroundColor:"currentColor",transition:t.transitions.create(["left","width","bottom","height"],{duration:t.transitions.duration.shortest}),variants:[{props:{size:"small"},style:{border:"none"}},{props:{orientation:"horizontal"},style:{height:"inherit",top:"50%",transform:"translateY(-50%)"}},{props:{orientation:"vertical"},style:{width:"inherit",left:"50%",transform:"translateX(-50%)"}},{props:{track:!1},style:{display:"none"}},...Object.keys(((e=t.vars)!=null?e:t).palette).filter(r=>{var n;return((n=t.vars)!=null?n:t).palette[r].main}).map(r=>({props:{color:r,track:"inverted"},style:he({},t.vars?{backgroundColor:t.vars.palette.Slider["".concat(r,"Track")],borderColor:t.vars.palette.Slider["".concat(r,"Track")]}:he({backgroundColor:jb(t.palette[r].main,.62),borderColor:jb(t.palette[r].main,.62)},t.applyStyles("dark",{backgroundColor:Pb(t.palette[r].main,.5)}),t.applyStyles("dark",{borderColor:Pb(t.palette[r].main,.5)})))}))]}}),m2=Ir("span",{name:"MuiSlider",slot:"Thumb",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.thumb,e["thumbColor".concat(Qt(r.color))],r.size!=="medium"&&e["thumbSize".concat(Qt(r.size))]]}})(({theme:t})=>{var e;return{position:"absolute",width:20,height:20,boxSizing:"border-box",borderRadius:"50%",outline:0,backgroundColor:"currentColor",display:"flex",alignItems:"center",justifyContent:"center",transition:t.transitions.create(["box-shadow","left","bottom"],{duration:t.transitions.duration.shortest}),"&::before":{position:"absolute",content:'""',borderRadius:"inherit",width:"100%",height:"100%",boxShadow:(t.vars||t).shadows[2]},"&::after":{position:"absolute",content:'""',borderRadius:"50%",width:42,height:42,top:"50%",left:"50%",transform:"translate(-50%, -50%)"},["&.".concat(fi.disabled)]:{"&:hover":{boxShadow:"none"}},variants:[{props:{size:"small"},style:{width:12,height:12,"&::before":{boxShadow:"none"}}},{props:{orientation:"horizontal"},style:{top:"50%",transform:"translate(-50%, -50%)"}},{props:{orientation:"vertical"},style:{left:"50%",transform:"translate(-50%, 50%)"}},...Object.keys(((e=t.vars)!=null?e:t).palette).filter(r=>{var n;return((n=t.vars)!=null?n:t).palette[r].main}).map(r=>({props:{color:r},style:{["&:hover, &.".concat(fi.focusVisible)]:he({},t.vars?{boxShadow:"0px 0px 0px 8px rgba(".concat(t.vars.palette[r].mainChannel," / 0.16)")}:{boxShadow:"0px 0px 0px 8px ".concat(fl(t.palette[r].main,.16))},{"@media (hover: none)":{boxShadow:"none"}}),["&.".concat(fi.active)]:he({},t.vars?{boxShadow:"0px 0px 0px 14px rgba(".concat(t.vars.palette[r].mainChannel," / 0.16)")}:{boxShadow:"0px 0px 0px 14px ".concat(fl(t.palette[r].main,.16))})}}))]}}),y2=Ir(d2,{name:"MuiSlider",slot:"ValueLabel",overridesResolver:(t,e)=>e.valueLabel})(({theme:t})=>he({zIndex:1,whiteSpace:"nowrap"},t.typography.body2,{fontWeight:500,transition:t.transitions.create(["transform"],{duration:t.transitions.duration.shortest}),position:"absolute",backgroundColor:(t.vars||t).palette.grey[600],borderRadius:2,color:(t.vars||t).palette.common.white,display:"flex",alignItems:"center",justifyContent:"center",padding:"0.25rem 0.75rem",variants:[{props:{orientation:"horizontal"},style:{transform:"translateY(-100%) scale(0)",top:"-10px",transformOrigin:"bottom center","&::before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, 50%) rotate(45deg)",backgroundColor:"inherit",bottom:0,left:"50%"},["&.".concat(fi.valueLabelOpen)]:{transform:"translateY(-100%) scale(1)"}}},{props:{orientation:"vertical"},style:{transform:"translateY(-50%) scale(0)",right:"30px",top:"50%",transformOrigin:"right center","&::before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, -50%) rotate(45deg)",backgroundColor:"inherit",right:-8,top:"50%"},["&.".concat(fi.valueLabelOpen)]:{transform:"translateY(-50%) scale(1)"}}},{props:{size:"small"},style:{fontSize:t.typography.pxToRem(12),padding:"0.25rem 0.5rem"}},{props:{orientation:"vertical",size:"small"},style:{right:"20px"}}]})),b2=Ir("span",{name:"MuiSlider",slot:"Mark",shouldForwardProp:t=>sE(t)&&t!=="markActive",overridesResolver:(t,e)=>{const{markActive:r}=t;return[e.mark,r&&e.markActive]}})(({theme:t})=>({position:"absolute",width:2,height:2,borderRadius:1,backgroundColor:"currentColor",variants:[{props:{orientation:"horizontal"},style:{top:"50%",transform:"translate(-1px, -50%)"}},{props:{orientation:"vertical"},style:{left:"50%",transform:"translate(-50%, 1px)"}},{props:{markActive:!0},style:{backgroundColor:(t.vars||t).palette.background.paper,opacity:.8}}]})),_2=Ir("span",{name:"MuiSlider",slot:"MarkLabel",shouldForwardProp:t=>sE(t)&&t!=="markLabelActive",overridesResolver:(t,e)=>e.markLabel})(({theme:t})=>he({},t.typography.body2,{color:(t.vars||t).palette.text.secondary,position:"absolute",whiteSpace:"nowrap",variants:[{props:{orientation:"horizontal"},style:{top:30,transform:"translateX(-50%)","@media (pointer: coarse)":{top:40}}},{props:{orientation:"vertical"},style:{left:36,transform:"translateY(50%)","@media (pointer: coarse)":{left:44}}},{props:{markLabelActive:!0},style:{color:(t.vars||t).palette.text.primary}}]})),S2=t=>{const{disabled:e,dragging:r,marked:n,orientation:i,track:a,classes:o,color:s,size:l}=t,u={root:["root",e&&"disabled",r&&"dragging",n&&"marked",i==="vertical"&&"vertical",a==="inverted"&&"trackInverted",a===!1&&"trackFalse",s&&"color".concat(Qt(s)),l&&"size".concat(Qt(l))],rail:["rail"],track:["track"],mark:["mark"],markActive:["markActive"],markLabel:["markLabel"],markLabelActive:["markLabelActive"],valueLabel:["valueLabel"],thumb:["thumb",e&&"disabled",l&&"thumbSize".concat(Qt(l)),s&&"thumbColor".concat(Qt(s))],active:["active"],disabled:["disabled"],focusVisible:["focusVisible"]};return is(u,AR,o)},O2=({children:t})=>t,TE=X.forwardRef(function(e,r){var n,i,a,o,s,l,u,c,f,d,p,v,h,g,y,m,_,b,S,O,x,E,A,C;const k=ns({props:e,name:"MuiSlider"}),w=XF(),{"aria-label":I,"aria-valuetext":L,"aria-labelledby":P,component:V="span",components:$={},componentsProps:U={},color:M="primary",classes:R,className:F,disableSwap:N=!1,disabled:B=!1,getAriaLabel:q,getAriaValueText:W,marks:D=!1,max:G=100,min:H=0,orientation:Y="horizontal",shiftStep:K=10,size:ie="medium",step:te=1,scale:se=Yb,slotProps:ue,slots:fe,track:de="normal",valueLabelDisplay:Se="off",valueLabelFormat:J=Yb}=k,re=Li(k,p2),ce=he({},k,{isRtl:w,max:G,min:H,classes:R,disabled:B,disableSwap:N,orientation:Y,marks:D,color:M,size:ie,step:te,shiftStep:K,scale:se,track:de,valueLabelDisplay:Se,valueLabelFormat:J}),{axisProps:ve,getRootProps:ee,getHiddenInputProps:me,getThumbProps:Oe,open:we,active:Je,axis:at,focusedThumbIndex:le,range:ge,dragging:pe,marks:Pe,values:Be,trackOffset:Ne,trackLeap:ot,getThumbStyle:st}=u2(he({},ce,{rootRef:r}));ce.marked=Pe.length>0&&Pe.some(ne=>ne.label),ce.dragging=pe,ce.focusedThumbIndex=le;const Ke=S2(ce),Vt=(n=(i=fe==null?void 0:fe.root)!=null?i:$.Root)!=null?n:h2,Ar=(a=(o=fe==null?void 0:fe.rail)!=null?o:$.Rail)!=null?a:v2,vt=(s=(l=fe==null?void 0:fe.track)!=null?l:$.Track)!=null?s:g2,Fe=(u=(c=fe==null?void 0:fe.thumb)!=null?c:$.Thumb)!=null?u:m2,De=(f=(d=fe==null?void 0:fe.valueLabel)!=null?d:$.ValueLabel)!=null?f:y2,Ge=(p=(v=fe==null?void 0:fe.mark)!=null?v:$.Mark)!=null?p:b2,Qe=(h=(g=fe==null?void 0:fe.markLabel)!=null?g:$.MarkLabel)!=null?h:_2,ft=(y=(m=fe==null?void 0:fe.input)!=null?m:$.Input)!=null?y:"input",Et=(_=ue==null?void 0:ue.root)!=null?_:U.root,It=(b=ue==null?void 0:ue.rail)!=null?b:U.rail,_r=(S=ue==null?void 0:ue.track)!=null?S:U.track,Ft=(O=ue==null?void 0:ue.thumb)!=null?O:U.thumb,Rr=(x=ue==null?void 0:ue.valueLabel)!=null?x:U.valueLabel,qe=(E=ue==null?void 0:ue.mark)!=null?E:U.mark,lt=(A=ue==null?void 0:ue.markLabel)!=null?A:U.markLabel,ur=(C=ue==null?void 0:ue.input)!=null?C:U.input,Gr=Ja({elementType:Vt,getSlotProps:ee,externalSlotProps:Et,externalForwardedProps:re,additionalProps:he({},c2(Vt)&&{as:V}),ownerState:he({},ce,Et==null?void 0:Et.ownerState),className:[Ke.root,F]}),Yr=Ja({elementType:Ar,externalSlotProps:It,ownerState:ce,className:Ke.rail}),mt=Ja({elementType:vt,externalSlotProps:_r,additionalProps:{style:he({},ve[at].offset(Ne),ve[at].leap(ot))},ownerState:he({},ce,_r==null?void 0:_r.ownerState),className:Ke.track}),dt=Ja({elementType:Fe,getSlotProps:Oe,externalSlotProps:Ft,ownerState:he({},ce,Ft==null?void 0:Ft.ownerState),className:Ke.thumb}),cr=Ja({elementType:De,externalSlotProps:Rr,ownerState:he({},ce,Rr==null?void 0:Rr.ownerState),className:Ke.valueLabel}),Rt=Ja({elementType:Ge,externalSlotProps:qe,ownerState:ce,className:Ke.mark}),jr=Ja({elementType:Qe,externalSlotProps:lt,ownerState:ce,className:Ke.markLabel}),tr=Ja({elementType:ft,getSlotProps:me,externalSlotProps:ur,ownerState:ce});return T.jsxs(Vt,he({},Gr,{children:[T.jsx(Ar,he({},Yr)),T.jsx(vt,he({},mt)),Pe.filter(ne=>ne.value>=H&&ne.value<=G).map((ne,Z)=>{const be=sd(ne.value,H,G),_e=ve[at].offset(be);let ze;return de===!1?ze=Be.indexOf(ne.value)!==-1:ze=de==="normal"&&(ge?ne.value>=Be[0]&&ne.value<=Be[Be.length-1]:ne.value<=Be[0])||de==="inverted"&&(ge?ne.value<=Be[0]||ne.value>=Be[Be.length-1]:ne.value>=Be[0]),T.jsxs(X.Fragment,{children:[T.jsx(Ge,he({"data-index":Z},Rt,!Uf(Ge)&&{markActive:ze},{style:he({},_e,Rt.style),className:pn(Rt.className,ze&&Ke.markActive)})),ne.label!=null?T.jsx(Qe,he({"aria-hidden":!0,"data-index":Z},jr,!Uf(Qe)&&{markLabelActive:ze},{style:he({},_e,jr.style),className:pn(Ke.markLabel,jr.className,ze&&Ke.markLabelActive),children:ne.label})):null]},Z)}),Be.map((ne,Z)=>{const be=sd(ne,H,G),_e=ve[at].offset(be),ze=Se==="off"?O2:De;return T.jsx(ze,he({},!Uf(ze)&&{valueLabelFormat:J,valueLabelDisplay:Se,value:typeof J=="function"?J(se(ne),Z):J,index:Z,open:we===Z||Je===Z||Se==="on",disabled:B},cr,{children:T.jsx(Fe,he({"data-index":Z},dt,{className:pn(Ke.thumb,dt.className,Je===Z&&Ke.active,le===Z&&Ke.focusVisible),style:he({},_e,st(Z),dt.style),children:T.jsx(ft,he({"data-index":Z,"aria-label":q?q(Z):I,"aria-valuenow":se(ne),"aria-labelledby":P,"aria-valuetext":W?W(se(ne),Z):L,value:Be[Z]},tr))}))}),Z)})]}))});function x2(t){const r=ZF().getMonitor(),[n,i]=eR(r,t);return X.useEffect(()=>r.subscribeToOffsetChange(i)),X.useEffect(()=>r.subscribeToStateChange(i)),n}const w2=tR(T.jsx("path",{d:"m14.06 9.02.92.92L5.92 19H5v-.92zM17.66 3c-.25 0-.51.1-.7.29l-1.83 1.83 3.75 3.75 1.83-1.83c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.2-.2-.45-.29-.71-.29m-3.6 3.19L3 17.25V21h3.75L17.81 9.94z"}),"EditOutlined"),E2="_noPadding_1ii70_1",C2="_addRow_1ii70_5",T2="_addColumn_1ii70_9",k2="_addIcon_1ii70_13",I2="_svgContainer_1ii70_23",A2="_addButton_1ii70_31",Du={noPadding:E2,addRow:C2,addColumn:T2,addIcon:k2,svgContainer:I2,addButton:A2},j2="_mainContainer_as1f9_1",P2="_updateButtons_as1f9_5",L2="_save_as1f9_14",F2="_header_as1f9_18",Kb={mainContainer:j2,updateButtons:P2,save:L2,header:F2},R2="_groupEmptyHint_11fy7_2",$2="_groupEmptyHintHover_11fy7_14",N2="_footer_11fy7_18",D2="_contentPanel_11fy7_22",M2="_cardImage_11fy7_29",V2="_customScrollBar_11fy7_37",B2="_virtuosoStyle_11fy7_41",q2="_cardMediaContent_11fy7_46",H2="_buttonContainer_11fy7_54",z2="_button_11fy7_54",mu={groupEmptyHint:R2,groupEmptyHintHover:$2,footer:N2,contentPanel:D2,cardImage:M2,customScrollBar:V2,virtuosoStyle:B2,cardMediaContent:q2,buttonContainer:H2,button:z2},U2="_errorDisplay_1joy4_1",W2="_clickable_1joy4_10",Jb={errorDisplay:U2,clickable:W2};var Zg={},G2=Dr;Object.defineProperty(Zg,"__esModule",{value:!0});var kE=Zg.default=void 0,Y2=G2(Mr()),K2=T;kE=Zg.default=(0,Y2.default)((0,K2.jsx)("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2M12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"}),"ErrorOutline");function J2(t){const{t:e}=as("design"),r=_t(),i=hE([d=>d.designState[t.code]||{}],d=>{var v;const p=(v=d.instructionList)==null?void 0:v.filter(h=>{var g;return((g=h.errors)==null?void 0:g.length)>0});return{errors:d.errors,designErrors:d.designErrors,instructions:p!=null&&p.length?p:void 0}}),{errors:a,designErrors:o,instructions:s}=ye(i),l=(a==null?void 0:a.length)>0||(o==null?void 0:o.length)>0||(s==null?void 0:s.length)>0,u=ye(d=>{var p;return t.code=="Survey"?"":Hi(t.code)?((p=d.designState[t.code].groupType)==null?void 0:p.toLowerCase())||"group":d.designState[t.code].type}),c=d=>(d.code==="conditional_relevance"?r(Bn({code:t.code,rules:Fa(u),highlighted:"relevance",expanded:["relevance"]})):d.code==="random_group"||d.code==="priority_groups"?t.code=="Survey"?r(Bn({...rR,highlighted:"random"})):r(Bn({code:t.code,rules:Fa(u),highlighted:"random",expanded:["random"]})):d.code.startsWith("skip_to")&&r(Bn({code:t.code,rules:Fa(u),highlighted:"skip_logic",expanded:["skip_logic"]})),""),f=d=>d.code==="conditional_relevance"||d.code==="random_group"||d.code==="priority_groups"||d.code.startsWith("skip_to");return l?T.jsxs(ht,{className:Jb.errorDisplay,children:[a&&a.map(d=>T.jsxs("div",{children:[T.jsx(di,{style:{verticalAlign:"middle"}}),Q2(t.code,d,e)]},d)),o&&o.map(d=>T.jsxs("div",{children:[T.jsx(di,{style:{verticalAlign:"middle"}}),d.message]},d.code)),s&&s.map(d=>T.jsxs("div",{className:f(d)?Jb.clickable:"",onClick:()=>c(d),children:[T.jsx(kE,{style:{verticalAlign:"middle"}}),X2(d,e)]},d.code))]}):T.jsx(T.Fragment,{})}const Q2=(t,e,r)=>e==="EMPTY_PARENT"?r("err_empty_parent",{component_name:Qb(t,r),child_name:Z2(t,r)}):e==="DUPLICATE_CODE"?(r("err_duplicate_code"),{component_name:Qb(t,r)}):e==="NO_END_GROUP"?r("err_no_end_group"):e==="MISPLACED_END_GROUP"?r("err_misplaced_end_group"):e==="MISPLACED_WELCOME_GROUP"?r("err_misplaced_welcome_group"):"",X2=(t,e)=>t.code==="value"&&t.errors[0].name=="InvalidInstructionInEndGroup"?e("err_value_in_end_group"):t.code==="conditional_relevance"?e("err_relevance"):t.code==="random_group"?e("err_random"):t.code==="priority_groups"?e("err_priority"):t.code.startsWith("reference")?T.jsx($a,{t:e,values:{codes:t.errors.map(r=>{var n;return(n=r.dependency)==null?void 0:n.componentCode}).join(", "),lang:t.lang},i18nKey:"err_reference"}):t.code.startsWith("skip_to")?e("err_skip"):"",Qb=(t,e)=>t=="Survey"?e("survey"):os(t)?e("question"):Hi(t)?e("group"):e("option"),Z2=(t,e)=>Hi(t)?e("question"):t=="Survey"?e("group"):e("option"),em=X.memo(J2);var tm={},eN=Dr;Object.defineProperty(tm,"__esModule",{value:!0});var rm=tm.default=void 0,tN=eN(Mr()),rN=T;rm=tm.default=(0,tN.default)((0,rN.jsx)("path",{d:"M4 18h2.5v-2.5H4zm0-4.75h2.5v-2.5H4zM4 8.5h2.5V6H4zM17.5 6v2.5H20V6zM13 8.5h2.5V6H13zm4.5 9.5H20v-2.5h-2.5zm0-4.75H20v-2.5h-2.5zM8.5 18H11v-2.5H8.5zm4.5 0h2.5v-2.5H13zM8.5 8.5H11V6H8.5zm4.5 4.75h2.5v-2.5H13zm-4.5 0H11v-2.5H8.5z"}),"ViewCompact");const nN="_textDescriptionContent_o9cn8_1",iN="_moveBox_o9cn8_7",aN="_groupQuestion_o9cn8_13",oN="_titleContainer_o9cn8_22",sN="_titleQuestion_o9cn8_29",lN="_iconBox_o9cn8_39",uN="_actionToolbarVisible_o9cn8_59",cN="_fadeInMoveRight_o9cn8_1",fN="_contentContainer_o9cn8_64",Qa={textDescriptionContent:nN,moveBox:iN,groupQuestion:aN,titleContainer:oN,titleQuestion:sN,iconBox:lN,actionToolbarVisible:uN,fadeInMoveRight:cN,contentContainer:fN},dN="_fullWidth_1dvff_1",pN="_toolbarClass_1dvff_6",hN="_noPadding_1dvff_12",vN="_placeholder_1dvff_25",xh={fullWidth:dN,toolbarClass:pN,"rdw-editor-toolbar":"_rdw-editor-toolbar_1dvff_6",noPadding:hN,placeholder:vN};function gN(){this.__data__=[],this.size=0}var mN=gN;function yN(t,e){return t===e||t!==t&&e!==e}var _c=yN,bN=_c;function _N(t,e){for(var r=t.length;r--;)if(bN(t[r][0],e))return r;return-1}var ep=_N,SN=ep,ON=Array.prototype,xN=ON.splice;function wN(t){var e=this.__data__,r=SN(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():xN.call(e,r,1),--this.size,!0}var EN=wN,CN=ep;function TN(t){var e=this.__data__,r=CN(e,t);return r<0?void 0:e[r][1]}var kN=TN,IN=ep;function AN(t){return IN(this.__data__,t)>-1}var jN=AN,PN=ep;function LN(t,e){var r=this.__data__,n=PN(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}var FN=LN,RN=mN,$N=EN,NN=kN,DN=jN,MN=FN;function Fl(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Fl.prototype.clear=RN;Fl.prototype.delete=$N;Fl.prototype.get=NN;Fl.prototype.has=DN;Fl.prototype.set=MN;var tp=Fl,VN=tp;function BN(){this.__data__=new VN,this.size=0}var qN=BN;function HN(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}var zN=HN;function UN(t){return this.__data__.get(t)}var WN=UN;function GN(t){return this.__data__.has(t)}var YN=GN,KN=typeof kn=="object"&&kn&&kn.Object===Object&&kn,IE=KN,JN=IE,QN=typeof self=="object"&&self&&self.Object===Object&&self,XN=JN||QN||Function("return this")(),Wi=XN,ZN=Wi,eD=ZN.Symbol,Rl=eD,Xb=Rl,AE=Object.prototype,tD=AE.hasOwnProperty,rD=AE.toString,yu=Xb?Xb.toStringTag:void 0;function nD(t){var e=tD.call(t,yu),r=t[yu];try{t[yu]=void 0;var n=!0}catch(a){}var i=rD.call(t);return n&&(e?t[yu]=r:delete t[yu]),i}var iD=nD,aD=Object.prototype,oD=aD.toString;function sD(t){return oD.call(t)}var lD=sD,Zb=Rl,uD=iD,cD=lD,fD="[object Null]",dD="[object Undefined]",e1=Zb?Zb.toStringTag:void 0;function pD(t){return t==null?t===void 0?dD:fD:e1&&e1 in Object(t)?uD(t):cD(t)}var us=pD;function hD(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var xi=hD,vD=us,gD=xi,mD="[object AsyncFunction]",yD="[object Function]",bD="[object GeneratorFunction]",_D="[object Proxy]";function SD(t){if(!gD(t))return!1;var e=vD(t);return e==yD||e==bD||e==mD||e==_D}var nm=SD,OD=Wi,xD=OD["__core-js_shared__"],wD=xD,wh=wD,t1=function(){var t=/[^.]+$/.exec(wh&&wh.keys&&wh.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function ED(t){return!!t1&&t1 in t}var CD=ED,TD=Function.prototype,kD=TD.toString;function ID(t){if(t!=null){try{return kD.call(t)}catch(e){}try{return t+""}catch(e){}}return""}var jE=ID,AD=nm,jD=CD,PD=xi,LD=jE,FD=/[\\^$.*+?()[\]{}|]/g,RD=/^\[object .+?Constructor\]$/,$D=Function.prototype,ND=Object.prototype,DD=$D.toString,MD=ND.hasOwnProperty,VD=RegExp("^"+DD.call(MD).replace(FD,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function BD(t){if(!PD(t)||jD(t))return!1;var e=AD(t)?VD:RD;return e.test(LD(t))}var qD=BD;function HD(t,e){return t==null?void 0:t[e]}var zD=HD,UD=qD,WD=zD;function GD(t,e){var r=WD(t,e);return UD(r)?r:void 0}var cs=GD,YD=cs,KD=Wi,JD=YD(KD,"Map"),im=JD,QD=cs,XD=QD(Object,"create"),rp=XD,r1=rp;function ZD(){this.__data__=r1?r1(null):{},this.size=0}var eM=ZD;function tM(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var rM=tM,nM=rp,iM="__lodash_hash_undefined__",aM=Object.prototype,oM=aM.hasOwnProperty;function sM(t){var e=this.__data__;if(nM){var r=e[t];return r===iM?void 0:r}return oM.call(e,t)?e[t]:void 0}var lM=sM,uM=rp,cM=Object.prototype,fM=cM.hasOwnProperty;function dM(t){var e=this.__data__;return uM?e[t]!==void 0:fM.call(e,t)}var pM=dM,hM=rp,vM="__lodash_hash_undefined__";function gM(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=hM&&e===void 0?vM:e,this}var mM=gM,yM=eM,bM=rM,_M=lM,SM=pM,OM=mM;function $l(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}$l.prototype.clear=yM;$l.prototype.delete=bM;$l.prototype.get=_M;$l.prototype.has=SM;$l.prototype.set=OM;var xM=$l,n1=xM,wM=tp,EM=im;function CM(){this.size=0,this.__data__={hash:new n1,map:new(EM||wM),string:new n1}}var TM=CM;function kM(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var IM=kM,AM=IM;function jM(t,e){var r=t.__data__;return AM(e)?r[typeof e=="string"?"string":"hash"]:r.map}var np=jM,PM=np;function LM(t){var e=PM(this,t).delete(t);return this.size-=e?1:0,e}var FM=LM,RM=np;function $M(t){return RM(this,t).get(t)}var NM=$M,DM=np;function MM(t){return DM(this,t).has(t)}var VM=MM,BM=np;function qM(t,e){var r=BM(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}var HM=qM,zM=TM,UM=FM,WM=NM,GM=VM,YM=HM;function Nl(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Nl.prototype.clear=zM;Nl.prototype.delete=UM;Nl.prototype.get=WM;Nl.prototype.has=GM;Nl.prototype.set=YM;var am=Nl,KM=tp,JM=im,QM=am,XM=200;function ZM(t,e){var r=this.__data__;if(r instanceof KM){var n=r.__data__;if(!JM||n.length<XM-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new QM(n)}return r.set(t,e),this.size=r.size,this}var eV=ZM,tV=tp,rV=qN,nV=zN,iV=WN,aV=YN,oV=eV;function Dl(t){var e=this.__data__=new tV(t);this.size=e.size}Dl.prototype.clear=rV;Dl.prototype.delete=nV;Dl.prototype.get=iV;Dl.prototype.has=aV;Dl.prototype.set=oV;var ip=Dl,sV="__lodash_hash_undefined__";function lV(t){return this.__data__.set(t,sV),this}var uV=lV;function cV(t){return this.__data__.has(t)}var fV=cV,dV=am,pV=uV,hV=fV;function ld(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new dV;++e<r;)this.add(t[e])}ld.prototype.add=ld.prototype.push=pV;ld.prototype.has=hV;var vV=ld;function gV(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}var mV=gV;function yV(t,e){return t.has(e)}var bV=yV,_V=vV,SV=mV,OV=bV,xV=1,wV=2;function EV(t,e,r,n,i,a){var o=r&xV,s=t.length,l=e.length;if(s!=l&&!(o&&l>s))return!1;var u=a.get(t),c=a.get(e);if(u&&c)return u==e&&c==t;var f=-1,d=!0,p=r&wV?new _V:void 0;for(a.set(t,e),a.set(e,t);++f<s;){var v=t[f],h=e[f];if(n)var g=o?n(h,v,f,e,t,a):n(v,h,f,t,e,a);if(g!==void 0){if(g)continue;d=!1;break}if(p){if(!SV(e,function(y,m){if(!OV(p,m)&&(v===y||i(v,y,r,n,a)))return p.push(m)})){d=!1;break}}else if(!(v===h||i(v,h,r,n,a))){d=!1;break}}return a.delete(t),a.delete(e),d}var PE=EV,CV=Wi,TV=CV.Uint8Array,LE=TV;function kV(t){var e=-1,r=Array(t.size);return t.forEach(function(n,i){r[++e]=[i,n]}),r}var IV=kV;function AV(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r}var jV=AV,i1=Rl,a1=LE,PV=_c,LV=PE,FV=IV,RV=jV,$V=1,NV=2,DV="[object Boolean]",MV="[object Date]",VV="[object Error]",BV="[object Map]",qV="[object Number]",HV="[object RegExp]",zV="[object Set]",UV="[object String]",WV="[object Symbol]",GV="[object ArrayBuffer]",YV="[object DataView]",o1=i1?i1.prototype:void 0,Eh=o1?o1.valueOf:void 0;function KV(t,e,r,n,i,a,o){switch(r){case YV:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case GV:return!(t.byteLength!=e.byteLength||!a(new a1(t),new a1(e)));case DV:case MV:case qV:return PV(+t,+e);case VV:return t.name==e.name&&t.message==e.message;case HV:case UV:return t==e+"";case BV:var s=FV;case zV:var l=n&$V;if(s||(s=RV),t.size!=e.size&&!l)return!1;var u=o.get(t);if(u)return u==e;n|=NV,o.set(t,e);var c=LV(s(t),s(e),n,i,a,o);return o.delete(t),c;case WV:if(Eh)return Eh.call(t)==Eh.call(e)}return!1}var JV=KV;function QV(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}var om=QV,XV=Array.isArray,ti=XV,ZV=om,e5=ti;function t5(t,e,r){var n=e(t);return e5(t)?n:ZV(n,r(t))}var FE=t5;function r5(t,e){for(var r=-1,n=t==null?0:t.length,i=0,a=[];++r<n;){var o=t[r];e(o,r,t)&&(a[i++]=o)}return a}var n5=r5;function i5(){return[]}var RE=i5,a5=n5,o5=RE,s5=Object.prototype,l5=s5.propertyIsEnumerable,s1=Object.getOwnPropertySymbols,u5=s1?function(t){return t==null?[]:(t=Object(t),a5(s1(t),function(e){return l5.call(t,e)}))}:o5,sm=u5;function c5(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}var f5=c5;function d5(t){return t!=null&&typeof t=="object"}var ya=d5,p5=us,h5=ya,v5="[object Arguments]";function g5(t){return h5(t)&&p5(t)==v5}var m5=g5,l1=m5,y5=ya,$E=Object.prototype,b5=$E.hasOwnProperty,_5=$E.propertyIsEnumerable,S5=l1(function(){return arguments}())?l1:function(t){return y5(t)&&b5.call(t,"callee")&&!_5.call(t,"callee")},ap=S5,ud={exports:{}};function O5(){return!1}var x5=O5;ud.exports;(function(t,e){var r=Wi,n=x5,i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,o=a&&a.exports===i,s=o?r.Buffer:void 0,l=s?s.isBuffer:void 0,u=l||n;t.exports=u})(ud,ud.exports);var op=ud.exports,w5=9007199254740991,E5=/^(?:0|[1-9]\d*)$/;function C5(t,e){var r=typeof t;return e=e==null?w5:e,!!e&&(r=="number"||r!="symbol"&&E5.test(t))&&t>-1&&t%1==0&&t<e}var sp=C5,T5=9007199254740991;function k5(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=T5}var lm=k5,I5=us,A5=lm,j5=ya,P5="[object Arguments]",L5="[object Array]",F5="[object Boolean]",R5="[object Date]",$5="[object Error]",N5="[object Function]",D5="[object Map]",M5="[object Number]",V5="[object Object]",B5="[object RegExp]",q5="[object Set]",H5="[object String]",z5="[object WeakMap]",U5="[object ArrayBuffer]",W5="[object DataView]",G5="[object Float32Array]",Y5="[object Float64Array]",K5="[object Int8Array]",J5="[object Int16Array]",Q5="[object Int32Array]",X5="[object Uint8Array]",Z5="[object Uint8ClampedArray]",e3="[object Uint16Array]",t3="[object Uint32Array]",fr={};fr[G5]=fr[Y5]=fr[K5]=fr[J5]=fr[Q5]=fr[X5]=fr[Z5]=fr[e3]=fr[t3]=!0;fr[P5]=fr[L5]=fr[U5]=fr[F5]=fr[W5]=fr[R5]=fr[$5]=fr[N5]=fr[D5]=fr[M5]=fr[V5]=fr[B5]=fr[q5]=fr[H5]=fr[z5]=!1;function r3(t){return j5(t)&&A5(t.length)&&!!fr[I5(t)]}var n3=r3;function i3(t){return function(e){return t(e)}}var um=i3,cd={exports:{}};cd.exports;(function(t,e){var r=IE,n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===n,o=a&&r.process,s=function(){try{var l=i&&i.require&&i.require("util").types;return l||o&&o.binding&&o.binding("util")}catch(u){}}();t.exports=s})(cd,cd.exports);var cm=cd.exports,a3=n3,o3=um,u1=cm,c1=u1&&u1.isTypedArray,s3=c1?o3(c1):a3,fm=s3,l3=f5,u3=ap,c3=ti,f3=op,d3=sp,p3=fm,h3=Object.prototype,v3=h3.hasOwnProperty;function g3(t,e){var r=c3(t),n=!r&&u3(t),i=!r&&!n&&f3(t),a=!r&&!n&&!i&&p3(t),o=r||n||i||a,s=o?l3(t.length,String):[],l=s.length;for(var u in t)(e||v3.call(t,u))&&!(o&&(u=="length"||i&&(u=="offset"||u=="parent")||a&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||d3(u,l)))&&s.push(u);return s}var NE=g3,m3=Object.prototype;function y3(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||m3;return t===r}var dm=y3;function b3(t,e){return function(r){return t(e(r))}}var DE=b3,_3=DE,S3=_3(Object.keys,Object),O3=S3,x3=dm,w3=O3,E3=Object.prototype,C3=E3.hasOwnProperty;function T3(t){if(!x3(t))return w3(t);var e=[];for(var r in Object(t))C3.call(t,r)&&r!="constructor"&&e.push(r);return e}var k3=T3,I3=nm,A3=lm;function j3(t){return t!=null&&A3(t.length)&&!I3(t)}var Ml=j3,P3=NE,L3=k3,F3=Ml;function R3(t){return F3(t)?P3(t):L3(t)}var Vl=R3;const bl=en(Vl);var $3=FE,N3=sm,D3=Vl;function M3(t){return $3(t,D3,N3)}var ME=M3,f1=ME,V3=1,B3=Object.prototype,q3=B3.hasOwnProperty;function H3(t,e,r,n,i,a){var o=r&V3,s=f1(t),l=s.length,u=f1(e),c=u.length;if(l!=c&&!o)return!1;for(var f=l;f--;){var d=s[f];if(!(o?d in e:q3.call(e,d)))return!1}var p=a.get(t),v=a.get(e);if(p&&v)return p==e&&v==t;var h=!0;a.set(t,e),a.set(e,t);for(var g=o;++f<l;){d=s[f];var y=t[d],m=e[d];if(n)var _=o?n(m,y,d,e,t,a):n(y,m,d,t,e,a);if(!(_===void 0?y===m||i(y,m,r,n,a):_)){h=!1;break}g||(g=d=="constructor")}if(h&&!g){var b=t.constructor,S=e.constructor;b!=S&&"constructor"in t&&"constructor"in e&&!(typeof b=="function"&&b instanceof b&&typeof S=="function"&&S instanceof S)&&(h=!1)}return a.delete(t),a.delete(e),h}var z3=H3,U3=cs,W3=Wi,G3=U3(W3,"DataView"),Y3=G3,K3=cs,J3=Wi,Q3=K3(J3,"Promise"),X3=Q3,Z3=cs,e4=Wi,t4=Z3(e4,"Set"),r4=t4,n4=cs,i4=Wi,a4=n4(i4,"WeakMap"),o4=a4,Ev=Y3,Cv=im,Tv=X3,kv=r4,Iv=o4,VE=us,Bl=jE,d1="[object Map]",s4="[object Object]",p1="[object Promise]",h1="[object Set]",v1="[object WeakMap]",g1="[object DataView]",l4=Bl(Ev),u4=Bl(Cv),c4=Bl(Tv),f4=Bl(kv),d4=Bl(Iv),Mo=VE;(Ev&&Mo(new Ev(new ArrayBuffer(1)))!=g1||Cv&&Mo(new Cv)!=d1||Tv&&Mo(Tv.resolve())!=p1||kv&&Mo(new kv)!=h1||Iv&&Mo(new Iv)!=v1)&&(Mo=function(t){var e=VE(t),r=e==s4?t.constructor:void 0,n=r?Bl(r):"";if(n)switch(n){case l4:return g1;case u4:return d1;case c4:return p1;case f4:return h1;case d4:return v1}return e});var lp=Mo,Ch=ip,p4=PE,h4=JV,v4=z3,m1=lp,y1=ti,b1=op,g4=fm,m4=1,_1="[object Arguments]",S1="[object Array]",gf="[object Object]",y4=Object.prototype,O1=y4.hasOwnProperty;function b4(t,e,r,n,i,a){var o=y1(t),s=y1(e),l=o?S1:m1(t),u=s?S1:m1(e);l=l==_1?gf:l,u=u==_1?gf:u;var c=l==gf,f=u==gf,d=l==u;if(d&&b1(t)){if(!b1(e))return!1;o=!0,c=!1}if(d&&!c)return a||(a=new Ch),o||g4(t)?p4(t,e,r,n,i,a):h4(t,e,l,r,n,i,a);if(!(r&m4)){var p=c&&O1.call(t,"__wrapped__"),v=f&&O1.call(e,"__wrapped__");if(p||v){var h=p?t.value():t,g=v?e.value():e;return a||(a=new Ch),i(h,g,r,n,a)}}return d?(a||(a=new Ch),v4(t,e,r,n,i,a)):!1}var _4=b4,S4=_4,x1=ya;function BE(t,e,r,n,i){return t===e?!0:t==null||e==null||!x1(t)&&!x1(e)?t!==t&&e!==e:S4(t,e,r,n,BE,i)}var pm=BE,O4=pm;function x4(t,e){return O4(t,e)}var w4=x4,qE={exports:{}};/*!
 * Quill Editor v1.3.7
 * https://quilljs.com/
 * Copyright (c) 2014, Jason Chen
 * Copyright (c) 2013, salesforce.com
 */(function(t,e){(function(n,i){t.exports=i()})(typeof self<"u"?self:kn,function(){return function(r){var n={};function i(a){if(n[a])return n[a].exports;var o=n[a]={i:a,l:!1,exports:{}};return r[a].call(o.exports,o,o.exports,i),o.l=!0,o.exports}return i.m=r,i.c=n,i.d=function(a,o,s){i.o(a,o)||Object.defineProperty(a,o,{configurable:!1,enumerable:!0,get:s})},i.n=function(a){var o=a&&a.__esModule?function(){return a.default}:function(){return a};return i.d(o,"a",o),o},i.o=function(a,o){return Object.prototype.hasOwnProperty.call(a,o)},i.p="",i(i.s=109)}([function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(17),o=i(18),s=i(19),l=i(45),u=i(46),c=i(47),f=i(48),d=i(49),p=i(12),v=i(32),h=i(33),g=i(31),y=i(1),m={Scope:y.Scope,create:y.create,find:y.find,query:y.query,register:y.register,Container:a.default,Format:o.default,Leaf:s.default,Embed:f.default,Scroll:l.default,Block:c.default,Inline:u.default,Text:d.default,Attributor:{Attribute:p.default,Class:v.default,Style:h.default,Store:g.default}};n.default=m},function(r,n,i){var a=this&&this.__extends||function(){var g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,m){y.__proto__=m}||function(y,m){for(var _ in m)m.hasOwnProperty(_)&&(y[_]=m[_])};return function(y,m){g(y,m);function _(){this.constructor=y}y.prototype=m===null?Object.create(m):(_.prototype=m.prototype,new _)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=function(g){a(y,g);function y(m){var _=this;return m="[Parchment] "+m,_=g.call(this,m)||this,_.message=m,_.name=_.constructor.name,_}return y}(Error);n.ParchmentError=o;var s={},l={},u={},c={};n.DATA_KEY="__blot";var f;(function(g){g[g.TYPE=3]="TYPE",g[g.LEVEL=12]="LEVEL",g[g.ATTRIBUTE=13]="ATTRIBUTE",g[g.BLOT=14]="BLOT",g[g.INLINE=7]="INLINE",g[g.BLOCK=11]="BLOCK",g[g.BLOCK_BLOT=10]="BLOCK_BLOT",g[g.INLINE_BLOT=6]="INLINE_BLOT",g[g.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",g[g.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",g[g.ANY=15]="ANY"})(f=n.Scope||(n.Scope={}));function d(g,y){var m=v(g);if(m==null)throw new o("Unable to create "+g+" blot");var _=m,b=g instanceof Node||g.nodeType===Node.TEXT_NODE?g:_.create(y);return new _(b,y)}n.create=d;function p(g,y){return y===void 0&&(y=!1),g==null?null:g[n.DATA_KEY]!=null?g[n.DATA_KEY].blot:y?p(g.parentNode,y):null}n.find=p;function v(g,y){y===void 0&&(y=f.ANY);var m;if(typeof g=="string")m=c[g]||s[g];else if(g instanceof Text||g.nodeType===Node.TEXT_NODE)m=c.text;else if(typeof g=="number")g&f.LEVEL&f.BLOCK?m=c.block:g&f.LEVEL&f.INLINE&&(m=c.inline);else if(g instanceof HTMLElement){var _=(g.getAttribute("class")||"").split(/\s+/);for(var b in _)if(m=l[_[b]],m)break;m=m||u[g.tagName]}return m==null?null:y&f.LEVEL&m.scope&&y&f.TYPE&m.scope?m:null}n.query=v;function h(){for(var g=[],y=0;y<arguments.length;y++)g[y]=arguments[y];if(g.length>1)return g.map(function(b){return h(b)});var m=g[0];if(typeof m.blotName!="string"&&typeof m.attrName!="string")throw new o("Invalid definition");if(m.blotName==="abstract")throw new o("Cannot register abstract class");if(c[m.blotName||m.attrName]=m,typeof m.keyName=="string")s[m.keyName]=m;else if(m.className!=null&&(l[m.className]=m),m.tagName!=null){Array.isArray(m.tagName)?m.tagName=m.tagName.map(function(b){return b.toUpperCase()}):m.tagName=m.tagName.toUpperCase();var _=Array.isArray(m.tagName)?m.tagName:[m.tagName];_.forEach(function(b){(u[b]==null||m.className==null)&&(u[b]=m)})}return m}n.register=h},function(r,n,i){var a=i(51),o=i(11),s=i(3),l=i(20),u="\0",c=function(f){Array.isArray(f)?this.ops=f:f!=null&&Array.isArray(f.ops)?this.ops=f.ops:this.ops=[]};c.prototype.insert=function(f,d){var p={};return f.length===0?this:(p.insert=f,d!=null&&typeof d=="object"&&Object.keys(d).length>0&&(p.attributes=d),this.push(p))},c.prototype.delete=function(f){return f<=0?this:this.push({delete:f})},c.prototype.retain=function(f,d){if(f<=0)return this;var p={retain:f};return d!=null&&typeof d=="object"&&Object.keys(d).length>0&&(p.attributes=d),this.push(p)},c.prototype.push=function(f){var d=this.ops.length,p=this.ops[d-1];if(f=s(!0,{},f),typeof p=="object"){if(typeof f.delete=="number"&&typeof p.delete=="number")return this.ops[d-1]={delete:p.delete+f.delete},this;if(typeof p.delete=="number"&&f.insert!=null&&(d-=1,p=this.ops[d-1],typeof p!="object"))return this.ops.unshift(f),this;if(o(f.attributes,p.attributes)){if(typeof f.insert=="string"&&typeof p.insert=="string")return this.ops[d-1]={insert:p.insert+f.insert},typeof f.attributes=="object"&&(this.ops[d-1].attributes=f.attributes),this;if(typeof f.retain=="number"&&typeof p.retain=="number")return this.ops[d-1]={retain:p.retain+f.retain},typeof f.attributes=="object"&&(this.ops[d-1].attributes=f.attributes),this}}return d===this.ops.length?this.ops.push(f):this.ops.splice(d,0,f),this},c.prototype.chop=function(){var f=this.ops[this.ops.length-1];return f&&f.retain&&!f.attributes&&this.ops.pop(),this},c.prototype.filter=function(f){return this.ops.filter(f)},c.prototype.forEach=function(f){this.ops.forEach(f)},c.prototype.map=function(f){return this.ops.map(f)},c.prototype.partition=function(f){var d=[],p=[];return this.forEach(function(v){var h=f(v)?d:p;h.push(v)}),[d,p]},c.prototype.reduce=function(f,d){return this.ops.reduce(f,d)},c.prototype.changeLength=function(){return this.reduce(function(f,d){return d.insert?f+l.length(d):d.delete?f-d.delete:f},0)},c.prototype.length=function(){return this.reduce(function(f,d){return f+l.length(d)},0)},c.prototype.slice=function(f,d){f=f||0,typeof d!="number"&&(d=1/0);for(var p=[],v=l.iterator(this.ops),h=0;h<d&&v.hasNext();){var g;h<f?g=v.next(f-h):(g=v.next(d-h),p.push(g)),h+=l.length(g)}return new c(p)},c.prototype.compose=function(f){var d=l.iterator(this.ops),p=l.iterator(f.ops),v=[],h=p.peek();if(h!=null&&typeof h.retain=="number"&&h.attributes==null){for(var g=h.retain;d.peekType()==="insert"&&d.peekLength()<=g;)g-=d.peekLength(),v.push(d.next());h.retain-g>0&&p.next(h.retain-g)}for(var y=new c(v);d.hasNext()||p.hasNext();)if(p.peekType()==="insert")y.push(p.next());else if(d.peekType()==="delete")y.push(d.next());else{var m=Math.min(d.peekLength(),p.peekLength()),_=d.next(m),b=p.next(m);if(typeof b.retain=="number"){var S={};typeof _.retain=="number"?S.retain=m:S.insert=_.insert;var O=l.attributes.compose(_.attributes,b.attributes,typeof _.retain=="number");if(O&&(S.attributes=O),y.push(S),!p.hasNext()&&o(y.ops[y.ops.length-1],S)){var x=new c(d.rest());return y.concat(x).chop()}}else typeof b.delete=="number"&&typeof _.retain=="number"&&y.push(b)}return y.chop()},c.prototype.concat=function(f){var d=new c(this.ops.slice());return f.ops.length>0&&(d.push(f.ops[0]),d.ops=d.ops.concat(f.ops.slice(1))),d},c.prototype.diff=function(f,d){if(this.ops===f.ops)return new c;var p=[this,f].map(function(m){return m.map(function(_){if(_.insert!=null)return typeof _.insert=="string"?_.insert:u;var b=m===f?"on":"with";throw new Error("diff() called "+b+" non-document")}).join("")}),v=new c,h=a(p[0],p[1],d),g=l.iterator(this.ops),y=l.iterator(f.ops);return h.forEach(function(m){for(var _=m[1].length;_>0;){var b=0;switch(m[0]){case a.INSERT:b=Math.min(y.peekLength(),_),v.push(y.next(b));break;case a.DELETE:b=Math.min(_,g.peekLength()),g.next(b),v.delete(b);break;case a.EQUAL:b=Math.min(g.peekLength(),y.peekLength(),_);var S=g.next(b),O=y.next(b);o(S.insert,O.insert)?v.retain(b,l.attributes.diff(S.attributes,O.attributes)):v.push(O).delete(b);break}_-=b}}),v.chop()},c.prototype.eachLine=function(f,d){d=d||"\n";for(var p=l.iterator(this.ops),v=new c,h=0;p.hasNext();){if(p.peekType()!=="insert")return;var g=p.peek(),y=l.length(g)-p.peekLength(),m=typeof g.insert=="string"?g.insert.indexOf(d,y)-y:-1;if(m<0)v.push(p.next());else if(m>0)v.push(p.next(m));else{if(f(v,p.next(1).attributes||{},h)===!1)return;h+=1,v=new c}}v.length()>0&&f(v,{},h)},c.prototype.transform=function(f,d){if(d=!!d,typeof f=="number")return this.transformPosition(f,d);for(var p=l.iterator(this.ops),v=l.iterator(f.ops),h=new c;p.hasNext()||v.hasNext();)if(p.peekType()==="insert"&&(d||v.peekType()!=="insert"))h.retain(l.length(p.next()));else if(v.peekType()==="insert")h.push(v.next());else{var g=Math.min(p.peekLength(),v.peekLength()),y=p.next(g),m=v.next(g);if(y.delete)continue;m.delete?h.push(m):h.retain(g,l.attributes.transform(y.attributes,m.attributes,d))}return h.chop()},c.prototype.transformPosition=function(f,d){d=!!d;for(var p=l.iterator(this.ops),v=0;p.hasNext()&&v<=f;){var h=p.peekLength(),g=p.peekType();if(p.next(),g==="delete"){f-=Math.min(h,f-v);continue}else g==="insert"&&(v<f||!d)&&(f+=h);v+=h}return f},r.exports=c},function(r,n){var i=Object.prototype.hasOwnProperty,a=Object.prototype.toString,o=Object.defineProperty,s=Object.getOwnPropertyDescriptor,l=function(p){return typeof Array.isArray=="function"?Array.isArray(p):a.call(p)==="[object Array]"},u=function(p){if(!p||a.call(p)!=="[object Object]")return!1;var v=i.call(p,"constructor"),h=p.constructor&&p.constructor.prototype&&i.call(p.constructor.prototype,"isPrototypeOf");if(p.constructor&&!v&&!h)return!1;var g;for(g in p);return typeof g>"u"||i.call(p,g)},c=function(p,v){o&&v.name==="__proto__"?o(p,v.name,{enumerable:!0,configurable:!0,value:v.newValue,writable:!0}):p[v.name]=v.newValue},f=function(p,v){if(v==="__proto__")if(i.call(p,v)){if(s)return s(p,v).value}else return;return p[v]};r.exports=function d(){var p,v,h,g,y,m,_=arguments[0],b=1,S=arguments.length,O=!1;for(typeof _=="boolean"&&(O=_,_=arguments[1]||{},b=2),(_==null||typeof _!="object"&&typeof _!="function")&&(_={});b<S;++b)if(p=arguments[b],p!=null)for(v in p)h=f(_,v),g=f(p,v),_!==g&&(O&&g&&(u(g)||(y=l(g)))?(y?(y=!1,m=h&&l(h)?h:[]):m=h&&u(h)?h:{},c(_,{name:v,newValue:d(O,m,g)})):typeof g<"u"&&c(_,{name:v,newValue:g}));return _}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.BlockEmbed=n.bubbleFormats=void 0;var a=function(){function k(w,I){for(var L=0;L<I.length;L++){var P=I[L];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(w,P.key,P)}}return function(w,I,L){return I&&k(w.prototype,I),L&&k(w,L),w}}(),o=function k(w,I,L){w===null&&(w=Function.prototype);var P=Object.getOwnPropertyDescriptor(w,I);if(P===void 0){var V=Object.getPrototypeOf(w);return V===null?void 0:k(V,I,L)}else{if("value"in P)return P.value;var $=P.get;return $===void 0?void 0:$.call(L)}},s=i(3),l=_(s),u=i(2),c=_(u),f=i(0),d=_(f),p=i(16),v=_(p),h=i(6),g=_(h),y=i(7),m=_(y);function _(k){return k&&k.__esModule?k:{default:k}}function b(k,w){if(!(k instanceof w))throw new TypeError("Cannot call a class as a function")}function S(k,w){if(!k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:k}function O(k,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);k.prototype=Object.create(w&&w.prototype,{constructor:{value:k,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(k,w):k.__proto__=w)}var x=1,E=function(k){O(w,k);function w(){return b(this,w),S(this,(w.__proto__||Object.getPrototypeOf(w)).apply(this,arguments))}return a(w,[{key:"attach",value:function(){o(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"attach",this).call(this),this.attributes=new d.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return new c.default().insert(this.value(),(0,l.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(L,P){var V=d.default.query(L,d.default.Scope.BLOCK_ATTRIBUTE);V!=null&&this.attributes.attribute(V,P)}},{key:"formatAt",value:function(L,P,V,$){this.format(V,$)}},{key:"insertAt",value:function(L,P,V){if(typeof P=="string"&&P.endsWith("\n")){var $=d.default.create(A.blotName);this.parent.insertBefore($,L===0?this:this.next),$.insertAt(0,P.slice(0,-1))}else o(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"insertAt",this).call(this,L,P,V)}}]),w}(d.default.Embed);E.scope=d.default.Scope.BLOCK_BLOT;var A=function(k){O(w,k);function w(I){b(this,w);var L=S(this,(w.__proto__||Object.getPrototypeOf(w)).call(this,I));return L.cache={},L}return a(w,[{key:"delta",value:function(){return this.cache.delta==null&&(this.cache.delta=this.descendants(d.default.Leaf).reduce(function(L,P){return P.length()===0?L:L.insert(P.value(),C(P))},new c.default).insert("\n",C(this))),this.cache.delta}},{key:"deleteAt",value:function(L,P){o(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"deleteAt",this).call(this,L,P),this.cache={}}},{key:"formatAt",value:function(L,P,V,$){P<=0||(d.default.query(V,d.default.Scope.BLOCK)?L+P===this.length()&&this.format(V,$):o(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"formatAt",this).call(this,L,Math.min(P,this.length()-L-1),V,$),this.cache={})}},{key:"insertAt",value:function(L,P,V){if(V!=null)return o(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"insertAt",this).call(this,L,P,V);if(P.length!==0){var $=P.split("\n"),U=$.shift();U.length>0&&(L<this.length()-1||this.children.tail==null?o(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"insertAt",this).call(this,Math.min(L,this.length()-1),U):this.children.tail.insertAt(this.children.tail.length(),U),this.cache={});var M=this;$.reduce(function(R,F){return M=M.split(R,!0),M.insertAt(0,F),F.length},L+U.length)}}},{key:"insertBefore",value:function(L,P){var V=this.children.head;o(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"insertBefore",this).call(this,L,P),V instanceof v.default&&V.remove(),this.cache={}}},{key:"length",value:function(){return this.cache.length==null&&(this.cache.length=o(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"length",this).call(this)+x),this.cache.length}},{key:"moveChildren",value:function(L,P){o(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"moveChildren",this).call(this,L,P),this.cache={}}},{key:"optimize",value:function(L){o(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"optimize",this).call(this,L),this.cache={}}},{key:"path",value:function(L){return o(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"path",this).call(this,L,!0)}},{key:"removeChild",value:function(L){o(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"removeChild",this).call(this,L),this.cache={}}},{key:"split",value:function(L){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(P&&(L===0||L>=this.length()-x)){var V=this.clone();return L===0?(this.parent.insertBefore(V,this),this):(this.parent.insertBefore(V,this.next),V)}else{var $=o(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"split",this).call(this,L,P);return this.cache={},$}}}]),w}(d.default.Block);A.blotName="block",A.tagName="P",A.defaultChild="break",A.allowedChildren=[g.default,d.default.Embed,m.default];function C(k){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return k==null||(typeof k.formats=="function"&&(w=(0,l.default)(w,k.formats())),k.parent==null||k.parent.blotName=="scroll"||k.parent.statics.scope!==k.statics.scope)?w:C(k.parent,w)}n.bubbleFormats=C,n.BlockEmbed=E,n.default=A},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.overload=n.expandConfig=void 0;var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(M){return typeof M}:function(M){return M&&typeof Symbol=="function"&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M},o=function(){function M(R,F){var N=[],B=!0,q=!1,W=void 0;try{for(var D=R[Symbol.iterator](),G;!(B=(G=D.next()).done)&&(N.push(G.value),!(F&&N.length===F));B=!0);}catch(H){q=!0,W=H}finally{try{!B&&D.return&&D.return()}finally{if(q)throw W}}return N}return function(R,F){if(Array.isArray(R))return R;if(Symbol.iterator in Object(R))return M(R,F);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function M(R,F){for(var N=0;N<F.length;N++){var B=F[N];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(R,B.key,B)}}return function(R,F,N){return F&&M(R.prototype,F),N&&M(R,N),R}}();i(50);var l=i(2),u=C(l),c=i(14),f=C(c),d=i(8),p=C(d),v=i(9),h=C(v),g=i(0),y=C(g),m=i(15),_=C(m),b=i(3),S=C(b),O=i(10),x=C(O),E=i(34),A=C(E);function C(M){return M&&M.__esModule?M:{default:M}}function k(M,R,F){return R in M?Object.defineProperty(M,R,{value:F,enumerable:!0,configurable:!0,writable:!0}):M[R]=F,M}function w(M,R){if(!(M instanceof R))throw new TypeError("Cannot call a class as a function")}var I=(0,x.default)("quill"),L=function(){s(M,null,[{key:"debug",value:function(F){F===!0&&(F="log"),x.default.level(F)}},{key:"find",value:function(F){return F.__quill||y.default.find(F)}},{key:"import",value:function(F){return this.imports[F]==null&&I.error("Cannot import "+F+". Are you sure it was registered?"),this.imports[F]}},{key:"register",value:function(F,N){var B=this,q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(typeof F!="string"){var W=F.attrName||F.blotName;typeof W=="string"?this.register("formats/"+W,F,N):Object.keys(F).forEach(function(D){B.register(D,F[D],N)})}else this.imports[F]!=null&&!q&&I.warn("Overwriting "+F+" with",N),this.imports[F]=N,(F.startsWith("blots/")||F.startsWith("formats/"))&&N.blotName!=="abstract"?y.default.register(N):F.startsWith("modules")&&typeof N.register=="function"&&N.register()}}]);function M(R){var F=this,N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(w(this,M),this.options=P(R,N),this.container=this.options.container,this.container==null)return I.error("Invalid Quill container",R);this.options.debug&&M.debug(this.options.debug);var B=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new p.default,this.scroll=y.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new f.default(this.scroll),this.selection=new _.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(p.default.events.EDITOR_CHANGE,function(W){W===p.default.events.TEXT_CHANGE&&F.root.classList.toggle("ql-blank",F.editor.isBlank())}),this.emitter.on(p.default.events.SCROLL_UPDATE,function(W,D){var G=F.selection.lastRange,H=G&&G.length===0?G.index:void 0;V.call(F,function(){return F.editor.update(null,D,H)},W)});var q=this.clipboard.convert("<div class='ql-editor' style=\"white-space: normal;\">"+B+"<p><br></p></div>");this.setContents(q),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return s(M,[{key:"addContainer",value:function(F){var N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof F=="string"){var B=F;F=document.createElement("div"),F.classList.add(B)}return this.container.insertBefore(F,N),F}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(F,N,B){var q=this,W=$(F,N,B),D=o(W,4);return F=D[0],N=D[1],B=D[3],V.call(this,function(){return q.editor.deleteText(F,N)},B,F,-1*N)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(F),this.container.classList.toggle("ql-disabled",!F)}},{key:"focus",value:function(){var F=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=F,this.scrollIntoView()}},{key:"format",value:function(F,N){var B=this,q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:p.default.sources.API;return V.call(this,function(){var W=B.getSelection(!0),D=new u.default;if(W==null)return D;if(y.default.query(F,y.default.Scope.BLOCK))D=B.editor.formatLine(W.index,W.length,k({},F,N));else{if(W.length===0)return B.selection.format(F,N),D;D=B.editor.formatText(W.index,W.length,k({},F,N))}return B.setSelection(W,p.default.sources.SILENT),D},q)}},{key:"formatLine",value:function(F,N,B,q,W){var D=this,G=void 0,H=$(F,N,B,q,W),Y=o(H,4);return F=Y[0],N=Y[1],G=Y[2],W=Y[3],V.call(this,function(){return D.editor.formatLine(F,N,G)},W,F,0)}},{key:"formatText",value:function(F,N,B,q,W){var D=this,G=void 0,H=$(F,N,B,q,W),Y=o(H,4);return F=Y[0],N=Y[1],G=Y[2],W=Y[3],V.call(this,function(){return D.editor.formatText(F,N,G)},W,F,0)}},{key:"getBounds",value:function(F){var N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,B=void 0;typeof F=="number"?B=this.selection.getBounds(F,N):B=this.selection.getBounds(F.index,F.length);var q=this.container.getBoundingClientRect();return{bottom:B.bottom-q.top,height:B.height,left:B.left-q.left,right:B.right-q.left,top:B.top-q.top,width:B.width}}},{key:"getContents",value:function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-F,B=$(F,N),q=o(B,2);return F=q[0],N=q[1],this.editor.getContents(F,N)}},{key:"getFormat",value:function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof F=="number"?this.editor.getFormat(F,N):this.editor.getFormat(F.index,F.length)}},{key:"getIndex",value:function(F){return F.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(F){return this.scroll.leaf(F)}},{key:"getLine",value:function(F){return this.scroll.line(F)}},{key:"getLines",value:function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof F!="number"?this.scroll.lines(F.index,F.length):this.scroll.lines(F,N)}},{key:"getModule",value:function(F){return this.theme.modules[F]}},{key:"getSelection",value:function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return F&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-F,B=$(F,N),q=o(B,2);return F=q[0],N=q[1],this.editor.getText(F,N)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(F,N,B){var q=this,W=arguments.length>3&&arguments[3]!==void 0?arguments[3]:M.sources.API;return V.call(this,function(){return q.editor.insertEmbed(F,N,B)},W,F)}},{key:"insertText",value:function(F,N,B,q,W){var D=this,G=void 0,H=$(F,0,B,q,W),Y=o(H,4);return F=Y[0],G=Y[2],W=Y[3],V.call(this,function(){return D.editor.insertText(F,N,G)},W,F,N.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(F,N,B){this.clipboard.dangerouslyPasteHTML(F,N,B)}},{key:"removeFormat",value:function(F,N,B){var q=this,W=$(F,N,B),D=o(W,4);return F=D[0],N=D[1],B=D[3],V.call(this,function(){return q.editor.removeFormat(F,N)},B,F)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(F){var N=this,B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:p.default.sources.API;return V.call(this,function(){F=new u.default(F);var q=N.getLength(),W=N.editor.deleteText(0,q),D=N.editor.applyDelta(F),G=D.ops[D.ops.length-1];G!=null&&typeof G.insert=="string"&&G.insert[G.insert.length-1]==="\n"&&(N.editor.deleteText(N.getLength()-1,1),D.delete(1));var H=W.compose(D);return H},B)}},{key:"setSelection",value:function(F,N,B){if(F==null)this.selection.setRange(null,N||M.sources.API);else{var q=$(F,N,B),W=o(q,4);F=W[0],N=W[1],B=W[3],this.selection.setRange(new m.Range(F,N),B),B!==p.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(F){var N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:p.default.sources.API,B=new u.default().insert(F);return this.setContents(B,N)}},{key:"update",value:function(){var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:p.default.sources.USER,N=this.scroll.update(F);return this.selection.update(F),N}},{key:"updateContents",value:function(F){var N=this,B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:p.default.sources.API;return V.call(this,function(){return F=new u.default(F),N.editor.applyDelta(F,B)},B,!0)}}]),M}();L.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},L.events=p.default.events,L.sources=p.default.sources,L.version="1.3.7",L.imports={delta:u.default,parchment:y.default,"core/module":h.default,"core/theme":A.default};function P(M,R){if(R=(0,S.default)(!0,{container:M,modules:{clipboard:!0,keyboard:!0,history:!0}},R),!R.theme||R.theme===L.DEFAULTS.theme)R.theme=A.default;else if(R.theme=L.import("themes/"+R.theme),R.theme==null)throw new Error("Invalid theme "+R.theme+". Did you register it?");var F=(0,S.default)(!0,{},R.theme.DEFAULTS);[F,R].forEach(function(q){q.modules=q.modules||{},Object.keys(q.modules).forEach(function(W){q.modules[W]===!0&&(q.modules[W]={})})});var N=Object.keys(F.modules).concat(Object.keys(R.modules)),B=N.reduce(function(q,W){var D=L.import("modules/"+W);return D==null?I.error("Cannot load "+W+" module. Are you sure you registered it?"):q[W]=D.DEFAULTS||{},q},{});return R.modules!=null&&R.modules.toolbar&&R.modules.toolbar.constructor!==Object&&(R.modules.toolbar={container:R.modules.toolbar}),R=(0,S.default)(!0,{},L.DEFAULTS,{modules:B},F,R),["bounds","container","scrollingContainer"].forEach(function(q){typeof R[q]=="string"&&(R[q]=document.querySelector(R[q]))}),R.modules=Object.keys(R.modules).reduce(function(q,W){return R.modules[W]&&(q[W]=R.modules[W]),q},{}),R}function V(M,R,F,N){if(this.options.strict&&!this.isEnabled()&&R===p.default.sources.USER)return new u.default;var B=F==null?null:this.getSelection(),q=this.editor.delta,W=M();if(B!=null&&(F===!0&&(F=B.index),N==null?B=U(B,W,R):N!==0&&(B=U(B,F,N,R)),this.setSelection(B,p.default.sources.SILENT)),W.length()>0){var D,G=[p.default.events.TEXT_CHANGE,W,q,R];if((D=this.emitter).emit.apply(D,[p.default.events.EDITOR_CHANGE].concat(G)),R!==p.default.sources.SILENT){var H;(H=this.emitter).emit.apply(H,G)}}return W}function $(M,R,F,N,B){var q={};return typeof M.index=="number"&&typeof M.length=="number"?typeof R!="number"?(B=N,N=F,F=R,R=M.length,M=M.index):(R=M.length,M=M.index):typeof R!="number"&&(B=N,N=F,F=R,R=0),(typeof F>"u"?"undefined":a(F))==="object"?(q=F,B=N):typeof F=="string"&&(N!=null?q[F]=N:B=F),B=B||p.default.sources.API,[M,R,q,B]}function U(M,R,F,N){if(M==null)return null;var B=void 0,q=void 0;if(R instanceof u.default){var W=[M.index,M.index+M.length].map(function(Y){return R.transformPosition(Y,N!==p.default.sources.USER)}),D=o(W,2);B=D[0],q=D[1]}else{var G=[M.index,M.index+M.length].map(function(Y){return Y<R||Y===R&&N===p.default.sources.USER?Y:F>=0?Y+F:Math.max(R,Y+F)}),H=o(G,2);B=H[0],q=H[1]}return new m.Range(B,q-B)}n.expandConfig=P,n.overload=$,n.default=L},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function g(y,m){for(var _=0;_<m.length;_++){var b=m[_];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(y,b.key,b)}}return function(y,m,_){return m&&g(y.prototype,m),_&&g(y,_),y}}(),o=function g(y,m,_){y===null&&(y=Function.prototype);var b=Object.getOwnPropertyDescriptor(y,m);if(b===void 0){var S=Object.getPrototypeOf(y);return S===null?void 0:g(S,m,_)}else{if("value"in b)return b.value;var O=b.get;return O===void 0?void 0:O.call(_)}},s=i(7),l=f(s),u=i(0),c=f(u);function f(g){return g&&g.__esModule?g:{default:g}}function d(g,y){if(!(g instanceof y))throw new TypeError("Cannot call a class as a function")}function p(g,y){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:g}function v(g,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);g.prototype=Object.create(y&&y.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(g,y):g.__proto__=y)}var h=function(g){v(y,g);function y(){return d(this,y),p(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return a(y,[{key:"formatAt",value:function(_,b,S,O){if(y.compare(this.statics.blotName,S)<0&&c.default.query(S,c.default.Scope.BLOT)){var x=this.isolate(_,b);O&&x.wrap(S,O)}else o(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"formatAt",this).call(this,_,b,S,O)}},{key:"optimize",value:function(_){if(o(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"optimize",this).call(this,_),this.parent instanceof y&&y.compare(this.statics.blotName,this.parent.statics.blotName)>0){var b=this.parent.isolate(this.offset(),this.length());this.moveChildren(b),b.wrap(this)}}}],[{key:"compare",value:function(_,b){var S=y.order.indexOf(_),O=y.order.indexOf(b);return S>=0||O>=0?S-O:_===b?0:_<b?-1:1}}]),y}(c.default.Inline);h.allowedChildren=[h,c.default.Embed,l.default],h.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],n.default=h},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(0),o=s(a);function s(d){return d&&d.__esModule?d:{default:d}}function l(d,p){if(!(d instanceof p))throw new TypeError("Cannot call a class as a function")}function u(d,p){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:d}function c(d,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);d.prototype=Object.create(p&&p.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(d,p):d.__proto__=p)}var f=function(d){c(p,d);function p(){return l(this,p),u(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p}(o.default.Text);n.default=f},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function m(_,b){for(var S=0;S<b.length;S++){var O=b[S];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(_,O.key,O)}}return function(_,b,S){return b&&m(_.prototype,b),S&&m(_,S),_}}(),o=function m(_,b,S){_===null&&(_=Function.prototype);var O=Object.getOwnPropertyDescriptor(_,b);if(O===void 0){var x=Object.getPrototypeOf(_);return x===null?void 0:m(x,b,S)}else{if("value"in O)return O.value;var E=O.get;return E===void 0?void 0:E.call(S)}},s=i(54),l=f(s),u=i(10),c=f(u);function f(m){return m&&m.__esModule?m:{default:m}}function d(m,_){if(!(m instanceof _))throw new TypeError("Cannot call a class as a function")}function p(m,_){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:m}function v(m,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);m.prototype=Object.create(_&&_.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(m,_):m.__proto__=_)}var h=(0,c.default)("quill:events"),g=["selectionchange","mousedown","mouseup","click"];g.forEach(function(m){document.addEventListener(m,function(){for(var _=arguments.length,b=Array(_),S=0;S<_;S++)b[S]=arguments[S];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(O){if(O.__quill&&O.__quill.emitter){var x;(x=O.__quill.emitter).handleDOM.apply(x,b)}})})});var y=function(m){v(_,m);function _(){d(this,_);var b=p(this,(_.__proto__||Object.getPrototypeOf(_)).call(this));return b.listeners={},b.on("error",h.error),b}return a(_,[{key:"emit",value:function(){h.log.apply(h,arguments),o(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(S){for(var O=arguments.length,x=Array(O>1?O-1:0),E=1;E<O;E++)x[E-1]=arguments[E];(this.listeners[S.type]||[]).forEach(function(A){var C=A.node,k=A.handler;(S.target===C||C.contains(S.target))&&k.apply(void 0,[S].concat(x))})}},{key:"listenDOM",value:function(S,O,x){this.listeners[S]||(this.listeners[S]=[]),this.listeners[S].push({node:O,handler:x})}}]),_}(l.default);y.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},y.sources={API:"api",SILENT:"silent",USER:"user"},n.default=y},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});function a(s,l){if(!(s instanceof l))throw new TypeError("Cannot call a class as a function")}var o=function s(l){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};a(this,s),this.quill=l,this.options=u};o.DEFAULTS={},n.default=o},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=["error","warn","log","info"],o="warn";function s(u){if(a.indexOf(u)<=a.indexOf(o)){for(var c,f=arguments.length,d=Array(f>1?f-1:0),p=1;p<f;p++)d[p-1]=arguments[p];(c=console)[u].apply(c,d)}}function l(u){return a.reduce(function(c,f){return c[f]=s.bind(console,f,u),c},{})}s.level=l.level=function(u){o=u},n.default=l},function(r,n,i){var a=Array.prototype.slice,o=i(52),s=i(53),l=r.exports=function(d,p,v){return v||(v={}),d===p?!0:d instanceof Date&&p instanceof Date?d.getTime()===p.getTime():!d||!p||typeof d!="object"&&typeof p!="object"?v.strict?d===p:d==p:f(d,p,v)};function u(d){return d==null}function c(d){return!(!d||typeof d!="object"||typeof d.length!="number"||typeof d.copy!="function"||typeof d.slice!="function"||d.length>0&&typeof d[0]!="number")}function f(d,p,v){var h,g;if(u(d)||u(p)||d.prototype!==p.prototype)return!1;if(s(d))return s(p)?(d=a.call(d),p=a.call(p),l(d,p,v)):!1;if(c(d)){if(!c(p)||d.length!==p.length)return!1;for(h=0;h<d.length;h++)if(d[h]!==p[h])return!1;return!0}try{var y=o(d),m=o(p)}catch(_){return!1}if(y.length!=m.length)return!1;for(y.sort(),m.sort(),h=y.length-1;h>=0;h--)if(y[h]!=m[h])return!1;for(h=y.length-1;h>=0;h--)if(g=y[h],!l(d[g],p[g],v))return!1;return typeof d==typeof p}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(1),o=function(){function s(l,u,c){c===void 0&&(c={}),this.attrName=l,this.keyName=u;var f=a.Scope.TYPE&a.Scope.ATTRIBUTE;c.scope!=null?this.scope=c.scope&a.Scope.LEVEL|f:this.scope=a.Scope.ATTRIBUTE,c.whitelist!=null&&(this.whitelist=c.whitelist)}return s.keys=function(l){return[].map.call(l.attributes,function(u){return u.name})},s.prototype.add=function(l,u){return this.canAdd(l,u)?(l.setAttribute(this.keyName,u),!0):!1},s.prototype.canAdd=function(l,u){var c=a.query(l,a.Scope.BLOT&(this.scope|a.Scope.TYPE));return c==null?!1:this.whitelist==null?!0:typeof u=="string"?this.whitelist.indexOf(u.replace(/["']/g,""))>-1:this.whitelist.indexOf(u)>-1},s.prototype.remove=function(l){l.removeAttribute(this.keyName)},s.prototype.value=function(l){var u=l.getAttribute(this.keyName);return this.canAdd(l,u)&&u?u:""},s}();n.default=o},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.Code=void 0;var a=function(){function E(A,C){var k=[],w=!0,I=!1,L=void 0;try{for(var P=A[Symbol.iterator](),V;!(w=(V=P.next()).done)&&(k.push(V.value),!(C&&k.length===C));w=!0);}catch($){I=!0,L=$}finally{try{!w&&P.return&&P.return()}finally{if(I)throw L}}return k}return function(A,C){if(Array.isArray(A))return A;if(Symbol.iterator in Object(A))return E(A,C);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function E(A,C){for(var k=0;k<C.length;k++){var w=C[k];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(A,w.key,w)}}return function(A,C,k){return C&&E(A.prototype,C),k&&E(A,k),A}}(),s=function E(A,C,k){A===null&&(A=Function.prototype);var w=Object.getOwnPropertyDescriptor(A,C);if(w===void 0){var I=Object.getPrototypeOf(A);return I===null?void 0:E(I,C,k)}else{if("value"in w)return w.value;var L=w.get;return L===void 0?void 0:L.call(k)}},l=i(2),u=m(l),c=i(0),f=m(c),d=i(4),p=m(d),v=i(6),h=m(v),g=i(7),y=m(g);function m(E){return E&&E.__esModule?E:{default:E}}function _(E,A){if(!(E instanceof A))throw new TypeError("Cannot call a class as a function")}function b(E,A){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return A&&(typeof A=="object"||typeof A=="function")?A:E}function S(E,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof A);E.prototype=Object.create(A&&A.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(E,A):E.__proto__=A)}var O=function(E){S(A,E);function A(){return _(this,A),b(this,(A.__proto__||Object.getPrototypeOf(A)).apply(this,arguments))}return A}(h.default);O.blotName="code",O.tagName="CODE";var x=function(E){S(A,E);function A(){return _(this,A),b(this,(A.__proto__||Object.getPrototypeOf(A)).apply(this,arguments))}return o(A,[{key:"delta",value:function(){var k=this,w=this.domNode.textContent;return w.endsWith("\n")&&(w=w.slice(0,-1)),w.split("\n").reduce(function(I,L){return I.insert(L).insert("\n",k.formats())},new u.default)}},{key:"format",value:function(k,w){if(!(k===this.statics.blotName&&w)){var I=this.descendant(y.default,this.length()-1),L=a(I,1),P=L[0];P!=null&&P.deleteAt(P.length()-1,1),s(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"format",this).call(this,k,w)}}},{key:"formatAt",value:function(k,w,I,L){if(w!==0&&!(f.default.query(I,f.default.Scope.BLOCK)==null||I===this.statics.blotName&&L===this.statics.formats(this.domNode))){var P=this.newlineIndex(k);if(!(P<0||P>=k+w)){var V=this.newlineIndex(k,!0)+1,$=P-V+1,U=this.isolate(V,$),M=U.next;U.format(I,L),M instanceof A&&M.formatAt(0,k-V+w-$,I,L)}}}},{key:"insertAt",value:function(k,w,I){if(I==null){var L=this.descendant(y.default,k),P=a(L,2),V=P[0],$=P[1];V.insertAt($,w)}}},{key:"length",value:function(){var k=this.domNode.textContent.length;return this.domNode.textContent.endsWith("\n")?k:k+1}},{key:"newlineIndex",value:function(k){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(w)return this.domNode.textContent.slice(0,k).lastIndexOf("\n");var I=this.domNode.textContent.slice(k).indexOf("\n");return I>-1?k+I:-1}},{key:"optimize",value:function(k){this.domNode.textContent.endsWith("\n")||this.appendChild(f.default.create("text","\n")),s(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"optimize",this).call(this,k);var w=this.next;w!=null&&w.prev===this&&w.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===w.statics.formats(w.domNode)&&(w.optimize(k),w.moveChildren(this),w.remove())}},{key:"replace",value:function(k){s(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"replace",this).call(this,k),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(w){var I=f.default.find(w);I==null?w.parentNode.removeChild(w):I instanceof f.default.Embed?I.remove():I.unwrap()})}}],[{key:"create",value:function(k){var w=s(A.__proto__||Object.getPrototypeOf(A),"create",this).call(this,k);return w.setAttribute("spellcheck",!1),w}},{key:"formats",value:function(){return!0}}]),A}(p.default);x.blotName="code-block",x.tagName="PRE",x.TAB="  ",n.Code=O,n.default=x},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(M){return typeof M}:function(M){return M&&typeof Symbol=="function"&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M},o=function(){function M(R,F){var N=[],B=!0,q=!1,W=void 0;try{for(var D=R[Symbol.iterator](),G;!(B=(G=D.next()).done)&&(N.push(G.value),!(F&&N.length===F));B=!0);}catch(H){q=!0,W=H}finally{try{!B&&D.return&&D.return()}finally{if(q)throw W}}return N}return function(R,F){if(Array.isArray(R))return R;if(Symbol.iterator in Object(R))return M(R,F);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function M(R,F){for(var N=0;N<F.length;N++){var B=F[N];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(R,B.key,B)}}return function(R,F,N){return F&&M(R.prototype,F),N&&M(R,N),R}}(),l=i(2),u=w(l),c=i(20),f=w(c),d=i(0),p=w(d),v=i(13),h=w(v),g=i(24),y=w(g),m=i(4),_=w(m),b=i(16),S=w(b),O=i(21),x=w(O),E=i(11),A=w(E),C=i(3),k=w(C);function w(M){return M&&M.__esModule?M:{default:M}}function I(M,R,F){return R in M?Object.defineProperty(M,R,{value:F,enumerable:!0,configurable:!0,writable:!0}):M[R]=F,M}function L(M,R){if(!(M instanceof R))throw new TypeError("Cannot call a class as a function")}var P=/^[ -~]*$/,V=function(){function M(R){L(this,M),this.scroll=R,this.delta=this.getDelta()}return s(M,[{key:"applyDelta",value:function(F){var N=this,B=!1;this.scroll.update();var q=this.scroll.length();return this.scroll.batchStart(),F=U(F),F.reduce(function(W,D){var G=D.retain||D.delete||D.insert.length||1,H=D.attributes||{};if(D.insert!=null){if(typeof D.insert=="string"){var Y=D.insert;Y.endsWith("\n")&&B&&(B=!1,Y=Y.slice(0,-1)),W>=q&&!Y.endsWith("\n")&&(B=!0),N.scroll.insertAt(W,Y);var K=N.scroll.line(W),ie=o(K,2),te=ie[0],se=ie[1],ue=(0,k.default)({},(0,m.bubbleFormats)(te));if(te instanceof _.default){var fe=te.descendant(p.default.Leaf,se),de=o(fe,1),Se=de[0];ue=(0,k.default)(ue,(0,m.bubbleFormats)(Se))}H=f.default.attributes.diff(ue,H)||{}}else if(a(D.insert)==="object"){var J=Object.keys(D.insert)[0];if(J==null)return W;N.scroll.insertAt(W,J,D.insert[J])}q+=G}return Object.keys(H).forEach(function(re){N.scroll.formatAt(W,G,re,H[re])}),W+G},0),F.reduce(function(W,D){return typeof D.delete=="number"?(N.scroll.deleteAt(W,D.delete),W):W+(D.retain||D.insert.length||1)},0),this.scroll.batchEnd(),this.update(F)}},{key:"deleteText",value:function(F,N){return this.scroll.deleteAt(F,N),this.update(new u.default().retain(F).delete(N))}},{key:"formatLine",value:function(F,N){var B=this,q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.scroll.update(),Object.keys(q).forEach(function(W){if(!(B.scroll.whitelist!=null&&!B.scroll.whitelist[W])){var D=B.scroll.lines(F,Math.max(N,1)),G=N;D.forEach(function(H){var Y=H.length();if(!(H instanceof h.default))H.format(W,q[W]);else{var K=F-H.offset(B.scroll),ie=H.newlineIndex(K+G)-K+1;H.formatAt(K,ie,W,q[W])}G-=Y})}}),this.scroll.optimize(),this.update(new u.default().retain(F).retain(N,(0,x.default)(q)))}},{key:"formatText",value:function(F,N){var B=this,q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object.keys(q).forEach(function(W){B.scroll.formatAt(F,N,W,q[W])}),this.update(new u.default().retain(F).retain(N,(0,x.default)(q)))}},{key:"getContents",value:function(F,N){return this.delta.slice(F,F+N)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(F,N){return F.concat(N.delta())},new u.default)}},{key:"getFormat",value:function(F){var N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,B=[],q=[];N===0?this.scroll.path(F).forEach(function(D){var G=o(D,1),H=G[0];H instanceof _.default?B.push(H):H instanceof p.default.Leaf&&q.push(H)}):(B=this.scroll.lines(F,N),q=this.scroll.descendants(p.default.Leaf,F,N));var W=[B,q].map(function(D){if(D.length===0)return{};for(var G=(0,m.bubbleFormats)(D.shift());Object.keys(G).length>0;){var H=D.shift();if(H==null)return G;G=$((0,m.bubbleFormats)(H),G)}return G});return k.default.apply(k.default,W)}},{key:"getText",value:function(F,N){return this.getContents(F,N).filter(function(B){return typeof B.insert=="string"}).map(function(B){return B.insert}).join("")}},{key:"insertEmbed",value:function(F,N,B){return this.scroll.insertAt(F,N,B),this.update(new u.default().retain(F).insert(I({},N,B)))}},{key:"insertText",value:function(F,N){var B=this,q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return N=N.replace(/\r\n/g,"\n").replace(/\r/g,"\n"),this.scroll.insertAt(F,N),Object.keys(q).forEach(function(W){B.scroll.formatAt(F,N.length,W,q[W])}),this.update(new u.default().retain(F).insert(N,(0,x.default)(q)))}},{key:"isBlank",value:function(){if(this.scroll.children.length==0)return!0;if(this.scroll.children.length>1)return!1;var F=this.scroll.children.head;return F.statics.blotName!==_.default.blotName||F.children.length>1?!1:F.children.head instanceof S.default}},{key:"removeFormat",value:function(F,N){var B=this.getText(F,N),q=this.scroll.line(F+N),W=o(q,2),D=W[0],G=W[1],H=0,Y=new u.default;D!=null&&(D instanceof h.default?H=D.newlineIndex(G)-G+1:H=D.length()-G,Y=D.delta().slice(G,G+H-1).insert("\n"));var K=this.getContents(F,N+H),ie=K.diff(new u.default().insert(B).concat(Y)),te=new u.default().retain(F).concat(ie);return this.applyDelta(te)}},{key:"update",value:function(F){var N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],B=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,q=this.delta;if(N.length===1&&N[0].type==="characterData"&&N[0].target.data.match(P)&&p.default.find(N[0].target)){var W=p.default.find(N[0].target),D=(0,m.bubbleFormats)(W),G=W.offset(this.scroll),H=N[0].oldValue.replace(y.default.CONTENTS,""),Y=new u.default().insert(H),K=new u.default().insert(W.value()),ie=new u.default().retain(G).concat(Y.diff(K,B));F=ie.reduce(function(te,se){return se.insert?te.insert(se.insert,D):te.push(se)},new u.default),this.delta=q.compose(F)}else this.delta=this.getDelta(),(!F||!(0,A.default)(q.compose(F),this.delta))&&(F=q.diff(this.delta,B));return F}}]),M}();function $(M,R){return Object.keys(R).reduce(function(F,N){return M[N]==null||(R[N]===M[N]?F[N]=R[N]:Array.isArray(R[N])?R[N].indexOf(M[N])<0&&(F[N]=R[N].concat([M[N]])):F[N]=[R[N],M[N]]),F},{})}function U(M){return M.reduce(function(R,F){if(F.insert===1){var N=(0,x.default)(F.attributes);return delete N.image,R.insert({image:F.attributes.image},N)}if(F.attributes!=null&&(F.attributes.list===!0||F.attributes.bullet===!0)&&(F=(0,x.default)(F),F.attributes.list?F.attributes.list="ordered":(F.attributes.list="bullet",delete F.attributes.bullet)),typeof F.insert=="string"){var B=F.insert.replace(/\r\n/g,"\n").replace(/\r/g,"\n");return R.insert(B,F.attributes)}return R.push(F)},new u.default)}n.default=V},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.Range=void 0;var a=function(){function E(A,C){var k=[],w=!0,I=!1,L=void 0;try{for(var P=A[Symbol.iterator](),V;!(w=(V=P.next()).done)&&(k.push(V.value),!(C&&k.length===C));w=!0);}catch($){I=!0,L=$}finally{try{!w&&P.return&&P.return()}finally{if(I)throw L}}return k}return function(A,C){if(Array.isArray(A))return A;if(Symbol.iterator in Object(A))return E(A,C);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function E(A,C){for(var k=0;k<C.length;k++){var w=C[k];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(A,w.key,w)}}return function(A,C,k){return C&&E(A.prototype,C),k&&E(A,k),A}}(),s=i(0),l=y(s),u=i(21),c=y(u),f=i(11),d=y(f),p=i(8),v=y(p),h=i(10),g=y(h);function y(E){return E&&E.__esModule?E:{default:E}}function m(E){if(Array.isArray(E)){for(var A=0,C=Array(E.length);A<E.length;A++)C[A]=E[A];return C}else return Array.from(E)}function _(E,A){if(!(E instanceof A))throw new TypeError("Cannot call a class as a function")}var b=(0,g.default)("quill:selection"),S=function E(A){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;_(this,E),this.index=A,this.length=C},O=function(){function E(A,C){var k=this;_(this,E),this.emitter=C,this.scroll=A,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=l.default.create("cursor",this),this.lastRange=this.savedRange=new S(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){k.mouseDown||setTimeout(k.update.bind(k,v.default.sources.USER),1)}),this.emitter.on(v.default.events.EDITOR_CHANGE,function(w,I){w===v.default.events.TEXT_CHANGE&&I.length()>0&&k.update(v.default.sources.SILENT)}),this.emitter.on(v.default.events.SCROLL_BEFORE_UPDATE,function(){if(k.hasFocus()){var w=k.getNativeRange();w!=null&&w.start.node!==k.cursor.textNode&&k.emitter.once(v.default.events.SCROLL_UPDATE,function(){try{k.setNativeRange(w.start.node,w.start.offset,w.end.node,w.end.offset)}catch(I){}})}}),this.emitter.on(v.default.events.SCROLL_OPTIMIZE,function(w,I){if(I.range){var L=I.range,P=L.startNode,V=L.startOffset,$=L.endNode,U=L.endOffset;k.setNativeRange(P,V,$,U)}}),this.update(v.default.sources.SILENT)}return o(E,[{key:"handleComposition",value:function(){var C=this;this.root.addEventListener("compositionstart",function(){C.composing=!0}),this.root.addEventListener("compositionend",function(){if(C.composing=!1,C.cursor.parent){var k=C.cursor.restore();if(!k)return;setTimeout(function(){C.setNativeRange(k.startNode,k.startOffset,k.endNode,k.endOffset)},1)}})}},{key:"handleDragging",value:function(){var C=this;this.emitter.listenDOM("mousedown",document.body,function(){C.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){C.mouseDown=!1,C.update(v.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(C,k){if(!(this.scroll.whitelist!=null&&!this.scroll.whitelist[C])){this.scroll.update();var w=this.getNativeRange();if(!(w==null||!w.native.collapsed||l.default.query(C,l.default.Scope.BLOCK))){if(w.start.node!==this.cursor.textNode){var I=l.default.find(w.start.node,!1);if(I==null)return;if(I instanceof l.default.Leaf){var L=I.split(w.start.offset);I.parent.insertBefore(this.cursor,L)}else I.insertBefore(this.cursor,w.start.node);this.cursor.attach()}this.cursor.format(C,k),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(C){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,w=this.scroll.length();C=Math.min(C,w-1),k=Math.min(C+k,w-1)-C;var I=void 0,L=this.scroll.leaf(C),P=a(L,2),V=P[0],$=P[1];if(V==null)return null;var U=V.position($,!0),M=a(U,2);I=M[0],$=M[1];var R=document.createRange();if(k>0){R.setStart(I,$);var F=this.scroll.leaf(C+k),N=a(F,2);if(V=N[0],$=N[1],V==null)return null;var B=V.position($,!0),q=a(B,2);return I=q[0],$=q[1],R.setEnd(I,$),R.getBoundingClientRect()}else{var W="left",D=void 0;return I instanceof Text?($<I.data.length?(R.setStart(I,$),R.setEnd(I,$+1)):(R.setStart(I,$-1),R.setEnd(I,$),W="right"),D=R.getBoundingClientRect()):(D=V.domNode.getBoundingClientRect(),$>0&&(W="right")),{bottom:D.top+D.height,height:D.height,left:D[W],right:D[W],top:D.top,width:0}}}},{key:"getNativeRange",value:function(){var C=document.getSelection();if(C==null||C.rangeCount<=0)return null;var k=C.getRangeAt(0);if(k==null)return null;var w=this.normalizeNative(k);return b.info("getNativeRange",w),w}},{key:"getRange",value:function(){var C=this.getNativeRange();if(C==null)return[null,null];var k=this.normalizedToRange(C);return[k,C]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(C){var k=this,w=[[C.start.node,C.start.offset]];C.native.collapsed||w.push([C.end.node,C.end.offset]);var I=w.map(function(V){var $=a(V,2),U=$[0],M=$[1],R=l.default.find(U,!0),F=R.offset(k.scroll);return M===0?F:R instanceof l.default.Container?F+R.length():F+R.index(U,M)}),L=Math.min(Math.max.apply(Math,m(I)),this.scroll.length()-1),P=Math.min.apply(Math,[L].concat(m(I)));return new S(P,L-P)}},{key:"normalizeNative",value:function(C){if(!x(this.root,C.startContainer)||!C.collapsed&&!x(this.root,C.endContainer))return null;var k={start:{node:C.startContainer,offset:C.startOffset},end:{node:C.endContainer,offset:C.endOffset},native:C};return[k.start,k.end].forEach(function(w){for(var I=w.node,L=w.offset;!(I instanceof Text)&&I.childNodes.length>0;)if(I.childNodes.length>L)I=I.childNodes[L],L=0;else if(I.childNodes.length===L)I=I.lastChild,L=I instanceof Text?I.data.length:I.childNodes.length+1;else break;w.node=I,w.offset=L}),k}},{key:"rangeToNative",value:function(C){var k=this,w=C.collapsed?[C.index]:[C.index,C.index+C.length],I=[],L=this.scroll.length();return w.forEach(function(P,V){P=Math.min(L-1,P);var $=void 0,U=k.scroll.leaf(P),M=a(U,2),R=M[0],F=M[1],N=R.position(F,V!==0),B=a(N,2);$=B[0],F=B[1],I.push($,F)}),I.length<2&&(I=I.concat(I)),I}},{key:"scrollIntoView",value:function(C){var k=this.lastRange;if(k!=null){var w=this.getBounds(k.index,k.length);if(w!=null){var I=this.scroll.length()-1,L=this.scroll.line(Math.min(k.index,I)),P=a(L,1),V=P[0],$=V;if(k.length>0){var U=this.scroll.line(Math.min(k.index+k.length,I)),M=a(U,1);$=M[0]}if(!(V==null||$==null)){var R=C.getBoundingClientRect();w.top<R.top?C.scrollTop-=R.top-w.top:w.bottom>R.bottom&&(C.scrollTop+=w.bottom-R.bottom)}}}}},{key:"setNativeRange",value:function(C,k){var w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:C,I=arguments.length>3&&arguments[3]!==void 0?arguments[3]:k,L=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(b.info("setNativeRange",C,k,w,I),!(C!=null&&(this.root.parentNode==null||C.parentNode==null||w.parentNode==null))){var P=document.getSelection();if(P!=null)if(C!=null){this.hasFocus()||this.root.focus();var V=(this.getNativeRange()||{}).native;if(V==null||L||C!==V.startContainer||k!==V.startOffset||w!==V.endContainer||I!==V.endOffset){C.tagName=="BR"&&(k=[].indexOf.call(C.parentNode.childNodes,C),C=C.parentNode),w.tagName=="BR"&&(I=[].indexOf.call(w.parentNode.childNodes,w),w=w.parentNode);var $=document.createRange();$.setStart(C,k),$.setEnd(w,I),P.removeAllRanges(),P.addRange($)}}else P.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(C){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:v.default.sources.API;if(typeof k=="string"&&(w=k,k=!1),b.info("setRange",C),C!=null){var I=this.rangeToNative(C);this.setNativeRange.apply(this,m(I).concat([k]))}else this.setNativeRange(null);this.update(w)}},{key:"update",value:function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:v.default.sources.USER,k=this.lastRange,w=this.getRange(),I=a(w,2),L=I[0],P=I[1];if(this.lastRange=L,this.lastRange!=null&&(this.savedRange=this.lastRange),!(0,d.default)(k,this.lastRange)){var V;!this.composing&&P!=null&&P.native.collapsed&&P.start.node!==this.cursor.textNode&&this.cursor.restore();var $=[v.default.events.SELECTION_CHANGE,(0,c.default)(this.lastRange),(0,c.default)(k),C];if((V=this.emitter).emit.apply(V,[v.default.events.EDITOR_CHANGE].concat($)),C!==v.default.sources.SILENT){var U;(U=this.emitter).emit.apply(U,$)}}}}]),E}();function x(E,A){try{A.parentNode}catch(C){return!1}return A instanceof Text&&(A=A.parentNode),E.contains(A)}n.Range=S,n.default=O},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function v(h,g){for(var y=0;y<g.length;y++){var m=g[y];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(h,m.key,m)}}return function(h,g,y){return g&&v(h.prototype,g),y&&v(h,y),h}}(),o=function v(h,g,y){h===null&&(h=Function.prototype);var m=Object.getOwnPropertyDescriptor(h,g);if(m===void 0){var _=Object.getPrototypeOf(h);return _===null?void 0:v(_,g,y)}else{if("value"in m)return m.value;var b=m.get;return b===void 0?void 0:b.call(y)}},s=i(0),l=u(s);function u(v){return v&&v.__esModule?v:{default:v}}function c(v,h){if(!(v instanceof h))throw new TypeError("Cannot call a class as a function")}function f(v,h){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:v}function d(v,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);v.prototype=Object.create(h&&h.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(v,h):v.__proto__=h)}var p=function(v){d(h,v);function h(){return c(this,h),f(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}return a(h,[{key:"insertInto",value:function(y,m){y.children.length===0?o(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"insertInto",this).call(this,y,m):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),h}(l.default.Embed);p.blotName="break",p.tagName="BR",n.default=p},function(r,n,i){var a=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,p){d.__proto__=p}||function(d,p){for(var v in p)p.hasOwnProperty(v)&&(d[v]=p[v])};return function(d,p){f(d,p);function v(){this.constructor=d}d.prototype=p===null?Object.create(p):(v.prototype=p.prototype,new v)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=i(44),s=i(30),l=i(1),u=function(f){a(d,f);function d(p){var v=f.call(this,p)||this;return v.build(),v}return d.prototype.appendChild=function(p){this.insertBefore(p)},d.prototype.attach=function(){f.prototype.attach.call(this),this.children.forEach(function(p){p.attach()})},d.prototype.build=function(){var p=this;this.children=new o.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(v){try{var h=c(v);p.insertBefore(h,p.children.head||void 0)}catch(g){if(g instanceof l.ParchmentError)return;throw g}})},d.prototype.deleteAt=function(p,v){if(p===0&&v===this.length())return this.remove();this.children.forEachAt(p,v,function(h,g,y){h.deleteAt(g,y)})},d.prototype.descendant=function(p,v){var h=this.children.find(v),g=h[0],y=h[1];return p.blotName==null&&p(g)||p.blotName!=null&&g instanceof p?[g,y]:g instanceof d?g.descendant(p,y):[null,-1]},d.prototype.descendants=function(p,v,h){v===void 0&&(v=0),h===void 0&&(h=Number.MAX_VALUE);var g=[],y=h;return this.children.forEachAt(v,h,function(m,_,b){(p.blotName==null&&p(m)||p.blotName!=null&&m instanceof p)&&g.push(m),m instanceof d&&(g=g.concat(m.descendants(p,_,y))),y-=b}),g},d.prototype.detach=function(){this.children.forEach(function(p){p.detach()}),f.prototype.detach.call(this)},d.prototype.formatAt=function(p,v,h,g){this.children.forEachAt(p,v,function(y,m,_){y.formatAt(m,_,h,g)})},d.prototype.insertAt=function(p,v,h){var g=this.children.find(p),y=g[0],m=g[1];if(y)y.insertAt(m,v,h);else{var _=h==null?l.create("text",v):l.create(v,h);this.appendChild(_)}},d.prototype.insertBefore=function(p,v){if(this.statics.allowedChildren!=null&&!this.statics.allowedChildren.some(function(h){return p instanceof h}))throw new l.ParchmentError("Cannot insert "+p.statics.blotName+" into "+this.statics.blotName);p.insertInto(this,v)},d.prototype.length=function(){return this.children.reduce(function(p,v){return p+v.length()},0)},d.prototype.moveChildren=function(p,v){this.children.forEach(function(h){p.insertBefore(h,v)})},d.prototype.optimize=function(p){if(f.prototype.optimize.call(this,p),this.children.length===0)if(this.statics.defaultChild!=null){var v=l.create(this.statics.defaultChild);this.appendChild(v),v.optimize(p)}else this.remove()},d.prototype.path=function(p,v){v===void 0&&(v=!1);var h=this.children.find(p,v),g=h[0],y=h[1],m=[[this,p]];return g instanceof d?m.concat(g.path(y,v)):(g!=null&&m.push([g,y]),m)},d.prototype.removeChild=function(p){this.children.remove(p)},d.prototype.replace=function(p){p instanceof d&&p.moveChildren(this),f.prototype.replace.call(this,p)},d.prototype.split=function(p,v){if(v===void 0&&(v=!1),!v){if(p===0)return this;if(p===this.length())return this.next}var h=this.clone();return this.parent.insertBefore(h,this.next),this.children.forEachAt(p,this.length(),function(g,y,m){g=g.split(y,v),h.appendChild(g)}),h},d.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},d.prototype.update=function(p,v){var h=this,g=[],y=[];p.forEach(function(m){m.target===h.domNode&&m.type==="childList"&&(g.push.apply(g,m.addedNodes),y.push.apply(y,m.removedNodes))}),y.forEach(function(m){if(!(m.parentNode!=null&&m.tagName!=="IFRAME"&&document.body.compareDocumentPosition(m)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var _=l.find(m);_!=null&&(_.domNode.parentNode==null||_.domNode.parentNode===h.domNode)&&_.detach()}}),g.filter(function(m){return m.parentNode==h.domNode}).sort(function(m,_){return m===_?0:m.compareDocumentPosition(_)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(m){var _=null;m.nextSibling!=null&&(_=l.find(m.nextSibling));var b=c(m);(b.next!=_||b.next==null)&&(b.parent!=null&&b.parent.removeChild(h),h.insertBefore(b,_||void 0))})},d}(s.default);function c(f){var d=l.find(f);if(d==null)try{d=l.create(f)}catch(p){d=l.create(l.Scope.INLINE),[].slice.call(f.childNodes).forEach(function(v){d.domNode.appendChild(v)}),f.parentNode&&f.parentNode.replaceChild(d.domNode,f),d.attach()}return d}n.default=u},function(r,n,i){var a=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,p){d.__proto__=p}||function(d,p){for(var v in p)p.hasOwnProperty(v)&&(d[v]=p[v])};return function(d,p){f(d,p);function v(){this.constructor=d}d.prototype=p===null?Object.create(p):(v.prototype=p.prototype,new v)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=i(12),s=i(31),l=i(17),u=i(1),c=function(f){a(d,f);function d(p){var v=f.call(this,p)||this;return v.attributes=new s.default(v.domNode),v}return d.formats=function(p){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return p.tagName.toLowerCase()},d.prototype.format=function(p,v){var h=u.query(p);h instanceof o.default?this.attributes.attribute(h,v):v&&h!=null&&(p!==this.statics.blotName||this.formats()[p]!==v)&&this.replaceWith(p,v)},d.prototype.formats=function(){var p=this.attributes.values(),v=this.statics.formats(this.domNode);return v!=null&&(p[this.statics.blotName]=v),p},d.prototype.replaceWith=function(p,v){var h=f.prototype.replaceWith.call(this,p,v);return this.attributes.copy(h),h},d.prototype.update=function(p,v){var h=this;f.prototype.update.call(this,p,v),p.some(function(g){return g.target===h.domNode&&g.type==="attributes"})&&this.attributes.build()},d.prototype.wrap=function(p,v){var h=f.prototype.wrap.call(this,p,v);return h instanceof d&&h.statics.scope===this.statics.scope&&this.attributes.move(h),h},d}(l.default);n.default=c},function(r,n,i){var a=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,f){c.__proto__=f}||function(c,f){for(var d in f)f.hasOwnProperty(d)&&(c[d]=f[d])};return function(c,f){u(c,f);function d(){this.constructor=c}c.prototype=f===null?Object.create(f):(d.prototype=f.prototype,new d)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=i(30),s=i(1),l=function(u){a(c,u);function c(){return u!==null&&u.apply(this,arguments)||this}return c.value=function(f){return!0},c.prototype.index=function(f,d){return this.domNode===f||this.domNode.compareDocumentPosition(f)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(d,1):-1},c.prototype.position=function(f,d){var p=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return f>0&&(p+=1),[this.parent.domNode,p]},c.prototype.value=function(){var f;return f={},f[this.statics.blotName]=this.statics.value(this.domNode)||!0,f},c.scope=s.Scope.INLINE_BLOT,c}(o.default);n.default=l},function(r,n,i){var a=i(11),o=i(3),s={attributes:{compose:function(u,c,f){typeof u!="object"&&(u={}),typeof c!="object"&&(c={});var d=o(!0,{},c);f||(d=Object.keys(d).reduce(function(v,h){return d[h]!=null&&(v[h]=d[h]),v},{}));for(var p in u)u[p]!==void 0&&c[p]===void 0&&(d[p]=u[p]);return Object.keys(d).length>0?d:void 0},diff:function(u,c){typeof u!="object"&&(u={}),typeof c!="object"&&(c={});var f=Object.keys(u).concat(Object.keys(c)).reduce(function(d,p){return a(u[p],c[p])||(d[p]=c[p]===void 0?null:c[p]),d},{});return Object.keys(f).length>0?f:void 0},transform:function(u,c,f){if(typeof u!="object")return c;if(typeof c=="object"){if(!f)return c;var d=Object.keys(c).reduce(function(p,v){return u[v]===void 0&&(p[v]=c[v]),p},{});return Object.keys(d).length>0?d:void 0}}},iterator:function(u){return new l(u)},length:function(u){return typeof u.delete=="number"?u.delete:typeof u.retain=="number"?u.retain:typeof u.insert=="string"?u.insert.length:1}};function l(u){this.ops=u,this.index=0,this.offset=0}l.prototype.hasNext=function(){return this.peekLength()<1/0},l.prototype.next=function(u){u||(u=1/0);var c=this.ops[this.index];if(c){var f=this.offset,d=s.length(c);if(u>=d-f?(u=d-f,this.index+=1,this.offset=0):this.offset+=u,typeof c.delete=="number")return{delete:u};var p={};return c.attributes&&(p.attributes=c.attributes),typeof c.retain=="number"?p.retain=u:typeof c.insert=="string"?p.insert=c.insert.substr(f,u):p.insert=c.insert,p}else return{retain:1/0}},l.prototype.peek=function(){return this.ops[this.index]},l.prototype.peekLength=function(){return this.ops[this.index]?s.length(this.ops[this.index])-this.offset:1/0},l.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},l.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var u=this.offset,c=this.index,f=this.next(),d=this.ops.slice(this.index);return this.offset=u,this.index=c,[f].concat(d)}else return[]},r.exports=s},function(r,n){var i=function(){function a(h,g){return g!=null&&h instanceof g}var o;try{o=Map}catch(h){o=function(){}}var s;try{s=Set}catch(h){s=function(){}}var l;try{l=Promise}catch(h){l=function(){}}function u(h,g,y,m,_){typeof g=="object"&&(y=g.depth,m=g.prototype,_=g.includeNonEnumerable,g=g.circular);var b=[],S=[],O=typeof Buffer<"u";typeof g>"u"&&(g=!0),typeof y>"u"&&(y=1/0);function x(E,A){if(E===null)return null;if(A===0)return E;var C,k;if(typeof E!="object")return E;if(a(E,o))C=new o;else if(a(E,s))C=new s;else if(a(E,l))C=new l(function(R,F){E.then(function(N){R(x(N,A-1))},function(N){F(x(N,A-1))})});else if(u.__isArray(E))C=[];else if(u.__isRegExp(E))C=new RegExp(E.source,v(E)),E.lastIndex&&(C.lastIndex=E.lastIndex);else if(u.__isDate(E))C=new Date(E.getTime());else{if(O&&Buffer.isBuffer(E))return Buffer.allocUnsafe?C=Buffer.allocUnsafe(E.length):C=new Buffer(E.length),E.copy(C),C;a(E,Error)?C=Object.create(E):typeof m>"u"?(k=Object.getPrototypeOf(E),C=Object.create(k)):(C=Object.create(m),k=m)}if(g){var w=b.indexOf(E);if(w!=-1)return S[w];b.push(E),S.push(C)}a(E,o)&&E.forEach(function(R,F){var N=x(F,A-1),B=x(R,A-1);C.set(N,B)}),a(E,s)&&E.forEach(function(R){var F=x(R,A-1);C.add(F)});for(var I in E){var L;k&&(L=Object.getOwnPropertyDescriptor(k,I)),!(L&&L.set==null)&&(C[I]=x(E[I],A-1))}if(Object.getOwnPropertySymbols)for(var P=Object.getOwnPropertySymbols(E),I=0;I<P.length;I++){var V=P[I],$=Object.getOwnPropertyDescriptor(E,V);$&&!$.enumerable&&!_||(C[V]=x(E[V],A-1),$.enumerable||Object.defineProperty(C,V,{enumerable:!1}))}if(_)for(var U=Object.getOwnPropertyNames(E),I=0;I<U.length;I++){var M=U[I],$=Object.getOwnPropertyDescriptor(E,M);$&&$.enumerable||(C[M]=x(E[M],A-1),Object.defineProperty(C,M,{enumerable:!1}))}return C}return x(h,y)}u.clonePrototype=function(g){if(g===null)return null;var y=function(){};return y.prototype=g,new y};function c(h){return Object.prototype.toString.call(h)}u.__objToStr=c;function f(h){return typeof h=="object"&&c(h)==="[object Date]"}u.__isDate=f;function d(h){return typeof h=="object"&&c(h)==="[object Array]"}u.__isArray=d;function p(h){return typeof h=="object"&&c(h)==="[object RegExp]"}u.__isRegExp=p;function v(h){var g="";return h.global&&(g+="g"),h.ignoreCase&&(g+="i"),h.multiline&&(g+="m"),g}return u.__getRegExpFlags=v,u}();typeof r=="object"&&r.exports&&(r.exports=i)},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function C(k,w){var I=[],L=!0,P=!1,V=void 0;try{for(var $=k[Symbol.iterator](),U;!(L=(U=$.next()).done)&&(I.push(U.value),!(w&&I.length===w));L=!0);}catch(M){P=!0,V=M}finally{try{!L&&$.return&&$.return()}finally{if(P)throw V}}return I}return function(k,w){if(Array.isArray(k))return k;if(Symbol.iterator in Object(k))return C(k,w);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function C(k,w){for(var I=0;I<w.length;I++){var L=w[I];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(k,L.key,L)}}return function(k,w,I){return w&&C(k.prototype,w),I&&C(k,I),k}}(),s=function C(k,w,I){k===null&&(k=Function.prototype);var L=Object.getOwnPropertyDescriptor(k,w);if(L===void 0){var P=Object.getPrototypeOf(k);return P===null?void 0:C(P,w,I)}else{if("value"in L)return L.value;var V=L.get;return V===void 0?void 0:V.call(I)}},l=i(0),u=b(l),c=i(8),f=b(c),d=i(4),p=b(d),v=i(16),h=b(v),g=i(13),y=b(g),m=i(25),_=b(m);function b(C){return C&&C.__esModule?C:{default:C}}function S(C,k){if(!(C instanceof k))throw new TypeError("Cannot call a class as a function")}function O(C,k){if(!C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k&&(typeof k=="object"||typeof k=="function")?k:C}function x(C,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof k);C.prototype=Object.create(k&&k.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}),k&&(Object.setPrototypeOf?Object.setPrototypeOf(C,k):C.__proto__=k)}function E(C){return C instanceof p.default||C instanceof d.BlockEmbed}var A=function(C){x(k,C);function k(w,I){S(this,k);var L=O(this,(k.__proto__||Object.getPrototypeOf(k)).call(this,w));return L.emitter=I.emitter,Array.isArray(I.whitelist)&&(L.whitelist=I.whitelist.reduce(function(P,V){return P[V]=!0,P},{})),L.domNode.addEventListener("DOMNodeInserted",function(){}),L.optimize(),L.enable(),L}return o(k,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(I,L){var P=this.line(I),V=a(P,2),$=V[0],U=V[1],M=this.line(I+L),R=a(M,1),F=R[0];if(s(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"deleteAt",this).call(this,I,L),F!=null&&$!==F&&U>0){if($ instanceof d.BlockEmbed||F instanceof d.BlockEmbed){this.optimize();return}if($ instanceof y.default){var N=$.newlineIndex($.length(),!0);if(N>-1&&($=$.split(N+1),$===F)){this.optimize();return}}else if(F instanceof y.default){var B=F.newlineIndex(0);B>-1&&F.split(B+1)}var q=F.children.head instanceof h.default?null:F.children.head;$.moveChildren(F,q),$.remove()}this.optimize()}},{key:"enable",value:function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",I)}},{key:"formatAt",value:function(I,L,P,V){this.whitelist!=null&&!this.whitelist[P]||(s(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"formatAt",this).call(this,I,L,P,V),this.optimize())}},{key:"insertAt",value:function(I,L,P){if(!(P!=null&&this.whitelist!=null&&!this.whitelist[L])){if(I>=this.length())if(P==null||u.default.query(L,u.default.Scope.BLOCK)==null){var V=u.default.create(this.statics.defaultChild);this.appendChild(V),P==null&&L.endsWith("\n")&&(L=L.slice(0,-1)),V.insertAt(0,L,P)}else{var $=u.default.create(L,P);this.appendChild($)}else s(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"insertAt",this).call(this,I,L,P);this.optimize()}}},{key:"insertBefore",value:function(I,L){if(I.statics.scope===u.default.Scope.INLINE_BLOT){var P=u.default.create(this.statics.defaultChild);P.appendChild(I),I=P}s(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"insertBefore",this).call(this,I,L)}},{key:"leaf",value:function(I){return this.path(I).pop()||[null,-1]}},{key:"line",value:function(I){return I===this.length()?this.line(I-1):this.descendant(E,I)}},{key:"lines",value:function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,P=function V($,U,M){var R=[],F=M;return $.children.forEachAt(U,M,function(N,B,q){E(N)?R.push(N):N instanceof u.default.Container&&(R=R.concat(V(N,B,F))),F-=q}),R};return P(this,I,L)}},{key:"optimize",value:function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch!==!0&&(s(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"optimize",this).call(this,I,L),I.length>0&&this.emitter.emit(f.default.events.SCROLL_OPTIMIZE,I,L))}},{key:"path",value:function(I){return s(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"path",this).call(this,I).slice(1)}},{key:"update",value:function(I){if(this.batch!==!0){var L=f.default.sources.USER;typeof I=="string"&&(L=I),Array.isArray(I)||(I=this.observer.takeRecords()),I.length>0&&this.emitter.emit(f.default.events.SCROLL_BEFORE_UPDATE,L,I),s(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"update",this).call(this,I.concat([])),I.length>0&&this.emitter.emit(f.default.events.SCROLL_UPDATE,L,I)}}}]),k}(u.default.Scroll);A.blotName="scroll",A.className="ql-editor",A.tagName="DIV",A.defaultChild="block",A.allowedChildren=[p.default,d.BlockEmbed,_.default],n.default=A},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.SHORTKEY=n.default=void 0;var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(D){return typeof D}:function(D){return D&&typeof Symbol=="function"&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D},o=function(){function D(G,H){var Y=[],K=!0,ie=!1,te=void 0;try{for(var se=G[Symbol.iterator](),ue;!(K=(ue=se.next()).done)&&(Y.push(ue.value),!(H&&Y.length===H));K=!0);}catch(fe){ie=!0,te=fe}finally{try{!K&&se.return&&se.return()}finally{if(ie)throw te}}return Y}return function(G,H){if(Array.isArray(G))return G;if(Symbol.iterator in Object(G))return D(G,H);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function D(G,H){for(var Y=0;Y<H.length;Y++){var K=H[Y];K.enumerable=K.enumerable||!1,K.configurable=!0,"value"in K&&(K.writable=!0),Object.defineProperty(G,K.key,K)}}return function(G,H,Y){return H&&D(G.prototype,H),Y&&D(G,Y),G}}(),l=i(21),u=C(l),c=i(11),f=C(c),d=i(3),p=C(d),v=i(2),h=C(v),g=i(20),y=C(g),m=i(0),_=C(m),b=i(5),S=C(b),O=i(10),x=C(O),E=i(9),A=C(E);function C(D){return D&&D.__esModule?D:{default:D}}function k(D,G,H){return G in D?Object.defineProperty(D,G,{value:H,enumerable:!0,configurable:!0,writable:!0}):D[G]=H,D}function w(D,G){if(!(D instanceof G))throw new TypeError("Cannot call a class as a function")}function I(D,G){if(!D)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return G&&(typeof G=="object"||typeof G=="function")?G:D}function L(D,G){if(typeof G!="function"&&G!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof G);D.prototype=Object.create(G&&G.prototype,{constructor:{value:D,enumerable:!1,writable:!0,configurable:!0}}),G&&(Object.setPrototypeOf?Object.setPrototypeOf(D,G):D.__proto__=G)}var P=(0,x.default)("quill:keyboard"),V=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",$=function(D){L(G,D),s(G,null,[{key:"match",value:function(Y,K){return K=W(K),["altKey","ctrlKey","metaKey","shiftKey"].some(function(ie){return!!K[ie]!==Y[ie]&&K[ie]!==null})?!1:K.key===(Y.which||Y.keyCode)}}]);function G(H,Y){w(this,G);var K=I(this,(G.__proto__||Object.getPrototypeOf(G)).call(this,H,Y));return K.bindings={},Object.keys(K.options.bindings).forEach(function(ie){ie==="list autofill"&&H.scroll.whitelist!=null&&!H.scroll.whitelist.list||K.options.bindings[ie]&&K.addBinding(K.options.bindings[ie])}),K.addBinding({key:G.keys.ENTER,shiftKey:null},N),K.addBinding({key:G.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(K.addBinding({key:G.keys.BACKSPACE},{collapsed:!0},M),K.addBinding({key:G.keys.DELETE},{collapsed:!0},R)):(K.addBinding({key:G.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},M),K.addBinding({key:G.keys.DELETE},{collapsed:!0,suffix:/^.?$/},R)),K.addBinding({key:G.keys.BACKSPACE},{collapsed:!1},F),K.addBinding({key:G.keys.DELETE},{collapsed:!1},F),K.addBinding({key:G.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},M),K.listen(),K}return s(G,[{key:"addBinding",value:function(Y){var K=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ie=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},te=W(Y);if(te==null||te.key==null)return P.warn("Attempted to add invalid keyboard binding",te);typeof K=="function"&&(K={handler:K}),typeof ie=="function"&&(ie={handler:ie}),te=(0,p.default)(te,K,ie),this.bindings[te.key]=this.bindings[te.key]||[],this.bindings[te.key].push(te)}},{key:"listen",value:function(){var Y=this;this.quill.root.addEventListener("keydown",function(K){if(!K.defaultPrevented){var ie=K.which||K.keyCode,te=(Y.bindings[ie]||[]).filter(function(pe){return G.match(K,pe)});if(te.length!==0){var se=Y.quill.getSelection();if(!(se==null||!Y.quill.hasFocus())){var ue=Y.quill.getLine(se.index),fe=o(ue,2),de=fe[0],Se=fe[1],J=Y.quill.getLeaf(se.index),re=o(J,2),ce=re[0],ve=re[1],ee=se.length===0?[ce,ve]:Y.quill.getLeaf(se.index+se.length),me=o(ee,2),Oe=me[0],we=me[1],Je=ce instanceof _.default.Text?ce.value().slice(0,ve):"",at=Oe instanceof _.default.Text?Oe.value().slice(we):"",le={collapsed:se.length===0,empty:se.length===0&&de.length()<=1,format:Y.quill.getFormat(se),offset:Se,prefix:Je,suffix:at},ge=te.some(function(pe){if(pe.collapsed!=null&&pe.collapsed!==le.collapsed||pe.empty!=null&&pe.empty!==le.empty||pe.offset!=null&&pe.offset!==le.offset)return!1;if(Array.isArray(pe.format)){if(pe.format.every(function(Pe){return le.format[Pe]==null}))return!1}else if(a(pe.format)==="object"&&!Object.keys(pe.format).every(function(Pe){return pe.format[Pe]===!0?le.format[Pe]!=null:pe.format[Pe]===!1?le.format[Pe]==null:(0,f.default)(pe.format[Pe],le.format[Pe])}))return!1;return pe.prefix!=null&&!pe.prefix.test(le.prefix)||pe.suffix!=null&&!pe.suffix.test(le.suffix)?!1:pe.handler.call(Y,se,le)!==!0});ge&&K.preventDefault()}}}})}}]),G}(A.default);$.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},$.DEFAULTS={bindings:{bold:q("bold"),italic:q("italic"),underline:q("underline"),indent:{key:$.keys.TAB,format:["blockquote","indent","list"],handler:function(G,H){if(H.collapsed&&H.offset!==0)return!0;this.quill.format("indent","+1",S.default.sources.USER)}},outdent:{key:$.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(G,H){if(H.collapsed&&H.offset!==0)return!0;this.quill.format("indent","-1",S.default.sources.USER)}},"outdent backspace":{key:$.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(G,H){H.format.indent!=null?this.quill.format("indent","-1",S.default.sources.USER):H.format.list!=null&&this.quill.format("list",!1,S.default.sources.USER)}},"indent code-block":B(!0),"outdent code-block":B(!1),"remove tab":{key:$.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(G){this.quill.deleteText(G.index-1,1,S.default.sources.USER)}},tab:{key:$.keys.TAB,handler:function(G){this.quill.history.cutoff();var H=new h.default().retain(G.index).delete(G.length).insert("	");this.quill.updateContents(H,S.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(G.index+1,S.default.sources.SILENT)}},"list empty enter":{key:$.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(G,H){this.quill.format("list",!1,S.default.sources.USER),H.format.indent&&this.quill.format("indent",!1,S.default.sources.USER)}},"checklist enter":{key:$.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(G){var H=this.quill.getLine(G.index),Y=o(H,2),K=Y[0],ie=Y[1],te=(0,p.default)({},K.formats(),{list:"checked"}),se=new h.default().retain(G.index).insert("\n",te).retain(K.length()-ie-1).retain(1,{list:"unchecked"});this.quill.updateContents(se,S.default.sources.USER),this.quill.setSelection(G.index+1,S.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:$.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(G,H){var Y=this.quill.getLine(G.index),K=o(Y,2),ie=K[0],te=K[1],se=new h.default().retain(G.index).insert("\n",H.format).retain(ie.length()-te-1).retain(1,{header:null});this.quill.updateContents(se,S.default.sources.USER),this.quill.setSelection(G.index+1,S.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(G,H){var Y=H.prefix.length,K=this.quill.getLine(G.index),ie=o(K,2),te=ie[0],se=ie[1];if(se>Y)return!0;var ue=void 0;switch(H.prefix.trim()){case"[]":case"[ ]":ue="unchecked";break;case"[x]":ue="checked";break;case"-":case"*":ue="bullet";break;default:ue="ordered"}this.quill.insertText(G.index," ",S.default.sources.USER),this.quill.history.cutoff();var fe=new h.default().retain(G.index-se).delete(Y+1).retain(te.length()-2-se).retain(1,{list:ue});this.quill.updateContents(fe,S.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(G.index-Y,S.default.sources.SILENT)}},"code exit":{key:$.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(G){var H=this.quill.getLine(G.index),Y=o(H,2),K=Y[0],ie=Y[1],te=new h.default().retain(G.index+K.length()-ie-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(te,S.default.sources.USER)}},"embed left":U($.keys.LEFT,!1),"embed left shift":U($.keys.LEFT,!0),"embed right":U($.keys.RIGHT,!1),"embed right shift":U($.keys.RIGHT,!0)}};function U(D,G){var H,Y=D===$.keys.LEFT?"prefix":"suffix";return H={key:D,shiftKey:G,altKey:null},k(H,Y,/^$/),k(H,"handler",function(ie){var te=ie.index;D===$.keys.RIGHT&&(te+=ie.length+1);var se=this.quill.getLeaf(te),ue=o(se,1),fe=ue[0];return fe instanceof _.default.Embed?(D===$.keys.LEFT?G?this.quill.setSelection(ie.index-1,ie.length+1,S.default.sources.USER):this.quill.setSelection(ie.index-1,S.default.sources.USER):G?this.quill.setSelection(ie.index,ie.length+1,S.default.sources.USER):this.quill.setSelection(ie.index+ie.length+1,S.default.sources.USER),!1):!0}),H}function M(D,G){if(!(D.index===0||this.quill.getLength()<=1)){var H=this.quill.getLine(D.index),Y=o(H,1),K=Y[0],ie={};if(G.offset===0){var te=this.quill.getLine(D.index-1),se=o(te,1),ue=se[0];if(ue!=null&&ue.length()>1){var fe=K.formats(),de=this.quill.getFormat(D.index-1,1);ie=y.default.attributes.diff(fe,de)||{}}}var Se=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(G.prefix)?2:1;this.quill.deleteText(D.index-Se,Se,S.default.sources.USER),Object.keys(ie).length>0&&this.quill.formatLine(D.index-Se,Se,ie,S.default.sources.USER),this.quill.focus()}}function R(D,G){var H=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(G.suffix)?2:1;if(!(D.index>=this.quill.getLength()-H)){var Y={},K=0,ie=this.quill.getLine(D.index),te=o(ie,1),se=te[0];if(G.offset>=se.length()-1){var ue=this.quill.getLine(D.index+1),fe=o(ue,1),de=fe[0];if(de){var Se=se.formats(),J=this.quill.getFormat(D.index,1);Y=y.default.attributes.diff(Se,J)||{},K=de.length()}}this.quill.deleteText(D.index,H,S.default.sources.USER),Object.keys(Y).length>0&&this.quill.formatLine(D.index+K-1,H,Y,S.default.sources.USER)}}function F(D){var G=this.quill.getLines(D),H={};if(G.length>1){var Y=G[0].formats(),K=G[G.length-1].formats();H=y.default.attributes.diff(K,Y)||{}}this.quill.deleteText(D,S.default.sources.USER),Object.keys(H).length>0&&this.quill.formatLine(D.index,1,H,S.default.sources.USER),this.quill.setSelection(D.index,S.default.sources.SILENT),this.quill.focus()}function N(D,G){var H=this;D.length>0&&this.quill.scroll.deleteAt(D.index,D.length);var Y=Object.keys(G.format).reduce(function(K,ie){return _.default.query(ie,_.default.Scope.BLOCK)&&!Array.isArray(G.format[ie])&&(K[ie]=G.format[ie]),K},{});this.quill.insertText(D.index,"\n",Y,S.default.sources.USER),this.quill.setSelection(D.index+1,S.default.sources.SILENT),this.quill.focus(),Object.keys(G.format).forEach(function(K){Y[K]==null&&(Array.isArray(G.format[K])||K!=="link"&&H.quill.format(K,G.format[K],S.default.sources.USER))})}function B(D){return{key:$.keys.TAB,shiftKey:!D,format:{"code-block":!0},handler:function(H){var Y=_.default.query("code-block"),K=H.index,ie=H.length,te=this.quill.scroll.descendant(Y,K),se=o(te,2),ue=se[0],fe=se[1];if(ue!=null){var de=this.quill.getIndex(ue),Se=ue.newlineIndex(fe,!0)+1,J=ue.newlineIndex(de+fe+ie),re=ue.domNode.textContent.slice(Se,J).split("\n");fe=0,re.forEach(function(ce,ve){D?(ue.insertAt(Se+fe,Y.TAB),fe+=Y.TAB.length,ve===0?K+=Y.TAB.length:ie+=Y.TAB.length):ce.startsWith(Y.TAB)&&(ue.deleteAt(Se+fe,Y.TAB.length),fe-=Y.TAB.length,ve===0?K-=Y.TAB.length:ie-=Y.TAB.length),fe+=ce.length+1}),this.quill.update(S.default.sources.USER),this.quill.setSelection(K,ie,S.default.sources.SILENT)}}}}function q(D){return{key:D[0].toUpperCase(),shortKey:!0,handler:function(H,Y){this.quill.format(D,!Y.format[D],S.default.sources.USER)}}}function W(D){if(typeof D=="string"||typeof D=="number")return W({key:D});if((typeof D>"u"?"undefined":a(D))==="object"&&(D=(0,u.default)(D,!1)),typeof D.key=="string")if($.keys[D.key.toUpperCase()]!=null)D.key=$.keys[D.key.toUpperCase()];else if(D.key.length===1)D.key=D.key.toUpperCase().charCodeAt(0);else return null;return D.shortKey&&(D[V]=D.shortKey,delete D.shortKey),D}n.default=$,n.SHORTKEY=V},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function y(m,_){var b=[],S=!0,O=!1,x=void 0;try{for(var E=m[Symbol.iterator](),A;!(S=(A=E.next()).done)&&(b.push(A.value),!(_&&b.length===_));S=!0);}catch(C){O=!0,x=C}finally{try{!S&&E.return&&E.return()}finally{if(O)throw x}}return b}return function(m,_){if(Array.isArray(m))return m;if(Symbol.iterator in Object(m))return y(m,_);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function y(m,_,b){m===null&&(m=Function.prototype);var S=Object.getOwnPropertyDescriptor(m,_);if(S===void 0){var O=Object.getPrototypeOf(m);return O===null?void 0:y(O,_,b)}else{if("value"in S)return S.value;var x=S.get;return x===void 0?void 0:x.call(b)}},s=function(){function y(m,_){for(var b=0;b<_.length;b++){var S=_[b];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(m,S.key,S)}}return function(m,_,b){return _&&y(m.prototype,_),b&&y(m,b),m}}(),l=i(0),u=d(l),c=i(7),f=d(c);function d(y){return y&&y.__esModule?y:{default:y}}function p(y,m){if(!(y instanceof m))throw new TypeError("Cannot call a class as a function")}function v(y,m){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:y}function h(y,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);y.prototype=Object.create(m&&m.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(y,m):y.__proto__=m)}var g=function(y){h(m,y),s(m,null,[{key:"value",value:function(){}}]);function m(_,b){p(this,m);var S=v(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,_));return S.selection=b,S.textNode=document.createTextNode(m.CONTENTS),S.domNode.appendChild(S.textNode),S._length=0,S}return s(m,[{key:"detach",value:function(){this.parent!=null&&this.parent.removeChild(this)}},{key:"format",value:function(b,S){if(this._length!==0)return o(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"format",this).call(this,b,S);for(var O=this,x=0;O!=null&&O.statics.scope!==u.default.Scope.BLOCK_BLOT;)x+=O.offset(O.parent),O=O.parent;O!=null&&(this._length=m.CONTENTS.length,O.optimize(),O.formatAt(x,m.CONTENTS.length,b,S),this._length=0)}},{key:"index",value:function(b,S){return b===this.textNode?0:o(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"index",this).call(this,b,S)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){o(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!(this.selection.composing||this.parent==null)){var b=this.textNode,S=this.selection.getNativeRange(),O=void 0,x=void 0,E=void 0;if(S!=null&&S.start.node===b&&S.end.node===b){var A=[b,S.start.offset,S.end.offset];O=A[0],x=A[1],E=A[2]}for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==m.CONTENTS){var C=this.textNode.data.split(m.CONTENTS).join("");this.next instanceof f.default?(O=this.next.domNode,this.next.insertAt(0,C),this.textNode.data=m.CONTENTS):(this.textNode.data=C,this.parent.insertBefore(u.default.create(this.textNode),this),this.textNode=document.createTextNode(m.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),x!=null){var k=[x,E].map(function(I){return Math.max(0,Math.min(O.data.length,I-1))}),w=a(k,2);return x=w[0],E=w[1],{startNode:O,startOffset:x,endNode:O,endOffset:E}}}}},{key:"update",value:function(b,S){var O=this;if(b.some(function(E){return E.type==="characterData"&&E.target===O.textNode})){var x=this.restore();x&&(S.range=x)}}},{key:"value",value:function(){return""}}]),m}(u.default.Embed);g.blotName="cursor",g.className="ql-cursor",g.tagName="span",g.CONTENTS="\uFEFF",n.default=g},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(0),o=u(a),s=i(4),l=u(s);function u(v){return v&&v.__esModule?v:{default:v}}function c(v,h){if(!(v instanceof h))throw new TypeError("Cannot call a class as a function")}function f(v,h){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:v}function d(v,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);v.prototype=Object.create(h&&h.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(v,h):v.__proto__=h)}var p=function(v){d(h,v);function h(){return c(this,h),f(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}return h}(o.default.Container);p.allowedChildren=[l.default,s.BlockEmbed,p],n.default=p},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.ColorStyle=n.ColorClass=n.ColorAttributor=void 0;var a=function(){function g(y,m){for(var _=0;_<m.length;_++){var b=m[_];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(y,b.key,b)}}return function(y,m,_){return m&&g(y.prototype,m),_&&g(y,_),y}}(),o=function g(y,m,_){y===null&&(y=Function.prototype);var b=Object.getOwnPropertyDescriptor(y,m);if(b===void 0){var S=Object.getPrototypeOf(y);return S===null?void 0:g(S,m,_)}else{if("value"in b)return b.value;var O=b.get;return O===void 0?void 0:O.call(_)}},s=i(0),l=u(s);function u(g){return g&&g.__esModule?g:{default:g}}function c(g,y){if(!(g instanceof y))throw new TypeError("Cannot call a class as a function")}function f(g,y){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:g}function d(g,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);g.prototype=Object.create(y&&y.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(g,y):g.__proto__=y)}var p=function(g){d(y,g);function y(){return c(this,y),f(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return a(y,[{key:"value",value:function(_){var b=o(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"value",this).call(this,_);return b.startsWith("rgb(")?(b=b.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+b.split(",").map(function(S){return("00"+parseInt(S).toString(16)).slice(-2)}).join("")):b}}]),y}(l.default.Attributor.Style),v=new l.default.Attributor.Class("color","ql-color",{scope:l.default.Scope.INLINE}),h=new p("color","color",{scope:l.default.Scope.INLINE});n.ColorAttributor=p,n.ColorClass=v,n.ColorStyle=h},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.sanitize=n.default=void 0;var a=function(){function h(g,y){for(var m=0;m<y.length;m++){var _=y[m];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(g,_.key,_)}}return function(g,y,m){return y&&h(g.prototype,y),m&&h(g,m),g}}(),o=function h(g,y,m){g===null&&(g=Function.prototype);var _=Object.getOwnPropertyDescriptor(g,y);if(_===void 0){var b=Object.getPrototypeOf(g);return b===null?void 0:h(b,y,m)}else{if("value"in _)return _.value;var S=_.get;return S===void 0?void 0:S.call(m)}},s=i(6),l=u(s);function u(h){return h&&h.__esModule?h:{default:h}}function c(h,g){if(!(h instanceof g))throw new TypeError("Cannot call a class as a function")}function f(h,g){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:h}function d(h,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);h.prototype=Object.create(g&&g.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(h,g):h.__proto__=g)}var p=function(h){d(g,h);function g(){return c(this,g),f(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return a(g,[{key:"format",value:function(m,_){if(m!==this.statics.blotName||!_)return o(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"format",this).call(this,m,_);_=this.constructor.sanitize(_),this.domNode.setAttribute("href",_)}}],[{key:"create",value:function(m){var _=o(g.__proto__||Object.getPrototypeOf(g),"create",this).call(this,m);return m=this.sanitize(m),_.setAttribute("href",m),_.setAttribute("rel","noopener noreferrer"),_.setAttribute("target","_blank"),_}},{key:"formats",value:function(m){return m.getAttribute("href")}},{key:"sanitize",value:function(m){return v(m,this.PROTOCOL_WHITELIST)?m:this.SANITIZED_URL}}]),g}(l.default);p.blotName="link",p.tagName="A",p.SANITIZED_URL="about:blank",p.PROTOCOL_WHITELIST=["http","https","mailto","tel"];function v(h,g){var y=document.createElement("a");y.href=h;var m=y.href.slice(0,y.href.indexOf(":"));return g.indexOf(m)>-1}n.default=p,n.sanitize=v},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(g){return typeof g}:function(g){return g&&typeof Symbol=="function"&&g.constructor===Symbol&&g!==Symbol.prototype?"symbol":typeof g},o=function(){function g(y,m){for(var _=0;_<m.length;_++){var b=m[_];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(y,b.key,b)}}return function(y,m,_){return m&&g(y.prototype,m),_&&g(y,_),y}}(),s=i(23),l=f(s),u=i(107),c=f(u);function f(g){return g&&g.__esModule?g:{default:g}}function d(g,y){if(!(g instanceof y))throw new TypeError("Cannot call a class as a function")}var p=0;function v(g,y){g.setAttribute(y,g.getAttribute(y)!=="true")}var h=function(){function g(y){var m=this;d(this,g),this.select=y,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){m.togglePicker()}),this.label.addEventListener("keydown",function(_){switch(_.keyCode){case l.default.keys.ENTER:m.togglePicker();break;case l.default.keys.ESCAPE:m.escape(),_.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}return o(g,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),v(this.label,"aria-expanded"),v(this.options,"aria-hidden")}},{key:"buildItem",value:function(m){var _=this,b=document.createElement("span");return b.tabIndex="0",b.setAttribute("role","button"),b.classList.add("ql-picker-item"),m.hasAttribute("value")&&b.setAttribute("data-value",m.getAttribute("value")),m.textContent&&b.setAttribute("data-label",m.textContent),b.addEventListener("click",function(){_.selectItem(b,!0)}),b.addEventListener("keydown",function(S){switch(S.keyCode){case l.default.keys.ENTER:_.selectItem(b,!0),S.preventDefault();break;case l.default.keys.ESCAPE:_.escape(),S.preventDefault();break}}),b}},{key:"buildLabel",value:function(){var m=document.createElement("span");return m.classList.add("ql-picker-label"),m.innerHTML=c.default,m.tabIndex="0",m.setAttribute("role","button"),m.setAttribute("aria-expanded","false"),this.container.appendChild(m),m}},{key:"buildOptions",value:function(){var m=this,_=document.createElement("span");_.classList.add("ql-picker-options"),_.setAttribute("aria-hidden","true"),_.tabIndex="-1",_.id="ql-picker-options-"+p,p+=1,this.label.setAttribute("aria-controls",_.id),this.options=_,[].slice.call(this.select.options).forEach(function(b){var S=m.buildItem(b);_.appendChild(S),b.selected===!0&&m.selectItem(S)}),this.container.appendChild(_)}},{key:"buildPicker",value:function(){var m=this;[].slice.call(this.select.attributes).forEach(function(_){m.container.setAttribute(_.name,_.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var m=this;this.close(),setTimeout(function(){return m.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(m){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,b=this.container.querySelector(".ql-selected");if(m!==b&&(b!=null&&b.classList.remove("ql-selected"),m!=null&&(m.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(m.parentNode.children,m),m.hasAttribute("data-value")?this.label.setAttribute("data-value",m.getAttribute("data-value")):this.label.removeAttribute("data-value"),m.hasAttribute("data-label")?this.label.setAttribute("data-label",m.getAttribute("data-label")):this.label.removeAttribute("data-label"),_))){if(typeof Event=="function")this.select.dispatchEvent(new Event("change"));else if((typeof Event>"u"?"undefined":a(Event))==="object"){var S=document.createEvent("Event");S.initEvent("change",!0,!0),this.select.dispatchEvent(S)}this.close()}}},{key:"update",value:function(){var m=void 0;if(this.select.selectedIndex>-1){var _=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];m=this.select.options[this.select.selectedIndex],this.selectItem(_)}else this.selectItem(null);var b=m!=null&&m!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",b)}}]),g}();n.default=h},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(0),o=P(a),s=i(5),l=P(s),u=i(4),c=P(u),f=i(16),d=P(f),p=i(25),v=P(p),h=i(24),g=P(h),y=i(35),m=P(y),_=i(6),b=P(_),S=i(22),O=P(S),x=i(7),E=P(x),A=i(55),C=P(A),k=i(42),w=P(k),I=i(23),L=P(I);function P(V){return V&&V.__esModule?V:{default:V}}l.default.register({"blots/block":c.default,"blots/block/embed":u.BlockEmbed,"blots/break":d.default,"blots/container":v.default,"blots/cursor":g.default,"blots/embed":m.default,"blots/inline":b.default,"blots/scroll":O.default,"blots/text":E.default,"modules/clipboard":C.default,"modules/history":w.default,"modules/keyboard":L.default}),o.default.register(c.default,d.default,g.default,b.default,O.default,E.default),n.default=l.default},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(1),o=function(){function s(l){this.domNode=l,this.domNode[a.DATA_KEY]={blot:this}}return Object.defineProperty(s.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),s.create=function(l){if(this.tagName==null)throw new a.ParchmentError("Blot definition missing tagName");var u;return Array.isArray(this.tagName)?(typeof l=="string"&&(l=l.toUpperCase(),parseInt(l).toString()===l&&(l=parseInt(l))),typeof l=="number"?u=document.createElement(this.tagName[l-1]):this.tagName.indexOf(l)>-1?u=document.createElement(l):u=document.createElement(this.tagName[0])):u=document.createElement(this.tagName),this.className&&u.classList.add(this.className),u},s.prototype.attach=function(){this.parent!=null&&(this.scroll=this.parent.scroll)},s.prototype.clone=function(){var l=this.domNode.cloneNode(!1);return a.create(l)},s.prototype.detach=function(){this.parent!=null&&this.parent.removeChild(this),delete this.domNode[a.DATA_KEY]},s.prototype.deleteAt=function(l,u){var c=this.isolate(l,u);c.remove()},s.prototype.formatAt=function(l,u,c,f){var d=this.isolate(l,u);if(a.query(c,a.Scope.BLOT)!=null&&f)d.wrap(c,f);else if(a.query(c,a.Scope.ATTRIBUTE)!=null){var p=a.create(this.statics.scope);d.wrap(p),p.format(c,f)}},s.prototype.insertAt=function(l,u,c){var f=c==null?a.create("text",u):a.create(u,c),d=this.split(l);this.parent.insertBefore(f,d)},s.prototype.insertInto=function(l,u){u===void 0&&(u=null),this.parent!=null&&this.parent.children.remove(this);var c=null;l.children.insertBefore(this,u),u!=null&&(c=u.domNode),(this.domNode.parentNode!=l.domNode||this.domNode.nextSibling!=c)&&l.domNode.insertBefore(this.domNode,c),this.parent=l,this.attach()},s.prototype.isolate=function(l,u){var c=this.split(l);return c.split(u),c},s.prototype.length=function(){return 1},s.prototype.offset=function(l){return l===void 0&&(l=this.parent),this.parent==null||this==l?0:this.parent.children.offset(this)+this.parent.offset(l)},s.prototype.optimize=function(l){this.domNode[a.DATA_KEY]!=null&&delete this.domNode[a.DATA_KEY].mutations},s.prototype.remove=function(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},s.prototype.replace=function(l){l.parent!=null&&(l.parent.insertBefore(this,l.next),l.remove())},s.prototype.replaceWith=function(l,u){var c=typeof l=="string"?a.create(l,u):l;return c.replace(this),c},s.prototype.split=function(l,u){return l===0?this:this.next},s.prototype.update=function(l,u){},s.prototype.wrap=function(l,u){var c=typeof l=="string"?a.create(l,u):l;return this.parent!=null&&this.parent.insertBefore(c,this.next),c.appendChild(this),c},s.blotName="abstract",s}();n.default=o},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(12),o=i(32),s=i(33),l=i(1),u=function(){function c(f){this.attributes={},this.domNode=f,this.build()}return c.prototype.attribute=function(f,d){d?f.add(this.domNode,d)&&(f.value(this.domNode)!=null?this.attributes[f.attrName]=f:delete this.attributes[f.attrName]):(f.remove(this.domNode),delete this.attributes[f.attrName])},c.prototype.build=function(){var f=this;this.attributes={};var d=a.default.keys(this.domNode),p=o.default.keys(this.domNode),v=s.default.keys(this.domNode);d.concat(p).concat(v).forEach(function(h){var g=l.query(h,l.Scope.ATTRIBUTE);g instanceof a.default&&(f.attributes[g.attrName]=g)})},c.prototype.copy=function(f){var d=this;Object.keys(this.attributes).forEach(function(p){var v=d.attributes[p].value(d.domNode);f.format(p,v)})},c.prototype.move=function(f){var d=this;this.copy(f),Object.keys(this.attributes).forEach(function(p){d.attributes[p].remove(d.domNode)}),this.attributes={}},c.prototype.values=function(){var f=this;return Object.keys(this.attributes).reduce(function(d,p){return d[p]=f.attributes[p].value(f.domNode),d},{})},c}();n.default=u},function(r,n,i){var a=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,f){c.__proto__=f}||function(c,f){for(var d in f)f.hasOwnProperty(d)&&(c[d]=f[d])};return function(c,f){u(c,f);function d(){this.constructor=c}c.prototype=f===null?Object.create(f):(d.prototype=f.prototype,new d)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=i(12);function s(u,c){var f=u.getAttribute("class")||"";return f.split(/\s+/).filter(function(d){return d.indexOf(c+"-")===0})}var l=function(u){a(c,u);function c(){return u!==null&&u.apply(this,arguments)||this}return c.keys=function(f){return(f.getAttribute("class")||"").split(/\s+/).map(function(d){return d.split("-").slice(0,-1).join("-")})},c.prototype.add=function(f,d){return this.canAdd(f,d)?(this.remove(f),f.classList.add(this.keyName+"-"+d),!0):!1},c.prototype.remove=function(f){var d=s(f,this.keyName);d.forEach(function(p){f.classList.remove(p)}),f.classList.length===0&&f.removeAttribute("class")},c.prototype.value=function(f){var d=s(f,this.keyName)[0]||"",p=d.slice(this.keyName.length+1);return this.canAdd(f,p)?p:""},c}(o.default);n.default=l},function(r,n,i){var a=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,f){c.__proto__=f}||function(c,f){for(var d in f)f.hasOwnProperty(d)&&(c[d]=f[d])};return function(c,f){u(c,f);function d(){this.constructor=c}c.prototype=f===null?Object.create(f):(d.prototype=f.prototype,new d)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=i(12);function s(u){var c=u.split("-"),f=c.slice(1).map(function(d){return d[0].toUpperCase()+d.slice(1)}).join("");return c[0]+f}var l=function(u){a(c,u);function c(){return u!==null&&u.apply(this,arguments)||this}return c.keys=function(f){return(f.getAttribute("style")||"").split(";").map(function(d){var p=d.split(":");return p[0].trim()})},c.prototype.add=function(f,d){return this.canAdd(f,d)?(f.style[s(this.keyName)]=d,!0):!1},c.prototype.remove=function(f){f.style[s(this.keyName)]="",f.getAttribute("style")||f.removeAttribute("style")},c.prototype.value=function(f){var d=f.style[s(this.keyName)];return this.canAdd(f,d)?d:""},c}(o.default);n.default=l},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function l(u,c){for(var f=0;f<c.length;f++){var d=c[f];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(u,d.key,d)}}return function(u,c,f){return c&&l(u.prototype,c),f&&l(u,f),u}}();function o(l,u){if(!(l instanceof u))throw new TypeError("Cannot call a class as a function")}var s=function(){function l(u,c){o(this,l),this.quill=u,this.options=c,this.modules={}}return a(l,[{key:"init",value:function(){var c=this;Object.keys(this.options.modules).forEach(function(f){c.modules[f]==null&&c.addModule(f)})}},{key:"addModule",value:function(c){var f=this.quill.constructor.import("modules/"+c);return this.modules[c]=new f(this.quill,this.options.modules[c]||{}),this.modules[c]}}]),l}();s.DEFAULTS={modules:{}},s.themes={default:s},n.default=s},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function y(m,_){for(var b=0;b<_.length;b++){var S=_[b];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(m,S.key,S)}}return function(m,_,b){return _&&y(m.prototype,_),b&&y(m,b),m}}(),o=function y(m,_,b){m===null&&(m=Function.prototype);var S=Object.getOwnPropertyDescriptor(m,_);if(S===void 0){var O=Object.getPrototypeOf(m);return O===null?void 0:y(O,_,b)}else{if("value"in S)return S.value;var x=S.get;return x===void 0?void 0:x.call(b)}},s=i(0),l=f(s),u=i(7),c=f(u);function f(y){return y&&y.__esModule?y:{default:y}}function d(y,m){if(!(y instanceof m))throw new TypeError("Cannot call a class as a function")}function p(y,m){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:y}function v(y,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);y.prototype=Object.create(m&&m.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(y,m):y.__proto__=m)}var h="\uFEFF",g=function(y){v(m,y);function m(_){d(this,m);var b=p(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,_));return b.contentNode=document.createElement("span"),b.contentNode.setAttribute("contenteditable",!1),[].slice.call(b.domNode.childNodes).forEach(function(S){b.contentNode.appendChild(S)}),b.leftGuard=document.createTextNode(h),b.rightGuard=document.createTextNode(h),b.domNode.appendChild(b.leftGuard),b.domNode.appendChild(b.contentNode),b.domNode.appendChild(b.rightGuard),b}return a(m,[{key:"index",value:function(b,S){return b===this.leftGuard?0:b===this.rightGuard?1:o(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"index",this).call(this,b,S)}},{key:"restore",value:function(b){var S=void 0,O=void 0,x=b.data.split(h).join("");if(b===this.leftGuard)if(this.prev instanceof c.default){var E=this.prev.length();this.prev.insertAt(E,x),S={startNode:this.prev.domNode,startOffset:E+x.length}}else O=document.createTextNode(x),this.parent.insertBefore(l.default.create(O),this),S={startNode:O,startOffset:x.length};else b===this.rightGuard&&(this.next instanceof c.default?(this.next.insertAt(0,x),S={startNode:this.next.domNode,startOffset:x.length}):(O=document.createTextNode(x),this.parent.insertBefore(l.default.create(O),this.next),S={startNode:O,startOffset:x.length}));return b.data=h,S}},{key:"update",value:function(b,S){var O=this;b.forEach(function(x){if(x.type==="characterData"&&(x.target===O.leftGuard||x.target===O.rightGuard)){var E=O.restore(x.target);E&&(S.range=E)}})}}]),m}(l.default.Embed);n.default=g},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.AlignStyle=n.AlignClass=n.AlignAttribute=void 0;var a=i(0),o=s(a);function s(d){return d&&d.__esModule?d:{default:d}}var l={scope:o.default.Scope.BLOCK,whitelist:["right","center","justify"]},u=new o.default.Attributor.Attribute("align","align",l),c=new o.default.Attributor.Class("align","ql-align",l),f=new o.default.Attributor.Style("align","text-align",l);n.AlignAttribute=u,n.AlignClass=c,n.AlignStyle=f},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.BackgroundStyle=n.BackgroundClass=void 0;var a=i(0),o=l(a),s=i(26);function l(f){return f&&f.__esModule?f:{default:f}}var u=new o.default.Attributor.Class("background","ql-bg",{scope:o.default.Scope.INLINE}),c=new s.ColorAttributor("background","background-color",{scope:o.default.Scope.INLINE});n.BackgroundClass=u,n.BackgroundStyle=c},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.DirectionStyle=n.DirectionClass=n.DirectionAttribute=void 0;var a=i(0),o=s(a);function s(d){return d&&d.__esModule?d:{default:d}}var l={scope:o.default.Scope.BLOCK,whitelist:["rtl"]},u=new o.default.Attributor.Attribute("direction","dir",l),c=new o.default.Attributor.Class("direction","ql-direction",l),f=new o.default.Attributor.Style("direction","direction",l);n.DirectionAttribute=u,n.DirectionClass=c,n.DirectionStyle=f},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.FontClass=n.FontStyle=void 0;var a=function(){function y(m,_){for(var b=0;b<_.length;b++){var S=_[b];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(m,S.key,S)}}return function(m,_,b){return _&&y(m.prototype,_),b&&y(m,b),m}}(),o=function y(m,_,b){m===null&&(m=Function.prototype);var S=Object.getOwnPropertyDescriptor(m,_);if(S===void 0){var O=Object.getPrototypeOf(m);return O===null?void 0:y(O,_,b)}else{if("value"in S)return S.value;var x=S.get;return x===void 0?void 0:x.call(b)}},s=i(0),l=u(s);function u(y){return y&&y.__esModule?y:{default:y}}function c(y,m){if(!(y instanceof m))throw new TypeError("Cannot call a class as a function")}function f(y,m){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return m&&(typeof m=="object"||typeof m=="function")?m:y}function d(y,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof m);y.prototype=Object.create(m&&m.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),m&&(Object.setPrototypeOf?Object.setPrototypeOf(y,m):y.__proto__=m)}var p={scope:l.default.Scope.INLINE,whitelist:["serif","monospace"]},v=new l.default.Attributor.Class("font","ql-font",p),h=function(y){d(m,y);function m(){return c(this,m),f(this,(m.__proto__||Object.getPrototypeOf(m)).apply(this,arguments))}return a(m,[{key:"value",value:function(b){return o(m.prototype.__proto__||Object.getPrototypeOf(m.prototype),"value",this).call(this,b).replace(/["']/g,"")}}]),m}(l.default.Attributor.Style),g=new h("font","font-family",p);n.FontStyle=g,n.FontClass=v},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.SizeStyle=n.SizeClass=void 0;var a=i(0),o=s(a);function s(c){return c&&c.__esModule?c:{default:c}}var l=new o.default.Attributor.Class("size","ql-size",{scope:o.default.Scope.INLINE,whitelist:["small","large","huge"]}),u=new o.default.Attributor.Style("size","font-size",{scope:o.default.Scope.INLINE,whitelist:["10px","18px","32px"]});n.SizeClass=l,n.SizeStyle=u},function(r,n,i){r.exports={align:{"":i(76),center:i(77),right:i(78),justify:i(79)},background:i(80),blockquote:i(81),bold:i(82),clean:i(83),code:i(58),"code-block":i(58),color:i(84),direction:{"":i(85),rtl:i(86)},float:{center:i(87),full:i(88),left:i(89),right:i(90)},formula:i(91),header:{1:i(92),2:i(93)},italic:i(94),image:i(95),indent:{"+1":i(96),"-1":i(97)},link:i(98),list:{ordered:i(99),bullet:i(100),check:i(101)},script:{sub:i(102),super:i(103)},strike:i(104),underline:i(105),video:i(106)}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.getLastChangeIndex=n.default=void 0;var a=function(){function _(b,S){for(var O=0;O<S.length;O++){var x=S[O];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(b,x.key,x)}}return function(b,S,O){return S&&_(b.prototype,S),O&&_(b,O),b}}(),o=i(0),s=d(o),l=i(5),u=d(l),c=i(9),f=d(c);function d(_){return _&&_.__esModule?_:{default:_}}function p(_,b){if(!(_ instanceof b))throw new TypeError("Cannot call a class as a function")}function v(_,b){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:_}function h(_,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);_.prototype=Object.create(b&&b.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(_,b):_.__proto__=b)}var g=function(_){h(b,_);function b(S,O){p(this,b);var x=v(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,S,O));return x.lastRecorded=0,x.ignoreChange=!1,x.clear(),x.quill.on(u.default.events.EDITOR_CHANGE,function(E,A,C,k){E!==u.default.events.TEXT_CHANGE||x.ignoreChange||(!x.options.userOnly||k===u.default.sources.USER?x.record(A,C):x.transform(A))}),x.quill.keyboard.addBinding({key:"Z",shortKey:!0},x.undo.bind(x)),x.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},x.redo.bind(x)),/Win/i.test(navigator.platform)&&x.quill.keyboard.addBinding({key:"Y",shortKey:!0},x.redo.bind(x)),x}return a(b,[{key:"change",value:function(O,x){if(this.stack[O].length!==0){var E=this.stack[O].pop();this.stack[x].push(E),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(E[O],u.default.sources.USER),this.ignoreChange=!1;var A=m(E[O]);this.quill.setSelection(A)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(O,x){if(O.ops.length!==0){this.stack.redo=[];var E=this.quill.getContents().diff(x),A=Date.now();if(this.lastRecorded+this.options.delay>A&&this.stack.undo.length>0){var C=this.stack.undo.pop();E=E.compose(C.undo),O=C.redo.compose(O)}else this.lastRecorded=A;this.stack.undo.push({redo:O,undo:E}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(O){this.stack.undo.forEach(function(x){x.undo=O.transform(x.undo,!0),x.redo=O.transform(x.redo,!0)}),this.stack.redo.forEach(function(x){x.undo=O.transform(x.undo,!0),x.redo=O.transform(x.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),b}(f.default);g.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};function y(_){var b=_.ops[_.ops.length-1];return b==null?!1:b.insert!=null?typeof b.insert=="string"&&b.insert.endsWith("\n"):b.attributes!=null?Object.keys(b.attributes).some(function(S){return s.default.query(S,s.default.Scope.BLOCK)!=null}):!1}function m(_){var b=_.reduce(function(O,x){return O+=x.delete||0,O},0),S=_.length()-b;return y(_)&&(S-=1),S}n.default=g,n.getLastChangeIndex=m},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.BaseTooltip=void 0;var a=function(){function N(B,q){for(var W=0;W<q.length;W++){var D=q[W];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(B,D.key,D)}}return function(B,q,W){return q&&N(B.prototype,q),W&&N(B,W),B}}(),o=function N(B,q,W){B===null&&(B=Function.prototype);var D=Object.getOwnPropertyDescriptor(B,q);if(D===void 0){var G=Object.getPrototypeOf(B);return G===null?void 0:N(G,q,W)}else{if("value"in D)return D.value;var H=D.get;return H===void 0?void 0:H.call(W)}},s=i(3),l=A(s),u=i(2),c=A(u),f=i(8),d=A(f),p=i(23),v=A(p),h=i(34),g=A(h),y=i(59),m=A(y),_=i(60),b=A(_),S=i(28),O=A(S),x=i(61),E=A(x);function A(N){return N&&N.__esModule?N:{default:N}}function C(N,B){if(!(N instanceof B))throw new TypeError("Cannot call a class as a function")}function k(N,B){if(!N)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return B&&(typeof B=="object"||typeof B=="function")?B:N}function w(N,B){if(typeof B!="function"&&B!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof B);N.prototype=Object.create(B&&B.prototype,{constructor:{value:N,enumerable:!1,writable:!0,configurable:!0}}),B&&(Object.setPrototypeOf?Object.setPrototypeOf(N,B):N.__proto__=B)}var I=[!1,"center","right","justify"],L=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],P=[!1,"serif","monospace"],V=["1","2","3",!1],$=["small",!1,"large","huge"],U=function(N){w(B,N);function B(q,W){C(this,B);var D=k(this,(B.__proto__||Object.getPrototypeOf(B)).call(this,q,W)),G=function H(Y){if(!document.body.contains(q.root))return document.body.removeEventListener("click",H);D.tooltip!=null&&!D.tooltip.root.contains(Y.target)&&document.activeElement!==D.tooltip.textbox&&!D.quill.hasFocus()&&D.tooltip.hide(),D.pickers!=null&&D.pickers.forEach(function(K){K.container.contains(Y.target)||K.close()})};return q.emitter.listenDOM("click",document.body,G),D}return a(B,[{key:"addModule",value:function(W){var D=o(B.prototype.__proto__||Object.getPrototypeOf(B.prototype),"addModule",this).call(this,W);return W==="toolbar"&&this.extendToolbar(D),D}},{key:"buildButtons",value:function(W,D){W.forEach(function(G){var H=G.getAttribute("class")||"";H.split(/\s+/).forEach(function(Y){if(Y.startsWith("ql-")&&(Y=Y.slice(3),D[Y]!=null))if(Y==="direction")G.innerHTML=D[Y][""]+D[Y].rtl;else if(typeof D[Y]=="string")G.innerHTML=D[Y];else{var K=G.value||"";K!=null&&D[Y][K]&&(G.innerHTML=D[Y][K])}})})}},{key:"buildPickers",value:function(W,D){var G=this;this.pickers=W.map(function(Y){if(Y.classList.contains("ql-align"))return Y.querySelector("option")==null&&F(Y,I),new b.default(Y,D.align);if(Y.classList.contains("ql-background")||Y.classList.contains("ql-color")){var K=Y.classList.contains("ql-background")?"background":"color";return Y.querySelector("option")==null&&F(Y,L,K==="background"?"#ffffff":"#000000"),new m.default(Y,D[K])}else return Y.querySelector("option")==null&&(Y.classList.contains("ql-font")?F(Y,P):Y.classList.contains("ql-header")?F(Y,V):Y.classList.contains("ql-size")&&F(Y,$)),new O.default(Y)});var H=function(){G.pickers.forEach(function(K){K.update()})};this.quill.on(d.default.events.EDITOR_CHANGE,H)}}]),B}(g.default);U.DEFAULTS=(0,l.default)(!0,{},g.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var B=this,q=this.container.querySelector("input.ql-image[type=file]");q==null&&(q=document.createElement("input"),q.setAttribute("type","file"),q.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),q.classList.add("ql-image"),q.addEventListener("change",function(){if(q.files!=null&&q.files[0]!=null){var W=new FileReader;W.onload=function(D){var G=B.quill.getSelection(!0);B.quill.updateContents(new c.default().retain(G.index).delete(G.length).insert({image:D.target.result}),d.default.sources.USER),B.quill.setSelection(G.index+1,d.default.sources.SILENT),q.value=""},W.readAsDataURL(q.files[0])}}),this.container.appendChild(q)),q.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var M=function(N){w(B,N);function B(q,W){C(this,B);var D=k(this,(B.__proto__||Object.getPrototypeOf(B)).call(this,q,W));return D.textbox=D.root.querySelector('input[type="text"]'),D.listen(),D}return a(B,[{key:"listen",value:function(){var W=this;this.textbox.addEventListener("keydown",function(D){v.default.match(D,"enter")?(W.save(),D.preventDefault()):v.default.match(D,"escape")&&(W.cancel(),D.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var W=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),D!=null?this.textbox.value=D:W!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+W)||""),this.root.setAttribute("data-mode",W)}},{key:"restoreFocus",value:function(){var W=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=W}},{key:"save",value:function(){var W=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":{var D=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",W,d.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",W,d.default.sources.USER)),this.quill.root.scrollTop=D;break}case"video":W=R(W);case"formula":{if(!W)break;var G=this.quill.getSelection(!0);if(G!=null){var H=G.index+G.length;this.quill.insertEmbed(H,this.root.getAttribute("data-mode"),W,d.default.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(H+1," ",d.default.sources.USER),this.quill.setSelection(H+2,d.default.sources.USER)}break}}this.textbox.value="",this.hide()}}]),B}(E.default);function R(N){var B=N.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||N.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return B?(B[1]||"https")+"://www.youtube.com/embed/"+B[2]+"?showinfo=0":(B=N.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(B[1]||"https")+"://player.vimeo.com/video/"+B[2]+"/":N}function F(N,B){var q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;B.forEach(function(W){var D=document.createElement("option");W===q?D.setAttribute("selected","selected"):D.setAttribute("value",W),N.appendChild(D)})}n.BaseTooltip=M,n.default=U},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function o(){this.head=this.tail=null,this.length=0}return o.prototype.append=function(){for(var s=[],l=0;l<arguments.length;l++)s[l]=arguments[l];this.insertBefore(s[0],null),s.length>1&&this.append.apply(this,s.slice(1))},o.prototype.contains=function(s){for(var l,u=this.iterator();l=u();)if(l===s)return!0;return!1},o.prototype.insertBefore=function(s,l){s&&(s.next=l,l!=null?(s.prev=l.prev,l.prev!=null&&(l.prev.next=s),l.prev=s,l===this.head&&(this.head=s)):this.tail!=null?(this.tail.next=s,s.prev=this.tail,this.tail=s):(s.prev=null,this.head=this.tail=s),this.length+=1)},o.prototype.offset=function(s){for(var l=0,u=this.head;u!=null;){if(u===s)return l;l+=u.length(),u=u.next}return-1},o.prototype.remove=function(s){this.contains(s)&&(s.prev!=null&&(s.prev.next=s.next),s.next!=null&&(s.next.prev=s.prev),s===this.head&&(this.head=s.next),s===this.tail&&(this.tail=s.prev),this.length-=1)},o.prototype.iterator=function(s){return s===void 0&&(s=this.head),function(){var l=s;return s!=null&&(s=s.next),l}},o.prototype.find=function(s,l){l===void 0&&(l=!1);for(var u,c=this.iterator();u=c();){var f=u.length();if(s<f||l&&s===f&&(u.next==null||u.next.length()!==0))return[u,s];s-=f}return[null,0]},o.prototype.forEach=function(s){for(var l,u=this.iterator();l=u();)s(l)},o.prototype.forEachAt=function(s,l,u){if(!(l<=0))for(var c=this.find(s),f=c[0],d=c[1],p,v=s-d,h=this.iterator(f);(p=h())&&v<s+l;){var g=p.length();s>v?u(p,s-v,Math.min(l,v+g-s)):u(p,0,Math.min(g,s+l-v)),v+=g}},o.prototype.map=function(s){return this.reduce(function(l,u){return l.push(s(u)),l},[])},o.prototype.reduce=function(s,l){for(var u,c=this.iterator();u=c();)l=s(l,u);return l},o}();n.default=a},function(r,n,i){var a=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,p){d.__proto__=p}||function(d,p){for(var v in p)p.hasOwnProperty(v)&&(d[v]=p[v])};return function(d,p){f(d,p);function v(){this.constructor=d}d.prototype=p===null?Object.create(p):(v.prototype=p.prototype,new v)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=i(17),s=i(1),l={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},u=100,c=function(f){a(d,f);function d(p){var v=f.call(this,p)||this;return v.scroll=v,v.observer=new MutationObserver(function(h){v.update(h)}),v.observer.observe(v.domNode,l),v.attach(),v}return d.prototype.detach=function(){f.prototype.detach.call(this),this.observer.disconnect()},d.prototype.deleteAt=function(p,v){this.update(),p===0&&v===this.length()?this.children.forEach(function(h){h.remove()}):f.prototype.deleteAt.call(this,p,v)},d.prototype.formatAt=function(p,v,h,g){this.update(),f.prototype.formatAt.call(this,p,v,h,g)},d.prototype.insertAt=function(p,v,h){this.update(),f.prototype.insertAt.call(this,p,v,h)},d.prototype.optimize=function(p,v){var h=this;p===void 0&&(p=[]),v===void 0&&(v={}),f.prototype.optimize.call(this,v);for(var g=[].slice.call(this.observer.takeRecords());g.length>0;)p.push(g.pop());for(var y=function(S,O){O===void 0&&(O=!0),!(S==null||S===h)&&S.domNode.parentNode!=null&&(S.domNode[s.DATA_KEY].mutations==null&&(S.domNode[s.DATA_KEY].mutations=[]),O&&y(S.parent))},m=function(S){S.domNode[s.DATA_KEY]==null||S.domNode[s.DATA_KEY].mutations==null||(S instanceof o.default&&S.children.forEach(m),S.optimize(v))},_=p,b=0;_.length>0;b+=1){if(b>=u)throw new Error("[Parchment] Maximum optimize iterations reached");for(_.forEach(function(S){var O=s.find(S.target,!0);O!=null&&(O.domNode===S.target&&(S.type==="childList"?(y(s.find(S.previousSibling,!1)),[].forEach.call(S.addedNodes,function(x){var E=s.find(x,!1);y(E,!1),E instanceof o.default&&E.children.forEach(function(A){y(A,!1)})})):S.type==="attributes"&&y(O.prev)),y(O))}),this.children.forEach(m),_=[].slice.call(this.observer.takeRecords()),g=_.slice();g.length>0;)p.push(g.pop())}},d.prototype.update=function(p,v){var h=this;v===void 0&&(v={}),p=p||this.observer.takeRecords(),p.map(function(g){var y=s.find(g.target,!0);return y==null?null:y.domNode[s.DATA_KEY].mutations==null?(y.domNode[s.DATA_KEY].mutations=[g],y):(y.domNode[s.DATA_KEY].mutations.push(g),null)}).forEach(function(g){g==null||g===h||g.domNode[s.DATA_KEY]==null||g.update(g.domNode[s.DATA_KEY].mutations||[],v)}),this.domNode[s.DATA_KEY].mutations!=null&&f.prototype.update.call(this,this.domNode[s.DATA_KEY].mutations,v),this.optimize(p,v)},d.blotName="scroll",d.defaultChild="block",d.scope=s.Scope.BLOCK_BLOT,d.tagName="DIV",d}(o.default);n.default=c},function(r,n,i){var a=this&&this.__extends||function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,d){f.__proto__=d}||function(f,d){for(var p in d)d.hasOwnProperty(p)&&(f[p]=d[p])};return function(f,d){c(f,d);function p(){this.constructor=f}f.prototype=d===null?Object.create(d):(p.prototype=d.prototype,new p)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=i(18),s=i(1);function l(c,f){if(Object.keys(c).length!==Object.keys(f).length)return!1;for(var d in c)if(c[d]!==f[d])return!1;return!0}var u=function(c){a(f,c);function f(){return c!==null&&c.apply(this,arguments)||this}return f.formats=function(d){if(d.tagName!==f.tagName)return c.formats.call(this,d)},f.prototype.format=function(d,p){var v=this;d===this.statics.blotName&&!p?(this.children.forEach(function(h){h instanceof o.default||(h=h.wrap(f.blotName,!0)),v.attributes.copy(h)}),this.unwrap()):c.prototype.format.call(this,d,p)},f.prototype.formatAt=function(d,p,v,h){if(this.formats()[v]!=null||s.query(v,s.Scope.ATTRIBUTE)){var g=this.isolate(d,p);g.format(v,h)}else c.prototype.formatAt.call(this,d,p,v,h)},f.prototype.optimize=function(d){c.prototype.optimize.call(this,d);var p=this.formats();if(Object.keys(p).length===0)return this.unwrap();var v=this.next;v instanceof f&&v.prev===this&&l(p,v.formats())&&(v.moveChildren(this),v.remove())},f.blotName="inline",f.scope=s.Scope.INLINE_BLOT,f.tagName="SPAN",f}(o.default);n.default=u},function(r,n,i){var a=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,f){c.__proto__=f}||function(c,f){for(var d in f)f.hasOwnProperty(d)&&(c[d]=f[d])};return function(c,f){u(c,f);function d(){this.constructor=c}c.prototype=f===null?Object.create(f):(d.prototype=f.prototype,new d)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=i(18),s=i(1),l=function(u){a(c,u);function c(){return u!==null&&u.apply(this,arguments)||this}return c.formats=function(f){var d=s.query(c.blotName).tagName;if(f.tagName!==d)return u.formats.call(this,f)},c.prototype.format=function(f,d){s.query(f,s.Scope.BLOCK)!=null&&(f===this.statics.blotName&&!d?this.replaceWith(c.blotName):u.prototype.format.call(this,f,d))},c.prototype.formatAt=function(f,d,p,v){s.query(p,s.Scope.BLOCK)!=null?this.format(p,v):u.prototype.formatAt.call(this,f,d,p,v)},c.prototype.insertAt=function(f,d,p){if(p==null||s.query(d,s.Scope.INLINE)!=null)u.prototype.insertAt.call(this,f,d,p);else{var v=this.split(f),h=s.create(d,p);v.parent.insertBefore(h,v)}},c.prototype.update=function(f,d){navigator.userAgent.match(/Trident/)?this.build():u.prototype.update.call(this,f,d)},c.blotName="block",c.scope=s.Scope.BLOCK_BLOT,c.tagName="P",c}(o.default);n.default=l},function(r,n,i){var a=this&&this.__extends||function(){var l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,c){u.__proto__=c}||function(u,c){for(var f in c)c.hasOwnProperty(f)&&(u[f]=c[f])};return function(u,c){l(u,c);function f(){this.constructor=u}u.prototype=c===null?Object.create(c):(f.prototype=c.prototype,new f)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=i(19),s=function(l){a(u,l);function u(){return l!==null&&l.apply(this,arguments)||this}return u.formats=function(c){},u.prototype.format=function(c,f){l.prototype.formatAt.call(this,0,this.length(),c,f)},u.prototype.formatAt=function(c,f,d,p){c===0&&f===this.length()?this.format(d,p):l.prototype.formatAt.call(this,c,f,d,p)},u.prototype.formats=function(){return this.statics.formats(this.domNode)},u}(o.default);n.default=s},function(r,n,i){var a=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,f){c.__proto__=f}||function(c,f){for(var d in f)f.hasOwnProperty(d)&&(c[d]=f[d])};return function(c,f){u(c,f);function d(){this.constructor=c}c.prototype=f===null?Object.create(f):(d.prototype=f.prototype,new d)}}();Object.defineProperty(n,"__esModule",{value:!0});var o=i(19),s=i(1),l=function(u){a(c,u);function c(f){var d=u.call(this,f)||this;return d.text=d.statics.value(d.domNode),d}return c.create=function(f){return document.createTextNode(f)},c.value=function(f){var d=f.data;return d.normalize&&(d=d.normalize()),d},c.prototype.deleteAt=function(f,d){this.domNode.data=this.text=this.text.slice(0,f)+this.text.slice(f+d)},c.prototype.index=function(f,d){return this.domNode===f?d:-1},c.prototype.insertAt=function(f,d,p){p==null?(this.text=this.text.slice(0,f)+d+this.text.slice(f),this.domNode.data=this.text):u.prototype.insertAt.call(this,f,d,p)},c.prototype.length=function(){return this.text.length},c.prototype.optimize=function(f){u.prototype.optimize.call(this,f),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof c&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},c.prototype.position=function(f,d){return[this.domNode,f]},c.prototype.split=function(f,d){if(d===void 0&&(d=!1),!d){if(f===0)return this;if(f===this.length())return this.next}var p=s.create(this.domNode.splitText(f));return this.parent.insertBefore(p,this.next),this.text=this.statics.value(this.domNode),p},c.prototype.update=function(f,d){var p=this;f.some(function(v){return v.type==="characterData"&&v.target===p.domNode})&&(this.text=this.statics.value(this.domNode))},c.prototype.value=function(){return this.text},c.blotName="text",c.scope=s.Scope.INLINE_BLOT,c}(o.default);n.default=l},function(r,n,i){var a=document.createElement("div");if(a.classList.toggle("test-class",!1),a.classList.contains("test-class")){var o=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(s,l){return arguments.length>1&&!this.contains(s)==!l?l:o.call(this,s)}}String.prototype.startsWith||(String.prototype.startsWith=function(s,l){return l=l||0,this.substr(l,s.length)===s}),String.prototype.endsWith||(String.prototype.endsWith=function(s,l){var u=this.toString();(typeof l!="number"||!isFinite(l)||Math.floor(l)!==l||l>u.length)&&(l=u.length),l-=s.length;var c=u.indexOf(s,l);return c!==-1&&c===l}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(l){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof l!="function")throw new TypeError("predicate must be a function");for(var u=Object(this),c=u.length>>>0,f=arguments[1],d,p=0;p<c;p++)if(d=u[p],l.call(f,d,p,u))return d}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(r,n){var i=-1,a=1,o=0;function s(b,S,O){if(b==S)return b?[[o,b]]:[];(O<0||b.length<O)&&(O=null);var x=f(b,S),E=b.substring(0,x);b=b.substring(x),S=S.substring(x),x=d(b,S);var A=b.substring(b.length-x);b=b.substring(0,b.length-x),S=S.substring(0,S.length-x);var C=l(b,S);return E&&C.unshift([o,E]),A&&C.push([o,A]),v(C),O!=null&&(C=y(C,O)),C=m(C),C}function l(b,S){var O;if(!b)return[[a,S]];if(!S)return[[i,b]];var x=b.length>S.length?b:S,E=b.length>S.length?S:b,A=x.indexOf(E);if(A!=-1)return O=[[a,x.substring(0,A)],[o,E],[a,x.substring(A+E.length)]],b.length>S.length&&(O[0][0]=O[2][0]=i),O;if(E.length==1)return[[i,b],[a,S]];var C=p(b,S);if(C){var k=C[0],w=C[1],I=C[2],L=C[3],P=C[4],V=s(k,I),$=s(w,L);return V.concat([[o,P]],$)}return u(b,S)}function u(b,S){for(var O=b.length,x=S.length,E=Math.ceil((O+x)/2),A=E,C=2*E,k=new Array(C),w=new Array(C),I=0;I<C;I++)k[I]=-1,w[I]=-1;k[A+1]=0,w[A+1]=0;for(var L=O-x,P=L%2!=0,V=0,$=0,U=0,M=0,R=0;R<E;R++){for(var F=-R+V;F<=R-$;F+=2){var N=A+F,B;F==-R||F!=R&&k[N-1]<k[N+1]?B=k[N+1]:B=k[N-1]+1;for(var q=B-F;B<O&&q<x&&b.charAt(B)==S.charAt(q);)B++,q++;if(k[N]=B,B>O)$+=2;else if(q>x)V+=2;else if(P){var W=A+L-F;if(W>=0&&W<C&&w[W]!=-1){var D=O-w[W];if(B>=D)return c(b,S,B,q)}}}for(var G=-R+U;G<=R-M;G+=2){var W=A+G,D;G==-R||G!=R&&w[W-1]<w[W+1]?D=w[W+1]:D=w[W-1]+1;for(var H=D-G;D<O&&H<x&&b.charAt(O-D-1)==S.charAt(x-H-1);)D++,H++;if(w[W]=D,D>O)M+=2;else if(H>x)U+=2;else if(!P){var N=A+L-G;if(N>=0&&N<C&&k[N]!=-1){var B=k[N],q=A+B-N;if(D=O-D,B>=D)return c(b,S,B,q)}}}}return[[i,b],[a,S]]}function c(b,S,O,x){var E=b.substring(0,O),A=S.substring(0,x),C=b.substring(O),k=S.substring(x),w=s(E,A),I=s(C,k);return w.concat(I)}function f(b,S){if(!b||!S||b.charAt(0)!=S.charAt(0))return 0;for(var O=0,x=Math.min(b.length,S.length),E=x,A=0;O<E;)b.substring(A,E)==S.substring(A,E)?(O=E,A=O):x=E,E=Math.floor((x-O)/2+O);return E}function d(b,S){if(!b||!S||b.charAt(b.length-1)!=S.charAt(S.length-1))return 0;for(var O=0,x=Math.min(b.length,S.length),E=x,A=0;O<E;)b.substring(b.length-E,b.length-A)==S.substring(S.length-E,S.length-A)?(O=E,A=O):x=E,E=Math.floor((x-O)/2+O);return E}function p(b,S){var O=b.length>S.length?b:S,x=b.length>S.length?S:b;if(O.length<4||x.length*2<O.length)return null;function E($,U,M){for(var R=$.substring(M,M+Math.floor($.length/4)),F=-1,N="",B,q,W,D;(F=U.indexOf(R,F+1))!=-1;){var G=f($.substring(M),U.substring(F)),H=d($.substring(0,M),U.substring(0,F));N.length<H+G&&(N=U.substring(F-H,F)+U.substring(F,F+G),B=$.substring(0,M-H),q=$.substring(M+G),W=U.substring(0,F-H),D=U.substring(F+G))}return N.length*2>=$.length?[B,q,W,D,N]:null}var A=E(O,x,Math.ceil(O.length/4)),C=E(O,x,Math.ceil(O.length/2)),k;if(!A&&!C)return null;C?A?k=A[4].length>C[4].length?A:C:k=C:k=A;var w,I,L,P;b.length>S.length?(w=k[0],I=k[1],L=k[2],P=k[3]):(L=k[0],P=k[1],w=k[2],I=k[3]);var V=k[4];return[w,I,L,P,V]}function v(b){b.push([o,""]);for(var S=0,O=0,x=0,E="",A="",C;S<b.length;)switch(b[S][0]){case a:x++,A+=b[S][1],S++;break;case i:O++,E+=b[S][1],S++;break;case o:O+x>1?(O!==0&&x!==0&&(C=f(A,E),C!==0&&(S-O-x>0&&b[S-O-x-1][0]==o?b[S-O-x-1][1]+=A.substring(0,C):(b.splice(0,0,[o,A.substring(0,C)]),S++),A=A.substring(C),E=E.substring(C)),C=d(A,E),C!==0&&(b[S][1]=A.substring(A.length-C)+b[S][1],A=A.substring(0,A.length-C),E=E.substring(0,E.length-C))),O===0?b.splice(S-x,O+x,[a,A]):x===0?b.splice(S-O,O+x,[i,E]):b.splice(S-O-x,O+x,[i,E],[a,A]),S=S-O-x+(O?1:0)+(x?1:0)+1):S!==0&&b[S-1][0]==o?(b[S-1][1]+=b[S][1],b.splice(S,1)):S++,x=0,O=0,E="",A="";break}b[b.length-1][1]===""&&b.pop();var k=!1;for(S=1;S<b.length-1;)b[S-1][0]==o&&b[S+1][0]==o&&(b[S][1].substring(b[S][1].length-b[S-1][1].length)==b[S-1][1]?(b[S][1]=b[S-1][1]+b[S][1].substring(0,b[S][1].length-b[S-1][1].length),b[S+1][1]=b[S-1][1]+b[S+1][1],b.splice(S-1,1),k=!0):b[S][1].substring(0,b[S+1][1].length)==b[S+1][1]&&(b[S-1][1]+=b[S+1][1],b[S][1]=b[S][1].substring(b[S+1][1].length)+b[S+1][1],b.splice(S+1,1),k=!0)),S++;k&&v(b)}var h=s;h.INSERT=a,h.DELETE=i,h.EQUAL=o,r.exports=h;function g(b,S){if(S===0)return[o,b];for(var O=0,x=0;x<b.length;x++){var E=b[x];if(E[0]===i||E[0]===o){var A=O+E[1].length;if(S===A)return[x+1,b];if(S<A){b=b.slice();var C=S-O,k=[E[0],E[1].slice(0,C)],w=[E[0],E[1].slice(C)];return b.splice(x,1,k,w),[x+1,b]}else O=A}}throw new Error("cursor_pos is out of bounds!")}function y(b,S){var O=g(b,S),x=O[1],E=O[0],A=x[E],C=x[E+1];if(A==null)return b;if(A[0]!==o)return b;if(C!=null&&A[1]+C[1]===C[1]+A[1])return x.splice(E,2,C,A),_(x,E,2);if(C!=null&&C[1].indexOf(A[1])===0){x.splice(E,2,[C[0],A[1]],[0,A[1]]);var k=C[1].slice(A[1].length);return k.length>0&&x.splice(E+2,0,[C[0],k]),_(x,E,3)}else return b}function m(b){for(var S=!1,O=function(C){return C.charCodeAt(0)>=56320&&C.charCodeAt(0)<=57343},x=function(C){return C.charCodeAt(C.length-1)>=55296&&C.charCodeAt(C.length-1)<=56319},E=2;E<b.length;E+=1)b[E-2][0]===o&&x(b[E-2][1])&&b[E-1][0]===i&&O(b[E-1][1])&&b[E][0]===a&&O(b[E][1])&&(S=!0,b[E-1][1]=b[E-2][1].slice(-1)+b[E-1][1],b[E][1]=b[E-2][1].slice(-1)+b[E][1],b[E-2][1]=b[E-2][1].slice(0,-1));if(!S)return b;for(var A=[],E=0;E<b.length;E+=1)b[E][1].length>0&&A.push(b[E]);return A}function _(b,S,O){for(var x=S+O-1;x>=0&&x>=S-1;x--)if(x+1<b.length){var E=b[x],A=b[x+1];E[0]===A[1]&&b.splice(x,2,[E[0],E[1]+A[1]])}return b}},function(r,n){n=r.exports=typeof Object.keys=="function"?Object.keys:i,n.shim=i;function i(a){var o=[];for(var s in a)o.push(s);return o}},function(r,n){var i=function(){return Object.prototype.toString.call(arguments)}()=="[object Arguments]";n=r.exports=i?a:o,n.supported=a;function a(s){return Object.prototype.toString.call(s)=="[object Arguments]"}n.unsupported=o;function o(s){return s&&typeof s=="object"&&typeof s.length=="number"&&Object.prototype.hasOwnProperty.call(s,"callee")&&!Object.prototype.propertyIsEnumerable.call(s,"callee")||!1}},function(r,n){var i=Object.prototype.hasOwnProperty,a="~";function o(){}Object.create&&(o.prototype=Object.create(null),new o().__proto__||(a=!1));function s(u,c,f){this.fn=u,this.context=c,this.once=f||!1}function l(){this._events=new o,this._eventsCount=0}l.prototype.eventNames=function(){var c=[],f,d;if(this._eventsCount===0)return c;for(d in f=this._events)i.call(f,d)&&c.push(a?d.slice(1):d);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(f)):c},l.prototype.listeners=function(c,f){var d=a?a+c:c,p=this._events[d];if(f)return!!p;if(!p)return[];if(p.fn)return[p.fn];for(var v=0,h=p.length,g=new Array(h);v<h;v++)g[v]=p[v].fn;return g},l.prototype.emit=function(c,f,d,p,v,h){var g=a?a+c:c;if(!this._events[g])return!1;var y=this._events[g],m=arguments.length,_,b;if(y.fn){switch(y.once&&this.removeListener(c,y.fn,void 0,!0),m){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,f),!0;case 3:return y.fn.call(y.context,f,d),!0;case 4:return y.fn.call(y.context,f,d,p),!0;case 5:return y.fn.call(y.context,f,d,p,v),!0;case 6:return y.fn.call(y.context,f,d,p,v,h),!0}for(b=1,_=new Array(m-1);b<m;b++)_[b-1]=arguments[b];y.fn.apply(y.context,_)}else{var S=y.length,O;for(b=0;b<S;b++)switch(y[b].once&&this.removeListener(c,y[b].fn,void 0,!0),m){case 1:y[b].fn.call(y[b].context);break;case 2:y[b].fn.call(y[b].context,f);break;case 3:y[b].fn.call(y[b].context,f,d);break;case 4:y[b].fn.call(y[b].context,f,d,p);break;default:if(!_)for(O=1,_=new Array(m-1);O<m;O++)_[O-1]=arguments[O];y[b].fn.apply(y[b].context,_)}}return!0},l.prototype.on=function(c,f,d){var p=new s(f,d||this),v=a?a+c:c;return this._events[v]?this._events[v].fn?this._events[v]=[this._events[v],p]:this._events[v].push(p):(this._events[v]=p,this._eventsCount++),this},l.prototype.once=function(c,f,d){var p=new s(f,d||this,!0),v=a?a+c:c;return this._events[v]?this._events[v].fn?this._events[v]=[this._events[v],p]:this._events[v].push(p):(this._events[v]=p,this._eventsCount++),this},l.prototype.removeListener=function(c,f,d,p){var v=a?a+c:c;if(!this._events[v])return this;if(!f)return--this._eventsCount===0?this._events=new o:delete this._events[v],this;var h=this._events[v];if(h.fn)h.fn===f&&(!p||h.once)&&(!d||h.context===d)&&(--this._eventsCount===0?this._events=new o:delete this._events[v]);else{for(var g=0,y=[],m=h.length;g<m;g++)(h[g].fn!==f||p&&!h[g].once||d&&h[g].context!==d)&&y.push(h[g]);y.length?this._events[v]=y.length===1?y[0]:y:--this._eventsCount===0?this._events=new o:delete this._events[v]}return this},l.prototype.removeAllListeners=function(c){var f;return c?(f=a?a+c:c,this._events[f]&&(--this._eventsCount===0?this._events=new o:delete this._events[f])):(this._events=new o,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prototype.setMaxListeners=function(){return this},l.prefixed=a,l.EventEmitter=l,typeof r<"u"&&(r.exports=l)},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.matchText=n.matchSpacing=n.matchNewline=n.matchBlot=n.matchAttributor=n.default=void 0;var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(J){return typeof J}:function(J){return J&&typeof Symbol=="function"&&J.constructor===Symbol&&J!==Symbol.prototype?"symbol":typeof J},o=function(){function J(re,ce){var ve=[],ee=!0,me=!1,Oe=void 0;try{for(var we=re[Symbol.iterator](),Je;!(ee=(Je=we.next()).done)&&(ve.push(Je.value),!(ce&&ve.length===ce));ee=!0);}catch(at){me=!0,Oe=at}finally{try{!ee&&we.return&&we.return()}finally{if(me)throw Oe}}return ve}return function(re,ce){if(Array.isArray(re))return re;if(Symbol.iterator in Object(re))return J(re,ce);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function J(re,ce){for(var ve=0;ve<ce.length;ve++){var ee=ce[ve];ee.enumerable=ee.enumerable||!1,ee.configurable=!0,"value"in ee&&(ee.writable=!0),Object.defineProperty(re,ee.key,ee)}}return function(re,ce,ve){return ce&&J(re.prototype,ce),ve&&J(re,ve),re}}(),l=i(3),u=w(l),c=i(2),f=w(c),d=i(0),p=w(d),v=i(5),h=w(v),g=i(10),y=w(g),m=i(9),_=w(m),b=i(36),S=i(37),O=i(13),x=w(O),E=i(26),A=i(38),C=i(39),k=i(40);function w(J){return J&&J.__esModule?J:{default:J}}function I(J,re,ce){return re in J?Object.defineProperty(J,re,{value:ce,enumerable:!0,configurable:!0,writable:!0}):J[re]=ce,J}function L(J,re){if(!(J instanceof re))throw new TypeError("Cannot call a class as a function")}function P(J,re){if(!J)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return re&&(typeof re=="object"||typeof re=="function")?re:J}function V(J,re){if(typeof re!="function"&&re!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof re);J.prototype=Object.create(re&&re.prototype,{constructor:{value:J,enumerable:!1,writable:!0,configurable:!0}}),re&&(Object.setPrototypeOf?Object.setPrototypeOf(J,re):J.__proto__=re)}var $=(0,y.default)("quill:clipboard"),U="__ql-matcher",M=[[Node.TEXT_NODE,Se],[Node.TEXT_NODE,ue],["br",ie],[Node.ELEMENT_NODE,ue],[Node.ELEMENT_NODE,K],[Node.ELEMENT_NODE,fe],[Node.ELEMENT_NODE,Y],[Node.ELEMENT_NODE,de],["li",se],["b",H.bind(H,"bold")],["i",H.bind(H,"italic")],["style",te]],R=[b.AlignAttribute,A.DirectionAttribute].reduce(function(J,re){return J[re.keyName]=re,J},{}),F=[b.AlignStyle,S.BackgroundStyle,E.ColorStyle,A.DirectionStyle,C.FontStyle,k.SizeStyle].reduce(function(J,re){return J[re.keyName]=re,J},{}),N=function(J){V(re,J);function re(ce,ve){L(this,re);var ee=P(this,(re.__proto__||Object.getPrototypeOf(re)).call(this,ce,ve));return ee.quill.root.addEventListener("paste",ee.onPaste.bind(ee)),ee.container=ee.quill.addContainer("ql-clipboard"),ee.container.setAttribute("contenteditable",!0),ee.container.setAttribute("tabindex",-1),ee.matchers=[],M.concat(ee.options.matchers).forEach(function(me){var Oe=o(me,2),we=Oe[0],Je=Oe[1];!ve.matchVisual&&Je===fe||ee.addMatcher(we,Je)}),ee}return s(re,[{key:"addMatcher",value:function(ve,ee){this.matchers.push([ve,ee])}},{key:"convert",value:function(ve){if(typeof ve=="string")return this.container.innerHTML=ve.replace(/\>\r?\n +\</g,"><"),this.convert();var ee=this.quill.getFormat(this.quill.selection.savedRange.index);if(ee[x.default.blotName]){var me=this.container.innerText;return this.container.innerHTML="",new f.default().insert(me,I({},x.default.blotName,ee[x.default.blotName]))}var Oe=this.prepareMatching(),we=o(Oe,2),Je=we[0],at=we[1],le=G(this.container,Je,at);return W(le,"\n")&&le.ops[le.ops.length-1].attributes==null&&(le=le.compose(new f.default().retain(le.length()-1).delete(1))),$.log("convert",this.container.innerHTML,le),this.container.innerHTML="",le}},{key:"dangerouslyPasteHTML",value:function(ve,ee){var me=arguments.length>2&&arguments[2]!==void 0?arguments[2]:h.default.sources.API;if(typeof ve=="string")this.quill.setContents(this.convert(ve),ee),this.quill.setSelection(0,h.default.sources.SILENT);else{var Oe=this.convert(ee);this.quill.updateContents(new f.default().retain(ve).concat(Oe),me),this.quill.setSelection(ve+Oe.length(),h.default.sources.SILENT)}}},{key:"onPaste",value:function(ve){var ee=this;if(!(ve.defaultPrevented||!this.quill.isEnabled())){var me=this.quill.getSelection(),Oe=new f.default().retain(me.index),we=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(h.default.sources.SILENT),setTimeout(function(){Oe=Oe.concat(ee.convert()).delete(me.length),ee.quill.updateContents(Oe,h.default.sources.USER),ee.quill.setSelection(Oe.length()-me.length,h.default.sources.SILENT),ee.quill.scrollingContainer.scrollTop=we,ee.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var ve=this,ee=[],me=[];return this.matchers.forEach(function(Oe){var we=o(Oe,2),Je=we[0],at=we[1];switch(Je){case Node.TEXT_NODE:me.push(at);break;case Node.ELEMENT_NODE:ee.push(at);break;default:[].forEach.call(ve.container.querySelectorAll(Je),function(le){le[U]=le[U]||[],le[U].push(at)});break}}),[ee,me]}}]),re}(_.default);N.DEFAULTS={matchers:[],matchVisual:!0};function B(J,re,ce){return(typeof re>"u"?"undefined":a(re))==="object"?Object.keys(re).reduce(function(ve,ee){return B(ve,ee,re[ee])},J):J.reduce(function(ve,ee){return ee.attributes&&ee.attributes[re]?ve.push(ee):ve.insert(ee.insert,(0,u.default)({},I({},re,ce),ee.attributes))},new f.default)}function q(J){if(J.nodeType!==Node.ELEMENT_NODE)return{};var re="__ql-computed-style";return J[re]||(J[re]=window.getComputedStyle(J))}function W(J,re){for(var ce="",ve=J.ops.length-1;ve>=0&&ce.length<re.length;--ve){var ee=J.ops[ve];if(typeof ee.insert!="string")break;ce=ee.insert+ce}return ce.slice(-1*re.length)===re}function D(J){if(J.childNodes.length===0)return!1;var re=q(J);return["block","list-item"].indexOf(re.display)>-1}function G(J,re,ce){return J.nodeType===J.TEXT_NODE?ce.reduce(function(ve,ee){return ee(J,ve)},new f.default):J.nodeType===J.ELEMENT_NODE?[].reduce.call(J.childNodes||[],function(ve,ee){var me=G(ee,re,ce);return ee.nodeType===J.ELEMENT_NODE&&(me=re.reduce(function(Oe,we){return we(ee,Oe)},me),me=(ee[U]||[]).reduce(function(Oe,we){return we(ee,Oe)},me)),ve.concat(me)},new f.default):new f.default}function H(J,re,ce){return B(ce,J,!0)}function Y(J,re){var ce=p.default.Attributor.Attribute.keys(J),ve=p.default.Attributor.Class.keys(J),ee=p.default.Attributor.Style.keys(J),me={};return ce.concat(ve).concat(ee).forEach(function(Oe){var we=p.default.query(Oe,p.default.Scope.ATTRIBUTE);we!=null&&(me[we.attrName]=we.value(J),me[we.attrName])||(we=R[Oe],we!=null&&(we.attrName===Oe||we.keyName===Oe)&&(me[we.attrName]=we.value(J)||void 0),we=F[Oe],we!=null&&(we.attrName===Oe||we.keyName===Oe)&&(we=F[Oe],me[we.attrName]=we.value(J)||void 0))}),Object.keys(me).length>0&&(re=B(re,me)),re}function K(J,re){var ce=p.default.query(J);if(ce==null)return re;if(ce.prototype instanceof p.default.Embed){var ve={},ee=ce.value(J);ee!=null&&(ve[ce.blotName]=ee,re=new f.default().insert(ve,ce.formats(J)))}else typeof ce.formats=="function"&&(re=B(re,ce.blotName,ce.formats(J)));return re}function ie(J,re){return W(re,"\n")||re.insert("\n"),re}function te(){return new f.default}function se(J,re){var ce=p.default.query(J);if(ce==null||ce.blotName!=="list-item"||!W(re,"\n"))return re;for(var ve=-1,ee=J.parentNode;!ee.classList.contains("ql-clipboard");)(p.default.query(ee)||{}).blotName==="list"&&(ve+=1),ee=ee.parentNode;return ve<=0?re:re.compose(new f.default().retain(re.length()-1).retain(1,{indent:ve}))}function ue(J,re){return W(re,"\n")||(D(J)||re.length()>0&&J.nextSibling&&D(J.nextSibling))&&re.insert("\n"),re}function fe(J,re){if(D(J)&&J.nextElementSibling!=null&&!W(re,"\n\n")){var ce=J.offsetHeight+parseFloat(q(J).marginTop)+parseFloat(q(J).marginBottom);J.nextElementSibling.offsetTop>J.offsetTop+ce*1.5&&re.insert("\n")}return re}function de(J,re){var ce={},ve=J.style||{};return ve.fontStyle&&q(J).fontStyle==="italic"&&(ce.italic=!0),ve.fontWeight&&(q(J).fontWeight.startsWith("bold")||parseInt(q(J).fontWeight)>=700)&&(ce.bold=!0),Object.keys(ce).length>0&&(re=B(re,ce)),parseFloat(ve.textIndent||0)>0&&(re=new f.default().insert("	").concat(re)),re}function Se(J,re){var ce=J.data;if(J.parentNode.tagName==="O:P")return re.insert(ce.trim());if(ce.trim().length===0&&J.parentNode.classList.contains("ql-clipboard"))return re;if(!q(J.parentNode).whiteSpace.startsWith("pre")){var ve=function(me,Oe){return Oe=Oe.replace(/[^\u00a0]/g,""),Oe.length<1&&me?" ":Oe};ce=ce.replace(/\r\n/g," ").replace(/\n/g," "),ce=ce.replace(/\s\s+/g,ve.bind(ve,!0)),(J.previousSibling==null&&D(J.parentNode)||J.previousSibling!=null&&D(J.previousSibling))&&(ce=ce.replace(/^\s+/,ve.bind(ve,!1))),(J.nextSibling==null&&D(J.parentNode)||J.nextSibling!=null&&D(J.nextSibling))&&(ce=ce.replace(/\s+$/,ve.bind(ve,!1)))}return re.insert(ce)}n.default=N,n.matchAttributor=Y,n.matchBlot=K,n.matchNewline=ue,n.matchSpacing=fe,n.matchText=Se},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function v(h,g){for(var y=0;y<g.length;y++){var m=g[y];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(h,m.key,m)}}return function(h,g,y){return g&&v(h.prototype,g),y&&v(h,y),h}}(),o=function v(h,g,y){h===null&&(h=Function.prototype);var m=Object.getOwnPropertyDescriptor(h,g);if(m===void 0){var _=Object.getPrototypeOf(h);return _===null?void 0:v(_,g,y)}else{if("value"in m)return m.value;var b=m.get;return b===void 0?void 0:b.call(y)}},s=i(6),l=u(s);function u(v){return v&&v.__esModule?v:{default:v}}function c(v,h){if(!(v instanceof h))throw new TypeError("Cannot call a class as a function")}function f(v,h){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:v}function d(v,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);v.prototype=Object.create(h&&h.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(v,h):v.__proto__=h)}var p=function(v){d(h,v);function h(){return c(this,h),f(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}return a(h,[{key:"optimize",value:function(y){o(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"optimize",this).call(this,y),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return o(h.__proto__||Object.getPrototypeOf(h),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),h}(l.default);p.blotName="bold",p.tagName=["STRONG","B"],n.default=p},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.addControls=n.default=void 0;var a=function(){function k(w,I){var L=[],P=!0,V=!1,$=void 0;try{for(var U=w[Symbol.iterator](),M;!(P=(M=U.next()).done)&&(L.push(M.value),!(I&&L.length===I));P=!0);}catch(R){V=!0,$=R}finally{try{!P&&U.return&&U.return()}finally{if(V)throw $}}return L}return function(w,I){if(Array.isArray(w))return w;if(Symbol.iterator in Object(w))return k(w,I);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function(){function k(w,I){for(var L=0;L<I.length;L++){var P=I[L];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(w,P.key,P)}}return function(w,I,L){return I&&k(w.prototype,I),L&&k(w,L),w}}(),s=i(2),l=y(s),u=i(0),c=y(u),f=i(5),d=y(f),p=i(10),v=y(p),h=i(9),g=y(h);function y(k){return k&&k.__esModule?k:{default:k}}function m(k,w,I){return w in k?Object.defineProperty(k,w,{value:I,enumerable:!0,configurable:!0,writable:!0}):k[w]=I,k}function _(k,w){if(!(k instanceof w))throw new TypeError("Cannot call a class as a function")}function b(k,w){if(!k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:k}function S(k,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);k.prototype=Object.create(w&&w.prototype,{constructor:{value:k,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(k,w):k.__proto__=w)}var O=(0,v.default)("quill:toolbar"),x=function(k){S(w,k);function w(I,L){_(this,w);var P=b(this,(w.__proto__||Object.getPrototypeOf(w)).call(this,I,L));if(Array.isArray(P.options.container)){var V=document.createElement("div");A(V,P.options.container),I.container.parentNode.insertBefore(V,I.container),P.container=V}else typeof P.options.container=="string"?P.container=document.querySelector(P.options.container):P.container=P.options.container;if(!(P.container instanceof HTMLElement)){var $;return $=O.error("Container required for toolbar",P.options),b(P,$)}return P.container.classList.add("ql-toolbar"),P.controls=[],P.handlers={},Object.keys(P.options.handlers).forEach(function(U){P.addHandler(U,P.options.handlers[U])}),[].forEach.call(P.container.querySelectorAll("button, select"),function(U){P.attach(U)}),P.quill.on(d.default.events.EDITOR_CHANGE,function(U,M){U===d.default.events.SELECTION_CHANGE&&P.update(M)}),P.quill.on(d.default.events.SCROLL_OPTIMIZE,function(){var U=P.quill.selection.getRange(),M=a(U,1),R=M[0];P.update(R)}),P}return o(w,[{key:"addHandler",value:function(L,P){this.handlers[L]=P}},{key:"attach",value:function(L){var P=this,V=[].find.call(L.classList,function(U){return U.indexOf("ql-")===0});if(V){if(V=V.slice(3),L.tagName==="BUTTON"&&L.setAttribute("type","button"),this.handlers[V]==null){if(this.quill.scroll.whitelist!=null&&this.quill.scroll.whitelist[V]==null){O.warn("ignoring attaching to disabled format",V,L);return}if(c.default.query(V)==null){O.warn("ignoring attaching to nonexistent format",V,L);return}}var $=L.tagName==="SELECT"?"change":"click";L.addEventListener($,function(U){var M=void 0;if(L.tagName==="SELECT"){if(L.selectedIndex<0)return;var R=L.options[L.selectedIndex];R.hasAttribute("selected")?M=!1:M=R.value||!1}else L.classList.contains("ql-active")?M=!1:M=L.value||!L.hasAttribute("value"),U.preventDefault();P.quill.focus();var F=P.quill.selection.getRange(),N=a(F,1),B=N[0];if(P.handlers[V]!=null)P.handlers[V].call(P,M);else if(c.default.query(V).prototype instanceof c.default.Embed){if(M=prompt("Enter "+V),!M)return;P.quill.updateContents(new l.default().retain(B.index).delete(B.length).insert(m({},V,M)),d.default.sources.USER)}else P.quill.format(V,M,d.default.sources.USER);P.update(B)}),this.controls.push([V,L])}}},{key:"update",value:function(L){var P=L==null?{}:this.quill.getFormat(L);this.controls.forEach(function(V){var $=a(V,2),U=$[0],M=$[1];if(M.tagName==="SELECT"){var R=void 0;if(L==null)R=null;else if(P[U]==null)R=M.querySelector("option[selected]");else if(!Array.isArray(P[U])){var F=P[U];typeof F=="string"&&(F=F.replace(/\"/g,'\\"')),R=M.querySelector('option[value="'+F+'"]')}R==null?(M.value="",M.selectedIndex=-1):R.selected=!0}else if(L==null)M.classList.remove("ql-active");else if(M.hasAttribute("value")){var N=P[U]===M.getAttribute("value")||P[U]!=null&&P[U].toString()===M.getAttribute("value")||P[U]==null&&!M.getAttribute("value");M.classList.toggle("ql-active",N)}else M.classList.toggle("ql-active",P[U]!=null)})}}]),w}(g.default);x.DEFAULTS={};function E(k,w,I){var L=document.createElement("button");L.setAttribute("type","button"),L.classList.add("ql-"+w),I!=null&&(L.value=I),k.appendChild(L)}function A(k,w){Array.isArray(w[0])||(w=[w]),w.forEach(function(I){var L=document.createElement("span");L.classList.add("ql-formats"),I.forEach(function(P){if(typeof P=="string")E(L,P);else{var V=Object.keys(P)[0],$=P[V];Array.isArray($)?C(L,V,$):E(L,V,$)}}),k.appendChild(L)})}function C(k,w,I){var L=document.createElement("select");L.classList.add("ql-"+w),I.forEach(function(P){var V=document.createElement("option");P!==!1?V.setAttribute("value",P):V.setAttribute("selected","selected"),L.appendChild(V)}),k.appendChild(L)}x.DEFAULTS={container:null,handlers:{clean:function(){var w=this,I=this.quill.getSelection();if(I!=null)if(I.length==0){var L=this.quill.getFormat();Object.keys(L).forEach(function(P){c.default.query(P,c.default.Scope.INLINE)!=null&&w.quill.format(P,!1)})}else this.quill.removeFormat(I,d.default.sources.USER)},direction:function(w){var I=this.quill.getFormat().align;w==="rtl"&&I==null?this.quill.format("align","right",d.default.sources.USER):!w&&I==="right"&&this.quill.format("align",!1,d.default.sources.USER),this.quill.format("direction",w,d.default.sources.USER)},indent:function(w){var I=this.quill.getSelection(),L=this.quill.getFormat(I),P=parseInt(L.indent||0);if(w==="+1"||w==="-1"){var V=w==="+1"?1:-1;L.direction==="rtl"&&(V*=-1),this.quill.format("indent",P+V,d.default.sources.USER)}},link:function(w){w===!0&&(w=prompt("Enter link URL:")),this.quill.format("link",w,d.default.sources.USER)},list:function(w){var I=this.quill.getSelection(),L=this.quill.getFormat(I);w==="check"?L.list==="checked"||L.list==="unchecked"?this.quill.format("list",!1,d.default.sources.USER):this.quill.format("list","unchecked",d.default.sources.USER):this.quill.format("list",w,d.default.sources.USER)}}},n.default=x,n.addControls=A},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function v(h,g){for(var y=0;y<g.length;y++){var m=g[y];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(h,m.key,m)}}return function(h,g,y){return g&&v(h.prototype,g),y&&v(h,y),h}}(),o=function v(h,g,y){h===null&&(h=Function.prototype);var m=Object.getOwnPropertyDescriptor(h,g);if(m===void 0){var _=Object.getPrototypeOf(h);return _===null?void 0:v(_,g,y)}else{if("value"in m)return m.value;var b=m.get;return b===void 0?void 0:b.call(y)}},s=i(28),l=u(s);function u(v){return v&&v.__esModule?v:{default:v}}function c(v,h){if(!(v instanceof h))throw new TypeError("Cannot call a class as a function")}function f(v,h){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:v}function d(v,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);v.prototype=Object.create(h&&h.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(v,h):v.__proto__=h)}var p=function(v){d(h,v);function h(g,y){c(this,h);var m=f(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,g));return m.label.innerHTML=y,m.container.classList.add("ql-color-picker"),[].slice.call(m.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(_){_.classList.add("ql-primary")}),m}return a(h,[{key:"buildItem",value:function(y){var m=o(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"buildItem",this).call(this,y);return m.style.backgroundColor=y.getAttribute("value")||"",m}},{key:"selectItem",value:function(y,m){o(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"selectItem",this).call(this,y,m);var _=this.label.querySelector(".ql-color-label"),b=y&&y.getAttribute("data-value")||"";_&&(_.tagName==="line"?_.style.stroke=b:_.style.fill=b)}}]),h}(l.default);n.default=p},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function v(h,g){for(var y=0;y<g.length;y++){var m=g[y];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(h,m.key,m)}}return function(h,g,y){return g&&v(h.prototype,g),y&&v(h,y),h}}(),o=function v(h,g,y){h===null&&(h=Function.prototype);var m=Object.getOwnPropertyDescriptor(h,g);if(m===void 0){var _=Object.getPrototypeOf(h);return _===null?void 0:v(_,g,y)}else{if("value"in m)return m.value;var b=m.get;return b===void 0?void 0:b.call(y)}},s=i(28),l=u(s);function u(v){return v&&v.__esModule?v:{default:v}}function c(v,h){if(!(v instanceof h))throw new TypeError("Cannot call a class as a function")}function f(v,h){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:v}function d(v,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);v.prototype=Object.create(h&&h.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(v,h):v.__proto__=h)}var p=function(v){d(h,v);function h(g,y){c(this,h);var m=f(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,g));return m.container.classList.add("ql-icon-picker"),[].forEach.call(m.container.querySelectorAll(".ql-picker-item"),function(_){_.innerHTML=y[_.getAttribute("data-value")||""]}),m.defaultItem=m.container.querySelector(".ql-selected"),m.selectItem(m.defaultItem),m}return a(h,[{key:"selectItem",value:function(y,m){o(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"selectItem",this).call(this,y,m),y=y||this.defaultItem,this.label.innerHTML=y.innerHTML}}]),h}(l.default);n.default=p},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function l(u,c){for(var f=0;f<c.length;f++){var d=c[f];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(u,d.key,d)}}return function(u,c,f){return c&&l(u.prototype,c),f&&l(u,f),u}}();function o(l,u){if(!(l instanceof u))throw new TypeError("Cannot call a class as a function")}var s=function(){function l(u,c){var f=this;o(this,l),this.quill=u,this.boundsContainer=c||document.body,this.root=u.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){f.root.style.marginTop=-1*f.quill.root.scrollTop+"px"}),this.hide()}return a(l,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(c){var f=c.left+c.width/2-this.root.offsetWidth/2,d=c.bottom+this.quill.root.scrollTop;this.root.style.left=f+"px",this.root.style.top=d+"px",this.root.classList.remove("ql-flip");var p=this.boundsContainer.getBoundingClientRect(),v=this.root.getBoundingClientRect(),h=0;if(v.right>p.right&&(h=p.right-v.right,this.root.style.left=f+h+"px"),v.left<p.left&&(h=p.left-v.left,this.root.style.left=f+h+"px"),v.bottom>p.bottom){var g=v.bottom-v.top,y=c.bottom-c.top+g;this.root.style.top=d-y+"px",this.root.classList.add("ql-flip")}return h}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),l}();n.default=s},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function C(k,w){var I=[],L=!0,P=!1,V=void 0;try{for(var $=k[Symbol.iterator](),U;!(L=(U=$.next()).done)&&(I.push(U.value),!(w&&I.length===w));L=!0);}catch(M){P=!0,V=M}finally{try{!L&&$.return&&$.return()}finally{if(P)throw V}}return I}return function(k,w){if(Array.isArray(k))return k;if(Symbol.iterator in Object(k))return C(k,w);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=function C(k,w,I){k===null&&(k=Function.prototype);var L=Object.getOwnPropertyDescriptor(k,w);if(L===void 0){var P=Object.getPrototypeOf(k);return P===null?void 0:C(P,w,I)}else{if("value"in L)return L.value;var V=L.get;return V===void 0?void 0:V.call(I)}},s=function(){function C(k,w){for(var I=0;I<w.length;I++){var L=w[I];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(k,L.key,L)}}return function(k,w,I){return w&&C(k.prototype,w),I&&C(k,I),k}}(),l=i(3),u=_(l),c=i(8),f=_(c),d=i(43),p=_(d),v=i(27),h=_(v),g=i(15),y=i(41),m=_(y);function _(C){return C&&C.__esModule?C:{default:C}}function b(C,k){if(!(C instanceof k))throw new TypeError("Cannot call a class as a function")}function S(C,k){if(!C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k&&(typeof k=="object"||typeof k=="function")?k:C}function O(C,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof k);C.prototype=Object.create(k&&k.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}),k&&(Object.setPrototypeOf?Object.setPrototypeOf(C,k):C.__proto__=k)}var x=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],E=function(C){O(k,C);function k(w,I){b(this,k),I.modules.toolbar!=null&&I.modules.toolbar.container==null&&(I.modules.toolbar.container=x);var L=S(this,(k.__proto__||Object.getPrototypeOf(k)).call(this,w,I));return L.quill.container.classList.add("ql-snow"),L}return s(k,[{key:"extendToolbar",value:function(I){I.container.classList.add("ql-snow"),this.buildButtons([].slice.call(I.container.querySelectorAll("button")),m.default),this.buildPickers([].slice.call(I.container.querySelectorAll("select")),m.default),this.tooltip=new A(this.quill,this.options.bounds),I.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(L,P){I.handlers.link.call(I,!P.format.link)})}}]),k}(p.default);E.DEFAULTS=(0,u.default)(!0,{},p.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(k){if(k){var w=this.quill.getSelection();if(w==null||w.length==0)return;var I=this.quill.getText(w);/^\S+@\S+\.\S+$/.test(I)&&I.indexOf("mailto:")!==0&&(I="mailto:"+I);var L=this.quill.theme.tooltip;L.edit("link",I)}else this.quill.format("link",!1)}}}}});var A=function(C){O(k,C);function k(w,I){b(this,k);var L=S(this,(k.__proto__||Object.getPrototypeOf(k)).call(this,w,I));return L.preview=L.root.querySelector("a.ql-preview"),L}return s(k,[{key:"listen",value:function(){var I=this;o(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(L){I.root.classList.contains("ql-editing")?I.save():I.edit("link",I.preview.textContent),L.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(L){if(I.linkRange!=null){var P=I.linkRange;I.restoreFocus(),I.quill.formatText(P,"link",!1,f.default.sources.USER),delete I.linkRange}L.preventDefault(),I.hide()}),this.quill.on(f.default.events.SELECTION_CHANGE,function(L,P,V){if(L!=null){if(L.length===0&&V===f.default.sources.USER){var $=I.quill.scroll.descendant(h.default,L.index),U=a($,2),M=U[0],R=U[1];if(M!=null){I.linkRange=new g.Range(L.index-R,M.length());var F=h.default.formats(M.domNode);I.preview.textContent=F,I.preview.setAttribute("href",F),I.show(),I.position(I.quill.getBounds(I.linkRange));return}}else delete I.linkRange;I.hide()}})}},{key:"show",value:function(){o(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),k}(d.BaseTooltip);A.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),n.default=E},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(29),o=ee(a),s=i(36),l=i(38),u=i(64),c=i(65),f=ee(c),d=i(66),p=ee(d),v=i(67),h=ee(v),g=i(37),y=i(26),m=i(39),_=i(40),b=i(56),S=ee(b),O=i(68),x=ee(O),E=i(27),A=ee(E),C=i(69),k=ee(C),w=i(70),I=ee(w),L=i(71),P=ee(L),V=i(72),$=ee(V),U=i(73),M=ee(U),R=i(13),F=ee(R),N=i(74),B=ee(N),q=i(75),W=ee(q),D=i(57),G=ee(D),H=i(41),Y=ee(H),K=i(28),ie=ee(K),te=i(59),se=ee(te),ue=i(60),fe=ee(ue),de=i(61),Se=ee(de),J=i(108),re=ee(J),ce=i(62),ve=ee(ce);function ee(me){return me&&me.__esModule?me:{default:me}}o.default.register({"attributors/attribute/direction":l.DirectionAttribute,"attributors/class/align":s.AlignClass,"attributors/class/background":g.BackgroundClass,"attributors/class/color":y.ColorClass,"attributors/class/direction":l.DirectionClass,"attributors/class/font":m.FontClass,"attributors/class/size":_.SizeClass,"attributors/style/align":s.AlignStyle,"attributors/style/background":g.BackgroundStyle,"attributors/style/color":y.ColorStyle,"attributors/style/direction":l.DirectionStyle,"attributors/style/font":m.FontStyle,"attributors/style/size":_.SizeStyle},!0),o.default.register({"formats/align":s.AlignClass,"formats/direction":l.DirectionClass,"formats/indent":u.IndentClass,"formats/background":g.BackgroundStyle,"formats/color":y.ColorStyle,"formats/font":m.FontClass,"formats/size":_.SizeClass,"formats/blockquote":f.default,"formats/code-block":F.default,"formats/header":p.default,"formats/list":h.default,"formats/bold":S.default,"formats/code":R.Code,"formats/italic":x.default,"formats/link":A.default,"formats/script":k.default,"formats/strike":I.default,"formats/underline":P.default,"formats/image":$.default,"formats/video":M.default,"formats/list/item":v.ListItem,"modules/formula":B.default,"modules/syntax":W.default,"modules/toolbar":G.default,"themes/bubble":re.default,"themes/snow":ve.default,"ui/icons":Y.default,"ui/picker":ie.default,"ui/icon-picker":fe.default,"ui/color-picker":se.default,"ui/tooltip":Se.default},!0),n.default=o.default},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.IndentClass=void 0;var a=function(){function h(g,y){for(var m=0;m<y.length;m++){var _=y[m];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(g,_.key,_)}}return function(g,y,m){return y&&h(g.prototype,y),m&&h(g,m),g}}(),o=function h(g,y,m){g===null&&(g=Function.prototype);var _=Object.getOwnPropertyDescriptor(g,y);if(_===void 0){var b=Object.getPrototypeOf(g);return b===null?void 0:h(b,y,m)}else{if("value"in _)return _.value;var S=_.get;return S===void 0?void 0:S.call(m)}},s=i(0),l=u(s);function u(h){return h&&h.__esModule?h:{default:h}}function c(h,g){if(!(h instanceof g))throw new TypeError("Cannot call a class as a function")}function f(h,g){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:h}function d(h,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);h.prototype=Object.create(g&&g.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(h,g):h.__proto__=g)}var p=function(h){d(g,h);function g(){return c(this,g),f(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return a(g,[{key:"add",value:function(m,_){if(_==="+1"||_==="-1"){var b=this.value(m)||0;_=_==="+1"?b+1:b-1}return _===0?(this.remove(m),!0):o(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"add",this).call(this,m,_)}},{key:"canAdd",value:function(m,_){return o(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"canAdd",this).call(this,m,_)||o(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"canAdd",this).call(this,m,parseInt(_))}},{key:"value",value:function(m){return parseInt(o(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"value",this).call(this,m))||void 0}}]),g}(l.default.Attributor.Class),v=new p("indent","ql-indent",{scope:l.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});n.IndentClass=v},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(4),o=s(a);function s(d){return d&&d.__esModule?d:{default:d}}function l(d,p){if(!(d instanceof p))throw new TypeError("Cannot call a class as a function")}function u(d,p){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:d}function c(d,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);d.prototype=Object.create(p&&p.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(d,p):d.__proto__=p)}var f=function(d){c(p,d);function p(){return l(this,p),u(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p}(o.default);f.blotName="blockquote",f.tagName="blockquote",n.default=f},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function p(v,h){for(var g=0;g<h.length;g++){var y=h[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(v,y.key,y)}}return function(v,h,g){return h&&p(v.prototype,h),g&&p(v,g),v}}(),o=i(4),s=l(o);function l(p){return p&&p.__esModule?p:{default:p}}function u(p,v){if(!(p instanceof v))throw new TypeError("Cannot call a class as a function")}function c(p,v){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:p}function f(p,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);p.prototype=Object.create(v&&v.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(p,v):p.__proto__=v)}var d=function(p){f(v,p);function v(){return u(this,v),c(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return a(v,null,[{key:"formats",value:function(g){return this.tagName.indexOf(g.tagName)+1}}]),v}(s.default);d.blotName="header",d.tagName=["H1","H2","H3","H4","H5","H6"],n.default=d},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.ListItem=void 0;var a=function(){function b(S,O){for(var x=0;x<O.length;x++){var E=O[x];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(S,E.key,E)}}return function(S,O,x){return O&&b(S.prototype,O),x&&b(S,x),S}}(),o=function b(S,O,x){S===null&&(S=Function.prototype);var E=Object.getOwnPropertyDescriptor(S,O);if(E===void 0){var A=Object.getPrototypeOf(S);return A===null?void 0:b(A,O,x)}else{if("value"in E)return E.value;var C=E.get;return C===void 0?void 0:C.call(x)}},s=i(0),l=p(s),u=i(4),c=p(u),f=i(25),d=p(f);function p(b){return b&&b.__esModule?b:{default:b}}function v(b,S,O){return S in b?Object.defineProperty(b,S,{value:O,enumerable:!0,configurable:!0,writable:!0}):b[S]=O,b}function h(b,S){if(!(b instanceof S))throw new TypeError("Cannot call a class as a function")}function g(b,S){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S&&(typeof S=="object"||typeof S=="function")?S:b}function y(b,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);b.prototype=Object.create(S&&S.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(b,S):b.__proto__=S)}var m=function(b){y(S,b);function S(){return h(this,S),g(this,(S.__proto__||Object.getPrototypeOf(S)).apply(this,arguments))}return a(S,[{key:"format",value:function(x,E){x===_.blotName&&!E?this.replaceWith(l.default.create(this.statics.scope)):o(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"format",this).call(this,x,E)}},{key:"remove",value:function(){this.prev==null&&this.next==null?this.parent.remove():o(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(x,E){return this.parent.isolate(this.offset(this.parent),this.length()),x===this.parent.statics.blotName?(this.parent.replaceWith(x,E),this):(this.parent.unwrap(),o(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"replaceWith",this).call(this,x,E))}}],[{key:"formats",value:function(x){return x.tagName===this.tagName?void 0:o(S.__proto__||Object.getPrototypeOf(S),"formats",this).call(this,x)}}]),S}(c.default);m.blotName="list-item",m.tagName="LI";var _=function(b){y(S,b),a(S,null,[{key:"create",value:function(x){var E=x==="ordered"?"OL":"UL",A=o(S.__proto__||Object.getPrototypeOf(S),"create",this).call(this,E);return(x==="checked"||x==="unchecked")&&A.setAttribute("data-checked",x==="checked"),A}},{key:"formats",value:function(x){if(x.tagName==="OL")return"ordered";if(x.tagName==="UL")return x.hasAttribute("data-checked")?x.getAttribute("data-checked")==="true"?"checked":"unchecked":"bullet"}}]);function S(O){h(this,S);var x=g(this,(S.__proto__||Object.getPrototypeOf(S)).call(this,O)),E=function(C){if(C.target.parentNode===O){var k=x.statics.formats(O),w=l.default.find(C.target);k==="checked"?w.format("list","unchecked"):k==="unchecked"&&w.format("list","checked")}};return O.addEventListener("touchstart",E),O.addEventListener("mousedown",E),x}return a(S,[{key:"format",value:function(x,E){this.children.length>0&&this.children.tail.format(x,E)}},{key:"formats",value:function(){return v({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(x,E){if(x instanceof m)o(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"insertBefore",this).call(this,x,E);else{var A=E==null?this.length():E.offset(this),C=this.split(A);C.parent.insertBefore(x,C)}}},{key:"optimize",value:function(x){o(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"optimize",this).call(this,x);var E=this.next;E!=null&&E.prev===this&&E.statics.blotName===this.statics.blotName&&E.domNode.tagName===this.domNode.tagName&&E.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(E.moveChildren(this),E.remove())}},{key:"replace",value:function(x){if(x.statics.blotName!==this.statics.blotName){var E=l.default.create(this.statics.defaultChild);x.moveChildren(E),this.appendChild(E)}o(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"replace",this).call(this,x)}}]),S}(d.default);_.blotName="list",_.scope=l.default.Scope.BLOCK_BLOT,_.tagName=["OL","UL"],_.defaultChild="list-item",_.allowedChildren=[m],n.ListItem=m,n.default=_},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(56),o=s(a);function s(d){return d&&d.__esModule?d:{default:d}}function l(d,p){if(!(d instanceof p))throw new TypeError("Cannot call a class as a function")}function u(d,p){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:d}function c(d,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);d.prototype=Object.create(p&&p.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(d,p):d.__proto__=p)}var f=function(d){c(p,d);function p(){return l(this,p),u(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p}(o.default);f.blotName="italic",f.tagName=["EM","I"],n.default=f},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function v(h,g){for(var y=0;y<g.length;y++){var m=g[y];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(h,m.key,m)}}return function(h,g,y){return g&&v(h.prototype,g),y&&v(h,y),h}}(),o=function v(h,g,y){h===null&&(h=Function.prototype);var m=Object.getOwnPropertyDescriptor(h,g);if(m===void 0){var _=Object.getPrototypeOf(h);return _===null?void 0:v(_,g,y)}else{if("value"in m)return m.value;var b=m.get;return b===void 0?void 0:b.call(y)}},s=i(6),l=u(s);function u(v){return v&&v.__esModule?v:{default:v}}function c(v,h){if(!(v instanceof h))throw new TypeError("Cannot call a class as a function")}function f(v,h){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h&&(typeof h=="object"||typeof h=="function")?h:v}function d(v,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);v.prototype=Object.create(h&&h.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(v,h):v.__proto__=h)}var p=function(v){d(h,v);function h(){return c(this,h),f(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}return a(h,null,[{key:"create",value:function(y){return y==="super"?document.createElement("sup"):y==="sub"?document.createElement("sub"):o(h.__proto__||Object.getPrototypeOf(h),"create",this).call(this,y)}},{key:"formats",value:function(y){if(y.tagName==="SUB")return"sub";if(y.tagName==="SUP")return"super"}}]),h}(l.default);p.blotName="script",p.tagName=["SUB","SUP"],n.default=p},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(6),o=s(a);function s(d){return d&&d.__esModule?d:{default:d}}function l(d,p){if(!(d instanceof p))throw new TypeError("Cannot call a class as a function")}function u(d,p){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:d}function c(d,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);d.prototype=Object.create(p&&p.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(d,p):d.__proto__=p)}var f=function(d){c(p,d);function p(){return l(this,p),u(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p}(o.default);f.blotName="strike",f.tagName="S",n.default=f},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=i(6),o=s(a);function s(d){return d&&d.__esModule?d:{default:d}}function l(d,p){if(!(d instanceof p))throw new TypeError("Cannot call a class as a function")}function u(d,p){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:d}function c(d,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);d.prototype=Object.create(p&&p.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(d,p):d.__proto__=p)}var f=function(d){c(p,d);function p(){return l(this,p),u(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p}(o.default);f.blotName="underline",f.tagName="U",n.default=f},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function g(y,m){for(var _=0;_<m.length;_++){var b=m[_];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(y,b.key,b)}}return function(y,m,_){return m&&g(y.prototype,m),_&&g(y,_),y}}(),o=function g(y,m,_){y===null&&(y=Function.prototype);var b=Object.getOwnPropertyDescriptor(y,m);if(b===void 0){var S=Object.getPrototypeOf(y);return S===null?void 0:g(S,m,_)}else{if("value"in b)return b.value;var O=b.get;return O===void 0?void 0:O.call(_)}},s=i(0),l=c(s),u=i(27);function c(g){return g&&g.__esModule?g:{default:g}}function f(g,y){if(!(g instanceof y))throw new TypeError("Cannot call a class as a function")}function d(g,y){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:g}function p(g,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);g.prototype=Object.create(y&&y.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(g,y):g.__proto__=y)}var v=["alt","height","width"],h=function(g){p(y,g);function y(){return f(this,y),d(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return a(y,[{key:"format",value:function(_,b){v.indexOf(_)>-1?b?this.domNode.setAttribute(_,b):this.domNode.removeAttribute(_):o(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"format",this).call(this,_,b)}}],[{key:"create",value:function(_){var b=o(y.__proto__||Object.getPrototypeOf(y),"create",this).call(this,_);return typeof _=="string"&&b.setAttribute("src",this.sanitize(_)),b}},{key:"formats",value:function(_){return v.reduce(function(b,S){return _.hasAttribute(S)&&(b[S]=_.getAttribute(S)),b},{})}},{key:"match",value:function(_){return/\.(jpe?g|gif|png)$/.test(_)||/^data:image\/.+;base64/.test(_)}},{key:"sanitize",value:function(_){return(0,u.sanitize)(_,["http","https","data"])?_:"//:0"}},{key:"value",value:function(_){return _.getAttribute("src")}}]),y}(l.default.Embed);h.blotName="image",h.tagName="IMG",n.default=h},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function g(y,m){for(var _=0;_<m.length;_++){var b=m[_];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(y,b.key,b)}}return function(y,m,_){return m&&g(y.prototype,m),_&&g(y,_),y}}(),o=function g(y,m,_){y===null&&(y=Function.prototype);var b=Object.getOwnPropertyDescriptor(y,m);if(b===void 0){var S=Object.getPrototypeOf(y);return S===null?void 0:g(S,m,_)}else{if("value"in b)return b.value;var O=b.get;return O===void 0?void 0:O.call(_)}},s=i(4),l=i(27),u=c(l);function c(g){return g&&g.__esModule?g:{default:g}}function f(g,y){if(!(g instanceof y))throw new TypeError("Cannot call a class as a function")}function d(g,y){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:g}function p(g,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);g.prototype=Object.create(y&&y.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(g,y):g.__proto__=y)}var v=["height","width"],h=function(g){p(y,g);function y(){return f(this,y),d(this,(y.__proto__||Object.getPrototypeOf(y)).apply(this,arguments))}return a(y,[{key:"format",value:function(_,b){v.indexOf(_)>-1?b?this.domNode.setAttribute(_,b):this.domNode.removeAttribute(_):o(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"format",this).call(this,_,b)}}],[{key:"create",value:function(_){var b=o(y.__proto__||Object.getPrototypeOf(y),"create",this).call(this,_);return b.setAttribute("frameborder","0"),b.setAttribute("allowfullscreen",!0),b.setAttribute("src",this.sanitize(_)),b}},{key:"formats",value:function(_){return v.reduce(function(b,S){return _.hasAttribute(S)&&(b[S]=_.getAttribute(S)),b},{})}},{key:"sanitize",value:function(_){return u.default.sanitize(_)}},{key:"value",value:function(_){return _.getAttribute("src")}}]),y}(s.BlockEmbed);h.blotName="video",h.className="ql-video",h.tagName="IFRAME",n.default=h},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.FormulaBlot=void 0;var a=function(){function _(b,S){for(var O=0;O<S.length;O++){var x=S[O];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(b,x.key,x)}}return function(b,S,O){return S&&_(b.prototype,S),O&&_(b,O),b}}(),o=function _(b,S,O){b===null&&(b=Function.prototype);var x=Object.getOwnPropertyDescriptor(b,S);if(x===void 0){var E=Object.getPrototypeOf(b);return E===null?void 0:_(E,S,O)}else{if("value"in x)return x.value;var A=x.get;return A===void 0?void 0:A.call(O)}},s=i(35),l=p(s),u=i(5),c=p(u),f=i(9),d=p(f);function p(_){return _&&_.__esModule?_:{default:_}}function v(_,b){if(!(_ instanceof b))throw new TypeError("Cannot call a class as a function")}function h(_,b){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:_}function g(_,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);_.prototype=Object.create(b&&b.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(_,b):_.__proto__=b)}var y=function(_){g(b,_);function b(){return v(this,b),h(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return a(b,null,[{key:"create",value:function(O){var x=o(b.__proto__||Object.getPrototypeOf(b),"create",this).call(this,O);return typeof O=="string"&&(window.katex.render(O,x,{throwOnError:!1,errorColor:"#f00"}),x.setAttribute("data-value",O)),x}},{key:"value",value:function(O){return O.getAttribute("data-value")}}]),b}(l.default);y.blotName="formula",y.className="ql-formula",y.tagName="SPAN";var m=function(_){g(b,_),a(b,null,[{key:"register",value:function(){c.default.register(y,!0)}}]);function b(){v(this,b);var S=h(this,(b.__proto__||Object.getPrototypeOf(b)).call(this));if(window.katex==null)throw new Error("Formula module requires KaTeX.");return S}return b}(d.default);n.FormulaBlot=y,n.default=m},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.CodeToken=n.CodeBlock=void 0;var a=function(){function O(x,E){for(var A=0;A<E.length;A++){var C=E[A];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(x,C.key,C)}}return function(x,E,A){return E&&O(x.prototype,E),A&&O(x,A),x}}(),o=function O(x,E,A){x===null&&(x=Function.prototype);var C=Object.getOwnPropertyDescriptor(x,E);if(C===void 0){var k=Object.getPrototypeOf(x);return k===null?void 0:O(k,E,A)}else{if("value"in C)return C.value;var w=C.get;return w===void 0?void 0:w.call(A)}},s=i(0),l=h(s),u=i(5),c=h(u),f=i(9),d=h(f),p=i(13),v=h(p);function h(O){return O&&O.__esModule?O:{default:O}}function g(O,x){if(!(O instanceof x))throw new TypeError("Cannot call a class as a function")}function y(O,x){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:O}function m(O,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);O.prototype=Object.create(x&&x.prototype,{constructor:{value:O,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(O,x):O.__proto__=x)}var _=function(O){m(x,O);function x(){return g(this,x),y(this,(x.__proto__||Object.getPrototypeOf(x)).apply(this,arguments))}return a(x,[{key:"replaceWith",value:function(A){this.domNode.textContent=this.domNode.textContent,this.attach(),o(x.prototype.__proto__||Object.getPrototypeOf(x.prototype),"replaceWith",this).call(this,A)}},{key:"highlight",value:function(A){var C=this.domNode.textContent;this.cachedText!==C&&((C.trim().length>0||this.cachedText==null)&&(this.domNode.innerHTML=A(C),this.domNode.normalize(),this.attach()),this.cachedText=C)}}]),x}(v.default);_.className="ql-syntax";var b=new l.default.Attributor.Class("token","hljs",{scope:l.default.Scope.INLINE}),S=function(O){m(x,O),a(x,null,[{key:"register",value:function(){c.default.register(b,!0),c.default.register(_,!0)}}]);function x(E,A){g(this,x);var C=y(this,(x.__proto__||Object.getPrototypeOf(x)).call(this,E,A));if(typeof C.options.highlight!="function")throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var k=null;return C.quill.on(c.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(k),k=setTimeout(function(){C.highlight(),k=null},C.options.interval)}),C.highlight(),C}return a(x,[{key:"highlight",value:function(){var A=this;if(!this.quill.selection.composing){this.quill.update(c.default.sources.USER);var C=this.quill.getSelection();this.quill.scroll.descendants(_).forEach(function(k){k.highlight(A.options.highlight)}),this.quill.update(c.default.sources.SILENT),C!=null&&this.quill.setSelection(C,c.default.sources.SILENT)}}}]),x}(d.default);S.DEFAULTS={highlight:function(){return window.hljs==null?null:function(O){var x=window.hljs.highlightAuto(O);return x.value}}(),interval:1e3},n.CodeBlock=_,n.CodeToken=b,n.default=S},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(r,n){r.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(r,n){r.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(r,n){r.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(r,n){r.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(r,n){r.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.default=n.BubbleTooltip=void 0;var a=function x(E,A,C){E===null&&(E=Function.prototype);var k=Object.getOwnPropertyDescriptor(E,A);if(k===void 0){var w=Object.getPrototypeOf(E);return w===null?void 0:x(w,A,C)}else{if("value"in k)return k.value;var I=k.get;return I===void 0?void 0:I.call(C)}},o=function(){function x(E,A){for(var C=0;C<A.length;C++){var k=A[C];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(E,k.key,k)}}return function(E,A,C){return A&&x(E.prototype,A),C&&x(E,C),E}}(),s=i(3),l=g(s),u=i(8),c=g(u),f=i(43),d=g(f),p=i(15),v=i(41),h=g(v);function g(x){return x&&x.__esModule?x:{default:x}}function y(x,E){if(!(x instanceof E))throw new TypeError("Cannot call a class as a function")}function m(x,E){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E&&(typeof E=="object"||typeof E=="function")?E:x}function _(x,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);x.prototype=Object.create(E&&E.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(x,E):x.__proto__=E)}var b=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],S=function(x){_(E,x);function E(A,C){y(this,E),C.modules.toolbar!=null&&C.modules.toolbar.container==null&&(C.modules.toolbar.container=b);var k=m(this,(E.__proto__||Object.getPrototypeOf(E)).call(this,A,C));return k.quill.container.classList.add("ql-bubble"),k}return o(E,[{key:"extendToolbar",value:function(C){this.tooltip=new O(this.quill,this.options.bounds),this.tooltip.root.appendChild(C.container),this.buildButtons([].slice.call(C.container.querySelectorAll("button")),h.default),this.buildPickers([].slice.call(C.container.querySelectorAll("select")),h.default)}}]),E}(d.default);S.DEFAULTS=(0,l.default)(!0,{},d.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(E){E?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var O=function(x){_(E,x);function E(A,C){y(this,E);var k=m(this,(E.__proto__||Object.getPrototypeOf(E)).call(this,A,C));return k.quill.on(c.default.events.EDITOR_CHANGE,function(w,I,L,P){if(w===c.default.events.SELECTION_CHANGE)if(I!=null&&I.length>0&&P===c.default.sources.USER){k.show(),k.root.style.left="0px",k.root.style.width="",k.root.style.width=k.root.offsetWidth+"px";var V=k.quill.getLines(I.index,I.length);if(V.length===1)k.position(k.quill.getBounds(I));else{var $=V[V.length-1],U=k.quill.getIndex($),M=Math.min($.length()-1,I.index+I.length-U),R=k.quill.getBounds(new p.Range(U,M));k.position(R)}}else document.activeElement!==k.textbox&&k.quill.hasFocus()&&k.hide()}),k}return o(E,[{key:"listen",value:function(){var C=this;a(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){C.root.classList.remove("ql-editing")}),this.quill.on(c.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!C.root.classList.contains("ql-hidden")){var k=C.quill.getSelection();k!=null&&C.position(C.quill.getBounds(k))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(C){var k=a(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"position",this).call(this,C),w=this.root.querySelector(".ql-tooltip-arrow");if(w.style.marginLeft="",k===0)return k;w.style.marginLeft=-1*k-w.offsetWidth/2+"px"}}]),E}(f.BaseTooltip);O.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),n.BubbleTooltip=O,n.default=S},function(r,n,i){r.exports=i(63)}]).default})})(qE);var HE=qE.exports;const ao=en(HE);var E4=kn&&kn.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)i.hasOwnProperty(a)&&(n[a]=i[a])},t(e,r)};return function(e,r){t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),fd=kn&&kn.__assign||function(){return fd=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},fd.apply(this,arguments)},C4=kn&&kn.__spreadArrays||function(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),i=0,e=0;e<r;e++)for(var a=arguments[e],o=0,s=a.length;o<s;o++,i++)n[i]=a[o];return n},up=kn&&kn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},Ji=up(X),T4=up(FF),bu=up(w4),w1=up(HE),k4=function(t){E4(e,t);function e(r){var n=t.call(this,r)||this;n.dirtyProps=["modules","formats","bounds","theme","children"],n.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],n.state={generation:0},n.selection=null,n.onEditorChange=function(a,o,s,l){var u,c,f,d;a==="text-change"?(c=(u=n).onEditorChangeText)===null||c===void 0||c.call(u,n.editor.root.innerHTML,o,l,n.unprivilegedEditor):a==="selection-change"&&((d=(f=n).onEditorChangeSelection)===null||d===void 0||d.call(f,o,l,n.unprivilegedEditor))};var i=n.isControlled()?r.value:r.defaultValue;return n.value=i!=null?i:"",n}return e.prototype.validateProps=function(r){var n;if(Ji.default.Children.count(r.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(Ji.default.Children.count(r.children)){var i=Ji.default.Children.only(r.children);if(((n=i)===null||n===void 0?void 0:n.type)==="textarea")throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.")}if(this.lastDeltaChangeSet&&r.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")},e.prototype.shouldComponentUpdate=function(r,n){var i=this,a;if(this.validateProps(r),!this.editor||this.state.generation!==n.generation)return!0;if("value"in r){var o=this.getEditorContents(),s=(a=r.value,a!=null?a:"");this.isEqualValue(s,o)||this.setEditorContents(this.editor,s)}return r.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,r.readOnly),C4(this.cleanProps,this.dirtyProps).some(function(l){return!bu.default(r[l],i.props[l])})},e.prototype.shouldComponentRegenerate=function(r){var n=this;return this.dirtyProps.some(function(i){return!bu.default(r[i],n.props[i])})},e.prototype.componentDidMount=function(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())},e.prototype.componentWillUnmount=function(){this.destroyEditor()},e.prototype.componentDidUpdate=function(r,n){var i=this;if(this.editor&&this.shouldComponentRegenerate(r)){var a=this.editor.getContents(),o=this.editor.getSelection();this.regenerationSnapshot={delta:a,selection:o},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.state.generation!==n.generation){var s=this.regenerationSnapshot,a=s.delta,l=s.selection;delete this.regenerationSnapshot,this.instantiateEditor();var u=this.editor;u.setContents(a),E1(function(){return i.setEditorSelection(u,l)})}},e.prototype.instantiateEditor=function(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())},e.prototype.destroyEditor=function(){this.editor&&this.unhookEditor(this.editor)},e.prototype.isControlled=function(){return"value"in this.props},e.prototype.getEditorConfig=function(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,scrollingContainer:this.props.scrollingContainer,tabIndex:this.props.tabIndex,theme:this.props.theme}},e.prototype.getEditor=function(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor},e.prototype.createEditor=function(r,n){var i=new w1.default(r,n);return n.tabIndex!=null&&this.setEditorTabIndex(i,n.tabIndex),this.hookEditor(i),i},e.prototype.hookEditor=function(r){this.unprivilegedEditor=this.makeUnprivilegedEditor(r),r.on("editor-change",this.onEditorChange)},e.prototype.unhookEditor=function(r){r.off("editor-change",this.onEditorChange)},e.prototype.getEditorContents=function(){return this.value},e.prototype.getEditorSelection=function(){return this.selection},e.prototype.isDelta=function(r){return r&&r.ops},e.prototype.isEqualValue=function(r,n){return this.isDelta(r)&&this.isDelta(n)?bu.default(r.ops,n.ops):bu.default(r,n)},e.prototype.setEditorContents=function(r,n){var i=this;this.value=n;var a=this.getEditorSelection();typeof n=="string"?r.setContents(r.clipboard.convert(n)):r.setContents(n),E1(function(){return i.setEditorSelection(r,a)})},e.prototype.setEditorSelection=function(r,n){if(this.selection=n,n){var i=r.getLength();n.index=Math.max(0,Math.min(n.index,i-1)),n.length=Math.max(0,Math.min(n.length,i-1-n.index)),r.setSelection(n)}},e.prototype.setEditorTabIndex=function(r,n){var i,a;!((a=(i=r)===null||i===void 0?void 0:i.scroll)===null||a===void 0)&&a.domNode&&(r.scroll.domNode.tabIndex=n)},e.prototype.setEditorReadOnly=function(r,n){n?r.disable():r.enable()},e.prototype.makeUnprivilegedEditor=function(r){var n=r;return{getHTML:function(){return n.root.innerHTML},getLength:n.getLength.bind(n),getText:n.getText.bind(n),getContents:n.getContents.bind(n),getSelection:n.getSelection.bind(n),getBounds:n.getBounds.bind(n)}},e.prototype.getEditingArea=function(){if(!this.editingArea)throw new Error("Instantiating on missing editing area");var r=T4.default.findDOMNode(this.editingArea);if(!r)throw new Error("Cannot find element for editing area");if(r.nodeType===3)throw new Error("Editing area cannot be a text node");return r},e.prototype.renderEditingArea=function(){var r=this,n=this.props,i=n.children,a=n.preserveWhitespace,o=this.state.generation,s={key:o,ref:function(l){r.editingArea=l}};return Ji.default.Children.count(i)?Ji.default.cloneElement(Ji.default.Children.only(i),s):a?Ji.default.createElement("pre",fd({},s)):Ji.default.createElement("div",fd({},s))},e.prototype.render=function(){var r;return Ji.default.createElement("div",{id:this.props.id,style:this.props.style,key:this.state.generation,className:"quill "+(r=this.props.className,r!=null?r:""),onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())},e.prototype.onEditorChangeText=function(r,n,i,a){var o,s;if(this.editor){var l=this.isDelta(this.value)?a.getContents():a.getHTML();l!==this.getEditorContents()&&(this.lastDeltaChangeSet=n,this.value=l,(s=(o=this.props).onChange)===null||s===void 0||s.call(o,r,n,i,a))}},e.prototype.onEditorChangeSelection=function(r,n,i){var a,o,s,l,u,c;if(this.editor){var f=this.getEditorSelection(),d=!f&&r,p=f&&!r;bu.default(r,f)||(this.selection=r,(o=(a=this.props).onChangeSelection)===null||o===void 0||o.call(a,r,n,i),d?(l=(s=this.props).onFocus)===null||l===void 0||l.call(s,r,n,i):p&&((c=(u=this.props).onBlur)===null||c===void 0||c.call(u,f,n,i)))}},e.prototype.focus=function(){this.editor&&this.editor.focus()},e.prototype.blur=function(){this.editor&&(this.selection=null,this.editor.blur())},e.displayName="React Quill",e.Quill=w1.default,e.defaultProps={theme:"snow",modules:{},readOnly:!1},e}(Ji.default.Component);function E1(t){Promise.resolve().then(t)}var cp=k4;const I4=en(cp);function C1(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function T1(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?C1(Object(r),!0).forEach(function(n){jv(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):C1(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Av(t){"@babel/helpers - typeof";return Av=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Av(t)}function zE(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function k1(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,WE(n.key),n)}}function UE(t,e,r){return e&&k1(t.prototype,e),r&&k1(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function jv(t,e,r){return e=WE(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function dd(){return dd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},dd.apply(this,arguments)}function A4(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Pv(t,e)}function fo(t){return fo=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},fo(t)}function Pv(t,e){return Pv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Pv(t,e)}function j4(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function Lv(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function P4(t,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Lv(t)}function L4(t){var e=j4();return function(){var n=fo(t),i;if(e){var a=fo(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return P4(this,i)}}function F4(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&(t=fo(t),t!==null););return t}function dl(){return typeof Reflect<"u"&&Reflect.get?dl=Reflect.get.bind():dl=function(e,r,n){var i=F4(e,r);if(i){var a=Object.getOwnPropertyDescriptor(i,r);return a.get?a.get.call(arguments.length<3?e:n):a.value}},dl.apply(this,arguments)}function R4(t,e){if(t){if(typeof t=="string")return I1(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return I1(t,e)}}function I1(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function $4(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=R4(t))||e){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(l){throw l},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a=!0,o=!1,s;return{s:function(){r=r.call(t)},n:function(){var l=r.next();return a=l.done,l},e:function(l){o=!0,s=l},f:function(){try{!a&&r.return!=null&&r.return()}finally{if(o)throw s}}}}function N4(t,e){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function WE(t){var e=N4(t,"string");return typeof e=="symbol"?e:String(e)}var Ta={TAB:9,ENTER:13,ESCAPE:27,UP:38,DOWN:40};function D4(t,e,r){var n=t;return Object.keys(e).forEach(function(i){r.indexOf(i)>-1?n.dataset[i]=e[i]:delete n.dataset[i]}),n}function A1(t,e){e!==null&&(Av(e)==="object"?t.appendChild(e):t.innerText=e)}function M4(t,e,r,n){return e.reduce(function(i,a){var o;if(r&&n){var s=new RegExp("^".concat(a,"|\\s").concat(a),"g"),l=(t.match(s)||[]).pop();if(!l)return{mentionChar:i.mentionChar,mentionCharIndex:i.mentionCharIndex};o=l!==a?t.lastIndexOf(l)+l.length-a.length:0}else o=t.lastIndexOf(a);return o>i.mentionCharIndex?{mentionChar:a,mentionCharIndex:o}:{mentionChar:i.mentionChar,mentionCharIndex:i.mentionCharIndex}},{mentionChar:null,mentionCharIndex:-1})}function V4(t,e){return e.test(t)}function B4(t,e,r,n){if(t===-1)return!1;if(!r)return!0;var i=t?e[t-1]:n;return!i||!!i.match(/\s/)}var q4=ao.import("blots/embed"),fp=function(t){A4(r,t);var e=L4(r);function r(n,i){var a;return zE(this,r),a=e.call(this,n,i),jv(Lv(a),"hoverHandler",void 0),jv(Lv(a),"hoverHandler",void 0),a.clickHandler=null,a.hoverHandler=null,a.mounted=!1,a}return UE(r,[{key:"attach",value:function(){dl(fo(r.prototype),"attach",this).call(this),this.mounted||(this.mounted=!0,this.clickHandler=this.getClickHandler(),this.hoverHandler=this.getHoverHandler(),this.domNode.addEventListener("click",this.clickHandler,!1),this.domNode.addEventListener("mouseenter",this.hoverHandler,!1))}},{key:"detach",value:function(){dl(fo(r.prototype),"detach",this).call(this),this.mounted=!1,this.clickHandler&&(this.domNode.removeEventListener("click",this.clickHandler),this.clickHandler=null)}},{key:"getClickHandler",value:function(){var i=this;return function(a){var o=i.buildEvent("mention-clicked",a);window.dispatchEvent(o),a.preventDefault()}}},{key:"getHoverHandler",value:function(){var i=this;return function(a){var o=i.buildEvent("mention-hovered",a);window.dispatchEvent(o),a.preventDefault()}}},{key:"buildEvent",value:function(i,a){var o=new Event(i,{bubbles:!0,cancelable:!0});return o.value=dd({},this.domNode.dataset),o.event=a,o}}],[{key:"create",value:function(i){var a=dl(fo(r),"create",this).call(this),o=document.createElement("span");return o.className="ql-mention-denotation-char",o.innerText=i.denotationChar,a.appendChild(o),typeof this.render=="function"?a.appendChild(this.render(i)):a.innerText+=i.value,r.setDataValues(a,i)}},{key:"setDataValues",value:function(i,a){var o=i;return Object.keys(a).forEach(function(s){o.dataset[s]=a[s]}),o}},{key:"value",value:function(i){return i.dataset}}]),r}(q4);fp.blotName="mention";fp.tagName="span";fp.className="mention";ao.register("blots/mention",fp);var GE=function(){function t(e,r){var n=this;zE(this,t),this.isOpen=!1,this.itemIndex=0,this.mentionCharPos=null,this.cursorPos=null,this.values=[],this.suspendMouseEnter=!1,this.existingSourceExecutionToken=null,this.quill=e,this.options={source:null,renderItem:function(u){var c=u.value;return"".concat(c)},renderLoading:function(){return null},onSelect:function(u,c){c(u)},mentionDenotationChars:["@"],showDenotationChar:!0,allowedChars:/^[a-zA-Z0-9_]*$/,minChars:0,maxChars:31,offsetTop:2,offsetLeft:0,isolateCharacter:!1,allowInlineMentionChar:!1,fixMentionsToQuill:!1,positioningStrategy:"normal",defaultMenuOrientation:"bottom",blotName:"mention",dataAttributes:["id","value","denotationChar","link","target","disabled"],linkTarget:"_blank",onOpen:function(){return!0},onBeforeClose:function(){return!0},onClose:function(){return!0},listItemClass:"ql-mention-list-item",mentionContainerClass:"ql-mention-list-container",mentionListClass:"ql-mention-list",spaceAfterInsert:!0,selectKeys:[Ta.ENTER]},dd(this.options,r,{dataAttributes:Array.isArray(r.dataAttributes)?this.options.dataAttributes.concat(r.dataAttributes):this.options.dataAttributes});for(var i in this.options)typeof this.options[i]=="function"&&(this.options[i]=this.options[i].bind(this));this.mentionContainer=document.createElement("div"),this.mentionContainer.className=this.options.mentionContainerClass?this.options.mentionContainerClass:"",this.mentionContainer.style.cssText="display: none; position: absolute;",this.mentionContainer.onmousemove=this.onContainerMouseMove.bind(this),this.options.fixMentionsToQuill&&(this.mentionContainer.style.width="auto"),this.mentionList=document.createElement("ul"),this.mentionList.id="quill-mention-list",e.root.setAttribute("aria-owns","quill-mention-list"),this.mentionList.className=this.options.mentionListClass?this.options.mentionListClass:"",this.mentionContainer.appendChild(this.mentionList),e.on("text-change",this.onTextChange.bind(this)),e.on("selection-change",this.onSelectionChange.bind(this)),e.container.addEventListener("paste",function(){setTimeout(function(){var l=e.getSelection();n.onSelectionChange(l)})}),e.keyboard.addBinding({key:Ta.TAB},this.selectHandler.bind(this)),e.keyboard.bindings[Ta.TAB].unshift(e.keyboard.bindings[Ta.TAB].pop());var a=$4(this.options.selectKeys),o;try{for(a.s();!(o=a.n()).done;){var s=o.value;e.keyboard.addBinding({key:s},this.selectHandler.bind(this))}}catch(l){a.e(l)}finally{a.f()}e.keyboard.bindings[Ta.ENTER].unshift(e.keyboard.bindings[Ta.ENTER].pop()),e.keyboard.addBinding({key:Ta.ESCAPE},this.escapeHandler.bind(this)),e.keyboard.addBinding({key:Ta.UP},this.upHandler.bind(this)),e.keyboard.addBinding({key:Ta.DOWN},this.downHandler.bind(this))}return UE(t,[{key:"selectHandler",value:function(){return this.isOpen&&!this.existingSourceExecutionToken?(this.selectItem(),!1):!0}},{key:"escapeHandler",value:function(){return this.isOpen?(this.existingSourceExecutionToken&&(this.existingSourceExecutionToken.abandoned=!0),this.hideMentionList(),!1):!0}},{key:"upHandler",value:function(){return this.isOpen&&!this.existingSourceExecutionToken?(this.prevItem(),!1):!0}},{key:"downHandler",value:function(){return this.isOpen&&!this.existingSourceExecutionToken?(this.nextItem(),!1):!0}},{key:"showMentionList",value:function(){this.options.positioningStrategy==="fixed"?document.body.appendChild(this.mentionContainer):this.quill.container.appendChild(this.mentionContainer),this.mentionContainer.style.visibility="hidden",this.mentionContainer.style.display="",this.mentionContainer.scrollTop=0,this.setMentionContainerPosition(),this.setIsOpen(!0)}},{key:"hideMentionList",value:function(){this.options.onBeforeClose(),this.mentionContainer.style.display="none",this.mentionContainer.remove(),this.setIsOpen(!1),this.quill.root.removeAttribute("aria-activedescendant")}},{key:"highlightItem",value:function(){for(var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,n=0;n<this.mentionList.childNodes.length;n+=1)this.mentionList.childNodes[n].classList.remove("selected");this.itemIndex===-1||this.mentionList.childNodes[this.itemIndex].dataset.disabled==="true"||(this.mentionList.childNodes[this.itemIndex].classList.add("selected"),this.quill.root.setAttribute("aria-activedescendant",this.mentionList.childNodes[this.itemIndex].id),r&&this.mentionList.childNodes[this.itemIndex].scrollIntoView({behaviour:"smooth",block:"nearest"}))}},{key:"onContainerMouseMove",value:function(){this.suspendMouseEnter=!1}},{key:"selectItem",value:function(){var r=this;if(this.itemIndex!==-1){var n=this.mentionList.childNodes[this.itemIndex].dataset;n.disabled||(this.options.onSelect(n,function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return r.insertItem(i,a,o)}),this.hideMentionList())}}},{key:"insertItem",value:function(r,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=r;if(a!==null){var o=T1(T1({},this.options),i);o.showDenotationChar||(a.denotationChar="");var s;n?s=this.cursorPos:(s=this.mentionCharPos,this.quill.deleteText(this.mentionCharPos,this.cursorPos-this.mentionCharPos,ao.sources.USER));var l=this.quill.insertEmbed(s,o.blotName,a,ao.sources.USER);return o.spaceAfterInsert?(this.quill.insertText(s+1," ",ao.sources.USER),this.quill.setSelection(s+2,ao.sources.USER)):this.quill.setSelection(s+1,ao.sources.USER),this.hideMentionList(),l}}},{key:"onItemMouseEnter",value:function(r){if(!this.suspendMouseEnter){var n=Number(r.target.dataset.index);!Number.isNaN(n)&&n!==this.itemIndex&&(this.itemIndex=n,this.highlightItem(!1))}}},{key:"onDisabledItemMouseEnter",value:function(r){this.suspendMouseEnter||(this.itemIndex=-1,this.highlightItem(!1))}},{key:"onItemClick",value:function(r){r.button===0&&(r.preventDefault(),r.stopImmediatePropagation(),this.itemIndex=r.currentTarget.dataset.index,this.highlightItem(),this.selectItem())}},{key:"onItemMouseDown",value:function(r){r.preventDefault(),r.stopImmediatePropagation()}},{key:"renderLoading",value:function(){var r=this.options.renderLoading();if(r){if(this.mentionContainer.getElementsByClassName("ql-mention-loading").length>0){this.showMentionList();return}this.mentionList.innerHTML="";var n=document.createElement("div");n.className="ql-mention-loading",A1(n,this.options.renderLoading()),this.mentionContainer.append(n),this.showMentionList()}}},{key:"removeLoading",value:function(){var r=this.mentionContainer.getElementsByClassName("ql-mention-loading");r.length>0&&r[0].remove()}},{key:"renderList",value:function(r,n,i){if(n&&n.length>0){this.removeLoading(),this.values=n,this.mentionList.innerText="";for(var a=-1,o=0;o<n.length;o+=1){var s=document.createElement("li");s.id="quill-mention-item-"+o,s.className=this.options.listItemClass?this.options.listItemClass:"",n[o].disabled?(s.className+=" disabled",s.setAttribute("aria-hidden","true")):a===-1&&(a=o),s.dataset.index=o;var l=this.options.renderItem(n[o],i);A1(s,l),n[o].disabled?s.onmouseenter=this.onDisabledItemMouseEnter.bind(this):(s.onmouseenter=this.onItemMouseEnter.bind(this),s.onmouseup=this.onItemClick.bind(this),s.onmousedown=this.onItemMouseDown.bind(this)),s.dataset.denotationChar=r,this.mentionList.appendChild(D4(s,n[o],this.options.dataAttributes))}this.itemIndex=a,this.highlightItem(),this.showMentionList()}else this.hideMentionList()}},{key:"nextItem",value:function(){var r=0,n;do{r++,n=(this.itemIndex+r)%this.values.length;var i=this.mentionList.childNodes[n].dataset.disabled==="true";if(r===this.values.length+1){n=-1;break}}while(i);this.itemIndex=n,this.suspendMouseEnter=!0,this.highlightItem()}},{key:"prevItem",value:function(){var r=0,n;do{r++,n=(this.itemIndex+this.values.length-r)%this.values.length;var i=this.mentionList.childNodes[n].dataset.disabled==="true";if(r===this.values.length+1){n=-1;break}}while(i);this.itemIndex=n,this.suspendMouseEnter=!0,this.highlightItem()}},{key:"containerBottomIsNotVisible",value:function(r,n){var i=r+this.mentionContainer.offsetHeight+n.top;return i>window.pageYOffset+window.innerHeight}},{key:"containerRightIsNotVisible",value:function(r,n){if(this.options.fixMentionsToQuill)return!1;var i=r+this.mentionContainer.offsetWidth+n.left,a=window.pageXOffset+document.documentElement.clientWidth;return i>a}},{key:"setIsOpen",value:function(r){this.isOpen!==r&&(r?this.options.onOpen():this.options.onClose(),this.isOpen=r)}},{key:"setMentionContainerPosition",value:function(){this.options.positioningStrategy==="fixed"?this.setMentionContainerPosition_Fixed():this.setMentionContainerPosition_Normal()}},{key:"setMentionContainerPosition_Normal",value:function(){var r=this,n=this.quill.container.getBoundingClientRect(),i=this.quill.getBounds(this.mentionCharPos),a=this.mentionContainer.offsetHeight,o=this.options.offsetTop,s=this.options.offsetLeft;if(this.options.fixMentionsToQuill){var l=0;this.mentionContainer.style.right="".concat(l,"px")}else s+=i.left;if(this.containerRightIsNotVisible(s,n)){var u=this.mentionContainer.offsetWidth+this.options.offsetLeft,c=n.width;s=c-u}if(this.options.defaultMenuOrientation==="top"){if(this.options.fixMentionsToQuill?o=-1*(a+this.options.offsetTop):o=i.top-(a+this.options.offsetTop),o+n.top<=0){var f=this.options.offsetTop;this.options.fixMentionsToQuill?f+=n.height:f+=i.bottom,o=f}}else if(this.options.fixMentionsToQuill?o+=n.height:o+=i.bottom,this.containerBottomIsNotVisible(o,n)){var d=this.options.offsetTop*-1;this.options.fixMentionsToQuill||(d+=i.top),o=d-a}o>=0?this.options.mentionContainerClass.split(" ").forEach(function(p){r.mentionContainer.classList.add("".concat(p,"-bottom")),r.mentionContainer.classList.remove("".concat(p,"-top"))}):this.options.mentionContainerClass.split(" ").forEach(function(p){r.mentionContainer.classList.add("".concat(p,"-top")),r.mentionContainer.classList.remove("".concat(p,"-bottom"))}),this.mentionContainer.style.top="".concat(o,"px"),this.mentionContainer.style.left="".concat(s,"px"),this.mentionContainer.style.visibility="visible"}},{key:"setMentionContainerPosition_Fixed",value:function(){var r=this;this.mentionContainer.style.position="fixed",this.mentionContainer.style.height=null;var n=this.quill.container.getBoundingClientRect(),i=this.quill.getBounds(this.mentionCharPos),a={left:n.left+i.left,top:n.top+i.top,width:0,height:i.height},o=this.options.fixMentionsToQuill?n:a,s=this.options.offsetTop,l=this.options.offsetLeft;if(this.options.fixMentionsToQuill){var u=o.right;this.mentionContainer.style.right="".concat(u,"px")}else l+=o.left,l+this.mentionContainer.offsetWidth>document.documentElement.clientWidth&&(l-=l+this.mentionContainer.offsetWidth-document.documentElement.clientWidth);var c=o.top,f=document.documentElement.clientHeight-(o.top+o.height),d=this.mentionContainer.offsetHeight<=f,p=this.mentionContainer.offsetHeight<=c,v;this.options.defaultMenuOrientation==="top"&&p?v="top":this.options.defaultMenuOrientation==="bottom"&&d?v="bottom":v=f>c?"bottom":"top",v==="bottom"?(s=o.top+o.height,d||(this.mentionContainer.style.height=f-3+"px"),this.options.mentionContainerClass.split(" ").forEach(function(h){r.mentionContainer.classList.add("".concat(h,"-bottom")),r.mentionContainer.classList.remove("".concat(h,"-top"))})):(s=o.top-this.mentionContainer.offsetHeight,p||(this.mentionContainer.style.height=c-3+"px",s=3),this.options.mentionContainerClass.split(" ").forEach(function(h){r.mentionContainer.classList.add("".concat(h,"-top")),r.mentionContainer.classList.remove("".concat(h,"-bottom"))})),this.mentionContainer.style.top="".concat(s,"px"),this.mentionContainer.style.left="".concat(l,"px"),this.mentionContainer.style.visibility="visible"}},{key:"getTextBeforeCursor",value:function(){var r=Math.max(0,this.cursorPos-this.options.maxChars),n=this.quill.getText(r,this.cursorPos-r);return n}},{key:"onSomethingChange",value:function(){var r=this,n=this.quill.getSelection();if(n!=null){this.cursorPos=n.index;var i=this.getTextBeforeCursor(),a=Math.max(0,this.cursorPos-this.options.maxChars),o=a?this.quill.getText(a-1,a):"",s=M4(i,this.options.mentionDenotationChars,this.options.isolateCharacter,this.options.allowInlineMentionChar),l=s.mentionChar,u=s.mentionCharIndex;if(B4(u,i,this.options.isolateCharacter,o)){var c=this.cursorPos-(i.length-u);this.mentionCharPos=c;var f=i.substring(u+l.length);if(f.length>=this.options.minChars&&V4(f,this.getAllowedCharsRegex(l))){this.existingSourceExecutionToken&&(this.existingSourceExecutionToken.abandoned=!0),this.renderLoading();var d={abandoned:!1};this.existingSourceExecutionToken=d,this.options.source(f,function(p,v){d.abandoned||(r.existingSourceExecutionToken=null,r.renderList(l,p,v))},l)}else this.existingSourceExecutionToken&&(this.existingSourceExecutionToken.abandoned=!0),this.hideMentionList()}else this.existingSourceExecutionToken&&(this.existingSourceExecutionToken.abandoned=!0),this.hideMentionList()}}},{key:"getAllowedCharsRegex",value:function(r){return this.options.allowedChars instanceof RegExp?this.options.allowedChars:this.options.allowedChars(r)}},{key:"onTextChange",value:function(r,n,i){i==="user"&&this.onSomethingChange()}},{key:"onSelectionChange",value:function(r){r&&r.length===0?this.onSomethingChange():this.hideMentionList()}},{key:"openMenu",value:function(r){var n=this.quill.getSelection(!0);this.quill.insertText(n.index,r),this.quill.blur(),this.quill.focus()}}]),t}();ao.register("modules/mention",GE);var ca=-1,sa=1,cn=0;function Ku(t,e,r){if(t==e)return t?[[cn,t]]:[];(r<0||t.length<r)&&(r=null);var n=hm(t,e),i=t.substring(0,n);t=t.substring(n),e=e.substring(n),n=vm(t,e);var a=t.substring(t.length-n);t=t.substring(0,t.length-n),e=e.substring(0,e.length-n);var o=H4(t,e);return i&&o.unshift([cn,i]),a&&o.push([cn,a]),YE(o),r!=null&&(o=Y4(o,r)),o=K4(o),o}function H4(t,e){var r;if(!t)return[[sa,e]];if(!e)return[[ca,t]];var n=t.length>e.length?t:e,i=t.length>e.length?e:t,a=n.indexOf(i);if(a!=-1)return r=[[sa,n.substring(0,a)],[cn,i],[sa,n.substring(a+i.length)]],t.length>e.length&&(r[0][0]=r[2][0]=ca),r;if(i.length==1)return[[ca,t],[sa,e]];var o=U4(t,e);if(o){var s=o[0],l=o[1],u=o[2],c=o[3],f=o[4],d=Ku(s,u),p=Ku(l,c);return d.concat([[cn,f]],p)}return z4(t,e)}function z4(t,e){for(var r=t.length,n=e.length,i=Math.ceil((r+n)/2),a=i,o=2*i,s=new Array(o),l=new Array(o),u=0;u<o;u++)s[u]=-1,l[u]=-1;s[a+1]=0,l[a+1]=0;for(var c=r-n,f=c%2!=0,d=0,p=0,v=0,h=0,g=0;g<i;g++){for(var y=-g+d;y<=g-p;y+=2){var m=a+y,_;y==-g||y!=g&&s[m-1]<s[m+1]?_=s[m+1]:_=s[m-1]+1;for(var b=_-y;_<r&&b<n&&t.charAt(_)==e.charAt(b);)_++,b++;if(s[m]=_,_>r)p+=2;else if(b>n)d+=2;else if(f){var S=a+c-y;if(S>=0&&S<o&&l[S]!=-1){var O=r-l[S];if(_>=O)return j1(t,e,_,b)}}}for(var x=-g+v;x<=g-h;x+=2){var S=a+x,O;x==-g||x!=g&&l[S-1]<l[S+1]?O=l[S+1]:O=l[S-1]+1;for(var E=O-x;O<r&&E<n&&t.charAt(r-O-1)==e.charAt(n-E-1);)O++,E++;if(l[S]=O,O>r)h+=2;else if(E>n)v+=2;else if(!f){var m=a+c-x;if(m>=0&&m<o&&s[m]!=-1){var _=s[m],b=a+_-m;if(O=r-O,_>=O)return j1(t,e,_,b)}}}}return[[ca,t],[sa,e]]}function j1(t,e,r,n){var i=t.substring(0,r),a=e.substring(0,n),o=t.substring(r),s=e.substring(n),l=Ku(i,a),u=Ku(o,s);return l.concat(u)}function hm(t,e){if(!t||!e||t.charAt(0)!=e.charAt(0))return 0;for(var r=0,n=Math.min(t.length,e.length),i=n,a=0;r<i;)t.substring(a,i)==e.substring(a,i)?(r=i,a=r):n=i,i=Math.floor((n-r)/2+r);return i}function vm(t,e){if(!t||!e||t.charAt(t.length-1)!=e.charAt(e.length-1))return 0;for(var r=0,n=Math.min(t.length,e.length),i=n,a=0;r<i;)t.substring(t.length-i,t.length-a)==e.substring(e.length-i,e.length-a)?(r=i,a=r):n=i,i=Math.floor((n-r)/2+r);return i}function U4(t,e){var r=t.length>e.length?t:e,n=t.length>e.length?e:t;if(r.length<4||n.length*2<r.length)return null;function i(p,v,h){for(var g=p.substring(h,h+Math.floor(p.length/4)),y=-1,m="",_,b,S,O;(y=v.indexOf(g,y+1))!=-1;){var x=hm(p.substring(h),v.substring(y)),E=vm(p.substring(0,h),v.substring(0,y));m.length<E+x&&(m=v.substring(y-E,y)+v.substring(y,y+x),_=p.substring(0,h-E),b=p.substring(h+x),S=v.substring(0,y-E),O=v.substring(y+x))}return m.length*2>=p.length?[_,b,S,O,m]:null}var a=i(r,n,Math.ceil(r.length/4)),o=i(r,n,Math.ceil(r.length/2)),s;if(!a&&!o)return null;o?a?s=a[4].length>o[4].length?a:o:s=o:s=a;var l,u,c,f;t.length>e.length?(l=s[0],u=s[1],c=s[2],f=s[3]):(c=s[0],f=s[1],l=s[2],u=s[3]);var d=s[4];return[l,u,c,f,d]}function YE(t){t.push([cn,""]);for(var e=0,r=0,n=0,i="",a="",o;e<t.length;)switch(t[e][0]){case sa:n++,a+=t[e][1],e++;break;case ca:r++,i+=t[e][1],e++;break;case cn:r+n>1?(r!==0&&n!==0&&(o=hm(a,i),o!==0&&(e-r-n>0&&t[e-r-n-1][0]==cn?t[e-r-n-1][1]+=a.substring(0,o):(t.splice(0,0,[cn,a.substring(0,o)]),e++),a=a.substring(o),i=i.substring(o)),o=vm(a,i),o!==0&&(t[e][1]=a.substring(a.length-o)+t[e][1],a=a.substring(0,a.length-o),i=i.substring(0,i.length-o))),r===0?t.splice(e-n,r+n,[sa,a]):n===0?t.splice(e-r,r+n,[ca,i]):t.splice(e-r-n,r+n,[ca,i],[sa,a]),e=e-r-n+(r?1:0)+(n?1:0)+1):e!==0&&t[e-1][0]==cn?(t[e-1][1]+=t[e][1],t.splice(e,1)):e++,n=0,r=0,i="",a="";break}t[t.length-1][1]===""&&t.pop();var s=!1;for(e=1;e<t.length-1;)t[e-1][0]==cn&&t[e+1][0]==cn&&(t[e][1].substring(t[e][1].length-t[e-1][1].length)==t[e-1][1]?(t[e][1]=t[e-1][1]+t[e][1].substring(0,t[e][1].length-t[e-1][1].length),t[e+1][1]=t[e-1][1]+t[e+1][1],t.splice(e-1,1),s=!0):t[e][1].substring(0,t[e+1][1].length)==t[e+1][1]&&(t[e-1][1]+=t[e+1][1],t[e][1]=t[e][1].substring(t[e+1][1].length)+t[e+1][1],t.splice(e+1,1),s=!0)),e++;s&&YE(t)}var dp=Ku;dp.INSERT=sa;dp.DELETE=ca;dp.EQUAL=cn;var W4=dp;function G4(t,e){if(e===0)return[cn,t];for(var r=0,n=0;n<t.length;n++){var i=t[n];if(i[0]===ca||i[0]===cn){var a=r+i[1].length;if(e===a)return[n+1,t];if(e<a){t=t.slice();var o=e-r,s=[i[0],i[1].slice(0,o)],l=[i[0],i[1].slice(o)];return t.splice(n,1,s,l),[n+1,t]}else r=a}}throw new Error("cursor_pos is out of bounds!")}function Y4(t,e){var r=G4(t,e),n=r[1],i=r[0],a=n[i],o=n[i+1];if(a==null)return t;if(a[0]!==cn)return t;if(o!=null&&a[1]+o[1]===o[1]+a[1])return n.splice(i,2,o,a),P1(n,i,2);if(o!=null&&o[1].indexOf(a[1])===0){n.splice(i,2,[o[0],a[1]],[0,a[1]]);var s=o[1].slice(a[1].length);return s.length>0&&n.splice(i+2,0,[o[0],s]),P1(n,i,3)}else return t}function K4(t){for(var e=!1,r=function(o){return o.charCodeAt(0)>=56320&&o.charCodeAt(0)<=57343},n=function(o){return o.charCodeAt(o.length-1)>=55296&&o.charCodeAt(o.length-1)<=56319},i=2;i<t.length;i+=1)t[i-2][0]===cn&&n(t[i-2][1])&&t[i-1][0]===ca&&r(t[i-1][1])&&t[i][0]===sa&&r(t[i][1])&&(e=!0,t[i-1][1]=t[i-2][1].slice(-1)+t[i-1][1],t[i][1]=t[i-2][1].slice(-1)+t[i][1],t[i-2][1]=t[i-2][1].slice(0,-1));if(!e)return t;for(var a=[],i=0;i<t.length;i+=1)t[i][1].length>0&&a.push(t[i]);return a}function P1(t,e,r){for(var n=e+r-1;n>=0&&n>=e-1;n--)if(n+1<t.length){var i=t[n],a=t[n+1];i[0]===a[1]&&t.splice(n,2,[i[0],i[1]+a[1]])}return t}var L1=Object.prototype.toString,KE=function(e){var r=L1.call(e),n=r==="[object Arguments]";return n||(n=r!=="[object Array]"&&e!==null&&typeof e=="object"&&typeof e.length=="number"&&e.length>=0&&L1.call(e.callee)==="[object Function]"),n},Th,F1;function J4(){if(F1)return Th;F1=1;var t;if(!Object.keys){var e=Object.prototype.hasOwnProperty,r=Object.prototype.toString,n=KE,i=Object.prototype.propertyIsEnumerable,a=!i.call({toString:null},"toString"),o=i.call(function(){},"prototype"),s=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],l=function(d){var p=d.constructor;return p&&p.prototype===d},u={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},c=function(){if(typeof window>"u")return!1;for(var d in window)try{if(!u["$"+d]&&e.call(window,d)&&window[d]!==null&&typeof window[d]=="object")try{l(window[d])}catch(p){return!0}}catch(p){return!0}return!1}(),f=function(d){if(typeof window>"u"||!c)return l(d);try{return l(d)}catch(p){return!1}};t=function(p){var v=p!==null&&typeof p=="object",h=r.call(p)==="[object Function]",g=n(p),y=v&&r.call(p)==="[object String]",m=[];if(!v&&!h&&!g)throw new TypeError("Object.keys called on a non-object");var _=o&&h;if(y&&p.length>0&&!e.call(p,0))for(var b=0;b<p.length;++b)m.push(String(b));if(g&&p.length>0)for(var S=0;S<p.length;++S)m.push(String(S));else for(var O in p)!(_&&O==="prototype")&&e.call(p,O)&&m.push(String(O));if(a)for(var x=f(p),E=0;E<s.length;++E)!(x&&s[E]==="constructor")&&e.call(p,s[E])&&m.push(s[E]);return m}}return Th=t,Th}var Q4=Array.prototype.slice,X4=KE,R1=Object.keys,Wf=R1?function(e){return R1(e)}:J4(),$1=Object.keys;Wf.shim=function(){if(Object.keys){var e=function(){var r=Object.keys(arguments);return r&&r.length===arguments.length}(1,2);e||(Object.keys=function(n){return X4(n)?$1(Q4.call(n)):$1(n)})}else Object.keys=Wf;return Object.keys||Wf};var JE=Wf,QE=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;e[r]=i;for(r in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var a=Object.getOwnPropertySymbols(e);if(a.length!==1||a[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var o=Object.getOwnPropertyDescriptor(e,r);if(o.value!==i||o.enumerable!==!0)return!1}return!0},Z4=QE,gm=function(){return Z4()&&!!Symbol.toStringTag},eB=Error,tB=EvalError,rB=RangeError,nB=ReferenceError,XE=SyntaxError,ql=TypeError,iB=URIError,N1=typeof Symbol<"u"&&Symbol,aB=QE,oB=function(){return typeof N1!="function"||typeof Symbol!="function"||typeof N1("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:aB()},kh={__proto__:null,foo:{}},sB=Object,lB=function(){return{__proto__:kh}.foo===kh.foo&&!(kh instanceof sB)},uB="Function.prototype.bind called on incompatible ",cB=Object.prototype.toString,fB=Math.max,dB="[object Function]",D1=function(e,r){for(var n=[],i=0;i<e.length;i+=1)n[i]=e[i];for(var a=0;a<r.length;a+=1)n[a+e.length]=r[a];return n},pB=function(e,r){for(var n=[],i=r,a=0;i<e.length;i+=1,a+=1)n[a]=e[i];return n},hB=function(t,e){for(var r="",n=0;n<t.length;n+=1)r+=t[n],n+1<t.length&&(r+=e);return r},vB=function(e){var r=this;if(typeof r!="function"||cB.apply(r)!==dB)throw new TypeError(uB+r);for(var n=pB(arguments,1),i,a=function(){if(this instanceof i){var c=r.apply(this,D1(n,arguments));return Object(c)===c?c:this}return r.apply(e,D1(n,arguments))},o=fB(0,r.length-n.length),s=[],l=0;l<o;l++)s[l]="$"+l;if(i=Function("binder","return function ("+hB(s,",")+"){ return binder.apply(this,arguments); }")(a),r.prototype){var u=function(){};u.prototype=r.prototype,i.prototype=new u,u.prototype=null}return i},gB=vB,mm=Function.prototype.bind||gB,mB=Function.prototype.call,yB=Object.prototype.hasOwnProperty,bB=mm,_B=bB.call(mB,yB),Ot,SB=eB,OB=tB,xB=rB,wB=nB,_l=XE,pl=ql,EB=iB,ZE=Function,Ih=function(t){try{return ZE('"use strict"; return ('+t+").constructor;")()}catch(e){}},Yo=Object.getOwnPropertyDescriptor;if(Yo)try{Yo({},"")}catch(t){Yo=null}var Ah=function(){throw new pl},CB=Yo?function(){try{return arguments.callee,Ah}catch(t){try{return Yo(arguments,"callee").get}catch(e){return Ah}}}():Ah,ks=oB(),TB=lB(),nn=Object.getPrototypeOf||(TB?function(t){return t.__proto__}:null),Hs={},kB=typeof Uint8Array>"u"||!nn?Ot:nn(Uint8Array),Ko={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?Ot:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?Ot:ArrayBuffer,"%ArrayIteratorPrototype%":ks&&nn?nn([][Symbol.iterator]()):Ot,"%AsyncFromSyncIteratorPrototype%":Ot,"%AsyncFunction%":Hs,"%AsyncGenerator%":Hs,"%AsyncGeneratorFunction%":Hs,"%AsyncIteratorPrototype%":Hs,"%Atomics%":typeof Atomics>"u"?Ot:Atomics,"%BigInt%":typeof BigInt>"u"?Ot:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?Ot:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?Ot:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?Ot:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":SB,"%eval%":eval,"%EvalError%":OB,"%Float32Array%":typeof Float32Array>"u"?Ot:Float32Array,"%Float64Array%":typeof Float64Array>"u"?Ot:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?Ot:FinalizationRegistry,"%Function%":ZE,"%GeneratorFunction%":Hs,"%Int8Array%":typeof Int8Array>"u"?Ot:Int8Array,"%Int16Array%":typeof Int16Array>"u"?Ot:Int16Array,"%Int32Array%":typeof Int32Array>"u"?Ot:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":ks&&nn?nn(nn([][Symbol.iterator]())):Ot,"%JSON%":typeof JSON=="object"?JSON:Ot,"%Map%":typeof Map>"u"?Ot:Map,"%MapIteratorPrototype%":typeof Map>"u"||!ks||!nn?Ot:nn(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?Ot:Promise,"%Proxy%":typeof Proxy>"u"?Ot:Proxy,"%RangeError%":xB,"%ReferenceError%":wB,"%Reflect%":typeof Reflect>"u"?Ot:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?Ot:Set,"%SetIteratorPrototype%":typeof Set>"u"||!ks||!nn?Ot:nn(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?Ot:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":ks&&nn?nn(""[Symbol.iterator]()):Ot,"%Symbol%":ks?Symbol:Ot,"%SyntaxError%":_l,"%ThrowTypeError%":CB,"%TypedArray%":kB,"%TypeError%":pl,"%Uint8Array%":typeof Uint8Array>"u"?Ot:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?Ot:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?Ot:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?Ot:Uint32Array,"%URIError%":EB,"%WeakMap%":typeof WeakMap>"u"?Ot:WeakMap,"%WeakRef%":typeof WeakRef>"u"?Ot:WeakRef,"%WeakSet%":typeof WeakSet>"u"?Ot:WeakSet};if(nn)try{null.error}catch(t){var IB=nn(nn(t));Ko["%Error.prototype%"]=IB}var AB=function t(e){var r;if(e==="%AsyncFunction%")r=Ih("async function () {}");else if(e==="%GeneratorFunction%")r=Ih("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=Ih("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=t("%AsyncGenerator%");i&&nn&&(r=nn(i.prototype))}return Ko[e]=r,r},M1={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Sc=mm,pd=_B,jB=Sc.call(Function.call,Array.prototype.concat),PB=Sc.call(Function.apply,Array.prototype.splice),V1=Sc.call(Function.call,String.prototype.replace),hd=Sc.call(Function.call,String.prototype.slice),LB=Sc.call(Function.call,RegExp.prototype.exec),FB=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,RB=/\\(\\)?/g,$B=function(e){var r=hd(e,0,1),n=hd(e,-1);if(r==="%"&&n!=="%")throw new _l("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new _l("invalid intrinsic syntax, expected opening `%`");var i=[];return V1(e,FB,function(a,o,s,l){i[i.length]=s?V1(l,RB,"$1"):o||a}),i},NB=function(e,r){var n=e,i;if(pd(M1,n)&&(i=M1[n],n="%"+i[0]+"%"),pd(Ko,n)){var a=Ko[n];if(a===Hs&&(a=AB(n)),typeof a>"u"&&!r)throw new pl("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:a}}throw new _l("intrinsic "+e+" does not exist!")},Oc=function(e,r){if(typeof e!="string"||e.length===0)throw new pl("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new pl('"allowMissing" argument must be a boolean');if(LB(/^%?[^%]*%?$/,e)===null)throw new _l("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=$B(e),i=n.length>0?n[0]:"",a=NB("%"+i+"%",r),o=a.name,s=a.value,l=!1,u=a.alias;u&&(i=u[0],PB(n,jB([0,1],u)));for(var c=1,f=!0;c<n.length;c+=1){var d=n[c],p=hd(d,0,1),v=hd(d,-1);if((p==='"'||p==="'"||p==="`"||v==='"'||v==="'"||v==="`")&&p!==v)throw new _l("property names with quotes must have matching quotes");if((d==="constructor"||!f)&&(l=!0),i+="."+d,o="%"+i+"%",pd(Ko,o))s=Ko[o];else if(s!=null){if(!(d in s)){if(!r)throw new pl("base intrinsic for "+e+" exists, but the property is not available.");return}if(Yo&&c+1>=n.length){var h=Yo(s,d);f=!!h,f&&"get"in h&&!("originalValue"in h.get)?s=h.get:s=s[d]}else f=pd(s,d),s=s[d];f&&!l&&(Ko[o]=s)}}return s},eC={exports:{}},DB=Oc,Gf=DB("%Object.defineProperty%",!0)||!1;if(Gf)try{Gf({},"a",{value:1})}catch(t){Gf=!1}var ym=Gf,MB=Oc,Yf=MB("%Object.getOwnPropertyDescriptor%",!0);if(Yf)try{Yf([],"length")}catch(t){Yf=null}var tC=Yf,B1=ym,VB=XE,Is=ql,q1=tC,bm=function(e,r,n){if(!e||typeof e!="object"&&typeof e!="function")throw new Is("`obj` must be an object or a function`");if(typeof r!="string"&&typeof r!="symbol")throw new Is("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new Is("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new Is("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new Is("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new Is("`loose`, if provided, must be a boolean");var i=arguments.length>3?arguments[3]:null,a=arguments.length>4?arguments[4]:null,o=arguments.length>5?arguments[5]:null,s=arguments.length>6?arguments[6]:!1,l=!!q1&&q1(e,r);if(B1)B1(e,r,{configurable:o===null&&l?l.configurable:!o,enumerable:i===null&&l?l.enumerable:!i,value:n,writable:a===null&&l?l.writable:!a});else if(s||!i&&!a&&!o)e[r]=n;else throw new VB("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},Fv=ym,rC=function(){return!!Fv};rC.hasArrayLengthDefineBug=function(){if(!Fv)return null;try{return Fv([],"length",{value:1}).length!==1}catch(e){return!0}};var _m=rC,BB=Oc,H1=bm,qB=_m(),z1=tC,U1=ql,HB=BB("%Math.floor%"),zB=function(e,r){if(typeof e!="function")throw new U1("`fn` is not a function");if(typeof r!="number"||r<0||r>4294967295||HB(r)!==r)throw new U1("`length` must be a positive 32-bit integer");var n=arguments.length>2&&!!arguments[2],i=!0,a=!0;if("length"in e&&z1){var o=z1(e,"length");o&&!o.configurable&&(i=!1),o&&!o.writable&&(a=!1)}return(i||a||!n)&&(qB?H1(e,"length",r,!0,!0):H1(e,"length",r)),e};(function(t){var e=mm,r=Oc,n=zB,i=ql,a=r("%Function.prototype.apply%"),o=r("%Function.prototype.call%"),s=r("%Reflect.apply%",!0)||e.call(o,a),l=ym,u=r("%Math.max%");t.exports=function(d){if(typeof d!="function")throw new i("a function is required");var p=s(e,o,arguments);return n(p,1+u(0,d.length-(arguments.length-1)),!0)};var c=function(){return s(e,a,arguments)};l?l(t.exports,"apply",{value:c}):t.exports.apply=c})(eC);var Sm=eC.exports,nC=Oc,iC=Sm,UB=iC(nC("String.prototype.indexOf")),aC=function(e,r){var n=nC(e,!!r);return typeof n=="function"&&UB(e,".prototype.")>-1?iC(n):n},WB=gm(),GB=aC,Rv=GB("Object.prototype.toString"),pp=function(e){return WB&&e&&typeof e=="object"&&Symbol.toStringTag in e?!1:Rv(e)==="[object Arguments]"},oC=function(e){return pp(e)?!0:e!==null&&typeof e=="object"&&typeof e.length=="number"&&e.length>=0&&Rv(e)!=="[object Array]"&&Rv(e.callee)==="[object Function]"},YB=function(){return pp(arguments)}();pp.isLegacyArguments=oC;var KB=YB?pp:oC,JB=JE,QB=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",XB=Object.prototype.toString,ZB=Array.prototype.concat,W1=bm,eq=function(t){return typeof t=="function"&&XB.call(t)==="[object Function]"},sC=_m(),tq=function(t,e,r,n){if(e in t){if(n===!0){if(t[e]===r)return}else if(!eq(n)||!n())return}sC?W1(t,e,r,!0):W1(t,e,r)},lC=function(t,e){var r=arguments.length>2?arguments[2]:{},n=JB(e);QB&&(n=ZB.call(n,Object.getOwnPropertySymbols(e)));for(var i=0;i<n.length;i+=1)tq(t,n[i],e[n[i]],r[n[i]])};lC.supportsDescriptors=!!sC;var xc=lC,G1=function(t){return t!==t},uC=function(e,r){return e===0&&r===0?1/e===1/r:!!(e===r||G1(e)&&G1(r))},rq=uC,cC=function(){return typeof Object.is=="function"?Object.is:rq},nq=cC,iq=xc,aq=function(){var e=nq();return iq(Object,{is:e},{is:function(){return Object.is!==e}}),e},oq=xc,sq=Sm,lq=uC,fC=cC,uq=aq,dC=sq(fC(),Object);oq(dC,{getPolyfill:fC,implementation:lq,shim:uq});var cq=dC,$v=aC,pC=gm(),hC,vC,Nv,Dv;if(pC){hC=$v("Object.prototype.hasOwnProperty"),vC=$v("RegExp.prototype.exec"),Nv={};var jh=function(){throw Nv};Dv={toString:jh,valueOf:jh},typeof Symbol.toPrimitive=="symbol"&&(Dv[Symbol.toPrimitive]=jh)}var fq=$v("Object.prototype.toString"),dq=Object.getOwnPropertyDescriptor,pq="[object RegExp]",hq=pC?function(e){if(!e||typeof e!="object")return!1;var r=dq(e,"lastIndex"),n=r&&hC(r,"value");if(!n)return!1;try{vC(e,Dv)}catch(i){return i===Nv}}:function(e){return!e||typeof e!="object"&&typeof e!="function"?!1:fq(e)===pq},Ju=function(){return typeof(function(){}).name=="string"},Mu=Object.getOwnPropertyDescriptor;if(Mu)try{Mu([],"length")}catch(t){Mu=null}Ju.functionsHaveConfigurableNames=function(){if(!Ju()||!Mu)return!1;var e=Mu(function(){},"name");return!!e&&!!e.configurable};var vq=Function.prototype.bind;Ju.boundFunctionsHaveNames=function(){return Ju()&&typeof vq=="function"&&(function(){}).bind().name!==""};var gq=Ju,Y1=bm,mq=_m(),yq=gq.functionsHaveConfigurableNames(),bq=ql,_q=function(e,r){if(typeof e!="function")throw new bq("`fn` is not a function");var n=arguments.length>2&&!!arguments[2];return(!n||yq)&&(mq?Y1(e,"name",r,!0,!0):Y1(e,"name",r)),e},Sq=_q,Oq=ql,xq=Object,gC=Sq(function(){if(this==null||this!==xq(this))throw new Oq("RegExp.prototype.flags getter called on non-object");var e="";return this.hasIndices&&(e+="d"),this.global&&(e+="g"),this.ignoreCase&&(e+="i"),this.multiline&&(e+="m"),this.dotAll&&(e+="s"),this.unicode&&(e+="u"),this.unicodeSets&&(e+="v"),this.sticky&&(e+="y"),e},"get flags",!0),wq=gC,Eq=xc.supportsDescriptors,Cq=Object.getOwnPropertyDescriptor,mC=function(){if(Eq&&/a/mig.flags==="gim"){var e=Cq(RegExp.prototype,"flags");if(e&&typeof e.get=="function"&&"dotAll"in RegExp.prototype&&"hasIndices"in RegExp.prototype){var r="",n={};if(Object.defineProperty(n,"hasIndices",{get:function(){r+="d"}}),Object.defineProperty(n,"sticky",{get:function(){r+="y"}}),e.get.call(n),r==="dy")return e.get}}return wq},Tq=xc.supportsDescriptors,kq=mC,Iq=Object.getOwnPropertyDescriptor,Aq=Object.defineProperty,jq=TypeError,K1=Object.getPrototypeOf,Pq=/a/,Lq=function(){if(!Tq||!K1)throw new jq("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var e=kq(),r=K1(Pq),n=Iq(r,"flags");return(!n||n.get!==e)&&Aq(r,"flags",{configurable:!0,enumerable:!1,get:e}),e},Fq=xc,Rq=Sm,$q=gC,yC=mC,Nq=Lq,bC=Rq(yC());Fq(bC,{getPolyfill:yC,implementation:$q,shim:Nq});var Dq=bC,Mq=Date.prototype.getDay,Vq=function(e){try{return Mq.call(e),!0}catch(r){return!1}},Bq=Object.prototype.toString,qq="[object Date]",Hq=gm(),zq=function(e){return typeof e!="object"||e===null?!1:Hq?Vq(e):Bq.call(e)===qq},J1=JE,Q1=KB,X1=cq,Z1=hq,e_=Dq,t_=zq,r_=Date.prototype.getTime;function _C(t,e,r){var n=r||{};return(n.strict?X1(t,e):t===e)?!0:!t||!e||typeof t!="object"&&typeof e!="object"?n.strict?X1(t,e):t==e:Uq(t,e,n)}function n_(t){return t==null}function i_(t){return!(!t||typeof t!="object"||typeof t.length!="number"||typeof t.copy!="function"||typeof t.slice!="function"||t.length>0&&typeof t[0]!="number")}function Uq(t,e,r){var n,i;if(typeof t!=typeof e||n_(t)||n_(e)||t.prototype!==e.prototype||Q1(t)!==Q1(e))return!1;var a=Z1(t),o=Z1(e);if(a!==o)return!1;if(a||o)return t.source===e.source&&e_(t)===e_(e);if(t_(t)&&t_(e))return r_.call(t)===r_.call(e);var s=i_(t),l=i_(e);if(s!==l)return!1;if(s||l){if(t.length!==e.length)return!1;for(n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}if(typeof t!=typeof e)return!1;try{var u=J1(t),c=J1(e)}catch(f){return!1}if(u.length!==c.length)return!1;for(u.sort(),c.sort(),n=u.length-1;n>=0;n--)if(u[n]!=c[n])return!1;for(n=u.length-1;n>=0;n--)if(i=u[n],!_C(t[i],e[i],r))return!1;return!0}var SC=_C,Kf=Object.prototype.hasOwnProperty,OC=Object.prototype.toString,a_=Object.defineProperty,o_=Object.getOwnPropertyDescriptor,s_=function(e){return typeof Array.isArray=="function"?Array.isArray(e):OC.call(e)==="[object Array]"},l_=function(e){if(!e||OC.call(e)!=="[object Object]")return!1;var r=Kf.call(e,"constructor"),n=e.constructor&&e.constructor.prototype&&Kf.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!r&&!n)return!1;var i;for(i in e);return typeof i>"u"||Kf.call(e,i)},u_=function(e,r){a_&&r.name==="__proto__"?a_(e,r.name,{enumerable:!0,configurable:!0,value:r.newValue,writable:!0}):e[r.name]=r.newValue},c_=function(e,r){if(r==="__proto__")if(Kf.call(e,r)){if(o_)return o_(e,r).value}else return;return e[r]},xC=function t(){var e,r,n,i,a,o,s=arguments[0],l=1,u=arguments.length,c=!1;for(typeof s=="boolean"&&(c=s,s=arguments[1]||{},l=2),(s==null||typeof s!="object"&&typeof s!="function")&&(s={});l<u;++l)if(e=arguments[l],e!=null)for(r in e)n=c_(s,r),i=c_(e,r),s!==i&&(c&&i&&(l_(i)||(a=s_(i)))?(a?(a=!1,o=n&&s_(n)?n:[]):o=n&&l_(n)?n:{},u_(s,{name:r,newValue:t(c,o,i)})):typeof i<"u"&&u_(s,{name:r,newValue:i}));return s},Wq=SC,Gq=xC,Om={attributes:{compose:function(t,e,r){typeof t!="object"&&(t={}),typeof e!="object"&&(e={});var n=Gq(!0,{},e);r||(n=Object.keys(n).reduce(function(a,o){return n[o]!=null&&(a[o]=n[o]),a},{}));for(var i in t)t[i]!==void 0&&e[i]===void 0&&(n[i]=t[i]);return Object.keys(n).length>0?n:void 0},diff:function(t,e){typeof t!="object"&&(t={}),typeof e!="object"&&(e={});var r=Object.keys(t).concat(Object.keys(e)).reduce(function(n,i){return Wq(t[i],e[i])||(n[i]=e[i]===void 0?null:e[i]),n},{});return Object.keys(r).length>0?r:void 0},transform:function(t,e,r){if(typeof t!="object")return e;if(typeof e=="object"){if(!r)return e;var n=Object.keys(e).reduce(function(i,a){return t[a]===void 0&&(i[a]=e[a]),i},{});return Object.keys(n).length>0?n:void 0}}},iterator:function(t){return new fs(t)},length:function(t){return typeof t.delete=="number"?t.delete:typeof t.retain=="number"?t.retain:typeof t.insert=="string"?t.insert.length:1}};function fs(t){this.ops=t,this.index=0,this.offset=0}fs.prototype.hasNext=function(){return this.peekLength()<1/0};fs.prototype.next=function(t){t||(t=1/0);var e=this.ops[this.index];if(e){var r=this.offset,n=Om.length(e);if(t>=n-r?(t=n-r,this.index+=1,this.offset=0):this.offset+=t,typeof e.delete=="number")return{delete:t};var i={};return e.attributes&&(i.attributes=e.attributes),typeof e.retain=="number"?i.retain=t:typeof e.insert=="string"?i.insert=e.insert.substr(r,t):i.insert=e.insert,i}else return{retain:1/0}};fs.prototype.peek=function(){return this.ops[this.index]};fs.prototype.peekLength=function(){return this.ops[this.index]?Om.length(this.ops[this.index])-this.offset:1/0};fs.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"};fs.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var t=this.offset,e=this.index,r=this.next(),n=this.ops.slice(this.index);return this.offset=t,this.index=e,[r].concat(n)}else return[]};var Yq=Om,mf=W4,xm=SC,Kq=xC,fn=Yq,Jq="\0",Ut=function(t){Array.isArray(t)?this.ops=t:t!=null&&Array.isArray(t.ops)?this.ops=t.ops:this.ops=[]};Ut.prototype.insert=function(t,e){var r={};return t.length===0?this:(r.insert=t,e!=null&&typeof e=="object"&&Object.keys(e).length>0&&(r.attributes=e),this.push(r))};Ut.prototype.delete=function(t){return t<=0?this:this.push({delete:t})};Ut.prototype.retain=function(t,e){if(t<=0)return this;var r={retain:t};return e!=null&&typeof e=="object"&&Object.keys(e).length>0&&(r.attributes=e),this.push(r)};Ut.prototype.push=function(t){var e=this.ops.length,r=this.ops[e-1];if(t=Kq(!0,{},t),typeof r=="object"){if(typeof t.delete=="number"&&typeof r.delete=="number")return this.ops[e-1]={delete:r.delete+t.delete},this;if(typeof r.delete=="number"&&t.insert!=null&&(e-=1,r=this.ops[e-1],typeof r!="object"))return this.ops.unshift(t),this;if(xm(t.attributes,r.attributes)){if(typeof t.insert=="string"&&typeof r.insert=="string")return this.ops[e-1]={insert:r.insert+t.insert},typeof t.attributes=="object"&&(this.ops[e-1].attributes=t.attributes),this;if(typeof t.retain=="number"&&typeof r.retain=="number")return this.ops[e-1]={retain:r.retain+t.retain},typeof t.attributes=="object"&&(this.ops[e-1].attributes=t.attributes),this}}return e===this.ops.length?this.ops.push(t):this.ops.splice(e,0,t),this};Ut.prototype.chop=function(){var t=this.ops[this.ops.length-1];return t&&t.retain&&!t.attributes&&this.ops.pop(),this};Ut.prototype.filter=function(t){return this.ops.filter(t)};Ut.prototype.forEach=function(t){this.ops.forEach(t)};Ut.prototype.map=function(t){return this.ops.map(t)};Ut.prototype.partition=function(t){var e=[],r=[];return this.forEach(function(n){var i=t(n)?e:r;i.push(n)}),[e,r]};Ut.prototype.reduce=function(t,e){return this.ops.reduce(t,e)};Ut.prototype.changeLength=function(){return this.reduce(function(t,e){return e.insert?t+fn.length(e):e.delete?t-e.delete:t},0)};Ut.prototype.length=function(){return this.reduce(function(t,e){return t+fn.length(e)},0)};Ut.prototype.slice=function(t,e){t=t||0,typeof e!="number"&&(e=1/0);for(var r=[],n=fn.iterator(this.ops),i=0;i<e&&n.hasNext();){var a;i<t?a=n.next(t-i):(a=n.next(e-i),r.push(a)),i+=fn.length(a)}return new Ut(r)};Ut.prototype.compose=function(t){var e=fn.iterator(this.ops),r=fn.iterator(t.ops),n=[],i=r.peek();if(i!=null&&typeof i.retain=="number"&&i.attributes==null){for(var a=i.retain;e.peekType()==="insert"&&e.peekLength()<=a;)a-=e.peekLength(),n.push(e.next());i.retain-a>0&&r.next(i.retain-a)}for(var o=new Ut(n);e.hasNext()||r.hasNext();)if(r.peekType()==="insert")o.push(r.next());else if(e.peekType()==="delete")o.push(e.next());else{var s=Math.min(e.peekLength(),r.peekLength()),l=e.next(s),u=r.next(s);if(typeof u.retain=="number"){var c={};typeof l.retain=="number"?c.retain=s:c.insert=l.insert;var f=fn.attributes.compose(l.attributes,u.attributes,typeof l.retain=="number");if(f&&(c.attributes=f),o.push(c),!r.hasNext()&&xm(o.ops[o.ops.length-1],c)){var d=new Ut(e.rest());return o.concat(d).chop()}}else typeof u.delete=="number"&&typeof l.retain=="number"&&o.push(u)}return o.chop()};Ut.prototype.concat=function(t){var e=new Ut(this.ops.slice());return t.ops.length>0&&(e.push(t.ops[0]),e.ops=e.ops.concat(t.ops.slice(1))),e};Ut.prototype.diff=function(t,e){if(this.ops===t.ops)return new Ut;var r=[this,t].map(function(s){return s.map(function(l){if(l.insert!=null)return typeof l.insert=="string"?l.insert:Jq;var u=s===t?"on":"with";throw new Error("diff() called "+u+" non-document")}).join("")}),n=new Ut,i=mf(r[0],r[1],e),a=fn.iterator(this.ops),o=fn.iterator(t.ops);return i.forEach(function(s){for(var l=s[1].length;l>0;){var u=0;switch(s[0]){case mf.INSERT:u=Math.min(o.peekLength(),l),n.push(o.next(u));break;case mf.DELETE:u=Math.min(l,a.peekLength()),a.next(u),n.delete(u);break;case mf.EQUAL:u=Math.min(a.peekLength(),o.peekLength(),l);var c=a.next(u),f=o.next(u);xm(c.insert,f.insert)?n.retain(u,fn.attributes.diff(c.attributes,f.attributes)):n.push(f).delete(u);break}l-=u}}),n.chop()};Ut.prototype.eachLine=function(t,e){e=e||"\n";for(var r=fn.iterator(this.ops),n=new Ut,i=0;r.hasNext();){if(r.peekType()!=="insert")return;var a=r.peek(),o=fn.length(a)-r.peekLength(),s=typeof a.insert=="string"?a.insert.indexOf(e,o)-o:-1;if(s<0)n.push(r.next());else if(s>0)n.push(r.next(s));else{if(t(n,r.next(1).attributes||{},i)===!1)return;i+=1,n=new Ut}}n.length()>0&&t(n,{},i)};Ut.prototype.transform=function(t,e){if(e=!!e,typeof t=="number")return this.transformPosition(t,e);for(var r=fn.iterator(this.ops),n=fn.iterator(t.ops),i=new Ut;r.hasNext()||n.hasNext();)if(r.peekType()==="insert"&&(e||n.peekType()!=="insert"))i.retain(fn.length(r.next()));else if(n.peekType()==="insert")i.push(n.next());else{var a=Math.min(r.peekLength(),n.peekLength()),o=r.next(a),s=n.next(a);if(o.delete)continue;s.delete?i.push(s):i.retain(a,fn.attributes.transform(o.attributes,s.attributes,e))}return i.chop()};Ut.prototype.transformPosition=function(t,e){e=!!e;for(var r=fn.iterator(this.ops),n=0;r.hasNext()&&n<=t;){var i=r.peekLength(),a=r.peekType();if(r.next(),a==="delete"){t-=Math.min(i,t-n);continue}else a==="insert"&&(n<t||!e)&&(t+=i);n+=i}return t};var Qq=Ut;const Xq=en(Qq),Zq=cp.Quill.import("modules/clipboard");class e6 extends Zq{onPaste(e){e.preventDefault();const r=this.quill.getSelection(),n=e.clipboardData.getData("text/plain");n.split("\r\n").filter(function(s){return s});const i=new Xq().retain(r.index).delete(r.length).insert(n),a=n.length+r.index,o=0;this.quill.updateContents(i,"silent"),this.quill.setSelection(a,o,"silent")}}const wC=(t,e)=>{let r=[];if(!t)return r;let n=t.find(i=>i.code===e);return n&&(n.parent&&EC(t,n).forEach(a=>{r=r.concat(f_(t,a))}),(Hi(n.code)||os(n.code))&&(r=r.concat(f_(t,n)))),r},EC=(t,e)=>{let r=[],n=t.find(i=>i.code===e.parent);return n&&n.parent&&(r.push(n),r=r.concat(EC(t,n))),r},f_=(t,e)=>{let r=[];return!Hi(e.code)&&!os(e.code)||t.filter(i=>i.parent===e.parent&&i.maxIndex<e.minIndex&&(!e.prioritisedSiblings||e.prioritisedSiblings.indexOf(i.code)===-1)).forEach(i=>{r=r.concat(i.code),r=r.concat(CC(t,i))}),r},CC=(t,e)=>{let r=[];return Hi(e.code)&&e.children&&e.children.forEach(n=>{let i=t.find(a=>a.code===n);r=r.concat(i.code),r=r.concat(CC(t,i))}),r},t6=(t,e,r,n)=>{let i=wC(t,e),a=[];return i.forEach(o=>{if(os(o)){const s=r6(o,r[o],r,n);s.length&&(a=a.concat(s))}}),a},r6=(t,e,r,n)=>{var s,l;const i=t+". "+Ai((l=(s=e.content)==null?void 0:s.label)==null?void 0:l[n]);let a="",o=e.type;switch(e.type){case"scq_icon_array":case"scq_array":return e.children.filter(u=>u.type=="row").map(u=>{var c,f;return{value:i+" - "+t+". "+Ai((f=(c=r[u.qualifiedCode].content)==null?void 0:c.label)==null?void 0:f[n]),id:t+u.code,type:"SCQ Array Row",instruction:t+u.code+".masked_value"}});case"text":o="Short Text",a="".concat(t,".value");break;case"nps":o="NPS",a="".concat(t,".value");break;case"email":o="Email",a="".concat(t,".value");break;case"paragraph":a="".concat(t,".value"),o="Long Text";break;case"number":o="Number",a="".concat(t,".value");break;case"date":o="Date",a="".concat(t,".masked_value");break;case"time":o="time",a="".concat(t,".masked_value");break;case"date_time":o="Date Time",a="".concat(t,".masked_value");break;case"scq":o="SCQ",a="".concat(t,".masked_value");break;case"icon_scq":o="Icon SCQ",a="".concat(t,".masked_value");break;case"image_scq":o="Image SCQ",a="".concat(t,".masked_value");break;case"mcq":o="MCQ",a="".concat(t,".masked_value");break;case"image_mcq":o="Image MCQ",a="".concat(t,".masked_value");break;case"icon_mcq":o="Icon MCQ",a="".concat(t,".masked_value");break;default:return[]}return[{id:t,instruction:a,value:i,type:o}]};cp.Quill.register("modules/mentions",GE);cp.Quill.register("modules/clipboard",e6,!0);function n6({value:t,onBlurListener:e,extended:r,isRtl:n,lang:i,code:a}){console.debug("DraftEditor for: "+a);const o=(b,S)=>S?"<p>"+b.replace(/<br>/gi,"").replace(/<p>/gi,"").replace(/<\/p>/,"")+"</p>":b,s=j.createRef(),[l,u]=X.useState(o(t,!r)),[c,f]=X.useState(0);async function d(b){const S=nR.getState().designState,O=t6(S.componentIndex,a,S,S.langInfo.mainLang);if(b.length===0)return O;{const E=[];for(var x=0;x<O.length;x++)O[x].value.toLowerCase().indexOf(b.toLowerCase())>=0&&E.push(O[x]);return E}}X.useEffect(()=>{const b=s.current.getEditor();b.setSelection(b.getLength(),0)},[s.current]);const p=X.useMemo(()=>({mention:{dataAttributes:["instruction","type"],isolateCharacter:!0,allowedChars:/[^\p{L}\p{N}]*$/,mentionDenotationChars:["@"],showDenotationChar:!1,onSelect:function(b,S){S({...b,value:"{{".concat(b.id,":").concat(b.type,"}}")})},source:async function(b,S){const O=await d(b);S(O)}},toolbar:{container:r?[["bold","italic","underline","strike","link"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],[{color:[]},{background:[]}],["clean"]]:[["bold","italic","underline","strike","link"],[{color:[]},{background:[]}],["clean"]],clipboard:{matchVisual:!1}}}),[]),v=["bold","italic","underline","strike","direction","list","bullet","indent","color","background","mention","link"];let h=null;const g=()=>{f(Date.now()),h&&clearTimeout(h)},y=()=>{h=setTimeout(()=>{e(l,i)},500)},m=b=>{g(),u(o(b,!r))},_=b=>{b.target.tagName==="A"&&b.target.className=="ql-preview"&&(b.preventDefault(),window.open(b.target.href,"_blank"))};return T.jsx("div",{onClick:_,className:"quill-wrapper",onFocus:g,onBlur:y,children:T.jsx(I4,{className:n?"rtl":"ltr",theme:"snow",bounds:".quill-wrapper",ref:s,modules:p,formats:v,value:l,onChange:m})})}const i6=j.memo(n6);function a6({placeholder:t,extended:e,contentKey:r,code:n}){const i=_t(),a=ye(m=>{var _;return(_=m.designState[n].content)==null?void 0:_[r]}),o=ye(m=>{var _;return((_=m.designState.globalSetup)==null?void 0:_.reorder_setup)==="collapse_none"}),s=ye(m=>m.designState.langInfo);ye(m=>{var _;return n[0]=="G"?((_=m.designState[n].groupType)==null?void 0:_.toLowerCase())||"group":m.designState[n].type});const l=s.lang,u=s.mainLang,c=s.onMainLang,f=(a==null?void 0:a[l])||"",d=c?t:Rb(a==null?void 0:a[u])?a==null?void 0:a[u]:t,[p,v]=X.useState(!1),h=X.useCallback((m,_)=>{v(!1),l==_&&m!=f&&i(Co({code:n,key:r,lang:l,value:m}))},[f]),g=m=>{m.preventDefault(),v(!0)},y=mo.includes(l);return T.jsx(ht,{className:xh.fullWidth,onClick:m=>{o&&g(m)},children:p?T.jsx(i6,{lang:l,isRtl:y,code:n,extended:e,onBlurListener:h,value:f}):Rb(f)?T.jsx("div",{className:"".concat(y?"rtl":"ltr"," ql-editor ").concat(xh.noPadding),dangerouslySetInnerHTML:{__html:f}}):T.jsx("div",{className:"".concat(y?"rtl":"ltr"," ql-editor ").concat(xh.placeholder),dangerouslySetInnerHTML:{__html:d}})})}const vd=j.memo(a6),o6="_actionControl_1xa5v_1",s6="_statusIcon_1xa5v_8",l6="_questionContainer_1xa5v_12",u6="_actionIcon_1xa5v_16",c6="_settingIcon_1xa5v_17",f6="_deleteIcon_1xa5v_25",As={actionControl:o6,statusIcon:s6,questionContainer:l6,actionIcon:u6,settingIcon:c6,deleteIcon:f6};var wm={},d6=Dr;Object.defineProperty(wm,"__esModule",{value:!0});var TC=wm.default=void 0,p6=d6(Mr()),h6=T;TC=wm.default=(0,p6.default)((0,h6.jsx)("path",{d:"m23 12-2.44-2.79.34-3.69-3.61-.82-1.89-3.2L12 2.96 8.6 1.5 6.71 4.69 3.1 5.5l.34 3.7L1 12l2.44 2.79-.34 3.7 3.61.82L8.6 22.5l3.4-1.47 3.4 1.46 1.89-3.19 3.61-.82-.34-3.69zm-12.91 4.72-3.8-3.81 1.48-1.48 2.32 2.33 5.85-5.87 1.48 1.48z"}),"Verified");var Em={},v6=Dr;Object.defineProperty(Em,"__esModule",{value:!0});var Cm=Em.default=void 0,g6=v6(Mr()),m6=T;Cm=Em.default=(0,g6.default)((0,m6.jsx)("path",{d:"M10.59 9.17 5.41 4 4 5.41l5.17 5.17zM14.5 4l2.04 2.04L4 18.59 5.41 20 17.96 7.46 20 9.5V4zm.33 9.41-1.41 1.41 3.13 3.13L14.5 20H20v-5.5l-2.04 2.04z"}),"Shuffle");var Tm={},y6=Dr;Object.defineProperty(Tm,"__esModule",{value:!0});var gd=Tm.default=void 0,b6=y6(Mr()),_6=T;gd=Tm.default=(0,b6.default)((0,_6.jsx)("path",{d:"M14 5h8v2h-8zm0 5.5h8v2h-8zm0 5.5h8v2h-8zM2 11.5C2 15.08 4.92 18 8.5 18H9v2l3-3-3-3v2h-.5C6.02 16 4 13.98 4 11.5S6.02 7 8.5 7H12V5H8.5C4.92 5 2 7.92 2 11.5"}),"LowPriority");var km={},S6=Dr;Object.defineProperty(km,"__esModule",{value:!0});var kC=km.default=void 0,O6=S6(Mr()),x6=T;kC=km.default=(0,O6.default)((0,x6.jsx)("path",{d:"M3 11c0 2.45 1.76 4.47 4.08 4.91l-1.49-1.49L7 13l4 4.01L7 21l-1.41-1.41 1.58-1.58v-.06C3.7 17.54 1 14.58 1 11c0-3.87 3.13-7 7-7h3v2H8c-2.76 0-5 2.24-5 5m19 0V4h-9v7zm-2-2h-5V6h5zm-7 4h9v7h-9z"}),"MoveDown");function w6({code:t,isGroup:e,parentCode:r,disableDelete:n,onDelete:i,onClone:a,t:o}){const s=_t(),l=ma(),u=ye(E=>{var A;return e?((A=E.designState[t].groupType)==null?void 0:A.toLowerCase())||"group":E.designState[t].type}),[c,f]=X.useState(!1),d=()=>f(!1),p=ye(E=>{var C,k;let A=(k=(C=E.designState[t])==null?void 0:C.instructionList)==null?void 0:k.find(w=>w.code=="conditional_relevance");return typeof A<"u"&&!A.errors}),v=ye(E=>{var A,C,k;return!e&&((k=(C=(A=E.designState[t])==null?void 0:A.instructionList)==null?void 0:C.filter(w=>w.code.startsWith("validation_")&&!w.errors))==null?void 0:k.length)>0}),h=()=>{s(Bn({code:t,rules:Fa(u)}))},g=()=>{s(Bn({code:t,rules:Fa(u),highlighted:"relevance",expanded:["relevance"]}))},y=()=>{s(Bn({code:t,rules:Fa(u),highlighted:"validation",expanded:["validation"]}))},m=()=>{s(Bn({code:t,rules:Fa(u),highlighted:"skip_logic",expanded:["skip_logic"]}))},_=()=>{s(e?Bn({...surveySetup,highlighted:"random"}):Bn({code:r,rules:Fa("group"),highlighted:"random",expanded:["random"]}))},b=l.textStyles.question.color,S=ye(E=>{var C,k,w;let A=(k=(C=E.designState[t])==null?void 0:C.instructionList)==null?void 0:k.filter(I=>I.code.startsWith("skip_to"));return((w=A==null?void 0:A.filter(I=>!I.errors))==null?void 0:w.length)>=1}),O=ye(E=>{var C;let A=(C=E.designState.componentIndex)==null?void 0:C.find(k=>k.code==t);return A&&A.minIndex!=A.maxIndex}),x=ye(E=>{var C,k;let A=(C=E.designState.componentIndex)==null?void 0:C.find(w=>w.code==t);return((k=A==null?void 0:A.prioritisedSiblings)==null?void 0:k.length)>0});return T.jsxs("div",{className:As.actionControl,onClick:E=>{E.target!==E.currentTarget&&(E.preventDefault(),E.stopPropagation())},children:[p&&T.jsx(ia,{title:"Has show/Hide Condition",children:T.jsx(bt,{className:As.statusIcon,onClick:()=>g(),children:T.jsx(VR,{style:{color:b}})})}),v&&T.jsx(ia,{title:"Has Validation",children:T.jsx(bt,{className:As.statusIcon,onClick:()=>y(),children:T.jsx(TC,{style:{color:b}})})}),O&&T.jsx(ia,{title:"Is part of a valid Random Group (within parent)",children:T.jsx(bt,{className:As.statusIcon,onClick:()=>_(),children:T.jsx(Cm,{style:{color:b}})})}),x&&T.jsx(ia,{title:"Is part of a valid Priority Group (within parent)",children:T.jsx(bt,{className:As.statusIcon,onClick:()=>_(),children:T.jsx(gd,{style:{color:b}})})}),S&&T.jsx(ia,{title:"Has active Skip Logic",children:T.jsx(bt,{className:As.statusIcon,onClick:()=>m(),children:T.jsx(kC,{style:{color:b}})})}),T.jsx(bt,{onClick:()=>h(),children:T.jsx(gh,{name:"settings",size:".75em",color:"".concat(b)})}),!e&&T.jsx(bt,{onClick:()=>a(),children:T.jsx(gh,{name:"duplicate",size:".75em",color:"".concat(b)})}),!n&&T.jsx(bt,{onClick:()=>f(!0),disabled:n,children:T.jsx(gh,{name:"delete",size:".75em",color:b})}),T.jsx(BR,{open:c,description:o("delete_question"),handleClose:d,handleDelete:i})]})}const IC=j.memo(w6),E6="_questionItem_wb37f_1",C6={questionItem:E6};function T6({code:t}){var i,a,o,s;const e=Vr(),r=ye(l=>l.designState[t]),n=ye(l=>l.designState.langInfo.lang);return T.jsx("div",{className:C6.questionItem,children:T.jsx(Xt,{disabled:!0,variant:"standard",required:!!((a=(i=r.validation)==null?void 0:i.validation_required)!=null&&a.isActive),label:r.showHint&&(((s=(o=r.content)==null?void 0:o.hint)==null?void 0:s[n])||""),value:"",InputProps:{sx:{fontFamily:e.textStyles.text.font,color:e.textStyles.text.color,fontSize:e.textStyles.text.size,"&.Mui-disabled":{color:e.textStyles.text.color,borderBottom:"1px solid"}}}})})}const k6=j.memo(T6),I6="_questionItem_1sx0f_1",A6={questionItem:I6};function j6({code:t}){var i,a,o,s;const e=Vr(),r=ye(l=>l.designState[t]),n=ye(l=>l.designState.langInfo.lang);return T.jsx("div",{className:A6.questionItem,children:T.jsx(Xt,{disabled:!0,variant:"standard",required:!!((a=(i=r.validation)==null?void 0:i.validation_required)!=null&&a.isActive),label:r.showHint&&(((s=(o=r.content)==null?void 0:o.hint)==null?void 0:s[n])||""),InputProps:{sx:{fontFamily:e.textStyles.text.font,color:e.textStyles.text.color,fontSize:e.textStyles.text.size}},value:""})})}const P6=j.memo(j6),L6="_questionItem_169qj_1",F6={questionItem:L6};function R6({code:t}){var i,a,o,s;const e=Vr(),r=ye(l=>l.designState[t]),n=ye(l=>l.designState.langInfo.lang);return T.jsx("div",{className:F6.questionItem,children:T.jsx(Xt,{disabled:!0,variant:"standard",required:!!((a=(i=r.validation)==null?void 0:i.validation_required)!=null&&a.isActive),label:r.showHint&&(((s=(o=r.content)==null?void 0:o.hint)==null?void 0:s[n])||""),value:"",InputProps:{sx:{fontFamily:e.textStyles.text.font,color:e.textStyles.text.color,fontSize:e.textStyles.text.size}}})})}const $6=j.memo(R6),N6="_questionItem_13fbu_1",D6="_paragraph_13fbu_15",M6="_wordCount_13fbu_19",Ph={questionItem:N6,paragraph:D6,wordCount:M6};function V6({code:t,t:e}){var i,a,o,s;const r=ye(l=>l.designState[t]),n=ye(l=>l.designState.langInfo.lang);return T.jsxs("div",{className:Ph.questionItem,children:[T.jsx(iR,{disabled:!0,className:Ph.paragraph,required:!!((a=(i=r.validation)==null?void 0:i.validation_required)!=null&&a.isActive),placeholder:r.showHint&&(((s=(o=r.content)==null?void 0:o.hint)==null?void 0:s[n])||""),minRows:r.minRows||2,value:""}),r.showWordCount?T.jsx("div",{className:Ph.wordCount,children:T.jsx("span",{children:e("word_count",{lng:n,count:0})})}):""]})}const B6=j.memo(V6),q6="_questionItem_1sx0f_1",H6={questionItem:q6};function z6({code:t}){var i,a;const e=Vr(),r=ye(o=>o.designState[t]),n=ye(o=>o.designState.langInfo.lang);return T.jsx("div",{className:H6.questionItem,children:T.jsx(Xt,{variant:"standard",required:!!((a=(i=r.validation)==null?void 0:i.validation_required)!=null&&a.isActive),label:r.showHint&&r.content.hint?r.content.hint[n]:"",InputProps:{sx:{fontFamily:e.textStyles.text.font,color:e.textStyles.text.color,fontSize:e.textStyles.text.size}},value:"",type:"file",disabled:!0})})}const U6=j.memo(z6),W6="_questionItem_1sx0f_1",G6={questionItem:W6};function Y6({code:t}){var i,a,o;const e=Vr(),r=ye(s=>s.designState[t]),n=ye(s=>s.designState.langInfo.lang);return T.jsx("div",{className:G6.questionItem,children:T.jsx(Xt,{disabled:!0,variant:"standard",required:!!((a=(i=r.validation)==null?void 0:i.validation_required)!=null&&a.isActive),label:r.showHint&&((o=r.content)!=null&&o.hint)?r.content.hint[n]:"",value:"",InputProps:{sx:{fontFamily:e.textStyles.text,color:e.textStyles.text.color,fontSize:e.textStyles.text.size}},placeholder:r.dateFormat})})}const d_=j.memo(Y6),K6="_questionItem_wb37f_1",J6={questionItem:K6};function Q6({code:t}){var i,a,o;const e=Vr(),r=ye(s=>s.designState[t]),n=ye(s=>s.designState.langInfo.lang);return T.jsx("div",{className:J6.questionItem,children:T.jsx(Xt,{disabled:!0,variant:"standard",required:!!((a=(i=r.validation)==null?void 0:i.validation_required)!=null&&a.isActive),label:r.showHint&&((o=r.content)!=null&&o.hint)?r.content.hint[n]:"",value:"",type:"time",InputProps:{sx:{fontFamily:e.textStyles.text.font,color:e.textStyles.text.color,fontSize:e.textStyles.text.size}}})})}const X6=j.memo(Q6);var Im={},Z6=Dr;Object.defineProperty(Im,"__esModule",{value:!0});var To=Im.default=void 0,e8=Z6(Mr()),t8=T;To=Im.default=(0,e8.default)((0,t8.jsx)("path",{d:"M11 18c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2m-2-8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m0-6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m6 4c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2"}),"DragIndicator");function r8(t){const e=Vr(),r=t.t,n=ye(l=>l.designState.langInfo),i=n.lang===n.mainLang,a=ye(l=>l.designState[t.code].children);ye(l=>{var u;return((u=l.designState.setup)==null?void 0:u.code)==t.code});const o=j.useMemo(()=>(a==null?void 0:a.filter(l=>l.type=="row"))||[],[a]),s=j.useMemo(()=>(a==null?void 0:a.filter(l=>l.type=="column"))||[],[a]);return T.jsxs(T.Fragment,{children:[t.onMainLang&&T.jsx("div",{className:Du.addColumn,children:T.jsx(Ht,{sx:{fontFamily:e.textStyles.text.font,fontSize:e.textStyles.text.size,color:e.textStyles.question.color},size:"small",onClick:l=>t.addNewAnswer(t.code,t.type,"column"),children:r("add_column")})}),T.jsx(gE,{children:T.jsxs(mE,{children:[T.jsx(bE,{children:T.jsxs(Xd,{children:[i&&T.jsx(hn,{sx:{padding:"0"}},"move"),T.jsx(hn,{},"content"),s.map((l,u)=>T.jsx(a8,{parentQualifiedCode:t.qualifiedCode,langInfo:n,t:t.t,item:l,index:u},l.qualifiedCode)),i&&T.jsx(hn,{sx:{padding:"0"}},"remove")]})}),T.jsx(yE,{children:o.map((l,u)=>T.jsx(i8,{parentQualifiedCode:t.qualifiedCode,langInfo:n,t:t.t,item:l,colCount:s.length,index:u},l.qualifiedCode))})]})}),t.onMainLang&&T.jsx("div",{className:Du.addRow,children:T.jsx(Ht,{sx:{fontFamily:e.textStyles.text.font,fontSize:e.textStyles.text.size,color:e.textStyles.question.color},size:"small",onClick:l=>t.addNewAnswer(t.code,t.type,"row"),children:r("add_row")})})]})}const n8=j.memo(r8);function i8({item:t,index:e,colCount:r,t:n,langInfo:i,parentQualifiedCode:a}){const o=_t(),s=Vr(),l=X.useRef(),u=i.lang===i.mainLang,c=ye(m=>{var _,b;return(b=(_=m.designState[t.qualifiedCode].content)==null?void 0:_.label)==null?void 0:b[i.lang]}),f=ye(m=>{var _,b;return(b=(_=m.designState[t.qualifiedCode].content)==null?void 0:_.label)==null?void 0:b[i.mainLang]}),d="col-".concat(a),[p,v,h]=za({type:d,item:{qualifiedCode:t.qualifiedCode,index:e},collect:m=>m.isDragging()},[e]),[{handlerId:g},y]=Ui({accept:d,collect(m){return{handlerId:m.getHandlerId()}},hover(m,_){var C;if(!l.current||!_.isOver({shallow:!0})||!m)return;const b=m.index,S=e;if(b===S)return;const O=(C=l.current)==null?void 0:C.getBoundingClientRect(),x=(O.bottom-O.top)/2,A=_.getClientOffset().y-O.top;b<S&&A<x||b>S&&A>x||(o(bi({type:"reorder_answers_by_type",id:m.qualifiedCode,fromIndex:m.index,toIndex:S})),m.index=S)}});return y(h(l)),T.jsxs(Xd,{style:{opacity:p?"0.2":"1"},ref:l,"data-handler-id":g,children:[u&&T.jsx(hn,{ref:v,sx:{padding:"0",color:s.textStyles.text.color},children:T.jsx(To,{})},"move"),T.jsx(hn,{sx:{fontFamily:s.textStyles.text.font,color:s.textStyles.text.color,fontSize:s.textStyles.text.size,padding:"4px"},children:T.jsx(Xt,{variant:"standard",value:c||"",onChange:m=>{o(Co({code:t.qualifiedCode,key:"label",lang:i.lang,value:m.target.value}))},placeholder:u?n("content_editor_placeholder_option"):f||n("content_editor_placeholder_option"),InputProps:{disableUnderline:!0,sx:{fontFamily:s.textStyles.text.font,color:s.textStyles.text.color,fontSize:s.textStyles.text.size}}})}),[...Array(r)].map((m,_)=>T.jsx(hn,{scope:"row",align:"center",sx:{padding:"4px"},children:T.jsx(HR,{sx:{"&.Mui-disabled":{color:s.textStyles.text.color}},disabled:!0})},_)),u&&T.jsx(hn,{onClick:m=>o(ss(t.qualifiedCode)),sx:{padding:"0",color:s.textStyles.text.color},children:T.jsx(di,{})},"remove")]},t.code)}function a8({item:t,index:e,t:r,langInfo:n,parentQualifiedCode:i}){const a=_t(),o=Vr(),s=X.useRef(),l=n.lang===n.mainLang,u=mo.includes(n.lang),c=!u,f=ye(_=>{var b,S;return(S=(b=_.designState[t.qualifiedCode].content)==null?void 0:b.label)==null?void 0:S[n.lang]}),d=ye(_=>{var b,S;return(S=(b=_.designState[t.qualifiedCode].content)==null?void 0:b.label)==null?void 0:S[n.mainLang]}),p="row-".concat(i),[v,h,g]=za({type:p,item:{qualifiedCode:t.qualifiedCode,index:e},collect:_=>_.isDragging()},[e]),[{handlerId:y},m]=Ui({accept:p,collect(_){return{handlerId:_.getHandlerId()}},hover(_,b){var k;if(!s.current||!b.isOver({shallow:!0})||!_)return;const S=_.index,O=e;if(S===O)return;const x=(k=s.current)==null?void 0:k.getBoundingClientRect(),E=(x.right-x.left)/2,C=b.getClientOffset().x-x.left;c&&S<O&&C<E||c&&S>O&&C>E||u&&S<O&&C>E||u&&S>O&&C<E||(a(bi({type:"reorder_answers_by_type",id:_.qualifiedCode,fromIndex:_.index,toIndex:O})),_.index=O)}});return m(g(s)),T.jsxs(hn,{ref:s,"data-handler-id":y,align:"center",sx:{opacity:v?"0.2":"1",fontFamily:o.textStyles.text.font,color:o.textStyles.text.color,fontSize:o.textStyles.text.size,padding:"4px"},children:[l&&T.jsxs("div",{style:{display:"inline-flex"},children:[T.jsx("div",{ref:h,sx:{padding:"0"},children:T.jsx(To,{})},"move"),T.jsx("div",{sx:{padding:"0"},onClick:_=>a(ss(t.qualifiedCode)),children:T.jsx(di,{})})]}),T.jsx(Xt,{variant:"standard",value:f||"",onChange:_=>{a(Co({code:t.qualifiedCode,key:"label",lang:n.lang,value:_.target.value}))},placeholder:l?r("content_editor_placeholder_option"):d||r("content_editor_placeholder_option"),inputProps:{style:{textAlign:"center"}},InputProps:{disableUnderline:!0,sx:{fontFamily:o.textStyles.text.font,color:o.textStyles.text.color,fontSize:o.textStyles.text.size}}})]},t.qualifiedCode)}var Am={},o8=Dr;Object.defineProperty(Am,"__esModule",{value:!0});var AC=Am.default=void 0,s8=o8(Mr()),l8=T;AC=Am.default=(0,s8.default)((0,l8.jsx)("path",{d:"M17 10.5V7c0-.55-.45-1-1-1H4c-.55 0-1 .45-1 1v10c0 .55.45 1 1 1h12c.55 0 1-.45 1-1v-3.5l4 4v-11z"}),"Videocam");const u8="_placeholder_4iqf5_1",c8="_buttonContainer_4iqf5_9",p_={placeholder:u8,buttonContainer:c8};function f8({code:t,t:e,onMainLang:r}){var u,c;const n=Ll("design"),i=_t(),[a,o]=X.useState(!1),s=ye(f=>f.designState[t]),l=f=>{f.preventDefault(),o(!0);let d=f.target.files[0];n.uploadResource(d).then(p=>{o(!1),i(Ra({code:t,key:"videoUrl",value:p.name}))}).catch(p=>{console.error(p)})};return T.jsxs(T.Fragment,{children:[!a&&((u=s.resources)==null?void 0:u.videoUrl)&&T.jsx("div",{style:{position:"relative",marginTop:"16px",paddingTop:s.audio_only?"10%":"56%"},children:T.jsx(zR,{url:yo(s.resources.videoUrl),loop:s.loop||!1,light:!0,controls:!0,config:{forceAudio:s.audio_only||!1},style:{backgroundColor:"black",position:"absolute",top:"0",left:"0"},volume:1,width:"100%",height:"100%"})}),a?T.jsxs("div",{className:p_.buttonContainer,children:[T.jsx(zg,{}),T.jsx("br",{}),T.jsx("span",{children:e("uploading_video")})]}):r?T.jsx("div",{className:p_.buttonContainer,children:T.jsxs(Ht,{component:"label",variant:"outlined",startIcon:T.jsx(AC,{}),children:[(c=s.resources)!=null&&c.videoUrl?e("replace_video"):e("upload_video"),T.jsx("input",{hidden:!0,id:t,accept:"video/*",type:"file",onChange:l})]})}):T.jsx(T.Fragment,{})]})}const d8="_signatureCanvas_1uxb1_1",p8={signatureCanvas:d8};function h8(){return T.jsx(ht,{className:p8.signatureCanvas,sx:{backgroundColor:"background.default"},children:T.jsx("img",{src:"/signature.png",style:{backgroundColor:"rgba(255,255,255,255)",width:"80%",maxWidth:"500px",height:"200px"}})})}const v8=j.memo(h8);var jm={},g8=Dr;Object.defineProperty(jm,"__esModule",{value:!0});var hp=jm.default=void 0,m8=g8(Mr()),y8=T;hp=jm.default=(0,m8.default)((0,y8.jsx)("path",{d:"M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2M8.5 13.5l2.5 3.01L14.5 12l4.5 6H5z"}),"Photo");const b8="_placeholder_xjf3c_1",_8="_buttonContainer_xjf3c_9",S8="_imageContainer_xjf3c_14",h_={placeholder:b8,buttonContainer:_8,imageContainer:S8};function O8({code:t,t:e,onMainLang:r}){var u,c;const n=Ll("design"),i=_t(),[a,o]=X.useState(!1),s=ye(f=>f.designState[t]),l=f=>{f.preventDefault(),o(!0);let d=f.target.files[0];n.uploadResource(d).then(p=>{o(!1),i(Ra({code:t,key:"imageUrl",value:p.name}))}).catch(p=>{console.error(p)})};return T.jsxs(T.Fragment,{children:[!a&&((u=s.resources)==null?void 0:u.imageUrl)&&T.jsx("img",{style:{width:"100%"},src:yo(s.resources.imageUrl)}),a?T.jsxs("div",{className:h_.buttonContainer,children:[T.jsx(zg,{}),T.jsx("br",{}),T.jsx("span",{children:e("uploading_image")})]}):r?T.jsx("div",{className:h_.buttonContainer,children:T.jsxs(Ht,{variant:"outlined",component:"label",children:[T.jsx(hp,{className:"mr-10"}),(c=s.resources)!=null&&c.imageUrl?e("replace_image"):e("upload_image"),T.jsx("input",{hidden:!0,accept:"image/*",type:"file",onChange:l})]})}):T.jsx(T.Fragment,{})]})}const x8=j.memo(O8),w8="_choicesContainer_k0bnu_1",E8="_choice_k0bnu_1",C8="_choiceLabels_k0bnu_19",Lh={choicesContainer:w8,choice:E8,choiceLabels:C8};function T8({code:t}){var i,a,o,s;Vr();let e=[0,1,2,3,4,5,6,7,8,9,10];const r=ye(l=>l.designState[t]),n=ye(l=>l.designState.langInfo.lang);return T.jsxs(T.Fragment,{children:[T.jsxs(ht,{className:Lh.choiceLabels,children:[T.jsx(ht,{children:(a=(i=r.content)==null?void 0:i.lower_bound_hint)==null?void 0:a[n]}),T.jsx(ht,{children:(s=(o=r.content)==null?void 0:o.higher_bound_hint)==null?void 0:s[n]})]}),T.jsx(ht,{className:Lh.choicesContainer,children:e.map(l=>T.jsx(ht,{className:Lh.choice,children:l},l))})]})}const k8=j.memo(T8),I8="_container_cyg3h_1",A8={container:I8};function j8({code:t}){var n,i;ma();const e=ye(a=>a.designState[t]),r=ye(a=>a.designState.langInfo.lang);return T.jsxs(ht,{className:A8.container,children:[T.jsx("img",{src:"/camera.png",style:{maxHeight:"200px"}}),T.jsx("br",{}),e.showHint&&T.jsx("span",{children:((i=(n=e.content)==null?void 0:n.hint)==null?void 0:i[r])||""})]})}const P8=j.memo(j8),L8="_container_cyg3h_1",F8={container:L8};function R8({code:t}){var n,i;ma();const e=ye(a=>a.designState[t]),r=ye(a=>a.designState.langInfo.lang);return T.jsxs(ht,{className:F8.container,children:[T.jsx("img",{src:"/video.png",style:{maxHeight:"200px"}}),T.jsx("br",{}),e.showHint&&T.jsx("span",{children:((i=(n=e.content)==null?void 0:n.hint)==null?void 0:i[r])||""})]})}const $8=j.memo(R8),N8="_container_cyg3h_1",D8={container:N8};function M8({code:t}){var n,i;ma();const e=ye(a=>a.designState[t]),r=ye(a=>a.designState.langInfo.lang);return T.jsxs(ht,{className:D8.container,children:[T.jsx("img",{src:"/barcode.png",style:{maxHeight:"200px"}}),T.jsx("br",{}),e.showHint&&T.jsx("span",{children:((i=(n=e.content)==null?void 0:n.hint)==null?void 0:i[r])||""})]})}const V8=j.memo(M8),B8="_answerAdd_5tmqk_1",q8="_questionItem_5tmqk_9",H8="_choicesContainer_5tmqk_15",yf={answerAdd:B8,questionItem:q8,choicesContainer:H8},z8="_answerItem_shykq_1",U8="_answerIcon_shykq_10",W8="_answerIconOther_shykq_18",G8="_answerNumberOrder_shykq_27",Y8="_answerControl_shykq_32",K8="_answerControlRtl_shykq_37",J8="_answerControlOther_shykq_42",Q8="_answerControlOtherRtl_shykq_47",X8="_answerOtherControl_shykq_52",Xa={answerItem:z8,answerIcon:U8,answerIconOther:W8,answerNumberOrder:G8,answerControl:Y8,answerControlRtl:K8,answerControlOther:J8,answerControlOtherRtl:Q8,answerOtherControl:X8};var Pm={},Z8=Dr;Object.defineProperty(Pm,"__esModule",{value:!0});var jC=Pm.default=void 0,eH=Z8(Mr()),tH=T;jC=Pm.default=(0,eH.default)((0,tH.jsx)("path",{d:"m22.7 19-9.1-9.1c.9-2.3.4-5-1.5-6.9-2-2-5-2.4-7.4-1.3L9 6 6 9 1.6 4.7C.4 7.1.9 10.1 2.9 12.1c1.9 1.9 4.6 2.4 6.9 1.5l9.1 9.1c.4.4 1 .4 1.4 0l2.3-2.3c.5-.4.5-1.1.1-1.4"}),"Build");function rH(t){const e=_t(),r=Vr(),n=X.useRef(null),i=ye(m=>m.designState.langInfo),a=ye(m=>m.designState[t.qualifiedCode]),o=i.lang===i.mainLang,s=i.lang,l=mo.includes(s),u=ye(m=>{var _;return a.type==="other"&&((_=m.designState.setup)==null?void 0:_.code)==t.qualifiedCode+"Atext"}),c=ye(m=>{var _,b;return(b=(_=m.designState[t.qualifiedCode].content)==null?void 0:_.label)==null?void 0:b[s]}),f=ye(m=>{var _,b;return(b=(_=m.designState[t.qualifiedCode].content)==null?void 0:_.label)==null?void 0:b[i.mainLang]}),d=m=>{const _={transition:"all 500ms"};return m&&(_.opacity=.5),_},[p,v,h]=za({type:t.droppableId,item:{index:t.index,draggableId:t.qualifiedCode,type:t.droppableId,code:t.code,itemType:t.type,droppableId:t.droppableId},collect:m=>m.isDragging()},[t]),[{handlerId:g},y]=Ui({accept:t.droppableId,collect(m){return{handlerId:m.getHandlerId()}},hover(m,_){var C;if(!n.current||!_.isOver({shallow:!0})||!m)return;const b=m.index,S=t.index;if(b===S)return;const O=(C=n.current)==null?void 0:C.getBoundingClientRect(),x=(O.bottom-O.top)/2,A=_.getClientOffset().y-O.top;b<S&&A<x||b>S&&A>x||(e(bi({type:"reorder_answers",id:m.draggableId,fromIndex:m.index,toIndex:t.index})),m.index=S)}});return y(h(n)),Jd(r.palette.background.paper),T.jsx("div",{ref:n,style:d(p),"data-handler-id":g,children:T.jsxs(ht,{sx:{backgroundColor:u?"beige":"inherit"},className:Xa.answerItem,children:[o&&T.jsx("div",{ref:v,className:Xa.answerIcon,children:T.jsx(To,{ref:v,sx:{fontSize:18}})}),t.label?T.jsx("b",{children:t.label}):"",T.jsx(Xt,{variant:"standard",className:a.type==="other"&&l?Xa.answerControlOtherRtl:a.type==="other"?Xa.answerControlOther:l?Xa.answerControlRtl:Xa.answerControl,value:c||"",onChange:m=>e(Co({code:t.qualifiedCode,key:"label",lang:s,value:m.target.value})),placeholder:o?t.t("content_editor_placeholder_option"):f||t.t("content_editor_placeholder_option"),InputProps:{sx:{fontFamily:r.textStyles.text.font,color:r.textStyles.text.color,fontSize:r.textStyles.text.size}}}),a.type==="other"&&T.jsx(jC,{sx:{fontSize:18},className:Xa.answerIconOther,onClick:()=>{e(Bn({code:t.qualifiedCode+"Atext",rules:Fa("other_text")}))}},"setup"),o&&T.jsx(di,{sx:{fontSize:18},className:Xa.answerIcon,onClick:m=>e(ss(t.qualifiedCode))},"close")]})})}function nH(t){const e=Vr(),r=t.t,n=ye(o=>o.designState[t.code].children),i=ye(o=>o.designState[t.code].type),a=(i=="mcq"||i=="scq")&&(!n||!n.some(o=>o.code==="Aother"));return T.jsxs("div",{className:yf.questionItem,children:[T.jsx("div",{className:yf.choicesContainer,children:n&&n.length>0&&n.map((o,s)=>T.jsx(rH,{code:o.code,t:t.t,label:o.code,qualifiedCode:o.qualifiedCode,index:s,type:t.type,droppableId:"option-".concat(t.code)},o.code))}),t.onMainLang&&T.jsxs("div",{className:yf.answerAdd,children:[T.jsx(Ht,{size:"small",style:{fontFamily:e.textStyles.text.font,fontSize:e.textStyles.text.size,color:e.textStyles.question.color},onClick:()=>t.addNewAnswer(t.code,i),children:r("add_option")}),a&&T.jsxs(T.Fragment,{children:[T.jsx("span",{style:{color:e.textStyles.question.color},children:r("or")}),T.jsx(Ht,{style:{fontFamily:e.textStyles.text.font,fontSize:e.textStyles.text.size,color:e.textStyles.question.color},size:"small",className:yf.answerIcon,onClick:()=>t.addNewAnswer(t.code,i,"other"),children:r("add_other")})]})]})]})}const Fh=j.memo(nH),iH="_addAnswerIcon_4rcog_1",aH="_questionItem_4rcog_5",oH="_addAnswerButton_4rcog_10",sH={addAnswerIcon:iH,questionItem:aH,addAnswerButton:oH},lH="_imageIconButton_z1as0_1",uH="_imageContainer_z1as0_8",cH="_addAnswerIcon_z1as0_16",fH="_loadingContainer_z1as0_20",dH="_addAnswerButton_z1as0_26",pH="_buttonContainers_z1as0_34",Za={imageIconButton:lH,imageContainer:uH,addAnswerIcon:cH,loadingContainer:fH,addAnswerButton:dH,buttonContainers:pH};var Lm={},hH=Dr;Object.defineProperty(Lm,"__esModule",{value:!0});var Fm=Lm.default=void 0,vH=hH(Mr()),gH=T;Fm=Lm.default=(0,vH.default)((0,gH.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM8 9h8v10H8zm7.5-5-1-1h-5l-1 1H5v2h14V4z"}),"DeleteOutline");var Rm={},mH=Dr;Object.defineProperty(Rm,"__esModule",{value:!0});var Ho=Rm.default=void 0,yH=mH(Mr()),bH=T;Ho=Rm.default=(0,yH.default)((0,bH.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"Add");function _H({parentCode:t,index:e,qualifiedCode:r,type:n,columnNumber:i,imageAspectRatio:a,hideText:o,t:s,addAnswer:l}){var M;const u=Ll("design"),c=_t(),f=Vr(),d=X.useRef(),[p,v]=X.useState(!1),h=ye(R=>R.designState.langInfo),g=ye(R=>n=="add"?void 0:R.designState[r]),y=h.lang===h.mainLang,m=h.lang,_=mo.includes(m),b=ye(R=>{var F,N;return n=="add"||(N=(F=R.designState[r].content)==null?void 0:F.label)==null?void 0:N[m]}),S=ye(R=>{var F,N;return n=="add"||(N=(F=R.designState[r].content)==null?void 0:F.label)==null?void 0:N[h.mainLang]}),O=()=>{window.confirm("Are you sure?")&&c(ss(r))},x=(M=g==null?void 0:g.resources)!=null&&M.image?"url('".concat(yo(g.resources.image),"')"):"0";function E(R){R.preventDefault();let F=R.target.files[0];v(!0),u.uploadResource(F).then(N=>{v(!1),c(Ra({code:r,key:"image",value:N.name}))}).catch(N=>{v(!1),console.error(N)})}const A=t+"image-drag",C=R=>Math.round(R/i),w=(R=>R%i)(e),I=C(e),[L,P,V]=za({type:A,item:{index:e,colIndex:w,rowIndex:I,draggableId:r,parentCode:t,type:A,itemType:A},collect:R=>R.isDragging()},[e]),[{handlerId:$},U]=Ui({accept:A,collect(R){return{handlerId:R.getHandlerId()}},hover(R,F){var ue;if(!d.current||!F.isOver({shallow:!0})||!R)return;const N=R.index,B=e,q=R.rowIndex,W=I,D=R.colIndex,G=w;if(N===B)return;const H=(ue=d.current)==null?void 0:ue.getBoundingClientRect(),Y=(H.bottom-H.top)/2,K=(H.right-H.left)/2,ie=F.getClientOffset(),te=ie.y-H.top,se=ie.x-H.left;q<W&&te<Y&&D<G&&se<K||q>W&&te>Y&&D>G&&se>K||(c(bi({type:"reorder_answers",id:R.draggableId,fromIndex:N,toIndex:B})),R.index=B,R.rowIndex=W,R.colIndex=G)}});return U(V(d)),n=="add"?T.jsx(oo,{height:"100%",item:!0,xs:12/i,children:T.jsx(ht,{className:Za.addAnswerButton,style:{minHeight:"100px",height:"100%",width:"100%",backgroundColor:f.palette.background.default,borderRadius:"4px"},children:T.jsx(bt,{sx:{color:f.textStyles.text.color},className:Za.addAnswerIcon,onClick:()=>{l()},children:T.jsx(Ho,{})})})},"add"):T.jsx(T.Fragment,{children:T.jsxs(oo,{style:{opacity:L?"0.2":"1"},item:!0,xs:12/i,children:[T.jsxs("div",{className:Za.imageContainer,style:{paddingTop:100/a+"%",backgroundColor:f.palette.background.default,backgroundImage:x},ref:d,"data-handler-id":$,children:[y&&T.jsxs("div",{className:Za.buttonContainers,children:[T.jsx(bt,{sx:{color:f.textStyles.text.color},className:Za.imageIconButton,onClick:()=>{O()},children:T.jsx(Fm,{})}),T.jsxs(bt,{sx:{color:f.textStyles.text.color},component:"label",className:Za.imageIconButton,children:[T.jsx("input",{hidden:!0,id:r,accept:"image/*",multiple:!0,type:"file",onChange:E}),T.jsx(hp,{})]}),T.jsx(bt,{sx:{color:f.textStyles.text.color},ref:P,className:Za.imageIconButton,children:T.jsx(To,{})})]}),p&&T.jsx("div",{className:Za.loadingContainer,children:T.jsx(zg,{})})]}),!o&&T.jsx(Xt,{dir:_?"rtl":"ltr",variant:"standard",value:b||"",onChange:R=>c(Co({code:r,key:"label",lang:m,value:R.target.value})),placeholder:y?s("content_editor_placeholder_option"):S||s("content_editor_placeholder_option"),inputProps:{style:{textAlign:"center"}},InputProps:{sx:{fontFamily:f.textStyles.text.font,color:f.textStyles.text.color,fontSize:f.textStyles.text.size}}})]},r)})}const SH="_imageIconButton_lgrld_1",OH="_imageContainer_lgrld_8",xH="_addAnswerIcon_lgrld_12",wH="_loadingContainer_lgrld_16",EH="_addAnswerButton_lgrld_23",CH="_svgContainer_lgrld_31",TH="_buttonContainers_lgrld_36",js={imageIconButton:SH,imageContainer:OH,addAnswerIcon:xH,loadingContainer:wH,addAnswerButton:EH,svgContainer:CH,buttonContainers:TH};class kH{search(e,r){return new Promise((n,i)=>{ad.get("https://api.iconify.design/search?query=".concat(e,"&prefixes=mdi,fluent,ri&limit=100"),{cancelToken:r.token}).then(a=>{n(a.data.icons)}).catch(a=>{ad.isCancel(a)?console.debug("Request canceled:",a.message):i(a)})})}}const IH=new kH,AH="_resultImage_2y7qe_1",jH={resultImage:AH};function PC({currentIcon:t,onIconSelected:e}){const{t:r}=as("design"),[n,i]=X.useState(""),[a,o]=X.useState(null),[s,l]=X.useState([]);X.useEffect(()=>{if(a&&a.cancel("Operation canceled by the user."),n){const c=ad.CancelToken.source();o(c),IH.search(n,c).then(f=>{l(f)}).catch(f=>{console.error(f)})}else l([])},[n]);const u=c=>{i(c.target.value)};return T.jsxs(Kg,{fullScreen:!0,sx:{margin:"200px"},open:!0,onClose:()=>e(!1),"aria-labelledby":"alert-dialog-title-logic-builder","aria-describedby":"alert-dialog-description",children:[T.jsx(Gg,{id:"alert-dialog-title-logic-builder",children:r("select Icon")}),T.jsx($u,{children:T.jsxs("div",{children:[T.jsx("input",{type:"text",placeholder:"Search for icons",value:n,onChange:u}),T.jsx("div",{className:"search-results",children:s.map((c,f)=>{const d=c.split(":");return T.jsx(PH,{onClick:e,source:"https://api.iconify.design/".concat(d[0],"/").concat(d[1],".svg")},f)})})]})}),T.jsx(Yg,{children:T.jsx(Ht,{onClick:()=>{},autoFocus:!0,children:"Select"})})]})}function PH({source:t,onClick:e}){const[r,n]=X.useState("");return X.useEffect(()=>{ad.get(t).then(i=>{LH(i.data)&&n(i.data)})},[t]),T.jsx("div",{onClick:()=>{e(r)},className:jH.resultImage,dangerouslySetInnerHTML:{__html:r}})}function LH(t){return typeof t!="string"?!1:/^<svg[\s\S]*<\/svg>$/.test(t)}function FH({parentCode:t,index:e,qualifiedCode:r,type:n,columnNumber:i,imageHeight:a,hideText:o,t:s,addAnswer:l}){var M,R,F,N,B;const u=Ll("design"),c=_t(),f=X.useRef(null),d=Vr(),[p,v]=X.useState(!1),h=ye(q=>q.designState.langInfo),g=ye(q=>n=="add"?void 0:q.designState[r]),y=h.lang===h.mainLang,m=h.lang,_=(M=g==null?void 0:g.resources)==null?void 0:M.icon,b=n=="add"||(F=(R=g.content)==null?void 0:R.label)==null?void 0:F[m];n=="add"||g.icon;const S=mo.includes(m),O=n=="add"||(B=(N=g.content)==null?void 0:N.label)==null?void 0:B[h.mainLang],x=()=>{window.confirm("Are you sure?")&&c(ss(r))},E=t+"icon-drag",A=q=>Math.round(q/i),C=q=>q%i,k=q=>{const W=new Blob([q],{type:"image/svg+xml"}),D=new File([W],"file.svg",{type:"image/svg+xml"});u.uploadResource(D).then(G=>{c(Ra({code:r,key:"icon",value:G.name}))}).catch(G=>{console.error(G.message)})},w=C(e),I=A(e),[L,P,V]=za({type:E,item:{index:e,colIndex:w,rowIndex:I,draggableId:r,parentCode:t,type:E,itemType:E},collect:q=>q.isDragging()},[e]),[{handlerId:$},U]=Ui({accept:E,collect(q){return{handlerId:q.getHandlerId()}},hover(q,W){var J;if(!f.current||!W.isOver({shallow:!0})||!q)return;const D=q.index,G=e,H=q.rowIndex,Y=I,K=q.colIndex,ie=w;if(D===G)return;const te=(J=f.current)==null?void 0:J.getBoundingClientRect(),se=(te.bottom-te.top)/2,ue=(te.right-te.left)/2,fe=W.getClientOffset(),de=fe.y-te.top,Se=fe.x-te.left;H<Y&&de<se&&K<ie&&Se<ue||H>Y&&de>se&&K>ie&&Se>ue||(c(bi({type:"reorder_answers",id:q.draggableId,fromIndex:D,toIndex:G})),q.index=G,q.rowIndex=Y,q.colIndex=ie)}});return U(V(f)),n=="add"?T.jsx(oo,{item:!0,xs:12/i,height:"100%",children:T.jsx(ht,{className:js.addAnswerButton,style:{minHeight:"100px",borderRadius:"4px",backgroundColor:d.palette.background.default,height:"100%",width:"100%"},children:T.jsx(bt,{sx:{color:d.textStyles.text.color},className:js.addAnswerIcon,onClick:()=>{l()},children:T.jsx(Ho,{})})})},"add"):T.jsxs(T.Fragment,{children:[T.jsx(oo,{style:{opacity:L?"0.2":"1"},item:!0,xs:12/i,children:T.jsxs("div",{ref:f,"data-handler-id":$,children:[y&&T.jsxs("div",{className:js.buttonContainers,children:[T.jsx(bt,{sx:{color:d.textStyles.text.color},className:js.imageIconButton,onClick:()=>{x()},children:T.jsx(Fm,{})}),T.jsx(bt,{sx:{color:d.textStyles.text.color},component:"label",className:js.imageIconButton,onClick:()=>v(!0),children:T.jsx(hp,{})}),T.jsx(bt,{sx:{color:d.textStyles.text.color},ref:P,className:js.imageIconButton,children:T.jsx(To,{})})]}),T.jsx("div",{style:{width:"100%",display:"flex",justifyContent:"center"},children:T.jsx(Jg,{imageHeightPx:a,svgUrl:_?yo(_):void 0})}),!o&&T.jsx(Xt,{dir:S?"rtl":"ltr",variant:"standard",value:b||"",onChange:q=>c(Co({code:r,key:"label",lang:m,value:q.target.value})),placeholder:y?s("content_editor_placeholder_option"):O||s("content_editor_placeholder_option"),inputProps:{style:{textAlign:"center"}},InputProps:{sx:{fontFamily:d.textStyles.text.font,color:d.textStyles.text.color,fontSize:d.textStyles.text.size}}})]})},r),p&&T.jsx(PC,{currentIcon:"",onIconSelected:q=>{k(q),v(!1)}})]})}function RH(t){const e=ye(f=>f.designState[t.code]),r=e.children||[],n=ye(f=>f.designState[t.code].imageAspectRatio||1),i=e.type,a=t.onMainLang?[...r,{type:"add",code:"add"}]:r,o=e.columns||2,s=e.hideText||!1,l=e.spacing||8,u=e.iconSize?+e.iconSize:64,c="calc(".concat(100/o,"% - ").concat(l,"px)");return T.jsx("div",{className:sH.questionItem,children:u&&T.jsx(ht,{id:"items-"+t.code,sx:{display:"flex",flexWrap:"wrap",gap:"".concat(l,"px")},children:a.map((f,d)=>t.icon?T.jsx(ht,{sx:{flex:"0 1 ".concat(c),maxWidth:c},children:T.jsx(FH,{parentCode:t.code,index:d,columnNumber:o,hideText:s,imageHeight:u,t:t.t,addAnswer:()=>t.addNewAnswer(t.code,i),type:f.type,qualifiedCode:f.qualifiedCode},f.code)},f.code):T.jsx(ht,{sx:{flex:"0 1 ".concat(c),maxWidth:c},children:T.jsx(_H,{parentCode:t.code,index:d,imageAspectRatio:n,columnNumber:o,hideText:s,imageHeight:u,t:t.t,addAnswer:()=>t.addNewAnswer(t.code,i),type:f.type,qualifiedCode:f.qualifiedCode},f.code)},f.code))})})}const v_=j.memo(RH);var $m={},$H=Dr;Object.defineProperty($m,"__esModule",{value:!0});var LC=$m.default=void 0,NH=$H(Mr()),DH=T;LC=$m.default=(0,NH.default)((0,DH.jsx)("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m-2 10h-4v4h-2v-4H7v-2h4V7h2v4h4z"}),"AddBox");function MH(t){const e=Vr(),r=t.t,n=ye(u=>u.designState.langInfo),i=n.lang===n.mainLang,a=ye(u=>u.designState[t.code].children),o=(a==null?void 0:a.filter(u=>u.type=="row"))||[],s=(a==null?void 0:a.filter(u=>u.type=="column"))||[],l=ye(u=>s.map(c=>{var f;return(f=u.designState[c.qualifiedCode].resources)==null?void 0:f.icon}));return T.jsxs(T.Fragment,{children:[t.onMainLang&&T.jsx("div",{className:Du.addColumn,children:T.jsx(Ht,{sx:{fontFamily:e.textStyles.text.font,fontSize:e.textStyles.text.size,color:e.textStyles.question.color},size:"small",onClick:u=>t.addNewAnswer(t.code,t.type,"column"),children:r("add_column")})}),T.jsx(gE,{children:T.jsxs(mE,{children:[T.jsx(bE,{children:T.jsxs(Xd,{children:[i&&T.jsx(hn,{sx:{padding:"0"}},"move"),T.jsx(hn,{},"content"),s.map((u,c)=>T.jsx(qH,{parentQualifiedCode:t.qualifiedCode,langInfo:n,t:t.t,item:u,icons:l,styles:Du,index:c},u.qualifiedCode)),i&&T.jsx(hn,{sx:{padding:"0"}},"remove")]})}),T.jsx(yE,{children:o.map((u,c)=>T.jsx(BH,{parentQualifiedCode:t.qualifiedCode,langInfo:n,t:t.t,item:u,columns:s,icons:l,index:c},u.qualifiedCode))})]})}),t.onMainLang&&T.jsx("div",{className:Du.addRow,children:T.jsx(Ht,{sx:{fontFamily:e.textStyles.text.font,fontSize:e.textStyles.text.size,color:e.textStyles.question.color},size:"small",onClick:u=>t.addNewAnswer(t.code,t.type,"row"),children:r("add_row")})})]})}const VH=j.memo(MH);function BH({item:t,index:e,columns:r,icons:n,t:i,langInfo:a,parentQualifiedCode:o}){const s=_t(),l=Vr(),u=X.useRef(),c=a.lang===a.mainLang,f=ye(_=>{var b,S;return(S=(b=_.designState[t.qualifiedCode].content)==null?void 0:b.label)==null?void 0:S[a.lang]}),d=ye(_=>{var b,S;return(S=(b=_.designState[t.qualifiedCode].content)==null?void 0:b.label)==null?void 0:S[a.mainLang]}),p="col-".concat(o),[v,h,g]=za({type:p,item:{qualifiedCode:t.qualifiedCode,index:e},collect:_=>_.isDragging()},[e]),[{handlerId:y},m]=Ui({accept:p,collect(_){return{handlerId:_.getHandlerId()}},hover(_,b){var k;if(!u.current||!b.isOver({shallow:!0})||!_)return;const S=_.index,O=e;if(S===O)return;const x=(k=u.current)==null?void 0:k.getBoundingClientRect(),E=(x.bottom-x.top)/2,C=b.getClientOffset().y-x.top;S<O&&C<E||S>O&&C>E||(s(bi({type:"reorder_answers_by_type",id:_.qualifiedCode,fromIndex:_.index,toIndex:O})),_.index=O)}});return m(g(u)),T.jsxs(Xd,{style:{opacity:v?"0.2":"1"},ref:u,"data-handler-id":y,children:[c&&T.jsx(hn,{ref:h,sx:{padding:"0",color:l.textStyles.text.color},children:T.jsx(To,{})},"move"),T.jsx(hn,{sx:{fontFamily:l.textStyles.text.font,color:l.textStyles.text.color,fontSize:l.textStyles.text.size,padding:"4px"},children:T.jsx(Xt,{variant:"standard",value:f||"",onChange:_=>{s(Co({code:t.qualifiedCode,key:"label",lang:a.lang,value:_.target.value}))},placeholder:c?i("content_editor_placeholder_option"):d||i("content_editor_placeholder_option"),InputProps:{disableUnderline:!0,sx:{fontFamily:l.textStyles.text.font,color:l.textStyles.text.color,fontSize:l.textStyles.text.size}}})}),r.map((_,b)=>T.jsx(hn,{scope:"row",align:"center",sx:{padding:"4px"},children:n[b]&&T.jsx(Jg,{opacity:.2,iconColor:l.textStyles.text.color,onIconClick:()=>{},imageHeightPx:64,svgUrl:n[b]?yo(n[b]):void 0})},b)),c&&T.jsx(hn,{onClick:_=>s(ss(t.qualifiedCode)),sx:{padding:"0",color:l.textStyles.text.color},children:T.jsx(di,{})},"remove")]},t.code)}function qH({item:t,index:e,icons:r,t:n,langInfo:i,parentQualifiedCode:a,styles:o}){const s=Ll("design"),l=r[e],[u,c]=X.useState(!1),f=_t(),d=Vr(),p=X.useRef(),v=i.lang===i.mainLang,h=mo.includes(i.lang),g=!h,y="row-".concat(a),[m,_,b]=za({type:y,item:{qualifiedCode:t.qualifiedCode,index:e},collect:E=>E.isDragging()},[e]),[{handlerId:S},O]=Ui({accept:y,collect(E){return{handlerId:E.getHandlerId()}},hover(E,A){var V;if(!p.current||!A.isOver({shallow:!0})||!E)return;const C=E.index,k=e;if(C===k)return;const w=(V=p.current)==null?void 0:V.getBoundingClientRect(),I=(w.right-w.left)/2,P=A.getClientOffset().x-w.left;g&&C<k&&P<I||g&&C>k&&P>I||h&&C<k&&P>I||h&&C>k&&P<I||(f(bi({type:"reorder_answers_by_type",id:E.qualifiedCode,fromIndex:E.index,toIndex:k})),E.index=k)}}),x=E=>{const A=new Blob([E],{type:"image/svg+xml"}),C=new File([A],"file.svg",{type:"image/svg+xml"});s.uploadResource(C).then(k=>{f(Ra({code:t.qualifiedCode,key:"icon",value:k.name}))}).catch(k=>{console.error(k.message)})};return O(b(p)),T.jsxs(T.Fragment,{children:[T.jsxs(hn,{ref:p,"data-handler-id":S,align:"center",sx:{opacity:m?"0.2":"1",fontFamily:d.textStyles.text.font,color:d.textStyles.text.color,fontSize:d.textStyles.text.size,padding:"4px"},children:[v&&T.jsxs("div",{style:{display:"inline-flex"},children:[T.jsx("div",{ref:_,sx:{padding:"0"},children:T.jsx(To,{})},"move"),T.jsx("div",{sx:{padding:"0",color:d.textStyles.text.color},onClick:E=>f(ss(t.qualifiedCode)),children:T.jsx(di,{})})]}),l?T.jsx(Jg,{onIconClick:()=>c(!0),imageHeightPx:64,svgUrl:l?yo(l):void 0}):T.jsxs(T.Fragment,{children:[T.jsx("br",{}),T.jsxs("div",{onClick:()=>c(!0),children:[T.jsx(LC,{sx:{width:"64px",height:"64px"}}),T.jsx("br",{}),T.jsx("span",{children:"Click to add icon"})]})]})]},t.qualifiedCode),u&&T.jsx(PC,{currentIcon:"",onIconSelected:E=>{x(E),c(!1)}})]})}function HH({code:t,type:e,t:r,onMainLang:n,addAnswer:i}){switch(e){case"video_display":return T.jsx(f8,{code:t,t:r,onMainLang:n},t);case"image_display":return T.jsx(x8,{code:t,t:r,onMainLang:n},t);case"signature":return T.jsx(v8,{});case"photo_capture":return T.jsx(P8,{code:t});case"video_capture":return T.jsx($8,{code:t});case"date_time":return T.jsx(d_,{code:t},t);case"date":return T.jsx(d_,{code:t},t);case"time":return T.jsx(X6,{code:t},t);case"scq":return T.jsx(Fh,{t:r,onMainLang:n,addNewAnswer:i,code:t,type:"radio"},t);case"image_mcq":case"image_scq":case"image_ranking":return T.jsx(v_,{t:r,onMainLang:n,addNewAnswer:i,code:t},t);case"icon_scq":case"icon_mcq":return T.jsx(v_,{icon:!0,t:r,onMainLang:n,addNewAnswer:i,code:t},t);case"scq_icon_array":return T.jsx(VH,{onMainLang:n,type:e,addNewAnswer:i,code:t,t:r},t);case"scq_array":return T.jsx(n8,{onMainLang:n,type:e,addNewAnswer:i,code:t,t:r},t);case"file_upload":return T.jsx(U6,{code:t},t);case"mcq":return T.jsx(Fh,{addNewAnswer:i,code:t,onMainLang:n,t:r,type:"checkbox"},t);case"ranking":return T.jsx(Fh,{onMainLang:n,addNewAnswer:i,code:t,t:r,type:"ranking"},t);case"nps":return T.jsx(k8,{code:t},t);case"number":return T.jsx($6,{code:t},t);case"text":return T.jsx(k6,{code:t},t);case"paragraph":return T.jsx(B6,{t:r,code:t},t);case"barcode":return T.jsx(V8,{t:r,code:t},t);case"email":return T.jsx(P6,{code:t},t);default:return""}}const zH=j.memo(HH);function UH({code:t,type:e,isLast:r,parentCode:n,index:i,t:a,onMainLang:o,parentIndex:s}){console.debug(t+": "+i);const[l,u]=X.useState(!1),c=X.useRef(),f=_t(),d=Vr(),p=ye(w=>{var I;return((I=w.designState.setup)==null?void 0:I.code)==t}),v=ye(w=>w.designState[t]),h=v.children,g=ye(w=>{var I;return((I=w.designState.globalSetup)==null?void 0:I.reorder_setup)==="collapse_questions"}),y=ye(w=>!Ug(w.designState.setup)),m=X.useCallback(()=>f(aR(t)),[]),_=X.useCallback(()=>f(oR(t)),[]),[b,S,O]=za({type:"questions",item:{index:i,draggableId:t,droppableId:n,parentIndex:s,isLast:r,type:"questions",itemType:e},collect:w=>{var I;return((I=w.getItem())==null?void 0:I.draggableId)===t}}),[x,E]=Ui({accept:"questions",hover(w,I){var U;if(!c.current||!I.isOver({shallow:!0})||!w||!w.droppableId.startsWith("G"))return;const L=w.index,P=i;if(L===P||(w==null?void 0:w.droppableId)!==n)return;const V=(U=c.current)==null?void 0:U.getBoundingClientRect(),$=I.getClientOffset();L<P&&$.y<V.top+20||L>P&&$.y>V.bottom-20||(f(bi({type:"reorder_questions",source:w.droppableId,destination:n,id:w.draggableId,fromIndex:L,toIndex:P+1})),w.index=P,w.isLast=r)}});E(O(c));const A=j.useCallback((w,I,L)=>{const P=h||[];let V=1,$="",U="",M="";const R={code:"value",isActive:!1,returnType:{name:I=="ranking"||I=="nps"||I=="image_ranking"?"Int":I=="scq_array"||I=="scq_icon_array"?"String":"Boolean"},text:""};switch(L){case"column":V=mh(P.filter(N=>N.type==="column")),M="Col"+V,$="Ac"+V,U=w+$,f(gu({label:M,answer:{code:$,qualifiedCode:U,type:L}}));break;case"row":V=mh(P.filter(N=>N.type==="row")),$="A"+V,M="Row"+V,U=w+$,f(gu({label:M,instructionList:[R],answer:{code:$,qualifiedCode:U,type:L}}));break;case"other":$="Aother",M="Other",U=w+$;const F=[{code:"value",isActive:!1,returnType:{name:"String"},text:""},{code:"conditional_relevance",isActive:!0,returnType:{name:"Boolean"},text:I==="scq"?"".concat(w,".value === 'Aother'"):"".concat(w,"Aother.value === true")}];f(gu({label:M,answer:{code:$,qualifiedCode:U,type:L},instructionList:I=="mcq"?[R]:[]})),f(gu({instructionList:F,answer:{code:"Atext",qualifiedCode:U+"Atext",type:"other_text"}}));break;default:V=mh(P),$="A"+V,M="Option"+V,U=w+$,f(gu({label:M,answer:{code:$,qualifiedCode:U},instructionList:I=="mcq"||I=="image_mcq"||I=="icon_mcq"||I=="ranking"||I=="image_ranking"?[R]:[]}));break}},[h]),C=Jd(d.palette.background.paper),k=d.textStyles.question.color;return T.jsxs("div",{ref:c,onMouseEnter:()=>{u(!0)},onMouseLeave:()=>{u(!1)},style:p?{border:"0.5px solid ".concat(k),paddingTop:"2rem",paddingBottom:"2rem",backgroundColor:C,color:k}:{opacity:b?"0.2":"1",border:b?"dotted 1px "+C:"0"},className:"question ".concat(Qa.groupQuestion),"data-code":t,children:[T.jsxs(ht,{className:Qa.contentContainer,children:[g&&o&&T.jsx("div",{className:Qa.moveBox,ref:S,children:T.jsx(rm,{style:{color:k}})}),y&&(p||l)&&o&&T.jsx("div",{className:Qa.actionToolbarVisible,children:T.jsx(IC,{t:a,isGroup:!1,isInSetup:p,code:t,parentCode:n,onClone:_,onDelete:m,disableDelete:!1})})]}),T.jsxs(ht,{className:Qa.titleContainer,children:[T.jsx(ht,{className:Qa.iconBox,children:sR("".concat(e),void 0,k)}),T.jsx("div",{className:Qa.titleQuestion,style:{fontFamily:d.textStyles.question.font,color:d.textStyles.question.color,fontSize:d.textStyles.question.size},children:T.jsx(vd,{code:t,extended:!1,placeholder:a("content_editor_placeholder_title"),contentKey:"label"})})]}),v.showDescription&&T.jsx(ht,{className:Qa.textDescriptionContent,children:T.jsx(vd,{code:t,extended:!0,placeholder:a("content_editor_placeholder_description"),contentKey:"description"})}),T.jsx(GR,{in:g!==!0,timeout:"auto",unmountOnExit:!0,children:T.jsx(zH,{code:t,type:e,t:a,addAnswer:A,onMainLang:o,addNewAnswer:A})}),T.jsx(em,{code:t})]})}const WH=j.memo(UH),GH="_textHeader_15cd2_1",YH="_textDescription_15cd2_5",KH="_groupCard_15cd2_11",JH="_type_15cd2_18",QH="_groupType_15cd2_25",XH="_questionsOuterContainer_15cd2_33",ZH="_questionsInnerContainer_15cd2_37",ez="_groupDesignError_15cd2_43",tz="_groupHeader_15cd2_48",rz="_inputGroupTitle_15cd2_52",nz="_inputGroupDescription_15cd2_57",iz="_moveBox_15cd2_62",az="_topLevel_15cd2_71",oz="_groupText_15cd2_85",sz="_actionToolbarVisible_15cd2_103",lz="_fadeInMoveRight_15cd2_1",uz="_contentContainer_15cd2_107",cz="_headerContent_15cd2_118",to={textHeader:GH,textDescription:YH,groupCard:KH,type:JH,groupType:QH,questionsOuterContainer:XH,questionsInnerContainer:ZH,groupDesignError:ez,groupHeader:tz,inputGroupTitle:rz,inputGroupDescription:nz,moveBox:iz,topLevel:az,groupText:oz,actionToolbarVisible:sz,fadeInMoveRight:lz,contentContainer:uz,headerContent:cz},fz="_groupDropArea_1m6hh_1",dz="_groupDragging_1m6hh_24",pz="_questionDropArea_1m6hh_45",hz="_groupDropAreaWrapper_1m6hh_72",vz="_hide_1m6hh_79",gz="_hidden_1m6hh_83",mz="_isDragging_1m6hh_92",yz="_groupHidden_1m6hh_104",bz="_groupEmptyHint_1m6hh_111",_z="_groupEmptyHintHover_1m6hh_130",Sz="_dropText_1m6hh_134",Vn={groupDropArea:fz,groupDragging:dz,questionDropArea:pz,groupDropAreaWrapper:hz,hide:vz,hidden:gz,isDragging:mz,groupHidden:yz,groupEmptyHint:bz,groupEmptyHintHover:_z,dropText:Sz};var Mv=new Map,bf=new WeakMap,g_=0,Oz=void 0;function xz(t){return t?(bf.has(t)||(g_+=1,bf.set(t,g_.toString())),bf.get(t)):"0"}function wz(t){return Object.keys(t).sort().filter(e=>t[e]!==void 0).map(e=>"".concat(e,"_").concat(e==="root"?xz(t.root):t[e])).toString()}function Ez(t){const e=wz(t);let r=Mv.get(e);if(!r){const n=new Map;let i;const a=new IntersectionObserver(o=>{o.forEach(s=>{var l;const u=s.isIntersecting&&i.some(c=>s.intersectionRatio>=c);t.trackVisibility&&typeof s.isVisible>"u"&&(s.isVisible=u),(l=n.get(s.target))==null||l.forEach(c=>{c(u,s)})})},t);i=a.thresholds||(Array.isArray(t.threshold)?t.threshold:[t.threshold||0]),r={id:e,observer:a,elements:n},Mv.set(e,r)}return r}function Cz(t,e,r={},n=Oz){if(typeof window.IntersectionObserver>"u"&&n!==void 0){const l=t.getBoundingClientRect();return e(n,{isIntersecting:n,target:t,intersectionRatio:typeof r.threshold=="number"?r.threshold:0,time:0,boundingClientRect:l,intersectionRect:l,rootBounds:l}),()=>{}}const{id:i,observer:a,elements:o}=Ez(r),s=o.get(t)||[];return o.has(t)||o.set(t,s),s.push(e),a.observe(t),function(){s.splice(s.indexOf(e),1),s.length===0&&(o.delete(t),a.unobserve(t)),o.size===0&&(a.disconnect(),Mv.delete(i))}}function Tz({threshold:t,delay:e,trackVisibility:r,rootMargin:n,root:i,triggerOnce:a,skip:o,initialInView:s,fallbackInView:l,onChange:u}={}){var c;const[f,d]=X.useState(null),p=X.useRef(),[v,h]=X.useState({inView:!!s,entry:void 0});p.current=u,X.useEffect(()=>{if(o||!f)return;let _;return _=Cz(f,(b,S)=>{h({inView:b,entry:S}),p.current&&p.current(b,S),S.isIntersecting&&a&&_&&(_(),_=void 0)},{root:i,rootMargin:n,threshold:t,trackVisibility:r,delay:e},l),()=>{_&&_()}},[Array.isArray(t)?t.toString():t,f,i,n,a,o,r,l,e]);const g=(c=v.entry)==null?void 0:c.target,y=X.useRef();!f&&g&&!a&&!o&&y.current!==g&&(y.current=g,h({inView:!!s,entry:void 0}));const m=[d,v.inView,v.entry];return m.ref=m[0],m.inView=m[1],m.entry=m[2],m}function kz({index:t,groupsCount:e,t:r,emptySurvey:n}){const i=_t(),[{isOver:a,item:o},s]=Ui(()=>({accept:"groups",drop:d=>{i(bi({type:"new_group",groupType:d.draggableId,toIndex:t}))},collect:d=>({isOver:d.isOver(),item:d.getItem()})}),[t]),l=o!=null&&o.draggableId=="group",u=o&&o.droppableId=="new-groups"&&Az(o,t)&&jz(o,t,e)&&Iz(o,t),c=ma(),f=Jd(c.palette.background.paper);return T.jsxs("div",{ref:s,style:{backgroundColor:l&&f,color:c.palette.text.primary},className:""+(n?Vn.groupEmptyHint+(a?" "+Vn.groupEmptyHintHover:""):a&&u?Vn.groupDropArea:l?Vn.groupDragging:Vn.groupHidden),children:[l&&!n&&T.jsx(T.Fragment,{children:T.jsx("span",{className:Vn.dropText,children:r("empty_survey_hint")})}),n&&T.jsx("span",{children:r("empty_survey_hint")})]})}function Rh({index:t,isLast:e=!1,parentCode:r,parentType:n,parentIndex:i,emptyGroup:a=!1,t:o}){const s=ma(),l=_t();ye(y=>{var m;return((m=y.designState.globalSetup)==null?void 0:m.reorder_setup)==="collapse_questions"});const u=ye(y=>y.designState.reorder_refresh_code),[{isOver:c,isDragging:f},d]=Ui(()=>({accept:["new-questions","questions"],hover(y){y.type!=="questions"||y.droppableId===r||n==="end"&&!yh(y.itemType)||(l(bi({type:"reparent_question",source:y.droppableId,destination:r,id:y.draggableId})),y.index=t,y.parentIndex=i,y.isLast=e,y.droppableId=r)},drop:y=>{y.type==="new-questions"&&l(bi({type:"new_question",questionType:y.draggableId,destination:r,toIndex:t}))},collect:y=>{var m,_,b,S,O;return{isOver:((m=y.getItem())==null?void 0:m.type)=="new-questions"&&y.isOver()&&(n!=="end"||yh((_=y.getItem())==null?void 0:_.itemType)),isDragging:n==="end"&&!yh((b=y.getItem())==null?void 0:b.itemType)?!1:((S=y.getItem())==null?void 0:S.droppableId)==="new-questions"||((O=y.getItem())==null?void 0:O.type)==="questions"&&y.getItem().droppableId!==r&&(t==0&&y.getItem().isLast&&y.getItem().parentIndex+1===i||e&&y.getItem().index==0&&y.getItem().parentIndex-1===i)}}}),[u,t]),{ref:p,inView:v,entry:h}=Tz({threshold:0,trackVisibility:f,delay:f?100:0}),g=s.palette.text.primary;return T.jsxs("div",{ref:p,children:[" ",T.jsxs("div",{ref:d,style:{marginTop:!f&&!c?"-0.5rem":"inherit",marginBottom:!f&&!c?"-0.5rem":"inherit"},className:"question-drop-area "+(a?c?Vn.questionDropArea:f&&v?Vn.isDragging:Vn.groupEmptyHint:c?Vn.questionDropArea:f&&v?Vn.isDragging:Vn.hidden)+" ",children:[f&&!a&&T.jsxs(ht,{display:"flex",justifyContent:"center",alignItems:"center",children:[T.jsx(Nb,{sx:{marginRight:"8px",color:g}}),T.jsx("span",{className:Vn.dropText,style:{color:g},children:o("empty_group_hint")})]}),a&&T.jsxs(ht,{display:"flex",justifyContent:"center",alignItems:"center",children:[T.jsx(Nb,{sx:{marginRight:"8px",color:g}}),T.jsx("span",{className:Vn.dropText,style:{color:g},children:o("empty_group_hint")})]})]})]})}const Iz=(t,e)=>!(((t==null?void 0:t.index)===e||e-1===(t==null?void 0:t.index))&&(t==null?void 0:t.droppableId)!=="new-groups"),Az=(t,e)=>(t==null?void 0:t.draggableId)!=="welcome"?!0:e===0,jz=(t,e,r)=>(t==null?void 0:t.draggableId)!=="end"?!0:e===r;function Pz({t,code:e,collapsed:r,children:n}){console.debug("Group Header: "+e);const i=_t(),o=ye(f=>f.designState.langInfo).onMainLang,s=ye(f=>f.designState[e]),l=Vr(),u=ye(f=>!Ug(f.designState.setup)),c=X.useCallback(()=>i(lR(e)),[e]);return T.jsx(ht,{className:to.headerContent,children:T.jsxs(ht,{className:to.groupHeader,"data-code":e,children:[T.jsx(ht,{className:to.contentContainer,children:u&&o&&T.jsx("div",{className:to.actionToolbarVisible,children:T.jsx(IC,{code:e,t,isGroup:!0,onDelete:c,disableDelete:n&&n.length>0})})}),T.jsx("div",{className:to.textHeader,style:{fontFamily:l.textStyles.group.font,color:l.textStyles.group.color,fontSize:l.textStyles.group.size},children:T.jsx(vd,{code:e,extended:!1,contentKey:"label",placeholder:t("content_editor_placeholder_title")})}),s.showDescription&&T.jsx(ht,{className:to.textDescription,children:T.jsx(vd,{code:e,extended:!0,contentKey:"description",placeholder:t("content_editor_placeholder_description")})}),o&&T.jsx(em,{type:"group",code:e})]})})}const Lz=j.memo(Pz);function Fz({t,code:e,index:r}){const n=_t(),i=ye(S=>S.designState[e]),a=ye(S=>{var O;return((O=S.designState.globalSetup)==null?void 0:O.reorder_setup)==="collapse_groups"}),o=ye(S=>S.designState.langInfo),s=ye(S=>{var O;return((O=S.designState.setup)==null?void 0:O.code)==e}),l=ma(),u=X.useRef(),[c,f,d]=za({type:"groups",item:()=>({index:r,draggableId:e,droppableId:"groups",type:"groups"}),collect:S=>{var O;return((O=S.getItem())==null?void 0:O.draggableId)===e}}),[p,v]=Ui({accept:"groups",hover(S,O){var k;if(!u.current||g=="welcome"||g=="end"||!O.isOver({shallow:!0})||!S||S.droppableId!="groups")return;const x=S.index,E=r;if(x===E)return;const A=(k=u.current)==null?void 0:k.getBoundingClientRect(),C=O.getClientOffset();x<E&&C.y<A.top+50||x>E&&C.y>A.bottom-50||(n(bi({type:"reorder_groups",id:S.draggableId,fromIndex:x,toIndex:E})),S.index=E)}}),h=o.onMainLang,g=i==null?void 0:i.groupType.toLowerCase(),y=i==null?void 0:i.children,m=S=>{const O={transition:"all 500ms"};return S&&(O.opacity=.2),O};v(d(u));const _=Jd(l.palette.background.paper),b=l.textStyles.question.color;return i?T.jsxs(ht,{sx:s?{border:"0.5px solid ".concat(b),color:b,paddingTop:"2rem",paddingBottom:"2rem",backgroundColor:_}:{backgroundColor:"background.paper"},className:to.topLevel,ref:u,style:m(c),children:[a==!0&&h&&g!=="welcome"&&g!=="end"?T.jsx("div",{className:to.moveBox,ref:f,children:T.jsx(rm,{style:{color:b}})}):T.jsx("br",{}),T.jsx(Lz,{t,code:e,index:r,collapsed:a,children:y}),(a!==!0||!h)&&T.jsxs(T.Fragment,{children:[y&&y.length>0&&T.jsx(Rh,{index:0,parentCode:e,parentType:g,parentIndex:r,t}),y==null?void 0:y.map((S,O)=>T.jsxs(j.Fragment,{children:[T.jsx(WH,{t,parentCode:e,parentIndex:r,index:O,isLast:y.length==O+1,type:S.type,code:S.code,onMainLang:h},S.code),T.jsx(Rh,{isLast:y.length==O+1,index:O+1,parentIndex:r,parentCode:e,parentType:g,t})]},S.code)),(!y||!y.length)&&h&&T.jsx(Rh,{t,index:0,parentCode:e,parentType:g,emptyGroup:!0})]})]}):null}const Rz=j.memo(Fz),vp=0,ko=1,Hl=2,FC=4;function RC(t,e){return r=>t(e(r))}function $z(t,e){return e(t)}function $C(t,e){return r=>t(e,r)}function m_(t,e){return()=>t(e)}function gp(t,e){return e(t),t}function Er(...t){return t}function Nz(t){t()}function y_(t){return()=>t}function Dz(...t){return()=>{t.map(Nz)}}function Nm(t){return t!==void 0}function zl(){}function zt(t,e){return t(ko,e)}function gt(t,e){t(vp,e)}function Dm(t){t(Hl)}function vn(t){return t(FC)}function We(t,e){return zt(t,$C(e,vp))}function pa(t,e){const r=t(ko,n=>{r(),e(n)});return r}function At(){const t=[];return(e,r)=>{switch(e){case Hl:t.splice(0,t.length);return;case ko:return t.push(r),()=>{const n=t.indexOf(r);n>-1&&t.splice(n,1)};case vp:t.slice().forEach(n=>{n(r)});return;default:throw new Error("unrecognized action ".concat(e))}}}function Ae(t){let e=t;const r=At();return(n,i)=>{switch(n){case ko:i(e);break;case vp:e=i;break;case FC:return e}return r(n,i)}}function Mz(t){let e,r;const n=()=>e&&e();return function(i,a){switch(i){case ko:return a?r===a?void 0:(n(),r=a,e=zt(t,a),e):(n(),zl);case Hl:n(),r=null;return;default:throw new Error("unrecognized action ".concat(i))}}}function Qn(t){return gp(At(),e=>We(t,e))}function In(t,e){return gp(Ae(e),r=>We(t,r))}function Vz(...t){return e=>t.reduceRight($z,e)}function xe(t,...e){const r=Vz(...e);return(n,i)=>{switch(n){case ko:return zt(t,r(i));case Hl:Dm(t);return}}}function NC(t,e){return t===e}function wr(t=NC){let e;return r=>n=>{t(e,n)||(e=n,r(n))}}function tt(t){return e=>r=>{t(r)&&e(r)}}function Ve(t){return e=>RC(e,t)}function ea(t){return e=>()=>e(t)}function la(t,e){return r=>n=>r(e=t(e,n))}function Sl(t){return e=>r=>{t>0?t--:e(r)}}function so(t){let e=null,r;return n=>i=>{e=i,!r&&(r=setTimeout(()=>{r=void 0,n(e)},t))}}function b_(t){let e,r;return n=>i=>{e=i,r&&clearTimeout(r),r=setTimeout(()=>{n(e)},t)}}function yt(...t){const e=new Array(t.length);let r=0,n=null;const i=Math.pow(2,t.length)-1;return t.forEach((a,o)=>{const s=Math.pow(2,o);zt(a,l=>{const u=r;r=r|s,e[o]=l,u!==i&&r===i&&n&&(n(),n=null)})}),a=>o=>{const s=()=>a([o].concat(e));r===i?s():n=s}}function __(...t){return function(e,r){switch(e){case ko:return Dz(...t.map(n=>zt(n,r)));case Hl:return;default:throw new Error("unrecognized action ".concat(e))}}}function et(t,e=NC){return xe(t,wr(e))}function an(...t){const e=At(),r=new Array(t.length);let n=0;const i=Math.pow(2,t.length)-1;return t.forEach((a,o)=>{const s=Math.pow(2,o);zt(a,l=>{r[o]=l,n=n|s,n===i&&gt(e,r)})}),function(a,o){switch(a){case ko:return n===i&&o(r),zt(e,o);case Hl:return Dm(e);default:throw new Error("unrecognized action ".concat(a))}}}function Kt(t,e=[],{singleton:r}={singleton:!0}){return{id:Bz(),constructor:t,dependencies:e,singleton:r}}const Bz=()=>Symbol();function qz(t){const e=new Map,r=({id:n,constructor:i,dependencies:a,singleton:o})=>{if(o&&e.has(n))return e.get(n);const s=i(a.map(l=>r(l)));return o&&e.set(n,s),s};return r(t)}function Hz(t,e){const r={},n={};let i=0;const a=t.length;for(;i<a;)n[t[i]]=1,i+=1;for(const o in e)n.hasOwnProperty(o)||(r[o]=e[o]);return r}const _f=typeof document<"u"?j.useLayoutEffect:j.useEffect;function DC(t,e,r){const n=Object.keys(e.required||{}),i=Object.keys(e.optional||{}),a=Object.keys(e.methods||{}),o=Object.keys(e.events||{}),s=j.createContext({});function l(y,m){y.propsReady&&gt(y.propsReady,!1);for(const _ of n){const b=y[e.required[_]];gt(b,m[_])}for(const _ of i)if(_ in m){const b=y[e.optional[_]];gt(b,m[_])}y.propsReady&&gt(y.propsReady,!0)}function u(y){return a.reduce((m,_)=>(m[_]=b=>{const S=y[e.methods[_]];gt(S,b)},m),{})}function c(y){return o.reduce((m,_)=>(m[_]=Mz(y[e.events[_]]),m),{})}const f=j.forwardRef((y,m)=>{const{children:_,...b}=y,[S]=j.useState(()=>gp(qz(t),E=>l(E,b))),[O]=j.useState(m_(c,S));_f(()=>{for(const E of o)E in b&&zt(O[E],b[E]);return()=>{Object.values(O).map(Dm)}},[b,O,S]),_f(()=>{l(S,b)}),j.useImperativeHandle(m,y_(u(S)));const x=r;return T.jsx(s.Provider,{value:S,children:r?T.jsx(x,{...Hz([...n,...i,...o],b),children:_}):_})}),d=y=>j.useCallback($C(gt,j.useContext(s)[y]),[y]),p=y=>{const _=j.useContext(s)[y],b=j.useCallback(S=>zt(_,S),[_]);return j.useSyncExternalStore(b,()=>vn(_),()=>vn(_))},v=y=>{const _=j.useContext(s)[y],[b,S]=j.useState(m_(vn,_));return _f(()=>zt(_,O=>{O!==b&&S(y_(O))}),[_,b]),b},h=j.version.startsWith("18")?p:v;return{Component:f,usePublisher:d,useEmitterValue:h,useEmitter:(y,m)=>{const b=j.useContext(s)[y];_f(()=>zt(b,m),[m,b])}}}const MC=typeof document<"u"?j.useLayoutEffect:j.useEffect;var Xn=(t=>(t[t.DEBUG=0]="DEBUG",t[t.INFO=1]="INFO",t[t.WARN=2]="WARN",t[t.ERROR=3]="ERROR",t))(Xn||{});const zz={0:"debug",1:"log",2:"warn",3:"error"},Uz=()=>typeof globalThis>"u"?window:globalThis,Io=Kt(()=>{const t=Ae(3);return{log:Ae((r,n,i=1)=>{var a;const o=(a=Uz().VIRTUOSO_LOG_LEVEL)!=null?a:vn(t);i>=o&&console[zz[i]]("%creact-virtuoso: %c%s %o","color: #0253b3; font-weight: bold","color: initial",r,n)}),logLevel:t}},[],{singleton:!0});function Mm(t,e,r){const n=j.useRef(null);let i=a=>{};if(typeof ResizeObserver<"u"){const a=j.useMemo(()=>new ResizeObserver(o=>{const s=()=>{const l=o[0].target;l.offsetParent!==null&&t(l)};r?s():requestAnimationFrame(s)}),[t]);i=o=>{o&&e?(a.observe(o),n.current=o):(n.current&&a.unobserve(n.current),n.current=null)}}return{ref:n,callbackRef:i}}function ds(t,e,r){return Mm(t,e,r).callbackRef}function Wz(t,e,r,n,i,a,o,s,l){const u=j.useCallback(c=>{const f=Gz(c.children,e,s?"offsetWidth":"offsetHeight",i);let d=c.parentElement;for(;!d.dataset.virtuosoScroller;)d=d.parentElement;const p=d.lastElementChild.dataset.viewportType==="window",v=o?s?o.scrollLeft:o.scrollTop:p?s?window.pageXOffset||document.documentElement.scrollLeft:window.pageYOffset||document.documentElement.scrollTop:s?d.scrollLeft:d.scrollTop,h=o?s?o.scrollWidth:o.scrollHeight:p?s?document.documentElement.scrollWidth:document.documentElement.scrollHeight:s?d.scrollWidth:d.scrollHeight,g=o?s?o.offsetWidth:o.offsetHeight:p?s?window.innerWidth:window.innerHeight:s?d.offsetWidth:d.offsetHeight;n({scrollTop:Math.max(v,0),scrollHeight:h,viewportHeight:g}),a==null||a(s?S_("column-gap",getComputedStyle(c).columnGap,i):S_("row-gap",getComputedStyle(c).rowGap,i)),f!==null&&t(f)},[t,e,i,a,o,n]);return Mm(u,r,l)}function Gz(t,e,r,n){const i=t.length;if(i===0)return null;const a=[];for(let o=0;o<i;o++){const s=t.item(o);if(!s||s.dataset.index===void 0)continue;const l=parseInt(s.dataset.index),u=parseFloat(s.dataset.knownSize),c=e(s,r);if(c===0&&n("Zero-sized element, this should not happen",{child:s},Xn.ERROR),c===u)continue;const f=a[a.length-1];a.length===0||f.size!==c||f.endIndex!==l-1?a.push({startIndex:l,endIndex:l,size:c}):a[a.length-1].endIndex++}return a}function S_(t,e,r){return e!=="normal"&&!(e!=null&&e.endsWith("px"))&&r("".concat(t," was not resolved to pixel value correctly"),e,Xn.WARN),e==="normal"?0:parseInt(e!=null?e:"0",10)}function bo(t,e){return Math.round(t.getBoundingClientRect()[e])}function VC(t,e){return Math.abs(t-e)<1.01}function BC(t,e,r,n=zl,i,a){const o=j.useRef(null),s=j.useRef(null),l=j.useRef(null),u=j.useCallback(d=>{const p=d.target,v=p===window||p===document,h=a?v?window.pageXOffset||document.documentElement.scrollLeft:p.scrollLeft:v?window.pageYOffset||document.documentElement.scrollTop:p.scrollTop,g=a?v?document.documentElement.scrollWidth:p.scrollWidth:v?document.documentElement.scrollHeight:p.scrollHeight,y=a?v?window.innerWidth:p.offsetWidth:v?window.innerHeight:p.offsetHeight,m=()=>{t({scrollTop:Math.max(h,0),scrollHeight:g,viewportHeight:y})};d.suppressFlushSync?m():RF.flushSync(m),s.current!==null&&(h===s.current||h<=0||h===g-y)&&(s.current=null,e(!0),l.current&&(clearTimeout(l.current),l.current=null))},[t,e]);j.useEffect(()=>{const d=i||o.current;return n(i||o.current),u({target:d,suppressFlushSync:!0}),d.addEventListener("scroll",u,{passive:!0}),()=>{n(null),d.removeEventListener("scroll",u)}},[o,u,r,n,i]);function c(d){const p=o.current;if(!p||(a?"offsetWidth"in p&&p.offsetWidth===0:"offsetHeight"in p&&p.offsetHeight===0))return;const v=d.behavior==="smooth";let h,g,y;p===window?(g=Math.max(bo(document.documentElement,a?"width":"height"),a?document.documentElement.scrollWidth:document.documentElement.scrollHeight),h=a?window.innerWidth:window.innerHeight,y=a?document.documentElement.scrollLeft:document.documentElement.scrollTop):(g=p[a?"scrollWidth":"scrollHeight"],h=bo(p,a?"width":"height"),y=p[a?"scrollLeft":"scrollTop"]);const m=g-h;if(d.top=Math.ceil(Math.max(Math.min(m,d.top),0)),VC(h,g)||d.top===y){t({scrollTop:y,scrollHeight:g,viewportHeight:h}),v&&e(!0);return}v?(s.current=d.top,l.current&&clearTimeout(l.current),l.current=setTimeout(()=>{l.current=null,s.current=null,e(!0)},1e3)):s.current=null,a&&(d={left:d.top,behavior:d.behavior}),p.scrollTo(d)}function f(d){a&&(d={left:d.top,behavior:d.behavior}),o.current.scrollBy(d)}return{scrollerRef:o,scrollByCallback:f,scrollToCallback:c}}const $n=Kt(()=>{const t=At(),e=At(),r=Ae(0),n=At(),i=Ae(0),a=At(),o=At(),s=Ae(0),l=Ae(0),u=Ae(0),c=Ae(0),f=At(),d=At(),p=Ae(!1),v=Ae(!1),h=Ae(!1);return We(xe(t,Ve(({scrollTop:g})=>g)),e),We(xe(t,Ve(({scrollHeight:g})=>g)),o),We(e,i),{scrollContainerState:t,scrollTop:e,viewportHeight:a,headerHeight:s,fixedHeaderHeight:l,fixedFooterHeight:u,footerHeight:c,scrollHeight:o,smoothScrollTargetReached:n,horizontalDirection:v,skipAnimationFrameInResizeObserver:h,scrollTo:f,scrollBy:d,statefulScrollTop:i,deviation:r,scrollingInProgress:p}},[],{singleton:!0}),Qu={lvl:0};function qC(t,e,r,n=Qu,i=Qu){return{k:t,v:e,lvl:r,l:n,r:i}}function nr(t){return t===Qu}function hl(){return Qu}function Vv(t,e){if(nr(t))return Qu;const{k:r,l:n,r:i}=t;if(e===r){if(nr(n))return i;if(nr(i))return n;{const[a,o]=HC(n);return Jf(Qr(t,{k:a,v:o,l:zC(n)}))}}else return e<r?Jf(Qr(t,{l:Vv(n,e)})):Jf(Qr(t,{r:Vv(i,e)}))}function Xu(t,e){if(!nr(t))return e===t.k?t.v:e<t.k?Xu(t.l,e):Xu(t.r,e)}function Ni(t,e,r="k"){if(nr(t))return[-1/0,void 0];if(Number(t[r])===e)return[t.k,t.v];if(Number(t[r])<e){const n=Ni(t.r,e,r);return n[0]===-1/0?[t.k,t.v]:n}return Ni(t.l,e,r)}function Kn(t,e,r){return nr(t)?qC(e,r,1):e===t.k?Qr(t,{k:e,v:r}):e<t.k?O_(Qr(t,{l:Kn(t.l,e,r)})):O_(Qr(t,{r:Kn(t.r,e,r)}))}function Bv(t,e,r){if(nr(t))return[];const{k:n,v:i,l:a,r:o}=t;let s=[];return n>e&&(s=s.concat(Bv(a,e,r))),n>=e&&n<=r&&s.push({k:n,v:i}),n<=r&&(s=s.concat(Bv(o,e,r))),s}function zo(t){return nr(t)?[]:[...zo(t.l),{k:t.k,v:t.v},...zo(t.r)]}function HC(t){return nr(t.r)?[t.k,t.v]:HC(t.r)}function zC(t){return nr(t.r)?t.l:Jf(Qr(t,{r:zC(t.r)}))}function Qr(t,e){return qC(e.k!==void 0?e.k:t.k,e.v!==void 0?e.v:t.v,e.lvl!==void 0?e.lvl:t.lvl,e.l!==void 0?e.l:t.l,e.r!==void 0?e.r:t.r)}function $h(t){return nr(t)||t.lvl>t.r.lvl}function O_(t){return qv(WC(t))}function Jf(t){const{l:e,r,lvl:n}=t;if(r.lvl>=n-1&&e.lvl>=n-1)return t;if(n>r.lvl+1){if($h(e))return WC(Qr(t,{lvl:n-1}));if(!nr(e)&&!nr(e.r))return Qr(e.r,{l:Qr(e,{r:e.r.l}),r:Qr(t,{l:e.r.r,lvl:n-1}),lvl:n});throw new Error("Unexpected empty nodes")}else{if($h(t))return qv(Qr(t,{lvl:n-1}));if(!nr(r)&&!nr(r.l)){const i=r.l,a=$h(i)?r.lvl-1:r.lvl;return Qr(i,{l:Qr(t,{r:i.l,lvl:n-1}),r:qv(Qr(r,{l:i.r,lvl:a})),lvl:i.lvl+1})}else throw new Error("Unexpected empty nodes")}}function mp(t,e,r){if(nr(t))return[];const n=Ni(t,e)[0];return Yz(Bv(t,n,r))}function UC(t,e){const r=t.length;if(r===0)return[];let{index:n,value:i}=e(t[0]);const a=[];for(let o=1;o<r;o++){const{index:s,value:l}=e(t[o]);a.push({start:n,end:s-1,value:i}),n=s,i=l}return a.push({start:n,end:1/0,value:i}),a}function Yz(t){return UC(t,({k:e,v:r})=>({index:e,value:r}))}function qv(t){const{r:e,lvl:r}=t;return!nr(e)&&!nr(e.r)&&e.lvl===r&&e.r.lvl===r?Qr(e,{l:Qr(t,{r:e.l}),lvl:r+1}):t}function WC(t){const{l:e}=t;return!nr(e)&&e.lvl===t.lvl?Qr(e,{r:Qr(t,{l:e.r})}):t}function md(t,e,r,n=0){let i=t.length-1;for(;n<=i;){const a=Math.floor((n+i)/2),o=t[a],s=r(o,e);if(s===0)return a;if(s===-1){if(i-n<2)return a-1;i=a-1}else{if(i===n)return a;n=a+1}}throw new Error("Failed binary finding record in array - ".concat(t.join(","),", searched for ").concat(e))}function GC(t,e,r){return t[md(t,e,r)]}function Kz(t,e,r,n){const i=md(t,e,n),a=md(t,r,n,i);return t.slice(i,a+1)}const Vm=Kt(()=>({recalcInProgress:Ae(!1)}),[],{singleton:!0});function Jz(t){const{size:e,startIndex:r,endIndex:n}=t;return i=>i.start===r&&(i.end===n||i.end===1/0)&&i.value===e}function x_(t,e){let r=0,n=0;for(;r<t;)r+=e[n+1]-e[n]-1,n++;return n-(r===t?0:1)}function Qz(t,e){let r=nr(t)?0:1/0;for(const n of e){const{size:i,startIndex:a,endIndex:o}=n;if(r=Math.min(r,a),nr(t)){t=Kn(t,0,i);continue}const s=mp(t,a-1,o+1);if(s.some(Jz(n)))continue;let l=!1,u=!1;for(const{start:c,end:f,value:d}of s)l?(o>=c||i===d)&&(t=Vv(t,c)):(u=d!==i,l=!0),f>o&&o>=c&&d!==i&&(t=Kn(t,o+1,d));u&&(t=Kn(t,a,i))}return[t,r]}function Xz(){return{offsetTree:[],sizeTree:hl(),groupOffsetTree:hl(),lastIndex:0,lastOffset:0,lastSize:0,groupIndices:[]}}function Bm({index:t},e){return e===t?0:e<t?-1:1}function Zz({offset:t},e){return e===t?0:e<t?-1:1}function eU(t){return{index:t.index,value:t}}function tU(t,e,r,n=0){return n>0&&(e=Math.max(e,GC(t,n,Bm).offset)),UC(Kz(t,e,r,Zz),eU)}function Hv(t,e,r,n){let i=t,a=0,o=0,s=0,l=0;if(e!==0){l=md(i,e-1,Bm),s=i[l].offset;const c=Ni(r,e-1);a=c[0],o=c[1],i.length&&i[l].size===Ni(r,e)[1]&&(l-=1),i=i.slice(0,l+1)}else i=[];for(const{start:u,value:c}of mp(r,e,1/0)){const f=u-a,d=f*o+s+f*n;i.push({offset:d,size:c,index:u}),a=u,s=d,o=c}return{offsetTree:i,lastIndex:a,lastOffset:s,lastSize:o}}function rU(t,[e,r,n,i]){e.length>0&&n("received item sizes",e,Xn.DEBUG);const a=t.sizeTree;let o=a,s=0;if(r.length>0&&nr(a)&&e.length===2){const d=e[0].size,p=e[1].size;o=r.reduce((v,h)=>Kn(Kn(v,h,d),h+1,p),o)}else[o,s]=Qz(o,e);if(o===a)return t;const{offsetTree:l,lastIndex:u,lastSize:c,lastOffset:f}=Hv(t.offsetTree,s,o,i);return{sizeTree:o,offsetTree:l,lastIndex:u,lastOffset:f,lastSize:c,groupOffsetTree:r.reduce((d,p)=>Kn(d,p,Zu(p,l,i)),hl()),groupIndices:r}}function Zu(t,e,r){if(e.length===0)return 0;const{offset:n,index:i,size:a}=GC(e,t,Bm),o=t-i,s=a*o+(o-1)*r+n;return s>0?s+r:s}function nU(t){return typeof t.groupIndex<"u"}function YC(t,e,r){if(nU(t))return e.groupIndices[t.groupIndex]+1;{const n=t.index==="LAST"?r:t.index;let i=KC(n,e);return i=Math.max(0,i,Math.min(r,i)),i}}function KC(t,e){if(!yp(e))return t;let r=0;for(;e.groupIndices[r]<=t+r;)r++;return t+r}function yp(t){return!nr(t.groupOffsetTree)}function iU(t){return zo(t).map(({k:e,v:r},n,i)=>{const a=i[n+1],o=a?a.k-1:1/0;return{startIndex:e,endIndex:o,size:r}})}const aU={offsetHeight:"height",offsetWidth:"width"},ba=Kt(([{log:t},{recalcInProgress:e}])=>{const r=At(),n=At(),i=In(n,0),a=At(),o=At(),s=Ae(0),l=Ae([]),u=Ae(void 0),c=Ae(void 0),f=Ae((S,O)=>bo(S,aU[O])),d=Ae(void 0),p=Ae(0),v=Xz(),h=In(xe(r,yt(l,t,p),la(rU,v),wr()),v),g=In(xe(l,wr(),la((S,O)=>({prev:S.current,current:O}),{prev:[],current:[]}),Ve(({prev:S})=>S)),[]);We(xe(l,tt(S=>S.length>0),yt(h,p),Ve(([S,O,x])=>{const E=S.reduce((A,C,k)=>Kn(A,C,Zu(C,O.offsetTree,x)||k),hl());return{...O,groupIndices:S,groupOffsetTree:E}})),h),We(xe(n,yt(h),tt(([S,{lastIndex:O}])=>S<O),Ve(([S,{lastIndex:O,lastSize:x}])=>[{startIndex:S,endIndex:O,size:x}])),r),We(u,c);const y=In(xe(u,Ve(S=>S===void 0)),!0);We(xe(c,tt(S=>S!==void 0&&nr(vn(h).sizeTree)),Ve(S=>[{startIndex:0,endIndex:0,size:S}])),r);const m=Qn(xe(r,yt(h),la(({sizes:S},[O,x])=>({changed:x!==S,sizes:x}),{changed:!1,sizes:v}),Ve(S=>S.changed)));zt(xe(s,la((S,O)=>({diff:S.prev-O,prev:O}),{diff:0,prev:0}),Ve(S=>S.diff)),S=>{const{groupIndices:O}=vn(h);if(S>0)gt(e,!0),gt(a,S+x_(S,O));else if(S<0){const x=vn(g);x.length>0&&(S-=x_(-S,x)),gt(o,S)}}),zt(xe(s,yt(t)),([S,O])=>{S<0&&O("`firstItemIndex` prop should not be set to less than zero. If you don't know the total count, just use a very high value",{firstItemIndex:s},Xn.ERROR)});const _=Qn(a);We(xe(a,yt(h),Ve(([S,O])=>{const x=O.groupIndices.length>0,E=[],A=O.lastSize;if(x){const C=Xu(O.sizeTree,0);let k=0,w=0;for(;k<S;){const P=O.groupIndices[w],V=O.groupIndices.length===w+1?1/0:O.groupIndices[w+1]-P-1;E.push({startIndex:P,endIndex:P,size:C}),E.push({startIndex:P+1,endIndex:P+1+V-1,size:A}),w++,k+=V+1}const I=zo(O.sizeTree);return k!==S&&I.shift(),I.reduce((P,{k:V,v:$})=>{let U=P.ranges;return P.prevSize!==0&&(U=[...P.ranges,{startIndex:P.prevIndex,endIndex:V+S-1,size:P.prevSize}]),{ranges:U,prevIndex:V+S,prevSize:$}},{ranges:E,prevIndex:S,prevSize:0}).ranges}return zo(O.sizeTree).reduce((C,{k,v:w})=>({ranges:[...C.ranges,{startIndex:C.prevIndex,endIndex:k+S-1,size:C.prevSize}],prevIndex:k+S,prevSize:w}),{ranges:[],prevIndex:0,prevSize:A}).ranges})),r);const b=Qn(xe(o,yt(h,p),Ve(([S,{offsetTree:O},x])=>{const E=-S;return Zu(E,O,x)})));return We(xe(o,yt(h,p),Ve(([S,O,x])=>{if(O.groupIndices.length>0){if(nr(O.sizeTree))return O;let A=hl();const C=vn(g);let k=0,w=0,I=0;for(;k<-S;){I=C[w];const P=C[w+1]-I-1;w++,k+=P+1}if(A=zo(O.sizeTree).reduce((P,{k:V,v:$})=>Kn(P,Math.max(0,V+S),$),A),k!==-S){const P=Xu(O.sizeTree,I);A=Kn(A,0,P);const V=Ni(O.sizeTree,-S+1)[1];A=Kn(A,1,V)}return{...O,sizeTree:A,...Hv(O.offsetTree,0,A,x)}}else{const A=zo(O.sizeTree).reduce((C,{k,v:w})=>Kn(C,Math.max(0,k+S),w),hl());return{...O,sizeTree:A,...Hv(O.offsetTree,0,A,x)}}})),h),{data:d,totalCount:n,sizeRanges:r,groupIndices:l,defaultItemSize:c,fixedItemSize:u,unshiftWith:a,shiftWith:o,shiftWithOffset:b,beforeUnshiftWith:_,firstItemIndex:s,gap:p,sizes:h,listRefresh:m,statefulTotalCount:i,trackItemSizes:y,itemSize:f}},Er(Io,Vm),{singleton:!0}),oU=typeof document<"u"&&"scrollBehavior"in document.documentElement.style;function JC(t){const e=typeof t=="number"?{index:t}:t;return e.align||(e.align="start"),(!e.behavior||!oU)&&(e.behavior="auto"),e.offset||(e.offset=0),e}const wc=Kt(([{sizes:t,totalCount:e,listRefresh:r,gap:n},{scrollingInProgress:i,viewportHeight:a,scrollTo:o,smoothScrollTargetReached:s,headerHeight:l,footerHeight:u,fixedHeaderHeight:c,fixedFooterHeight:f},{log:d}])=>{const p=At(),v=At(),h=Ae(0);let g=null,y=null,m=null;function _(){g&&(g(),g=null),m&&(m(),m=null),y&&(clearTimeout(y),y=null),gt(i,!1)}return We(xe(p,yt(t,a,e,h,l,u,d),yt(n,c,f),Ve(([[b,S,O,x,E,A,C,k],w,I,L])=>{const P=JC(b),{align:V,behavior:$,offset:U}=P,M=x-1,R=YC(P,S,M);let F=Zu(R,S.offsetTree,w)+A;V==="end"?(F+=I+Ni(S.sizeTree,R)[1]-O+L,R===M&&(F+=C)):V==="center"?F+=(I+Ni(S.sizeTree,R)[1]-O+L)/2:F-=E,U&&(F+=U);const N=B=>{_(),B?(k("retrying to scroll to",{location:b},Xn.DEBUG),gt(p,b)):(gt(v,!0),k("list did not change, scroll successful",{},Xn.DEBUG))};if(_(),$==="smooth"){let B=!1;m=zt(r,q=>{B=B||q}),g=pa(s,()=>{N(B)})}else g=pa(xe(r,sU(150)),N);return y=setTimeout(()=>{_()},1200),gt(i,!0),k("scrolling from index to",{index:R,top:F,behavior:$},Xn.DEBUG),{top:F,behavior:$}})),o),{scrollToIndex:p,scrollTargetReached:v,topListHeight:h}},Er(ba,$n,Io),{singleton:!0});function sU(t){return e=>{const r=setTimeout(()=>{e(!1)},t);return n=>{n&&(e(!0),clearTimeout(r))}}}const ec="up",Vu="down",lU="none",uU={atBottom:!1,notAtBottomBecause:"NOT_SHOWING_LAST_ITEM",state:{offsetBottom:0,scrollTop:0,viewportHeight:0,scrollHeight:0}},cU=0,Ec=Kt(([{scrollContainerState:t,scrollTop:e,viewportHeight:r,headerHeight:n,footerHeight:i,scrollBy:a}])=>{const o=Ae(!1),s=Ae(!0),l=At(),u=At(),c=Ae(4),f=Ae(cU),d=In(xe(__(xe(et(e),Sl(1),ea(!0)),xe(et(e),Sl(1),ea(!1),b_(100))),wr()),!1),p=In(xe(__(xe(a,ea(!0)),xe(a,ea(!1),b_(200))),wr()),!1);We(xe(an(et(e),et(f)),Ve(([m,_])=>m<=_),wr()),s),We(xe(s,so(50)),u);const v=Qn(xe(an(t,et(r),et(n),et(i),et(c)),la((m,[{scrollTop:_,scrollHeight:b},S,O,x,E])=>{const A=_+S-b>-E,C={viewportHeight:S,scrollTop:_,scrollHeight:b};if(A){let w,I;return _>m.state.scrollTop?(w="SCROLLED_DOWN",I=m.state.scrollTop-_):(w="SIZE_DECREASED",I=m.state.scrollTop-_||m.scrollTopDelta),{atBottom:!0,state:C,atBottomBecause:w,scrollTopDelta:I}}let k;return C.scrollHeight>m.state.scrollHeight?k="SIZE_INCREASED":S<m.state.viewportHeight?k="VIEWPORT_HEIGHT_DECREASING":_<m.state.scrollTop?k="SCROLLING_UPWARDS":k="NOT_FULLY_SCROLLED_TO_LAST_ITEM_BOTTOM",{atBottom:!1,notAtBottomBecause:k,state:C}},uU),wr((m,_)=>m&&m.atBottom===_.atBottom))),h=In(xe(t,la((m,{scrollTop:_,scrollHeight:b,viewportHeight:S})=>{if(VC(m.scrollHeight,b))return{scrollTop:_,scrollHeight:b,jump:0,changed:!1};{const O=b-(_+S)<1;return m.scrollTop!==_&&O?{scrollHeight:b,scrollTop:_,jump:m.scrollTop-_,changed:!0}:{scrollHeight:b,scrollTop:_,jump:0,changed:!0}}},{scrollHeight:0,jump:0,scrollTop:0,changed:!1}),tt(m=>m.changed),Ve(m=>m.jump)),0);We(xe(v,Ve(m=>m.atBottom)),o),We(xe(o,so(50)),l);const g=Ae(Vu);We(xe(t,Ve(({scrollTop:m})=>m),wr(),la((m,_)=>vn(p)?{direction:m.direction,prevScrollTop:_}:{direction:_<m.prevScrollTop?ec:Vu,prevScrollTop:_},{direction:Vu,prevScrollTop:0}),Ve(m=>m.direction)),g),We(xe(t,so(50),ea(lU)),g);const y=Ae(0);return We(xe(d,tt(m=>!m),ea(0)),y),We(xe(e,so(100),yt(d),tt(([m,_])=>!!_),la(([m,_],[b])=>[_,b],[0,0]),Ve(([m,_])=>_-m)),y),{isScrolling:d,isAtTop:s,isAtBottom:o,atBottomState:v,atTopStateChange:u,atBottomStateChange:l,scrollDirection:g,atBottomThreshold:c,atTopThreshold:f,scrollVelocity:y,lastJumpDueToItemResize:h}},Er($n)),Ao=Kt(([{log:t}])=>{const e=Ae(!1),r=Qn(xe(e,tt(n=>n),wr()));return zt(e,n=>{n&&vn(t)("props updated",{},Xn.DEBUG)}),{propsReady:e,didMount:r}},Er(Io),{singleton:!0});function qm(t,e){t==0?e():requestAnimationFrame(()=>qm(t-1,e))}function Hm(t,e){const r=e-1;return typeof t=="number"?t:t.index==="LAST"?r:t.index}const Cc=Kt(([{sizes:t,listRefresh:e,defaultItemSize:r},{scrollTop:n},{scrollToIndex:i,scrollTargetReached:a},{didMount:o}])=>{const s=Ae(!0),l=Ae(0),u=Ae(!0);return We(xe(o,yt(l),tt(([c,f])=>!!f),ea(!1)),s),We(xe(o,yt(l),tt(([c,f])=>!!f),ea(!1)),u),zt(xe(an(e,o),yt(s,t,r,u),tt(([[,c],f,{sizeTree:d},p,v])=>c&&(!nr(d)||Nm(p))&&!f&&!v),yt(l)),([,c])=>{pa(a,()=>{gt(u,!0)}),qm(4,()=>{pa(n,()=>{gt(s,!0)}),gt(i,c)})}),{scrolledToInitialItem:s,initialTopMostItemIndex:l,initialItemFinalLocationReached:u}},Er(ba,$n,wc,Ao),{singleton:!0});function w_(t){return t?t==="smooth"?"smooth":"auto":!1}const fU=(t,e)=>typeof t=="function"?w_(t(e)):e&&w_(t),dU=Kt(([{totalCount:t,listRefresh:e},{isAtBottom:r,atBottomState:n},{scrollToIndex:i},{scrolledToInitialItem:a},{propsReady:o,didMount:s},{log:l},{scrollingInProgress:u}])=>{const c=Ae(!1),f=At();let d=null;function p(h){gt(i,{index:"LAST",align:"end",behavior:h})}zt(xe(an(xe(et(t),Sl(1)),s),yt(et(c),r,a,u),Ve(([[h,g],y,m,_,b])=>{let S=g&&_,O="auto";return S&&(O=fU(y,m||b),S=S&&!!O),{totalCount:h,shouldFollow:S,followOutputBehavior:O}}),tt(({shouldFollow:h})=>h)),({totalCount:h,followOutputBehavior:g})=>{d&&(d(),d=null),d=pa(e,()=>{vn(l)("following output to ",{totalCount:h},Xn.DEBUG),p(g),d=null})});function v(h){const g=pa(n,y=>{h&&!y.atBottom&&y.notAtBottomBecause==="SIZE_INCREASED"&&!d&&(vn(l)("scrolling to bottom due to increased size",{},Xn.DEBUG),p("auto"))});setTimeout(g,100)}return zt(xe(an(et(c),t,o),tt(([h,,g])=>h&&g),la(({value:h},[,g])=>({refreshed:h===g,value:g}),{refreshed:!1,value:0}),tt(({refreshed:h})=>h),yt(c,t)),([,h])=>{vn(a)&&v(h!==!1)}),zt(f,()=>{v(vn(c)!==!1)}),zt(an(et(c),n),([h,g])=>{h&&!g.atBottom&&g.notAtBottomBecause==="VIEWPORT_HEIGHT_DECREASING"&&p("auto")}),{followOutput:c,autoscrollToBottom:f}},Er(ba,Ec,wc,Cc,Ao,Io,$n));function pU(t){return t.reduce((e,r)=>(e.groupIndices.push(e.totalCount),e.totalCount+=r+1,e),{totalCount:0,groupIndices:[]})}const QC=Kt(([{totalCount:t,groupIndices:e,sizes:r},{scrollTop:n,headerHeight:i}])=>{const a=At(),o=At(),s=Qn(xe(a,Ve(pU)));return We(xe(s,Ve(l=>l.totalCount)),t),We(xe(s,Ve(l=>l.groupIndices)),e),We(xe(an(n,r,i),tt(([l,u])=>yp(u)),Ve(([l,u,c])=>Ni(u.groupOffsetTree,Math.max(l-c,0),"v")[0]),wr(),Ve(l=>[l])),o),{groupCounts:a,topItemsIndexes:o}},Er(ba,$n));function tc(t,e){return!!(t&&t[0]===e[0]&&t[1]===e[1])}function XC(t,e){return!!(t&&t.startIndex===e.startIndex&&t.endIndex===e.endIndex)}const yd="top",bd="bottom",E_="none";function C_(t,e,r){return typeof t=="number"?r===ec&&e===yd||r===Vu&&e===bd?t:0:r===ec?e===yd?t.main:t.reverse:e===bd?t.main:t.reverse}function T_(t,e){return typeof t=="number"?t:t[e]||0}const zm=Kt(([{scrollTop:t,viewportHeight:e,deviation:r,headerHeight:n,fixedHeaderHeight:i}])=>{const a=At(),o=Ae(0),s=Ae(0),l=Ae(0),u=In(xe(an(et(t),et(e),et(n),et(a,tc),et(l),et(o),et(i),et(r),et(s)),Ve(([c,f,d,[p,v],h,g,y,m,_])=>{const b=c-m,S=g+y,O=Math.max(d-b,0);let x=E_;const E=T_(_,yd),A=T_(_,bd);return p-=m,p+=d+y,v+=d+y,v-=m,p>c+S-E&&(x=ec),v<c-O+f+A&&(x=Vu),x!==E_?[Math.max(b-d-C_(h,yd,x)-E,0),b-O-y+f+C_(h,bd,x)+A]:null}),tt(c=>c!=null),wr(tc)),[0,0]);return{listBoundary:a,overscan:l,topListHeight:o,increaseViewportBy:s,visibleRange:u}},Er($n),{singleton:!0});function hU(t,e,r){if(yp(e)){const n=KC(t,e);return[{index:Ni(e.groupOffsetTree,n)[0],size:0,offset:0},{index:n,size:0,offset:0,data:r&&r[0]}]}return[{index:t,size:0,offset:0,data:r&&r[0]}]}const Nh={items:[],topItems:[],offsetTop:0,offsetBottom:0,top:0,bottom:0,topListHeight:0,totalCount:0,firstItemIndex:0};function k_(t,e,r){if(t.length===0)return[];if(!yp(e))return t.map(u=>({...u,index:u.index+r,originalIndex:u.index}));const n=t[0].index,i=t[t.length-1].index,a=[],o=mp(e.groupOffsetTree,n,i);let s,l=0;for(const u of t){(!s||s.end<u.index)&&(s=o.shift(),l=e.groupIndices.indexOf(s.start));let c;u.index===s.start?c={type:"group",index:l}:c={index:u.index-(l+1)+r,groupIndex:l},a.push({...c,size:u.size,offset:u.offset,originalIndex:u.index,data:u.data})}return a}function Qf(t,e,r,n,i,a){const{lastSize:o,lastOffset:s,lastIndex:l}=i;let u=0,c=0;if(t.length>0){u=t[0].offset;const h=t[t.length-1];c=h.offset+h.size}const f=r-l,d=s+f*o+(f-1)*n,p=u,v=d-c;return{items:k_(t,i,a),topItems:k_(e,i,a),topListHeight:e.reduce((h,g)=>g.size+h,0),offsetTop:u,offsetBottom:v,top:p,bottom:c,totalCount:r,firstItemIndex:a}}function ZC(t,e,r,n,i,a){let o=0;if(r.groupIndices.length>0)for(const c of r.groupIndices){if(c-o>=t)break;o++}const s=t+o,l=Hm(e,s),u=Array.from({length:s}).map((c,f)=>({index:f+l,size:0,offset:0,data:a[f+l]}));return Qf(u,[],s,i,r,n)}const ps=Kt(([{sizes:t,totalCount:e,data:r,firstItemIndex:n,gap:i},a,{visibleRange:o,listBoundary:s,topListHeight:l},{scrolledToInitialItem:u,initialTopMostItemIndex:c},{topListHeight:f},d,{didMount:p},{recalcInProgress:v}])=>{const h=Ae([]),g=Ae(0),y=At();We(a.topItemsIndexes,h);const m=In(xe(an(p,v,et(o,tc),et(e),et(t),et(c),u,et(h),et(n),et(i),r),tt(([O,x,,E,,,,,,,A])=>{const C=A&&A.length!==E;return O&&!x&&!C}),Ve(([,,[O,x],E,A,C,k,w,I,L,P])=>{const V=A,{sizeTree:$,offsetTree:U}=V,M=vn(g);if(E===0)return{...Nh,totalCount:E};if(O===0&&x===0)return M===0?{...Nh,totalCount:E}:ZC(M,C,A,I,L,P||[]);if(nr($))return M>0?null:Qf(hU(Hm(C,E),V,P),[],E,L,V,I);const R=[];if(w.length>0){const W=w[0],D=w[w.length-1];let G=0;for(const H of mp($,W,D)){const Y=H.value,K=Math.max(H.start,W),ie=Math.min(H.end,D);for(let te=K;te<=ie;te++)R.push({index:te,size:Y,offset:G,data:P&&P[te]}),G+=Y}}if(!k)return Qf([],R,E,L,V,I);const F=w.length>0?w[w.length-1]+1:0,N=tU(U,O,x,F);if(N.length===0)return null;const B=E-1,q=gp([],W=>{for(const D of N){const G=D.value;let H=G.offset,Y=D.start;const K=G.size;if(G.offset<O){Y+=Math.floor((O-G.offset+L)/(K+L));const te=Y-D.start;H+=te*K+te*L}Y<F&&(H+=(F-Y)*K,Y=F);const ie=Math.min(D.end,B);for(let te=Y;te<=ie&&!(H>=x);te++)W.push({index:te,size:K,offset:H,data:P&&P[te]}),H+=K+L}});return Qf(q,R,E,L,V,I)}),tt(O=>O!==null),wr()),Nh);We(xe(r,tt(Nm),Ve(O=>O==null?void 0:O.length)),e),We(xe(m,Ve(O=>O.topListHeight)),f),We(f,l),We(xe(m,Ve(O=>[O.top,O.bottom])),s),We(xe(m,Ve(O=>O.items)),y);const _=Qn(xe(m,tt(({items:O})=>O.length>0),yt(e,r),tt(([{items:O},x])=>O[O.length-1].originalIndex===x-1),Ve(([,O,x])=>[O-1,x]),wr(tc),Ve(([O])=>O))),b=Qn(xe(m,so(200),tt(({items:O,topItems:x})=>O.length>0&&O[0].originalIndex===x.length),Ve(({items:O})=>O[0].index),wr())),S=Qn(xe(m,tt(({items:O})=>O.length>0),Ve(({items:O})=>{let x=0,E=O.length-1;for(;O[x].type==="group"&&x<E;)x++;for(;O[E].type==="group"&&E>x;)E--;return{startIndex:O[x].index,endIndex:O[E].index}}),wr(XC)));return{listState:m,topItemsIndexes:h,endReached:_,startReached:b,rangeChanged:S,itemsRendered:y,initialItemCount:g,...d}},Er(ba,QC,zm,Cc,wc,Ec,Ao,Vm),{singleton:!0}),vU=Kt(([{sizes:t,firstItemIndex:e,data:r,gap:n},{initialTopMostItemIndex:i},{initialItemCount:a,listState:o},{didMount:s}])=>(We(xe(s,yt(a),tt(([,l])=>l!==0),yt(i,t,e,n,r),Ve(([[,l],u,c,f,d,p=[]])=>ZC(l,u,c,f,d,p))),o),{}),Er(ba,Cc,ps,Ao),{singleton:!0}),eT=Kt(([{scrollVelocity:t}])=>{const e=Ae(!1),r=At(),n=Ae(!1);return We(xe(t,yt(n,e,r),tt(([i,a])=>!!a),Ve(([i,a,o,s])=>{const{exit:l,enter:u}=a;if(o){if(l(i,s))return!1}else if(u(i,s))return!0;return o}),wr()),e),zt(xe(an(e,t,r),yt(n)),([[i,a,o],s])=>i&&s&&s.change&&s.change(a,o)),{isSeeking:e,scrollSeekConfiguration:n,scrollVelocity:t,scrollSeekRangeChanged:r}},Er(Ec),{singleton:!0}),gU=Kt(([{topItemsIndexes:t}])=>{const e=Ae(0);return We(xe(e,tt(r=>r>0),Ve(r=>Array.from({length:r}).map((n,i)=>i))),t),{topItemCount:e}},Er(ps)),tT=Kt(([{footerHeight:t,headerHeight:e,fixedHeaderHeight:r,fixedFooterHeight:n},{listState:i}])=>{const a=At(),o=In(xe(an(t,n,e,r,i),Ve(([s,l,u,c,f])=>s+l+u+c+f.offsetBottom+f.bottom)),0);return We(et(o),a),{totalListHeight:o,totalListHeightChanged:a}},Er($n,ps),{singleton:!0});function rT(t){let e=!1,r;return()=>(e||(e=!0,r=t()),r)}const mU=rT(()=>/iP(ad|od|hone)/i.test(navigator.userAgent)&&/WebKit/i.test(navigator.userAgent)),yU=Kt(([{scrollBy:t,scrollTop:e,deviation:r,scrollingInProgress:n},{isScrolling:i,isAtBottom:a,scrollDirection:o,lastJumpDueToItemResize:s},{listState:l},{beforeUnshiftWith:u,shiftWithOffset:c,sizes:f,gap:d},{log:p},{recalcInProgress:v}])=>{const h=Qn(xe(l,yt(s),la(([,y,m,_],[{items:b,totalCount:S,bottom:O,offsetBottom:x},E])=>{const A=O+x;let C=0;return m===S&&y.length>0&&b.length>0&&(b[0].originalIndex===0&&y[0].originalIndex===0||(C=A-_,C!==0&&(C+=E))),[C,b,S,A]},[0,[],0,0]),tt(([y])=>y!==0),yt(e,o,n,a,p,v),tt(([,y,m,_,,,b])=>!b&&!_&&y!==0&&m===ec),Ve(([[y],,,,,m])=>(m("Upward scrolling compensation",{amount:y},Xn.DEBUG),y))));function g(y){y>0?(gt(t,{top:-y,behavior:"auto"}),gt(r,0)):(gt(r,0),gt(t,{top:-y,behavior:"auto"}))}return zt(xe(h,yt(r,i)),([y,m,_])=>{_&&mU()?gt(r,m-y):g(-y)}),zt(xe(an(In(i,!1),r,v),tt(([y,m,_])=>!y&&!_&&m!==0),Ve(([y,m])=>m),so(1)),g),We(xe(c,Ve(y=>({top:-y}))),t),zt(xe(u,yt(f,d),Ve(([y,{lastSize:m,groupIndices:_,sizeTree:b},S])=>{function O(x){return x*(m+S)}if(_.length===0)return O(y);{let x=0;const E=Xu(b,0);let A=0,C=0;for(;A<y;){A++,x+=E;let k=_.length===C+1?1/0:_[C+1]-_[C]-1;A+k>y&&(x-=E,k=y-A+1),A+=k,x+=O(k),C++}return x}})),y=>{gt(r,y),requestAnimationFrame(()=>{gt(t,{top:y}),requestAnimationFrame(()=>{gt(r,0),gt(v,!1)})})}),{deviation:r}},Er($n,Ec,ps,ba,Io,Vm)),bU=Kt(([{didMount:t},{scrollTo:e},{listState:r}])=>{const n=Ae(0);return zt(xe(t,yt(n),tt(([,i])=>i!==0),Ve(([,i])=>({top:i}))),i=>{pa(xe(r,Sl(1),tt(a=>a.items.length>1)),()=>{requestAnimationFrame(()=>{gt(e,i)})})}),{initialScrollTop:n}},Er(Ao,$n,ps),{singleton:!0}),_U=Kt(([{viewportHeight:t},{totalListHeight:e}])=>{const r=Ae(!1),n=In(xe(an(r,t,e),tt(([i])=>i),Ve(([,i,a])=>Math.max(0,i-a)),so(0),wr()),0);return{alignToBottom:r,paddingTopAddition:n}},Er($n,tT),{singleton:!0}),Um=Kt(([{scrollTo:t,scrollContainerState:e}])=>{const r=At(),n=At(),i=At(),a=Ae(!1),o=Ae(void 0);return We(xe(an(r,n),Ve(([{viewportHeight:s,scrollTop:l,scrollHeight:u},{offsetTop:c}])=>({scrollTop:Math.max(0,l-c),scrollHeight:u,viewportHeight:s}))),e),We(xe(t,yt(n),Ve(([s,{offsetTop:l}])=>({...s,top:s.top+l}))),i),{useWindowScroll:a,customScrollParent:o,windowScrollContainerState:r,windowViewportRect:n,windowScrollTo:i}},Er($n)),SU=({itemTop:t,itemBottom:e,viewportTop:r,viewportBottom:n,locationParams:{behavior:i,align:a,...o}})=>t<r?{...o,behavior:i,align:a!=null?a:"start"}:e>n?{...o,behavior:i,align:a!=null?a:"end"}:null,OU=Kt(([{sizes:t,totalCount:e,gap:r},{scrollTop:n,viewportHeight:i,headerHeight:a,fixedHeaderHeight:o,fixedFooterHeight:s,scrollingInProgress:l},{scrollToIndex:u}])=>{const c=At();return We(xe(c,yt(t,i,e,a,o,s,n),yt(r),Ve(([[f,d,p,v,h,g,y,m],_])=>{const{done:b,behavior:S,align:O,calculateViewLocation:x=SU,...E}=f,A=YC(f,d,v-1),C=Zu(A,d.offsetTree,_)+h+g,k=C+Ni(d.sizeTree,A)[1],w=m+g,I=m+p-y,L=x({itemTop:C,itemBottom:k,viewportTop:w,viewportBottom:I,locationParams:{behavior:S,align:O,...E}});return L?b&&pa(xe(l,tt(P=>P===!1),Sl(vn(l)?1:2)),b):b&&b(),L}),tt(f=>f!==null)),u),{scrollIntoView:c}},Er(ba,$n,wc,ps,Io),{singleton:!0}),xU=Kt(([{sizes:t,sizeRanges:e},{scrollTop:r,headerHeight:n},{initialTopMostItemIndex:i},{didMount:a},{useWindowScroll:o,windowScrollContainerState:s,windowViewportRect:l}])=>{const u=At(),c=Ae(void 0),f=Ae(null),d=Ae(null);return We(s,f),We(l,d),zt(xe(u,yt(t,r,o,f,d,n)),([p,v,h,g,y,m,_])=>{const b=iU(v.sizeTree);g&&y!==null&&m!==null&&(h=y.scrollTop-m.offsetTop),h-=_,p({ranges:b,scrollTop:h})}),We(xe(c,tt(Nm),Ve(wU)),i),We(xe(a,yt(c),tt(([,p])=>p!==void 0),wr(),Ve(([,p])=>p.ranges)),e),{getState:u,restoreStateFrom:c}},Er(ba,$n,Cc,Ao,Um));function wU(t){return{offset:t.scrollTop,index:0,align:"start"}}const EU=Kt(([t,e,r,n,i,a,o,s,l,u])=>({...t,...e,...r,...n,...i,...a,...o,...s,...l,...u}),Er(zm,vU,Ao,eT,tT,bU,_U,Um,OU,Io)),CU=Kt(([{totalCount:t,sizeRanges:e,fixedItemSize:r,defaultItemSize:n,trackItemSizes:i,itemSize:a,data:o,firstItemIndex:s,groupIndices:l,statefulTotalCount:u,gap:c,sizes:f},{initialTopMostItemIndex:d,scrolledToInitialItem:p,initialItemFinalLocationReached:v},h,g,y,{listState:m,topItemsIndexes:_,...b},{scrollToIndex:S},O,{topItemCount:x},{groupCounts:E},A])=>(We(b.rangeChanged,A.scrollSeekRangeChanged),We(xe(A.windowViewportRect,Ve(C=>C.visibleHeight)),h.viewportHeight),{totalCount:t,data:o,firstItemIndex:s,sizeRanges:e,initialTopMostItemIndex:d,scrolledToInitialItem:p,initialItemFinalLocationReached:v,topItemsIndexes:_,topItemCount:x,groupCounts:E,fixedItemHeight:r,defaultItemHeight:n,gap:c,...y,statefulTotalCount:u,listState:m,scrollToIndex:S,trackItemSizes:i,itemSize:a,groupIndices:l,...b,...A,...h,sizes:f,...g}),Er(ba,Cc,$n,xU,dU,ps,wc,yU,gU,QC,EU)),Dh="-webkit-sticky",I_="sticky",nT=rT(()=>{if(typeof document>"u")return I_;const t=document.createElement("div");return t.style.position=Dh,t.style.position===Dh?Dh:I_});function iT(t,e,r){const n=j.useRef(null),i=j.useCallback(l=>{if(l===null||!l.offsetParent)return;const u=l.getBoundingClientRect(),c=u.width;let f,d;if(e){const p=e.getBoundingClientRect(),v=u.top-p.top;f=p.height-Math.max(0,v),d=v+e.scrollTop}else f=window.innerHeight-Math.max(0,u.top),d=u.top+window.pageYOffset;n.current={offsetTop:d,visibleHeight:f,visibleWidth:c},t(n.current)},[t,e]),{callbackRef:a,ref:o}=Mm(i,!0,r),s=j.useCallback(()=>{i(o.current)},[i,o]);return j.useEffect(()=>{if(e){e.addEventListener("scroll",s);const l=new ResizeObserver(()=>{requestAnimationFrame(s)});return l.observe(e),()=>{e.removeEventListener("scroll",s),l.unobserve(e)}}else return window.addEventListener("scroll",s),window.addEventListener("resize",s),()=>{window.removeEventListener("scroll",s),window.removeEventListener("resize",s)}},[s,e]),a}const aT=j.createContext(void 0),oT=j.createContext(void 0);function sT(t){return t}const TU=Kt(()=>{const t=Ae(l=>"Item ".concat(l)),e=Ae(null),r=Ae(l=>"Group ".concat(l)),n=Ae({}),i=Ae(sT),a=Ae("div"),o=Ae(zl),s=(l,u=null)=>In(xe(n,Ve(c=>c[l]),wr()),u);return{context:e,itemContent:t,groupContent:r,components:n,computeItemKey:i,HeaderFooterTag:a,scrollerRef:o,FooterComponent:s("Footer"),HeaderComponent:s("Header"),TopItemListComponent:s("TopItemList"),ListComponent:s("List","div"),ItemComponent:s("Item","div"),GroupComponent:s("Group","div"),ScrollerComponent:s("Scroller","div"),EmptyPlaceholder:s("EmptyPlaceholder"),ScrollSeekPlaceholder:s("ScrollSeekPlaceholder")}}),kU=Kt(([t,e])=>({...t,...e}),Er(CU,TU)),IU=({height:t})=>T.jsx("div",{style:{height:t}}),AU={position:nT(),zIndex:1,overflowAnchor:"none"},lT={overflowAnchor:"none"},jU={...lT,display:"inline-block",height:"100%"},A_=j.memo(function({showTopList:e=!1}){const r=ut("listState"),n=pi("sizeRanges"),i=ut("useWindowScroll"),a=ut("customScrollParent"),o=pi("windowScrollContainerState"),s=pi("scrollContainerState"),l=a||i?o:s,u=ut("itemContent"),c=ut("context"),f=ut("groupContent"),d=ut("trackItemSizes"),p=ut("itemSize"),v=ut("log"),h=pi("gap"),g=ut("horizontalDirection"),{callbackRef:y}=Wz(n,p,d,e?zl:l,v,h,a,g,ut("skipAnimationFrameInResizeObserver")),[m,_]=j.useState(0);Wm("deviation",P=>{m!==P&&_(P)});const b=ut("EmptyPlaceholder"),S=ut("ScrollSeekPlaceholder")||IU,O=ut("ListComponent"),x=ut("ItemComponent"),E=ut("GroupComponent"),A=ut("computeItemKey"),C=ut("isSeeking"),k=ut("groupIndices").length>0,w=ut("alignToBottom"),I=ut("initialItemFinalLocationReached"),L=e?{}:{boxSizing:"border-box",...g?{whiteSpace:"nowrap",display:"inline-block",height:"100%",paddingLeft:r.offsetTop,paddingRight:r.offsetBottom,marginLeft:m!==0?m:w?"auto":0}:{marginTop:m!==0?m:w?"auto":0,paddingTop:r.offsetTop,paddingBottom:r.offsetBottom},...I?{}:{visibility:"hidden"}};return!e&&r.totalCount===0&&b?T.jsx(b,{...Tn(b,c)}):T.jsx(O,{...Tn(O,c),ref:y,style:L,"data-testid":e?"virtuoso-top-item-list":"virtuoso-item-list",children:(e?r.topItems:r.items).map(P=>{const V=P.originalIndex,$=A(V+r.firstItemIndex,P.data,c);return C?X.createElement(S,{...Tn(S,c),key:$,index:P.index,height:P.size,type:P.type||"item",...P.type==="group"?{}:{groupIndex:P.groupIndex}}):P.type==="group"?X.createElement(E,{...Tn(E,c),key:$,"data-index":V,"data-known-size":P.size,"data-item-index":P.index,style:AU},f(P.index,c)):X.createElement(x,{...Tn(x,c),...RU(x,P.data),key:$,"data-index":V,"data-known-size":P.size,"data-item-index":P.index,"data-item-group-index":P.groupIndex,style:g?jU:lT},k?u(P.index,P.groupIndex,P.data,c):u(P.index,P.data,c))})})}),PU={height:"100%",outline:"none",overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},LU={outline:"none",overflowX:"auto",position:"relative"},bp=t=>({width:"100%",height:"100%",position:"absolute",top:0,...t?{display:"flex",flexDirection:"column"}:{}}),FU={width:"100%",position:nT(),top:0,zIndex:1};function Tn(t,e){if(typeof t!="string")return{context:e}}function RU(t,e){return{item:typeof t=="string"?void 0:e}}const $U=j.memo(function(){const e=ut("HeaderComponent"),r=pi("headerHeight"),n=ut("HeaderFooterTag"),i=ds(j.useMemo(()=>o=>r(bo(o,"height")),[r]),!0,ut("skipAnimationFrameInResizeObserver")),a=ut("context");return e?T.jsx(n,{ref:i,children:T.jsx(e,{...Tn(e,a)})}):null}),NU=j.memo(function(){const e=ut("FooterComponent"),r=pi("footerHeight"),n=ut("HeaderFooterTag"),i=ds(j.useMemo(()=>o=>r(bo(o,"height")),[r]),!0,ut("skipAnimationFrameInResizeObserver")),a=ut("context");return e?T.jsx(n,{ref:i,children:T.jsx(e,{...Tn(e,a)})}):null});function uT({usePublisher:t,useEmitter:e,useEmitterValue:r}){return j.memo(function({style:a,children:o,...s}){const l=t("scrollContainerState"),u=r("ScrollerComponent"),c=t("smoothScrollTargetReached"),f=r("scrollerRef"),d=r("context"),p=r("horizontalDirection")||!1,{scrollerRef:v,scrollByCallback:h,scrollToCallback:g}=BC(l,c,u,f,void 0,p);e("scrollTo",g),e("scrollBy",h);const y=p?LU:PU;return T.jsx(u,{ref:v,style:{...y,...a},"data-testid":"virtuoso-scroller","data-virtuoso-scroller":!0,tabIndex:0,...s,...Tn(u,d),children:o})})}function cT({usePublisher:t,useEmitter:e,useEmitterValue:r}){return j.memo(function({style:a,children:o,...s}){const l=t("windowScrollContainerState"),u=r("ScrollerComponent"),c=t("smoothScrollTargetReached"),f=r("totalListHeight"),d=r("deviation"),p=r("customScrollParent"),v=r("context"),{scrollerRef:h,scrollByCallback:g,scrollToCallback:y}=BC(l,c,u,zl,p);return MC(()=>(h.current=p||window,()=>{h.current=null}),[h,p]),e("windowScrollTo",y),e("scrollBy",g),T.jsx(u,{style:{position:"relative",...a,...f!==0?{height:f+d}:{}},"data-virtuoso-scroller":!0,...s,...Tn(u,v),children:o})})}const DU=({children:t})=>{const e=j.useContext(aT),r=pi("viewportHeight"),n=pi("fixedItemHeight"),i=ut("alignToBottom"),a=ut("horizontalDirection"),o=j.useMemo(()=>RC(r,l=>bo(l,a?"width":"height")),[r,a]),s=ds(o,!0,ut("skipAnimationFrameInResizeObserver"));return j.useEffect(()=>{e&&(r(e.viewportHeight),n(e.itemHeight))},[e,r,n]),T.jsx("div",{style:bp(i),ref:s,"data-viewport-type":"element",children:t})},MU=({children:t})=>{const e=j.useContext(aT),r=pi("windowViewportRect"),n=pi("fixedItemHeight"),i=ut("customScrollParent"),a=iT(r,i,ut("skipAnimationFrameInResizeObserver")),o=ut("alignToBottom");return j.useEffect(()=>{e&&(n(e.itemHeight),r({offsetTop:0,visibleHeight:e.viewportHeight,visibleWidth:100}))},[e,r,n]),T.jsx("div",{ref:a,style:bp(o),"data-viewport-type":"window",children:t})},VU=({children:t})=>{const e=ut("TopItemListComponent")||"div",r=ut("headerHeight"),n={...FU,marginTop:"".concat(r,"px")},i=ut("context");return T.jsx(e,{style:n,...Tn(e,i),children:t})},BU=j.memo(function(e){const r=ut("useWindowScroll"),n=ut("topItemsIndexes").length>0,i=ut("customScrollParent"),a=i||r?zU:HU,o=i||r?MU:DU;return T.jsxs(a,{...e,children:[n&&T.jsx(VU,{children:T.jsx(A_,{showTopList:!0})}),T.jsxs(o,{children:[T.jsx($U,{}),T.jsx(A_,{}),T.jsx(NU,{})]})]})}),{Component:qU,usePublisher:pi,useEmitterValue:ut,useEmitter:Wm}=DC(kU,{required:{},optional:{restoreStateFrom:"restoreStateFrom",context:"context",followOutput:"followOutput",itemContent:"itemContent",groupContent:"groupContent",overscan:"overscan",increaseViewportBy:"increaseViewportBy",totalCount:"totalCount",groupCounts:"groupCounts",topItemCount:"topItemCount",firstItemIndex:"firstItemIndex",initialTopMostItemIndex:"initialTopMostItemIndex",components:"components",atBottomThreshold:"atBottomThreshold",atTopThreshold:"atTopThreshold",computeItemKey:"computeItemKey",defaultItemHeight:"defaultItemHeight",fixedItemHeight:"fixedItemHeight",itemSize:"itemSize",scrollSeekConfiguration:"scrollSeekConfiguration",headerFooterTag:"HeaderFooterTag",data:"data",initialItemCount:"initialItemCount",initialScrollTop:"initialScrollTop",alignToBottom:"alignToBottom",useWindowScroll:"useWindowScroll",customScrollParent:"customScrollParent",scrollerRef:"scrollerRef",logLevel:"logLevel",horizontalDirection:"horizontalDirection",skipAnimationFrameInResizeObserver:"skipAnimationFrameInResizeObserver"},methods:{scrollToIndex:"scrollToIndex",scrollIntoView:"scrollIntoView",scrollTo:"scrollTo",scrollBy:"scrollBy",autoscrollToBottom:"autoscrollToBottom",getState:"getState"},events:{isScrolling:"isScrolling",endReached:"endReached",startReached:"startReached",rangeChanged:"rangeChanged",atBottomStateChange:"atBottomStateChange",atTopStateChange:"atTopStateChange",totalListHeightChanged:"totalListHeightChanged",itemsRendered:"itemsRendered",groupIndices:"groupIndices"}},BU),HU=uT({usePublisher:pi,useEmitterValue:ut,useEmitter:Wm}),zU=cT({usePublisher:pi,useEmitterValue:ut,useEmitter:Wm}),UU=qU,j_={items:[],offsetBottom:0,offsetTop:0,top:0,bottom:0,itemHeight:0,itemWidth:0},WU={items:[{index:0}],offsetBottom:0,offsetTop:0,top:0,bottom:0,itemHeight:0,itemWidth:0},{round:P_,ceil:L_,floor:_d,min:Mh,max:Bu}=Math;function GU(t){return{...WU,items:t}}function F_(t,e,r){return Array.from({length:e-t+1}).map((n,i)=>{const a=r===null?null:r[i+t];return{index:i+t,data:a}})}function YU(t,e){return t&&t.column===e.column&&t.row===e.row}function Sf(t,e){return t&&t.width===e.width&&t.height===e.height}const KU=Kt(([{overscan:t,visibleRange:e,listBoundary:r,increaseViewportBy:n},{scrollTop:i,viewportHeight:a,scrollBy:o,scrollTo:s,smoothScrollTargetReached:l,scrollContainerState:u,footerHeight:c,headerHeight:f},d,p,{propsReady:v,didMount:h},{windowViewportRect:g,useWindowScroll:y,customScrollParent:m,windowScrollContainerState:_,windowScrollTo:b},S])=>{const O=Ae(0),x=Ae(0),E=Ae(j_),A=Ae({height:0,width:0}),C=Ae({height:0,width:0}),k=At(),w=At(),I=Ae(0),L=Ae(null),P=Ae({row:0,column:0}),V=At(),$=At(),U=Ae(!1),M=Ae(0),R=Ae(!0),F=Ae(!1),N=Ae(!1);zt(xe(h,yt(M),tt(([H,Y])=>!!Y)),()=>{gt(R,!1)}),zt(xe(an(h,R,C,A,M,F),tt(([H,Y,K,ie,,te])=>H&&!Y&&K.height!==0&&ie.height!==0&&!te)),([,,,,H])=>{gt(F,!0),qm(1,()=>{gt(k,H)}),pa(xe(i),()=>{gt(r,[0,0]),gt(R,!0)})}),We(xe($,tt(H=>H!=null&&H.scrollTop>0),ea(0)),x),zt(xe(h,yt($),tt(([,H])=>H!=null)),([,H])=>{H&&(gt(A,H.viewport),gt(C,H==null?void 0:H.item),gt(P,H.gap),H.scrollTop>0&&(gt(U,!0),pa(xe(i,Sl(1)),Y=>{gt(U,!1)}),gt(s,{top:H.scrollTop})))}),We(xe(A,Ve(({height:H})=>H)),a),We(xe(an(et(A,Sf),et(C,Sf),et(P,(H,Y)=>H&&H.column===Y.column&&H.row===Y.row),et(i)),Ve(([H,Y,K,ie])=>({viewport:H,item:Y,gap:K,scrollTop:ie}))),V),We(xe(an(et(O),e,et(P,YU),et(C,Sf),et(A,Sf),et(L),et(x),et(U),et(R),et(M)),tt(([,,,,,,,H])=>!H),Ve(([H,[Y,K],ie,te,se,ue,fe,,de,Se])=>{const{row:J,column:re}=ie,{height:ce,width:ve}=te,{width:ee}=se;if(fe===0&&(H===0||ee===0))return j_;if(ve===0){const Be=Hm(Se,H),Ne=Math.max(Be+fe-1,0);return GU(F_(Be,Ne,ue))}const me=fT(ee,ve,re);let Oe,we;de?Y===0&&K===0&&fe>0?(Oe=0,we=fe-1):(Oe=me*_d((Y+J)/(ce+J)),we=me*L_((K+J)/(ce+J))-1,we=Mh(H-1,Bu(we,me-1)),Oe=Mh(we,Bu(0,Oe))):(Oe=0,we=-1);const Je=F_(Oe,we,ue),{top:at,bottom:le}=R_(se,ie,te,Je),ge=L_(H/me),Pe=ge*ce+(ge-1)*J-le;return{items:Je,offsetTop:at,offsetBottom:Pe,top:at,bottom:le,itemHeight:ce,itemWidth:ve}})),E),We(xe(L,tt(H=>H!==null),Ve(H=>H.length)),O),We(xe(an(A,C,E,P),tt(([H,Y,{items:K}])=>K.length>0&&Y.height!==0&&H.height!==0),Ve(([H,Y,{items:K},ie])=>{const{top:te,bottom:se}=R_(H,ie,Y,K);return[te,se]}),wr(tc)),r);const B=Ae(!1);We(xe(i,yt(B),Ve(([H,Y])=>Y||H!==0)),B);const q=Qn(xe(et(E),tt(({items:H})=>H.length>0),yt(O,B),tt(([{items:H},Y,K])=>K&&H[H.length-1].index===Y-1),Ve(([,H])=>H-1),wr())),W=Qn(xe(et(E),tt(({items:H})=>H.length>0&&H[0].index===0),ea(0),wr())),D=Qn(xe(et(E),yt(U),tt(([{items:H},Y])=>H.length>0&&!Y),Ve(([{items:H}])=>({startIndex:H[0].index,endIndex:H[H.length-1].index})),wr(XC),so(0)));We(D,p.scrollSeekRangeChanged),We(xe(k,yt(A,C,O,P),Ve(([H,Y,K,ie,te])=>{const se=JC(H),{align:ue,behavior:fe,offset:de}=se;let Se=se.index;Se==="LAST"&&(Se=ie-1),Se=Bu(0,Se,Mh(ie-1,Se));let J=zv(Y,te,K,Se);return ue==="end"?J=P_(J-Y.height+K.height):ue==="center"&&(J=P_(J-Y.height/2+K.height/2)),de&&(J+=de),{top:J,behavior:fe}})),s);const G=In(xe(E,Ve(H=>H.offsetBottom+H.bottom)),0);return We(xe(g,Ve(H=>({width:H.visibleWidth,height:H.visibleHeight}))),A),{data:L,totalCount:O,viewportDimensions:A,itemDimensions:C,scrollTop:i,scrollHeight:w,overscan:t,increaseViewportBy:n,scrollBy:o,scrollTo:s,scrollToIndex:k,smoothScrollTargetReached:l,windowViewportRect:g,windowScrollTo:b,useWindowScroll:y,customScrollParent:m,windowScrollContainerState:_,deviation:I,scrollContainerState:u,footerHeight:c,headerHeight:f,initialItemCount:x,gap:P,restoreStateFrom:$,...p,initialTopMostItemIndex:M,horizontalDirection:N,gridState:E,totalListHeight:G,...d,startReached:W,endReached:q,rangeChanged:D,stateChanged:V,propsReady:v,stateRestoreInProgress:U,...S}},Er(zm,$n,Ec,eT,Ao,Um,Io));function R_(t,e,r,n){const{height:i}=r;if(i===void 0||n.length===0)return{top:0,bottom:0};const a=zv(t,e,r,n[0].index),o=zv(t,e,r,n[n.length-1].index)+i;return{top:a,bottom:o}}function zv(t,e,r,n){const i=fT(t.width,r.width,e.column),a=_d(n/i),o=a*r.height+Bu(0,a-1)*e.row;return o>0?o+e.row:o}function fT(t,e,r){return Bu(1,_d((t+r)/(_d(e)+r)))}const JU=Kt(()=>{const t=Ae(f=>"Item ".concat(f)),e=Ae({}),r=Ae(null),n=Ae("virtuoso-grid-item"),i=Ae("virtuoso-grid-list"),a=Ae(sT),o=Ae("div"),s=Ae(zl),l=(f,d=null)=>In(xe(e,Ve(p=>p[f]),wr()),d),u=Ae(!1),c=Ae(!1);return We(et(c),u),{readyStateChanged:u,reportReadyState:c,context:r,itemContent:t,components:e,computeItemKey:a,itemClassName:n,listClassName:i,headerFooterTag:o,scrollerRef:s,FooterComponent:l("Footer"),HeaderComponent:l("Header"),ListComponent:l("List","div"),ItemComponent:l("Item","div"),ScrollerComponent:l("Scroller","div"),ScrollSeekPlaceholder:l("ScrollSeekPlaceholder","div")}}),QU=Kt(([t,e])=>({...t,...e}),Er(KU,JU)),XU=j.memo(function(){const e=Tr("gridState"),r=Tr("listClassName"),n=Tr("itemClassName"),i=Tr("itemContent"),a=Tr("computeItemKey"),o=Tr("isSeeking"),s=hi("scrollHeight"),l=Tr("ItemComponent"),u=Tr("ListComponent"),c=Tr("ScrollSeekPlaceholder"),f=Tr("context"),d=hi("itemDimensions"),p=hi("gap"),v=Tr("log"),h=Tr("stateRestoreInProgress"),g=hi("reportReadyState"),y=ds(j.useMemo(()=>m=>{const _=m.parentElement.parentElement.scrollHeight;s(_);const b=m.firstChild;if(b){const{width:S,height:O}=b.getBoundingClientRect();d({width:S,height:O})}p({row:$_("row-gap",getComputedStyle(m).rowGap,v),column:$_("column-gap",getComputedStyle(m).columnGap,v)})},[s,d,p,v]),!0,!1);return MC(()=>{e.itemHeight>0&&e.itemWidth>0&&g(!0)},[e]),h?null:T.jsx(u,{ref:y,className:r,...Tn(u,f),style:{paddingTop:e.offsetTop,paddingBottom:e.offsetBottom},"data-testid":"virtuoso-item-list",children:e.items.map(m=>{const _=a(m.index,m.data,f);return o?T.jsx(c,{...Tn(c,f),index:m.index,height:e.itemHeight,width:e.itemWidth},_):X.createElement(l,{...Tn(l,f),className:n,"data-index":m.index,key:_},i(m.index,m.data,f))})})}),ZU=j.memo(function(){const e=Tr("HeaderComponent"),r=hi("headerHeight"),n=Tr("headerFooterTag"),i=ds(j.useMemo(()=>o=>r(bo(o,"height")),[r]),!0,!1),a=Tr("context");return e?T.jsx(n,{ref:i,children:T.jsx(e,{...Tn(e,a)})}):null}),e9=j.memo(function(){const e=Tr("FooterComponent"),r=hi("footerHeight"),n=Tr("headerFooterTag"),i=ds(j.useMemo(()=>o=>r(bo(o,"height")),[r]),!0,!1),a=Tr("context");return e?T.jsx(n,{ref:i,children:T.jsx(e,{...Tn(e,a)})}):null}),t9=({children:t})=>{const e=j.useContext(oT),r=hi("itemDimensions"),n=hi("viewportDimensions"),i=ds(j.useMemo(()=>a=>{n(a.getBoundingClientRect())},[n]),!0,!1);return j.useEffect(()=>{e&&(n({height:e.viewportHeight,width:e.viewportWidth}),r({height:e.itemHeight,width:e.itemWidth}))},[e,n,r]),T.jsx("div",{style:bp(!1),ref:i,children:t})},r9=({children:t})=>{const e=j.useContext(oT),r=hi("windowViewportRect"),n=hi("itemDimensions"),i=Tr("customScrollParent"),a=iT(r,i,!1);return j.useEffect(()=>{e&&(n({height:e.itemHeight,width:e.itemWidth}),r({offsetTop:0,visibleHeight:e.viewportHeight,visibleWidth:e.viewportWidth}))},[e,r,n]),T.jsx("div",{ref:a,style:bp(!1),children:t})},n9=j.memo(function({...e}){const r=Tr("useWindowScroll"),n=Tr("customScrollParent"),i=n||r?a9:i9,a=n||r?r9:t9;return T.jsx(i,{...e,children:T.jsxs(a,{children:[T.jsx(ZU,{}),T.jsx(XU,{}),T.jsx(e9,{})]})})}),{Component:cOe,usePublisher:hi,useEmitterValue:Tr,useEmitter:dT}=DC(QU,{optional:{context:"context",totalCount:"totalCount",overscan:"overscan",itemContent:"itemContent",components:"components",computeItemKey:"computeItemKey",data:"data",initialItemCount:"initialItemCount",scrollSeekConfiguration:"scrollSeekConfiguration",headerFooterTag:"headerFooterTag",listClassName:"listClassName",itemClassName:"itemClassName",useWindowScroll:"useWindowScroll",customScrollParent:"customScrollParent",scrollerRef:"scrollerRef",logLevel:"logLevel",restoreStateFrom:"restoreStateFrom",initialTopMostItemIndex:"initialTopMostItemIndex",increaseViewportBy:"increaseViewportBy"},methods:{scrollTo:"scrollTo",scrollBy:"scrollBy",scrollToIndex:"scrollToIndex"},events:{isScrolling:"isScrolling",endReached:"endReached",startReached:"startReached",rangeChanged:"rangeChanged",atBottomStateChange:"atBottomStateChange",atTopStateChange:"atTopStateChange",stateChanged:"stateChanged",readyStateChanged:"readyStateChanged"}},n9),i9=uT({usePublisher:hi,useEmitterValue:Tr,useEmitter:dT}),a9=cT({usePublisher:hi,useEmitterValue:Tr,useEmitter:dT});function $_(t,e,r){return e!=="normal"&&!(e!=null&&e.endsWith("px"))&&r("".concat(t," was not resolved to pixel value correctly"),e,Xn.WARN),e==="normal"?0:parseInt(e!=null?e:"0",10)}function o9(t){const[e,r]=X.useState(!1),[n,i]=X.useState(!1),a=50,o=(u,c)=>{if(!u||!t.current)return;const f=t.current.getBoundingClientRect(),d=f.left+c,p=f.right+c;if(!(u.x>=d&&u.x<=p&&u.y>=f.top&&u.y<=f.bottom)){r(!1),i(!1);return}const h=u.y-f.top,g=f.bottom-u.y;r(h<=a),i(g<=a)},{isDragging:s,currentOffset:l}=x2(u=>({isDragging:u.isDragging(),currentOffset:u.getClientOffset()}));return X.useEffect(()=>{const u=window.innerWidth;let c;u>=1200?c=450:(u>=768,c=400),s?o(l,c):(r(!1),i(!1))},[s,l]),{isNearTop:e,isNearBottom:n}}function s9({onMainLang:t},e){const{t:r}=as(["design","run"]),n=Vr();_t();const i=ye(h=>{var g;return((g=h.designState.Survey)==null?void 0:g.children)||[]}),a=ye(h=>{var g,y;return(y=(g=h.designState.Survey)==null?void 0:g.resources)==null?void 0:y.headerImage}),o=ye(h=>{var g,y;return(y=(g=h.designState.Survey)==null?void 0:g.resources)==null?void 0:y.backgroundImage}),s=!i.length,l=X.useMemo(()=>{let h=!1;return i==null||i.forEach(g=>{var y;((g==null?void 0:g.type)==="welcome"||((y=g.groupType)==null?void 0:y.toLowerCase())==="welcome")&&(h=!0)}),h},[i]),u=X.useMemo(()=>{var g;const h=[];a&&h.push({name:ka.IMAGE}),l||h.push({name:ka.DROP_AREA,index:0});for(let y=0;y<i.length;y++)h.push({name:ka.GROUP,group:i[y],index:y}),i[y].type!=="end"&&((g=i[y].groupType)==null?void 0:g.toLowerCase())!=="end"&&h.push({name:ka.DROP_AREA,group:i[y],index:y+1});return h.push({name:ka.FOOTER}),h},[i,r,a]),c=X.useRef(null),f=X.useRef(null),{isNearBottom:d,isNearTop:p}=o9(f);X.useEffect(()=>{let h;const g=()=>{c.current&&(d?c.current.scrollBy({top:6,behavior:"auto"}):p&&c.current.scrollBy({top:-6,behavior:"auto"}),h=requestAnimationFrame(g))};return(p||d)&&(h=requestAnimationFrame(g)),()=>{h&&cancelAnimationFrame(h)}},[p,d]);const v=o?{backgroundImage:"url(".concat(yo(o),")"),backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"}:{};return T.jsx(ht,{ref:e,className:"content-panel ".concat(mu.contentPanel),sx:{backgroundColor:"background.default",color:"text.primary"},style:{fontFamily:n.textStyles.text.font,color:n.textStyles.text.color,fontSize:n.textStyles.text.size},children:T.jsx(ht,{ref:f,width:"100%",height:"100%",children:T.jsx(UU,{ref:c,data:u,style:v,className:mu.virtuosoStyle,itemContent:(h,g)=>{switch(g.name){case ka.IMAGE:return T.jsxs(ht,{className:mu.cardMediaContent,children:[T.jsx(XR,{className:mu.cardImage,component:"img",image:yo(a),height:"140"}),t&&T.jsx(em,{code:"Survey"})]});case ka.DROP_AREA:return T.jsx(kz,{emptySurvey:s,t:r,index:g.index,groupsCount:i.length});case ka.GROUP:return T.jsx(Rz,{t:r,code:g.group.code,index:g.index});case ka.FOOTER:return T.jsx("div",{className:mu.footer})}}})})})}const l9=j.forwardRef(s9),ka={IMAGE:"IMAGE",GROUP:"GROUP",DROP_AREA:"DROP_AREA",FOOTER:"FOOTER"},u9="_box_yj2jt_1",c9="_boxHasSetup_yj2jt_7",N_={box:u9,boxHasSetup:c9};function f9({t}){const e=ye(i=>{var a;return((a=i.designState)==null?void 0:a.setup)||{}},lE),r=ma(),n=Object.keys(e).length>0;return T.jsx(ht,{className:"".concat(N_.box," ").concat(n?"":N_.boxHasSetup),style:{transition:r.transitions.create("transform",{easing:r.transitions.easing.sharp,duration:300}),transform:n?"translateX(-100%)":"translateX(0)"},timeout:300,children:!n&&T.jsx(uR,{t})})}const d9=j.memo(f9);function p9({label:t,rule:e,defaultValue:r,code:n,lowerBound:i,upperBound:a}){const o=_t(),s=ye(c=>c.designState[n][e]||r),l=c=>{o(Gn({code:n,key:e,value:Math.max(i,Math.min(a,c.target.value))}))},u=s<i||s>a;return T.jsxs(T.Fragment,{children:[T.jsxs("h4",{children:[t,":"]}),T.jsx(Xt,{label:t,error:u,variant:"outlined",type:"number",size:"small",style:{maxWidth:"200px"},value:s,onChange:c=>l(c)})]})}const Of=j.memo(p9),h9="_showHint_9iocv_1",v9="_inputValue_9iocv_9",pT={showHint:h9,inputValue:v9};function g9({code:t,t:e}){const r=_t(),n=ye(a=>a.designState[t].showHint||!1),i=a=>{r(Gn({code:t,key:"showHint",value:a}))};return T.jsxs(T.Fragment,{children:[T.jsxs("div",{className:pT.showHint,children:[T.jsx("h4",{children:e("show_question_hint")}),T.jsx(ls,{checked:n,onChange:a=>i(a.target.checked)})]}),n&&T.jsx(Uv,{code:t,objectName:"hint"})]})}function Uv({code:t,objectName:e,title:r}){const n=_t(),i=(s,l)=>{n(Co({code:t,key:e,lang:s,value:l}))},a=ye(s=>s.designState.langInfo.languagesList),o=ye(s=>{var l;return(l=s.designState[t].content)==null?void 0:l[e]});return T.jsxs(T.Fragment,{children:[r&&T.jsx("h4",{children:r}),a.map(s=>T.jsx("div",{className:pT.inputValue,children:T.jsx(Xt,{label:s.name,variant:"standard",type:"text",value:(o==null?void 0:o[s.code])||"",onChange:l=>i(s.code,l.target.value)})},s.code))]})}const m9="_boxContainer_182us_1",y9="_mt10_182us_10",b9="_uppercase_182us_14",_9="_title_182us_18",D_={boxContainer:m9,mt10:y9,uppercase:b9,title:_9},S9="_boxContainer_1vhs4_1",O9="_mt10_1vhs4_9",x9="_uppercase_1vhs4_13",w9="_title_1vhs4_18",E9="_titleContent_1vhs4_28",C9="_standardError_1vhs4_33",T9="_errorWrapper_1vhs4_44",k9="_errorLabelWrapper_1vhs4_48",I9="_errorItem_1vhs4_52",A9="_errorItemContainer_1vhs4_58",Un={boxContainer:S9,mt10:O9,uppercase:x9,title:w9,titleContent:E9,standardError:C9,errorWrapper:T9,errorLabelWrapper:k9,errorItem:I9,errorItemContainer:A9};function j9({validationRule:t,code:e,rule:r,t:n}){const i=_t(),a=t.isCustomErrorActive||!1,o=ye(f=>f.designState.langInfo.languagesList);let s=t.content||{};const l=f=>{i(od({code:e,rule:r,key:"isCustomErrorActive",value:f}))},u=(f,d)=>{const p={...s,[f]:d};i(od({code:e,rule:r,key:"content",value:p}))},c={inputProps:{"aria-label":"Switch validation"}};return T.jsxs(T.Fragment,{children:[T.jsx("h4",{children:n("standard_error")}),T.jsxs("div",{className:Un.errorWrapper,children:[T.jsx("div",{className:Un.errorLabelWrapper,children:o.map(f=>T.jsxs("div",{className:"".concat(Un.errorItem," ").concat(Un.uppercase),children:[f.code,":"]},f.code))}),T.jsx("div",{children:o.map(f=>T.jsx("div",{className:Un.errorItem,children:n(r,{ns:"run",lng:f.code,...t})},f.code))})]}),T.jsxs("div",{className:Un.title,children:[T.jsx("h4",{className:Un.mt10,children:n("custom_error")}),T.jsx(ls,{...c,checked:a,onChange:f=>l(f.target.checked)})]}),a?T.jsxs("div",{className:Un.errorWrapper,children:[T.jsx("div",{className:Un.errorLabelWrapper,children:o.map(f=>T.jsxs("div",{className:"".concat(Un.errorItem," ").concat(Un.uppercase),children:[f.code,":"]},f.code))}),T.jsx("div",{className:Un.errorItemContainer,children:o.map(f=>T.jsx("div",{className:Un.errorItem,children:T.jsx(Xt,{size:"small",variant:"standard",value:s[f.code]||"",onChange:d=>u(f.code,d.target.value)})},f.code))})]}):""]})}const P9="_valueValidationItems_1hupk_1",L9="_valueValidationItemsContainer_1hupk_6",F9="_error_1hupk_11",M_={valueValidationItems:P9,valueValidationItemsContainer:L9,error:F9};function R9({value:t,onValueChanged:e}){const{t:r}=as("design"),n=i=>{let a=[...t];i.target.checked?a.push(i.target.name):a=t.filter(o=>o!=i.target.name),e(a)};return T.jsxs(Fr,{children:[T.jsx(vE,{id:"file-type-label",children:r("file_type")}),T.jsx(Pa,{control:T.jsx(ji,{checked:t.indexOf("presentation")>-1,onChange:n,name:"presentation"}),label:r("file_types.presentation")}),T.jsx(Pa,{control:T.jsx(ji,{checked:t.indexOf("document")>-1,onChange:n,name:"document"}),label:r("file_types.document")}),T.jsx(Pa,{control:T.jsx(ji,{checked:t.indexOf("spreadsheet")>-1,onChange:n,name:"spreadsheet"}),label:r("file_types.spreadsheet")}),T.jsx(Pa,{control:T.jsx(ji,{checked:t.indexOf("pdf")>-1,onChange:n,name:"pdf"}),label:r("file_types.pdf")}),T.jsx(Pa,{control:T.jsx(ji,{checked:t.indexOf("image")>-1,onChange:n,name:"image"}),label:r("file_types.image")}),T.jsx(Pa,{control:T.jsx(ji,{checked:t.indexOf("video")>-1,onChange:n,name:"video"}),label:r("file_types.video")}),T.jsx(Pa,{control:T.jsx(ji,{checked:t.indexOf("audio")>-1,onChange:n,name:"audio"}),label:r("file_types.audio")})]})}const $9=j.memo(R9);function N9({code:t,validation:e,rule:r,t:n}){const i=ye(f=>{var d;return((d=f.designState[t].children)==null?void 0:d.length)||0}),a=j.useMemo(()=>{switch(r){case"validation_min_char_length":return[1,Number.MAX_VALUE];case"validation_max_file_size":return[1,Number.MAX_VALUE];case"validation_max_char_length":return[1,Number.MAX_VALUE];case"validation_max_word_count":return[1,Number.MAX_VALUE];case"validation_min_word_count":return[1,Number.MAX_VALUE];case"validation_min_ranking_count":case"validation_min_option_count":case"validation_max_ranking_count":case"validation_max_option_count":case"validation_ranking_count":case"validation_option_count":return[1,i];default:return}},[i]),o=_t(),s=(f,d)=>{o(od({rule:r,code:t,key:f,value:d}))},l=(f,d)=>{s(f,typeof a>"u"?d:Math.max(a[0],Math.min(a[1],d)))};let u=D9(e);const c=r!="validation_required"&&r!="validation_one_response_per_col"&&r!="validation_pattern_email"&&r!="validation_file_types";return T.jsxs("div",{className:M_.valueValidationItemsContainer,children:[u&&c&&T.jsx("div",{children:n(r+"_subtitle")}),T.jsx("div",{className:M_.valueValidationItems,children:r=="validation_file_types"?T.jsx($9,{value:e.fileTypes,onValueChanged:f=>l("fileTypes",f)}):u.map(f=>{const d=typeof a<"u"&&(e[f]<a[0]||e[f]>a[1]);return T.jsx(Xt,{error:d,value:e[f],variant:"outlined",size:"small",type:typeof e[f]=="number"?"number":"text",onChange:p=>l(f,typeof e[f]=="number"?parseInt(p.target.value):p.target.value),style:{maxWidth:"150px",marginLeft:"8px"}},f)})})]})}const D9=t=>Object.keys(t).filter(e=>!["content","isActive","isCustomErrorActive","bounds","fileTypes"].includes(e));function M9({rule:t,t:e,code:r}){console.debug("ValidationSetupItem: "+r);const n=_t(),i=ye(l=>{var u,c;return(c=(u=l.designState[r])==null?void 0:u.validation)==null?void 0:c[t]}),a={inputProps:{"aria-label":"Switch validation"}},o=(i==null?void 0:i.isActive)||!1,s=l=>{n(od({code:r,rule:t,key:"isActive",value:l}))};return T.jsxs("div",{children:[T.jsxs("div",{className:D_.title,children:[T.jsx("h4",{children:e(t+"_title")}),T.jsx(ls,{...a,checked:o,onChange:l=>s(l.target.checked)})]}),o&&T.jsxs(ht,{className:D_.boxContainer,children:[T.jsx(N9,{code:r,validation:i,rule:t,t:e}),T.jsx(j9,{code:r,validationRule:i,rule:t,t:e})]})]})}const V9=j.memo(M9),B9="_toggleValue_1d9zg_1",q9="_inputValue_1d9zg_8",H9={toggleValue:B9,inputValue:q9};function Qi({label:t,code:e,rule:r}){const n=_t(),i=ye(s=>s.designState[e][r]||!1),a=s=>{n(Gn({code:e,key:r,value:s}))},o={inputProps:{"aria-label":"Switch demo"}};return T.jsxs("div",{className:H9.toggleValue,children:[T.jsx("h4",{children:t}),T.jsx(ls,{...o,checked:i,onChange:s=>{a(s.target.checked)}})]})}const z9="_selectValue_9m4tq_1",U9={selectValue:z9};function Ps({label:t,rule:e,defaultValue:r,code:n,values:i,labels:a}){const o=_t(),s=ye(u=>{var c;return((c=u.designState[n])==null?void 0:c[e])||r}),l=u=>{o(Gn({code:n,key:e,value:u}))};return T.jsxs("div",{className:U9.selectDate,children:[T.jsx("h4",{children:t}),T.jsx(Fr,{variant:"standard",fullWidth:!0,children:T.jsx(zi,{id:"select-value",value:s,label:"Select Value",onChange:u=>{l(u.target.value)},children:i.map((u,c)=>T.jsx(Xr,{value:u,children:a?a[c]:u},u))})})]})}const W9="_selectDate_1qp3e_1",G9="_selectDateField_1qp3e_8",V_={selectDate:W9,selectDateField:G9};function B_({label:t,rule:e,code:r}){const n=_t(),i=ye(a=>a.designState[r][e]||"");return T.jsxs("div",{className:V_.selectDate,children:[T.jsx("h4",{children:t}),T.jsx(Xt,{className:V_.selectDateField,variant:"standard",value:i,type:"date",onChange:a=>{n(Gn({code:r,key:e,value:a.target.value}))}})]})}function q_(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function Y9(t){if(Array.isArray(t))return t}function K9(t,e,r){return(e=Z9(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ro(){return ro=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ro.apply(null,arguments)}function J9(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,s=[],l=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(l=(n=a.call(r)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Q9(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function H_(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Pr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?H_(Object(r),!0).forEach(function(n){K9(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):H_(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function qu(t,e){return Y9(t)||J9(t,e)||eW(t,e)||Q9()}function X9(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Z9(t){var e=X9(t,"string");return typeof e=="symbol"?e:e+""}function eW(t,e){if(t){if(typeof t=="string")return q_(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?q_(t,e):void 0}}var hT=X.createContext({confirmBase:function(){throw new Error("Missing ConfirmProvider")},closeOnParentUnmount:function(){}}),tW=function(e){var r=e.open,n=e.options,i=e.onCancel,a=e.onConfirm,o=e.onClose,s=n.title,l=n.description,u=n.content,c=n.confirmationText,f=n.cancellationText,d=n.dialogProps,p=n.dialogActionsProps,v=n.confirmationButtonProps,h=n.cancellationButtonProps,g=n.titleProps,y=n.contentProps,m=n.allowClose,_=n.confirmationKeyword,b=n.confirmationKeywordTextFieldProps,S=n.hideCancelButton,O=n.buttonOrder,x=n.acknowledgement,E=n.acknowledgementFormControlLabelProps,A=n.acknowledgementCheckboxProps,C=j.useState(""),k=qu(C,2),w=k[0],I=k[1],L=j.useState(!1),P=qu(L,2),V=P[0],$=P[1],U=!!(_&&w!==_||x&&!V),M=j.createElement(j.Fragment,null,x&&j.createElement(Pa,ro({},E,{control:j.createElement(ji,ro({},A,{value:V,onChange:function(B,q){return $(q)}})),label:x}))),R=j.createElement(j.Fragment,null,_&&j.createElement(Xt,ro({onChange:function(B){return I(B.target.value)},value:w,fullWidth:!0},b))),F=O.map(function(N){if(N==="cancel")return!S&&j.createElement(Ht,ro({key:"cancel"},h,{onClick:i}),f);if(N==="confirm")return j.createElement(Ht,ro({key:"confirm",color:"primary",disabled:U},v,{onClick:a}),c);throw new Error('Supported button types are only "confirm" and "cancel", got: '.concat(N))});return j.createElement(Kg,ro({fullWidth:!0},d,{open:r,onClose:m?o:null}),s&&j.createElement(Gg,g,s),u?j.createElement($u,y,u,R,M):l?j.createElement($u,y,j.createElement(Y$,null,l),R,M):(_||M)&&j.createElement($u,y,R,M),j.createElement(Yg,p,F))},Xi={title:"Are you sure?",description:"",content:null,confirmationText:"Ok",cancellationText:"Cancel",dialogProps:{},dialogActionsProps:{},confirmationButtonProps:{},cancellationButtonProps:{},titleProps:{},contentProps:{},allowClose:!0,confirmationKeywordTextFieldProps:{},hideCancelButton:!1,buttonOrder:["cancel","confirm"],acknowledgement:!1,acknowledgementFormControlLabelProps:{},acknowledgementCheckboxProps:{}},rW=function(e,r){var n=Pr(Pr({},e.dialogProps||Xi.dialogProps),r.dialogProps||{}),i=Pr(Pr({},e.dialogActionsProps||Xi.dialogActionsProps),r.dialogActionsProps||{}),a=Pr(Pr({},e.confirmationButtonProps||Xi.confirmationButtonProps),r.confirmationButtonProps||{}),o=Pr(Pr({},e.cancellationButtonProps||Xi.cancellationButtonProps),r.cancellationButtonProps||{}),s=Pr(Pr({},e.titleProps||Xi.titleProps),r.titleProps||{}),l=Pr(Pr({},e.contentProps||Xi.contentProps),r.contentProps||{}),u=Pr(Pr({},e.confirmationKeywordTextFieldProps||Xi.confirmationKeywordTextFieldProps),r.confirmationKeywordTextFieldProps||{}),c=Pr(Pr({},e.acknowledgementFormControlLabelProps||Xi.acknowledgementFormControlLabelProps),r.acknowledgementFormControlLabelProps||{}),f=Pr(Pr({},e.acknowledgementCheckboxProps||Xi.acknowledgementCheckboxProps),r.acknowledgementCheckboxProps||{});return Pr(Pr(Pr(Pr({},Xi),e),r),{},{dialogProps:n,dialogActionsProps:i,confirmationButtonProps:a,cancellationButtonProps:o,titleProps:s,contentProps:l,confirmationKeywordTextFieldProps:u,acknowledgementFormControlLabelProps:c,acknowledgementCheckboxProps:f})},nW=function(e){var r=e.children,n=e.defaultOptions,i=n===void 0?{}:n,a=X.useState(null),o=qu(a,2),s=o[0],l=o[1],u=X.useState({}),c=qu(u,2),f=c[0],d=c[1],p=X.useState(0),v=qu(p,2),h=v[0],g=v[1],y=X.useCallback(function(O){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new Promise(function(E,A){g(function(C){return C+1}),d(x),l({resolve:E,reject:A,parentId:O})})},[]),m=X.useCallback(function(O){l(function(x){return x&&x.parentId===O?null:x})},[]),_=X.useCallback(function(){l(null)},[]),b=X.useCallback(function(){l(function(O){return O&&O.reject(),null})},[]),S=X.useCallback(function(){l(function(O){return O&&O.resolve(),null})},[]);return X.useCallback(function(O){return y("global",O)}),j.createElement(X.Fragment,null,j.createElement(hT.Provider,{value:{confirmBase:y,closeOnParentUnmount:m}},r),j.createElement(tW,{key:h,open:s!==null,options:rW(i,f!=null?f:{}),onClose:_,onCancel:b,onConfirm:S}))},iW=0,aW=function(){var e=X.useMemo(function(){return iW++},[]);return"confirm-".concat(e)},oW=function(){var e=aW(),r=X.useContext(hT),n=r.confirmBase,i=r.closeOnParentUnmount,a=X.useCallback(function(o){return n(e,o)},[e]);return X.useEffect(function(){return function(){i(e)}},[e]),a};//! moment.js
//! version : 2.30.1
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var vT;function je(){return vT.apply(null,arguments)}function sW(t){vT=t}function Di(t){return t instanceof Array||Object.prototype.toString.call(t)==="[object Array]"}function Jo(t){return t!=null&&Object.prototype.toString.call(t)==="[object Object]"}function Nt(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Gm(t){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(t).length===0;var e;for(e in t)if(Nt(t,e))return!1;return!0}function Dn(t){return t===void 0}function Ba(t){return typeof t=="number"||Object.prototype.toString.call(t)==="[object Number]"}function Tc(t){return t instanceof Date||Object.prototype.toString.call(t)==="[object Date]"}function gT(t,e){var r=[],n,i=t.length;for(n=0;n<i;++n)r.push(e(t[n],n));return r}function lo(t,e){for(var r in e)Nt(e,r)&&(t[r]=e[r]);return Nt(e,"toString")&&(t.toString=e.toString),Nt(e,"valueOf")&&(t.valueOf=e.valueOf),t}function _a(t,e,r,n){return MT(t,e,r,n,!0).utc()}function lW(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function ct(t){return t._pf==null&&(t._pf=lW()),t._pf}var Wv;Array.prototype.some?Wv=Array.prototype.some:Wv=function(t){var e=Object(this),r=e.length>>>0,n;for(n=0;n<r;n++)if(n in e&&t.call(this,e[n],n,e))return!0;return!1};function Ym(t){var e=null,r=!1,n=t._d&&!isNaN(t._d.getTime());if(n&&(e=ct(t),r=Wv.call(e.parsedDateParts,function(i){return i!=null}),n=e.overflow<0&&!e.empty&&!e.invalidEra&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&r),t._strict&&(n=n&&e.charsLeftOver===0&&e.unusedTokens.length===0&&e.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(t))t._isValid=n;else return n;return t._isValid}function _p(t){var e=_a(NaN);return t!=null?lo(ct(e),t):ct(e).userInvalidated=!0,e}var z_=je.momentProperties=[],Vh=!1;function Km(t,e){var r,n,i,a=z_.length;if(Dn(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),Dn(e._i)||(t._i=e._i),Dn(e._f)||(t._f=e._f),Dn(e._l)||(t._l=e._l),Dn(e._strict)||(t._strict=e._strict),Dn(e._tzm)||(t._tzm=e._tzm),Dn(e._isUTC)||(t._isUTC=e._isUTC),Dn(e._offset)||(t._offset=e._offset),Dn(e._pf)||(t._pf=ct(e)),Dn(e._locale)||(t._locale=e._locale),a>0)for(r=0;r<a;r++)n=z_[r],i=e[n],Dn(i)||(t[n]=i);return t}function kc(t){Km(this,t),this._d=new Date(t._d!=null?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),Vh===!1&&(Vh=!0,je.updateOffset(this),Vh=!1)}function Mi(t){return t instanceof kc||t!=null&&t._isAMomentObject!=null}function mT(t){je.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+t)}function wi(t,e){var r=!0;return lo(function(){if(je.deprecationHandler!=null&&je.deprecationHandler(null,t),r){var n=[],i,a,o,s=arguments.length;for(a=0;a<s;a++){if(i="",typeof arguments[a]=="object"){i+="\n["+a+"] ";for(o in arguments[0])Nt(arguments[0],o)&&(i+=o+": "+arguments[0][o]+", ");i=i.slice(0,-2)}else i=arguments[a];n.push(i)}mT(t+"\nArguments: "+Array.prototype.slice.call(n).join("")+"\n"+new Error().stack),r=!1}return e.apply(this,arguments)},e)}var U_={};function yT(t,e){je.deprecationHandler!=null&&je.deprecationHandler(t,e),U_[t]||(mT(e),U_[t]=!0)}je.suppressDeprecationWarnings=!1;je.deprecationHandler=null;function Sa(t){return typeof Function<"u"&&t instanceof Function||Object.prototype.toString.call(t)==="[object Function]"}function uW(t){var e,r;for(r in t)Nt(t,r)&&(e=t[r],Sa(e)?this[r]=e:this["_"+r]=e);this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function Gv(t,e){var r=lo({},t),n;for(n in e)Nt(e,n)&&(Jo(t[n])&&Jo(e[n])?(r[n]={},lo(r[n],t[n]),lo(r[n],e[n])):e[n]!=null?r[n]=e[n]:delete r[n]);for(n in t)Nt(t,n)&&!Nt(e,n)&&Jo(t[n])&&(r[n]=lo({},r[n]));return r}function Jm(t){t!=null&&this.set(t)}var Yv;Object.keys?Yv=Object.keys:Yv=function(t){var e,r=[];for(e in t)Nt(t,e)&&r.push(e);return r};var cW={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function fW(t,e,r){var n=this._calendar[t]||this._calendar.sameElse;return Sa(n)?n.call(e,r):n}function ha(t,e,r){var n=""+Math.abs(t),i=e-n.length,a=t>=0;return(a?r?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+n}var Qm=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,xf=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Bh={},vl={};function Ye(t,e,r,n){var i=n;typeof n=="string"&&(i=function(){return this[n]()}),t&&(vl[t]=i),e&&(vl[e[0]]=function(){return ha(i.apply(this,arguments),e[1],e[2])}),r&&(vl[r]=function(){return this.localeData().ordinal(i.apply(this,arguments),t)})}function dW(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function pW(t){var e=t.match(Qm),r,n;for(r=0,n=e.length;r<n;r++)vl[e[r]]?e[r]=vl[e[r]]:e[r]=dW(e[r]);return function(i){var a="",o;for(o=0;o<n;o++)a+=Sa(e[o])?e[o].call(i,t):e[o];return a}}function Xf(t,e){return t.isValid()?(e=bT(e,t.localeData()),Bh[e]=Bh[e]||pW(e),Bh[e](t)):t.localeData().invalidDate()}function bT(t,e){var r=5;function n(i){return e.longDateFormat(i)||i}for(xf.lastIndex=0;r>=0&&xf.test(t);)t=t.replace(xf,n),xf.lastIndex=0,r-=1;return t}var hW={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function vW(t){var e=this._longDateFormat[t],r=this._longDateFormat[t.toUpperCase()];return e||!r?e:(this._longDateFormat[t]=r.match(Qm).map(function(n){return n==="MMMM"||n==="MM"||n==="DD"||n==="dddd"?n.slice(1):n}).join(""),this._longDateFormat[t])}var gW="Invalid date";function mW(){return this._invalidDate}var yW="%d",bW=/\d{1,2}/;function _W(t){return this._ordinal.replace("%d",t)}var SW={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function OW(t,e,r,n){var i=this._relativeTime[r];return Sa(i)?i(t,e,r,n):i.replace(/%d/i,t)}function xW(t,e){var r=this._relativeTime[t>0?"future":"past"];return Sa(r)?r(e):r.replace(/%s/i,e)}var W_={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function Ei(t){return typeof t=="string"?W_[t]||W_[t.toLowerCase()]:void 0}function Xm(t){var e={},r,n;for(n in t)Nt(t,n)&&(r=Ei(n),r&&(e[r]=t[n]));return e}var wW={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function EW(t){var e=[],r;for(r in t)Nt(t,r)&&e.push({unit:r,priority:wW[r]});return e.sort(function(n,i){return n.priority-i.priority}),e}var _T=/\d/,ri=/\d\d/,ST=/\d{3}/,Zm=/\d{4}/,Sp=/[+-]?\d{6}/,br=/\d\d?/,OT=/\d\d\d\d?/,xT=/\d\d\d\d\d\d?/,Op=/\d{1,3}/,ey=/\d{1,4}/,xp=/[+-]?\d{1,6}/,Ul=/\d+/,wp=/[+-]?\d+/,CW=/Z|[+-]\d\d:?\d\d/gi,Ep=/Z|[+-]\d\d(?::?\d\d)?/gi,TW=/[+-]?\d+(\.\d{1,3})?/,Ic=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Wl=/^[1-9]\d?/,ty=/^([1-9]\d|\d)/,Sd;Sd={};function $e(t,e,r){Sd[t]=Sa(e)?e:function(n,i){return n&&r?r:e}}function kW(t,e){return Nt(Sd,t)?Sd[t](e._strict,e._locale):new RegExp(IW(t))}function IW(t){return Ma(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,r,n,i,a){return r||n||i||a}))}function Ma(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function li(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function xt(t){var e=+t,r=0;return e!==0&&isFinite(e)&&(r=li(e)),r}var Kv={};function er(t,e){var r,n=e,i;for(typeof t=="string"&&(t=[t]),Ba(e)&&(n=function(a,o){o[e]=xt(a)}),i=t.length,r=0;r<i;r++)Kv[t[r]]=n}function Ac(t,e){er(t,function(r,n,i,a){i._w=i._w||{},e(r,i._w,i,a)})}function AW(t,e,r){e!=null&&Nt(Kv,t)&&Kv[t](e,r._a,r,t)}function Cp(t){return t%4===0&&t%100!==0||t%400===0}var mn=0,Na=1,aa=2,Zr=3,Fi=4,Da=5,Uo=6,jW=7,PW=8;Ye("Y",0,0,function(){var t=this.year();return t<=9999?ha(t,4):"+"+t});Ye(0,["YY",2],0,function(){return this.year()%100});Ye(0,["YYYY",4],0,"year");Ye(0,["YYYYY",5],0,"year");Ye(0,["YYYYYY",6,!0],0,"year");$e("Y",wp);$e("YY",br,ri);$e("YYYY",ey,Zm);$e("YYYYY",xp,Sp);$e("YYYYYY",xp,Sp);er(["YYYYY","YYYYYY"],mn);er("YYYY",function(t,e){e[mn]=t.length===2?je.parseTwoDigitYear(t):xt(t)});er("YY",function(t,e){e[mn]=je.parseTwoDigitYear(t)});er("Y",function(t,e){e[mn]=parseInt(t,10)});function Hu(t){return Cp(t)?366:365}je.parseTwoDigitYear=function(t){return xt(t)+(xt(t)>68?1900:2e3)};var wT=Gl("FullYear",!0);function LW(){return Cp(this.year())}function Gl(t,e){return function(r){return r!=null?(ET(this,t,r),je.updateOffset(this,e),this):rc(this,t)}}function rc(t,e){if(!t.isValid())return NaN;var r=t._d,n=t._isUTC;switch(e){case"Milliseconds":return n?r.getUTCMilliseconds():r.getMilliseconds();case"Seconds":return n?r.getUTCSeconds():r.getSeconds();case"Minutes":return n?r.getUTCMinutes():r.getMinutes();case"Hours":return n?r.getUTCHours():r.getHours();case"Date":return n?r.getUTCDate():r.getDate();case"Day":return n?r.getUTCDay():r.getDay();case"Month":return n?r.getUTCMonth():r.getMonth();case"FullYear":return n?r.getUTCFullYear():r.getFullYear();default:return NaN}}function ET(t,e,r){var n,i,a,o,s;if(!(!t.isValid()||isNaN(r))){switch(n=t._d,i=t._isUTC,e){case"Milliseconds":return void(i?n.setUTCMilliseconds(r):n.setMilliseconds(r));case"Seconds":return void(i?n.setUTCSeconds(r):n.setSeconds(r));case"Minutes":return void(i?n.setUTCMinutes(r):n.setMinutes(r));case"Hours":return void(i?n.setUTCHours(r):n.setHours(r));case"Date":return void(i?n.setUTCDate(r):n.setDate(r));case"FullYear":break;default:return}a=r,o=t.month(),s=t.date(),s=s===29&&o===1&&!Cp(a)?28:s,i?n.setUTCFullYear(a,o,s):n.setFullYear(a,o,s)}}function FW(t){return t=Ei(t),Sa(this[t])?this[t]():this}function RW(t,e){if(typeof t=="object"){t=Xm(t);var r=EW(t),n,i=r.length;for(n=0;n<i;n++)this[r[n].unit](t[r[n].unit])}else if(t=Ei(t),Sa(this[t]))return this[t](e);return this}function $W(t,e){return(t%e+e)%e}var $r;Array.prototype.indexOf?$r=Array.prototype.indexOf:$r=function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1};function ry(t,e){if(isNaN(t)||isNaN(e))return NaN;var r=$W(e,12);return t+=(e-r)/12,r===1?Cp(t)?29:28:31-r%7%2}Ye("M",["MM",2],"Mo",function(){return this.month()+1});Ye("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)});Ye("MMMM",0,0,function(t){return this.localeData().months(this,t)});$e("M",br,Wl);$e("MM",br,ri);$e("MMM",function(t,e){return e.monthsShortRegex(t)});$e("MMMM",function(t,e){return e.monthsRegex(t)});er(["M","MM"],function(t,e){e[Na]=xt(t)-1});er(["MMM","MMMM"],function(t,e,r,n){var i=r._locale.monthsParse(t,n,r._strict);i!=null?e[Na]=i:ct(r).invalidMonth=t});var NW="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),CT="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),TT=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,DW=Ic,MW=Ic;function VW(t,e){return t?Di(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||TT).test(e)?"format":"standalone"][t.month()]:Di(this._months)?this._months:this._months.standalone}function BW(t,e){return t?Di(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[TT.test(e)?"format":"standalone"][t.month()]:Di(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function qW(t,e,r){var n,i,a,o=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],n=0;n<12;++n)a=_a([2e3,n]),this._shortMonthsParse[n]=this.monthsShort(a,"").toLocaleLowerCase(),this._longMonthsParse[n]=this.months(a,"").toLocaleLowerCase();return r?e==="MMM"?(i=$r.call(this._shortMonthsParse,o),i!==-1?i:null):(i=$r.call(this._longMonthsParse,o),i!==-1?i:null):e==="MMM"?(i=$r.call(this._shortMonthsParse,o),i!==-1?i:(i=$r.call(this._longMonthsParse,o),i!==-1?i:null)):(i=$r.call(this._longMonthsParse,o),i!==-1?i:(i=$r.call(this._shortMonthsParse,o),i!==-1?i:null))}function HW(t,e,r){var n,i,a;if(this._monthsParseExact)return qW.call(this,t,e,r);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),n=0;n<12;n++){if(i=_a([2e3,n]),r&&!this._longMonthsParse[n]&&(this._longMonthsParse[n]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[n]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),!r&&!this._monthsParse[n]&&(a="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[n]=new RegExp(a.replace(".",""),"i")),r&&e==="MMMM"&&this._longMonthsParse[n].test(t))return n;if(r&&e==="MMM"&&this._shortMonthsParse[n].test(t))return n;if(!r&&this._monthsParse[n].test(t))return n}}function kT(t,e){if(!t.isValid())return t;if(typeof e=="string"){if(/^\d+$/.test(e))e=xt(e);else if(e=t.localeData().monthsParse(e),!Ba(e))return t}var r=e,n=t.date();return n=n<29?n:Math.min(n,ry(t.year(),r)),t._isUTC?t._d.setUTCMonth(r,n):t._d.setMonth(r,n),t}function IT(t){return t!=null?(kT(this,t),je.updateOffset(this,!0),this):rc(this,"Month")}function zW(){return ry(this.year(),this.month())}function UW(t){return this._monthsParseExact?(Nt(this,"_monthsRegex")||AT.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(Nt(this,"_monthsShortRegex")||(this._monthsShortRegex=DW),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)}function WW(t){return this._monthsParseExact?(Nt(this,"_monthsRegex")||AT.call(this),t?this._monthsStrictRegex:this._monthsRegex):(Nt(this,"_monthsRegex")||(this._monthsRegex=MW),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)}function AT(){function t(l,u){return u.length-l.length}var e=[],r=[],n=[],i,a,o,s;for(i=0;i<12;i++)a=_a([2e3,i]),o=Ma(this.monthsShort(a,"")),s=Ma(this.months(a,"")),e.push(o),r.push(s),n.push(s),n.push(o);e.sort(t),r.sort(t),n.sort(t),this._monthsRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+e.join("|")+")","i")}function GW(t,e,r,n,i,a,o){var s;return t<100&&t>=0?(s=new Date(t+400,e,r,n,i,a,o),isFinite(s.getFullYear())&&s.setFullYear(t)):s=new Date(t,e,r,n,i,a,o),s}function nc(t){var e,r;return t<100&&t>=0?(r=Array.prototype.slice.call(arguments),r[0]=t+400,e=new Date(Date.UTC.apply(null,r)),isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t)):e=new Date(Date.UTC.apply(null,arguments)),e}function Od(t,e,r){var n=7+e-r,i=(7+nc(t,0,n).getUTCDay()-e)%7;return-i+n-1}function jT(t,e,r,n,i){var a=(7+r-n)%7,o=Od(t,n,i),s=1+7*(e-1)+a+o,l,u;return s<=0?(l=t-1,u=Hu(l)+s):s>Hu(t)?(l=t+1,u=s-Hu(t)):(l=t,u=s),{year:l,dayOfYear:u}}function ic(t,e,r){var n=Od(t.year(),e,r),i=Math.floor((t.dayOfYear()-n-1)/7)+1,a,o;return i<1?(o=t.year()-1,a=i+Va(o,e,r)):i>Va(t.year(),e,r)?(a=i-Va(t.year(),e,r),o=t.year()+1):(o=t.year(),a=i),{week:a,year:o}}function Va(t,e,r){var n=Od(t,e,r),i=Od(t+1,e,r);return(Hu(t)-n+i)/7}Ye("w",["ww",2],"wo","week");Ye("W",["WW",2],"Wo","isoWeek");$e("w",br,Wl);$e("ww",br,ri);$e("W",br,Wl);$e("WW",br,ri);Ac(["w","ww","W","WW"],function(t,e,r,n){e[n.substr(0,1)]=xt(t)});function YW(t){return ic(t,this._week.dow,this._week.doy).week}var KW={dow:0,doy:6};function JW(){return this._week.dow}function QW(){return this._week.doy}function XW(t){var e=this.localeData().week(this);return t==null?e:this.add((t-e)*7,"d")}function ZW(t){var e=ic(this,1,4).week;return t==null?e:this.add((t-e)*7,"d")}Ye("d",0,"do","day");Ye("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)});Ye("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)});Ye("dddd",0,0,function(t){return this.localeData().weekdays(this,t)});Ye("e",0,0,"weekday");Ye("E",0,0,"isoWeekday");$e("d",br);$e("e",br);$e("E",br);$e("dd",function(t,e){return e.weekdaysMinRegex(t)});$e("ddd",function(t,e){return e.weekdaysShortRegex(t)});$e("dddd",function(t,e){return e.weekdaysRegex(t)});Ac(["dd","ddd","dddd"],function(t,e,r,n){var i=r._locale.weekdaysParse(t,n,r._strict);i!=null?e.d=i:ct(r).invalidWeekday=t});Ac(["d","e","E"],function(t,e,r,n){e[n]=xt(t)});function eG(t,e){return typeof t!="string"?t:isNaN(t)?(t=e.weekdaysParse(t),typeof t=="number"?t:null):parseInt(t,10)}function tG(t,e){return typeof t=="string"?e.weekdaysParse(t)%7||7:isNaN(t)?null:t}function ny(t,e){return t.slice(e,7).concat(t.slice(0,e))}var rG="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),PT="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),nG="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),iG=Ic,aG=Ic,oG=Ic;function sG(t,e){var r=Di(this._weekdays)?this._weekdays:this._weekdays[t&&t!==!0&&this._weekdays.isFormat.test(e)?"format":"standalone"];return t===!0?ny(r,this._week.dow):t?r[t.day()]:r}function lG(t){return t===!0?ny(this._weekdaysShort,this._week.dow):t?this._weekdaysShort[t.day()]:this._weekdaysShort}function uG(t){return t===!0?ny(this._weekdaysMin,this._week.dow):t?this._weekdaysMin[t.day()]:this._weekdaysMin}function cG(t,e,r){var n,i,a,o=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],n=0;n<7;++n)a=_a([2e3,1]).day(n),this._minWeekdaysParse[n]=this.weekdaysMin(a,"").toLocaleLowerCase(),this._shortWeekdaysParse[n]=this.weekdaysShort(a,"").toLocaleLowerCase(),this._weekdaysParse[n]=this.weekdays(a,"").toLocaleLowerCase();return r?e==="dddd"?(i=$r.call(this._weekdaysParse,o),i!==-1?i:null):e==="ddd"?(i=$r.call(this._shortWeekdaysParse,o),i!==-1?i:null):(i=$r.call(this._minWeekdaysParse,o),i!==-1?i:null):e==="dddd"?(i=$r.call(this._weekdaysParse,o),i!==-1||(i=$r.call(this._shortWeekdaysParse,o),i!==-1)?i:(i=$r.call(this._minWeekdaysParse,o),i!==-1?i:null)):e==="ddd"?(i=$r.call(this._shortWeekdaysParse,o),i!==-1||(i=$r.call(this._weekdaysParse,o),i!==-1)?i:(i=$r.call(this._minWeekdaysParse,o),i!==-1?i:null)):(i=$r.call(this._minWeekdaysParse,o),i!==-1||(i=$r.call(this._weekdaysParse,o),i!==-1)?i:(i=$r.call(this._shortWeekdaysParse,o),i!==-1?i:null))}function fG(t,e,r){var n,i,a;if(this._weekdaysParseExact)return cG.call(this,t,e,r);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),n=0;n<7;n++){if(i=_a([2e3,1]).day(n),r&&!this._fullWeekdaysParse[n]&&(this._fullWeekdaysParse[n]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[n]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[n]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[n]||(a="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[n]=new RegExp(a.replace(".",""),"i")),r&&e==="dddd"&&this._fullWeekdaysParse[n].test(t))return n;if(r&&e==="ddd"&&this._shortWeekdaysParse[n].test(t))return n;if(r&&e==="dd"&&this._minWeekdaysParse[n].test(t))return n;if(!r&&this._weekdaysParse[n].test(t))return n}}function dG(t){if(!this.isValid())return t!=null?this:NaN;var e=rc(this,"Day");return t!=null?(t=eG(t,this.localeData()),this.add(t-e,"d")):e}function pG(t){if(!this.isValid())return t!=null?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return t==null?e:this.add(t-e,"d")}function hG(t){if(!this.isValid())return t!=null?this:NaN;if(t!=null){var e=tG(t,this.localeData());return this.day(this.day()%7?e:e-7)}else return this.day()||7}function vG(t){return this._weekdaysParseExact?(Nt(this,"_weekdaysRegex")||iy.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(Nt(this,"_weekdaysRegex")||(this._weekdaysRegex=iG),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)}function gG(t){return this._weekdaysParseExact?(Nt(this,"_weekdaysRegex")||iy.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(Nt(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=aG),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function mG(t){return this._weekdaysParseExact?(Nt(this,"_weekdaysRegex")||iy.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(Nt(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=oG),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function iy(){function t(c,f){return f.length-c.length}var e=[],r=[],n=[],i=[],a,o,s,l,u;for(a=0;a<7;a++)o=_a([2e3,1]).day(a),s=Ma(this.weekdaysMin(o,"")),l=Ma(this.weekdaysShort(o,"")),u=Ma(this.weekdays(o,"")),e.push(s),r.push(l),n.push(u),i.push(s),i.push(l),i.push(u);e.sort(t),r.sort(t),n.sort(t),i.sort(t),this._weekdaysRegex=new RegExp("^("+i.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+e.join("|")+")","i")}function ay(){return this.hours()%12||12}function yG(){return this.hours()||24}Ye("H",["HH",2],0,"hour");Ye("h",["hh",2],0,ay);Ye("k",["kk",2],0,yG);Ye("hmm",0,0,function(){return""+ay.apply(this)+ha(this.minutes(),2)});Ye("hmmss",0,0,function(){return""+ay.apply(this)+ha(this.minutes(),2)+ha(this.seconds(),2)});Ye("Hmm",0,0,function(){return""+this.hours()+ha(this.minutes(),2)});Ye("Hmmss",0,0,function(){return""+this.hours()+ha(this.minutes(),2)+ha(this.seconds(),2)});function LT(t,e){Ye(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}LT("a",!0);LT("A",!1);function FT(t,e){return e._meridiemParse}$e("a",FT);$e("A",FT);$e("H",br,ty);$e("h",br,Wl);$e("k",br,Wl);$e("HH",br,ri);$e("hh",br,ri);$e("kk",br,ri);$e("hmm",OT);$e("hmmss",xT);$e("Hmm",OT);$e("Hmmss",xT);er(["H","HH"],Zr);er(["k","kk"],function(t,e,r){var n=xt(t);e[Zr]=n===24?0:n});er(["a","A"],function(t,e,r){r._isPm=r._locale.isPM(t),r._meridiem=t});er(["h","hh"],function(t,e,r){e[Zr]=xt(t),ct(r).bigHour=!0});er("hmm",function(t,e,r){var n=t.length-2;e[Zr]=xt(t.substr(0,n)),e[Fi]=xt(t.substr(n)),ct(r).bigHour=!0});er("hmmss",function(t,e,r){var n=t.length-4,i=t.length-2;e[Zr]=xt(t.substr(0,n)),e[Fi]=xt(t.substr(n,2)),e[Da]=xt(t.substr(i)),ct(r).bigHour=!0});er("Hmm",function(t,e,r){var n=t.length-2;e[Zr]=xt(t.substr(0,n)),e[Fi]=xt(t.substr(n))});er("Hmmss",function(t,e,r){var n=t.length-4,i=t.length-2;e[Zr]=xt(t.substr(0,n)),e[Fi]=xt(t.substr(n,2)),e[Da]=xt(t.substr(i))});function bG(t){return(t+"").toLowerCase().charAt(0)==="p"}var _G=/[ap]\.?m?\.?/i,SG=Gl("Hours",!0);function OG(t,e,r){return t>11?r?"pm":"PM":r?"am":"AM"}var RT={calendar:cW,longDateFormat:hW,invalidDate:gW,ordinal:yW,dayOfMonthOrdinalParse:bW,relativeTime:SW,months:NW,monthsShort:CT,week:KW,weekdays:rG,weekdaysMin:nG,weekdaysShort:PT,meridiemParse:_G},Sr={},_u={},ac;function xG(t,e){var r,n=Math.min(t.length,e.length);for(r=0;r<n;r+=1)if(t[r]!==e[r])return r;return n}function G_(t){return t&&t.toLowerCase().replace("_","-")}function wG(t){for(var e=0,r,n,i,a;e<t.length;){for(a=G_(t[e]).split("-"),r=a.length,n=G_(t[e+1]),n=n?n.split("-"):null;r>0;){if(i=Tp(a.slice(0,r).join("-")),i)return i;if(n&&n.length>=r&&xG(a,n)>=r-1)break;r--}e++}return ac}function EG(t){return!!(t&&t.match("^[^/\\\\]*$"))}function Tp(t){var e=null,r;if(Sr[t]===void 0&&typeof module<"u"&&module&&module.exports&&EG(t))try{e=ac._abbr,r=require,r("./locale/"+t),po(e)}catch(n){Sr[t]=null}return Sr[t]}function po(t,e){var r;return t&&(Dn(e)?r=Ua(t):r=oy(t,e),r?ac=r:typeof console<"u"&&console.warn&&console.warn("Locale "+t+" not found. Did you forget to load it?")),ac._abbr}function oy(t,e){if(e!==null){var r,n=RT;if(e.abbr=t,Sr[t]!=null)yT("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=Sr[t]._config;else if(e.parentLocale!=null)if(Sr[e.parentLocale]!=null)n=Sr[e.parentLocale]._config;else if(r=Tp(e.parentLocale),r!=null)n=r._config;else return _u[e.parentLocale]||(_u[e.parentLocale]=[]),_u[e.parentLocale].push({name:t,config:e}),null;return Sr[t]=new Jm(Gv(n,e)),_u[t]&&_u[t].forEach(function(i){oy(i.name,i.config)}),po(t),Sr[t]}else return delete Sr[t],null}function CG(t,e){if(e!=null){var r,n,i=RT;Sr[t]!=null&&Sr[t].parentLocale!=null?Sr[t].set(Gv(Sr[t]._config,e)):(n=Tp(t),n!=null&&(i=n._config),e=Gv(i,e),n==null&&(e.abbr=t),r=new Jm(e),r.parentLocale=Sr[t],Sr[t]=r),po(t)}else Sr[t]!=null&&(Sr[t].parentLocale!=null?(Sr[t]=Sr[t].parentLocale,t===po()&&po(t)):Sr[t]!=null&&delete Sr[t]);return Sr[t]}function Ua(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return ac;if(!Di(t)){if(e=Tp(t),e)return e;t=[t]}return wG(t)}function TG(){return Yv(Sr)}function sy(t){var e,r=t._a;return r&&ct(t).overflow===-2&&(e=r[Na]<0||r[Na]>11?Na:r[aa]<1||r[aa]>ry(r[mn],r[Na])?aa:r[Zr]<0||r[Zr]>24||r[Zr]===24&&(r[Fi]!==0||r[Da]!==0||r[Uo]!==0)?Zr:r[Fi]<0||r[Fi]>59?Fi:r[Da]<0||r[Da]>59?Da:r[Uo]<0||r[Uo]>999?Uo:-1,ct(t)._overflowDayOfYear&&(e<mn||e>aa)&&(e=aa),ct(t)._overflowWeeks&&e===-1&&(e=jW),ct(t)._overflowWeekday&&e===-1&&(e=PW),ct(t).overflow=e),t}var kG=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,IG=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,AG=/Z|[+-]\d\d(?::?\d\d)?/,wf=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],qh=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],jG=/^\/?Date\((-?\d+)/i,PG=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,LG={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function $T(t){var e,r,n=t._i,i=kG.exec(n)||IG.exec(n),a,o,s,l,u=wf.length,c=qh.length;if(i){for(ct(t).iso=!0,e=0,r=u;e<r;e++)if(wf[e][1].exec(i[1])){o=wf[e][0],a=wf[e][2]!==!1;break}if(o==null){t._isValid=!1;return}if(i[3]){for(e=0,r=c;e<r;e++)if(qh[e][1].exec(i[3])){s=(i[2]||" ")+qh[e][0];break}if(s==null){t._isValid=!1;return}}if(!a&&s!=null){t._isValid=!1;return}if(i[4])if(AG.exec(i[4]))l="Z";else{t._isValid=!1;return}t._f=o+(s||"")+(l||""),uy(t)}else t._isValid=!1}function FG(t,e,r,n,i,a){var o=[RG(t),CT.indexOf(e),parseInt(r,10),parseInt(n,10),parseInt(i,10)];return a&&o.push(parseInt(a,10)),o}function RG(t){var e=parseInt(t,10);return e<=49?2e3+e:e<=999?1900+e:e}function $G(t){return t.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function NG(t,e,r){if(t){var n=PT.indexOf(t),i=new Date(e[0],e[1],e[2]).getDay();if(n!==i)return ct(r).weekdayMismatch=!0,r._isValid=!1,!1}return!0}function DG(t,e,r){if(t)return LG[t];if(e)return 0;var n=parseInt(r,10),i=n%100,a=(n-i)/100;return a*60+i}function NT(t){var e=PG.exec($G(t._i)),r;if(e){if(r=FG(e[4],e[3],e[2],e[5],e[6],e[7]),!NG(e[1],r,t))return;t._a=r,t._tzm=DG(e[8],e[9],e[10]),t._d=nc.apply(null,t._a),t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),ct(t).rfc2822=!0}else t._isValid=!1}function MG(t){var e=jG.exec(t._i);if(e!==null){t._d=new Date(+e[1]);return}if($T(t),t._isValid===!1)delete t._isValid;else return;if(NT(t),t._isValid===!1)delete t._isValid;else return;t._strict?t._isValid=!1:je.createFromInputFallback(t)}je.createFromInputFallback=wi("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))});function zs(t,e,r){return t!=null?t:e!=null?e:r}function VG(t){var e=new Date(je.now());return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function ly(t){var e,r,n=[],i,a,o;if(!t._d){for(i=VG(t),t._w&&t._a[aa]==null&&t._a[Na]==null&&BG(t),t._dayOfYear!=null&&(o=zs(t._a[mn],i[mn]),(t._dayOfYear>Hu(o)||t._dayOfYear===0)&&(ct(t)._overflowDayOfYear=!0),r=nc(o,0,t._dayOfYear),t._a[Na]=r.getUTCMonth(),t._a[aa]=r.getUTCDate()),e=0;e<3&&t._a[e]==null;++e)t._a[e]=n[e]=i[e];for(;e<7;e++)t._a[e]=n[e]=t._a[e]==null?e===2?1:0:t._a[e];t._a[Zr]===24&&t._a[Fi]===0&&t._a[Da]===0&&t._a[Uo]===0&&(t._nextDay=!0,t._a[Zr]=0),t._d=(t._useUTC?nc:GW).apply(null,n),a=t._useUTC?t._d.getUTCDay():t._d.getDay(),t._tzm!=null&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[Zr]=24),t._w&&typeof t._w.d<"u"&&t._w.d!==a&&(ct(t).weekdayMismatch=!0)}}function BG(t){var e,r,n,i,a,o,s,l,u;e=t._w,e.GG!=null||e.W!=null||e.E!=null?(a=1,o=4,r=zs(e.GG,t._a[mn],ic(mr(),1,4).year),n=zs(e.W,1),i=zs(e.E,1),(i<1||i>7)&&(l=!0)):(a=t._locale._week.dow,o=t._locale._week.doy,u=ic(mr(),a,o),r=zs(e.gg,t._a[mn],u.year),n=zs(e.w,u.week),e.d!=null?(i=e.d,(i<0||i>6)&&(l=!0)):e.e!=null?(i=e.e+a,(e.e<0||e.e>6)&&(l=!0)):i=a),n<1||n>Va(r,a,o)?ct(t)._overflowWeeks=!0:l!=null?ct(t)._overflowWeekday=!0:(s=jT(r,n,i,a,o),t._a[mn]=s.year,t._dayOfYear=s.dayOfYear)}je.ISO_8601=function(){};je.RFC_2822=function(){};function uy(t){if(t._f===je.ISO_8601){$T(t);return}if(t._f===je.RFC_2822){NT(t);return}t._a=[],ct(t).empty=!0;var e=""+t._i,r,n,i,a,o,s=e.length,l=0,u,c;for(i=bT(t._f,t._locale).match(Qm)||[],c=i.length,r=0;r<c;r++)a=i[r],n=(e.match(kW(a,t))||[])[0],n&&(o=e.substr(0,e.indexOf(n)),o.length>0&&ct(t).unusedInput.push(o),e=e.slice(e.indexOf(n)+n.length),l+=n.length),vl[a]?(n?ct(t).empty=!1:ct(t).unusedTokens.push(a),AW(a,n,t)):t._strict&&!n&&ct(t).unusedTokens.push(a);ct(t).charsLeftOver=s-l,e.length>0&&ct(t).unusedInput.push(e),t._a[Zr]<=12&&ct(t).bigHour===!0&&t._a[Zr]>0&&(ct(t).bigHour=void 0),ct(t).parsedDateParts=t._a.slice(0),ct(t).meridiem=t._meridiem,t._a[Zr]=qG(t._locale,t._a[Zr],t._meridiem),u=ct(t).era,u!==null&&(t._a[mn]=t._locale.erasConvertYear(u,t._a[mn])),ly(t),sy(t)}function qG(t,e,r){var n;return r==null?e:t.meridiemHour!=null?t.meridiemHour(e,r):(t.isPM!=null&&(n=t.isPM(r),n&&e<12&&(e+=12),!n&&e===12&&(e=0)),e)}function HG(t){var e,r,n,i,a,o,s=!1,l=t._f.length;if(l===0){ct(t).invalidFormat=!0,t._d=new Date(NaN);return}for(i=0;i<l;i++)a=0,o=!1,e=Km({},t),t._useUTC!=null&&(e._useUTC=t._useUTC),e._f=t._f[i],uy(e),Ym(e)&&(o=!0),a+=ct(e).charsLeftOver,a+=ct(e).unusedTokens.length*10,ct(e).score=a,s?a<n&&(n=a,r=e):(n==null||a<n||o)&&(n=a,r=e,o&&(s=!0));lo(t,r||e)}function zG(t){if(!t._d){var e=Xm(t._i),r=e.day===void 0?e.date:e.day;t._a=gT([e.year,e.month,r,e.hour,e.minute,e.second,e.millisecond],function(n){return n&&parseInt(n,10)}),ly(t)}}function UG(t){var e=new kc(sy(DT(t)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}function DT(t){var e=t._i,r=t._f;return t._locale=t._locale||Ua(t._l),e===null||r===void 0&&e===""?_p({nullInput:!0}):(typeof e=="string"&&(t._i=e=t._locale.preparse(e)),Mi(e)?new kc(sy(e)):(Tc(e)?t._d=e:Di(r)?HG(t):r?uy(t):WG(t),Ym(t)||(t._d=null),t))}function WG(t){var e=t._i;Dn(e)?t._d=new Date(je.now()):Tc(e)?t._d=new Date(e.valueOf()):typeof e=="string"?MG(t):Di(e)?(t._a=gT(e.slice(0),function(r){return parseInt(r,10)}),ly(t)):Jo(e)?zG(t):Ba(e)?t._d=new Date(e):je.createFromInputFallback(t)}function MT(t,e,r,n,i){var a={};return(e===!0||e===!1)&&(n=e,e=void 0),(r===!0||r===!1)&&(n=r,r=void 0),(Jo(t)&&Gm(t)||Di(t)&&t.length===0)&&(t=void 0),a._isAMomentObject=!0,a._useUTC=a._isUTC=i,a._l=r,a._i=t,a._f=e,a._strict=n,UG(a)}function mr(t,e,r,n){return MT(t,e,r,n,!1)}var GG=wi("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=mr.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:_p()}),YG=wi("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=mr.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:_p()});function VT(t,e){var r,n;if(e.length===1&&Di(e[0])&&(e=e[0]),!e.length)return mr();for(r=e[0],n=1;n<e.length;++n)(!e[n].isValid()||e[n][t](r))&&(r=e[n]);return r}function KG(){var t=[].slice.call(arguments,0);return VT("isBefore",t)}function JG(){var t=[].slice.call(arguments,0);return VT("isAfter",t)}var QG=function(){return Date.now?Date.now():+new Date},Su=["year","quarter","month","week","day","hour","minute","second","millisecond"];function XG(t){var e,r=!1,n,i=Su.length;for(e in t)if(Nt(t,e)&&!($r.call(Su,e)!==-1&&(t[e]==null||!isNaN(t[e]))))return!1;for(n=0;n<i;++n)if(t[Su[n]]){if(r)return!1;parseFloat(t[Su[n]])!==xt(t[Su[n]])&&(r=!0)}return!0}function ZG(){return this._isValid}function e7(){return Gi(NaN)}function kp(t){var e=Xm(t),r=e.year||0,n=e.quarter||0,i=e.month||0,a=e.week||e.isoWeek||0,o=e.day||0,s=e.hour||0,l=e.minute||0,u=e.second||0,c=e.millisecond||0;this._isValid=XG(e),this._milliseconds=+c+u*1e3+l*6e4+s*1e3*60*60,this._days=+o+a*7,this._months=+i+n*3+r*12,this._data={},this._locale=Ua(),this._bubble()}function Zf(t){return t instanceof kp}function Jv(t){return t<0?Math.round(-1*t)*-1:Math.round(t)}function t7(t,e,r){var n=Math.min(t.length,e.length),i=Math.abs(t.length-e.length),a=0,o;for(o=0;o<n;o++)xt(t[o])!==xt(e[o])&&a++;return a+i}function BT(t,e){Ye(t,0,0,function(){var r=this.utcOffset(),n="+";return r<0&&(r=-r,n="-"),n+ha(~~(r/60),2)+e+ha(~~r%60,2)})}BT("Z",":");BT("ZZ","");$e("Z",Ep);$e("ZZ",Ep);er(["Z","ZZ"],function(t,e,r){r._useUTC=!0,r._tzm=cy(Ep,t)});var r7=/([\+\-]|\d\d)/gi;function cy(t,e){var r=(e||"").match(t),n,i,a;return r===null?null:(n=r[r.length-1]||[],i=(n+"").match(r7)||["-",0,0],a=+(i[1]*60)+xt(i[2]),a===0?0:i[0]==="+"?a:-a)}function fy(t,e){var r,n;return e._isUTC?(r=e.clone(),n=(Mi(t)||Tc(t)?t.valueOf():mr(t).valueOf())-r.valueOf(),r._d.setTime(r._d.valueOf()+n),je.updateOffset(r,!1),r):mr(t).local()}function Qv(t){return-Math.round(t._d.getTimezoneOffset())}je.updateOffset=function(){};function n7(t,e,r){var n=this._offset||0,i;if(!this.isValid())return t!=null?this:NaN;if(t!=null){if(typeof t=="string"){if(t=cy(Ep,t),t===null)return this}else Math.abs(t)<16&&!r&&(t=t*60);return!this._isUTC&&e&&(i=Qv(this)),this._offset=t,this._isUTC=!0,i!=null&&this.add(i,"m"),n!==t&&(!e||this._changeInProgress?zT(this,Gi(t-n,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,je.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?n:Qv(this)}function i7(t,e){return t!=null?(typeof t!="string"&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}function a7(t){return this.utcOffset(0,t)}function o7(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(Qv(this),"m")),this}function s7(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var t=cy(CW,this._i);t!=null?this.utcOffset(t):this.utcOffset(0,!0)}return this}function l7(t){return this.isValid()?(t=t?mr(t).utcOffset():0,(this.utcOffset()-t)%60===0):!1}function u7(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function c7(){if(!Dn(this._isDSTShifted))return this._isDSTShifted;var t={},e;return Km(t,this),t=DT(t),t._a?(e=t._isUTC?_a(t._a):mr(t._a),this._isDSTShifted=this.isValid()&&t7(t._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function f7(){return this.isValid()?!this._isUTC:!1}function d7(){return this.isValid()?this._isUTC:!1}function qT(){return this.isValid()?this._isUTC&&this._offset===0:!1}var p7=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,h7=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Gi(t,e){var r=t,n=null,i,a,o;return Zf(t)?r={ms:t._milliseconds,d:t._days,M:t._months}:Ba(t)||!isNaN(+t)?(r={},e?r[e]=+t:r.milliseconds=+t):(n=p7.exec(t))?(i=n[1]==="-"?-1:1,r={y:0,d:xt(n[aa])*i,h:xt(n[Zr])*i,m:xt(n[Fi])*i,s:xt(n[Da])*i,ms:xt(Jv(n[Uo]*1e3))*i}):(n=h7.exec(t))?(i=n[1]==="-"?-1:1,r={y:No(n[2],i),M:No(n[3],i),w:No(n[4],i),d:No(n[5],i),h:No(n[6],i),m:No(n[7],i),s:No(n[8],i)}):r==null?r={}:typeof r=="object"&&("from"in r||"to"in r)&&(o=v7(mr(r.from),mr(r.to)),r={},r.ms=o.milliseconds,r.M=o.months),a=new kp(r),Zf(t)&&Nt(t,"_locale")&&(a._locale=t._locale),Zf(t)&&Nt(t,"_isValid")&&(a._isValid=t._isValid),a}Gi.fn=kp.prototype;Gi.invalid=e7;function No(t,e){var r=t&&parseFloat(t.replace(",","."));return(isNaN(r)?0:r)*e}function Y_(t,e){var r={};return r.months=e.month()-t.month()+(e.year()-t.year())*12,t.clone().add(r.months,"M").isAfter(e)&&--r.months,r.milliseconds=+e-+t.clone().add(r.months,"M"),r}function v7(t,e){var r;return t.isValid()&&e.isValid()?(e=fy(e,t),t.isBefore(e)?r=Y_(t,e):(r=Y_(e,t),r.milliseconds=-r.milliseconds,r.months=-r.months),r):{milliseconds:0,months:0}}function HT(t,e){return function(r,n){var i,a;return n!==null&&!isNaN(+n)&&(yT(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),a=r,r=n,n=a),i=Gi(r,n),zT(this,i,t),this}}function zT(t,e,r,n){var i=e._milliseconds,a=Jv(e._days),o=Jv(e._months);t.isValid()&&(n=n==null?!0:n,o&&kT(t,rc(t,"Month")+o*r),a&&ET(t,"Date",rc(t,"Date")+a*r),i&&t._d.setTime(t._d.valueOf()+i*r),n&&je.updateOffset(t,a||o))}var g7=HT(1,"add"),m7=HT(-1,"subtract");function UT(t){return typeof t=="string"||t instanceof String}function y7(t){return Mi(t)||Tc(t)||UT(t)||Ba(t)||_7(t)||b7(t)||t===null||t===void 0}function b7(t){var e=Jo(t)&&!Gm(t),r=!1,n=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],i,a,o=n.length;for(i=0;i<o;i+=1)a=n[i],r=r||Nt(t,a);return e&&r}function _7(t){var e=Di(t),r=!1;return e&&(r=t.filter(function(n){return!Ba(n)&&UT(t)}).length===0),e&&r}function S7(t){var e=Jo(t)&&!Gm(t),r=!1,n=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],i,a;for(i=0;i<n.length;i+=1)a=n[i],r=r||Nt(t,a);return e&&r}function O7(t,e){var r=t.diff(e,"days",!0);return r<-6?"sameElse":r<-1?"lastWeek":r<0?"lastDay":r<1?"sameDay":r<2?"nextDay":r<7?"nextWeek":"sameElse"}function x7(t,e){arguments.length===1&&(arguments[0]?y7(arguments[0])?(t=arguments[0],e=void 0):S7(arguments[0])&&(e=arguments[0],t=void 0):(t=void 0,e=void 0));var r=t||mr(),n=fy(r,this).startOf("day"),i=je.calendarFormat(this,n)||"sameElse",a=e&&(Sa(e[i])?e[i].call(this,r):e[i]);return this.format(a||this.localeData().calendar(i,this,mr(r)))}function w7(){return new kc(this)}function E7(t,e){var r=Mi(t)?t:mr(t);return this.isValid()&&r.isValid()?(e=Ei(e)||"millisecond",e==="millisecond"?this.valueOf()>r.valueOf():r.valueOf()<this.clone().startOf(e).valueOf()):!1}function C7(t,e){var r=Mi(t)?t:mr(t);return this.isValid()&&r.isValid()?(e=Ei(e)||"millisecond",e==="millisecond"?this.valueOf()<r.valueOf():this.clone().endOf(e).valueOf()<r.valueOf()):!1}function T7(t,e,r,n){var i=Mi(t)?t:mr(t),a=Mi(e)?e:mr(e);return this.isValid()&&i.isValid()&&a.isValid()?(n=n||"()",(n[0]==="("?this.isAfter(i,r):!this.isBefore(i,r))&&(n[1]===")"?this.isBefore(a,r):!this.isAfter(a,r))):!1}function k7(t,e){var r=Mi(t)?t:mr(t),n;return this.isValid()&&r.isValid()?(e=Ei(e)||"millisecond",e==="millisecond"?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(e).valueOf()<=n&&n<=this.clone().endOf(e).valueOf())):!1}function I7(t,e){return this.isSame(t,e)||this.isAfter(t,e)}function A7(t,e){return this.isSame(t,e)||this.isBefore(t,e)}function j7(t,e,r){var n,i,a;if(!this.isValid())return NaN;if(n=fy(t,this),!n.isValid())return NaN;switch(i=(n.utcOffset()-this.utcOffset())*6e4,e=Ei(e),e){case"year":a=ed(this,n)/12;break;case"month":a=ed(this,n);break;case"quarter":a=ed(this,n)/3;break;case"second":a=(this-n)/1e3;break;case"minute":a=(this-n)/6e4;break;case"hour":a=(this-n)/36e5;break;case"day":a=(this-n-i)/864e5;break;case"week":a=(this-n-i)/6048e5;break;default:a=this-n}return r?a:li(a)}function ed(t,e){if(t.date()<e.date())return-ed(e,t);var r=(e.year()-t.year())*12+(e.month()-t.month()),n=t.clone().add(r,"months"),i,a;return e-n<0?(i=t.clone().add(r-1,"months"),a=(e-n)/(n-i)):(i=t.clone().add(r+1,"months"),a=(e-n)/(i-n)),-(r+a)||0}je.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";je.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function P7(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function L7(t){if(!this.isValid())return null;var e=t!==!0,r=e?this.clone().utc():this;return r.year()<0||r.year()>9999?Xf(r,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):Sa(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",Xf(r,"Z")):Xf(r,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function F7(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t="moment",e="",r,n,i,a;return this.isLocal()||(t=this.utcOffset()===0?"moment.utc":"moment.parseZone",e="Z"),r="["+t+'("]',n=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",i="-MM-DD[T]HH:mm:ss.SSS",a=e+'[")]',this.format(r+n+i+a)}function R7(t){t||(t=this.isUtc()?je.defaultFormatUtc:je.defaultFormat);var e=Xf(this,t);return this.localeData().postformat(e)}function $7(t,e){return this.isValid()&&(Mi(t)&&t.isValid()||mr(t).isValid())?Gi({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function N7(t){return this.from(mr(),t)}function D7(t,e){return this.isValid()&&(Mi(t)&&t.isValid()||mr(t).isValid())?Gi({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function M7(t){return this.to(mr(),t)}function WT(t){var e;return t===void 0?this._locale._abbr:(e=Ua(t),e!=null&&(this._locale=e),this)}var GT=wi("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return t===void 0?this.localeData():this.locale(t)});function YT(){return this._locale}var xd=1e3,gl=60*xd,wd=60*gl,KT=(365*400+97)*24*wd;function ml(t,e){return(t%e+e)%e}function JT(t,e,r){return t<100&&t>=0?new Date(t+400,e,r)-KT:new Date(t,e,r).valueOf()}function QT(t,e,r){return t<100&&t>=0?Date.UTC(t+400,e,r)-KT:Date.UTC(t,e,r)}function V7(t){var e,r;if(t=Ei(t),t===void 0||t==="millisecond"||!this.isValid())return this;switch(r=this._isUTC?QT:JT,t){case"year":e=r(this.year(),0,1);break;case"quarter":e=r(this.year(),this.month()-this.month()%3,1);break;case"month":e=r(this.year(),this.month(),1);break;case"week":e=r(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":e=r(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":e=r(this.year(),this.month(),this.date());break;case"hour":e=this._d.valueOf(),e-=ml(e+(this._isUTC?0:this.utcOffset()*gl),wd);break;case"minute":e=this._d.valueOf(),e-=ml(e,gl);break;case"second":e=this._d.valueOf(),e-=ml(e,xd);break}return this._d.setTime(e),je.updateOffset(this,!0),this}function B7(t){var e,r;if(t=Ei(t),t===void 0||t==="millisecond"||!this.isValid())return this;switch(r=this._isUTC?QT:JT,t){case"year":e=r(this.year()+1,0,1)-1;break;case"quarter":e=r(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":e=r(this.year(),this.month()+1,1)-1;break;case"week":e=r(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":e=r(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":e=r(this.year(),this.month(),this.date()+1)-1;break;case"hour":e=this._d.valueOf(),e+=wd-ml(e+(this._isUTC?0:this.utcOffset()*gl),wd)-1;break;case"minute":e=this._d.valueOf(),e+=gl-ml(e,gl)-1;break;case"second":e=this._d.valueOf(),e+=xd-ml(e,xd)-1;break}return this._d.setTime(e),je.updateOffset(this,!0),this}function q7(){return this._d.valueOf()-(this._offset||0)*6e4}function H7(){return Math.floor(this.valueOf()/1e3)}function z7(){return new Date(this.valueOf())}function U7(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function W7(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}}function G7(){return this.isValid()?this.toISOString():null}function Y7(){return Ym(this)}function K7(){return lo({},ct(this))}function J7(){return ct(this).overflow}function Q7(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}Ye("N",0,0,"eraAbbr");Ye("NN",0,0,"eraAbbr");Ye("NNN",0,0,"eraAbbr");Ye("NNNN",0,0,"eraName");Ye("NNNNN",0,0,"eraNarrow");Ye("y",["y",1],"yo","eraYear");Ye("y",["yy",2],0,"eraYear");Ye("y",["yyy",3],0,"eraYear");Ye("y",["yyyy",4],0,"eraYear");$e("N",dy);$e("NN",dy);$e("NNN",dy);$e("NNNN",lY);$e("NNNNN",uY);er(["N","NN","NNN","NNNN","NNNNN"],function(t,e,r,n){var i=r._locale.erasParse(t,n,r._strict);i?ct(r).era=i:ct(r).invalidEra=t});$e("y",Ul);$e("yy",Ul);$e("yyy",Ul);$e("yyyy",Ul);$e("yo",cY);er(["y","yy","yyy","yyyy"],mn);er(["yo"],function(t,e,r,n){var i;r._locale._eraYearOrdinalRegex&&(i=t.match(r._locale._eraYearOrdinalRegex)),r._locale.eraYearOrdinalParse?e[mn]=r._locale.eraYearOrdinalParse(t,i):e[mn]=parseInt(t,10)});function X7(t,e){var r,n,i,a=this._eras||Ua("en")._eras;for(r=0,n=a.length;r<n;++r){switch(typeof a[r].since){case"string":i=je(a[r].since).startOf("day"),a[r].since=i.valueOf();break}switch(typeof a[r].until){case"undefined":a[r].until=1/0;break;case"string":i=je(a[r].until).startOf("day").valueOf(),a[r].until=i.valueOf();break}}return a}function Z7(t,e,r){var n,i,a=this.eras(),o,s,l;for(t=t.toUpperCase(),n=0,i=a.length;n<i;++n)if(o=a[n].name.toUpperCase(),s=a[n].abbr.toUpperCase(),l=a[n].narrow.toUpperCase(),r)switch(e){case"N":case"NN":case"NNN":if(s===t)return a[n];break;case"NNNN":if(o===t)return a[n];break;case"NNNNN":if(l===t)return a[n];break}else if([o,s,l].indexOf(t)>=0)return a[n]}function eY(t,e){var r=t.since<=t.until?1:-1;return e===void 0?je(t.since).year():je(t.since).year()+(e-t.offset)*r}function tY(){var t,e,r,n=this.localeData().eras();for(t=0,e=n.length;t<e;++t)if(r=this.clone().startOf("day").valueOf(),n[t].since<=r&&r<=n[t].until||n[t].until<=r&&r<=n[t].since)return n[t].name;return""}function rY(){var t,e,r,n=this.localeData().eras();for(t=0,e=n.length;t<e;++t)if(r=this.clone().startOf("day").valueOf(),n[t].since<=r&&r<=n[t].until||n[t].until<=r&&r<=n[t].since)return n[t].narrow;return""}function nY(){var t,e,r,n=this.localeData().eras();for(t=0,e=n.length;t<e;++t)if(r=this.clone().startOf("day").valueOf(),n[t].since<=r&&r<=n[t].until||n[t].until<=r&&r<=n[t].since)return n[t].abbr;return""}function iY(){var t,e,r,n,i=this.localeData().eras();for(t=0,e=i.length;t<e;++t)if(r=i[t].since<=i[t].until?1:-1,n=this.clone().startOf("day").valueOf(),i[t].since<=n&&n<=i[t].until||i[t].until<=n&&n<=i[t].since)return(this.year()-je(i[t].since).year())*r+i[t].offset;return this.year()}function aY(t){return Nt(this,"_erasNameRegex")||py.call(this),t?this._erasNameRegex:this._erasRegex}function oY(t){return Nt(this,"_erasAbbrRegex")||py.call(this),t?this._erasAbbrRegex:this._erasRegex}function sY(t){return Nt(this,"_erasNarrowRegex")||py.call(this),t?this._erasNarrowRegex:this._erasRegex}function dy(t,e){return e.erasAbbrRegex(t)}function lY(t,e){return e.erasNameRegex(t)}function uY(t,e){return e.erasNarrowRegex(t)}function cY(t,e){return e._eraYearOrdinalRegex||Ul}function py(){var t=[],e=[],r=[],n=[],i,a,o,s,l,u=this.eras();for(i=0,a=u.length;i<a;++i)o=Ma(u[i].name),s=Ma(u[i].abbr),l=Ma(u[i].narrow),e.push(o),t.push(s),r.push(l),n.push(o),n.push(s),n.push(l);this._erasRegex=new RegExp("^("+n.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+e.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+t.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+r.join("|")+")","i")}Ye(0,["gg",2],0,function(){return this.weekYear()%100});Ye(0,["GG",2],0,function(){return this.isoWeekYear()%100});function Ip(t,e){Ye(0,[t,t.length],0,e)}Ip("gggg","weekYear");Ip("ggggg","weekYear");Ip("GGGG","isoWeekYear");Ip("GGGGG","isoWeekYear");$e("G",wp);$e("g",wp);$e("GG",br,ri);$e("gg",br,ri);$e("GGGG",ey,Zm);$e("gggg",ey,Zm);$e("GGGGG",xp,Sp);$e("ggggg",xp,Sp);Ac(["gggg","ggggg","GGGG","GGGGG"],function(t,e,r,n){e[n.substr(0,2)]=xt(t)});Ac(["gg","GG"],function(t,e,r,n){e[n]=je.parseTwoDigitYear(t)});function fY(t){return XT.call(this,t,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function dY(t){return XT.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)}function pY(){return Va(this.year(),1,4)}function hY(){return Va(this.isoWeekYear(),1,4)}function vY(){var t=this.localeData()._week;return Va(this.year(),t.dow,t.doy)}function gY(){var t=this.localeData()._week;return Va(this.weekYear(),t.dow,t.doy)}function XT(t,e,r,n,i){var a;return t==null?ic(this,n,i).year:(a=Va(t,n,i),e>a&&(e=a),mY.call(this,t,e,r,n,i))}function mY(t,e,r,n,i){var a=jT(t,e,r,n,i),o=nc(a.year,0,a.dayOfYear);return this.year(o.getUTCFullYear()),this.month(o.getUTCMonth()),this.date(o.getUTCDate()),this}Ye("Q",0,"Qo","quarter");$e("Q",_T);er("Q",function(t,e){e[Na]=(xt(t)-1)*3});function yY(t){return t==null?Math.ceil((this.month()+1)/3):this.month((t-1)*3+this.month()%3)}Ye("D",["DD",2],"Do","date");$e("D",br,Wl);$e("DD",br,ri);$e("Do",function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient});er(["D","DD"],aa);er("Do",function(t,e){e[aa]=xt(t.match(br)[0])});var ZT=Gl("Date",!0);Ye("DDD",["DDDD",3],"DDDo","dayOfYear");$e("DDD",Op);$e("DDDD",ST);er(["DDD","DDDD"],function(t,e,r){r._dayOfYear=xt(t)});function bY(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return t==null?e:this.add(t-e,"d")}Ye("m",["mm",2],0,"minute");$e("m",br,ty);$e("mm",br,ri);er(["m","mm"],Fi);var _Y=Gl("Minutes",!1);Ye("s",["ss",2],0,"second");$e("s",br,ty);$e("ss",br,ri);er(["s","ss"],Da);var SY=Gl("Seconds",!1);Ye("S",0,0,function(){return~~(this.millisecond()/100)});Ye(0,["SS",2],0,function(){return~~(this.millisecond()/10)});Ye(0,["SSS",3],0,"millisecond");Ye(0,["SSSS",4],0,function(){return this.millisecond()*10});Ye(0,["SSSSS",5],0,function(){return this.millisecond()*100});Ye(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});Ye(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});Ye(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});Ye(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});$e("S",Op,_T);$e("SS",Op,ri);$e("SSS",Op,ST);var uo,ek;for(uo="SSSS";uo.length<=9;uo+="S")$e(uo,Ul);function OY(t,e){e[Uo]=xt(("0."+t)*1e3)}for(uo="S";uo.length<=9;uo+="S")er(uo,OY);ek=Gl("Milliseconds",!1);Ye("z",0,0,"zoneAbbr");Ye("zz",0,0,"zoneName");function xY(){return this._isUTC?"UTC":""}function wY(){return this._isUTC?"Coordinated Universal Time":""}var Ee=kc.prototype;Ee.add=g7;Ee.calendar=x7;Ee.clone=w7;Ee.diff=j7;Ee.endOf=B7;Ee.format=R7;Ee.from=$7;Ee.fromNow=N7;Ee.to=D7;Ee.toNow=M7;Ee.get=FW;Ee.invalidAt=J7;Ee.isAfter=E7;Ee.isBefore=C7;Ee.isBetween=T7;Ee.isSame=k7;Ee.isSameOrAfter=I7;Ee.isSameOrBefore=A7;Ee.isValid=Y7;Ee.lang=GT;Ee.locale=WT;Ee.localeData=YT;Ee.max=YG;Ee.min=GG;Ee.parsingFlags=K7;Ee.set=RW;Ee.startOf=V7;Ee.subtract=m7;Ee.toArray=U7;Ee.toObject=W7;Ee.toDate=z7;Ee.toISOString=L7;Ee.inspect=F7;typeof Symbol<"u"&&Symbol.for!=null&&(Ee[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});Ee.toJSON=G7;Ee.toString=P7;Ee.unix=H7;Ee.valueOf=q7;Ee.creationData=Q7;Ee.eraName=tY;Ee.eraNarrow=rY;Ee.eraAbbr=nY;Ee.eraYear=iY;Ee.year=wT;Ee.isLeapYear=LW;Ee.weekYear=fY;Ee.isoWeekYear=dY;Ee.quarter=Ee.quarters=yY;Ee.month=IT;Ee.daysInMonth=zW;Ee.week=Ee.weeks=XW;Ee.isoWeek=Ee.isoWeeks=ZW;Ee.weeksInYear=vY;Ee.weeksInWeekYear=gY;Ee.isoWeeksInYear=pY;Ee.isoWeeksInISOWeekYear=hY;Ee.date=ZT;Ee.day=Ee.days=dG;Ee.weekday=pG;Ee.isoWeekday=hG;Ee.dayOfYear=bY;Ee.hour=Ee.hours=SG;Ee.minute=Ee.minutes=_Y;Ee.second=Ee.seconds=SY;Ee.millisecond=Ee.milliseconds=ek;Ee.utcOffset=n7;Ee.utc=a7;Ee.local=o7;Ee.parseZone=s7;Ee.hasAlignedHourOffset=l7;Ee.isDST=u7;Ee.isLocal=f7;Ee.isUtcOffset=d7;Ee.isUtc=qT;Ee.isUTC=qT;Ee.zoneAbbr=xY;Ee.zoneName=wY;Ee.dates=wi("dates accessor is deprecated. Use date instead.",ZT);Ee.months=wi("months accessor is deprecated. Use month instead",IT);Ee.years=wi("years accessor is deprecated. Use year instead",wT);Ee.zone=wi("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",i7);Ee.isDSTShifted=wi("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",c7);function EY(t){return mr(t*1e3)}function CY(){return mr.apply(null,arguments).parseZone()}function tk(t){return t}var Mt=Jm.prototype;Mt.calendar=fW;Mt.longDateFormat=vW;Mt.invalidDate=mW;Mt.ordinal=_W;Mt.preparse=tk;Mt.postformat=tk;Mt.relativeTime=OW;Mt.pastFuture=xW;Mt.set=uW;Mt.eras=X7;Mt.erasParse=Z7;Mt.erasConvertYear=eY;Mt.erasAbbrRegex=oY;Mt.erasNameRegex=aY;Mt.erasNarrowRegex=sY;Mt.months=VW;Mt.monthsShort=BW;Mt.monthsParse=HW;Mt.monthsRegex=WW;Mt.monthsShortRegex=UW;Mt.week=YW;Mt.firstDayOfYear=QW;Mt.firstDayOfWeek=JW;Mt.weekdays=sG;Mt.weekdaysMin=uG;Mt.weekdaysShort=lG;Mt.weekdaysParse=fG;Mt.weekdaysRegex=vG;Mt.weekdaysShortRegex=gG;Mt.weekdaysMinRegex=mG;Mt.isPM=bG;Mt.meridiem=OG;function Ed(t,e,r,n){var i=Ua(),a=_a().set(n,e);return i[r](a,t)}function rk(t,e,r){if(Ba(t)&&(e=t,t=void 0),t=t||"",e!=null)return Ed(t,e,r,"month");var n,i=[];for(n=0;n<12;n++)i[n]=Ed(t,n,r,"month");return i}function hy(t,e,r,n){typeof t=="boolean"?(Ba(e)&&(r=e,e=void 0),e=e||""):(e=t,r=e,t=!1,Ba(e)&&(r=e,e=void 0),e=e||"");var i=Ua(),a=t?i._week.dow:0,o,s=[];if(r!=null)return Ed(e,(r+a)%7,n,"day");for(o=0;o<7;o++)s[o]=Ed(e,(o+a)%7,n,"day");return s}function TY(t,e){return rk(t,e,"months")}function kY(t,e){return rk(t,e,"monthsShort")}function IY(t,e,r){return hy(t,e,r,"weekdays")}function AY(t,e,r){return hy(t,e,r,"weekdaysShort")}function jY(t,e,r){return hy(t,e,r,"weekdaysMin")}po("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10,r=xt(t%100/10)===1?"th":e===1?"st":e===2?"nd":e===3?"rd":"th";return t+r}});je.lang=wi("moment.lang is deprecated. Use moment.locale instead.",po);je.langData=wi("moment.langData is deprecated. Use moment.localeData instead.",Ua);var Ia=Math.abs;function PY(){var t=this._data;return this._milliseconds=Ia(this._milliseconds),this._days=Ia(this._days),this._months=Ia(this._months),t.milliseconds=Ia(t.milliseconds),t.seconds=Ia(t.seconds),t.minutes=Ia(t.minutes),t.hours=Ia(t.hours),t.months=Ia(t.months),t.years=Ia(t.years),this}function nk(t,e,r,n){var i=Gi(e,r);return t._milliseconds+=n*i._milliseconds,t._days+=n*i._days,t._months+=n*i._months,t._bubble()}function LY(t,e){return nk(this,t,e,1)}function FY(t,e){return nk(this,t,e,-1)}function K_(t){return t<0?Math.floor(t):Math.ceil(t)}function RY(){var t=this._milliseconds,e=this._days,r=this._months,n=this._data,i,a,o,s,l;return t>=0&&e>=0&&r>=0||t<=0&&e<=0&&r<=0||(t+=K_(Xv(r)+e)*864e5,e=0,r=0),n.milliseconds=t%1e3,i=li(t/1e3),n.seconds=i%60,a=li(i/60),n.minutes=a%60,o=li(a/60),n.hours=o%24,e+=li(o/24),l=li(ik(e)),r+=l,e-=K_(Xv(l)),s=li(r/12),r%=12,n.days=e,n.months=r,n.years=s,this}function ik(t){return t*4800/146097}function Xv(t){return t*146097/4800}function $Y(t){if(!this.isValid())return NaN;var e,r,n=this._milliseconds;if(t=Ei(t),t==="month"||t==="quarter"||t==="year")switch(e=this._days+n/864e5,r=this._months+ik(e),t){case"month":return r;case"quarter":return r/3;case"year":return r/12}else switch(e=this._days+Math.round(Xv(this._months)),t){case"week":return e/7+n/6048e5;case"day":return e+n/864e5;case"hour":return e*24+n/36e5;case"minute":return e*1440+n/6e4;case"second":return e*86400+n/1e3;case"millisecond":return Math.floor(e*864e5)+n;default:throw new Error("Unknown unit "+t)}}function Wa(t){return function(){return this.as(t)}}var ak=Wa("ms"),NY=Wa("s"),DY=Wa("m"),MY=Wa("h"),VY=Wa("d"),BY=Wa("w"),qY=Wa("M"),HY=Wa("Q"),zY=Wa("y"),UY=ak;function WY(){return Gi(this)}function GY(t){return t=Ei(t),this.isValid()?this[t+"s"]():NaN}function hs(t){return function(){return this.isValid()?this._data[t]:NaN}}var YY=hs("milliseconds"),KY=hs("seconds"),JY=hs("minutes"),QY=hs("hours"),XY=hs("days"),ZY=hs("months"),eK=hs("years");function tK(){return li(this.days()/7)}var La=Math.round,ll={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function rK(t,e,r,n,i){return i.relativeTime(e||1,!!r,t,n)}function nK(t,e,r,n){var i=Gi(t).abs(),a=La(i.as("s")),o=La(i.as("m")),s=La(i.as("h")),l=La(i.as("d")),u=La(i.as("M")),c=La(i.as("w")),f=La(i.as("y")),d=a<=r.ss&&["s",a]||a<r.s&&["ss",a]||o<=1&&["m"]||o<r.m&&["mm",o]||s<=1&&["h"]||s<r.h&&["hh",s]||l<=1&&["d"]||l<r.d&&["dd",l];return r.w!=null&&(d=d||c<=1&&["w"]||c<r.w&&["ww",c]),d=d||u<=1&&["M"]||u<r.M&&["MM",u]||f<=1&&["y"]||["yy",f],d[2]=e,d[3]=+t>0,d[4]=n,rK.apply(null,d)}function iK(t){return t===void 0?La:typeof t=="function"?(La=t,!0):!1}function aK(t,e){return ll[t]===void 0?!1:e===void 0?ll[t]:(ll[t]=e,t==="s"&&(ll.ss=e-1),!0)}function oK(t,e){if(!this.isValid())return this.localeData().invalidDate();var r=!1,n=ll,i,a;return typeof t=="object"&&(e=t,t=!1),typeof t=="boolean"&&(r=t),typeof e=="object"&&(n=Object.assign({},ll,e),e.s!=null&&e.ss==null&&(n.ss=e.s-1)),i=this.localeData(),a=nK(this,!r,n,i),r&&(a=i.pastFuture(+this,a)),i.postformat(a)}var Hh=Math.abs;function Ls(t){return(t>0)-(t<0)||+t}function Ap(){if(!this.isValid())return this.localeData().invalidDate();var t=Hh(this._milliseconds)/1e3,e=Hh(this._days),r=Hh(this._months),n,i,a,o,s=this.asSeconds(),l,u,c,f;return s?(n=li(t/60),i=li(n/60),t%=60,n%=60,a=li(r/12),r%=12,o=t?t.toFixed(3).replace(/\.?0+$/,""):"",l=s<0?"-":"",u=Ls(this._months)!==Ls(s)?"-":"",c=Ls(this._days)!==Ls(s)?"-":"",f=Ls(this._milliseconds)!==Ls(s)?"-":"",l+"P"+(a?u+a+"Y":"")+(r?u+r+"M":"")+(e?c+e+"D":"")+(i||n||t?"T":"")+(i?f+i+"H":"")+(n?f+n+"M":"")+(t?f+o+"S":"")):"P0D"}var Pt=kp.prototype;Pt.isValid=ZG;Pt.abs=PY;Pt.add=LY;Pt.subtract=FY;Pt.as=$Y;Pt.asMilliseconds=ak;Pt.asSeconds=NY;Pt.asMinutes=DY;Pt.asHours=MY;Pt.asDays=VY;Pt.asWeeks=BY;Pt.asMonths=qY;Pt.asQuarters=HY;Pt.asYears=zY;Pt.valueOf=UY;Pt._bubble=RY;Pt.clone=WY;Pt.get=GY;Pt.milliseconds=YY;Pt.seconds=KY;Pt.minutes=JY;Pt.hours=QY;Pt.days=XY;Pt.weeks=tK;Pt.months=ZY;Pt.years=eK;Pt.humanize=oK;Pt.toISOString=Ap;Pt.toString=Ap;Pt.toJSON=Ap;Pt.locale=WT;Pt.localeData=YT;Pt.toIsoString=wi("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Ap);Pt.lang=GT;Ye("X",0,0,"unix");Ye("x",0,0,"valueOf");$e("x",wp);$e("X",TW);er("X",function(t,e,r){r._d=new Date(parseFloat(t)*1e3)});er("x",function(t,e,r){r._d=new Date(xt(t))});//! moment.js
je.version="2.30.1";sW(mr);je.fn=Ee;je.min=KG;je.max=JG;je.now=QG;je.utc=_a;je.unix=EY;je.months=TY;je.isDate=Tc;je.locale=po;je.invalid=_p;je.duration=Gi;je.isMoment=Mi;je.weekdays=IY;je.parseZone=CY;je.localeData=Ua;je.isDuration=Zf;je.monthsShort=kY;je.weekdaysMin=jY;je.defineLocale=oy;je.updateLocale=CG;je.locales=TG;je.weekdaysShort=AY;je.normalizeUnits=Ei;je.relativeTimeRounding=iK;je.relativeTimeThreshold=aK;je.calendarFormat=O7;je.prototype=Ee;je.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};const sK={normalDateWithWeekday:"ddd, MMM D",normalDate:"D MMMM",shortDate:"MMM D",monthAndDate:"MMMM D",dayOfMonth:"D",year:"YYYY",month:"MMMM",monthShort:"MMM",monthAndYear:"MMMM YYYY",weekday:"dddd",weekdayShort:"ddd",minutes:"mm",hours12h:"hh",hours24h:"HH",seconds:"ss",fullTime:"LT",fullTime12h:"hh:mm A",fullTime24h:"HH:mm",fullDate:"ll",fullDateWithWeekday:"dddd, LL",fullDateTime:"lll",fullDateTime12h:"ll hh:mm A",fullDateTime24h:"ll HH:mm",keyboardDate:"L",keyboardDateTime:"L LT",keyboardDateTime12h:"L hh:mm A",keyboardDateTime24h:"L HH:mm"};class lK{constructor({locale:e,formats:r,instance:n}={}){this.lib="moment",this.is12HourCycleInCurrentLocale=()=>/A|a/.test(this.moment.localeData(this.getCurrentLocaleCode()).longDateFormat("LT")),this.getFormatHelperText=i=>{var a,o;const s=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})|./g;return(o=(a=i.match(s))===null||a===void 0?void 0:a.map(l=>{const u=l[0];return u==="L"||u===";"?this.moment.localeData(this.getCurrentLocaleCode()).longDateFormat(l):l}).join("").replace(/a/gi,"(a|p)m").toLocaleLowerCase())!==null&&o!==void 0?o:i},this.getCurrentLocaleCode=()=>this.locale||this.moment.locale(),this.parseISO=i=>this.moment(i,!0),this.toISO=i=>i.toISOString(),this.parse=(i,a)=>i===""?null:this.locale?this.moment(i,a,this.locale,!0):this.moment(i,a,!0),this.date=i=>{if(i===null)return null;const a=this.moment(i);return this.locale&&a.locale(this.locale),a},this.toJsDate=i=>i.toDate(),this.isValid=i=>this.moment(i).isValid(),this.isNull=i=>i===null,this.getDiff=(i,a,o)=>this.moment(a).isValid()?i.diff(a,o):0,this.isAfter=(i,a)=>i.isAfter(a),this.isBefore=(i,a)=>i.isBefore(a),this.isAfterDay=(i,a)=>i.isAfter(a,"day"),this.isBeforeDay=(i,a)=>i.isBefore(a,"day"),this.isBeforeMonth=(i,a)=>i.isBefore(a,"month"),this.isAfterMonth=(i,a)=>i.isAfter(a,"month"),this.isBeforeYear=(i,a)=>i.isBefore(a,"year"),this.isAfterYear=(i,a)=>i.isAfter(a,"year"),this.startOfDay=i=>i.clone().startOf("day"),this.endOfDay=i=>i.clone().endOf("day"),this.format=(i,a)=>this.formatByString(i,this.formats[a]),this.formatByString=(i,a)=>{const o=i.clone();return this.locale&&o.locale(this.locale),o.format(a)},this.formatNumber=i=>i,this.getHours=i=>i.get("hours"),this.addSeconds=(i,a)=>a<0?i.clone().subtract(Math.abs(a),"seconds"):i.clone().add(a,"seconds"),this.addMinutes=(i,a)=>a<0?i.clone().subtract(Math.abs(a),"minutes"):i.clone().add(a,"minutes"),this.addHours=(i,a)=>a<0?i.clone().subtract(Math.abs(a),"hours"):i.clone().add(a,"hours"),this.addDays=(i,a)=>a<0?i.clone().subtract(Math.abs(a),"days"):i.clone().add(a,"days"),this.addWeeks=(i,a)=>a<0?i.clone().subtract(Math.abs(a),"weeks"):i.clone().add(a,"weeks"),this.addMonths=(i,a)=>a<0?i.clone().subtract(Math.abs(a),"months"):i.clone().add(a,"months"),this.addYears=(i,a)=>a<0?i.clone().subtract(Math.abs(a),"years"):i.clone().add(a,"years"),this.setHours=(i,a)=>i.clone().hours(a),this.getMinutes=i=>i.get("minutes"),this.setMinutes=(i,a)=>i.clone().minutes(a),this.getSeconds=i=>i.get("seconds"),this.setSeconds=(i,a)=>i.clone().seconds(a),this.getMonth=i=>i.get("month"),this.getDaysInMonth=i=>i.daysInMonth(),this.isSameDay=(i,a)=>i.isSame(a,"day"),this.isSameMonth=(i,a)=>i.isSame(a,"month"),this.isSameYear=(i,a)=>i.isSame(a,"year"),this.isSameHour=(i,a)=>i.isSame(a,"hour"),this.setMonth=(i,a)=>i.clone().month(a),this.getMeridiemText=i=>this.is12HourCycleInCurrentLocale()?this.moment.localeData(this.getCurrentLocaleCode()).meridiem(i==="am"?0:13,0,!1):i==="am"?"AM":"PM",this.startOfYear=i=>i.clone().startOf("year"),this.endOfYear=i=>i.clone().endOf("year"),this.startOfMonth=i=>i.clone().startOf("month"),this.endOfMonth=i=>i.clone().endOf("month"),this.startOfWeek=i=>i.clone().startOf("week"),this.endOfWeek=i=>i.clone().endOf("week"),this.getNextMonth=i=>i.clone().add(1,"month"),this.getPreviousMonth=i=>i.clone().subtract(1,"month"),this.getMonthArray=i=>{const o=[i.clone().startOf("year")];for(;o.length<12;){const s=o[o.length-1];o.push(this.getNextMonth(s))}return o},this.getYear=i=>i.get("year"),this.setYear=(i,a)=>i.clone().set("year",a),this.getDate=i=>i.get("date"),this.setDate=(i,a)=>i.clone().set("date",a),this.mergeDateAndTime=(i,a)=>i.hour(a.hour()).minute(a.minute()).second(a.second()),this.getWeekdays=()=>this.moment.weekdaysShort(!0),this.isEqual=(i,a)=>i===null&&a===null?!0:this.moment(i).isSame(a),this.getWeekArray=i=>{const a=i.clone().startOf("month").startOf("week"),o=i.clone().endOf("month").endOf("week");let s=0,l=a;const u=[];for(;l.isBefore(o);){const c=Math.floor(s/7);u[c]=u[c]||[],u[c].push(l),l=l.clone().add(1,"day"),s+=1}return u},this.getYearRange=(i,a)=>{const o=this.moment(i).startOf("year"),s=this.moment(a).endOf("year"),l=[];let u=o;for(;u.isBefore(s);)l.push(u),u=u.clone().add(1,"year");return l},this.isWithinRange=(i,[a,o])=>i.isBetween(a,o,null,"[]"),this.moment=n||je,this.locale=e,this.formats=Object.assign({},sK,r)}}const uK="@mui/x-date-pickers",cK="5.0.20",fK="The community edition of the date picker components (MUI X).",dK="MUI Team",pK="./node/index.js",hK="MIT",vK={url:"https://github.com/mui/mui-x/issues"},gK="https://mui.com/x/react-date-pickers/getting-started/",mK={type:"opencollective",url:"https://opencollective.com/mui"},yK=!1,bK={access:"public"},_K=["react","react-component","mui","material-ui","material design","datepicker","timepicker","datetimepicker"],SK={type:"git",url:"https://github.com/mui/mui-x.git",directory:"packages/x-date-pickers"},OK={"@babel/runtime":"^7.18.9","@date-io/core":"^2.15.0","@date-io/date-fns":"^2.15.0","@date-io/dayjs":"^2.15.0","@date-io/luxon":"^2.15.0","@date-io/moment":"^2.15.0","@mui/utils":"^5.10.3","@types/react-transition-group":"^4.4.5",clsx:"^1.2.1","prop-types":"^15.7.2","react-transition-group":"^4.4.5",rifm:"^0.12.1"},xK={"@emotion/react":"^11.9.0","@emotion/styled":"^11.8.1","@mui/material":"^5.4.1","@mui/system":"^5.4.1","date-fns":"^2.25.0",dayjs:"^1.10.7",luxon:"^1.28.0 || ^2.0.0 || ^3.0.0",moment:"^2.29.1",react:"^17.0.2 || ^18.0.0","react-dom":"^17.0.2 || ^18.0.0"},wK={"date-fns":{optional:!0},dayjs:{optional:!0},"@emotion/react":{optional:!0},"@emotion/styled":{optional:!0},luxon:{optional:!0},moment:{optional:!0}},EK=["<rootDir>/src/setupTests.js"],CK={node:">=12.0.0"},TK="./index.js",kK="./index.d.ts",mi={name:uK,version:cK,description:fK,author:dK,main:pK,license:hK,bugs:vK,homepage:gK,funding:mK,sideEffects:yK,publishConfig:bK,keywords:_K,repository:SK,dependencies:OK,peerDependencies:xK,peerDependenciesMeta:wK,setupFiles:EK,engines:CK,private:!1,module:TK,types:kK},IK=function(t){var e=t.value,r=t.setValue;t.config;var n=t.readonly,i=t.placeholder,a=t.customProps,o=t.maxLength;t.errorMessage;var s=X.useCallback(function(u){var c=u.target.value;c===""&&(c=void 0),r(c)},[r]),l=e||"";return j.createElement(Fr,null,j.createElement(Xt,he({variant:"standard",value:l,placeholder:n?"":i,InputProps:{readOnly:n},inputProps:{maxLength:o},disabled:n,onChange:s,size:"small"},a)))},AK=function(t){var e=t.value,r=t.setValue,n=t.config,i=t.readonly,a=t.placeholder,o=t.customProps,s=t.maxLength,l=t.maxRows,u=t.fullWidth,c=n.settings.defaultMaxRows,f=function(v){var h=v.target.value;h===""&&(h=void 0),r(h)},d=e||"";return j.createElement(Fr,{fullWidth:u},j.createElement(Xt,he({variant:"standard",fullWidth:u,maxRows:l||c,multiline:!0,value:d,placeholder:i?"":a,InputProps:{readOnly:i},inputProps:{maxLength:s},disabled:i,onChange:f,size:"small"},o)))};function jK(t){if(Array.isArray(t))return $F(t)}function PK(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Ce(t){return jK(t)||NF(t)||DF(t)||PK()}var jc="delete",hr=5,vi=1<<hr,An=vi-1,kt={};function Zv(){return{value:!1}}function gi(t){t&&(t.value=!0)}function vy(){}function Ol(t){return t.size===void 0&&(t.size=t.__iterate(ok)),t.size}function _o(t,e){if(typeof e!="number"){var r=e>>>0;if(""+r!==e||r===4294967295)return NaN;e=r}return e<0?Ol(t)+e:e}function ok(){return!0}function Pc(t,e,r){return(t===0&&!lk(t)||r!==void 0&&t<=-r)&&(e===void 0||r!==void 0&&e>=r)}function Yl(t,e){return sk(t,e,0)}function Lc(t,e){return sk(t,e,e)}function sk(t,e,r){return t===void 0?r:lk(t)?e===1/0?e:Math.max(0,e+t)|0:e===void 0||e===t?t:Math.min(e,t)|0}function lk(t){return t<0||t===0&&1/t===-1/0}var uk="@@__IMMUTABLE_ITERABLE__@@";function Pn(t){return!!(t&&t[uk])}var ck="@@__IMMUTABLE_KEYED__@@";function or(t){return!!(t&&t[ck])}var fk="@@__IMMUTABLE_INDEXED__@@";function yn(t){return!!(t&&t[fk])}function Fc(t){return or(t)||yn(t)}var kr=function(e){return Pn(e)?e:Fn(e)},Ci=function(t){function e(r){return or(r)?r:jo(r)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(kr),vs=function(t){function e(r){return yn(r)?r:ki(r)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(kr),Kl=function(t){function e(r){return Pn(r)&&!Fc(r)?r:Xl(r)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(kr);kr.Keyed=Ci;kr.Indexed=vs;kr.Set=Kl;var dk="@@__IMMUTABLE_SEQ__@@";function jp(t){return!!(t&&t[dk])}var pk="@@__IMMUTABLE_RECORD__@@";function gs(t){return!!(t&&t[pk])}function Ti(t){return Pn(t)||gs(t)}var Jl="@@__IMMUTABLE_ORDERED__@@";function yi(t){return!!(t&&t[Jl])}var Rc=0,Vi=1,Si=2,eg=typeof Symbol=="function"&&Symbol.iterator,hk="@@iterator",Pp=eg||hk,Dt=function(e){this.next=e};Dt.prototype.toString=function(){return"[Iterator]"};Dt.KEYS=Rc;Dt.VALUES=Vi;Dt.ENTRIES=Si;Dt.prototype.inspect=Dt.prototype.toSource=function(){return this.toString()};Dt.prototype[Pp]=function(){return this};function gr(t,e,r,n){var i=t===0?e:t===1?r:[e,r];return n?n.value=i:n={value:i,done:!1},n}function Ln(){return{value:void 0,done:!0}}function gy(t){return Array.isArray(t)?!0:!!Lp(t)}function J_(t){return t&&typeof t.next=="function"}function tg(t){var e=Lp(t);return e&&e.call(t)}function Lp(t){var e=t&&(eg&&t[eg]||t[hk]);if(typeof e=="function")return e}function LK(t){var e=Lp(t);return e&&e===t.entries}function FK(t){var e=Lp(t);return e&&e===t.keys}var Ql=Object.prototype.hasOwnProperty;function my(t){return Array.isArray(t)||typeof t=="string"?!0:t&&typeof t=="object"&&Number.isInteger(t.length)&&t.length>=0&&(t.length===0?Object.keys(t).length===1:t.hasOwnProperty(t.length-1))}var Fn=function(t){function e(r){return r==null?by():Ti(r)?r.toSeq():$K(r)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.toSeq=function(){return this},e.prototype.toString=function(){return this.__toString("Seq {","}")},e.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},e.prototype.__iterate=function(n,i){var a=this._cache;if(a){for(var o=a.length,s=0;s!==o;){var l=a[i?o-++s:s++];if(n(l[1],l[0],this)===!1)break}return s}return this.__iterateUncached(n,i)},e.prototype.__iterator=function(n,i){var a=this._cache;if(a){var o=a.length,s=0;return new Dt(function(){if(s===o)return Ln();var l=a[i?o-++s:s++];return gr(n,l[0],l[1])})}return this.__iteratorUncached(n,i)},e}(kr),jo=function(t){function e(r){return r==null?by().toKeyedSeq():Pn(r)?or(r)?r.toSeq():r.fromEntrySeq():gs(r)?r.toSeq():_y(r)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.toKeyedSeq=function(){return this},e}(Fn),ki=function(t){function e(r){return r==null?by():Pn(r)?or(r)?r.entrySeq():r.toIndexedSeq():gs(r)?r.toSeq().entrySeq():vk(r)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return e(arguments)},e.prototype.toIndexedSeq=function(){return this},e.prototype.toString=function(){return this.__toString("Seq [","]")},e}(Fn),Xl=function(t){function e(r){return(Pn(r)&&!Fc(r)?r:ki(r)).toSetSeq()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return e(arguments)},e.prototype.toSetSeq=function(){return this},e}(Fn);Fn.isSeq=jp;Fn.Keyed=jo;Fn.Set=Xl;Fn.Indexed=ki;Fn.prototype[dk]=!0;var Qo=function(t){function e(r){this._array=r,this.size=r.length}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(n,i){return this.has(n)?this._array[_o(this,n)]:i},e.prototype.__iterate=function(n,i){for(var a=this._array,o=a.length,s=0;s!==o;){var l=i?o-++s:s++;if(n(a[l],l,this)===!1)break}return s},e.prototype.__iterator=function(n,i){var a=this._array,o=a.length,s=0;return new Dt(function(){if(s===o)return Ln();var l=i?o-++s:s++;return gr(n,l,a[l])})},e}(ki),yy=function(t){function e(r){var n=Object.keys(r).concat(Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(r):[]);this._object=r,this._keys=n,this.size=n.length}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(n,i){return i!==void 0&&!this.has(n)?i:this._object[n]},e.prototype.has=function(n){return Ql.call(this._object,n)},e.prototype.__iterate=function(n,i){for(var a=this._object,o=this._keys,s=o.length,l=0;l!==s;){var u=o[i?s-++l:l++];if(n(a[u],u,this)===!1)break}return l},e.prototype.__iterator=function(n,i){var a=this._object,o=this._keys,s=o.length,l=0;return new Dt(function(){if(l===s)return Ln();var u=o[i?s-++l:l++];return gr(n,u,a[u])})},e}(jo);yy.prototype[Jl]=!0;var RK=function(t){function e(r){this._collection=r,this.size=r.length||r.size}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.__iterateUncached=function(n,i){if(i)return this.cacheResult().__iterate(n,i);var a=this._collection,o=tg(a),s=0;if(J_(o))for(var l;!(l=o.next()).done&&n(l.value,s++,this)!==!1;);return s},e.prototype.__iteratorUncached=function(n,i){if(i)return this.cacheResult().__iterator(n,i);var a=this._collection,o=tg(a);if(!J_(o))return new Dt(Ln);var s=0;return new Dt(function(){var l=o.next();return l.done?l:gr(n,s++,l.value)})},e}(ki),Q_;function by(){return Q_||(Q_=new Qo([]))}function _y(t){var e=Sy(t);if(e)return e.fromEntrySeq();if(typeof t=="object")return new yy(t);throw new TypeError("Expected Array or collection object of [k, v] entries, or keyed object: "+t)}function vk(t){var e=Sy(t);if(e)return e;throw new TypeError("Expected Array or collection object of values: "+t)}function $K(t){var e=Sy(t);if(e)return LK(t)?e.fromEntrySeq():FK(t)?e.toSetSeq():e;if(typeof t=="object")return new yy(t);throw new TypeError("Expected Array or collection object of values, or keyed object: "+t)}function Sy(t){return my(t)?new Qo(t):gy(t)?new RK(t):void 0}var gk="@@__IMMUTABLE_MAP__@@";function Fp(t){return!!(t&&t[gk])}function Oy(t){return Fp(t)&&yi(t)}function rg(t){return!!(t&&typeof t.equals=="function"&&typeof t.hashCode=="function")}function on(t,e){if(t===e||t!==t&&e!==e)return!0;if(!t||!e)return!1;if(typeof t.valueOf=="function"&&typeof e.valueOf=="function"){if(t=t.valueOf(),e=e.valueOf(),t===e||t!==t&&e!==e)return!0;if(!t||!e)return!1}return!!(rg(t)&&rg(e)&&t.equals(e))}var Ou=typeof Math.imul=="function"&&Math.imul(4294967295,2)===-2?Math.imul:function(e,r){e|=0,r|=0;var n=e&65535,i=r&65535;return n*i+((e>>>16)*i+n*(r>>>16)<<16>>>0)|0};function Rp(t){return t>>>1&1073741824|t&3221225471}var NK=Object.prototype.valueOf;function qn(t){if(t==null)return X_(t);if(typeof t.hashCode=="function")return Rp(t.hashCode(t));var e=HK(t);if(e==null)return X_(e);switch(typeof e){case"boolean":return e?1108378657:1108378656;case"number":return DK(e);case"string":return e.length>zK?MK(e):ng(e);case"object":case"function":return BK(e);case"symbol":return VK(e);default:if(typeof e.toString=="function")return ng(e.toString());throw new Error("Value type "+typeof e+" cannot be hashed.")}}function X_(t){return t===null?1108378658:1108378659}function DK(t){if(t!==t||t===1/0)return 0;var e=t|0;for(e!==t&&(e^=t*4294967295);t>4294967295;)t/=4294967295,e^=t;return Rp(e)}function MK(t){var e=Wh[t];return e===void 0&&(e=ng(t),Uh===UK&&(Uh=0,Wh={}),Uh++,Wh[t]=e),e}function ng(t){for(var e=0,r=0;r<t.length;r++)e=31*e+t.charCodeAt(r)|0;return Rp(e)}function VK(t){var e=tS[t];return e!==void 0||(e=mk(),tS[t]=e),e}function BK(t){var e;if(ig&&(e=ag.get(t),e!==void 0)||(e=t[Bo],e!==void 0)||!eS&&(e=t.propertyIsEnumerable&&t.propertyIsEnumerable[Bo],e!==void 0||(e=qK(t),e!==void 0)))return e;if(e=mk(),ig)ag.set(t,e);else{if(Z_!==void 0&&Z_(t)===!1)throw new Error("Non-extensible objects are not allowed as keys.");if(eS)Object.defineProperty(t,Bo,{enumerable:!1,configurable:!1,writable:!1,value:e});else if(t.propertyIsEnumerable!==void 0&&t.propertyIsEnumerable===t.constructor.prototype.propertyIsEnumerable)t.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},t.propertyIsEnumerable[Bo]=e;else if(t.nodeType!==void 0)t[Bo]=e;else throw new Error("Unable to set a non-enumerable property on object.")}return e}var Z_=Object.isExtensible,eS=function(){try{return Object.defineProperty({},"@",{}),!0}catch(t){return!1}}();function qK(t){if(t&&t.nodeType>0)switch(t.nodeType){case 1:return t.uniqueID;case 9:return t.documentElement&&t.documentElement.uniqueID}}function HK(t){return t.valueOf!==NK&&typeof t.valueOf=="function"?t.valueOf(t):t}function mk(){var t=++zh;return zh&1073741824&&(zh=0),t}var ig=typeof WeakMap=="function",ag;ig&&(ag=new WeakMap);var tS=Object.create(null),zh=0,Bo="__immutablehash__";typeof Symbol=="function"&&(Bo=Symbol(Bo));var zK=16,UK=255,Uh=0,Wh={},$p=function(t){function e(r,n){this._iter=r,this._useKeys=n,this.size=r.size}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(n,i){return this._iter.get(n,i)},e.prototype.has=function(n){return this._iter.has(n)},e.prototype.valueSeq=function(){return this._iter.valueSeq()},e.prototype.reverse=function(){var n=this,i=xy(this,!0);return this._useKeys||(i.valueSeq=function(){return n._iter.toSeq().reverse()}),i},e.prototype.map=function(n,i){var a=this,o=Ok(this,n,i);return this._useKeys||(o.valueSeq=function(){return a._iter.toSeq().map(n,i)}),o},e.prototype.__iterate=function(n,i){var a=this;return this._iter.__iterate(function(o,s){return n(o,s,a)},i)},e.prototype.__iterator=function(n,i){return this._iter.__iterator(n,i)},e}(jo);$p.prototype[Jl]=!0;var yk=function(t){function e(r){this._iter=r,this.size=r.size}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.includes=function(n){return this._iter.includes(n)},e.prototype.__iterate=function(n,i){var a=this,o=0;return i&&Ol(this),this._iter.__iterate(function(s){return n(s,i?a.size-++o:o++,a)},i)},e.prototype.__iterator=function(n,i){var a=this,o=this._iter.__iterator(Vi,i),s=0;return i&&Ol(this),new Dt(function(){var l=o.next();return l.done?l:gr(n,i?a.size-++s:s++,l.value,l)})},e}(ki),bk=function(t){function e(r){this._iter=r,this.size=r.size}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.has=function(n){return this._iter.includes(n)},e.prototype.__iterate=function(n,i){var a=this;return this._iter.__iterate(function(o){return n(o,o,a)},i)},e.prototype.__iterator=function(n,i){var a=this._iter.__iterator(Vi,i);return new Dt(function(){var o=a.next();return o.done?o:gr(n,o.value,o.value,o)})},e}(Xl),_k=function(t){function e(r){this._iter=r,this.size=r.size}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.entrySeq=function(){return this._iter.toSeq()},e.prototype.__iterate=function(n,i){var a=this;return this._iter.__iterate(function(o){if(o){nS(o);var s=Pn(o);return n(s?o.get(1):o[1],s?o.get(0):o[0],a)}},i)},e.prototype.__iterator=function(n,i){var a=this._iter.__iterator(Vi,i);return new Dt(function(){for(;;){var o=a.next();if(o.done)return o;var s=o.value;if(s){nS(s);var l=Pn(s);return gr(n,l?s.get(0):s[0],l?s.get(1):s[1],o)}}})},e}(jo);yk.prototype.cacheResult=$p.prototype.cacheResult=bk.prototype.cacheResult=_k.prototype.cacheResult=Cy;function Sk(t){var e=Oa(t);return e._iter=t,e.size=t.size,e.flip=function(){return t},e.reverse=function(){var r=t.reverse.apply(this);return r.flip=function(){return t.reverse()},r},e.has=function(r){return t.includes(r)},e.includes=function(r){return t.has(r)},e.cacheResult=Cy,e.__iterateUncached=function(r,n){var i=this;return t.__iterate(function(a,o){return r(o,a,i)!==!1},n)},e.__iteratorUncached=function(r,n){if(r===Si){var i=t.__iterator(r,n);return new Dt(function(){var a=i.next();if(!a.done){var o=a.value[0];a.value[0]=a.value[1],a.value[1]=o}return a})}return t.__iterator(r===Vi?Rc:Vi,n)},e}function Ok(t,e,r){var n=Oa(t);return n.size=t.size,n.has=function(i){return t.has(i)},n.get=function(i,a){var o=t.get(i,kt);return o===kt?a:e.call(r,o,i,t)},n.__iterateUncached=function(i,a){var o=this;return t.__iterate(function(s,l,u){return i(e.call(r,s,l,u),l,o)!==!1},a)},n.__iteratorUncached=function(i,a){var o=t.__iterator(Si,a);return new Dt(function(){var s=o.next();if(s.done)return s;var l=s.value,u=l[0];return gr(i,u,e.call(r,l[1],u,t),s)})},n}function xy(t,e){var r=this,n=Oa(t);return n._iter=t,n.size=t.size,n.reverse=function(){return t},t.flip&&(n.flip=function(){var i=Sk(t);return i.reverse=function(){return t.flip()},i}),n.get=function(i,a){return t.get(e?i:-1-i,a)},n.has=function(i){return t.has(e?i:-1-i)},n.includes=function(i){return t.includes(i)},n.cacheResult=Cy,n.__iterate=function(i,a){var o=this,s=0;return a&&Ol(t),t.__iterate(function(l,u){return i(l,e?u:a?o.size-++s:s++,o)},!a)},n.__iterator=function(i,a){var o=0;a&&Ol(t);var s=t.__iterator(Si,!a);return new Dt(function(){var l=s.next();if(l.done)return l;var u=l.value;return gr(i,e?u[0]:a?r.size-++o:o++,u[1],l)})},n}function xk(t,e,r,n){var i=Oa(t);return n&&(i.has=function(a){var o=t.get(a,kt);return o!==kt&&!!e.call(r,o,a,t)},i.get=function(a,o){var s=t.get(a,kt);return s!==kt&&e.call(r,s,a,t)?s:o}),i.__iterateUncached=function(a,o){var s=this,l=0;return t.__iterate(function(u,c,f){if(e.call(r,u,c,f))return l++,a(u,n?c:l-1,s)},o),l},i.__iteratorUncached=function(a,o){var s=t.__iterator(Si,o),l=0;return new Dt(function(){for(;;){var u=s.next();if(u.done)return u;var c=u.value,f=c[0],d=c[1];if(e.call(r,d,f,t))return gr(a,n?f:l++,d,u)}})},i}function WK(t,e,r){var n=lr().asMutable();return t.__iterate(function(i,a){n.update(e.call(r,i,a,t),0,function(o){return o+1})}),n.asImmutable()}function GK(t,e,r){var n=or(t),i=(yi(t)?va():lr()).asMutable();t.__iterate(function(o,s){i.update(e.call(r,o,s,t),function(l){return l=l||[],l.push(n?[s,o]:o),l})});var a=Ey(t);return i.map(function(o){return rr(t,a(o))}).asImmutable()}function YK(t,e,r){var n=or(t),i=[[],[]];t.__iterate(function(o,s){i[e.call(r,o,s,t)?1:0].push(n?[s,o]:o)});var a=Ey(t);return i.map(function(o){return rr(t,a(o))})}function wy(t,e,r,n){var i=t.size;if(Pc(e,r,i))return t;if(typeof i>"u"&&(e<0||r<0))return wy(t.toSeq().cacheResult(),e,r,n);var a=Yl(e,i),o=Lc(r,i),s=o-a,l;s===s&&(l=s<0?0:s);var u=Oa(t);return u.size=l===0?l:t.size&&l||void 0,!n&&jp(t)&&l>=0&&(u.get=function(c,f){return c=_o(this,c),c>=0&&c<l?t.get(c+a,f):f}),u.__iterateUncached=function(c,f){var d=this;if(l===0)return 0;if(f)return this.cacheResult().__iterate(c,f);var p=0,v=!0,h=0;return t.__iterate(function(g,y){if(!(v&&(v=p++<a)))return h++,c(g,n?y:h-1,d)!==!1&&h!==l}),h},u.__iteratorUncached=function(c,f){if(l!==0&&f)return this.cacheResult().__iterator(c,f);if(l===0)return new Dt(Ln);var d=t.__iterator(c,f),p=0,v=0;return new Dt(function(){for(;p++<a;)d.next();if(++v>l)return Ln();var h=d.next();return n||c===Vi||h.done?h:c===Rc?gr(c,v-1,void 0,h):gr(c,v-1,h.value[1],h)})},u}function KK(t,e,r){var n=Oa(t);return n.__iterateUncached=function(i,a){var o=this;if(a)return this.cacheResult().__iterate(i,a);var s=0;return t.__iterate(function(l,u,c){return e.call(r,l,u,c)&&++s&&i(l,u,o)}),s},n.__iteratorUncached=function(i,a){var o=this;if(a)return this.cacheResult().__iterator(i,a);var s=t.__iterator(Si,a),l=!0;return new Dt(function(){if(!l)return Ln();var u=s.next();if(u.done)return u;var c=u.value,f=c[0],d=c[1];return e.call(r,d,f,o)?i===Si?u:gr(i,f,d,u):(l=!1,Ln())})},n}function wk(t,e,r,n){var i=Oa(t);return i.__iterateUncached=function(a,o){var s=this;if(o)return this.cacheResult().__iterate(a,o);var l=!0,u=0;return t.__iterate(function(c,f,d){if(!(l&&(l=e.call(r,c,f,d))))return u++,a(c,n?f:u-1,s)}),u},i.__iteratorUncached=function(a,o){var s=this;if(o)return this.cacheResult().__iterator(a,o);var l=t.__iterator(Si,o),u=!0,c=0;return new Dt(function(){var f,d,p;do{if(f=l.next(),f.done)return n||a===Vi?f:a===Rc?gr(a,c++,void 0,f):gr(a,c++,f.value[1],f);var v=f.value;d=v[0],p=v[1],u&&(u=e.call(r,p,d,s))}while(u);return a===Si?f:gr(a,d,p,f)})},i}function JK(t,e){var r=or(t),n=[t].concat(e).map(function(o){return Pn(o)?r&&(o=Ci(o)):o=r?_y(o):vk(Array.isArray(o)?o:[o]),o}).filter(function(o){return o.size!==0});if(n.length===0)return t;if(n.length===1){var i=n[0];if(i===t||r&&or(i)||yn(t)&&yn(i))return i}var a=new Qo(n);return r?a=a.toKeyedSeq():yn(t)||(a=a.toSetSeq()),a=a.flatten(!0),a.size=n.reduce(function(o,s){if(o!==void 0){var l=s.size;if(l!==void 0)return o+l}},0),a}function Ek(t,e,r){var n=Oa(t);return n.__iterateUncached=function(i,a){if(a)return this.cacheResult().__iterate(i,a);var o=0,s=!1;function l(u,c){u.__iterate(function(f,d){return(!e||c<e)&&Pn(f)?l(f,c+1):(o++,i(f,r?d:o-1,n)===!1&&(s=!0)),!s},a)}return l(t,0),o},n.__iteratorUncached=function(i,a){if(a)return this.cacheResult().__iterator(i,a);var o=t.__iterator(i,a),s=[],l=0;return new Dt(function(){for(;o;){var u=o.next();if(u.done!==!1){o=s.pop();continue}var c=u.value;if(i===Si&&(c=c[1]),(!e||s.length<e)&&Pn(c))s.push(o),o=c.__iterator(i,a);else return r?u:gr(i,l++,c,u)}return Ln()})},n}function QK(t,e,r){var n=Ey(t);return t.toSeq().map(function(i,a){return n(e.call(r,i,a,t))}).flatten(!0)}function XK(t,e){var r=Oa(t);return r.size=t.size&&t.size*2-1,r.__iterateUncached=function(n,i){var a=this,o=0;return t.__iterate(function(s){return(!o||n(e,o++,a)!==!1)&&n(s,o++,a)!==!1},i),o},r.__iteratorUncached=function(n,i){var a=t.__iterator(Vi,i),o=0,s;return new Dt(function(){return(!s||o%2)&&(s=a.next(),s.done)?s:o%2?gr(n,o++,e):gr(n,o++,s.value,s)})},r}function xl(t,e,r){e||(e=Ck);var n=or(t),i=0,a=t.toSeq().map(function(o,s){return[s,o,i++,r?r(o,s,t):o]}).valueSeq().toArray();return a.sort(function(o,s){return e(o[3],s[3])||o[2]-s[2]}).forEach(n?function(o,s){a[s].length=2}:function(o,s){a[s]=o[1]}),n?jo(a):yn(t)?ki(a):Xl(a)}function Ef(t,e,r){if(e||(e=Ck),r){var n=t.toSeq().map(function(i,a){return[i,r(i,a,t)]}).reduce(function(i,a){return rS(e,i[1],a[1])?a:i});return n&&n[0]}return t.reduce(function(i,a){return rS(e,i,a)?a:i})}function rS(t,e,r){var n=t(r,e);return n===0&&r!==e&&(r==null||r!==r)||n>0}function Cf(t,e,r,n){var i=Oa(t),a=new Qo(r).map(function(o){return o.size});return i.size=n?a.max():a.min(),i.__iterate=function(o,s){for(var l=this.__iterator(Vi,s),u,c=0;!(u=l.next()).done&&o(u.value,c++,this)!==!1;);return c},i.__iteratorUncached=function(o,s){var l=r.map(function(f){return f=kr(f),tg(s?f.reverse():f)}),u=0,c=!1;return new Dt(function(){var f;return c||(f=l.map(function(d){return d.next()}),c=n?f.every(function(d){return d.done}):f.some(function(d){return d.done})),c?Ln():gr(o,u++,e.apply(null,f.map(function(d){return d.value})))})},i}function rr(t,e){return t===e?t:jp(t)?e:t.constructor(e)}function nS(t){if(t!==Object(t))throw new TypeError("Expected [K, V] tuple: "+t)}function Ey(t){return or(t)?Ci:yn(t)?vs:Kl}function Oa(t){return Object.create((or(t)?jo:yn(t)?ki:Xl).prototype)}function Cy(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):Fn.prototype.cacheResult.call(this)}function Ck(t,e){return t===void 0&&e===void 0?0:t===void 0?1:e===void 0?-1:t>e?1:t<e?-1:0}function oa(t,e){e=e||0;for(var r=Math.max(0,t.length-e),n=new Array(r),i=0;i<r;i++)n[i]=t[i+e];return n}function Ty(t,e){if(!t)throw new Error(e)}function Jn(t){Ty(t!==1/0,"Cannot perform this action with an infinite size.")}function Tk(t){if(my(t)&&typeof t!="string")return t;if(yi(t))return t.toArray();throw new TypeError("Invalid keyPath: expected Ordered Collection or Array: "+t)}var ZK=Object.prototype.toString;function ky(t){if(!t||typeof t!="object"||ZK.call(t)!=="[object Object]")return!1;var e=Object.getPrototypeOf(t);if(e===null)return!0;for(var r=e,n=Object.getPrototypeOf(e);n!==null;)r=n,n=Object.getPrototypeOf(r);return r===e}function So(t){return typeof t=="object"&&(Ti(t)||Array.isArray(t)||ky(t))}function oc(t){try{return typeof t=="string"?JSON.stringify(t):String(t)}catch(e){return JSON.stringify(t)}}function kk(t,e){return Ti(t)?t.has(e):So(t)&&Ql.call(t,e)}function Iy(t,e,r){return Ti(t)?t.get(e,r):kk(t,e)?typeof t.get=="function"?t.get(e):t[e]:r}function Cd(t){if(Array.isArray(t))return oa(t);var e={};for(var r in t)Ql.call(t,r)&&(e[r]=t[r]);return e}function Ik(t,e){if(!So(t))throw new TypeError("Cannot update non-data-structure value: "+t);if(Ti(t)){if(!t.remove)throw new TypeError("Cannot update immutable value without .remove() method: "+t);return t.remove(e)}if(!Ql.call(t,e))return t;var r=Cd(t);return Array.isArray(r)?r.splice(e,1):delete r[e],r}function Ak(t,e,r){if(!So(t))throw new TypeError("Cannot update non-data-structure value: "+t);if(Ti(t)){if(!t.set)throw new TypeError("Cannot update immutable value without .set() method: "+t);return t.set(e,r)}if(Ql.call(t,e)&&r===t[e])return t;var n=Cd(t);return n[e]=r,n}function ms(t,e,r,n){n||(n=r,r=void 0);var i=jk(Ti(t),t,Tk(e),0,r,n);return i===kt?r:i}function jk(t,e,r,n,i,a){var o=e===kt;if(n===r.length){var s=o?i:e,l=a(s);return l===s?e:l}if(!o&&!So(e))throw new TypeError("Cannot update within non-data-structure value in path ["+r.slice(0,n).map(oc)+"]: "+e);var u=r[n],c=o?kt:Iy(e,u,kt),f=jk(c===kt?t:Ti(c),c,r,n+1,i,a);return f===c?e:f===kt?Ik(e,u):Ak(o?t?Pi():{}:e,u,f)}function Pk(t,e,r){return ms(t,e,kt,function(){return r})}function Ay(t,e){return Pk(this,t,e)}function Lk(t,e){return ms(t,e,function(){return kt})}function jy(t){return Lk(this,t)}function Py(t,e,r,n){return ms(t,[e],r,n)}function Ly(t,e,r){return arguments.length===1?t(this):Py(this,t,e,r)}function Fy(t,e,r){return ms(this,t,e,r)}function Fk(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return $k(this,t)}function Rk(t){for(var e=[],r=arguments.length-1;r-- >0;)e[r]=arguments[r+1];if(typeof t!="function")throw new TypeError("Invalid merger function: "+t);return $k(this,e,t)}function $k(t,e,r){for(var n=[],i=0;i<e.length;i++){var a=Ci(e[i]);a.size!==0&&n.push(a)}return n.length===0?t:t.toSeq().size===0&&!t.__ownerID&&n.length===1?t.constructor(n[0]):t.withMutations(function(o){for(var s=r?function(u,c){Py(o,c,kt,function(f){return f===kt?u:r(f,u,c)})}:function(u,c){o.set(c,u)},l=0;l<n.length;l++)n[l].forEach(s)})}function eJ(t){for(var e=[],r=arguments.length-1;r-- >0;)e[r]=arguments[r+1];return Nc(t,e)}function tJ(t,e){for(var r=[],n=arguments.length-2;n-- >0;)r[n]=arguments[n+2];return Nc(e,r,t)}function rJ(t){for(var e=[],r=arguments.length-1;r-- >0;)e[r]=arguments[r+1];return $c(t,e)}function nJ(t,e){for(var r=[],n=arguments.length-2;n-- >0;)r[n]=arguments[n+2];return $c(e,r,t)}function $c(t,e,r){return Nc(t,e,iJ(r))}function Nc(t,e,r){if(!So(t))throw new TypeError("Cannot merge into non-data-structure value: "+t);if(Ti(t))return typeof r=="function"&&t.mergeWith?t.mergeWith.apply(t,[r].concat(e)):t.merge?t.merge.apply(t,e):t.concat.apply(t,e);for(var n=Array.isArray(t),i=t,a=n?vs:Ci,o=n?function(l){i===t&&(i=Cd(i)),i.push(l)}:function(l,u){var c=Ql.call(i,u),f=c&&r?r(i[u],l,u):l;(!c||f!==i[u])&&(i===t&&(i=Cd(i)),i[u]=f)},s=0;s<e.length;s++)a(e[s]).forEach(o);return i}function iJ(t){function e(r,n,i){return So(r)&&So(n)&&aJ(r,n)?Nc(r,[n],e):t?t(r,n,i):n}return e}function aJ(t,e){var r=Fn(t),n=Fn(e);return yn(r)===yn(n)&&or(r)===or(n)}function Nk(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return $c(this,t)}function Dk(t){for(var e=[],r=arguments.length-1;r-- >0;)e[r]=arguments[r+1];return $c(this,e,t)}function Ry(t){for(var e=[],r=arguments.length-1;r-- >0;)e[r]=arguments[r+1];return ms(this,t,Pi(),function(n){return Nc(n,e)})}function $y(t){for(var e=[],r=arguments.length-1;r-- >0;)e[r]=arguments[r+1];return ms(this,t,Pi(),function(n){return $c(n,e)})}function Dc(t){var e=this.asMutable();return t(e),e.wasAltered()?e.__ensureOwner(this.__ownerID):this}function Mc(){return this.__ownerID?this:this.__ensureOwner(new vy)}function Vc(){return this.__ensureOwner()}function Ny(){return this.__altered}var lr=function(t){function e(r){return r==null?Pi():Fp(r)&&!yi(r)?r:Pi().withMutations(function(n){var i=t(r);Jn(i.size),i.forEach(function(a,o){return n.set(o,a)})})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){for(var n=[],i=arguments.length;i--;)n[i]=arguments[i];return Pi().withMutations(function(a){for(var o=0;o<n.length;o+=2){if(o+1>=n.length)throw new Error("Missing value for key: "+n[o]);a.set(n[o],n[o+1])}})},e.prototype.toString=function(){return this.__toString("Map {","}")},e.prototype.get=function(n,i){return this._root?this._root.get(0,void 0,n,i):i},e.prototype.set=function(n,i){return oS(this,n,i)},e.prototype.remove=function(n){return oS(this,n,kt)},e.prototype.deleteAll=function(n){var i=kr(n);return i.size===0?this:this.withMutations(function(a){i.forEach(function(o){return a.remove(o)})})},e.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):Pi()},e.prototype.sort=function(n){return va(xl(this,n))},e.prototype.sortBy=function(n,i){return va(xl(this,i,n))},e.prototype.map=function(n,i){var a=this;return this.withMutations(function(o){o.forEach(function(s,l){o.set(l,n.call(i,s,l,a))})})},e.prototype.__iterator=function(n,i){return new oJ(this,n,i)},e.prototype.__iterate=function(n,i){var a=this,o=0;return this._root&&this._root.iterate(function(s){return o++,n(s[1],s[0],a)},i),o},e.prototype.__ensureOwner=function(n){return n===this.__ownerID?this:n?Dy(this.size,this._root,n,this.__hash):this.size===0?Pi():(this.__ownerID=n,this.__altered=!1,this)},e}(Ci);lr.isMap=Fp;var yr=lr.prototype;yr[gk]=!0;yr[jc]=yr.remove;yr.removeAll=yr.deleteAll;yr.setIn=Ay;yr.removeIn=yr.deleteIn=jy;yr.update=Ly;yr.updateIn=Fy;yr.merge=yr.concat=Fk;yr.mergeWith=Rk;yr.mergeDeep=Nk;yr.mergeDeepWith=Dk;yr.mergeIn=Ry;yr.mergeDeepIn=$y;yr.withMutations=Dc;yr.wasAltered=Ny;yr.asImmutable=Vc;yr["@@transducer/init"]=yr.asMutable=Mc;yr["@@transducer/step"]=function(t,e){return t.set(e[0],e[1])};yr["@@transducer/result"]=function(t){return t.asImmutable()};var sc=function(e,r){this.ownerID=e,this.entries=r};sc.prototype.get=function(e,r,n,i){for(var a=this.entries,o=0,s=a.length;o<s;o++)if(on(n,a[o][0]))return a[o][1];return i};sc.prototype.update=function(e,r,n,i,a,o,s){for(var l=a===kt,u=this.entries,c=0,f=u.length;c<f&&!on(i,u[c][0]);c++);var d=c<f;if(d?u[c][1]===a:l)return this;if(gi(s),(l||!d)&&gi(o),!(l&&u.length===1)){if(!d&&!l&&u.length>=dJ)return sJ(e,u,i,a);var p=e&&e===this.ownerID,v=p?u:oa(u);return d?l?c===f-1?v.pop():v[c]=v.pop():v[c]=[i,a]:v.push([i,a]),p?(this.entries=v,this):new sc(e,v)}};var wl=function(e,r,n){this.ownerID=e,this.bitmap=r,this.nodes=n};wl.prototype.get=function(e,r,n,i){r===void 0&&(r=qn(n));var a=1<<((e===0?r:r>>>e)&An),o=this.bitmap;return o&a?this.nodes[Mk(o&a-1)].get(e+hr,r,n,i):i};wl.prototype.update=function(e,r,n,i,a,o,s){n===void 0&&(n=qn(i));var l=(r===0?n:n>>>r)&An,u=1<<l,c=this.bitmap,f=(c&u)!==0;if(!f&&a===kt)return this;var d=Mk(c&u-1),p=this.nodes,v=f?p[d]:void 0,h=My(v,e,r+hr,n,i,a,o,s);if(h===v)return this;if(!f&&h&&p.length>=pJ)return uJ(e,p,c,l,h);if(f&&!h&&p.length===2&&sS(p[d^1]))return p[d^1];if(f&&h&&p.length===1&&sS(h))return h;var g=e&&e===this.ownerID,y=f?h?c:c^u:c|u,m=f?h?Vk(p,d,h,g):fJ(p,d,g):cJ(p,d,h,g);return g?(this.bitmap=y,this.nodes=m,this):new wl(e,y,m)};var lc=function(e,r,n){this.ownerID=e,this.count=r,this.nodes=n};lc.prototype.get=function(e,r,n,i){r===void 0&&(r=qn(n));var a=(e===0?r:r>>>e)&An,o=this.nodes[a];return o?o.get(e+hr,r,n,i):i};lc.prototype.update=function(e,r,n,i,a,o,s){n===void 0&&(n=qn(i));var l=(r===0?n:n>>>r)&An,u=a===kt,c=this.nodes,f=c[l];if(u&&!f)return this;var d=My(f,e,r+hr,n,i,a,o,s);if(d===f)return this;var p=this.count;if(!f)p++;else if(!d&&(p--,p<hJ))return lJ(e,c,p,l);var v=e&&e===this.ownerID,h=Vk(c,l,d,v);return v?(this.count=p,this.nodes=h,this):new lc(e,p,h)};var El=function(e,r,n){this.ownerID=e,this.keyHash=r,this.entries=n};El.prototype.get=function(e,r,n,i){for(var a=this.entries,o=0,s=a.length;o<s;o++)if(on(n,a[o][0]))return a[o][1];return i};El.prototype.update=function(e,r,n,i,a,o,s){n===void 0&&(n=qn(i));var l=a===kt;if(n!==this.keyHash)return l?this:(gi(s),gi(o),Vy(this,e,r,n,[i,a]));for(var u=this.entries,c=0,f=u.length;c<f&&!on(i,u[c][0]);c++);var d=c<f;if(d?u[c][1]===a:l)return this;if(gi(s),(l||!d)&&gi(o),l&&f===2)return new qa(e,this.keyHash,u[c^1]);var p=e&&e===this.ownerID,v=p?u:oa(u);return d?l?c===f-1?v.pop():v[c]=v.pop():v[c]=[i,a]:v.push([i,a]),p?(this.entries=v,this):new El(e,this.keyHash,v)};var qa=function(e,r,n){this.ownerID=e,this.keyHash=r,this.entry=n};qa.prototype.get=function(e,r,n,i){return on(n,this.entry[0])?this.entry[1]:i};qa.prototype.update=function(e,r,n,i,a,o,s){var l=a===kt,u=on(i,this.entry[0]);if(u?a===this.entry[1]:l)return this;if(gi(s),l){gi(o);return}return u?e&&e===this.ownerID?(this.entry[1]=a,this):new qa(e,this.keyHash,[i,a]):(gi(o),Vy(this,e,r,qn(i),[i,a]))};sc.prototype.iterate=El.prototype.iterate=function(t,e){for(var r=this.entries,n=0,i=r.length-1;n<=i;n++)if(t(r[e?i-n:n])===!1)return!1};wl.prototype.iterate=lc.prototype.iterate=function(t,e){for(var r=this.nodes,n=0,i=r.length-1;n<=i;n++){var a=r[e?i-n:n];if(a&&a.iterate(t,e)===!1)return!1}};qa.prototype.iterate=function(t,e){return t(this.entry)};var oJ=function(t){function e(r,n,i){this._type=n,this._reverse=i,this._stack=r._root&&iS(r._root)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.next=function(){for(var n=this._type,i=this._stack;i;){var a=i.node,o=i.index++,s=void 0;if(a.entry){if(o===0)return Gh(n,a.entry)}else if(a.entries){if(s=a.entries.length-1,o<=s)return Gh(n,a.entries[this._reverse?s-o:o])}else if(s=a.nodes.length-1,o<=s){var l=a.nodes[this._reverse?s-o:o];if(l){if(l.entry)return Gh(n,l.entry);i=this._stack=iS(l,i)}continue}i=this._stack=this._stack.__prev}return Ln()},e}(Dt);function Gh(t,e){return gr(t,e[0],e[1])}function iS(t,e){return{node:t,index:0,__prev:e}}function Dy(t,e,r,n){var i=Object.create(yr);return i.size=t,i._root=e,i.__ownerID=r,i.__hash=n,i.__altered=!1,i}var aS;function Pi(){return aS||(aS=Dy(0))}function oS(t,e,r){var n,i;if(t._root){var a=Zv(),o=Zv();if(n=My(t._root,t.__ownerID,0,void 0,e,r,a,o),!o.value)return t;i=t.size+(a.value?r===kt?-1:1:0)}else{if(r===kt)return t;i=1,n=new sc(t.__ownerID,[[e,r]])}return t.__ownerID?(t.size=i,t._root=n,t.__hash=void 0,t.__altered=!0,t):n?Dy(i,n):Pi()}function My(t,e,r,n,i,a,o,s){return t?t.update(e,r,n,i,a,o,s):a===kt?t:(gi(s),gi(o),new qa(e,n,[i,a]))}function sS(t){return t.constructor===qa||t.constructor===El}function Vy(t,e,r,n,i){if(t.keyHash===n)return new El(e,n,[t.entry,i]);var a=(r===0?t.keyHash:t.keyHash>>>r)&An,o=(r===0?n:n>>>r)&An,s,l=a===o?[Vy(t,e,r+hr,n,i)]:(s=new qa(e,n,i),a<o?[t,s]:[s,t]);return new wl(e,1<<a|1<<o,l)}function sJ(t,e,r,n){t||(t=new vy);for(var i=new qa(t,qn(r),[r,n]),a=0;a<e.length;a++){var o=e[a];i=i.update(t,0,void 0,o[0],o[1])}return i}function lJ(t,e,r,n){for(var i=0,a=0,o=new Array(r),s=0,l=1,u=e.length;s<u;s++,l<<=1){var c=e[s];c!==void 0&&s!==n&&(i|=l,o[a++]=c)}return new wl(t,i,o)}function uJ(t,e,r,n,i){for(var a=0,o=new Array(vi),s=0;r!==0;s++,r>>>=1)o[s]=r&1?e[a++]:void 0;return o[n]=i,new lc(t,a+1,o)}function Mk(t){return t-=t>>1&1431655765,t=(t&858993459)+(t>>2&858993459),t=t+(t>>4)&252645135,t+=t>>8,t+=t>>16,t&127}function Vk(t,e,r,n){var i=n?t:oa(t);return i[e]=r,i}function cJ(t,e,r,n){var i=t.length+1;if(n&&e+1===i)return t[e]=r,t;for(var a=new Array(i),o=0,s=0;s<i;s++)s===e?(a[s]=r,o=-1):a[s]=t[s+o];return a}function fJ(t,e,r){var n=t.length-1;if(r&&e===n)return t.pop(),t;for(var i=new Array(n),a=0,o=0;o<n;o++)o===e&&(a=1),i[o]=t[o+a];return i}var dJ=vi/4,pJ=vi/2,hJ=vi/4,Bk="@@__IMMUTABLE_LIST__@@";function By(t){return!!(t&&t[Bk])}var Yi=function(t){function e(r){var n=td();if(r==null)return n;if(By(r))return r;var i=t(r),a=i.size;return a===0?n:(Jn(a),a>0&&a<vi?uc(0,a,hr,null,new ho(i.toArray())):n.withMutations(function(o){o.setSize(a),i.forEach(function(s,l){return o.set(l,s)})}))}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.prototype.toString=function(){return this.__toString("List [","]")},e.prototype.get=function(n,i){if(n=_o(this,n),n>=0&&n<this.size){n+=this._origin;var a=qk(this,n);return a&&a.array[n&An]}return i},e.prototype.set=function(n,i){return vJ(this,n,i)},e.prototype.remove=function(n){return this.has(n)?n===0?this.shift():n===this.size-1?this.pop():this.splice(n,1):this},e.prototype.insert=function(n,i){return this.splice(n,0,i)},e.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=hr,this._root=this._tail=this.__hash=void 0,this.__altered=!0,this):td()},e.prototype.push=function(){var n=arguments,i=this.size;return this.withMutations(function(a){no(a,0,i+n.length);for(var o=0;o<n.length;o++)a.set(i+o,n[o])})},e.prototype.pop=function(){return no(this,0,-1)},e.prototype.unshift=function(){var n=arguments;return this.withMutations(function(i){no(i,-n.length);for(var a=0;a<n.length;a++)i.set(a,n[a])})},e.prototype.shift=function(){return no(this,1)},e.prototype.concat=function(){for(var n=arguments,i=[],a=0;a<arguments.length;a++){var o=n[a],s=t(typeof o!="string"&&gy(o)?o:[o]);s.size!==0&&i.push(s)}return i.length===0?this:this.size===0&&!this.__ownerID&&i.length===1?this.constructor(i[0]):this.withMutations(function(l){i.forEach(function(u){return u.forEach(function(c){return l.push(c)})})})},e.prototype.setSize=function(n){return no(this,0,n)},e.prototype.map=function(n,i){var a=this;return this.withMutations(function(o){for(var s=0;s<a.size;s++)o.set(s,n.call(i,o.get(s),s,a))})},e.prototype.slice=function(n,i){var a=this.size;return Pc(n,i,a)?this:no(this,Yl(n,a),Lc(i,a))},e.prototype.__iterator=function(n,i){var a=i?this.size:0,o=lS(this,i);return new Dt(function(){var s=o();return s===zu?Ln():gr(n,i?--a:a++,s)})},e.prototype.__iterate=function(n,i){for(var a=i?this.size:0,o=lS(this,i),s;(s=o())!==zu&&n(s,i?--a:a++,this)!==!1;);return a},e.prototype.__ensureOwner=function(n){return n===this.__ownerID?this:n?uc(this._origin,this._capacity,this._level,this._root,this._tail,n,this.__hash):this.size===0?td():(this.__ownerID=n,this.__altered=!1,this)},e}(vs);Yi.isList=By;var Hr=Yi.prototype;Hr[Bk]=!0;Hr[jc]=Hr.remove;Hr.merge=Hr.concat;Hr.setIn=Ay;Hr.deleteIn=Hr.removeIn=jy;Hr.update=Ly;Hr.updateIn=Fy;Hr.mergeIn=Ry;Hr.mergeDeepIn=$y;Hr.withMutations=Dc;Hr.wasAltered=Ny;Hr.asImmutable=Vc;Hr["@@transducer/init"]=Hr.asMutable=Mc;Hr["@@transducer/step"]=function(t,e){return t.push(e)};Hr["@@transducer/result"]=function(t){return t.asImmutable()};var ho=function(e,r){this.array=e,this.ownerID=r};ho.prototype.removeBefore=function(e,r,n){if(n===r?1<<r:this.array.length===0)return this;var i=n>>>r&An;if(i>=this.array.length)return new ho([],e);var a=i===0,o;if(r>0){var s=this.array[i];if(o=s&&s.removeBefore(e,r-hr,n),o===s&&a)return this}if(a&&!o)return this;var l=Cl(this,e);if(!a)for(var u=0;u<i;u++)l.array[u]=void 0;return o&&(l.array[i]=o),l};ho.prototype.removeAfter=function(e,r,n){if(n===(r?1<<r:0)||this.array.length===0)return this;var i=n-1>>>r&An;if(i>=this.array.length)return this;var a;if(r>0){var o=this.array[i];if(a=o&&o.removeAfter(e,r-hr,n),a===o&&i===this.array.length-1)return this}var s=Cl(this,e);return s.array.splice(i+1),a&&(s.array[i]=a),s};var zu={};function lS(t,e){var r=t._origin,n=t._capacity,i=cc(n),a=t._tail;return o(t._root,t._level,0);function o(u,c,f){return c===0?s(u,f):l(u,c,f)}function s(u,c){var f=c===i?a&&a.array:u&&u.array,d=c>r?0:r-c,p=n-c;return p>vi&&(p=vi),function(){if(d===p)return zu;var v=e?--p:d++;return f&&f[v]}}function l(u,c,f){var d,p=u&&u.array,v=f>r?0:r-f>>c,h=(n-f>>c)+1;return h>vi&&(h=vi),function(){for(;;){if(d){var g=d();if(g!==zu)return g;d=null}if(v===h)return zu;var y=e?--h:v++;d=o(p&&p[y],c-hr,f+(y<<c))}}}}function uc(t,e,r,n,i,a,o){var s=Object.create(Hr);return s.size=e-t,s._origin=t,s._capacity=e,s._level=r,s._root=n,s._tail=i,s.__ownerID=a,s.__hash=o,s.__altered=!1,s}var uS;function td(){return uS||(uS=uc(0,0,hr))}function vJ(t,e,r){if(e=_o(t,e),e!==e)return t;if(e>=t.size||e<0)return t.withMutations(function(o){e<0?no(o,e).set(0,r):no(o,0,e+1).set(e,r)});e+=t._origin;var n=t._tail,i=t._root,a=Zv();return e>=cc(t._capacity)?n=og(n,t.__ownerID,0,e,r,a):i=og(i,t.__ownerID,t._level,e,r,a),a.value?t.__ownerID?(t._root=i,t._tail=n,t.__hash=void 0,t.__altered=!0,t):uc(t._origin,t._capacity,t._level,i,n):t}function og(t,e,r,n,i,a){var o=n>>>r&An,s=t&&o<t.array.length;if(!s&&i===void 0)return t;var l;if(r>0){var u=t&&t.array[o],c=og(u,e,r-hr,n,i,a);return c===u?t:(l=Cl(t,e),l.array[o]=c,l)}return s&&t.array[o]===i?t:(a&&gi(a),l=Cl(t,e),i===void 0&&o===l.array.length-1?l.array.pop():l.array[o]=i,l)}function Cl(t,e){return e&&t&&e===t.ownerID?t:new ho(t?t.array.slice():[],e)}function qk(t,e){if(e>=cc(t._capacity))return t._tail;if(e<1<<t._level+hr){for(var r=t._root,n=t._level;r&&n>0;)r=r.array[e>>>n&An],n-=hr;return r}}function no(t,e,r){e!==void 0&&(e|=0),r!==void 0&&(r|=0);var n=t.__ownerID||new vy,i=t._origin,a=t._capacity,o=i+e,s=r===void 0?a:r<0?a+r:i+r;if(o===i&&s===a)return t;if(o>=s)return t.clear();for(var l=t._level,u=t._root,c=0;o+c<0;)u=new ho(u&&u.array.length?[void 0,u]:[],n),l+=hr,c+=1<<l;c&&(o+=c,i+=c,s+=c,a+=c);for(var f=cc(a),d=cc(s);d>=1<<l+hr;)u=new ho(u&&u.array.length?[u]:[],n),l+=hr;var p=t._tail,v=d<f?qk(t,s-1):d>f?new ho([],n):p;if(p&&d>f&&o<a&&p.array.length){u=Cl(u,n);for(var h=u,g=l;g>hr;g-=hr){var y=f>>>g&An;h=h.array[y]=Cl(h.array[y],n)}h.array[f>>>hr&An]=p}if(s<a&&(v=v&&v.removeAfter(n,0,s)),o>=d)o-=d,s-=d,l=hr,u=null,v=v&&v.removeBefore(n,0,o);else if(o>i||d<f){for(c=0;u;){var m=o>>>l&An;if(m!==d>>>l&An)break;m&&(c+=(1<<l)*m),l-=hr,u=u.array[m]}u&&o>i&&(u=u.removeBefore(n,l,o-c)),u&&d<f&&(u=u.removeAfter(n,l,d-c)),c&&(o-=c,s-=c)}return t.__ownerID?(t.size=s-o,t._origin=o,t._capacity=s,t._level=l,t._root=u,t._tail=v,t.__hash=void 0,t.__altered=!0,t):uc(o,s,l,u,v)}function cc(t){return t<vi?0:t-1>>>hr<<hr}var va=function(t){function e(r){return r==null?Iu():Oy(r)?r:Iu().withMutations(function(n){var i=Ci(r);Jn(i.size),i.forEach(function(a,o){return n.set(o,a)})})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.prototype.toString=function(){return this.__toString("OrderedMap {","}")},e.prototype.get=function(n,i){var a=this._map.get(n);return a!==void 0?this._list.get(a)[1]:i},e.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this.__altered=!0,this):Iu()},e.prototype.set=function(n,i){return fS(this,n,i)},e.prototype.remove=function(n){return fS(this,n,kt)},e.prototype.__iterate=function(n,i){var a=this;return this._list.__iterate(function(o){return o&&n(o[1],o[0],a)},i)},e.prototype.__iterator=function(n,i){return this._list.fromEntrySeq().__iterator(n,i)},e.prototype.__ensureOwner=function(n){if(n===this.__ownerID)return this;var i=this._map.__ensureOwner(n),a=this._list.__ensureOwner(n);return n?qy(i,a,n,this.__hash):this.size===0?Iu():(this.__ownerID=n,this.__altered=!1,this._map=i,this._list=a,this)},e}(lr);va.isOrderedMap=Oy;va.prototype[Jl]=!0;va.prototype[jc]=va.prototype.remove;function qy(t,e,r,n){var i=Object.create(va.prototype);return i.size=t?t.size:0,i._map=t,i._list=e,i.__ownerID=r,i.__hash=n,i.__altered=!1,i}var cS;function Iu(){return cS||(cS=qy(Pi(),td()))}function fS(t,e,r){var n=t._map,i=t._list,a=n.get(e),o=a!==void 0,s,l;if(r===kt){if(!o)return t;i.size>=vi&&i.size>=n.size*2?(l=i.filter(function(u,c){return u!==void 0&&a!==c}),s=l.toKeyedSeq().map(function(u){return u[0]}).flip().toMap(),t.__ownerID&&(s.__ownerID=l.__ownerID=t.__ownerID)):(s=n.remove(e),l=a===i.size-1?i.pop():i.set(a,void 0))}else if(o){if(r===i.get(a)[1])return t;s=n,l=i.set(a,[e,r])}else s=n.set(e,i.size),l=i.set(i.size,[e,r]);return t.__ownerID?(t.size=s.size,t._map=s,t._list=l,t.__hash=void 0,t.__altered=!0,t):qy(s,l)}var Hk="@@__IMMUTABLE_STACK__@@";function Td(t){return!!(t&&t[Hk])}var Np=function(t){function e(r){return r==null?Tf():Td(r)?r:Tf().pushAll(r)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.prototype.toString=function(){return this.__toString("Stack [","]")},e.prototype.get=function(n,i){var a=this._head;for(n=_o(this,n);a&&n--;)a=a.next;return a?a.value:i},e.prototype.peek=function(){return this._head&&this._head.value},e.prototype.push=function(){var n=arguments;if(arguments.length===0)return this;for(var i=this.size+arguments.length,a=this._head,o=arguments.length-1;o>=0;o--)a={value:n[o],next:a};return this.__ownerID?(this.size=i,this._head=a,this.__hash=void 0,this.__altered=!0,this):Au(i,a)},e.prototype.pushAll=function(n){if(n=t(n),n.size===0)return this;if(this.size===0&&Td(n))return n;Jn(n.size);var i=this.size,a=this._head;return n.__iterate(function(o){i++,a={value:o,next:a}},!0),this.__ownerID?(this.size=i,this._head=a,this.__hash=void 0,this.__altered=!0,this):Au(i,a)},e.prototype.pop=function(){return this.slice(1)},e.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):Tf()},e.prototype.slice=function(n,i){if(Pc(n,i,this.size))return this;var a=Yl(n,this.size),o=Lc(i,this.size);if(o!==this.size)return t.prototype.slice.call(this,n,i);for(var s=this.size-a,l=this._head;a--;)l=l.next;return this.__ownerID?(this.size=s,this._head=l,this.__hash=void 0,this.__altered=!0,this):Au(s,l)},e.prototype.__ensureOwner=function(n){return n===this.__ownerID?this:n?Au(this.size,this._head,n,this.__hash):this.size===0?Tf():(this.__ownerID=n,this.__altered=!1,this)},e.prototype.__iterate=function(n,i){var a=this;if(i)return new Qo(this.toArray()).__iterate(function(l,u){return n(l,u,a)},i);for(var o=0,s=this._head;s&&n(s.value,o++,this)!==!1;)s=s.next;return o},e.prototype.__iterator=function(n,i){if(i)return new Qo(this.toArray()).__iterator(n,i);var a=0,o=this._head;return new Dt(function(){if(o){var s=o.value;return o=o.next,gr(n,a++,s)}return Ln()})},e}(vs);Np.isStack=Td;var Rn=Np.prototype;Rn[Hk]=!0;Rn.shift=Rn.pop;Rn.unshift=Rn.push;Rn.unshiftAll=Rn.pushAll;Rn.withMutations=Dc;Rn.wasAltered=Ny;Rn.asImmutable=Vc;Rn["@@transducer/init"]=Rn.asMutable=Mc;Rn["@@transducer/step"]=function(t,e){return t.unshift(e)};Rn["@@transducer/result"]=function(t){return t.asImmutable()};function Au(t,e,r,n){var i=Object.create(Rn);return i.size=t,i._head=e,i.__ownerID=r,i.__hash=n,i.__altered=!1,i}var dS;function Tf(){return dS||(dS=Au(0))}var zk="@@__IMMUTABLE_SET__@@";function Dp(t){return!!(t&&t[zk])}function Hy(t){return Dp(t)&&yi(t)}function zy(t,e){if(t===e)return!0;if(!Pn(e)||t.size!==void 0&&e.size!==void 0&&t.size!==e.size||t.__hash!==void 0&&e.__hash!==void 0&&t.__hash!==e.__hash||or(t)!==or(e)||yn(t)!==yn(e)||yi(t)!==yi(e))return!1;if(t.size===0&&e.size===0)return!0;var r=!Fc(t);if(yi(t)){var n=t.entries();return e.every(function(l,u){var c=n.next().value;return c&&on(c[1],l)&&(r||on(c[0],u))})&&n.next().done}var i=!1;if(t.size===void 0)if(e.size===void 0)typeof t.cacheResult=="function"&&t.cacheResult();else{i=!0;var a=t;t=e,e=a}var o=!0,s=e.__iterate(function(l,u){if(r?!t.has(l):i?!on(l,t.get(u,kt)):!on(t.get(u,kt),l))return o=!1,!1});return o&&t.size===s}function ys(t,e){var r=function(n){t.prototype[n]=e[n]};return Object.keys(e).forEach(r),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(e).forEach(r),t}function kd(t){if(!t||typeof t!="object")return t;if(!Pn(t)){if(!So(t))return t;t=Fn(t)}if(or(t)){var e={};return t.__iterate(function(n,i){e[i]=kd(n)}),e}var r=[];return t.__iterate(function(n){r.push(kd(n))}),r}var Bc=function(t){function e(r){return r==null?ju():Dp(r)&&!yi(r)?r:ju().withMutations(function(n){var i=t(r);Jn(i.size),i.forEach(function(a){return n.add(a)})})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.fromKeys=function(n){return this(Ci(n).keySeq())},e.intersect=function(n){return n=kr(n).toArray(),n.length?dn.intersect.apply(e(n.pop()),n):ju()},e.union=function(n){return n=kr(n).toArray(),n.length?dn.union.apply(e(n.pop()),n):ju()},e.prototype.toString=function(){return this.__toString("Set {","}")},e.prototype.has=function(n){return this._map.has(n)},e.prototype.add=function(n){return kf(this,this._map.set(n,n))},e.prototype.remove=function(n){return kf(this,this._map.remove(n))},e.prototype.clear=function(){return kf(this,this._map.clear())},e.prototype.map=function(n,i){var a=this,o=!1,s=kf(this,this._map.mapEntries(function(l){var u=l[1],c=n.call(i,u,u,a);return c!==u&&(o=!0),[c,c]},i));return o?s:this},e.prototype.union=function(){for(var n=[],i=arguments.length;i--;)n[i]=arguments[i];return n=n.filter(function(a){return a.size!==0}),n.length===0?this:this.size===0&&!this.__ownerID&&n.length===1?this.constructor(n[0]):this.withMutations(function(a){for(var o=0;o<n.length;o++)typeof n[o]=="string"?a.add(n[o]):t(n[o]).forEach(function(s){return a.add(s)})})},e.prototype.intersect=function(){for(var n=[],i=arguments.length;i--;)n[i]=arguments[i];if(n.length===0)return this;n=n.map(function(o){return t(o)});var a=[];return this.forEach(function(o){n.every(function(s){return s.includes(o)})||a.push(o)}),this.withMutations(function(o){a.forEach(function(s){o.remove(s)})})},e.prototype.subtract=function(){for(var n=[],i=arguments.length;i--;)n[i]=arguments[i];if(n.length===0)return this;n=n.map(function(o){return t(o)});var a=[];return this.forEach(function(o){n.some(function(s){return s.includes(o)})&&a.push(o)}),this.withMutations(function(o){a.forEach(function(s){o.remove(s)})})},e.prototype.sort=function(n){return kl(xl(this,n))},e.prototype.sortBy=function(n,i){return kl(xl(this,i,n))},e.prototype.wasAltered=function(){return this._map.wasAltered()},e.prototype.__iterate=function(n,i){var a=this;return this._map.__iterate(function(o){return n(o,o,a)},i)},e.prototype.__iterator=function(n,i){return this._map.__iterator(n,i)},e.prototype.__ensureOwner=function(n){if(n===this.__ownerID)return this;var i=this._map.__ensureOwner(n);return n?this.__make(i,n):this.size===0?this.__empty():(this.__ownerID=n,this._map=i,this)},e}(Kl);Bc.isSet=Dp;var dn=Bc.prototype;dn[zk]=!0;dn[jc]=dn.remove;dn.merge=dn.concat=dn.union;dn.withMutations=Dc;dn.asImmutable=Vc;dn["@@transducer/init"]=dn.asMutable=Mc;dn["@@transducer/step"]=function(t,e){return t.add(e)};dn["@@transducer/result"]=function(t){return t.asImmutable()};dn.__empty=ju;dn.__make=Uk;function kf(t,e){return t.__ownerID?(t.size=e.size,t._map=e,t):e===t._map?t:e.size===0?t.__empty():t.__make(e)}function Uk(t,e){var r=Object.create(dn);return r.size=t?t.size:0,r._map=t,r.__ownerID=e,r}var pS;function ju(){return pS||(pS=Uk(Pi()))}var Wk=function(t){function e(r,n,i){if(!(this instanceof e))return new e(r,n,i);if(Ty(i!==0,"Cannot step a Range by 0"),r=r||0,n===void 0&&(n=1/0),i=i===void 0?1:Math.abs(i),n<r&&(i=-i),this._start=r,this._end=n,this._step=i,this.size=Math.max(0,Math.ceil((n-r)/i-1)+1),this.size===0){if(Yh)return Yh;Yh=this}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.toString=function(){return this.size===0?"Range []":"Range [ "+this._start+"..."+this._end+(this._step!==1?" by "+this._step:"")+" ]"},e.prototype.get=function(n,i){return this.has(n)?this._start+_o(this,n)*this._step:i},e.prototype.includes=function(n){var i=(n-this._start)/this._step;return i>=0&&i<this.size&&i===Math.floor(i)},e.prototype.slice=function(n,i){return Pc(n,i,this.size)?this:(n=Yl(n,this.size),i=Lc(i,this.size),i<=n?new e(0,0):new e(this.get(n,this._end),this.get(i,this._end),this._step))},e.prototype.indexOf=function(n){var i=n-this._start;if(i%this._step===0){var a=i/this._step;if(a>=0&&a<this.size)return a}return-1},e.prototype.lastIndexOf=function(n){return this.indexOf(n)},e.prototype.__iterate=function(n,i){for(var a=this.size,o=this._step,s=i?this._start+(a-1)*o:this._start,l=0;l!==a&&n(s,i?a-++l:l++,this)!==!1;)s+=i?-o:o;return l},e.prototype.__iterator=function(n,i){var a=this.size,o=this._step,s=i?this._start+(a-1)*o:this._start,l=0;return new Dt(function(){if(l===a)return Ln();var u=s;return s+=i?-o:o,gr(n,i?a-++l:l++,u)})},e.prototype.equals=function(n){return n instanceof e?this._start===n._start&&this._end===n._end&&this._step===n._step:zy(this,n)},e}(ki),Yh;function Uy(t,e,r){for(var n=Tk(e),i=0;i!==n.length;)if(t=Iy(t,n[i++],kt),t===kt)return r;return t}function Gk(t,e){return Uy(this,t,e)}function Yk(t,e){return Uy(t,e,kt)!==kt}function gJ(t){return Yk(this,t)}function Kk(){Jn(this.size);var t={};return this.__iterate(function(e,r){t[r]=e}),t}kr.isIterable=Pn;kr.isKeyed=or;kr.isIndexed=yn;kr.isAssociative=Fc;kr.isOrdered=yi;kr.Iterator=Dt;ys(kr,{toArray:function(){Jn(this.size);var e=new Array(this.size||0),r=or(this),n=0;return this.__iterate(function(i,a){e[n++]=r?[a,i]:i}),e},toIndexedSeq:function(){return new yk(this)},toJS:function(){return kd(this)},toKeyedSeq:function(){return new $p(this,!0)},toMap:function(){return lr(this.toKeyedSeq())},toObject:Kk,toOrderedMap:function(){return va(this.toKeyedSeq())},toOrderedSet:function(){return kl(or(this)?this.valueSeq():this)},toSet:function(){return Bc(or(this)?this.valueSeq():this)},toSetSeq:function(){return new bk(this)},toSeq:function(){return yn(this)?this.toIndexedSeq():or(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return Np(or(this)?this.valueSeq():this)},toList:function(){return Yi(or(this)?this.valueSeq():this)},toString:function(){return"[Collection]"},__toString:function(e,r){return this.size===0?e+r:e+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+r},concat:function(){for(var e=[],r=arguments.length;r--;)e[r]=arguments[r];return rr(this,JK(this,e))},includes:function(e){return this.some(function(r){return on(r,e)})},entries:function(){return this.__iterator(Si)},every:function(e,r){Jn(this.size);var n=!0;return this.__iterate(function(i,a,o){if(!e.call(r,i,a,o))return n=!1,!1}),n},filter:function(e,r){return rr(this,xk(this,e,r,!0))},partition:function(e,r){return YK(this,e,r)},find:function(e,r,n){var i=this.findEntry(e,r);return i?i[1]:n},forEach:function(e,r){return Jn(this.size),this.__iterate(r?e.bind(r):e)},join:function(e){Jn(this.size),e=e!==void 0?""+e:",";var r="",n=!0;return this.__iterate(function(i){n?n=!1:r+=e,r+=i!=null?i.toString():""}),r},keys:function(){return this.__iterator(Rc)},map:function(e,r){return rr(this,Ok(this,e,r))},reduce:function(e,r,n){return hS(this,e,r,n,arguments.length<2,!1)},reduceRight:function(e,r,n){return hS(this,e,r,n,arguments.length<2,!0)},reverse:function(){return rr(this,xy(this,!0))},slice:function(e,r){return rr(this,wy(this,e,r,!0))},some:function(e,r){Jn(this.size);var n=!1;return this.__iterate(function(i,a,o){if(e.call(r,i,a,o))return n=!0,!1}),n},sort:function(e){return rr(this,xl(this,e))},values:function(){return this.__iterator(Vi)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return this.size!==void 0?this.size===0:!this.some(function(){return!0})},count:function(e,r){return Ol(e?this.toSeq().filter(e,r):this)},countBy:function(e,r){return WK(this,e,r)},equals:function(e){return zy(this,e)},entrySeq:function(){var e=this;if(e._cache)return new Qo(e._cache);var r=e.toSeq().map(yJ).toIndexedSeq();return r.fromEntrySeq=function(){return e.toSeq()},r},filterNot:function(e,r){return this.filter(Kh(e),r)},findEntry:function(e,r,n){var i=n;return this.__iterate(function(a,o,s){if(e.call(r,a,o,s))return i=[o,a],!1}),i},findKey:function(e,r){var n=this.findEntry(e,r);return n&&n[0]},findLast:function(e,r,n){return this.toKeyedSeq().reverse().find(e,r,n)},findLastEntry:function(e,r,n){return this.toKeyedSeq().reverse().findEntry(e,r,n)},findLastKey:function(e,r){return this.toKeyedSeq().reverse().findKey(e,r)},first:function(e){return this.find(ok,null,e)},flatMap:function(e,r){return rr(this,QK(this,e,r))},flatten:function(e){return rr(this,Ek(this,e,!0))},fromEntrySeq:function(){return new _k(this)},get:function(e,r){return this.find(function(n,i){return on(i,e)},void 0,r)},getIn:Gk,groupBy:function(e,r){return GK(this,e,r)},has:function(e){return this.get(e,kt)!==kt},hasIn:gJ,isSubset:function(e){return e=typeof e.includes=="function"?e:kr(e),this.every(function(r){return e.includes(r)})},isSuperset:function(e){return e=typeof e.isSubset=="function"?e:kr(e),e.isSubset(this)},keyOf:function(e){return this.findKey(function(r){return on(r,e)})},keySeq:function(){return this.toSeq().map(mJ).toIndexedSeq()},last:function(e){return this.toSeq().reverse().first(e)},lastKeyOf:function(e){return this.toKeyedSeq().reverse().keyOf(e)},max:function(e){return Ef(this,e)},maxBy:function(e,r){return Ef(this,r,e)},min:function(e){return Ef(this,e?vS(e):mS)},minBy:function(e,r){return Ef(this,r?vS(r):mS,e)},rest:function(){return this.slice(1)},skip:function(e){return e===0?this:this.slice(Math.max(0,e))},skipLast:function(e){return e===0?this:this.slice(0,-Math.max(0,e))},skipWhile:function(e,r){return rr(this,wk(this,e,r,!0))},skipUntil:function(e,r){return this.skipWhile(Kh(e),r)},sortBy:function(e,r){return rr(this,xl(this,r,e))},take:function(e){return this.slice(0,Math.max(0,e))},takeLast:function(e){return this.slice(-Math.max(0,e))},takeWhile:function(e,r){return rr(this,KK(this,e,r))},takeUntil:function(e,r){return this.takeWhile(Kh(e),r)},update:function(e){return e(this)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=bJ(this))}});var bn=kr.prototype;bn[uk]=!0;bn[Pp]=bn.values;bn.toJSON=bn.toArray;bn.__toStringMapper=oc;bn.inspect=bn.toSource=function(){return this.toString()};bn.chain=bn.flatMap;bn.contains=bn.includes;ys(Ci,{flip:function(){return rr(this,Sk(this))},mapEntries:function(e,r){var n=this,i=0;return rr(this,this.toSeq().map(function(a,o){return e.call(r,[o,a],i++,n)}).fromEntrySeq())},mapKeys:function(e,r){var n=this;return rr(this,this.toSeq().flip().map(function(i,a){return e.call(r,i,a,n)}).flip())}});var qc=Ci.prototype;qc[ck]=!0;qc[Pp]=bn.entries;qc.toJSON=Kk;qc.__toStringMapper=function(t,e){return oc(e)+": "+oc(t)};ys(vs,{toKeyedSeq:function(){return new $p(this,!1)},filter:function(e,r){return rr(this,xk(this,e,r,!1))},findIndex:function(e,r){var n=this.findEntry(e,r);return n?n[0]:-1},indexOf:function(e){var r=this.keyOf(e);return r===void 0?-1:r},lastIndexOf:function(e){var r=this.lastKeyOf(e);return r===void 0?-1:r},reverse:function(){return rr(this,xy(this,!1))},slice:function(e,r){return rr(this,wy(this,e,r,!1))},splice:function(e,r){var n=arguments.length;if(r=Math.max(r||0,0),n===0||n===2&&!r)return this;e=Yl(e,e<0?this.count():this.size);var i=this.slice(0,e);return rr(this,n===1?i:i.concat(oa(arguments,2),this.slice(e+r)))},findLastIndex:function(e,r){var n=this.findLastEntry(e,r);return n?n[0]:-1},first:function(e){return this.get(0,e)},flatten:function(e){return rr(this,Ek(this,e,!1))},get:function(e,r){return e=_o(this,e),e<0||this.size===1/0||this.size!==void 0&&e>this.size?r:this.find(function(n,i){return i===e},void 0,r)},has:function(e){return e=_o(this,e),e>=0&&(this.size!==void 0?this.size===1/0||e<this.size:this.indexOf(e)!==-1)},interpose:function(e){return rr(this,XK(this,e))},interleave:function(){var e=[this].concat(oa(arguments)),r=Cf(this.toSeq(),ki.of,e),n=r.flatten(!0);return r.size&&(n.size=r.size*e.length),rr(this,n)},keySeq:function(){return Wk(0,this.size)},last:function(e){return this.get(-1,e)},skipWhile:function(e,r){return rr(this,wk(this,e,r,!1))},zip:function(){var e=[this].concat(oa(arguments));return rr(this,Cf(this,gS,e))},zipAll:function(){var e=[this].concat(oa(arguments));return rr(this,Cf(this,gS,e,!0))},zipWith:function(e){var r=oa(arguments);return r[0]=this,rr(this,Cf(this,e,r))}});var Zl=vs.prototype;Zl[fk]=!0;Zl[Jl]=!0;ys(Kl,{get:function(e,r){return this.has(e)?e:r},includes:function(e){return this.has(e)},keySeq:function(){return this.valueSeq()}});var Tl=Kl.prototype;Tl.has=bn.includes;Tl.contains=Tl.includes;Tl.keys=Tl.values;ys(jo,qc);ys(ki,Zl);ys(Xl,Tl);function hS(t,e,r,n,i,a){return Jn(t.size),t.__iterate(function(o,s,l){i?(i=!1,r=o):r=e.call(n,r,o,s,l)},a),r}function mJ(t,e){return e}function yJ(t,e){return[e,t]}function Kh(t){return function(){return!t.apply(this,arguments)}}function vS(t){return function(){return-t.apply(this,arguments)}}function gS(){return oa(arguments)}function mS(t,e){return t<e?1:t>e?-1:0}function bJ(t){if(t.size===1/0)return 0;var e=yi(t),r=or(t),n=e?1:0,i=t.__iterate(r?e?function(a,o){n=31*n+yS(qn(a),qn(o))|0}:function(a,o){n=n+yS(qn(a),qn(o))|0}:e?function(a){n=31*n+qn(a)|0}:function(a){n=n+qn(a)|0});return _J(i,n)}function _J(t,e){return e=Ou(e,3432918353),e=Ou(e<<15|e>>>-15,461845907),e=Ou(e<<13|e>>>-13,5),e=(e+3864292196|0)^t,e=Ou(e^e>>>16,2246822507),e=Ou(e^e>>>13,3266489909),e=Rp(e^e>>>16),e}function yS(t,e){return t^e+2654435769+(t<<6)+(t>>2)|0}var kl=function(t){function e(r){return r==null?sg():Hy(r)?r:sg().withMutations(function(n){var i=Kl(r);Jn(i.size),i.forEach(function(a){return n.add(a)})})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.fromKeys=function(n){return this(Ci(n).keySeq())},e.prototype.toString=function(){return this.__toString("OrderedSet {","}")},e}(Bc);kl.isOrderedSet=Hy;var bs=kl.prototype;bs[Jl]=!0;bs.zip=Zl.zip;bs.zipWith=Zl.zipWith;bs.zipAll=Zl.zipAll;bs.__empty=sg;bs.__make=Jk;function Jk(t,e){var r=Object.create(bs);return r.size=t?t.size:0,r._map=t,r.__ownerID=e,r}var bS;function sg(){return bS||(bS=Jk(Iu()))}var SJ={LeftThenRight:-1,RightThenLeft:1};function OJ(t){if(gs(t))throw new Error("Can not call `Record` with an immutable Record as default values. Use a plain javascript object instead.");if(Ti(t))throw new Error("Can not call `Record` with an immutable Collection as default values. Use a plain javascript object instead.");if(t===null||typeof t!="object")throw new Error("Can not call `Record` with a non-object as default values. Use a plain javascript object instead.")}var tn=function(e,r){var n;OJ(e);var i=function(s){var l=this;if(s instanceof i)return s;if(!(this instanceof i))return new i(s);if(!n){n=!0;var u=Object.keys(e),c=a._indices={};a._name=r,a._keys=u,a._defaultValues=e;for(var f=0;f<u.length;f++){var d=u[f];c[d]=f,a[d]?typeof console=="object"&&console.warn&&console.warn("Cannot define "+Gy(this)+' with property "'+d+'" since that property name is part of the Record API.'):xJ(a,d)}}return this.__ownerID=void 0,this._values=Yi().withMutations(function(p){p.setSize(l._keys.length),Ci(s).forEach(function(v,h){p.set(l._indices[h],v===l._defaultValues[h]?void 0:v)})}),this},a=i.prototype=Object.create(sr);return a.constructor=i,r&&(i.displayName=r),i};tn.prototype.toString=function(){for(var e=Gy(this)+" { ",r=this._keys,n,i=0,a=r.length;i!==a;i++)n=r[i],e+=(i?", ":"")+n+": "+oc(this.get(n));return e+" }"};tn.prototype.equals=function(e){return this===e||gs(e)&&Il(this).equals(Il(e))};tn.prototype.hashCode=function(){return Il(this).hashCode()};tn.prototype.has=function(e){return this._indices.hasOwnProperty(e)};tn.prototype.get=function(e,r){if(!this.has(e))return r;var n=this._indices[e],i=this._values.get(n);return i===void 0?this._defaultValues[e]:i};tn.prototype.set=function(e,r){if(this.has(e)){var n=this._values.set(this._indices[e],r===this._defaultValues[e]?void 0:r);if(n!==this._values&&!this.__ownerID)return Wy(this,n)}return this};tn.prototype.remove=function(e){return this.set(e)};tn.prototype.clear=function(){var e=this._values.clear().setSize(this._keys.length);return this.__ownerID?this:Wy(this,e)};tn.prototype.wasAltered=function(){return this._values.wasAltered()};tn.prototype.toSeq=function(){return Il(this)};tn.prototype.toJS=function(){return kd(this)};tn.prototype.entries=function(){return this.__iterator(Si)};tn.prototype.__iterator=function(e,r){return Il(this).__iterator(e,r)};tn.prototype.__iterate=function(e,r){return Il(this).__iterate(e,r)};tn.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var r=this._values.__ensureOwner(e);return e?Wy(this,r,e):(this.__ownerID=e,this._values=r,this)};tn.isRecord=gs;tn.getDescriptiveName=Gy;var sr=tn.prototype;sr[pk]=!0;sr[jc]=sr.remove;sr.deleteIn=sr.removeIn=jy;sr.getIn=Gk;sr.hasIn=bn.hasIn;sr.merge=Fk;sr.mergeWith=Rk;sr.mergeIn=Ry;sr.mergeDeep=Nk;sr.mergeDeepWith=Dk;sr.mergeDeepIn=$y;sr.setIn=Ay;sr.update=Ly;sr.updateIn=Fy;sr.withMutations=Dc;sr.asMutable=Mc;sr.asImmutable=Vc;sr[Pp]=sr.entries;sr.toJSON=sr.toObject=bn.toObject;sr.inspect=sr.toSource=function(){return this.toString()};function Wy(t,e,r){var n=Object.create(Object.getPrototypeOf(t));return n._values=e,n.__ownerID=r,n}function Gy(t){return t.constructor.displayName||t.constructor.name||"Record"}function Il(t){return _y(t._keys.map(function(e){return[e,t.get(e)]}))}function xJ(t,e){try{Object.defineProperty(t,e,{get:function(){return this.get(e)},set:function(r){Ty(this.__ownerID,"Cannot set on an immutable record."),this.set(e,r)}})}catch(r){}}var wJ=function(t){function e(r,n){if(!(this instanceof e))return new e(r,n);if(this._value=r,this.size=n===void 0?1/0:Math.max(0,n),this.size===0){if(Jh)return Jh;Jh=this}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.toString=function(){return this.size===0?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},e.prototype.get=function(n,i){return this.has(n)?this._value:i},e.prototype.includes=function(n){return on(this._value,n)},e.prototype.slice=function(n,i){var a=this.size;return Pc(n,i,a)?this:new e(this._value,Lc(i,a)-Yl(n,a))},e.prototype.reverse=function(){return this},e.prototype.indexOf=function(n){return on(this._value,n)?0:-1},e.prototype.lastIndexOf=function(n){return on(this._value,n)?this.size:-1},e.prototype.__iterate=function(n,i){for(var a=this.size,o=0;o!==a&&n(this._value,i?a-++o:o++,this)!==!1;);return o},e.prototype.__iterator=function(n,i){var a=this,o=this.size,s=0;return new Dt(function(){return s===o?Ln():gr(n,i?o-++s:s++,a._value)})},e.prototype.equals=function(n){return n instanceof e?on(this._value,n._value):zy(this,n)},e}(ki),Jh;function Po(t,e){return Qk([],e||EJ,t,"",e&&e.length>2?[]:void 0,{"":t})}function Qk(t,e,r,n,i,a){if(typeof r!="string"&&!Ti(r)&&(my(r)||gy(r)||ky(r))){if(~t.indexOf(r))throw new TypeError("Cannot convert circular structure to Immutable");t.push(r),i&&n!==""&&i.push(n);var o=e.call(a,n,Fn(r).map(function(s,l){return Qk(t,e,s,l,i,r)}),i&&i.slice());return t.pop(),i&&i.pop(),o}return r}function EJ(t,e){return yn(e)?e.toList():or(e)?e.toMap():e.toSet()}var CJ="4.3.7",Ue={version:CJ,Collection:kr,Iterable:kr,Seq:Fn,Map:lr,OrderedMap:va,List:Yi,Stack:Np,Set:Bc,OrderedSet:kl,PairSorting:SJ,Record:tn,Range:Wk,Repeat:wJ,is:on,fromJS:Po,hash:qn,isImmutable:Ti,isCollection:Pn,isKeyed:or,isIndexed:yn,isAssociative:Fc,isOrdered:yi,isValueObject:rg,isPlainObject:ky,isSeq:jp,isList:By,isMap:Fp,isOrderedMap:Oy,isStack:Td,isSet:Dp,isOrderedSet:Hy,isRecord:gs,get:Iy,getIn:Uy,has:kk,hasIn:Yk,merge:eJ,mergeDeep:rJ,mergeWith:tJ,mergeDeepWith:nJ,remove:Ik,removeIn:Lk,set:Ak,setIn:Pk,update:Py,updateIn:ms},TJ=0;const Lt=function(){var t=(new Date().getTime().toString(16)+"FF").substr(0,11),e="ssssssss-xxxx-4xxx-yxxx-x".replace(/[xys]/g,function(r){var n=r==="s"?Math.floor(Math.random()*16):TJ++&15,i=r==="x"?n:n&3|8;return i.toString(16)});return e+t};var kJ={};function _S(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function IJ(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_S(Object(r),!0).forEach(function(n){oe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_S(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var _s=["formatValue","mongoFormatValue","sqlFormatValue","jsonLogic","elasticSearchFormatValue","spelFormatValue","spelImportFuncs","spelImportValue"],eu=["formatOp","mongoFormatOp","sqlFormatOp","jsonLogic","spelFormatOp"],Id=function(e){return wt(e)==="object"&&e!==null&&Object.prototype.toString.call(e)==="[object Object]"},Xk=function(e){if(wt(e)==="object"&&e!==null){if(Array.isArray(e))return Ce(e);if(Id(e))return IJ({},e)}return e},ni=function(e,r){return Object.fromEntries(Object.entries(e).filter(function(n){var i=ke(n,1),a=i[0];return!r.includes(a)}))},zr=function(e){var r;return(r=e==null?void 0:e.cardinality)!==null&&r!==void 0?r:1},Ad=function(e,r){return e===r?!0:lr.isMap(e)?e.equals(r):JSON.stringify(e)==JSON.stringify(r)},Hc=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return e===r?!0:Array.isArray(e)?AJ(e,r,n):lr.isMap(e)?e.equals(r):wt(e)=="object"?jJ(e,r,n):e===r};function AJ(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(t===e)return!0;if(!t||!e)return!1;var n=t.length;if(e.length!==n)return!1;for(var i=0;i<n;i++){var a=r?Hc(t[i],e[i],r):t[i]===e[i];if(!a)return!1}return!0}function jJ(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(t===e)return!0;if(!t||!e)return!1;var n=Object.keys(t),i=Object.keys(e),a=n.length;if(i.length!==a)return!1;for(var o=0;o<a;o++){var s=n[o],l=r?Hc(t[s],e[s],r):t[s]===e[s];if(!l)return!1}return!0}var tu=function(e){return wt(e)==="object"&&e!==null&&typeof e.toJS=="function"},Mp=function(e){return tu(e)&&Ue.isList(e)};function Ur(t){return Mp(t)?t:new Ue.List(t)}function Yy(t){return tu(t)?t.toJS():t}var Zk=function(e){return e.replace(/[.*+?^${}()|[\]\\/]/g,"\\$&")},eI=function(e,r,n,i,a,o){if(Array.isArray(e))return r},Ky=function t(e){var r=["$$typeof","_owner","_store","ref","key"],n=function(s){return typeof s=="string"?s:typeof s=="function"?s.name:s};if(e instanceof Array)return e.map(function(o,s){return t(o)});if(wt(e)==="object"&&e!==null&&zc(e)){var i,a=ni(e,r);return a.type&&(a.type=n(a.type)),a!=null&&(i=a.props)!==null&&i!==void 0&&i.children&&(a.props.children=t(a.props.children)),a}return e},zc=function(e){return wt(e)==="object"&&e!==null&&!Array.isArray(e)&&Object.keys(e).includes("type")&&Object.keys(e).includes("props")&&Object.keys(e).includes("key")&&Object.keys(e).includes("ref")&&Object.keys(e).includes("$$typeof")},Jy=function(e){return wt(e)==="object"&&e!==null&&!Array.isArray(e)&&typeof e.type=="string"&&Object.keys(e).includes("props")},jn=function(e){var r=wt(e)==="object"&&e!==null&&!Array.isArray(e)&&Object.keys(e).length===1;return r};function tI(t){return new Promise(function(e){setTimeout(e,t)})}function jd(t,e){return t||(t=[]),e||(e=[]),e.map(function(r){return[r,t.indexOf(r)]}).map(function(r,n,i){var a=ke(r,2),o=a[0],s=a[1];if(s==-1){var l=i.slice(n+1),u=i.slice(0,n),c=u.reverse().find(function(d){var p=ke(d,2);p[0];var v=p[1];return v!=-1}),f=l.find(function(d){var p=ke(d,2);p[0];var v=p[1];return v!=-1});return f?[o,"before",f[0]]:c?[o,"after",c[0]]:[o,"append",null]}else return null}).filter(function(r){return r!==null}).reduce(function(r,n){var i=ke(n,3),a=i[0],o=i[1],s=i[2],l=r.indexOf(s);return r.indexOf(a)==-1&&(l>-1?r.splice(l+(o=="after"?1:0),0,a):r.splice(o=="append"?1/0:0,0,a)),r},t.slice())}var rI=function t(e){wt(e)==="object"&&e!==null&&!zc(e)&&(Object.keys(e).forEach(function(r){r!=="__cache"&&t(e[r])}),Object.freeze(e))},nI=function t(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[];if(Id(e)){if(e.var)return n[e.var]=r,!0;if(!Id(r))return!1;for(var a in e){var o=e[a],s=r[a];if(!t(o,s,n,[].concat(Ce(i),[a])))return!1}return!0}else if(Array.isArray(e)){if(!Array.isArray(r))return!1;for(var l=0;l<e.length;l++){var u=e[l],c=r[l];if(!t(u,c,n,[].concat(Ce(i),[l])))return!1}return!0}else return e===r},PJ=function(){return typeof process<"u"&&kJ&&!1},iI=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,r=e!=null?e:PJ();return r?console:{error:function(){},log:function(){},warn:function(){},debug:function(){},info:function(){}}},aI=function(){for(var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r,n=0;n<e.length;n++){var i=e[n];if(i!==void 0){r=i;break}}return r},Oo=iI();const LJ=Object.freeze(Object.defineProperty({__proto__:null,applyToJS:Yy,cleanJSX:Ky,deepEqual:Ad,deepFreeze:rI,escapeRegExp:Zk,getFirstDefined:aI,getLogger:iI,getOpCardinality:zr,isDirtyJSX:zc,isImmutable:tu,isImmutableList:Mp,isJSX:Jy,isJsonCompatible:nI,isJsonLogic:jn,isObject:Id,logger:Oo,mergeArraysSmart:jd,mergeCustomizerNoArrays:eI,omit:ni,opDefKeysToOmit:eu,shallowCopy:Xk,shallowEqual:Hc,sleep:tI,toImmutableList:Ur,uuid:Lt,widgetDefKeysToOmit:_s},Symbol.toStringTag,{value:"Module"}));var oI={exports:{}},sI={exports:{}};(function(t){function e(r){"@babel/helpers - typeof";return t.exports=e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},t.exports.__esModule=!0,t.exports.default=t.exports,e(r)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(sI);var FJ=sI.exports;(function(t){var e=FJ.default;function r(){t.exports=r=function(){return i},t.exports.__esModule=!0,t.exports.default=t.exports;var n,i={},a=Object.prototype,o=a.hasOwnProperty,s=Object.defineProperty||function(M,R,F){M[R]=F.value},l=typeof Symbol=="function"?Symbol:{},u=l.iterator||"@@iterator",c=l.asyncIterator||"@@asyncIterator",f=l.toStringTag||"@@toStringTag";function d(M,R,F){return Object.defineProperty(M,R,{value:F,enumerable:!0,configurable:!0,writable:!0}),M[R]}try{d({},"")}catch(M){d=function(F,N,B){return F[N]=B}}function p(M,R,F,N){var B=R&&R.prototype instanceof b?R:b,q=Object.create(B.prototype),W=new $(N||[]);return s(q,"_invoke",{value:I(M,F,W)}),q}function v(M,R,F){try{return{type:"normal",arg:M.call(R,F)}}catch(N){return{type:"throw",arg:N}}}i.wrap=p;var h="suspendedStart",g="suspendedYield",y="executing",m="completed",_={};function b(){}function S(){}function O(){}var x={};d(x,u,function(){return this});var E=Object.getPrototypeOf,A=E&&E(E(U([])));A&&A!==a&&o.call(A,u)&&(x=A);var C=O.prototype=b.prototype=Object.create(x);function k(M){["next","throw","return"].forEach(function(R){d(M,R,function(F){return this._invoke(R,F)})})}function w(M,R){function F(B,q,W,D){var G=v(M[B],M,q);if(G.type!=="throw"){var H=G.arg,Y=H.value;return Y&&e(Y)=="object"&&o.call(Y,"__await")?R.resolve(Y.__await).then(function(K){F("next",K,W,D)},function(K){F("throw",K,W,D)}):R.resolve(Y).then(function(K){H.value=K,W(H)},function(K){return F("throw",K,W,D)})}D(G.arg)}var N;s(this,"_invoke",{value:function(q,W){function D(){return new R(function(G,H){F(q,W,G,H)})}return N=N?N.then(D,D):D()}})}function I(M,R,F){var N=h;return function(B,q){if(N===y)throw Error("Generator is already running");if(N===m){if(B==="throw")throw q;return{value:n,done:!0}}for(F.method=B,F.arg=q;;){var W=F.delegate;if(W){var D=L(W,F);if(D){if(D===_)continue;return D}}if(F.method==="next")F.sent=F._sent=F.arg;else if(F.method==="throw"){if(N===h)throw N=m,F.arg;F.dispatchException(F.arg)}else F.method==="return"&&F.abrupt("return",F.arg);N=y;var G=v(M,R,F);if(G.type==="normal"){if(N=F.done?m:g,G.arg===_)continue;return{value:G.arg,done:F.done}}G.type==="throw"&&(N=m,F.method="throw",F.arg=G.arg)}}}function L(M,R){var F=R.method,N=M.iterator[F];if(N===n)return R.delegate=null,F==="throw"&&M.iterator.return&&(R.method="return",R.arg=n,L(M,R),R.method==="throw")||F!=="return"&&(R.method="throw",R.arg=new TypeError("The iterator does not provide a '"+F+"' method")),_;var B=v(N,M.iterator,R.arg);if(B.type==="throw")return R.method="throw",R.arg=B.arg,R.delegate=null,_;var q=B.arg;return q?q.done?(R[M.resultName]=q.value,R.next=M.nextLoc,R.method!=="return"&&(R.method="next",R.arg=n),R.delegate=null,_):q:(R.method="throw",R.arg=new TypeError("iterator result is not an object"),R.delegate=null,_)}function P(M){var R={tryLoc:M[0]};1 in M&&(R.catchLoc=M[1]),2 in M&&(R.finallyLoc=M[2],R.afterLoc=M[3]),this.tryEntries.push(R)}function V(M){var R=M.completion||{};R.type="normal",delete R.arg,M.completion=R}function $(M){this.tryEntries=[{tryLoc:"root"}],M.forEach(P,this),this.reset(!0)}function U(M){if(M||M===""){var R=M[u];if(R)return R.call(M);if(typeof M.next=="function")return M;if(!isNaN(M.length)){var F=-1,N=function B(){for(;++F<M.length;)if(o.call(M,F))return B.value=M[F],B.done=!1,B;return B.value=n,B.done=!0,B};return N.next=N}}throw new TypeError(e(M)+" is not iterable")}return S.prototype=O,s(C,"constructor",{value:O,configurable:!0}),s(O,"constructor",{value:S,configurable:!0}),S.displayName=d(O,f,"GeneratorFunction"),i.isGeneratorFunction=function(M){var R=typeof M=="function"&&M.constructor;return!!R&&(R===S||(R.displayName||R.name)==="GeneratorFunction")},i.mark=function(M){return Object.setPrototypeOf?Object.setPrototypeOf(M,O):(M.__proto__=O,d(M,f,"GeneratorFunction")),M.prototype=Object.create(C),M},i.awrap=function(M){return{__await:M}},k(w.prototype),d(w.prototype,c,function(){return this}),i.AsyncIterator=w,i.async=function(M,R,F,N,B){B===void 0&&(B=Promise);var q=new w(p(M,R,F,N),B);return i.isGeneratorFunction(R)?q:q.next().then(function(W){return W.done?W.value:q.next()})},k(C),d(C,f,"Generator"),d(C,u,function(){return this}),d(C,"toString",function(){return"[object Generator]"}),i.keys=function(M){var R=Object(M),F=[];for(var N in R)F.push(N);return F.reverse(),function B(){for(;F.length;){var q=F.pop();if(q in R)return B.value=q,B.done=!1,B}return B.done=!0,B}},i.values=U,$.prototype={constructor:$,reset:function(R){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(V),!R)for(var F in this)F.charAt(0)==="t"&&o.call(this,F)&&!isNaN(+F.slice(1))&&(this[F]=n)},stop:function(){this.done=!0;var R=this.tryEntries[0].completion;if(R.type==="throw")throw R.arg;return this.rval},dispatchException:function(R){if(this.done)throw R;var F=this;function N(H,Y){return W.type="throw",W.arg=R,F.next=H,Y&&(F.method="next",F.arg=n),!!Y}for(var B=this.tryEntries.length-1;B>=0;--B){var q=this.tryEntries[B],W=q.completion;if(q.tryLoc==="root")return N("end");if(q.tryLoc<=this.prev){var D=o.call(q,"catchLoc"),G=o.call(q,"finallyLoc");if(D&&G){if(this.prev<q.catchLoc)return N(q.catchLoc,!0);if(this.prev<q.finallyLoc)return N(q.finallyLoc)}else if(D){if(this.prev<q.catchLoc)return N(q.catchLoc,!0)}else{if(!G)throw Error("try statement without catch or finally");if(this.prev<q.finallyLoc)return N(q.finallyLoc)}}}},abrupt:function(R,F){for(var N=this.tryEntries.length-1;N>=0;--N){var B=this.tryEntries[N];if(B.tryLoc<=this.prev&&o.call(B,"finallyLoc")&&this.prev<B.finallyLoc){var q=B;break}}q&&(R==="break"||R==="continue")&&q.tryLoc<=F&&F<=q.finallyLoc&&(q=null);var W=q?q.completion:{};return W.type=R,W.arg=F,q?(this.method="next",this.next=q.finallyLoc,_):this.complete(W)},complete:function(R,F){if(R.type==="throw")throw R.arg;return R.type==="break"||R.type==="continue"?this.next=R.arg:R.type==="return"?(this.rval=this.arg=R.arg,this.method="return",this.next="end"):R.type==="normal"&&F&&(this.next=F),_},finish:function(R){for(var F=this.tryEntries.length-1;F>=0;--F){var N=this.tryEntries[F];if(N.finallyLoc===R)return this.complete(N.completion,N.afterLoc),V(N),_}},catch:function(R){for(var F=this.tryEntries.length-1;F>=0;--F){var N=this.tryEntries[F];if(N.tryLoc===R){var B=N.completion;if(B.type==="throw"){var q=B.arg;V(N)}return q}}throw Error("illegal catch attempt")},delegateYield:function(R,F,N){return this.delegate={iterator:U(R),resultName:F,nextLoc:N},this.method==="next"&&(this.arg=n),_}},i}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports})(oI);var RJ=oI.exports,rd=RJ(),$J=rd;try{regeneratorRuntime=rd}catch(t){typeof globalThis=="object"?globalThis.regeneratorRuntime=rd:Function("r","regeneratorRuntime = r")(rd)}const Nr=en($J);var NJ=us,DJ=ya,MJ="[object Symbol]";function VJ(t){return typeof t=="symbol"||DJ(t)&&NJ(t)==MJ}var Vp=VJ,BJ=ti,qJ=Vp,HJ=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,zJ=/^\w*$/;function UJ(t,e){if(BJ(t))return!1;var r=typeof t;return r=="number"||r=="symbol"||r=="boolean"||t==null||qJ(t)?!0:zJ.test(t)||!HJ.test(t)||e!=null&&t in Object(e)}var Qy=UJ,lI=am,WJ="Expected a function";function Xy(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(WJ);var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],a=r.cache;if(a.has(i))return a.get(i);var o=t.apply(this,n);return r.cache=a.set(i,o)||a,o};return r.cache=new(Xy.Cache||lI),r}Xy.Cache=lI;var GJ=Xy,YJ=GJ,KJ=500;function JJ(t){var e=YJ(t,function(n){return r.size===KJ&&r.clear(),n}),r=e.cache;return e}var QJ=JJ,XJ=QJ,ZJ=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,eQ=/\\(\\)?/g,tQ=XJ(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(ZJ,function(r,n,i,a){e.push(i?a.replace(eQ,"$1"):n||r)}),e}),rQ=tQ;function nQ(t,e){for(var r=-1,n=t==null?0:t.length,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}var Bp=nQ,SS=Rl,iQ=Bp,aQ=ti,oQ=Vp,sQ=1/0,OS=SS?SS.prototype:void 0,xS=OS?OS.toString:void 0;function uI(t){if(typeof t=="string")return t;if(aQ(t))return iQ(t,uI)+"";if(oQ(t))return xS?xS.call(t):"";var e=t+"";return e=="0"&&1/t==-sQ?"-0":e}var cI=uI,lQ=cI;function uQ(t){return t==null?"":lQ(t)}var fI=uQ,cQ=ti,fQ=Qy,dQ=rQ,pQ=fI;function hQ(t,e){return cQ(t)?t:fQ(t,e)?[t]:dQ(pQ(t))}var ru=hQ,vQ=Vp,gQ=1/0;function mQ(t){if(typeof t=="string"||vQ(t))return t;var e=t+"";return e=="0"&&1/t==-gQ?"-0":e}var nu=mQ,yQ=ru,bQ=nu;function _Q(t,e){e=yQ(e,t);for(var r=0,n=e.length;t!=null&&r<n;)t=t[bQ(e[r++])];return r&&r==n?t:void 0}var qp=_Q,SQ=cs,OQ=function(){try{var t=SQ(Object,"defineProperty");return t({},"",{}),t}catch(e){}}(),dI=OQ,wS=dI;function xQ(t,e,r){e=="__proto__"&&wS?wS(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}var Hp=xQ,wQ=Hp,EQ=_c,CQ=Object.prototype,TQ=CQ.hasOwnProperty;function kQ(t,e,r){var n=t[e];(!(TQ.call(t,e)&&EQ(n,r))||r===void 0&&!(e in t))&&wQ(t,e,r)}var Zy=kQ,IQ=Zy,AQ=ru,jQ=sp,ES=xi,PQ=nu;function LQ(t,e,r,n){if(!ES(t))return t;e=AQ(e,t);for(var i=-1,a=e.length,o=a-1,s=t;s!=null&&++i<a;){var l=PQ(e[i]),u=r;if(l==="__proto__"||l==="constructor"||l==="prototype")return t;if(i!=o){var c=s[l];u=n?n(c,l,s):void 0,u===void 0&&(u=ES(c)?c:jQ(e[i+1])?[]:{})}IQ(s,l,u),s=s[l]}return t}var FQ=LQ,RQ=qp,$Q=FQ,NQ=ru;function DQ(t,e,r){for(var n=-1,i=e.length,a={};++n<i;){var o=e[n],s=RQ(t,o);r(s,o)&&$Q(a,NQ(o,t),s)}return a}var pI=DQ;function MQ(t,e){return t!=null&&e in Object(t)}var VQ=MQ,BQ=ru,qQ=ap,HQ=ti,zQ=sp,UQ=lm,WQ=nu;function GQ(t,e,r){e=BQ(e,t);for(var n=-1,i=e.length,a=!1;++n<i;){var o=WQ(e[n]);if(!(a=t!=null&&r(t,o)))break;t=t[o]}return a||++n!=i?a:(i=t==null?0:t.length,!!i&&UQ(i)&&zQ(o,i)&&(HQ(t)||qQ(t)))}var YQ=GQ,KQ=VQ,JQ=YQ;function QQ(t,e){return t!=null&&JQ(t,e,KQ)}var hI=QQ,XQ=pI,ZQ=hI;function eX(t,e){return XQ(t,e,function(r,n){return ZQ(t,n)})}var tX=eX,CS=Rl,rX=ap,nX=ti,TS=CS?CS.isConcatSpreadable:void 0;function iX(t){return nX(t)||rX(t)||!!(TS&&t&&t[TS])}var aX=iX,oX=om,sX=aX;function vI(t,e,r,n,i){var a=-1,o=t.length;for(r||(r=sX),i||(i=[]);++a<o;){var s=t[a];e>0&&r(s)?e>1?vI(s,e-1,r,n,i):oX(i,s):n||(i[i.length]=s)}return i}var lX=vI,uX=lX;function cX(t){var e=t==null?0:t.length;return e?uX(t,1):[]}var fX=cX;function dX(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}var pX=dX,hX=pX,kS=Math.max;function vX(t,e,r){return e=kS(e===void 0?t.length-1:e,0),function(){for(var n=arguments,i=-1,a=kS(n.length-e,0),o=Array(a);++i<a;)o[i]=n[e+i];i=-1;for(var s=Array(e+1);++i<e;)s[i]=n[i];return s[e]=r(o),hX(t,this,s)}}var gI=vX;function gX(t){return function(){return t}}var mX=gX;function yX(t){return t}var zp=yX,bX=mX,IS=dI,_X=zp,SX=IS?function(t,e){return IS(t,"toString",{configurable:!0,enumerable:!1,value:bX(e),writable:!0})}:_X,OX=SX,xX=800,wX=16,EX=Date.now;function CX(t){var e=0,r=0;return function(){var n=EX(),i=wX-(n-r);if(r=n,i>0){if(++e>=xX)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var TX=CX,kX=OX,IX=TX,AX=IX(kX),mI=AX,jX=fX,PX=gI,LX=mI;function FX(t){return LX(PX(t,void 0,jX),t+"")}var yI=FX,RX=tX,$X=yI,NX=$X(function(t,e){return t==null?{}:RX(t,e)}),DX=NX;const ga=en(DX);function MX(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var bI=MX;const Up=en(bI);function VX(t,e){for(var r=-1,n=t==null?0:t.length;++r<n&&e(t[r],r,t)!==!1;);return t}var BX=VX,qX=Zy,HX=Hp;function zX(t,e,r,n){var i=!r;r||(r={});for(var a=-1,o=e.length;++a<o;){var s=e[a],l=n?n(r[s],t[s],s,r,t):void 0;l===void 0&&(l=t[s]),i?HX(r,s,l):qX(r,s,l)}return r}var iu=zX,UX=iu,WX=Vl;function GX(t,e){return t&&UX(e,WX(e),t)}var YX=GX;function KX(t){var e=[];if(t!=null)for(var r in Object(t))e.push(r);return e}var JX=KX,QX=xi,XX=dm,ZX=JX,eZ=Object.prototype,tZ=eZ.hasOwnProperty;function rZ(t){if(!QX(t))return ZX(t);var e=XX(t),r=[];for(var n in t)n=="constructor"&&(e||!tZ.call(t,n))||r.push(n);return r}var nZ=rZ,iZ=NE,aZ=nZ,oZ=Ml;function sZ(t){return oZ(t)?iZ(t,!0):aZ(t)}var Uc=sZ,lZ=iu,uZ=Uc;function cZ(t,e){return t&&lZ(e,uZ(e),t)}var fZ=cZ,Pd={exports:{}};Pd.exports;(function(t,e){var r=Wi,n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===n,o=a?r.Buffer:void 0,s=o?o.allocUnsafe:void 0;function l(u,c){if(c)return u.slice();var f=u.length,d=s?s(f):new u.constructor(f);return u.copy(d),d}t.exports=l})(Pd,Pd.exports);var _I=Pd.exports;function dZ(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}var SI=dZ,pZ=iu,hZ=sm;function vZ(t,e){return pZ(t,hZ(t),e)}var gZ=vZ,mZ=DE,yZ=mZ(Object.getPrototypeOf,Object),e0=yZ,bZ=om,_Z=e0,SZ=sm,OZ=RE,xZ=Object.getOwnPropertySymbols,wZ=xZ?function(t){for(var e=[];t;)bZ(e,SZ(t)),t=_Z(t);return e}:OZ,OI=wZ,EZ=iu,CZ=OI;function TZ(t,e){return EZ(t,CZ(t),e)}var kZ=TZ,IZ=FE,AZ=OI,jZ=Uc;function PZ(t){return IZ(t,jZ,AZ)}var t0=PZ,LZ=Object.prototype,FZ=LZ.hasOwnProperty;function RZ(t){var e=t.length,r=new t.constructor(e);return e&&typeof t[0]=="string"&&FZ.call(t,"index")&&(r.index=t.index,r.input=t.input),r}var $Z=RZ,AS=LE;function NZ(t){var e=new t.constructor(t.byteLength);return new AS(e).set(new AS(t)),e}var r0=NZ,DZ=r0;function MZ(t,e){var r=e?DZ(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)}var VZ=MZ,BZ=/\w*$/;function qZ(t){var e=new t.constructor(t.source,BZ.exec(t));return e.lastIndex=t.lastIndex,e}var HZ=qZ,jS=Rl,PS=jS?jS.prototype:void 0,LS=PS?PS.valueOf:void 0;function zZ(t){return LS?Object(LS.call(t)):{}}var UZ=zZ,WZ=r0;function GZ(t,e){var r=e?WZ(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)}var xI=GZ,YZ=r0,KZ=VZ,JZ=HZ,QZ=UZ,XZ=xI,ZZ="[object Boolean]",eee="[object Date]",tee="[object Map]",ree="[object Number]",nee="[object RegExp]",iee="[object Set]",aee="[object String]",oee="[object Symbol]",see="[object ArrayBuffer]",lee="[object DataView]",uee="[object Float32Array]",cee="[object Float64Array]",fee="[object Int8Array]",dee="[object Int16Array]",pee="[object Int32Array]",hee="[object Uint8Array]",vee="[object Uint8ClampedArray]",gee="[object Uint16Array]",mee="[object Uint32Array]";function yee(t,e,r){var n=t.constructor;switch(e){case see:return YZ(t);case ZZ:case eee:return new n(+t);case lee:return KZ(t,r);case uee:case cee:case fee:case dee:case pee:case hee:case vee:case gee:case mee:return XZ(t,r);case tee:return new n;case ree:case aee:return new n(t);case nee:return JZ(t);case iee:return new n;case oee:return QZ(t)}}var bee=yee,_ee=xi,FS=Object.create,See=function(){function t(){}return function(e){if(!_ee(e))return{};if(FS)return FS(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}(),Oee=See,xee=Oee,wee=e0,Eee=dm;function Cee(t){return typeof t.constructor=="function"&&!Eee(t)?xee(wee(t)):{}}var wI=Cee,Tee=lp,kee=ya,Iee="[object Map]";function Aee(t){return kee(t)&&Tee(t)==Iee}var jee=Aee,Pee=jee,Lee=um,RS=cm,$S=RS&&RS.isMap,Fee=$S?Lee($S):Pee,Ree=Fee,$ee=lp,Nee=ya,Dee="[object Set]";function Mee(t){return Nee(t)&&$ee(t)==Dee}var Vee=Mee,Bee=Vee,qee=um,NS=cm,DS=NS&&NS.isSet,Hee=DS?qee(DS):Bee,zee=Hee,Uee=ip,Wee=BX,Gee=Zy,Yee=YX,Kee=fZ,Jee=_I,Qee=SI,Xee=gZ,Zee=kZ,ete=ME,tte=t0,rte=lp,nte=$Z,ite=bee,ate=wI,ote=ti,ste=op,lte=Ree,ute=xi,cte=zee,fte=Vl,dte=Uc,pte=1,hte=2,vte=4,EI="[object Arguments]",gte="[object Array]",mte="[object Boolean]",yte="[object Date]",bte="[object Error]",CI="[object Function]",_te="[object GeneratorFunction]",Ste="[object Map]",Ote="[object Number]",TI="[object Object]",xte="[object RegExp]",wte="[object Set]",Ete="[object String]",Cte="[object Symbol]",Tte="[object WeakMap]",kte="[object ArrayBuffer]",Ite="[object DataView]",Ate="[object Float32Array]",jte="[object Float64Array]",Pte="[object Int8Array]",Lte="[object Int16Array]",Fte="[object Int32Array]",Rte="[object Uint8Array]",$te="[object Uint8ClampedArray]",Nte="[object Uint16Array]",Dte="[object Uint32Array]",ar={};ar[EI]=ar[gte]=ar[kte]=ar[Ite]=ar[mte]=ar[yte]=ar[Ate]=ar[jte]=ar[Pte]=ar[Lte]=ar[Fte]=ar[Ste]=ar[Ote]=ar[TI]=ar[xte]=ar[wte]=ar[Ete]=ar[Cte]=ar[Rte]=ar[$te]=ar[Nte]=ar[Dte]=!0;ar[bte]=ar[CI]=ar[Tte]=!1;function nd(t,e,r,n,i,a){var o,s=e&pte,l=e&hte,u=e&vte;if(r&&(o=i?r(t,n,i,a):r(t)),o!==void 0)return o;if(!ute(t))return t;var c=ote(t);if(c){if(o=nte(t),!s)return Qee(t,o)}else{var f=rte(t),d=f==CI||f==_te;if(ste(t))return Jee(t,s);if(f==TI||f==EI||d&&!i){if(o=l||d?{}:ate(t),!s)return l?Zee(t,Kee(o,t)):Xee(t,Yee(o,t))}else{if(!ar[f])return i?t:{};o=ite(t,f,s)}}a||(a=new Uee);var p=a.get(t);if(p)return p;a.set(t,o),cte(t)?t.forEach(function(g){o.add(nd(g,e,r,g,t,a))}):lte(t)&&t.forEach(function(g,y){o.set(y,nd(g,e,r,y,t,a))});var v=u?l?tte:ete:l?dte:fte,h=c?void 0:v(t);return Wee(h||t,function(g,y){h&&(y=g,g=t[y]),Gee(o,y,nd(g,e,r,y,t,a))}),o}var kI=nd;function Mte(t,e,r){var n=-1,i=t.length;e<0&&(e=-e>i?0:i+e),r=r>i?i:r,r<0&&(r+=i),i=e>r?0:r-e>>>0,e>>>=0;for(var a=Array(i);++n<i;)a[n]=t[n+e];return a}var Vte=Mte,Bte=qp,qte=Vte;function Hte(t,e){return e.length<2?t:Bte(t,qte(e,0,-1))}var zte=Hte,Ute=ru,Wte=bI,Gte=zte,Yte=nu;function Kte(t,e){return e=Ute(e,t),t=Gte(t,e),t==null||delete t[Yte(Wte(e))]}var Jte=Kte,Qte=us,Xte=e0,Zte=ya,ere="[object Object]",tre=Function.prototype,rre=Object.prototype,II=tre.toString,nre=rre.hasOwnProperty,ire=II.call(Object);function are(t){if(!Zte(t)||Qte(t)!=ere)return!1;var e=Xte(t);if(e===null)return!0;var r=nre.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&II.call(r)==ire}var n0=are,ore=n0;function sre(t){return ore(t)?void 0:t}var lre=sre,ure=Bp,cre=kI,fre=Jte,dre=ru,pre=iu,hre=lre,vre=yI,gre=t0,mre=1,yre=2,bre=4,_re=vre(function(t,e){var r={};if(t==null)return r;var n=!1;e=ure(e,function(a){return a=dre(a,t),n||(n=a.length>1),a}),pre(t,gre(t),r),n&&(r=cre(r,mre|yre|bre,hre));for(var i=e.length;i--;)fre(r,e[i]);return r}),Sre=_re;const xo=en(Sre);function Ore(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=xre(t))||e){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(u){throw u},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a=!0,o=!1,s;return{s:function(){r=r.call(t)},n:function(){var u=r.next();return a=u.done,u},e:function(u){o=!0,s=u},f:function(){try{!a&&r.return!=null&&r.return()}finally{if(o)throw s}}}}function xre(t,e){if(t){if(typeof t=="string")return MS(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return MS(t,e)}}function MS(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function VS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ld(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?VS(Object(r),!0).forEach(function(n){oe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):VS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var i0=function(e){return wt(e)=="object"&&e!==null&&!Array.isArray(e)},Ha=function(e,r){if(!(e==null||e==""))return i0(e)?Ld(Ld({},e),{},{title:e.title||e.value}):{value:e,title:r!==void 0?r:""+e}},a0=function(e){var r=Ha(e);return i0(r)?Ld(Ld({},Ha(e)),{},{isCustom:!0}):r},AI=function(e){if(Array.isArray(e))return e.map(function(a){return Ha(a)});if(!i0(e))return e;var r=[];for(var n in e){var i=e[n];r.push(Ha(n,i))}return r},fc=function(e,r){if(Array.isArray(e)){var n=e.map(function(i){return Ha(i)});return n.find(function(i){return""+i.value==""+r})}else return e[r]!==void 0?Ha(r,e[r]):void 0},jI=function(e,r){if(e==null)return r;var n=fc(e,r);return n!==void 0?n.title:r},wre=function(e,r){if(e==null)return r;var n=fc(e,r);return n!==void 0?n.value:r},o0=function(e,r){var n=[];if(Array.isArray(e)){var i=Ore(e),a;try{for(i.s();!(a=i.n()).done;){var o=a.value,s=r(Ha(o));s!=null&&n.push(s)}}catch(c){i.e(c)}finally{i.f()}}else for(var l in e){var u=r(Ha(l,e[l]));u!=null&&n.push(u)}return n},Ere=function(e,r){return o0(r,function(n){return"".concat(n.value).indexOf(e)!=-1||n.title.indexOf(e)!=-1?n:null}).filter(function(n){return n!==null}).shift()},Wp=function(e,r){return o0(r,function(n){return""+n.value==""+e?n:null}).filter(function(n){return n!==null}).shift()};const Cre=Object.freeze(Object.defineProperty({__proto__:null,getItemInListValues:fc,getListValue:Wp,getTitleInListValues:jI,getValueInListValues:wre,listValuesToArray:AI,makeCustomListValue:a0,mapListValues:o0,searchListValue:Ere,toListValue:Ha},Symbol.toStringTag,{value:"Module"}));var Ie=function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return e.interpose("children1").withMutations(function(a){return a.skip(1),a.push.apply(a,n),a})},lg=function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return e.interpose("children1").withMutations(function(a){return a.push.apply(a,n),a})},ul=function(e,r){var n=new Ue.OrderedMap(oe({},e.get("id"),e)),i=e;return r.forEach(function(a){var o;i=n.get(a),n=(o=i)===null||o===void 0?void 0:o.get("children1")}),i},PI=function(e){var r=e;function n(i,a){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,s=a.push(i.get("id")),l=i.getIn(["properties","isLocked"]);o&&l&&(r=r.deleteIn(Ie(s,"properties","isLocked")));var u=i.get("children1");u&&u.map(function(c,f){n(c,s,l||o)})}return n(e,new Ue.List),r},Bi=function(e){var r=e;function n(i,a,o,s){if(i){var l=i.get("path"),u=i.get("id"),c=u||s||Lt(),f=a.push(c);(!l||!l.equals(f))&&(r=r.setIn(Ie(f,"path"),f)),u||(r=r.setIn(Ie(f,"id"),c));var d=i.get("children1");d&&(d.constructor.name==="Map"&&(r=r.setIn(Ie(f,"children1"),new Ue.OrderedMap(d))),d.map(function(p,v){n(p,f,o+1,v)}))}}return n(e,new Ue.List,0),r},Gp=function(e){var r=e;function n(i,a,o,s){if(!i)return!1;var l=i.get("id")||s,u=a.push(l),c=i.get("children1");if(c){var f=c.map(function(d,p){return n(d,u,o+1,p)}).reduce(function(d,p){return d&&p},!0);if((c.size==0||f)&&o>0)return r=r.deleteIn(Ie(u)),!0}return!1}return n(e,new Ue.List,0),r},ug=function(e){var r=[],n={},i=[],a=0,o=0,s=0,l={};function u(v,h,g,y,m,_,b,S){var O=v===e,x=v.get("type"),E=v.get("collapsed"),A=v.get("id"),C=v.get("children1"),k=v.getIn(["properties","isLocked"]),w=C?C.map(function(se,ue){return ue}).valueSeq().toArray():null,I=x==="rule_group",L=x==="rule",P=x==="group",V=x==="case_group",$=!m&&(!C||I),U=(w==null?void 0:w.length)>0,M=h.length?h[h.length-1]:null,R=V?A:b;V&&(i.push(A),o=0,s=0,l={});var F=R?i.indexOf(R):null,N=r.length,B=a,q;O||(q={},q.caseNo=F,q.globalNoByType=V?F:l[x]||0,q.indexPath=[].concat(Ce(h.slice(1).map(function(se){return n[se].childNo})),[S]),L?q.globalLeafNo=o:P&&(q.globalGroupNo=s)),r.push(A),n[A]={node:v,index:N,id:A,type:x,parent:M,parentType:M?n[M].type:null,children:w,childNo:S,caseId:R,caseNo:F,path:h.concat(A),lev:_,isLeaf:!C,isAtomicRule:$,isLocked:k||y,top:g?null:B,isDefaultCase:V?!C:void 0,atomicRulesCountInCase:V?0:void 0,position:q,collapsed:E,_top:N,leaf:!C};var W=0,D=0;g||(a+=1,W+=1,U&&!E&&!I&&(D+=1),!O&&!V&&(P&&s++,L&&o++,l[x]=(l[x]||0)+1)),b&&$&&n[b].atomicRulesCountInCase++;var G=0,H=0;if(U){var Y=0;C.map(function(se,ue){if(se){u(se,h.concat(A),g||E,y||k,m||I,_+1,R,Y);var fe=n[ue];G=Math.max(G,fe.depth||0),H+=fe.height,Y++}})}W+=H,D+=G;var K=r.length,ie=K-N,te=g?null:B+W;Object.assign(n[A],{depth:C?D:void 0,_height:ie,height:W,bottom:te})}u(e,[],!1,!1,!1,0,null,null);for(var c=0;c<r.length;c++){var f=c>0?r[c-1]:null,d=c<r.length-1?r[c+1]:null,p=n[r[c]];p.prev=f,p.next=d}return{flat:r,items:n,cases:i}},Tre=function(e){if(!e)return-1;var r=0;function n(i,a,o){var s,l,u;typeof i.get=="function"?(s=i.get("id"),l=i.get("children1"),u=i.get("type")):(s=i.id,l=i.children1,u=i.type);var c=u=="rule_group";r++,l&&!c&&l.map(function(f,d){f&&n(f,a.concat(s))})}return n(e,[]),r-1},cg=function(e){if(!e)return-1;var r=0;function n(i,a,o){var s,l,u;typeof i.get=="function"?(s=i.get("id"),l=i.get("children1"),u=i.get("type")):(s=i.id,l=i.children1,u=i.type),u=="rule"||u=="rule_group"?r++:l&&l.map(function(c,f){c&&n(c,a.concat(s))})}return n(e,[]),r},LI=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=e;function a(o,s){r&&o.path&&delete o.path,r&&!n&&s&&delete o.id;var l=o.properties;l&&l.operatorOptions==null&&delete l.operatorOptions;var u=o.children1;if(u){for(var c in u)u[c]&&a(u[c],c);n&&(o.children1=Object.values(u))}}return a(e,null),i},FI=function(e){var r=[],n=e.get("children1");return n&&n.map(function(i){var a=i.getIn(["properties","value"]),o;a&&a.size==1?(o=a.get(0),Array.isArray(o)&&o.length==0&&(o=null)):o=null,r=[].concat(Ce(r),[o])}),r},s0=function(e){return!e.get("children1")||e.get("children1").size==0},l0=function(e,r){return e.getIn(Ie(r,"children1")).size>0},fg=function(e){if(e!=null&&e.toJS){var r,n=e==null||(r=e.toJS)===null||r===void 0?void 0:r.call(e);return n!=null&&n.func?e.toOrderedMap():n}else return e};const kre=Object.freeze(Object.defineProperty({__proto__:null,_fixImmutableValue:fg,expandTreePath:Ie,expandTreeSubpath:lg,fixEmptyGroupsInTree:Gp,fixPathsInTree:Bi,getFlatTree:ug,getItemByPath:ul,getLightTree:LI,getSwitchValues:FI,getTotalReordableNodesCountInTree:Tre,getTotalRulesCountInTree:cg,hasChildren:l0,immutableToJs:Yy,isEmptyTree:s0,isImmutable:tu,jsToImmutable:dc,removeIsLockedInTree:PI,toImmutableList:Ur},Symbol.toStringTag,{value:"Module"}));var Ire=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(e){var i=e;return i=i.toJS(),i=LI(i,r,n),i}},u0=function(e){if(RI(e))return e;if($I(e))return Bi(dc(e));if(typeof e=="string"&&e.startsWith('["~#iM"'))throw new Error("You are trying to load query in obsolete serialization format (Immutable string) which is not supported in versions starting from 2.1.17");if(typeof e=="string")return Bi(dc(JSON.parse(e)));throw new Error("Can't load tree!")},RI=function(e){return lr.isMap(e)},$I=function(e){return wt(e)=="object"&&(e.type=="group"||e.type=="switch_group")};function dc(t){var e=Po(t,function(r,n,i){var a=i&&i.length>3&&i[i.length-1]==="value"&&i[i.length-3]==="args",o=i&&i.length>3&&i[i.length-1]==="value"&&i[i.length-2]==="properties",s;if(r=="properties"){s=n.toOrderedMap();for(var l=0;l<2;l++){var u,c,f;((u=s.get("value"))===null||u===void 0||(c=(f=u).get)===null||c===void 0?void 0:c.call(f,l))===null&&(s=s.setIn(["value",l],void 0))}}else a?s=fg(n):(i?o:r=="value")&&Ue.Iterable.isIndexed(n)?s=n.map(fg).toList():r=="asyncListValues"?s=n.toJS():r=="children1"&&Ue.Iterable.isIndexed(n)?s=new Ue.OrderedMap(n.map(function(d){return[(d==null?void 0:d.get("id"))||Lt(),d]})):s=Ue.Iterable.isIndexed(n)?n.toList():n.toOrderedMap();return s});return e}function BS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function vo(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?BS(Object(r),!0).forEach(function(n){oe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):BS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function NI(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=Are(t))||e){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(u){throw u},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a=!0,o=!1,s;return{s:function(){r=r.call(t)},n:function(){var u=r.next();return a=u.done,u},e:function(u){o=!0,s=u},f:function(){try{!a&&r.return!=null&&r.return()}finally{if(o)throw s}}}}function Are(t,e){if(t){if(typeof t=="string")return qS(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qS(t,e)}}function qS(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var jre=function(e){return Array.from(new Set(e))},DI="jlField",MI="jlArgs",Pre=["==","!="],Lre=["<","<=",">",">="],Fre=["multiselect_equals","multiselect_not_equals","multiselect_contains","multiselect_not_contains"],VI=function(e){return{errors:[],settings:e==null?void 0:e.settings}},Rre=function(e,r){return BI(e,r,!1)},BI=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=VI();i.settings={allowUnknownFields:!1,returnErrors:n};var a=ii(r,void 0,!1),o=$re(a),s=e?au(e,o,a,["rule","group","switch"],i):void 0,l=s?u0(s):void 0;return n?[l,i.errors]:(i.errors.length&&console.warn("Errors while importing from JsonLogic:",i.errors),l)},$re=function(e){var r={},n={};for(var i in e.operators){var a=e.operators[i];if(typeof a.jsonLogic=="string"){var o=a.jsonLogic+"/"+zr(a);r[o]||(r[o]=[]),r[o].push(i)}else if(typeof a.jsonLogic2=="string"){var s=a.jsonLogic2+"/"+zr(a);r[s]||(r[s]=[]),r[s].push(i),n[i]||(n[i]={}),n[i]={template:a.jsonLogic(DI,i,MI),jsonLogic2:a.jsonLogic2,_jsonLogicIsExclamationOp:!!a._jsonLogicIsExclamationOp}}}var l={};for(var u in e.conjunctions){var c=e.conjunctions[u],f=c.jsonLogicConj||u.toLowerCase();l[f]=u}var d={},p=NI(ou(e)),v;try{for(p.s();!(v=p.n()).done;){var h=ke(v.value,2),g=h[0],y=h[1],m=void 0;y.jsonLogicIsMethod?m="#"+y.jsonLogic:typeof y.jsonLogic=="string"&&(m=y.jsonLogic),m&&(d[m]||(d[m]=[]),d[m].push(g))}}catch(O){p.e(O)}finally{p.f()}var _=e.settings.jsonLogic,b=_.groupVarKey,S=_.altVarKey;return{operators:r,conjunctions:l,funcs:d,varKeys:["var",b,S],combinationOperators:n}},dg=function(e,r,n){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,a;if(r!=null&&r.combinationOperators)for(var o=0,s=Object.entries(r.combinationOperators);o<s.length;o++){var l=ke(s[o],2),u=l[0],c=l[1];if(i==null||i.includes(u)){var f=Nre(c.template,e);f.match&&(a?n.errors.push("Operator matched against 2 templates: ".concat(a.newOp," and ").concat(u)):a=f,a.newOp=c.jsonLogic2)}}return a},Nre=function t(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{match:!0,jlField:null,jlArgs:[]};if(e==null||r==null)return n.match=!1,n;var i=Object.keys(e),a=Object.keys(r);if(i.length!==a.length)return n.match=!1,n;for(var o=0;o<i.length;o++){var s=i[o],l=e[s];if(s!==a[o])return n.match=!1,n;if(l===DI&&jn(r[s]))n.jlField=r[s];else if(l===MI)n.jlArgs.push(r[s]);else if(wt(l)==="object"&&l!==null||Array.isArray(l))n=t(l,r[s],n);else if(l!==r[s])return n.match=!1,n}return n},au=function t(e,r,n,i,a){var o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!1,s=arguments.length>6?arguments[6]:void 0,l=arguments.length>7?arguments[7]:void 0,u=arguments.length>8&&arguments[8]!==void 0?arguments[8]:null,c,f;jn(e)&&(c=Object.keys(e)[0],f=e[c],Array.isArray(f)||(f=[f]));var d,p=a.errors.length,v=n.settings.jsonLogic.lockedOp,h=c=="!"&&f.length==1&&f[0]&&jn(f[0])&&r.varKeys.includes(Object.keys(f[0])[0]),g=dg(e,r,a);g&&(f=[],f[0]=g.jlField,g.jlArgs.forEach(function(O){return f.push(O)}),c=g.newOp);var y=c=="!"&&!h,m=v&&c==v,_=i.includes("switch"),b=_;m?d=t(f[0],r,n,i,a,o,s,l,u,!0):y?d=t(f[0],r,n,i,a,!o,s,l,u):i.includes("val")?d=qI(c,f,r,n,o,a,u)||HI(c,f,r,n,o,s,a,u)||Dre(e,s,l,n,a):(i.includes("switch")&&(d=Wre(c,f,r,n,o,a,u)),d==null&&i.includes("group")&&(d=zI(c,f,r,n,o,a,u,!1)),d==null&&i.includes("rule")&&(d=Ure(c,f,r,n,o,a,u)),d&&b&&!["group","switch_group"].includes(d.type)&&(d=Uu(d,n)));var S=a.errors.length;return c!="!"&&d===void 0&&S==p&&a.errors.push("Can't parse logic ".concat(JSON.stringify(e))),m&&(d.properties.isLocked=!0),d},Dre=function(e,r,n,i,a){var o;if(e===void 0&&(e=r==null?void 0:r.defaultValue),e!==void 0){n=n||(r==null?void 0:r.mainWidget);var s=i.widgets[n],l=r==null?void 0:r.type;if(l&&!s){a.errors.push("No widget for type ".concat(l));return}if(jn(e)){a.errors.push("Unexpected logic in value: ".concat(JSON.stringify(e)));return}if(l==="time"&&typeof e=="number"){var u=Math.floor(e/60/60)%24,c=Math.floor(e/60)%60,f=e%60,d=s.valueFormat;if(d){var p=new Date(e);p.setMilliseconds(0),p.setHours(u),p.setMinutes(c),p.setSeconds(f),e=je(p).format(d)}else e="".concat(u,":").concat(c,":").concat(f)}if(["date","datetime"].includes(l)&&e&&!(e instanceof Date))try{var v=new Date(e);v instanceof Date&&v.toISOString()===e&&(e=v)}catch(_){a.errors.push("Can't convert value ".concat(e," as Date")),e=void 0}if(e instanceof Date&&r){var h=s.valueFormat;h&&(e=je(e).format(h))}var g;if(e&&r!==null&&r!==void 0&&(o=r.fieldSettings)!==null&&o!==void 0&&o.asyncFetch){var y=Array.isArray(e)?e:[e];g=y}if(s!=null&&s.jsonLogicImport)try{e=s.jsonLogicImport.call(i.ctx,e)}catch(_){var m;a.errors.push("Can't import value ".concat(e," using import func of widget ").concat(n,": ").concat((m=_==null?void 0:_.message)!==null&&m!==void 0?m:_)),e=void 0}return{valueSrc:"value",value:e,valueType:s==null?void 0:s.type,asyncListValues:g}}},qI=function(e,r,n,i,a,o){var s=arguments.length>6&&arguments[6]!==void 0?arguments[6]:null;if(n.varKeys.includes(e)&&typeof r[0]=="string"){var l,u=Bd(i,r[0],s),c=Me(i,u);if(!c&&!((l=o.settings)!==null&&l!==void 0&&l.allowUnknownFields)){o.errors.push("No config for field ".concat(u));return}return{valueSrc:"field",value:u,valueType:c==null?void 0:c.type}}},Mre=function(e,r,n,i,a){var o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:null,s=arguments.length>6&&arguments[6]!==void 0?arguments[6]:null,l=arguments.length>7?arguments[7]:void 0,u=arguments.length>8&&arguments[8]!==void 0?arguments[8]:null,c=Object.keys(r)[0],f=Object.values(r)[0],d=function(V,$){return Vre(V,$,i,a,o,l,u)||Bre(V,$,i,a,o,s,l,u)},p=l.errors.length,v,h,g,y,m=d(c,f);if(m&&(v=m.field,h=m.fieldSrc),e&&(y=!0,g=n[0],n=[]),c=="reduce"&&Array.isArray(f)&&f.length==3){var _=f,b=ke(_,3),S=b[0],O=b[1],x=b[2];if(jn(S)&&x==0&&jn(O)&&Array.isArray(O["+"])&&O["+"][0]==1&&jn(O["+"][1])&&O["+"][1].var=="accumulator")if(c=Object.keys(S)[0],f=Object.values(S)[0],c=="filter"){var E=f,A=ke(E,2),C=A[0],k=A[1];if(jn(C)){c=Object.keys(C)[0],f=Object.values(C)[0];var w=d(c,f);w&&(v=w.field,h=w.fieldSrc,g=k,y=!0)}}else{var I=d(c,f);I&&(v=I.field,h=I.fieldSrc,y=!0)}}var L=l.errors.length;if(!v&&L==p&&l.errors.push("Unknown LHS ".concat(JSON.stringify(r))),!!v)return{field:v,fieldSrc:h,having:g,isGroup:y,args:n}},Vre=function(e,r,n,i,a,o){var s=arguments.length>6&&arguments[6]!==void 0?arguments[6]:null;Array.isArray(r)||(r=[r]);var l=qI(e,r,n,i,a,o,s);if(l)return{fieldSrc:"field",field:l.value}},Bre=function(e,r,n,i,a){var o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:null,s=arguments.length>6?arguments[6]:void 0,l=arguments.length>7&&arguments[7]!==void 0?arguments[7]:null,u=HI(e,r,n,i,a,o,s,l);if(u)return{fieldSrc:"func",field:u.value}},HI=function(e,r,n,i,a){var o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:null,s=arguments.length>6?arguments[6]:void 0,l=arguments.length>7&&arguments[7]!==void 0?arguments[7]:null;if(e){var u,c,f,d=e=="method";if(d){var p,v,h=iE(r);p=h[0],u=h[1],v=h.slice(2),c=[p].concat(Ce(v))}else u=e,c=r;var g=(d?"#":"")+u,y=(o==null?void 0:o.type)||(o==null?void 0:o.returnType),m=(n.funcs[g]||[]).filter(function($){return o?Wr(i,$).returnType==y:!0});if(m.length)f=m[0];else{var _=oe({},e,r),b=NI(ou(i)),S;try{for(b.s();!(S=b.n()).done;){var O=ke(S.value,2),x=O[0],E=O[1];if(E.jsonLogicImport&&(!y||E.returnType==y)){var A=void 0;try{A=E.jsonLogicImport(_)}catch($){}A&&(f=x,c=A)}}}catch($){b.e($)}finally{b.f()}}if(f&&f){var C=Wr(i,f),k=Object.keys(C.args||{}),w=c.reduce(function($,U,M){var R=k[M],F=C.args[R],N;return F&&(N=au(U,n,i,["val"],s,!1,F,null,l)),N!==void 0?vo(vo({},$),{},oe({},R,N)):$},{});for(var I in C.args){var L=C.args[I],P=w[I];if(P===void 0){if(P=L==null?void 0:L.defaultValue,P!==void 0){var V;P={value:P,valueSrc:(V=P)!==null&&V!==void 0&&V.func?"func":"value",valueType:L.type}}if(P===void 0){if(!(L!=null&&L.isOptional)){s.errors.push("No value for arg ".concat(I," of func ").concat(f));return}}else w[I]=P}}return{valueSrc:"func",value:{func:f,args:w},valueType:C.returnType}}}},zI=function(e,r,n,i,a,o){var s=arguments.length>6&&arguments[6]!==void 0?arguments[6]:null,l=n.conjunctions[e],u=i.settings.fieldSeparator;if(l){var c="group",f=r.map(function(m){return au(m,n,i,["rule","group"],o,!1,null,null,s)}).filter(function(m){return m!==void 0}).reduce(function(m,_){return vo(vo({},m),{},oe({},_.id,_))},{}),d=Object.values(f).map(function(m){var _,b;return(m==null||(_=m.properties)===null||_===void 0?void 0:_.fieldSrc)=="field"&&(m==null||(b=m.properties)===null||b===void 0?void 0:b.field)}).filter(function(m){var _;return m==null||(_=m.includes)===null||_===void 0?void 0:_.call(m,u)}),p=Object.fromEntries(jre(d).map(function(m){var _=m.split(u),b=Object.fromEntries(_.slice(0,-1).map(function(S,O,x){return[].concat(Ce(x.slice(0,O)),[S])}).map(function(S){return[S.join(u),Me(i,S)]}).filter(function(S){var O=ke(S,2);O[0];var x=O[1];return(x==null?void 0:x.type)=="!group"}));return[m,Object.keys(b)]})),v={conjunction:l,not:a},h=Lt(),g={},y={};return Object.entries(f).map(function(m){var _=ke(m,2),b=_[0],S=_[1];if((S==null?void 0:S.type)=="group"||(S==null?void 0:S.type)=="rule_group")g[b]=S;else{var O,x=S==null||(O=S.properties)===null||O===void 0?void 0:O.field,E=p[x]||[],A=E[E.length-1];if(!A)S&&(g[b]=S);else{var C=g,k=Lr(s,i),w=Lr(A,i),I=Hc(k,w.slice(0,k.length));I||(k=[]);var L=A.split(u).slice(k.length).map(function(P,V,$){return[].concat(Ce(k),Ce($.slice(0,V)),[P]).join(u)}).map(function(P){return{f:P,fc:Me(i,P)||{}}}).filter(function(P){var V=P.fc;return V.type!="!struct"});L.map(function(P,V){var $=P.f,U=P.fc,M=y[$];M||(M=Lt(),y[$]=M,C[M]={type:"rule_group",id:M,children1:{},properties:{conjunction:l,not:!1,field:$,fieldSrc:"field",mode:U.mode}}),C=C[M].children1}),C[b]=S}}}),{type:c,id:h,children1:g,properties:v}}},qre=function(e,r,n,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:void 0,o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!1;if(e)return{type:"rule_group",id:Lt(),children1:oe({},e.id,e),properties:{conjunction:a||vc(i,n),not:o,field:r}}},Uu=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return{type:"group",id:Lt(),children1:oe({},e.id,e),properties:{conjunction:wa(r),not:n}}},Hre=function(e,r,n,i,a,o,s){var l=VI(s),u=zre(e,r,n,i,a,o,l);if(!u){s.errors.push(l.errors.join("; ")||"Unknown op ".concat(e,"/").concat(r));return}return u},zre=function(e,r,n,i,a,o,s){var l,u=Fre.map(function(A){var C;return(C=o.operators[A])===null||C===void 0?void 0:C.jsonLogic2}).includes(e),c=o.settings.groupOperators.includes(e)&&!u,f=c?0:r-1;c?f=0:Pre.includes(e)&&f==1&&n[1]===null&&(r=1,f=0,n=[n[0]]);var d=e+"/"+f,p=a.operators[d];if(p){var v,h=[];if(Lre.includes(e)&&r==3)v=n[1],h=[n[0],n[2]];else{var g=n,y=iE(g);v=y[0],h=y.slice(1)}if(!jn(v)){s.errors.push("Incorrect operands for ".concat(e,": ").concat(JSON.stringify(n)));return}var m=Mre(c,v,h,a,o,null,null,s,i);if(m){var _=m.field,b=m.fieldSrc,S=m.having;m.isGroup;var O=m.args,x=Me(o,_);if(!x&&!((l=s.settings)!==null&&l!==void 0&&l.allowUnknownFields)){s.errors.push("No config for LHS ".concat(_));return}var E=p[0];if(p.length>1&&x&&x.operators){if(p=p.filter(function(A){return x.operators.includes(A)}),p.length==0){s.errors.push("No corresponding ops for LHS ".concat(_));return}E=p[0]}return{field:_,fieldSrc:b,fieldConfig:x,opKey:E,args:O,having:S}}}},Ure=function t(e,r,n,i,a,o){var s,l=arguments.length>6&&arguments[6]!==void 0?arguments[6]:null,u=arguments.length>7&&arguments[7]!==void 0?arguments[7]:!1;if(e){var c=Object.values(i.conjunctions).map(function(W){var D=W.jsonLogicConj;return D}),f=r.length,d=Hre(e,f,r,l,n,i,o);if(d){var p=d.field,v=d.fieldSrc,h=d.fieldConfig,g=d.opKey,y=d.args,m=d.having,_=Me(i,l),b=i.operators[g],S=i.operators[(s=b)===null||s===void 0?void 0:s.reversedOp],O=!1,x=!!S,E=h.type=="!group",A=(_==null?void 0:_.type)=="!group",C=x&&(!!i.settings.reverseOperatorsForNot||O||E&&!m||!E&&A&&!u),k=a&&C||O,w,I,L=!1,P=!!i.settings.reverseOperatorsForNot;if((h==null?void 0:h.type)=="!group"&&m){w=Object.keys(m)[0],I=m[w],Array.isArray(I)||(I=[I]);for(var V=dg(m,n,o);w=="!"&&!V;){var $=w=="!"&&I.length==1&&I[0]&&jn(I[0])&&n.varKeys.includes(Object.keys(I[0])[0]);if($)break;L=!L,m=m["!"],w=Object.keys(m)[0],I=m[w],P&&c.includes(w)&&I.length==1&&(m=m[w][0],w=Object.keys(m)[0],I=m[w]);var U=dg(m,n,o);V=U||V}Array.isArray(I)||(I=[I]),V&&(I=[],I[0]=V.jlField,V.jlArgs.forEach(function(W){return I.push(W)}),w=V.newOp)}k&&(a=!a,g=b.reversedOp,b=i.operators[g]);var M=vr(i,p,g,null),R=y.map(function(W){return au(W,n,i,["val"],o,!1,h,M,l)});if(!R.filter(function(W){return W===void 0}).length){var F;if(h==null||h.type,(h==null?void 0:h.type)=="!group"&&m){if(n.conjunctions[w]!==void 0)F=zI(w,I,n,i,L,o,p,!0);else if(F=t(w,I,n,i,L,o,p,!0),F){var N;F.type==="rule_group"&&((N=F.properties)===null||N===void 0?void 0:N.field)!==p&&(F=qre(F,p,h,i)),Object.assign(F.properties,{conjunction:vc(i,h)})}if(!F)return;F.type="rule_group",Object.assign(F.properties,{field:p,mode:h.mode,operator:g}),h.mode=="array"&&Object.assign(F.properties,{value:R.map(function(W){return W.value}),valueSrc:R.map(function(W){return W.valueSrc}),valueType:R.map(function(W){return W.valueType})}),a&&(F=Uu(F,i,a))}else if((h==null?void 0:h.type)=="!group"&&!m)F={type:"rule_group",id:Lt(),children1:{},properties:{conjunction:vc(i,h),not:!1,mode:h.mode,field:p,operator:g}},h.mode==="array"&&Object.assign(F.properties,{value:R.map(function(W){return W.value}),valueSrc:R.map(function(W){return W.valueSrc}),valueType:R.map(function(W){return W.valueType})}),a&&(F=Uu(F,i,a));else{var B=R.map(function(W){return W.asyncListValues}).filter(function(W){return W!=null}),q=B.length?B[0]:void 0;F={type:"rule",id:Lt(),properties:vo({field:p,fieldSrc:v,operator:g,value:R.map(function(W){return W.value}),valueSrc:R.map(function(W){return W.valueSrc}),valueType:R.map(function(W){return W.valueType})},q?{asyncListValues:q}:{})},(a||u)&&(F=Uu(F,i,a))}return F}}}},Wre=function(e,r,n,i,a,o){var s=arguments.length>6&&arguments[6]!==void 0?arguments[6]:null;if((e==null?void 0:e.toLowerCase())==="if"){var l=Gre(r),u=l.map(function(d){var p=ke(d,2),v=p[0],h=p[1];return[v?au(v,n,i,["rule","group"],o,!1,null,null,s):null,Kre(i,o,n,h)]}),c=u.map(function(d){var p=ke(d,2),v=p[0],h=p[1];return Yre(v,h,i,o)}),f={type:"switch_group",id:Lt(),children1:c,properties:{}};return f}},Gre=function(e){var r=[];function n(i){var a=ke(i,3),o=a[0],s=a[1],l=a[2];r.push([o,s]);var u=jn(l)?Object.keys(l)[0]:null;(u==null?void 0:u.toLowerCase())==="if"?n(l[u]):r.push([void 0,l])}return n(e),r},Yre=function(e,r,n,i){var a;return e?(a=vo({},e),a.type?(a.type!="group"&&(a=Uu(a,n)),a.type="case_group"):(i.errors.push("Unexpected case: ".concat(JSON.stringify(a))),a=void 0)):a={id:Lt(),type:"case_group",properties:{}},a&&(a.properties=vo(vo({},a.properties),r)),a},Kre=function(e,r,n,i){var a=Me(e,"!case_value");if(!a){r.errors.push("Missing caseValueField in settings");return}var o=a.mainWidget,s=e.widgets[o];if(!s){r.errors.push("No widget ".concat(o," for case value"));return}var l=au(i,n,e,["val","case_val"],r,!1,a,o);if(l!=null){var u=l.value,c=l.valueSrc,f=l.valueType,d={value:[u],valueSrc:[c!=null?c:"value"],valueType:[f!=null?f:s==null?void 0:s.type],field:"!case_value"};return d}},UI={exports:{}};(function(t,e){(function(n,i){t.exports=i()})(kn,function(){return function(r){var n={};function i(a){if(n[a])return n[a].exports;var o=n[a]={i:a,l:!1,exports:{}};return r[a].call(o.exports,o,o.exports,i),o.l=!0,o.exports}return i.m=r,i.c=n,i.d=function(a,o,s){i.o(a,o)||Object.defineProperty(a,o,{configurable:!1,enumerable:!0,get:s})},i.n=function(a){var o=a&&a.__esModule?function(){return a.default}:function(){return a};return i.d(o,"a",o),o},i.o=function(a,o){return Object.prototype.hasOwnProperty.call(a,o)},i.p="",i(i.s=3)}([function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});function a(o,s){var l={},u=o||"Abstract",c=[],f=null,d;if(l._type=u,l.getType=function(){return u},l.setType=function(g){u=g},l.getChildren=function(){return c},l.addChild=function(g){if(g){if(!g.setParent)throw{name:"Error",message:"Trying to add a child which is not a node: "+JSON.stringify(g)};g.setParent(l),c.push(g)}},l.getParent=function(){return f},l.setParent=function(g){f=g},l.getContext=function(g){return d||g.activeContext.peek()},l.setContext=function(g){d=g},l.getStartPosition=function(){return s>>16},l.getEndPosition=function(){return s&65535},l.getValue=function(){throw{name:"MethodNotImplementedException",message:"SpelNode#getValue() must be overridden."}},l.toString=function(){var g="Kind: "+l.getType();g+=", Children: [";for(var y=0,m=l.getChildren().length;y<m;y+=1)g+="{"+l.getChildren()[y]+"}, ";return g+="]",g},s===0)throw{name:"Error",message:"Position cannot be 0"};for(var p=arguments.length,v=Array(p>2?p-2:0),h=2;h<p;h++)v[h-2]=arguments[h];return v&&v.forEach(function(g){l.addChild(g)}),l}n.SpelNode={create:a}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.Stack=a;function a(o){this.elements=o||[]}a.prototype.push=function(o){return this.elements.push(o),o},a.prototype.pop=function(){return this.elements.pop()},a.prototype.peek=function(){return this.elements[this.elements.length-1]},a.prototype.empty=function(){return this.elements.length>0},a.prototype.search=function(o){return this.elements.length-this.elements.indexOf(o)}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});var a={LITERAL_INT:1,LITERAL_LONG:2,LITERAL_HEXINT:3,LITERAL_HEXLONG:4,LITERAL_STRING:5,LITERAL_REAL:6,LITERAL_REAL_FLOAT:7,LPAREN:"(",RPAREN:")",COMMA:",",IDENTIFIER:0,COLON:":",HASH:"#",RSQUARE:"]",LSQUARE:"[",LCURLY:"{",RCURLY:"}",DOT:".",PLUS:"+",STAR:"*",MINUS:"-",SELECT_FIRST:"^[",SELECT_LAST:"$[",QMARK:"?",PROJECT:"![",DIV:"/",GE:">=",GT:">",LE:"<=",LT:"<",EQ:"==",NE:"!=",MOD:"%",NOT:"!",ASSIGN:"=",INSTANCEOF:"instanceof",MATCHES:"matches",BETWEEN:"between",SELECT:"?[",POWER:"^",ELVIS:"?:",SAFE_NAVI:"?.",BEAN_REF:"@",SYMBOLIC_OR:"||",SYMBOLIC_AND:"&&",INC:"++",DEC:"--"};function o(l){this.type=l,this.tokenChars=a[l],this._hasPayload=typeof a[l]!="string",typeof a[l]=="number"&&(this._ordinal=a[l])}for(var s in a)a.hasOwnProperty(s)&&(o[s]=new o(s));o.prototype.toString=function(){return this.type+(this.tokenChars.length!==0?"("+this.tokenChars+")":"")},o.prototype.getLength=function(){return this.tokenChars.length},o.prototype.hasPayload=function(){return this._hasPayload},o.prototype.valueOf=function(l){for(var u in a)if(a.hasOwnProperty(u)&&a[u]===l)return o[u]},o.prototype.ordinal=function(){return this._ordinal},n.TokenKind=o},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.StandardContext=n.SpelExpressionEvaluator=void 0;var a=i(4),o=i(50);n.SpelExpressionEvaluator=a.SpelExpressionEvaluator,n.StandardContext=o.StandardContext},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.SpelExpressionEvaluator=void 0;var a=i(5),o=i(1),s={};function l(u,c,f){var d=new o.Stack,p;return c||(c={}),d.push(c),p={rootContext:c,activeContext:d,locals:f},u.getValue(p)}s.compile=function(u){var c=(0,a.SpelExpressionParser)().parse(u);return{eval:function(d,p){return l(c,d,p)},_compiledExpression:c}},s.eval=function(u,c,f){return s.compile(u).eval(c,f)},n.SpelExpressionEvaluator=s},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.SpelExpressionParser=void 0;var a=i(2),o=i(6),s=i(8),l=i(9),u=i(10),c=i(11),f=i(12),d=i(13),p=i(14),v=i(15),h=i(16),g=i(17),y=i(18),m=i(19),_=i(20),b=i(21),S=i(22),O=i(23),x=i(24),E=i(25),A=i(26),C=i(27),k=i(28),w=i(29),I=i(30),L=i(31),P=i(32),V=i(33),$=i(34),U=i(35),M=i(36),R=i(37),F=i(38),N=i(39),B=i(40),q=i(41),W=i(42),D=i(43),G=i(44),H=i(45),Y=i(46),K=i(47),ie=i(48),te=i(49);n.SpelExpressionParser=function(){var ue=new RegExp("[\\p{L}\\p{N}_$]+"),fe=[],de,Se,J,re;function ce(Q){}function ve(Q,ae){try{de=Q,Se=o.Tokenizer.tokenize(Q),J=Se.length,re=0,fe=[];var Te=ee();return ne()&&_e(be().startPos,"MORE_INPUT",Z().toString()),Te}catch(Ze){throw Ze.message}}function ee(){var Q=me();if(ne()){var ae=be();if(ae.getKind()===a.TokenKind.ASSIGN){Q===null&&(Q=c.NullLiteral.create(rn(ae.startPos-1,ae.endPos-1))),Z();var Te=me();return y.Assign.create(Re(ae),Q,Te)}if(ae.getKind()===a.TokenKind.ELVIS){Q===null&&(Q=c.NullLiteral.create(rn(ae.startPos-1,ae.endPos-2))),Z();var Ze=ee();return Ze===null&&(Ze=c.NullLiteral.create(rn(ae.startPos+1,ae.endPos+1))),F.Elvis.create(Re(ae),Q,Ze)}if(ae.getKind()===a.TokenKind.QMARK){Q===null&&(Q=c.NullLiteral.create(rn(ae.startPos-1,ae.endPos-1))),Z();var On=ee();mt(a.TokenKind.COLON);var sn=ee();return R.Ternary.create(Re(ae),Q,On,sn)}}return Q}function me(){for(var Q=Oe();jr("or")||dt(a.TokenKind.SYMBOLIC_OR);){var ae=Z(),Te=Oe();St(ae,Q,Te),Q=U.OpOr.create(Re(ae),Q,Te)}return Q}function Oe(){for(var Q=we();jr("and")||dt(a.TokenKind.SYMBOLIC_AND);){var ae=Z(),Te=we();St(ae,Q,Te),Q=$.OpAnd.create(Re(ae),Q,Te)}return Q}function we(){var Q=Je(),ae=Yr();if(ae!==null){var Te=Z(),Ze=Je();St(Te,Q,Ze);var On=ae.kind;if(ae.isNumericRelationalOperator()){var sn=Re(Te);return On===a.TokenKind.GT?S.OpGT.create(sn,Q,Ze):On===a.TokenKind.LT?x.OpLT.create(sn,Q,Ze):On===a.TokenKind.LE?O.OpLE.create(sn,Q,Ze):On===a.TokenKind.GE?b.OpGE.create(sn,Q,Ze):On===a.TokenKind.EQ?m.OpEQ.create(sn,Q,Ze):_.OpNE.create(sn,Q,Ze)}return On===a.TokenKind.INSTANCEOF?D.OpInstanceof.create(Re(Te),Q,Ze):On===a.TokenKind.MATCHES?M.OpMatches.create(Re(Te),Q,Ze):G.OpBetween.create(Re(Te),Q,Ze)}return Q}function Je(){for(var Q=at();Rt(a.TokenKind.PLUS,a.TokenKind.MINUS,a.TokenKind.INC);){var ae=Z(),Te=at();Kr(ae,Te),ae.getKind()===a.TokenKind.PLUS?Q=E.OpPlus.create(Re(ae),Q,Te):ae.getKind()===a.TokenKind.MINUS&&(Q=A.OpMinus.create(Re(ae),Q,Te))}return Q}function at(){for(var Q=le();Rt(a.TokenKind.STAR,a.TokenKind.DIV,a.TokenKind.MOD);){var ae=Z(),Te=le();St(ae,Q,Te),ae.getKind()===a.TokenKind.STAR?Q=C.OpMultiply.create(Re(ae),Q,Te):ae.getKind()===a.TokenKind.DIV?Q=k.OpDivide.create(Re(ae),Q,Te):Q=w.OpModulus.create(Re(ae),Q,Te)}return Q}function le(){var Q=ge(),ae;if(dt(a.TokenKind.POWER)){ae=Z();var Te=ge();return Kr(ae,Te),I.OpPower.create(Re(ae),Q,Te)}return Q!==null&&Rt(a.TokenKind.INC,a.TokenKind.DEC)?(ae=Z(),ae.getKind()===a.TokenKind.INC?L.OpInc.create(Re(ae),!0,Q):P.OpDec.create(Re(ae),!0,Q)):Q}function ge(){var Q,ae;return Rt(a.TokenKind.PLUS,a.TokenKind.MINUS,a.TokenKind.NOT)?(Q=Z(),ae=ge(),Q.getKind()===a.TokenKind.NOT?V.OpNot.create(Re(Q),ae):Q.getKind()===a.TokenKind.PLUS?E.OpPlus.create(Re(Q),ae):A.OpMinus.create(Re(Q),ae)):Rt(a.TokenKind.INC,a.TokenKind.DEC)?(Q=Z(),ae=ge(),Q.getKind()===a.TokenKind.INC?L.OpInc.create(Re(Q),!1,ae):P.OpDec.create(Re(Q),!1,ae)):pe()}function pe(){var Q=[],ae=Ar();for(Q.push(ae);Pe();)Q.push(lt());return Q.length===1?Q[0]:h.CompoundExpression.create(rn(ae.getStartPosition(),Q[Q.length-1].getEndPosition()),Q)}function Pe(){var Q=null;return Rt(a.TokenKind.DOT,a.TokenKind.SAFE_NAVI)?Q=Ne():Q=Be(),Q===null?!1:(qe(Q),!0)}function Be(){return dt(a.TokenKind.LSQUARE)&&ft()?lt():null}function Ne(){var Q=Z(),ae=Q.getKind()===a.TokenKind.SAFE_NAVI;return Ft(ae)||ot()||Ge(ae)||Et(ae)?lt():(be()===null?_e(Q.startPos,"OOD"):_e(Q.startPos,"UNEXPECTED_DATA_AFTER_DOT",ze(be())),null)}function ot(){if(!dt(a.TokenKind.HASH))return!1;var Q=Z(),ae=mt(a.TokenKind.IDENTIFIER),Te=st();return Te===null?(qe(v.VariableReference.create(ae.data,rn(Q.startPos,ae.endPos))),!0):(qe(f.FunctionReference.create(ae.data,rn(Q.startPos,ae.endPos),Te)),!0)}function st(){if(!dt(a.TokenKind.LPAREN))return null;var Q=[];return Vt(Q),mt(a.TokenKind.RPAREN),Q}function Ke(Q){dt(a.TokenKind.LPAREN)||_e(Re(be()),"MISSING_CONSTRUCTOR_ARGS"),Vt(Q),mt(a.TokenKind.RPAREN)}function Vt(Q){var ae=be().startPos,Te;do{Z();var Ze=be();Ze===null&&_e(ae,"RUN_OUT_OF_ARGUMENTS"),Ze.getKind()!==a.TokenKind.RPAREN&&Q.push(ee()),Te=be()}while(Te!==null&&Te.kind===a.TokenKind.COMMA);Te===null&&_e(ae,"RUN_OUT_OF_ARGUMENTS")}function Ar(){return ur()||Gr()||Fe()||De()||Rr()||Ft(!1)||ot()||vt()||Ge(!1)||Et(!1)||ft()||Qe()?lt():null}function vt(){if(dt(a.TokenKind.BEAN_REF)){var Q=Z(),ae=null,Te=null;dt(a.TokenKind.IDENTIFIER)?(ae=mt(a.TokenKind.IDENTIFIER),Te=ae.data):dt(a.TokenKind.LITERAL_STRING)?(ae=mt(a.TokenKind.LITERAL_STRING),Te=ae.stringValue(),Te=Te.substring(1,Te.length()-1)):_e(Q.startPos,"INVALID_BEAN_REFERENCE");var Ze=Y.BeanReference.create(Re(ae),Te);return qe(Ze),!0}return!1}function Fe(){if(dt(a.TokenKind.IDENTIFIER)){var Q=be();if(Q.stringValue()!=="T")return!1;var ae=Z();if(dt(a.TokenKind.RSQUARE))return qe(p.PropertyReference.create(ae.stringValue(),Re(ae))),!0;mt(a.TokenKind.LPAREN);for(var Te=It(),Ze=0;cr(a.TokenKind.LSQUARE,!0);)mt(a.TokenKind.RSQUARE),Ze++;return mt(a.TokenKind.RPAREN),qe(H.TypeReference.create(Re(Q),Te,Ze)),!0}return!1}function De(){if(dt(a.TokenKind.IDENTIFIER)){var Q=be();return Q.stringValue().toLowerCase()!=="null"?!1:(Z(),qe(c.NullLiteral.create(Re(Q))),!0)}return!1}function Ge(Q){var ae=be();if(!cr(a.TokenKind.PROJECT,!0))return!1;var Te=ee();return mt(a.TokenKind.RSQUARE),qe(W.Projection.create(Q,Re(ae),Te)),!0}function Qe(){var Q=be(),ae=[];if(!cr(a.TokenKind.LCURLY,!0))return!1;var Te=null,Ze=be();if(cr(a.TokenKind.RCURLY,!0))Te=N.InlineList.create(rn(Q.startPos,Ze.endPos));else if(cr(a.TokenKind.COLON,!0))Ze=mt(a.TokenKind.RCURLY),Te=B.InlineMap.create(rn(Q.startPos,Ze.endPos));else{var On=ee();if(dt(a.TokenKind.RCURLY))ae.push(On),Ze=mt(a.TokenKind.RCURLY),Te=N.InlineList.create(rn(Q.startPos,Ze.endPos),ae);else if(cr(a.TokenKind.COMMA,!0)){ae.push(On);do ae.push(ee());while(cr(a.TokenKind.COMMA,!0));Ze=mt(a.TokenKind.RCURLY),Te=N.InlineList.create(Re(Q.startPos,Ze.endPos),ae)}else if(cr(a.TokenKind.COLON,!0)){var sn=[];for(sn.push(On),sn.push(ee());cr(a.TokenKind.COMMA,!0);)sn.push(ee()),mt(a.TokenKind.COLON),sn.push(ee());Ze=mt(a.TokenKind.RCURLY),Te=B.InlineMap.create(rn(Q.startPos,Ze.endPos),sn)}else _e(Q.startPos,"OOD")}return qe(Te),!0}function ft(){var Q=be();if(!cr(a.TokenKind.LSQUARE,!0))return!1;var ae=ee();return mt(a.TokenKind.RSQUARE),qe(g.Indexer.create(Re(Q),ae)),!0}function Et(Q){var ae=be();if(!tr())return!1;Z();var Te=ee();return Te===null&&_e(Re(ae),"MISSING_SELECTION_EXPRESSION"),mt(a.TokenKind.RSQUARE),ae.getKind()===a.TokenKind.SELECT_FIRST?qe(q.Selection.create(Q,q.Selection.FIRST,Re(ae),Te)):ae.getKind()===a.TokenKind.SELECT_LAST?qe(q.Selection.create(Q,q.Selection.LAST,Re(ae),Te)):qe(q.Selection.create(Q,q.Selection.ALL,Re(ae),Te)),!0}function It(){for(var Q=[],ae=be();_r(ae);)Z(),ae.kind!==a.TokenKind.DOT&&Q.push(K.Identifier.create(ae.stringValue(),Re(ae))),ae=be();Q.length||(ae===null&&_e(de.length(),"OOD"),_e(ae.startPos,"NOT_EXPECTED_TOKEN","qualified ID",ae.getKind().toString().toLowerCase()));var Te=rn(Q[0].getStartPosition(),Q[Q.length-1].getEndPosition());return ie.QualifiedIdentifier.create(Te,Q)}function _r(Q){if(Q===null||Q.kind===a.TokenKind.LITERAL_STRING)return!1;if(Q.kind===a.TokenKind.DOT||Q.kind===a.TokenKind.IDENTIFIER)return!0;var ae=Q.stringValue();return ae&&ae.length&&ue.test(ae)}function Ft(Q){if(dt(a.TokenKind.IDENTIFIER)){var ae=Z(),Te=st();return Te===null?(qe(p.PropertyReference.create(Q,ae.stringValue(),Re(ae))),!0):(qe(d.MethodReference.create(Q,ae.stringValue(),Re(ae),Te)),!0)}return!1}function Rr(){if(jr("new")){var Q=Z();if(dt(a.TokenKind.RSQUARE))return qe(p.PropertyReference.create(Q.stringValue(),Re(Q))),!0;var ae=It(),Te=[];if(Te.push(ae),dt(a.TokenKind.LSQUARE)){for(var Ze=[];cr(a.TokenKind.LSQUARE,!0);)dt(a.TokenKind.RSQUARE)?Ze.push(null):Ze.push(ee()),mt(a.TokenKind.RSQUARE);Qe()&&Te.push(lt()),qe(te.ConstructorReference.create(Re(Q),Ze,Te))}else Ke(Te),qe(te.ConstructorReference.create(Re(Q),Te));return!0}return!1}function qe(Q){fe.push(Q)}function lt(){return fe.pop()}function ur(){var Q=be();if(Q===null)return!1;if(Q.getKind()===a.TokenKind.LITERAL_INT||Q.getKind()===a.TokenKind.LITERAL_LONG)qe(l.NumberLiteral.create(parseInt(Q.stringValue(),10),Re(Q)));else if(Q.getKind()===a.TokenKind.LITERAL_REAL||Q.getKind()===a.TokenKind.LITERAL_REAL_FLOAT)qe(l.NumberLiteral.create(parseFloat(Q.stringValue()),Re(Q)));else if(Q.getKind()===a.TokenKind.LITERAL_HEXINT||Q.getKind()===a.TokenKind.LITERAL_HEXLONG)qe(l.NumberLiteral.create(parseInt(Q.stringValue(),16),Re(Q)));else if(jr("true"))qe(s.BooleanLiteral.create(!0,Re(Q)));else if(jr("false"))qe(s.BooleanLiteral.create(!1,Re(Q)));else if(Q.getKind()===a.TokenKind.LITERAL_STRING)qe(u.StringLiteral.create(Q.stringValue(),Re(Q)));else return!1;return Z(),!0}function Gr(){if(dt(a.TokenKind.LPAREN)){Z();var Q=ee();return mt(a.TokenKind.RPAREN),qe(Q),!0}else return!1}function Yr(){var Q=be();if(Q===null)return null;if(Q.isNumericRelationalOperator())return Q;if(Q.isIdentifier()){var ae=Q.stringValue();if(ae.toLowerCase()==="instanceof")return Q.asInstanceOfToken();if(ae.toLowerCase()==="matches")return Q.asMatchesToken();if(ae.toLowerCase()==="between")return Q.asBetweenToken()}return null}function mt(Q){var ae=Z();return ae===null&&_e(de.length,"OOD"),ae.getKind()!==Q&&_e(ae.startPos,"NOT_EXPECTED_TOKEN",Q.toString().toLowerCase(),ae.getKind().toString().toLowerCase()),ae}function dt(Q){return cr(Q,!1)}function cr(Q,ae){if(!ne())return!1;var Te=be();return Te.getKind()===Q?(ae&&re++,!0):Q===a.TokenKind.IDENTIFIER&&Te.getKind().ordinal()>=a.TokenKind.DIV.ordinal()&&Te.getKind().ordinal()<=a.TokenKind.NOT.ordinal()&&Te.data!==null}function Rt(){if(!ne())return!1;for(var Q=be(),ae=Array.prototype.slice.call(arguments),Te=0,Ze=ae.length;Te<Ze;Te+=1)if(Q.getKind()===ae[Te])return!0;return!1}function jr(Q){if(!ne())return!1;var ae=be();return ae.getKind()===a.TokenKind.IDENTIFIER&&ae.stringValue().toLowerCase()===Q.toLowerCase()}function tr(){if(!ne())return!1;var Q=be();return Q.getKind()===a.TokenKind.SELECT||Q.getKind()===a.TokenKind.SELECT_FIRST||Q.getKind()===a.TokenKind.SELECT_LAST}function ne(){return re<Se.length}function Z(){return re>=J?null:Se[re++]}function be(){return re>=J?null:Se[re]}function _e(Q,ae,Te,Ze){throw Te&&(ae+="\nExpected: "+Te),Ze&&(ae+="\nActual: "+Ze),{name:"InternalParseException",message:"Error occurred while attempting to parse expression '"+de+"' at position "+Q+". Message: "+ae}}function ze(Q){return Q.getKind().hasPayload()?Q.stringValue():Q.getKind().toString().toLowerCase()}function St(Q,ae,Te){Bt(Q,ae),Kr(Q,Te)}function Bt(Q,ae){ae===null&&_e(Q.startPos,"LEFT_OPERAND_PROBLEM")}function Kr(Q,ae){ae===null&&_e(Q.startPos,"RIGHT_OPERAND_PROBLEM")}function Re(Q){return(Q.startPos<<16)+Q.endPos}function rn(Q,ae){return(Q<<16)+ae}return{setConfiguration:ce,parse:ve}}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.Tokenizer=void 0;var a=i(7),o=i(2),s=["DIV","EQ","GE","GT","LE","LT","MOD","NE","NOT"],l=[],u=1,c=2,f=4;function d(){var v;for(v=48;v<=57;v+=1)l[v]|=u|c;for(v=65;v<=70;v+=1)l[v]|=c;for(v=97;v<=102;v+=1)l[v]|=c;for(v=65;v<=90;v+=1)l[v]|=f;for(v=97;v<=122;v+=1)l[v]|=f}d();function p(v){var h=v,g=v+"\0",y=g.length,m=0,_=[];function b(){for(var D;m<y;)if(D=g[m],q(D))E();else switch(D){case"+":I(o.TokenKind.INC)?P(o.TokenKind.INC):L(o.TokenKind.PLUS);break;case"_":E();break;case"-":I(o.TokenKind.DEC)?P(o.TokenKind.DEC):L(o.TokenKind.MINUS);break;case":":L(o.TokenKind.COLON);break;case".":L(o.TokenKind.DOT);break;case",":L(o.TokenKind.COMMA);break;case"*":L(o.TokenKind.STAR);break;case"/":L(o.TokenKind.DIV);break;case"%":L(o.TokenKind.MOD);break;case"(":L(o.TokenKind.LPAREN);break;case")":L(o.TokenKind.RPAREN);break;case"[":L(o.TokenKind.LSQUARE);break;case"#":L(o.TokenKind.HASH);break;case"]":L(o.TokenKind.RSQUARE);break;case"{":L(o.TokenKind.LCURLY);break;case"}":L(o.TokenKind.RCURLY);break;case"@":L(o.TokenKind.BEAN_REF);break;case"^":I(o.TokenKind.SELECT_FIRST)?P(o.TokenKind.SELECT_FIRST):L(o.TokenKind.POWER);break;case"!":I(o.TokenKind.NE)?P(o.TokenKind.NE):I(o.TokenKind.PROJECT)?P(o.TokenKind.PROJECT):L(o.TokenKind.NOT);break;case"=":I(o.TokenKind.EQ)?P(o.TokenKind.EQ):L(o.TokenKind.ASSIGN);break;case"&":if(!I(o.TokenKind.SYMBOLIC_AND))throw{name:"SpelParseException",message:"Missing character '&' in expression ("+h+") at position "+m};P(o.TokenKind.SYMBOLIC_AND);break;case"|":if(!I(o.TokenKind.SYMBOLIC_OR))throw{name:"SpelParseException",message:"Missing character '|' in expression ("+h+") at position "+m};P(o.TokenKind.SYMBOLIC_OR);break;case"?":I(o.TokenKind.SELECT)?P(o.TokenKind.SELECT):I(o.TokenKind.ELVIS)?P(o.TokenKind.ELVIS):I(o.TokenKind.SAFE_NAVI)?P(o.TokenKind.SAFE_NAVI):L(o.TokenKind.QMARK);break;case"$":I(o.TokenKind.SELECT_LAST)?P(o.TokenKind.SELECT_LAST):E();break;case">":I(o.TokenKind.GE)?P(o.TokenKind.GE):L(o.TokenKind.GT);break;case"<":I(o.TokenKind.LE)?P(o.TokenKind.LE):L(o.TokenKind.LT);break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":x(D==="0");break;case" ":case"	":case"\r":case"\n":m+=1;break;case"'":S();break;case'"':O();break;case"\0":m+=1;break;case"\\":throw{name:"SpelParseException",message:"Unexpected escape character in expression ("+h+") at position "+m};default:throw{name:"SpelParseException",message:"Cannot handle character '"+D+"' in expression ("+h+") at position "+m}}}function S(){for(var D=m,G=!1,H;!G;)if(m+=1,H=g[m],H==="'"&&(g[m+1]==="'"?m+=1:G=!0),H.charCodeAt(0)===0)throw{name:"SpelParseException",message:"Non-terminating quoted string in expression ("+h+") at position "+m};m+=1,_.push(new a.Token(o.TokenKind.LITERAL_STRING,w(D,m),D,m))}function O(){for(var D=m,G=!1,H;!G;)if(m+=1,H=g[m],H==='"'&&(g[m+1]==='"'?m+=1:G=!0),H.charCodeAt(0)===0)throw{name:"SpelParseException",message:"Non-terminating double-quoted string in expression ("+h+") at position "+m};m+=1,_.push(new a.Token(o.TokenKind.LITERAL_STRING,w(D,m),D,m))}function x(D){var G=!1,H=m,Y=g[m+1],K=Y==="x"||Y==="X",ie,te,se,ue;if(D&&K){m=m+1;do m+=1;while(W(g[m]));U("L","l")?(C(w(H+2,m),!0,H,m),m+=1):C(w(H+2,m),!1,H,m);return}do m+=1;while(B(g[m]));if(Y=g[m],Y==="."){G=!0,ie=m;do m+=1;while(B(g[m]));if(m===ie+1){m=ie,A(w(H,m),!1,H,m);return}}if(te=m,U("L","l")){if(G)throw{name:"SpelParseException",message:"Real cannot be long in expression ("+h+") at position "+m};A(w(H,te),!0,H,te),m+=1}else if(M(g[m])){G=!0,m+=1,se=g[m],N(se)&&(m+=1);do m+=1;while(B(g[m]));ue=!1,R(g[m])?(ue=!0,m+=1,te=m):F(g[m])&&(m+=1,te=m),k(w(H,m),ue,H,m)}else Y=g[m],ue=!1,R(Y)?(G=!0,ue=!0,m+=1,te=m):F(Y)&&(G=!0,m+=1,te=m),G?k(w(H,te),ue,H,te):A(w(H,te),!1,H,te)}function E(){var D=m,G,H,Y;do m+=1;while($(g[m]));if(G=w(D,m),(m-D===2||m-D===3)&&(H=G.toUpperCase(),Y=s.indexOf(H),Y>=0)){V(o.TokenKind.valueOf(H),D,G);return}_.push(new a.Token(o.TokenKind.IDENTIFIER,G.replace("\0",""),D,m))}function A(D,G,H,Y){G?_.push(new a.Token(o.TokenKind.LITERAL_LONG,D,H,Y)):_.push(new a.Token(o.TokenKind.LITERAL_INT,D,H,Y))}function C(D,G,H,Y){if(D.length===0)throw G?{name:"SpelParseException",message:"Not a long in expression ("+h+") at position "+m}:{name:"SpelParseException",message:"Not an int in expression ("+h+") at position "+m};G?_.push(new a.Token(o.TokenKind.LITERAL_HEXLONG,D,H,Y)):_.push(new a.Token(o.TokenKind.LITERAL_HEXINT,D,H,Y))}function k(D,G,H,Y){G?_.push(new a.Token(o.TokenKind.LITERAL_REAL_FLOAT,D,H,Y)):_.push(new a.Token(o.TokenKind.LITERAL_REAL,D,H,Y))}function w(D,G){return g.substring(D,G)}function I(D){return D.tokenChars.length===2&&g[m]===D.tokenChars[0]?g[m+1]===D.tokenChars[1]:!1}function L(D){_.push(new a.Token(D,null,m,m+1)),m+=1}function P(D){_.push(new a.Token(D,null,m,m+2)),m+=2}function V(D,G,H){_.push(new a.Token(D,H,G,G+D.getLength()))}function $(D){return q(D)||B(D)||D==="_"||D==="$"}function U(D,G){var H=g[m];return H===D||H===G}function M(D){return D==="e"||D==="E"}function R(D){return D==="f"||D==="F"}function F(D){return D==="d"||D==="D"}function N(D){return D==="+"||D==="-"}function B(D){return D.charCodeAt(0)>255?!1:(l[D.charCodeAt(0)]&u)!==0}function q(D){return D.charCodeAt(0)>255?!1:(l[D.charCodeAt(0)]&f)!==0}function W(D){return D.charCodeAt(0)>255?!1:(l[D.charCodeAt(0)]&c)!==0}return b(),_}n.Tokenizer={tokenize:p}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.Token=void 0;var a=i(2);function o(s,l,u,c){this.kind=s,this.startPos=u,this.endPos=c,l&&(this.data=l)}o.prototype.getKind=function(){return this.kind},o.prototype.toString=function(){var s="[";return s+=this.kind.toString(),this.kind.hasPayload()&&(s+=":"+this.data),s+="]",s+="("+this.startPos+","+this.endPos+")",s},o.prototype.isIdentifier=function(){return this.kind===a.TokenKind.IDENTIFIER},o.prototype.isNumericRelationalOperator=function(){return this.kind===a.TokenKind.GT||this.kind===a.TokenKind.GE||this.kind===a.TokenKind.LT||this.kind===a.TokenKind.LE||this.kind===a.TokenKind.EQ||this.kind===a.TokenKind.NE},o.prototype.stringValue=function(){return this.data},o.prototype.asInstanceOfToken=function(){return new o(a.TokenKind.INSTANCEOF,this.startPos,this.endPos)},o.prototype.asMatchesToken=function(){return new o(a.TokenKind.MATCHES,this.startPos,this.endPos)},o.prototype.asBetweenToken=function(){return new o(a.TokenKind.BETWEEN,this.startPos,this.endPos)},o.prototype.getStartPosition=function(){return this.startPos},o.prototype.getEndPosition=function(){return this.endPos},n.Token=o},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.BooleanLiteral=void 0;var a=i(0);function o(s,l){var u=a.SpelNode.create("boolean",l);return u.getValue=function(){return s},u.setValue=function(c){return s=c},u}n.BooleanLiteral={create:o}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.NumberLiteral=void 0;var a=i(0);function o(s,l){var u=a.SpelNode.create("number",l);return u.getValue=function(){return s},u.setValue=function(c){return s=c},u}n.NumberLiteral={create:o}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.StringLiteral=void 0;var a=i(0);function o(s,l){var u=a.SpelNode.create("string",l);function c(f){return(f[0]==="'"&&f[f.length-1]==="'"||f[0]==='"'&&f[f.length-1]==='"')&&(f=f.substring(1,f.length-1)),f.replace(/''/g,"'").replace(/""/g,'"')}return s=c(s),u.getValue=function(){return s},u.setValue=function(f){return s=f},u}n.StringLiteral={create:o}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.NullLiteral=void 0;var a=i(0);function o(s,l){var u=a.SpelNode.create("null",l);return u.getValue=function(){return null},u}n.NullLiteral={create:o}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.FunctionReference=void 0;var a=i(0),o=i(1);function s(l,u,c){var f=a.SpelNode.create("function",u);return f.getRaw=function(){return{functionName:l,args:c}},f.getValue=function(d){var p=d.locals||{},v=d.rootContext,h=[];if(c.forEach(function(g){var y=d.activeContext;d.activeContext=new o.Stack,d.activeContext.push(d.rootContext),h.push(g.getValue(d)),d.activeContext=y}),p[l])return p[l].apply(v,h);throw{name:"FunctionDoesNotExistException",message:"Function '"+l+"' does not exist."}},f}n.FunctionReference={create:s}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.MethodReference=void 0;var a=i(0),o=i(1);function s(l,u,c,f){var d=a.SpelNode.create("method",c);return d.getRaw=function(){return{methodName:u,args:f}},d.getValue=function(p){var v=p.activeContext.peek(),h=[],g;if(!v)throw{name:"ContextDoesNotExistException",message:"Attempting to look up property '"+u+"' for an undefined context."};function y(m){if(m==null){if(l)return null;throw{name:"NullPointerException",message:"Method "+u+" does not exist."}}return m}if(f.forEach(function(m){var _=p.activeContext;p.activeContext=new o.Stack,p.activeContext.push(p.rootContext),h.push(m.getValue(p)),p.activeContext=_}),u.substr(0,3)==="get"&&!v[u])return y(v[u.charAt(3).toLowerCase()+u.substring(4)]);if(u.substr(0,3)==="set"&&!v[u])return v[u.charAt(3).toLowerCase()+u.substring(4)]=h[0];if(Array.isArray(v)){if(u==="size")return v.length;if(u==="contains")return v.includes(h[0])}return g=y(v[u]),g?g.apply(v,h):null},d}n.MethodReference={create:s}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.PropertyReference=void 0;var a=i(0);function o(s,l,u){var c=a.SpelNode.create("property",u);return c.getRaw=function(){return l},c.getValue=function(f){var d=f.activeContext.peek();if(!d){if(s)return null;throw{name:"ContextDoesNotExistException",message:"Attempting to look up property '"+l+"' for an undefined context."}}if(d[l]===void 0||d[l]===null){if(s)return null;if(l==="size"&&Array.isArray(d))return d.length;throw{name:"NullPointerException",message:"Property '"+l+"' does not exist."}}return d[l]},c.setValue=function(f,d){var p=d.activeContext.peek();if(!p)throw{name:"ContextDoesNotExistException",message:"Attempting to assign property '"+l+"' for an undefined context."};return p[l]=f},c.getName=function(){return l},c}n.PropertyReference={create:o}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.VariableReference=void 0;var a=i(0);function o(s,l){var u=a.SpelNode.create("variable",l);return u.getRaw=function(){return s},u.getValue=function(c){var f=c.activeContext.peek(),d=c.locals;if(!f)throw{name:"ContextDoesNotExistException",message:"Attempting to look up variable '"+s+"' for an undefined context."};return s==="this"?f:s==="root"?c.rootContext:d[s]},u.setValue=function(c,f){var d=f.locals;return d[s]=c},u}n.VariableReference={create:o}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.CompoundExpression=void 0;var a=i(0);function o(s,l){var u=a.SpelNode.create.apply(null,["compound",s].concat(l));function c(f){var d=u.getChildren().length,p;for(p=0;p<d;p+=1)u.getChildren()[p].getType()==="indexer"?f.activeContext.push(f.activeContext.peek()[u.getChildren()[p].getValue(f)]):f.activeContext.push(u.getChildren()[p].getValue(f));return function(){for(p=0;p<d;p+=1)f.activeContext.pop()}}return u.getValue=function(f){var d=f.activeContext.peek(),p;if(!d)throw{name:"ContextDoesNotExistException",message:"Attempting to evaluate compound expression with an undefined context."};var v=c(f);return p=f.activeContext.peek(),v(),p},u.setValue=function(f,d){var p=c(d),v=u.getChildren().length;return d.activeContext.pop(),f=u.getChildren()[v-1].setValue(f,d),d.activeContext.push(null),p(),f},u}n.CompoundExpression={create:o}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.Indexer=void 0;var a=i(0),o=i(1);function s(l,u){var c=a.SpelNode.create.apply(null,["indexer",l].concat(u));return c.getValue=function(f){var d=f.activeContext,p,v=c.getChildren().length,h,g;if(f.activeContext=new o.Stack,f.activeContext.push(f.rootContext),p=f.activeContext.peek(),!p)throw{name:"ContextDoesNotExistException",message:"Attempting to evaluate compound expression with an undefined context."};for(h=0;h<v;h+=1)f.activeContext.push(c.getChildren()[h].getValue(f));for(g=f.activeContext.peek(),h=0;h<v;h+=1)f.activeContext.pop();return f.activeContext=d,g},c}n.Indexer={create:s}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.Assign=void 0;var a=i(0);function o(s,l,u){var c=a.SpelNode.create("assign",s,l,u);return c.getValue=function(f){var d=f.activeContext.peek();if(!d)throw{name:"ContextDoesNotExistException",message:"Attempting to assign property '"+l.getValue(f)+"' for an undefined context."};return l.setValue(u.getValue(f),f)},c}n.Assign={create:o}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.OpEQ=void 0;var a=i(0);function o(s,l,u){var c=a.SpelNode.create("op-eq",s,l,u);return c.getValue=function(f){return l.getValue(f)===u.getValue(f)},c}n.OpEQ={create:o}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.OpNE=void 0;var a=i(0);function o(s,l,u){var c=a.SpelNode.create("op-ne",s,l,u);return c.getValue=function(f){return l.getValue(f)!==u.getValue(f)},c}n.OpNE={create:o}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.OpGE=void 0;var a=i(0);function o(s,l,u){var c=a.SpelNode.create("op-ge",s,l,u);return c.getValue=function(f){return l.getValue(f)>=u.getValue(f)},c}n.OpGE={create:o}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.OpGT=void 0;var a=i(0);function o(s,l,u){var c=a.SpelNode.create("op-gt",s,l,u);return c.getValue=function(f){return l.getValue(f)>u.getValue(f)},c}n.OpGT={create:o}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.OpLE=void 0;var a=i(0);function o(s,l,u){var c=a.SpelNode.create("op-le",s,l,u);return c.getValue=function(f){return l.getValue(f)<=u.getValue(f)},c}n.OpLE={create:o}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.OpLT=void 0;var a=i(0);function o(s,l,u){var c=a.SpelNode.create("op-lt",s,l,u);return c.getValue=function(f){return l.getValue(f)<u.getValue(f)},c}n.OpLT={create:o}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.OpPlus=void 0;var a=i(0);function o(s,l,u){var c=a.SpelNode.create("op-plus",s,l,u);return c.getValue=function(f){return u?l.getValue(f)+u.getValue(f):+l.getValue(f)},c}n.OpPlus={create:o}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.OpMinus=void 0;var a=i(0);function o(s,l,u){var c=a.SpelNode.create("op-minus",s,l,u);return c.getValue=function(f){return u?l.getValue(f)-u.getValue(f):-l.getValue(f)},c}n.OpMinus={create:o}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.OpMultiply=void 0;var a=i(0);function o(s,l,u){var c=a.SpelNode.create("op-multiply",s,l,u);return c.getValue=function(f){var d=l.getValue(f),p=u.getValue(f);if(typeof d=="number"&&typeof p=="number")return d*p;if(typeof d=="string"&&typeof p=="number"){for(var v="",h=0;h<p;h+=1)v+=d;return v}return null},c}n.OpMultiply={create:o}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.OpDivide=void 0;var a=i(0);function o(s,l,u){var c=a.SpelNode.create("op-divide",s,l,u);return c.getValue=function(f){return l.getValue(f)/u.getValue(f)},c}n.OpDivide={create:o}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.OpModulus=void 0;var a=i(0);function o(s,l,u){var c=a.SpelNode.create("op-modulus",s,l,u);return c.getValue=function(f){return l.getValue(f)%u.getValue(f)},c}n.OpModulus={create:o}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.OpPower=void 0;var a=i(0);function o(s,l,u){var c=a.SpelNode.create("op-power",s,l,u);return c.getValue=function(f){return Math.pow(l.getValue(f),u.getValue(f))},c}n.OpPower={create:o}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.OpInc=void 0;var a=i(0);function o(s,l,u){var c=a.SpelNode.create("op-inc",s,u);return c.getValue=function(f){var d=u.getValue(f);return u.setValue(d+1,f),l?d:d+1},c}n.OpInc={create:o}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.OpDec=void 0;var a=i(0);function o(s,l,u){var c=a.SpelNode.create("op-dec",s,u);return c.getValue=function(f){var d=u.getValue(f);return u.setValue(d-1,f),l?d:d-1},c}n.OpDec={create:o}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.OpNot=void 0;var a=i(0);function o(s,l){var u=a.SpelNode.create("op-not",s,l);return u.getValue=function(c){return!l.getValue(c)},u}n.OpNot={create:o}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.OpAnd=void 0;var a=i(0);function o(s,l,u){var c=a.SpelNode.create("op-and",s,l,u);return c.getValue=function(f){return!!l.getValue(f)&&!!u.getValue(f)},c}n.OpAnd={create:o}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.OpOr=void 0;var a=i(0);function o(s,l,u){var c=a.SpelNode.create("op-or",s,l,u);return c.getValue=function(f){return!!l.getValue(f)||!!u.getValue(f)},c}n.OpOr={create:o}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.OpMatches=void 0;var a=i(0);function o(s,l,u){var c=a.SpelNode.create("matches",s,l,u);return c.getValue=function(f){var d=l.getValue(f),p=u.getValue(f);try{var v=new RegExp(p);return!!v.exec(d)}catch(h){throw{name:"EvaluationException",message:h.toString()}}},c}n.OpMatches={create:o}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.Ternary=void 0;var a=i(0);function o(s,l,u,c){var f=a.SpelNode.create("ternary",s,l,u,c);return f.getValue=function(d){return l.getValue(d)?u.getValue(d):c.getValue(d)},f}n.Ternary={create:o}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.Elvis=void 0;var a=i(0);function o(s,l,u){var c=a.SpelNode.create("elvis",s,l,u);return c.getValue=function(f){return l.getValue(f)!==null?l.getValue(f):u.getValue(f)},c}n.Elvis={create:o}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.InlineList=void 0;var a=i(0);function o(s,l){var u=a.SpelNode.create("list",s),c=[].concat(l||[]);return u.getRaw=function(){return c},u.getValue=function(f){return c.map(function(d){return d.getValue(f)})},u}n.InlineList={create:o}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.InlineMap=void 0;var a=i(0);function o(s,l){var u=a.SpelNode.create("map",s),c=[].concat(l||[]);return u.getValue=function(f){var d=!0,p=null,v={};return c.forEach(function(h){d?h.getType()==="property"?p=h.getName():p=h.getValue(f):v[p]=h.getValue(f),d=!d}),v},u}n.InlineMap={create:o}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.Selection=void 0;var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(f){return typeof f}:function(f){return f&&typeof Symbol=="function"&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f},o=i(0);function s(f,d,p){var v=!1;return p.activeContext.push(f),v=d.getValue(p),p.activeContext.pop(),v}function l(f,d,p,v){var h=f.filter(function(g){return s(g,p,v)});switch(d){case"ALL":return h;case"FIRST":return h[0]||null;case"LAST":return h.length?h[h.length-1]:null}}function u(f,d,p,v){var h={},g,y,m=[],_={};for(y in f)f.hasOwnProperty(y)&&(g={key:y,value:f[y]},s(g,p,v)&&m.push(g));switch(d){case"ALL":return m.forEach(function(b){h[b.key]=b.value}),h;case"FIRST":return m.length?(_[m[0].key]=m[0].value,_):null;case"LAST":return m.length?(_[m[m.length-1].key]=m[m.length-1].value,_):null}m.forEach(function(b){h[b.key]=b.value})}function c(f,d,p,v){var h=o.SpelNode.create("selection",p,v);return h.getValue=function(g){var y=g.activeContext.peek();if(y){if(Array.isArray(y))return l(y,d,v,g);if((typeof y>"u"?"undefined":a(y))==="object")return u(y,d,v,g)}return null},h}n.Selection={create:c,FIRST:"FIRST",LAST:"LAST",ALL:"ALL"}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.Projection=void 0;var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},o=i(0);function s(u,c,f){return u.map(function(d){var p;return f.activeContext.push(d),p=c.getValue(f),f.activeContext.pop(),p})}function l(u,c,f){var d=o.SpelNode.create("projection",c,f);return d.getValue=function(p){var v=p.activeContext.peek(),h=[],g;if(Array.isArray(v))return s(v,f,p);if((typeof v>"u"?"undefined":a(v))==="object"){for(g in v)v.hasOwnProperty(g)&&h.push(v[g]);return s(h,f,p)}return null},d}n.Projection={create:l}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.OpInstanceof=void 0;var a=i(0);function o(s,l,u){var c=a.SpelNode.create("instanceof",s,l,u);return c.getValue=function(f){throw{name:"MethodNotImplementedException",message:"OpInstanceOf: Not implemented"}},c}n.OpInstanceof={create:o}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.OpBetween=void 0;var a=i(0);function o(s,l,u){var c=a.SpelNode.create("between",s,l,u);return c.getValue=function(f){throw{name:"MethodNotImplementedException",message:"OpBetween: Not implemented"}},c}n.OpBetween={create:o}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.TypeReference=void 0;var a=i(0);function o(s,c,u){var c=a.SpelNode.create("typeref",s,c);return c.getValue=function(f){throw{name:"MethodNotImplementedException",message:"TypeReference: Not implemented"}},c}n.TypeReference={create:o}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.BeanReference=void 0;var a=i(0);function o(s,l){var u=a.SpelNode.create("beanref",s);return u.getValue=function(c){throw{name:"MethodNotImplementedException",message:"BeanReference: Not implemented"}},u}n.BeanReference={create:o}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.Identifier=void 0;var a=i(0);function o(s,l){var u=a.SpelNode.create("identifier",l);return u.getRaw=function(){return s},u.getValue=function(c){throw{name:"MethodNotImplementedException",message:"Identifier: Not implemented"}},u}n.Identifier={create:o}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.QualifiedIdentifier=void 0;var a=i(0);function o(l){if(Array.isArray(l)){for(var u=0,c=Array(l.length);u<l.length;u++)c[u]=l[u];return c}else return Array.from(l)}function s(l,u){var c=a.SpelNode.create.apply(a.SpelNode,["qualifiedidentifier",l].concat(o(u)));return c.getRaw=function(){return u.map(function(f){return f.getRaw()})},c.getValue=function(f){throw{name:"MethodNotImplementedException",message:"QualifiedIdentifier: Not implemented"}},c}n.QualifiedIdentifier={create:s}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0}),n.ConstructorReference=void 0;var a=i(0),o=i(1);function s(c){if(Array.isArray(c)){for(var f=0,d=Array(c.length);f<c.length;f++)d[f]=c[f];return d}else return Array.from(c)}function l(c){return Array.isArray(c)?c:Array.from(c)}function u(c,f,d){var p=d!==void 0,v;p?v=f.length&&f[0]&&f[0].getType()==="number"?f[0].getValue():null:(d=f,f=void 0);var h=d,g=l(h);g[0];var y=g.slice(1),m=a.SpelNode.create.apply(a.SpelNode,["constructorref",c].concat(s(d)));return m.getRaw=function(){return v},m.getValue=function(_){if(p&&y.length<=1){var b=[];return y.forEach(function(S){var O=_.activeContext;_.activeContext=new o.Stack,_.activeContext.push(_.rootContext),b.push(S.getValue(_)),_.activeContext=O}),y.length===1?b[0]:v?new Array(v):[]}throw{name:"MethodNotImplementedException",message:"ConstructorReference: Not implemented"}},m}n.ConstructorReference={create:u}},function(r,n,i){Object.defineProperty(n,"__esModule",{value:!0});function a(o,s){var l={};return l.authentication=o||{},l.principal=s||{},l.hasRole=function(u){var c=!1;return!u||!l.authentication&&!Array.isArray(l.authentication.authorities)?!1:(l.authentication.authorities.forEach(function(f){f.authority.toLowerCase()===u.toLowerCase()&&(c=!0)}),c)},l.hasPermission=function(){var u=Array.prototype.slice.call(arguments);if(u.length===1)return l.hasRole(u[0])},l}n.StandardContext={create:a}}])})})(UI);var Jre=UI.exports,WI={};(function(t){var e=t,r=/`/g,n=/\./g,i=/[\0\b\t\n\r\x1a\"\'\\]/g,a={"\0":"\\0","\b":"\\b","	":"\\t","\n":"\\n","\r":"\\r","":"\\Z",'"':'\\"',"'":"\\'","\\":"\\\\"};e.escapeId=function(c,f){if(Array.isArray(c)){for(var d="",p=0;p<c.length;p++)d+=(p===0?"":", ")+e.escapeId(c[p],f);return d}else return f?"`"+String(c).replace(r,"``")+"`":"`"+String(c).replace(r,"``").replace(n,"`.`")+"`"},e.escape=function(c,f,d){if(c==null)return"NULL";switch(typeof c){case"boolean":return c?"true":"false";case"number":return c+"";case"object":return Object.prototype.toString.call(c)==="[object Date]"?e.dateToString(c,d||"local"):Array.isArray(c)?e.arrayToList(c,d):Buffer.isBuffer(c)?e.bufferToString(c):typeof c.toSqlString=="function"?String(c.toSqlString()):f?o(c.toString()):e.objectToValues(c,d);default:return o(c)}},e.arrayToList=function(c,f){for(var d="",p=0;p<c.length;p++){var v=c[p];Array.isArray(v)?d+=(p===0?"":", ")+"("+e.arrayToList(v,f)+")":d+=(p===0?"":", ")+e.escape(v,!0,f)}return d},e.format=function(c,f,d,p){if(f==null)return c;Array.isArray(f)||(f=[f]);for(var v=0,h=/\?+/g,g="",y=0,m;y<f.length&&(m=h.exec(c));){var _=m[0].length;if(!(_>2)){var b=_===2?e.escapeId(f[y]):e.escape(f[y],d,p);g+=c.slice(v,m.index)+b,v=h.lastIndex,y++}}return v===0?c:v<c.length?g+c.slice(v):g},e.dateToString=function(c,f){var d=new Date(c);if(isNaN(d.getTime()))return"NULL";var p,v,h,g,y,m,_;if(f==="local")p=d.getFullYear(),v=d.getMonth()+1,h=d.getDate(),g=d.getHours(),y=d.getMinutes(),m=d.getSeconds(),_=d.getMilliseconds();else{var b=l(f);b!==!1&&b!==0&&d.setTime(d.getTime()+b*6e4),p=d.getUTCFullYear(),v=d.getUTCMonth()+1,h=d.getUTCDate(),g=d.getUTCHours(),y=d.getUTCMinutes(),m=d.getUTCSeconds(),_=d.getUTCMilliseconds()}var S=s(p,4)+"-"+s(v,2)+"-"+s(h,2)+" "+s(g,2)+":"+s(y,2)+":"+s(m,2)+"."+s(_,3);return o(S)},e.bufferToString=function(c){return"X"+o(c.toString("hex"))},e.objectToValues=function(c,f){var d="";for(var p in c){var v=c[p];typeof v!="function"&&(d+=(d.length===0?"":", ")+e.escapeId(p)+" = "+e.escape(v,!0,f))}return d},e.raw=function(c){if(typeof c!="string")throw new TypeError("argument sql must be a string");return{toSqlString:function(){return c}}};function o(u){for(var c=i.lastIndex=0,f="",d;d=i.exec(u);)f+=u.slice(c,d.index)+a[d[0]],c=i.lastIndex;return c===0?"'"+u+"'":c<u.length?"'"+f+u.slice(c)+"'":"'"+f+"'"}function s(u,c){for(u=u.toString();u.length<c;)u="0"+u;return u}function l(u){if(u==="Z")return 0;var c=u.match(/([\+\-\s])(\d\d):?(\d\d)?/);return c?(c[1]==="-"?-1:1)*(parseInt(c[2],10)+(c[3]?parseInt(c[3],10):0)/60)*60:!1}})(WI);var Qre=WI;const Xre=en(Qre);var go=Xre;go.trim=function(t){return t.charAt(0)=="'"?t.substring(1,t.length-1):t};go.escapeLike=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,n=go.escape(t);return n=go.trim(n),n=n.replace(/[%_]/g,"\\$&"),n=(e?"%":"")+n+(r?"%":""),n="'"+n+"'",n};var GI=function(e){var r="''",n=e==null?void 0:e.type;return n=="date"?r="'0000-00-00'":n=="datetime"?r="'0000-00-00 00:00'":n=="time"?r="'00:00'":n=="number"&&(r="0"),r},YI=function(e){var r="",n=e==null?void 0:e.type;return n=="number"&&(r=0),r},Zre=function(e){return"'"+e.replace(/'/g,"''")+"'"},ene=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n,i,a=["int","float"];e.map(function(l){if(l!=null){if(typeof l=="string")i="String";else if(typeof l=="number")i=Number.isInteger(l)?"int":"float";else throw new Error("spelEscape: Can't use value ".concat(l," in array"));if(!n)n=i;else if(n!=i)if(a.includes(n)&&a.includes(i))n="float";else throw new Error("spelEscape: Can't use different types in array: found ".concat(n," and ").concat(i))}}),n||(n="String");var o;n=="float"?o=e.map(function(l){return Al(l,!0)}):o=e.map(function(l){return Al(l)});var s;return r?s="new ".concat(n,"[]{").concat(o.join(", "),"}"):s="{".concat(o.join(", "),"}"),s},KI=function(e){return"".concat(e,".?[true]")},Al=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(e==null)return"null";switch(wt(e)){case"boolean":return e?"true":"false";case"number":return!Number.isFinite(e)||isNaN(e)?void 0:e+(!Number.isInteger(e)||r?"f":"");case"object":if(Array.isArray(e))return ene(e,n);throw new Error("spelEscape: Object is not supported");default:return Zre(e)}},tne=function(e){return e&&Array.isArray(e)&&e.length?e.map(function(r){if(r.type=="const")return Al(r.value);if(r.type=="property")return""+r.value;if(r.type=="variable")return"#"+r.value}).filter(function(r){return r!=null}).join(" + "):"null"},rne=function(e){if(e==null)return[void 0,[]];var r=[],n=e.valueType=="case_value"?e.value:e,i=Array.isArray(n)?n:[n],a=i.map(function(o){if(o.valueSrc==="value")return o.value===null?void 0:{type:"const",value:o.value};if(o.valueSrc==="field")return{type:o.isVariable?"variable":"property",value:o.value};r.push("Unsupported valueSrc ".concat(o.valueSrc," in concatenation"))}).filter(function(o){return o!=null});return[a,r]},JI=function(e){return e==null?"NULL":e.toString()},QI=function(e){return e==null||(e==null?void 0:e[0])==="("&&(e==null?void 0:e[(e==null?void 0:e.length)-1])===")"?e:"("+e+")"};const nne=Object.freeze(Object.defineProperty({__proto__:null,SqlString:go,mongoEmptyValue:YI,spelEscape:Al,spelFixList:KI,spelFormatConcat:tne,spelImportConcat:rne,sqlEmptyValue:GI,stringifyForDisplay:JI,wrapWithBrackets:QI},Symbol.toStringTag,{value:"Module"}));function HS(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=ine(t))||e){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(u){throw u},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a=!0,o=!1,s;return{s:function(){r=r.call(t)},n:function(){var u=r.next();return a=u.done,u},e:function(u){o=!0,s=u},f:function(){try{!a&&r.return!=null&&r.return()}finally{if(o)throw s}}}}function ine(t,e){if(t){if(typeof t=="string")return zS(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return zS(t,e)}}function zS(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function US(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function WS(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?US(Object(r),!0).forEach(function(n){oe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):US(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var XI="${0}.compareTo(${1})",ane={datetime:!0,time:!0,date:!0},one=function(e,r){return ZI(e,r,!1)},ZI=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i={errors:[]},a=ii(r,void 0,!1),o=eA(e,a,i,null);return n?[o,i.errors]:(i.errors.length&&console.warn("Errors while exporting to SpEL:",i.errors),o)},eA=function(e,r,n){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;if(e){var a=e.get("type");if(a==="group"||a==="rule_group")return rA(e,r,n,i);if(a==="rule")return une(e,r,n,i);if(a=="switch_group")return sne(e,r,n);if(a=="case_group")return tA(e,r,n,i)}},tA=function(e,r,n){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,a=e.get("type");if(a!="case_group"){n.errors.push("Unexpected child of type ".concat(a," inside switch"));return}var o=e.get("properties")||new lr,s=c0(r,o,n,null,i,"!case_value"),l=ke(s,3),u=l[0];l[1],l[2];var c=rA(e,r,n,i);return[c,u]},sne=function(e,r,n){e.get("properties")||new lr;var i=e.get("children1");if(i){var a=i.map(function(v){return tA(v,r,n,null)}).filter(function(v){return typeof v<"u"}).valueSeq().toArray();if(a.length){if(a.length==1&&!a[0][0])return a[0][1];for(var o=[],s=0;s<a.length;s++)s!=a.length-1&&!a[s][0]?n.errors.push("No condition for case ".concat(s)):(o.push(a[s]),s==a.length-1&&a[s][0]&&o.push([void 0,null]));for(var l="",u="",c=0;c<o.length;c++){var f=ke(o[c],2),d=f[0],p=f[1];p==null&&(p="null"),d==null&&(d="true"),c!=o.length-1?(l+="(".concat(d," ? ").concat(p," : "),u+=")"):l+="".concat(p)}return l+u}}},rA=function(e,r,n){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,a=e.get("type"),o=e.get("properties")||new lr,s=o.get("mode"),l=e.get("children1")||new Yi,u=o.get("field"),c=o.get("conjunction");c||(c=wa(r));var f=r.conjunctions[c],d=o.get("not"),p=a==="rule_group",v=p&&s!="struct",h=v?u:i,g=Me(r,h)||{},y=g.isSpelArray,m=r.settings.fieldSeparator,_=o.get("operator");!_&&(!s||s=="some")&&(_="some");var b=iA(r,_,u),S=b!=_,O=_&&jt(r,b,u)||null,x=p&&(!b||O.cardinality==0),E=c0(r,o,n,b,i,null),A=ke(E,3),C=A[0],k=A[1],w=A[2],I=l.map(function(B){return eA(B,r,n,h)}).filter(function(B){return typeof B<"u"});if(v&&!x){if(C==null)return}else if(!I.size)return;var L=p,P=I.size?f.spelFormatConj.call(r.ctx,I,c,d,L):null,V;if(v){var $=f0(n,r,u,i),U=m||".",M=U+(y?"length":"size()"),R="".concat($).concat(M),F=P?"".concat($,".?[").concat(P,"]").concat(M):R,N=x?R:C;V=nA(n,r,o,F,N,b,k,w,S)}else V=P;return V},lne=function(e,r,n){var i=r.spelOp;if(i){var a=i.includes("${0}"),o=ane[n],s=i,l,u=zr(r);return o?l=function(f,d,p,v,h,g,y,m){var _=XI.replace(/\${(\w+)}/g,function(b,S){return S==0?f:u>1?p[S-1]:p});return"".concat(_," ").concat(s," 0")}:a?l=function(f,d,p,v,h,g,y,m){return i.replace(/\${(\w+)}/g,function(_,b){return b==0?f:u>1?p[b-1]:p})}:u==0?l=function(f,d,p,v,h,g,y,m){return"".concat(f," ").concat(s)}:u==1&&(l=function(f,d,p,v,h,g,y,m){return"".concat(f," ").concat(s," ").concat(p)}),l}},nA=function(e,r,n,i,a,o,s,l){var u=arguments.length>8&&arguments[8]!==void 0?arguments[8]:!1,c=n.get("field"),f=jt(r,o,c)||{},d=Me(r,c)||{},p=n.get("operatorOptions"),v=f.spelFormatOp||lne(o,f,l);if(!v){e.errors.push("Operator ".concat(o," is not supported"));return}var h=[i,o,a,s,l,ni(f,eu),p,d],g;return g=v.call.apply(v,[r.ctx].concat(h)),u&&(g=r.settings.spelFormatReverse.call(r.ctx,g)),g===void 0&&e.errors.push("Operator ".concat(o," is not supported for value source ").concat(s)),g},iA=function(e,r,n){if(r){var i=jt(e,r,n)||{},a=i.reversedOp,o=jt(e,a,n)||{},s=i.spelOp||i.spelFormatOp,l=o.spelOp||o.spelFormatOp;if(!(!s&&!l)){if(!s&&l){var u=[a,r];r=u[0],a=u[1];var c=[o,i];i=c[0],o=c[1]}return r}}},une=function(e,r,n){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,a=e.get("properties")||new lr,o=a.get("field"),s=a.get("fieldSrc"),l=a.get("operator");if(!(o==null||l==null)){var u=iA(r,l,o);if(!u){n.errors.push("Operator ".concat(l," is not supported"));return}var c=u!=l,f=c0(r,a,n,u,i,null),d=ke(f,3),p=d[0],v=d[1],h=d[2];if(p!==void 0){var g=cne(n,r,o,s,i);if(g!==void 0){var y=nA(n,r,a,g,p,u,v,h,c);return y}}}},cne=function(e,r,n,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:null;return i==="func"?aA(e,r,n,a):f0(e,r,n,a)},c0=function(e,r,n,i,a){var o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:null,s=r.get("field"),l=r.get("valueSrc"),u=r.get("valueType");(o=="!case_value"||u&&u.get(0)=="case_value")&&(s="!case_value");var c=Me(e,s)||{},f=jt(e,i,s)||{},d=zr(f),p=r.get("value"),v=r.get("asyncListValues"),h=[],g=[],y;if(p!=null){var m=p.map(function(b,S){var O=l?l.get(S):null,x=u?u.get(S):null,E=Ss(b,O,e),A=vr(e,s,i,O),C=_n(e,s,i,A,O,{forExport:!0}),k=pg(n,e,E,O,x,C,c,i,f,a,v);return k!==void 0&&(h.push(O),g.push(x)),k}),_=m.filter(function(b){return b===void 0}).size>0;m.size<d||_||(y=d>1?m.toArray():d==1?m.first():null)}return[y,h.length>1?h:h[0],g.length>1?g:g[0]]},pg=function(e,r,n,i,a,o,s,l,u){var c=arguments.length>9&&arguments[9]!==void 0?arguments[9]:null,f=arguments.length>10?arguments[10]:void 0;if(n!==void 0){var d;if(i==="field")d=f0(e,r,n,c);else if(i==="func")d=aA(e,r,n,c);else if(typeof(o==null?void 0:o.spelFormatValue)=="function"){var p=o.spelFormatValue,v=[n,WS(WS({},ga(s,["fieldSettings","listValues"])),{},{asyncListValues:f}),ni(o,_s)];if(l&&(v.push(l),v.push(u)),i=="field"){var h=Me(r,n)||{};v.push(h)}d=p.call.apply(p,[r.ctx].concat(v))}else d=Al(n);return d}},f0=function(e,r,n){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;if(n){var a=r.settings.fieldSeparator,o=Me(r,n)||{},s=Lr(n,r),l=mj(n,r,i),u=r.settings.formatSpelField,c=Ga(n,r,e,i),f=l.map(function(p){var v=ke(p,3),h=v[0],g=v[1],y=v[2],m;y&&(y.type=="!struct"||y.type=="!group"&&y.mode=="struct"?m=g.isSpelMap?"map":"class":y.type=="!group"?m=g.isSpelItemMap?"[map]":"[class]":m="class");var _=g==null?void 0:g.isSpelVariable;return{key:h,parent:m,isSpelVariable:_,fieldSeparator:a}}),d=u.call(r.ctx,c,i,s,f,o,r);return d}},aA=function(e,r,n){var i,a,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,s=(i=n.get)===null||i===void 0?void 0:i.call(n,"func"),l=(a=n.get)===null||a===void 0?void 0:a.call(n,"args"),u=Wr(r,s);if(!u){e.errors.push("Func ".concat(s," is not defined in config"));return}var c={},f=[],d=[];for(var p in u.args){var v,h,g=u.args[p],y=Me(r,g),m=g.defaultValue,_=g.isOptional,b=m!=null&&m.func?"func":"value",S=l?l.get(p):void 0,O=S?S.get("value"):void 0,x=S?S.get("valueSrc"):void 0;x!=="func"&&(v=O)!==null&&v!==void 0&&v.toJS&&(O=O.toJS());var E=S?S.get("asyncListValues"):void 0,A=(h=g.spelEscapeForFormat)!==null&&h!==void 0?h:!0,C=null,k=vr(r,g,C,x),w=_n(r,g,C,k,x,{forExport:!0}),I=pg(e,r,O,x,g.type,w,y,null,null,o,E);if(O!=null&&I===void 0){x!="func"&&e.errors.push("Can't format value of arg ".concat(p," for func ").concat(s));return}var L=void 0;if(I===void 0&&!_&&m!=null){var P=vr(r,g,C,b),V=_n(r,g,C,P,b,{forExport:!0});if(L=pg(e,r,m,b,g.type,V,y,null,null,o,E),L===void 0){b!="func"&&e.errors.push("Can't format default value of arg ".concat(p," for func ").concat(s));return}}var $=I!=null?I:L;if($!==void 0){var U;if(f.length){var M=HS(f),R;try{for(M.s();!(R=M.n()).done;){var F=R.value;c[F]=void 0}}catch(Y){M.e(Y)}finally{M.f()}f=[]}c[p]=A?$:(U=O)!==null&&U!==void 0?U:m}else _||d.push(p),f.push(p)}if(!d.length){var N;if(typeof u.spelFormatFunc=="function"){var B=u.spelFormatFunc,q=[c];N=B.call.apply(B,[r.ctx].concat(q))}else if(u.spelFunc){N=u.spelFunc.replace(/\${(\w+)}/g,function(Y,K){var ie;return(ie=c[K])!==null&&ie!==void 0?ie:Y});var W=Object.keys(u.args||{}).reverse().filter(function(Y){return!!u.args[Y].isOptional}),D=HS(W),G;try{for(D.s();!(G=D.n()).done;){var H=G.value;if(c[H]!=null)break;N=N.replace(new RegExp("(, )?\\${"+H+"}","g"),"")}}catch(Y){D.e(Y)}finally{D.f()}N=N.replace(/\${(\w+)}/g,"null")}else e.errors.push("Func ".concat(s," is not supported"));return N}};function fa(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=fne(t))||e){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(u){throw u},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a=!0,o=!1,s;return{s:function(){r=r.call(t)},n:function(){var u=r.next();return a=u.done,u},e:function(u){o=!0,s=u},f:function(){try{!a&&r.return!=null&&r.return()}finally{if(o)throw s}}}}function fne(t,e){if(t){if(typeof t=="string")return GS(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return GS(t,e)}}function GS(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function YS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Or(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?YS(Object(r),!0).forEach(function(n){oe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):YS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var KS={number:"number",string:"text",boolean:"boolean",null:"null"},JS={String:"text"},dne="multiselect",pne=function(e){return["length"].includes(e)},oA=function(e){return wt(e)=="object"&&e!==null&&!Array.isArray(e)},hne=function(e,r){return sA(e,r,!0)},sA=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i={errors:[]},a=ii(r,void 0,!1),o=mne(a),s,l,u=void 0;try{var c=Jre.SpelExpressionEvaluator.compile(e);s=c._compiledExpression}catch(d){i.errors.push(d)}s&&(l=vne(s,i),Oo.debug("convertedObj:",l,i),u=pc(l,o,a,i),u&&u.type!="group"&&u.type!="switch_group"&&(u=Wc(u,a,l.not)),Oo.debug("jsTree:",u));var f=u?u0(u):void 0;return n?[f,i.errors]:(i.errors.length&&console.warn("Errors while importing from SpEL:",i.errors),f)},vne=function t(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,i=e.getType(),a=e.getChildren().map(function(w){return t(w,r,e)});if((i=="op-or"||i=="op-and")&&(a=a.reduce(function(w,I){var L=I.type==i&&!I.not,P=L?I.children:[I];return[].concat(Ce(w),Ce(P))},[])),i=="op-not")return a.length!=1&&r.errors.push("Operator NOT should have 1 child, but got ".concat(a.length,"}")),Or(Or({},a[0]),{},{not:!a[0].not});if(i=="compound"){a=a.filter(function(w){var I=w.type=="selection"&&w.children.length==1&&w.children[0].type=="boolean"&&w.children[0].val==!0;return!I});var o=a.find(function(w){return w.type=="selection"});o&&o.children.length!=1&&r.errors.push("Selection should have 1 child, but got ".concat(o.children.length));var s=o?o.children[0]:null,l=a[a.length-1],u=l.type=="method"&&l.val.methodName=="size"||l.type=="!func"&&l.methodName=="size",c=l.type=="property"&&l.val=="length",f=a.filter(function(w){return w!==o&&w!==l}),d={type:"compound",children:f},p=(u||c)&&lA(f)!=null;if(p)return{type:"!aggr",filter:s,source:d};if(a=a.filter(function(w){var I=w.type=="variable"&&w.val=="this",L=w.type=="variable"&&w.val=="root";return!(I||L)}),a=a.map(function(w){return w.type=="indexer"&&w.children.length==1?{type:"indexer",val:w.children[0].val,itype:w.children[0].type}:w}),l.type=="!func"){var v={},h=v;do{var g,y;Object.assign(h,l),a=a.filter(function(w){return w!==l}),l=a[a.length-1],((y=l)===null||y===void 0?void 0:y.type)=="!func"?(h.obj={},h=h.obj):a.length>1?h.obj={type:"compound",children:a}:h.obj=l}while(((g=l)===null||g===void 0?void 0:g.type)=="!func");return v}}var m;try{e.getRaw?m=e.getRaw():e.getValue.length==0&&(m=e.getValue())}catch(w){Oo.error("[spel2js] Error in getValue()",w)}if(i=="ternary"&&(m=gne(a)),wt(m)==="object"&&m!==null&&(m.methodName||m.functionName)&&(m.args=m.args.map(function(w){return t(w,r,e)})),i=="list"&&(m=m.map(function(w){return t(w,r,e)}),!n&&m.length==1))return m[0];if(i=="constructorref"){var _=a.find(function(w){return w.type=="qualifiedidentifier"}),b=_==null?void 0:_.val;if(!b){r.errors.push("Can't find qualifiedidentifier in constructorref children: ".concat(JSON.stringify(a)));return}var S=a.filter(function(w){return w.type!="qualifiedidentifier"});return{type:"!new",cls:b,args:S}}if(i=="typeref"){var O=a.find(function(w){return w.type=="qualifiedidentifier"}),x=O==null?void 0:O.val;if(!x){r.errors.push("Can't find qualifiedidentifier in typeref children: ".concat(JSON.stringify(a)));return}return a.filter(function(w){return w.type!="qualifiedidentifier"}),{type:"!type",cls:x}}if(i=="function"||i=="method"){var E=m,A=E.functionName,C=E.methodName,k=E.args;return{type:"!func",methodName:A||C,isVar:i=="function",args:k}}return{type:i,children:a,val:m}},gne=function(e){var r=[];function n(i){var a=ke(i,3),o=a[0],s=a[1],l=a[2];r.push([o,s]),(l==null?void 0:l.type)=="ternary"?n(l.children):r.push([void 0,l])}return n(e),r},mne=function(e){var r={},n=function(L){var P=e.operators[L];if(P.spelOps)P.spelOps.forEach(function($){var U=$;r[U]||(r[U]=[]),r[U].push(L)});else if(P.spelOp){var V=P.spelOp;r[V]||(r[V]=[]),r[V].push(L)}else Oo.log("[spel] No spelOp for operator ".concat(L))};for(var i in e.operators)n(i);var a={};for(var o in e.conjunctions){var s=e.conjunctions[o],l=s.spelConj||o.toLowerCase();a[l]=o}var u={},c=fa(ou(e)),f;try{var d=function(){var L=ke(f.value,2),P=L[0],V=L[1],$=[],U=V.spelFunc;if(typeof U=="string"){var M=Object.keys(V.args||{}).reverse().filter(function(W){return!!V.args[W].isOptional||V.args[W].defaultValue!=null}),R=U.replace(/\${(\w+)}/g,function(W,D){return"?"}),F=M.reduce(function(W,D){return[].concat(Ce(W),[[D].concat(Ce(W[W.length-1]||[]))])},[]).map(function(W){return U.replace(/(?:, )?\${(\w+)}/g,function(D,G){return W.includes(G)?"":D}).replace(/\${(\w+)}/g,function(D,G){return"?"})});$=[R].concat(Ce(F))}var N=fa($),B;try{for(N.s();!(B=N.n()).done;){var q=B.value;u[q]||(u[q]=[]),u[q].push(P)}}catch(W){N.e(W)}finally{N.f()}};for(c.s();!(f=c.n()).done;)d()}catch(I){c.e(I)}finally{c.f()}var p={};for(var v in e.widgets){var h=e.widgets[v],g=h.spelImportFuncs;if(h.type,g){var y=fa(g),m;try{for(y.s();!(m=y.n()).done;){var _=m.value;if(typeof _=="string"){var b=_.replace(/\${(\w+)}/g,function(I,L){return"?"}),S=Ce(_.matchAll(/\${(\w+)}/g)).map(function(I){var L=ke(I,2),P=L[0],V=L[1];return V});p[b]||(p[b]=[]),p[b].push({w:v,argsOrder:S})}}}catch(I){y.e(I)}finally{y.f()}}}var O={};for(var x in e.operators){var E=e.operators[x],A=E.spelOp;if(A!=null&&A.includes("${0}")){var C=A.replace(/\${(\w+)}/g,function(I,L){return"?"}),k=Ce(A.matchAll(/\${(\w+)}/g)).map(function(I){var L=ke(I,2);L[0];var P=L[1];return P});O[C]||(O[C]=[]),O[C].push({op:x,argsOrder:k})}}var w=XI.replace(/\${(\w+)}/g,function(I,L){return"?"});return O[w]=[{op:"!compare",argsOrder:["0","1"]}],{operators:r,conjunctions:a,funcs:u,valueFuncs:p,opFuncs:O}},pc=function t(e,r,n,i){var a,o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:null;if(e){e._groupField=(a=e._groupField)!==null&&a!==void 0?a:o==null?void 0:o._groupField;var s,l=!0;if(e.type.indexOf("op-")===0||e.type==="matches")s=yne(e,r,n,i,o);else if(e.type=="!aggr"){var u,c=t(e.source,r,n,i,e);e._groupField=c==null?void 0:c.value;var f=t(e.filter,r,n,i,e);((u=f)===null||u===void 0?void 0:u.type)=="rule"&&(f=Wc(f,n,e.filter.not)),s={groupFilter:f,groupFieldValue:c},o||(s=void 0,i.errors.push("Unexpected !aggr in root"),l=!1)}else if(e.type=="ternary"){var d={};e.val.forEach(function(v){var h=ke(v,2),g=h[0],y=h[1],m=cA(g,y,r,n,i,e);m&&(d[m.id]=m)}),s={type:"switch_group",id:Lt(),children1:d,properties:{}}}if(!s&&l&&(s=hc(e,r,n,i,o)),s&&!s.type&&!o){var p=uA(e,r,n,i);p?s=p:(s=void 0,i.errors.push("Can't convert rule of type ".concat(e.type,", it looks like var/literal")))}return s}},yne=function t(e,r,n,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:null,o,s=e.type.startsWith("op-")?e.type.slice(3):e.type,l=(s=="minus"||s=="plus")&&e.children.length==1;if(l){var u=e.negative;return s=="minus"&&(u=!u),e.children[0].negative=u,pc(e.children[0],r,n,i,a)}var c=s=="and"&&e.children.length==2&&e.children[0].type=="op-ge"&&e.children[1].type=="op-le",f=s=="or"&&e.children.length==2&&e.children[0].type=="op-lt"&&e.children[1].type=="op-gt",d=c||f;if(d){var p=ke(e.children[0].children,2),v=p[0],h=p[1],g=ke(e.children[1].children,2),y=g[0],m=g[1],_=Ene(v,y,e,r,n,i);if(_){h.val,m.val;var b={type:"op-between",children:[v,h,m],not:f};return b._groupField=a==null?void 0:a._groupField,t(b,r,n,i,a)}}var S=r.operators[s];s=="eq"&&e.children[1].type=="null"?S=["is_null"]:s=="ne"&&e.children[1].type=="null"?S=["is_not_null"]:s=="le"&&e.children[1].type=="string"&&e.children[1].val==""?S=["is_empty"]:s=="gt"&&e.children[1].type=="string"&&e.children[1].val==""?S=["is_not_empty"]:s=="between"&&(S=["between"]);var O=function(){var se,ue=e.children.map(function(fe){return pc(fe,r,n,i,e)});return ue.length>=2&&((se=ue)===null||se===void 0||(se=se[0])===null||se===void 0?void 0:se.type)=="!compare"&&(ue=ue[0].children),ue};if(s=="and"||s=="or"){var x={},E=O();E.forEach(function(te){if(te){var se=Lt();te.id=se,te.type!=null?x[se]=te:i.errors.push("Bad item in AND/OR: ".concat(JSON.stringify(te)))}}),o={type:"group",id:Lt(),children1:x,properties:{conjunction:r.conjunctions[s],not:e.not}}}else if(S){var A,C,k,w=O(),I=w[0],L=w.slice(1),P=I==null||(A=I.groupFieldValue)===null||A===void 0?void 0:A.value,V=(C=L)===null||C===void 0?void 0:C[0],$=S[0];if(S.length>1){var U,M,R=((U=w[0])===null||U===void 0?void 0:U.valueType)||((M=w[1])===null||M===void 0?void 0:M.valueType),F=I==null?void 0:I.value,N=S.map(function(te){return{op:te,widget:vr(n,F,te)}});if(Oo.warn("[spel] Spel operator ".concat(s," can be mapped to ").concat(S,"."),"widgets:",N,"vals:",w,"valueType=",R),s=="eq"||s=="ne"){var B=N.find(function(te){te.op;var se=te.widget;return se&&se!="field"});B&&($=B.op)}}I!=null&&I.groupFieldValue&&(V&&V.groupFieldValue&&V.groupFieldValue.valueSrc=="field"&&V.groupFieldValue.value==P?($="all",L=[]):$=="equal"&&V.valueSrc=="value"&&V.valueType=="number"&&V.value==0?($="none",L=[]):$=="greater"&&V.valueSrc=="value"&&V.valueType=="number"&&V.value==0&&($="some",L=[]));var q=n.operators[$],W=n.operators[(k=q)===null||k===void 0?void 0:k.reversedOp],D=e.not&&["between"].includes($),G=!!W,H=G&&(!!n.settings.reverseOperatorsForNot||D),Y=e.not&&H||D;Y&&($=q.reversedOp,q=n.operators[$],e.not=!e.not);var K=!!e.not;if(e.not=!1,I)if(I.groupFieldValue)I.groupFieldValue.valueSrc!="field"&&i.errors.push("Expected group field ".concat(JSON.stringify(I))),o=wne(I,$,L,n,i);else{I.valueSrc!="field"&&I.valueSrc!="func"&&i.errors.push("Expected field/func at LHS, but got ".concat(JSON.stringify(I)));var ie=I.value;o=d0(n,i,ie,$,L,e)}K&&(o.type!=="group"?o=Wc(o,n,!0):o.properties.not=!o.properties.not)}else a||(o=uA(e,r,n,i));return o},lA=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=!1,a=e.map(function(o){if(o.type=="variable"||o.type=="property"||o.type=="indexer"&&o.itype=="string")return o.val;var s,l;i=!0,n&&(r==null||(s=r.errors)===null||s===void 0||(l=s.push)===null||l===void 0||l.call(s,"Unexpected item in field path compound: ".concat(JSON.stringify(o))))});return i?void 0:a},hc=function t(e,r,n,i){var a,o,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:null;if(e!=null){var l=n.settings.fieldSeparator;if(e._groupField=(a=e._groupField)!==null&&a!==void 0?a:s==null?void 0:s._groupField,e.type=="variable"||e.type=="property"){var u=Bd(n,e.val,e._groupField),c=Me(n,u),f=e.type=="variable";return{valueSrc:"field",valueType:c==null?void 0:c.type,isVariable:f,value:u}}else if(e.type=="compound"){var d=lA(e.children,i);if(d){var p,v=Bd(n,d.join(l),e._groupField),h=Me(n,v),g=((p=e.children)===null||p===void 0||(p=p[0])===null||p===void 0?void 0:p.type)=="variable";return{valueSrc:"field",valueType:h==null?void 0:h.type,isVariable:g,value:v}}}else if(KS[e.type]){var y=e.val,m=KS[e.type];return e.negative&&(y=-y),{valueSrc:"value",valueType:m,value:y}}else if(e.type=="!new"&&JS[e.cls.at(-1)]){var _=e.args.map(function(k){return t(k,r,n,i,e)}),b=_==null?void 0:_[0],S=JS[e.cls.at(-1)];return Or(Or({},b),{},{valueType:S})}else if(e.type=="list"){var O,x=e.val.map(function(k){return t(k,r,n,i,e)});x.length&&((O=x[0])===null||O===void 0||O.valueType);var E=x.map(function(k){return k==null?void 0:k.value}),A=dne;return{valueSrc:"value",valueType:A,value:E}}else if(e.type==="op-plus"&&(s==null?void 0:s.type)==="ternary"&&((o=n.settings.caseValueField)===null||o===void 0?void 0:o.type)==="case_value")return fA(e,r,n,i);var C=Sne(e,r,n,i,s);if(C!==void 0)return C;i.errors.push("Can't convert arg of type ".concat(e.type))}},bne=function(e){var r=[{s:"",params:[],objs:[]}];return _ne(e,r),r.map(function(n){var i=n.s,a=n.params;return{s:i,params:a}}).reverse().filter(function(n){var i=n.s;return i!==""&&i!=="?"})},_ne=function t(e,r){var n=[],i="",a=e.type,o=e.methodName;e.val;var s=e.obj,l=e.args,u=e.isVar,c=e.cls,f=e.children,d=f==null?void 0:f[f.length-1],p=r[r.length-1];if(a==="!func"){for(var v=s;v;){var h,g=t(Or(Or({},v),{},{obj:null}),[{}]),y=ke(g,2),m=y[0],_=y[1];if(m!=="?"){var b={s:p.s,params:Ce(p.params),objs:Ce(p.objs)};p.objs.unshift("?"),p.params.unshift(v),r.push(b),p=r[r.length-1]}p.objs.unshift(m),(h=p.params).unshift.apply(h,Ce(_)),v=v.type==="!func"?v.obj:null}var S=fa(r),O;try{for(S.s();!(O=S.n()).done;){var x,E=O.value;n=[].concat(Ce((E==null?void 0:E.params)||[]),Ce(l||[])),i="",E!=null&&(x=E.objs)!==null&&x!==void 0&&x.length&&(i+=E.objs.join(".")+"."),i+=(u?"#":"")+o,i+="("+(l||[]).map(function(A){return"?"}).join(", ")+")",E.s=i,E.params=n}}catch(A){S.e(A)}finally{S.f()}}else a==="!new"?(n=l||[],i="new ".concat(c.join("."),"(").concat(n.map(function(A){return"?"}).join(", "),")")):a==="!type"?i="T(".concat(c.join("."),")"):a==="compound"&&d.type==="property"&&pne(d.val)?i=f.map(function(A){var C;if(A===d)return A.val;var k=t(Or(Or({},A),{},{obj:null}),[{}]),w=ke(k,2),I=w[0],L=w[1];return(C=n).push.apply(C,Ce(L)),I}).join("."):(n=[e],i="?");return p&&(p.s=i,p.params=n),[i,n]},Sne=function(e,r,n,i){var a,o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:null,s=function(V){return pc(V,r,n,i,e)},l=bne(e),u=l==null||(a=l[0])===null||a===void 0?void 0:a.s;l.length&&Oo.debug("Signatures for ",e,":",u,l);var c=One(e,r,n,i,o,l,s);if(c!==void 0)return c;var f=xne(e,r,n,i,o,l,s);if(f!==void 0)return f;var d,p,v,h=fa(l),g;try{var y=function(){var V=g.value,$=V.s,U=V.params,M=r.funcs[$];if(M){d=M[0],p=Wr(n,d);var R=p,F=R.spelFunc,N=U.map(s),B=Ce(F.matchAll(/\${(\w+)}/g)).map(function(q){var W=ke(q,2),D=W[0],G=W[1];return G});return v=Object.fromEntries(B.map(function(q,W){return[q,N[W]]})),1}};for(h.s();!(g=h.n()).done&&!y(););}catch(P){h.e(P)}finally{h.f()}if(!d){var m=fa(ou(n)),_;try{for(m.s();!(_=m.n()).done;){var b=ke(_.value,2),S=b[0],O=b[1];if(O.spelImport){var x=void 0;try{x=O.spelImport(e)}catch(P){}if(x){d=S,p=Wr(n,d),v={};for(var E in x)v[E]=s(x[E])}}}}catch(P){m.e(P)}finally{m.f()}}if(d){var A={};for(var C in p.args){var k=p.args[C],w=v[C];if(w===void 0)if(w=k==null?void 0:k.defaultValue,w===void 0){if(!(k!=null&&k.isOptional)){i.errors.push("No value for arg ".concat(C," of func ").concat(d));return}}else{var I;w={value:w,valueSrc:(I=w)!==null&&I!==void 0&&I.func?"func":"value",valueType:k.type}}w&&(A[C]=w)}return{valueSrc:"func",value:{func:d,args:A},valueType:p.returnType}}var L=e.methodName;L&&i.errors.push("Signature ".concat(u," - failed to convert"))},One=function(e,r,n,i,a,o,s){var l,u,c,f=[];for(var d in n.widgets){var p=n.widgets[d],v=p.spelImportFuncs;if(v)for(var h=0;h<v.length;h++){var g=v[h];if(oA(g)){var y={};if(nI(g,e,y)){for(var m in y)y[m]=s(y[m]);f.push({s:"widgets.".concat(d,".spelImportFuncs[").concat(h,"]"),w:d,argsObj:y})}}}}var _=fa(o),b;try{for(_.s();!(b=_.n()).done;){var S=b.value,O=S.s,x=S.params,E=r.valueFuncs[O]||[],A=fa(E),C;try{var k=function(){var D=C.value,G=D.w,H=D.argsOrder,Y=x.map(s),K=Object.fromEntries(H.map(function(ie,te){return[ie,Y[te]]}));f.push({s:O,w:G,argsObj:K})};for(A.s();!(C=A.n()).done;)k()}catch(W){A.e(W)}finally{A.f()}}}catch(W){_.e(W)}finally{_.f()}for(var w=0,I=f;w<I.length;w++){var L=I[w],P=L.s,V=L.w,$=L.argsObj,U=n.widgets[V],M=U.spelImportValue,R=U.type;c=V,u=P,l=[];for(var F in $)["value"].includes($[F].valueSrc)||l.push("".concat(F," has unsupported value src ").concat($[F].valueSrc));var N=$.v.value;if(M&&!l.length){var B=M.call(n.ctx,$.v,U,$),q=ke(B,2);N=q[0],l=q[1],l&&!Array.isArray(l)&&(l=[l])}if(!l.length)return{valueSrc:"value",valueType:R,value:N}}c&&l.length&&i.errors.push("Signature ".concat(u," - looks like convertable to ").concat(c,", but: ").concat(l.join("; ")))},xne=function(e,r,n,i,a,o,s){var l,u,c,f=fa(o),d;try{for(f.s();!(d=f.n()).done;){var p=d.value,v=p.s,h=p.params,g=r.opFuncs[v]||[],y=fa(g),m;try{var _=function(){var O,x=m.value,E=x.op,A=x.argsOrder,C=h.map(s);if(u=E,E==="!compare"){if(a.type.startsWith("op-")&&a.children.length==2&&a.children[1].type=="number"&&a.children[1].val===0)return{v:{type:"!compare",children:C}};l.push("Result of compareTo() should be compared to 0")}c=v,l=[];var k=n.operators[u],w=k.spelOp,I=k.valueTypes,L=Object.fromEntries(A.map(function(U,M){return[U,C[M]]})),P=L[0],V=Object.keys(L).filter(function(U){return parseInt(U)>0}).map(function(U){return L[U]}),$=(O=C.filter(function(U){return!!U}).find(function(U){var M=U.valueSrc;return M==="value"}))===null||O===void 0?void 0:O.valueType;if(I&&$&&!I.includes($)&&l.push("Op supports types ".concat(I,", but got ").concat($)),!l.length)return{v:d0(n,i,P,u,V,e)}},b;for(y.s();!(m=y.n()).done;)if(b=_(),b)return b.v}catch(S){y.e(S)}finally{y.f()}}}catch(S){f.e(S)}finally{f.f()}u&&l.length&&i.errors.push("Signature ".concat(c," - looks like convertable to ").concat(u,", but: ").concat(l.join("; ")))},d0=function(e,r,n,i,a,o){var s,l;if(!a.filter(function(C){return C===void 0}).length){var u=(s=n)!==null&&s!==void 0&&s.func?"func":"field";oA(n)&&n.valueSrc&&(u=n.valueSrc,n=n.value);var c=Me(e,n);if(!c){r.errors.push("No config for field ".concat(n));return}var f=Me(e,o==null?void 0:o._groupField),d=c.type=="!group";d&&c.mode=="array";var p=(f==null?void 0:f.type)=="!group",v=e.operators[i],h=e.operators[(l=v)===null||l===void 0?void 0:l.reversedOp],g=(o==null?void 0:o.not)&&["between"].includes(i),y=!!h,m=y&&(!!e.settings.reverseOperatorsForNot||g||!d&&p),_=(o==null?void 0:o.not)&&m||g;_&&(i=v.reversedOp,v=e.operators[i],o.not=!o.not);var b=!!(o!=null&&o.not),S=vr(e,n,i),O=e.widgets[S||c.mainWidget],x=a.map(function(C){return C.asyncListValues}).filter(function(C){return C!=null}),E=x.length?x[0]:void 0,A={type:"rule",id:Lt(),properties:Or({field:n,fieldSrc:u,operator:i,value:a.map(function(C){return C.value}),valueSrc:a.map(function(C){return C.valueSrc}),valueType:a.map(function(C){return C.valueSrc=="value"&&((O==null?void 0:O.type)||(c==null?void 0:c.type))||C.valueType})},E?{asyncListValues:E}:{})};return b&&(A=Wc(A,e,o.not)),A}},wne=function(e,r,n,i,a){var o=e.groupFilter,s=e.groupFieldValue;if(s.valueSrc!="field")throw"Bad groupFieldValue: ".concat(JSON.stringify(s));var l=s.value,u=d0(i,a,l,r,n);if(u){var c=Me(i,l),f=c==null?void 0:c.mode,d;return(o==null?void 0:o.type)==="group"?d=Or(Or({},o||{}),{},{type:"rule_group",properties:Or(Or(Or({},u.properties),(o==null?void 0:o.properties)||{}),{},{mode:f})}):o?d=Or(Or({},u||{}),{},{type:"rule_group",children1:[o],properties:Or(Or({},u.properties),{},{mode:f})}):d=Or(Or({},u||{}),{},{type:"rule_group",properties:Or(Or({},u.properties),{},{mode:f})}),d.id||(d.id=Lt()),d}},Ene=function(e,r,n,i,a,o){if(e.type==r.type)if(e.type=="!aggr"){var s=[e.source,r.source].map(function(h){return hc(h,i,a,o,n)}),l=ke(s,2),u=l[0],c=l[1];return u.value==c.value}else{var f=[e,r].map(function(h){return hc(h,i,a,o,n)}),d=ke(f,2),p=d[0],v=d[1];return p.value==v.value}return!1},uA=function(e,r,n,i){var a={},o=null,s=cA(o,e,r,n,i);s&&(a[s.id]=s);var l={type:"switch_group",id:Lt(),children1:a,properties:{}};return l},cA=function(e,r,n,i,a){var o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:null,s=Cne(i,a,n,r,o),l;return e?(l=pc(e,n,i,a,o),l&&l.type?(l.type!="group"&&(l=Wc(l,i)),l.type="case_group"):(a.errors.push("Unexpected case: ".concat(JSON.stringify(l))),l=void 0)):l={id:Lt(),type:"case_group",properties:{}},l&&(l.properties=Or(Or({},l.properties),s)),l},fA=function(e,r,n,i){var a=[];function o(s){s.map(function(l){if(l.type==="op-plus")o(l.children);else{var u=hc(l,r,n,i,e);u?a.push(u):i.errors.push("Can't convert ".concat(l.type," in concatenation"))}})}return o(e.children),{valueSrc:"value",valueType:"case_value",value:a}},Cne=function(e,r,n,i){var a,o,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:null,l={},u,c,f,d=Me(e,"!case_value");if((i==null?void 0:i.type)==="op-plus"&&((a=e.settings.caseValueField)===null||a===void 0?void 0:a.type)==="case_value")c="case_value",u=fA(i,n,e,r);else if(c=d==null?void 0:d.mainWidget,f=e.widgets[c],u=hc(i,n,e,r,s),u&&u.valueSrc==="value"){var p;u.valueType=((p=f)===null||p===void 0?void 0:p.type)||(d==null?void 0:d.type)||u.valueType}var v=e.widgets[c];if(c==="case_value"){var h=v==null?void 0:v.spelImportValue;if(h){var g=h.call(e.ctx,u),y=ke(g,2),m=y[0],_=y[1];if(_.map(function(S){return r.errors.push(S)}),m!=null){var b;l={value:[m],valueSrc:["value"],valueType:[(b=v==null?void 0:v.type)!==null&&b!==void 0?b:"case_value"],field:"!case_value"}}}}else u!=null&&((o=u)===null||o===void 0?void 0:o.value)!=null&&(l={value:[u.value],valueSrc:[u.valueSrc],valueType:[u.valueType],field:"!case_value"});return l},Wc=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return{type:"group",id:Lt(),children1:oe({},e.id,e),properties:{conjunction:wa(r),not:n||!1}}};const QS=Object.freeze(Object.defineProperty({__proto__:null,_loadFromJsonLogic:BI,_loadFromSpel:sA,getTree:Ire,isImmutableTree:RI,isJsonLogic:jn,isTree:$I,jsToImmutable:dc,loadFromJsonLogic:Rre,loadFromSpel:hne,loadTree:u0},Symbol.toStringTag,{value:"Module"}));function XS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Tne(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?XS(Object(r),!0).forEach(function(n){oe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):XS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var dA=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,i=e.settings.defaultField,a=(n?pA(e,n):i)||r&&Wj(e,n)||null;return a!=null&&typeof a!="string"&&!tu(a)&&(a=dc(a)),a},pA=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!n)return null;var i=(e==null||(r=e.settings)===null||r===void 0?void 0:r.fieldSeparator)||".",a=Me(e,n),o=a==null?void 0:a.defaultField;return o&&(o=[].concat(Ce(Lr(n)),[o]).join(i)),o},hg=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return n&&((r=e.settings.fieldSources)===null||r===void 0?void 0:r[0])||"field"},p0=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i=Me(e,r),a=(i==null?void 0:i.operators)||[],o=e.settings.defaultOperator;o&&!a.includes(o)&&(o=null);var s=i==null?void 0:i.defaultOperator,l=i==null?void 0:i.ownDefaultOperator,u=n?g0(e,r):null,c=l||o||s||u;return c},Gc=function(e,r,n){var i=r?jt(e,r,n):null;return i&&i.options?new Ue.Map(i.options&&i.options.defaults||{}):null},xa=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,o=null,s=null,l=null,u=e.settings.showErrorMessage;if(n){var c,f,d;l=n==null||(c=n.properties)===null||c===void 0?void 0:c.fieldSrc,o=n==null||(f=n.properties)===null||f===void 0?void 0:f.field,s=n==null||(d=n.properties)===null||d===void 0?void 0:d.operator}else i?(o=dA(e,a,r),o?l=tu(o)?"func":"field":l=hg(e),s=p0(e,o,!0)):l=hg(e);var p=new Ue.Map({fieldSrc:l,field:o,operator:s,value:new Ue.List,valueSrc:new Ue.List,operatorOptions:Gc(e,s,o)});if(u&&(p=p.set("valueError",new Ue.List)),o&&s){var v=!1,h=Xo(e,e,p,o,s,"operator",v),g=h.newValue,y=h.newValueSrc,m=h.newValueType,_=h.newValueError,b=h.newFieldError;p=p.set("value",g).set("valueSrc",y).set("valueType",m),u&&(p=p.set("valueError",_).set("fieldError",b))}return p},vc=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;r=Me(e,r);var n=r&&r.conjunctions||Object.keys(e.conjunctions);return n.length==1?n[0]:e.settings.defaultGroupConjunction||e.settings.defaultConjunction||n[0]},wa=function(e){return e.settings.defaultConjunction||Object.keys(e.conjunctions)[0]},Lo=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return new Ue.Map({conjunction:vc(e,r),not:!1})},hA=function(e,r){var n;return r&&r.type=="group"?Lo(e,r==null||(n=r.properties)===null||n===void 0?void 0:n.field):xa(e,null,r)},vA=function(e,r){return oe({},e,new Ue.Map({type:"rule",id:e,properties:xa(r)}))},kne=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return new Ue.Map({type:"group",id:Lt(),children1:new Ue.OrderedMap(r?Tne({},vA(Lt(),e)):{}),properties:Lo(e)})},Ine=function(e){return Mp(e)?e:gA([e])},gA=function(e){return Mp(e)?e:new Ue.List(e)},Ane=function(){return new Ue.Map};const jne=Object.freeze(Object.defineProperty({__proto__:null,createListFromArray:gA,createListWithOneElement:Ine,defaultConjunction:wa,defaultGroupConjunction:vc,defaultGroupProperties:Lo,defaultItemProperties:hA,defaultOperatorOptions:Gc,defaultRoot:kne,defaultRule:vA,defaultRuleProperties:xa,emptyProperties:Ane,getDefaultField:dA,getDefaultFieldSrc:hg,getDefaultOperator:p0,getDefaultSubField:pA},Symbol.toStringTag,{value:"Module"}));function ZS(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=Pne(t))||e){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(u){throw u},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a=!0,o=!1,s;return{s:function(){r=r.call(t)},n:function(){var u=r.next();return a=u.done,u},e:function(u){o=!0,s=u},f:function(){try{!a&&r.return!=null&&r.return()}finally{if(o)throw s}}}}function Pne(t,e){if(t){if(typeof t=="string")return eO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return eO(t,e)}}function eO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function tO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function rO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?tO(Object(r),!0).forEach(function(n){oe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):tO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var mA=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,a={errors:[],settings:{isForDisplay:n,isDebugMode:i}},o=ii(r,void 0,!1),s=yA(e,o,a,null);return a.errors.length&&console.warn("Errors while exporting to string:",a.errors),s},yA=function(e,r,n){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;if(e){var a=e.get("type");if(e.get("children1"),a==="group"||a==="rule_group")return Lne(e,r,n,i);if(a==="rule")return bA(e,r,n,i)}},Lne=function(e,r,n){var i,a,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,s=n.settings,l=s.isForDisplay,u=s.isDebugMode,c=e.get("type"),f=e.get("properties")||new lr,d=f.get("mode"),p=e.get("children1")||new Yi,v=c==="rule_group",h=v&&d=="array"?f.get("field"):null,g=c==="rule_group"?f.get("operator"):null,y=g?(i=(a=r.operators[g])===null||a===void 0?void 0:a.cardinality)!==null&&i!==void 0?i:1:void 0,m=v&&d==="array"&&y>=1,_=f.get("not"),b=p.map(function(I){return yA(I,r,n,h)}).filter(function(I){return typeof I<"u"});if(!(!m&&!b.size&&!u)){var S=f.get("conjunction");S||(S=wa(r));var O=r.conjunctions[S],x=b.size?O.formatConj.call(r.ctx,b,S,_,l):null,E;if(h){var A=bA(e,r,n,o,!0);if(A){var C,k=A.pop(),w=[x].concat(Ce(A));E=(C=r.settings.formatAggr).call.apply(C,[r.ctx].concat(Ce(w))),k&&(E=r.settings.formatReverse.call(r.ctx,E,null,null,null,null,l))}}else E=x;return u&&E==null&&(E="?"),E}},Fne=function(e,r,n,i,a){var o=n.settings;o.isForDisplay;var s=o.isDebugMode,l=r.get("field"),u=r.get("valueSrc"),c=r.get("valueType"),f=Me(e,l)||{},d=i||r.get("operator"),p=jt(e,d,l)||{},v=zr(p),h=r.get("value"),g=r.get("asyncListValues"),y=[],m=[],_,b;if(h!=null){b=h.map(function(x,E){var A=u?u.get(E):null,C=c?c.get(E):null,k=s?x:Ss(x,A,e),w=vr(e,l,d,A),I=_n(e,l,d,w,A,{forExport:!0}),L=vg(e,n,k,A,C,I,f,d,p,a,g);return L!==void 0&&(y.push(A),m.push(C)),L});var S=b.filter(function(x){return x===void 0}).size>0,O=!S&&b.size===v;O&&(_=v==1?b.first():b)}return s&&!_&&(_=v>1?new Yi(Array.from({length:v}).map(function(x,E){var A,C;return(A=(C=b)===null||C===void 0?void 0:C.get(E))!==null&&A!==void 0?A:"?"})):"?"),[_,y.length>1?y:y[0],m.length>1?m:m[0]]},Rne=function(e,r,n){var i=n.settings.isDebugMode,a=(r==null?void 0:r.labelForFormat)||e,o=zr(r),s;return o==0?s=function(u,c,f,d,p,v,h,g){return"".concat(u," ").concat(a)}:o==1?s=function(u,c,f,d,p,v,h,g){return i&&c==="?"&&f==="?"?u&&u!=="?"?"".concat(u," ?"):"?":"".concat(u," ").concat(a," ").concat(f)}:o==2&&(s=function(u,c,f,d,p,v,h,g){var y,m,_=f==null||(y=f.first)===null||y===void 0?void 0:y.call(f),b=f==null||(m=f.get)===null||m===void 0?void 0:m.call(f,1);return"".concat(u," ").concat(a," ").concat(_," AND ").concat(b)}),s},bA=function(e,r,n){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,o=n.settings,s=o.isForDisplay,l=o.isDebugMode,u=e.get("properties")||new lr,c=u.get("field"),f=u.get("fieldSrc"),d=u.get("operator"),p=u.get("operatorOptions");if(!((c==null||d==null)&&!l)){var v=Me(r,c)||{},h=jt(r,d,c)||{},g=h.reversedOp,y=jt(r,g,c)||{},m=!1,_=h.formatOp;if(!_&&g&&(_=y.formatOp,_)){m=!0;var b=[g,d];d=b[0],g=b[1];var S=[y,h];h=S[0],y=S[1]}if(l&&!d&&(d="?"),_||(_=Rne(d,h,n)),!!_){var O=f==="func"?SA(r,n,c,i):_A(r,n,c,i);if(O!=null){var x=Fne(r,u,n,d,i),E=ke(x,3),A=E[0],C=E[1],k=E[2];if(A!==void 0){var w=[O,d,A,C,k,ni(h,eu),p,s,v,m];if(a)return w;var I,L=(I=_).call.apply(I,[r.ctx].concat(w));return m&&(L=r.settings.formatReverse.call(r.ctx,L,d,g,h,y,s)),L}}}}},vg=function(e,r,n,i,a,o,s,l,u){var c=arguments.length>9&&arguments[9]!==void 0?arguments[9]:null,f=arguments.length>10?arguments[10]:void 0,d=r.settings,p=d.isForDisplay,v=d.isDebugMode;if(n===void 0)return v?(o==null?void 0:o.jsType)==="array"?[]:"?":void 0;var h;if(i=="field")h=_A(e,r,n,c);else if(i=="func")h=SA(e,r,n,c);else if(typeof(o==null?void 0:o.formatValue)=="function"){var g=o.formatValue,y=[n,rO(rO({},ga(s,["fieldSettings","listValues"])),{},{asyncListValues:f}),ni(o,_s),p];if(l&&(y.push(l),y.push(u)),i=="field"){var m=Me(e,n)||{};y.push(m)}h=g.call.apply(g,[e.ctx].concat(y))}else h=n;return h},_A=function(e,r,n){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,o=r.settings,s=o.isForDisplay,l=o.isDebugMode,u=e.settings;u.fieldSeparator;var c=u.fieldSeparatorDisplay,f=null;if(n){var d=Me(e,n)||{},p=Lr(n,e),v=Kc(n,e,a?i:null),h=v?v.join(c):null,g=d.label2||h,y=e.settings.formatField,m=Ga(n,e,r,a?i:null,{useTableName:!0});f=y(m,p,g,d,e,s)}else l&&(f="?");return f},SA=function(e,r,n){var i,a,o,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,l=r.settings,u=l.isForDisplay,c=l.isDebugMode,f=n==null||(i=n.get)===null||i===void 0?void 0:i.call(n,"func");if(!f)return c?"?()":void 0;var d=(a=n.get)===null||a===void 0?void 0:a.call(n,"args"),p=Wr(e,f);if(!p&&!c){r.errors.push("Func ".concat(f," is not defined in config"));return}var v=Lr(f,e),h=v[v.length-1],g=u&&(p==null?void 0:p.label)||h,y={},m=[],_=[],b={},S=p?Object.keys(p.args||{}):(d==null||(o=d.keySeq)===null||o===void 0?void 0:o.call(d).toArray())||[],O=ZS(S),x;try{for(O.s();!(x=O.n()).done;){var E,A=x.value,C=p==null?void 0:p.args[A],k=Me(e,C),w=C||{},I=w.defaultValue,L=w.isOptional,P=I!=null&&I.func?"func":"value",V=u&&(C==null?void 0:C.label)||A,$=d?d.get(A):void 0,U=$?$.get("value"):void 0,M=$?$.get("valueSrc"):void 0;M!=="func"&&(E=U)!==null&&E!==void 0&&E.toJS&&(U=U.toJS());var R=$?$.get("asyncListValues"):void 0,F=vg(e,r,U,M,C==null?void 0:C.type,k,C,null,null,s,R);U!=null&&F===void 0&&M!="func"&&r.errors.push("Can't format value of arg ".concat(A," for func ").concat(f));var N=void 0;if(F===void 0&&!L&&I!=null&&(N=vg(e,r,I,P,C==null?void 0:C.type,k,C,null,null,s,R),N===void 0)){P!="func"&&r.errors.push("Can't format default value of arg ".concat(A," for func ").concat(f));return}var B=F!=null?F:N;if(B!==void 0){if(m.length){var q=ZS(A),W;try{for(q.s();!(W=q.n()).done;){var D=ke(W.value,2),G=D[0],H=D[1];y[G]=void 0}}catch(se){q.e(se)}finally{q.f()}m=[]}y[A]=B,b[V]=B}else L||_.push(A),m.push([A,V])}}catch(se){O.e(se)}finally{O.f()}if(!(_.length&&!c)){var Y=null;if(typeof(p==null?void 0:p.formatFunc)=="function"){var K=p.formatFunc,ie=[y,u];Y=K.call.apply(K,[e.ctx].concat(ie))}else{var te=Object.entries(u?b:y).map(function(se){var ue=ke(se,2),fe=ue[0],de=ue[1];return u?"".concat(fe,": ").concat(de):"".concat(de)}).join(", ");Y="".concat(g,"(").concat(te,")")}return Y}},OA="EMPTY_GROUP",xA="EMPTY_RULE_GROUP",wA="EMPTY_QUERY",EA="EMPTY_CASE",CA="NO_CONFIG_FOR_FIELD",TA="NO_CONFIG_FOR_OPERATOR",$ne="FIXED_OPERATOR",kA="NO_CONFIG_FOR_FUNCTION",IA="INVALID_VALUE",AA="INVALID_FUNC_ARG_VALUE",jA="UNSUPPORTED_FIELD_TYPE",PA="UNSUPPORTED_OPERATOR_FOR_FIELD",LA="INVALID_VALUE_SRC",gg="INCOMPLETE_RULE",FA="INCOMPLETE_LHS",RA="INCOMPLETE_RHS",mg="BAD_MULTISELECT_VALUES",$A="BAD_SELECT_VALUE",NA="INCORRECT_VALUE_TYPE",DA="INCORRECT_VALUE_JS_TYPE",MA="VALUE_LENGTH_CONSTRAINT_FAIL",yg="VALUE_MIN_CONSTRAINT_FAIL",bg="VALUE_MAX_CONSTRAINT_FAIL",VA="NO_CONFIG_FOR_FIELD_VALUE",BA="CANT_COMPARE_FIELD_WITH_ITSELF",qA="CANT_COMPARE_FIELD_WITH_FIELD",HA="INCORRECT_FIELD_TYPE",zA="UNSUPPORTED_FUNCTION_FOR_FIELD",UA="REQUIRED_FUNCTION_ARG",WA="INCORRECT_FUNCTION_RETURN_TYPE",GA="INVALID_RANGE",ja="ITEM_POSITION",YA="ITEM_POSITION_ROOT",KA="ITEM_POSITION_WITH_INDEX_PATH",JA="ITEM_POSITION_IN_CASE",_g="range";const nt=t=>typeof t=="string",xu=()=>{let t,e;const r=new Promise((n,i)=>{t=n,e=i});return r.resolve=t,r.reject=e,r},nO=t=>t==null?"":""+t,Nne=(t,e,r)=>{t.forEach(n=>{e[n]&&(r[n]=e[n])})},Dne=/###/g,iO=t=>t&&t.indexOf("###")>-1?t.replace(Dne,"."):t,aO=t=>!t||nt(t),Wu=(t,e,r)=>{const n=nt(e)?e.split("."):e;let i=0;for(;i<n.length-1;){if(aO(t))return{};const a=iO(n[i]);!t[a]&&r&&(t[a]=new r),Object.prototype.hasOwnProperty.call(t,a)?t=t[a]:t={},++i}return aO(t)?{}:{obj:t,k:iO(n[i])}},oO=(t,e,r)=>{const{obj:n,k:i}=Wu(t,e,Object);if(n!==void 0||e.length===1){n[i]=r;return}let a=e[e.length-1],o=e.slice(0,e.length-1),s=Wu(t,o,Object);for(;s.obj===void 0&&o.length;)a="".concat(o[o.length-1],".").concat(a),o=o.slice(0,o.length-1),s=Wu(t,o,Object),s&&s.obj&&typeof s.obj["".concat(s.k,".").concat(a)]<"u"&&(s.obj=void 0);s.obj["".concat(s.k,".").concat(a)]=r},Mne=(t,e,r,n)=>{const{obj:i,k:a}=Wu(t,e,Object);i[a]=i[a]||[],i[a].push(r)},Fd=(t,e)=>{const{obj:r,k:n}=Wu(t,e);if(r)return r[n]},Vne=(t,e,r)=>{const n=Fd(t,r);return n!==void 0?n:Fd(e,r)},QA=(t,e,r)=>{for(const n in e)n!=="__proto__"&&n!=="constructor"&&(n in t?nt(t[n])||t[n]instanceof String||nt(e[n])||e[n]instanceof String?r&&(t[n]=e[n]):QA(t[n],e[n],r):t[n]=e[n]);return t},Fs=t=>t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var Bne={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const qne=t=>nt(t)?t.replace(/[&<>"'\/]/g,e=>Bne[e]):t;class Hne{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const r=this.regExpMap.get(e);if(r!==void 0)return r;const n=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,n),this.regExpQueue.push(e),n}}const zne=[" ",",","?","!",";"],Une=new Hne(20),Wne=(t,e,r)=>{e=e||"",r=r||"";const n=zne.filter(o=>e.indexOf(o)<0&&r.indexOf(o)<0);if(n.length===0)return!0;const i=Une.getRegExp("(".concat(n.map(o=>o==="?"?"\\?":o).join("|"),")"));let a=!i.test(t);if(!a){const o=t.indexOf(r);o>0&&!i.test(t.substring(0,o))&&(a=!0)}return a},Sg=function(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!t)return;if(t[e])return t[e];const n=e.split(r);let i=t;for(let a=0;a<n.length;){if(!i||typeof i!="object")return;let o,s="";for(let l=a;l<n.length;++l)if(l!==a&&(s+=r),s+=n[l],o=i[s],o!==void 0){if(["string","number","boolean"].indexOf(typeof o)>-1&&l<n.length-1)continue;a+=l-a+1;break}i=o}return i},Rd=t=>t&&t.replace("_","-"),Gne={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){console&&console[t]&&console[t].apply(console,e)}};class $d{constructor(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(e,r)}init(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=r.prefix||"i18next:",this.logger=e||Gne,this.options=r,this.debug=r.debug}log(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return this.forward(r,"log","",!0)}warn(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return this.forward(r,"warn","",!0)}error(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return this.forward(r,"error","")}deprecate(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return this.forward(r,"warn","WARNING DEPRECATED: ",!0)}forward(e,r,n,i){return i&&!this.debug?null:(nt(e[0])&&(e[0]="".concat(n).concat(this.prefix," ").concat(e[0])),this.logger[r](e))}create(e){return new $d(this.logger,{prefix:"".concat(this.prefix,":").concat(e,":"),...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new $d(this.logger,e)}}var ua=new $d;class Yp{constructor(){this.observers={}}on(e,r){return e.split(" ").forEach(n=>{this.observers[n]||(this.observers[n]=new Map);const i=this.observers[n].get(r)||0;this.observers[n].set(r,i+1)}),this}off(e,r){if(this.observers[e]){if(!r){delete this.observers[e];return}this.observers[e].delete(r)}}emit(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];this.observers[e]&&Array.from(this.observers[e].entries()).forEach(o=>{let[s,l]=o;for(let u=0;u<l;u++)s(...n)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(o=>{let[s,l]=o;for(let u=0;u<l;u++)s.apply(s,[e,...n])})}}class sO extends Yp{constructor(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=e||{},this.options=r,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const r=this.options.ns.indexOf(e);r>-1&&this.options.ns.splice(r,1)}getResource(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const a=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,o=i.ignoreJSONStructure!==void 0?i.ignoreJSONStructure:this.options.ignoreJSONStructure;let s;e.indexOf(".")>-1?s=e.split("."):(s=[e,r],n&&(Array.isArray(n)?s.push(...n):nt(n)&&a?s.push(...n.split(a)):s.push(n)));const l=Fd(this.data,s);return!l&&!r&&!n&&e.indexOf(".")>-1&&(e=s[0],r=s[1],n=s.slice(2).join(".")),l||!o||!nt(n)?l:Sg(this.data&&this.data[e]&&this.data[e][r],n,a)}addResource(e,r,n,i){let a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const o=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator;let s=[e,r];n&&(s=s.concat(o?n.split(o):n)),e.indexOf(".")>-1&&(s=e.split("."),i=r,r=s[1]),this.addNamespaces(r),oO(this.data,s,i),a.silent||this.emit("added",e,r,n,i)}addResources(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const a in n)(nt(n[a])||Array.isArray(n[a]))&&this.addResource(e,r,a,n[a],{silent:!0});i.silent||this.emit("added",e,r,n)}addResourceBundle(e,r,n,i,a){let o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},s=[e,r];e.indexOf(".")>-1&&(s=e.split("."),i=n,n=r,r=s[1]),this.addNamespaces(r);let l=Fd(this.data,s)||{};o.skipCopy||(n=JSON.parse(JSON.stringify(n))),i?QA(l,n,a):l={...l,...n},oO(this.data,s,l),o.silent||this.emit("added",e,r,n)}removeResourceBundle(e,r){this.hasResourceBundle(e,r)&&delete this.data[e][r],this.removeNamespaces(r),this.emit("removed",e,r)}hasResourceBundle(e,r){return this.getResource(e,r)!==void 0}getResourceBundle(e,r){return r||(r=this.options.defaultNS),this.options.compatibilityAPI==="v1"?{...this.getResource(e,r)}:this.getResource(e,r)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const r=this.getDataByLanguage(e);return!!(r&&Object.keys(r)||[]).find(i=>r[i]&&Object.keys(r[i]).length>0)}toJSON(){return this.data}}var XA={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,r,n,i){return t.forEach(a=>{this.processors[a]&&(e=this.processors[a].process(e,r,n,i))}),e}};const lO={};class Nd extends Yp{constructor(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),Nne(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=r,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=ua.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(e==null)return!1;const n=this.resolve(e,r);return n&&n.res!==void 0}extractFromKey(e,r){let n=r.nsSeparator!==void 0?r.nsSeparator:this.options.nsSeparator;n===void 0&&(n=":");const i=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator;let a=r.ns||this.options.defaultNS||[];const o=n&&e.indexOf(n)>-1,s=!this.options.userDefinedKeySeparator&&!r.keySeparator&&!this.options.userDefinedNsSeparator&&!r.nsSeparator&&!Wne(e,n,i);if(o&&!s){const l=e.match(this.interpolator.nestingRegexp);if(l&&l.length>0)return{key:e,namespaces:a};const u=e.split(n);(n!==i||n===i&&this.options.ns.indexOf(u[0])>-1)&&(a=u.shift()),e=u.join(i)}return nt(a)&&(a=[a]),{key:e,namespaces:a}}translate(e,r,n){if(typeof r!="object"&&this.options.overloadTranslationOptionHandler&&(r=this.options.overloadTranslationOptionHandler(arguments)),typeof r=="object"&&(r={...r}),r||(r={}),e==null)return"";Array.isArray(e)||(e=[String(e)]);const i=r.returnDetails!==void 0?r.returnDetails:this.options.returnDetails,a=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator,{key:o,namespaces:s}=this.extractFromKey(e[e.length-1],r),l=s[s.length-1],u=r.lng||this.language,c=r.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(u&&u.toLowerCase()==="cimode"){if(c){const b=r.nsSeparator||this.options.nsSeparator;return i?{res:"".concat(l).concat(b).concat(o),usedKey:o,exactUsedKey:o,usedLng:u,usedNS:l,usedParams:this.getUsedParamsDetails(r)}:"".concat(l).concat(b).concat(o)}return i?{res:o,usedKey:o,exactUsedKey:o,usedLng:u,usedNS:l,usedParams:this.getUsedParamsDetails(r)}:o}const f=this.resolve(e,r);let d=f&&f.res;const p=f&&f.usedKey||o,v=f&&f.exactUsedKey||o,h=Object.prototype.toString.apply(d),g=["[object Number]","[object Function]","[object RegExp]"],y=r.joinArrays!==void 0?r.joinArrays:this.options.joinArrays,m=!this.i18nFormat||this.i18nFormat.handleAsObject,_=!nt(d)&&typeof d!="boolean"&&typeof d!="number";if(m&&d&&_&&g.indexOf(h)<0&&!(nt(y)&&Array.isArray(d))){if(!r.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const b=this.options.returnedObjectHandler?this.options.returnedObjectHandler(p,d,{...r,ns:s}):"key '".concat(o," (").concat(this.language,")' returned an object instead of string.");return i?(f.res=b,f.usedParams=this.getUsedParamsDetails(r),f):b}if(a){const b=Array.isArray(d),S=b?[]:{},O=b?v:p;for(const x in d)if(Object.prototype.hasOwnProperty.call(d,x)){const E="".concat(O).concat(a).concat(x);S[x]=this.translate(E,{...r,joinArrays:!1,ns:s}),S[x]===E&&(S[x]=d[x])}d=S}}else if(m&&nt(y)&&Array.isArray(d))d=d.join(y),d&&(d=this.extendTranslation(d,e,r,n));else{let b=!1,S=!1;const O=r.count!==void 0&&!nt(r.count),x=Nd.hasDefaultValue(r),E=O?this.pluralResolver.getSuffix(u,r.count,r):"",A=r.ordinal&&O?this.pluralResolver.getSuffix(u,r.count,{ordinal:!1}):"",C=O&&!r.ordinal&&r.count===0&&this.pluralResolver.shouldUseIntlApi(),k=C&&r["defaultValue".concat(this.options.pluralSeparator,"zero")]||r["defaultValue".concat(E)]||r["defaultValue".concat(A)]||r.defaultValue;!this.isValidLookup(d)&&x&&(b=!0,d=k),this.isValidLookup(d)||(S=!0,d=o);const I=(r.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&S?void 0:d,L=x&&k!==d&&this.options.updateMissing;if(S||b||L){if(this.logger.log(L?"updateKey":"missingKey",u,l,o,L?k:d),a){const U=this.resolve(o,{...r,keySeparator:!1});U&&U.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let P=[];const V=this.languageUtils.getFallbackCodes(this.options.fallbackLng,r.lng||this.language);if(this.options.saveMissingTo==="fallback"&&V&&V[0])for(let U=0;U<V.length;U++)P.push(V[U]);else this.options.saveMissingTo==="all"?P=this.languageUtils.toResolveHierarchy(r.lng||this.language):P.push(r.lng||this.language);const $=(U,M,R)=>{const F=x&&R!==d?R:I;this.options.missingKeyHandler?this.options.missingKeyHandler(U,l,M,F,L,r):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(U,l,M,F,L,r),this.emit("missingKey",U,l,M,d)};this.options.saveMissing&&(this.options.saveMissingPlurals&&O?P.forEach(U=>{const M=this.pluralResolver.getSuffixes(U,r);C&&r["defaultValue".concat(this.options.pluralSeparator,"zero")]&&M.indexOf("".concat(this.options.pluralSeparator,"zero"))<0&&M.push("".concat(this.options.pluralSeparator,"zero")),M.forEach(R=>{$([U],o+R,r["defaultValue".concat(R)]||k)})}):$(P,o,k))}d=this.extendTranslation(d,e,r,f,n),S&&d===o&&this.options.appendNamespaceToMissingKey&&(d="".concat(l,":").concat(o)),(S||b)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?d=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?"".concat(l,":").concat(o):o,b?d:void 0):d=this.options.parseMissingKeyHandler(d))}return i?(f.res=d,f.usedParams=this.getUsedParamsDetails(r),f):d}extendTranslation(e,r,n,i,a){var o=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...n},n.lng||this.language||i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init({...n,interpolation:{...this.options.interpolation,...n.interpolation}});const u=nt(e)&&(n&&n.interpolation&&n.interpolation.skipOnVariables!==void 0?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let c;if(u){const d=e.match(this.interpolator.nestingRegexp);c=d&&d.length}let f=n.replace&&!nt(n.replace)?n.replace:n;if(this.options.interpolation.defaultVariables&&(f={...this.options.interpolation.defaultVariables,...f}),e=this.interpolator.interpolate(e,f,n.lng||this.language||i.usedLng,n),u){const d=e.match(this.interpolator.nestingRegexp),p=d&&d.length;c<p&&(n.nest=!1)}!n.lng&&this.options.compatibilityAPI!=="v1"&&i&&i.res&&(n.lng=this.language||i.usedLng),n.nest!==!1&&(e=this.interpolator.nest(e,function(){for(var d=arguments.length,p=new Array(d),v=0;v<d;v++)p[v]=arguments[v];return a&&a[0]===p[0]&&!n.context?(o.logger.warn("It seems you are nesting recursively key: ".concat(p[0]," in key: ").concat(r[0])),null):o.translate(...p,r)},n)),n.interpolation&&this.interpolator.reset()}const s=n.postProcess||this.options.postProcess,l=nt(s)?[s]:s;return e!=null&&l&&l.length&&n.applyPostProcessor!==!1&&(e=XA.handle(l,e,r,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...i,usedParams:this.getUsedParamsDetails(n)},...n}:n,this)),e}resolve(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n,i,a,o,s;return nt(e)&&(e=[e]),e.forEach(l=>{if(this.isValidLookup(n))return;const u=this.extractFromKey(l,r),c=u.key;i=c;let f=u.namespaces;this.options.fallbackNS&&(f=f.concat(this.options.fallbackNS));const d=r.count!==void 0&&!nt(r.count),p=d&&!r.ordinal&&r.count===0&&this.pluralResolver.shouldUseIntlApi(),v=r.context!==void 0&&(nt(r.context)||typeof r.context=="number")&&r.context!=="",h=r.lngs?r.lngs:this.languageUtils.toResolveHierarchy(r.lng||this.language,r.fallbackLng);f.forEach(g=>{this.isValidLookup(n)||(s=g,!lO["".concat(h[0],"-").concat(g)]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(s)&&(lO["".concat(h[0],"-").concat(g)]=!0,this.logger.warn('key "'.concat(i,'" for languages "').concat(h.join(", "),'" won\'t get resolved as namespace "').concat(s,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),h.forEach(y=>{if(this.isValidLookup(n))return;o=y;const m=[c];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(m,c,y,g,r);else{let b;d&&(b=this.pluralResolver.getSuffix(y,r.count,r));const S="".concat(this.options.pluralSeparator,"zero"),O="".concat(this.options.pluralSeparator,"ordinal").concat(this.options.pluralSeparator);if(d&&(m.push(c+b),r.ordinal&&b.indexOf(O)===0&&m.push(c+b.replace(O,this.options.pluralSeparator)),p&&m.push(c+S)),v){const x="".concat(c).concat(this.options.contextSeparator).concat(r.context);m.push(x),d&&(m.push(x+b),r.ordinal&&b.indexOf(O)===0&&m.push(x+b.replace(O,this.options.pluralSeparator)),p&&m.push(x+S))}}let _;for(;_=m.pop();)this.isValidLookup(n)||(a=_,n=this.getResource(y,g,_,r))}))})}),{res:n,usedKey:i,exactUsedKey:a,usedLng:o,usedNS:s}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,r,n,i):this.resourceStore.getResource(e,r,n,i)}getUsedParamsDetails(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const r=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],n=e.replace&&!nt(e.replace);let i=n?e.replace:e;if(n&&typeof e.count<"u"&&(i.count=e.count),this.options.interpolation.defaultVariables&&(i={...this.options.interpolation.defaultVariables,...i}),!n){i={...i};for(const a of r)delete i[a]}return i}static hasDefaultValue(e){const r="defaultValue";for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&r===n.substring(0,r.length)&&e[n]!==void 0)return!0;return!1}}const Qh=t=>t.charAt(0).toUpperCase()+t.slice(1);class uO{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=ua.create("languageUtils")}getScriptPartFromCode(e){if(e=Rd(e),!e||e.indexOf("-")<0)return null;const r=e.split("-");return r.length===2||(r.pop(),r[r.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(r.join("-"))}getLanguagePartFromCode(e){if(e=Rd(e),!e||e.indexOf("-")<0)return e;const r=e.split("-");return this.formatLanguageCode(r[0])}formatLanguageCode(e){if(nt(e)&&e.indexOf("-")>-1){if(typeof Intl<"u"&&typeof Intl.getCanonicalLocales<"u")try{let i=Intl.getCanonicalLocales(e)[0];if(i&&this.options.lowerCaseLng&&(i=i.toLowerCase()),i)return i}catch(i){}const r=["hans","hant","latn","cyrl","cans","mong","arab"];let n=e.split("-");return this.options.lowerCaseLng?n=n.map(i=>i.toLowerCase()):n.length===2?(n[0]=n[0].toLowerCase(),n[1]=n[1].toUpperCase(),r.indexOf(n[1].toLowerCase())>-1&&(n[1]=Qh(n[1].toLowerCase()))):n.length===3&&(n[0]=n[0].toLowerCase(),n[1].length===2&&(n[1]=n[1].toUpperCase()),n[0]!=="sgn"&&n[2].length===2&&(n[2]=n[2].toUpperCase()),r.indexOf(n[1].toLowerCase())>-1&&(n[1]=Qh(n[1].toLowerCase())),r.indexOf(n[2].toLowerCase())>-1&&(n[2]=Qh(n[2].toLowerCase()))),n.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let r;return e.forEach(n=>{if(r)return;const i=this.formatLanguageCode(n);(!this.options.supportedLngs||this.isSupportedCode(i))&&(r=i)}),!r&&this.options.supportedLngs&&e.forEach(n=>{if(r)return;const i=this.getLanguagePartFromCode(n);if(this.isSupportedCode(i))return r=i;r=this.options.supportedLngs.find(a=>{if(a===i)return a;if(!(a.indexOf("-")<0&&i.indexOf("-")<0)&&(a.indexOf("-")>0&&i.indexOf("-")<0&&a.substring(0,a.indexOf("-"))===i||a.indexOf(i)===0&&i.length>1))return a})}),r||(r=this.getFallbackCodes(this.options.fallbackLng)[0]),r}getFallbackCodes(e,r){if(!e)return[];if(typeof e=="function"&&(e=e(r)),nt(e)&&(e=[e]),Array.isArray(e))return e;if(!r)return e.default||[];let n=e[r];return n||(n=e[this.getScriptPartFromCode(r)]),n||(n=e[this.formatLanguageCode(r)]),n||(n=e[this.getLanguagePartFromCode(r)]),n||(n=e.default),n||[]}toResolveHierarchy(e,r){const n=this.getFallbackCodes(r||this.options.fallbackLng||[],e),i=[],a=o=>{o&&(this.isSupportedCode(o)?i.push(o):this.logger.warn("rejecting language code not found in supportedLngs: ".concat(o)))};return nt(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&a(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&a(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&a(this.getLanguagePartFromCode(e))):nt(e)&&a(this.formatLanguageCode(e)),n.forEach(o=>{i.indexOf(o)<0&&a(this.formatLanguageCode(o))}),i}}let Yne=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],Kne={1:t=>+(t>1),2:t=>+(t!=1),3:t=>0,4:t=>t%10==1&&t%100!=11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2,5:t=>t==0?0:t==1?1:t==2?2:t%100>=3&&t%100<=10?3:t%100>=11?4:5,6:t=>t==1?0:t>=2&&t<=4?1:2,7:t=>t==1?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2,8:t=>t==1?0:t==2?1:t!=8&&t!=11?2:3,9:t=>+(t>=2),10:t=>t==1?0:t==2?1:t<7?2:t<11?3:4,11:t=>t==1||t==11?0:t==2||t==12?1:t>2&&t<20?2:3,12:t=>+(t%10!=1||t%100==11),13:t=>+(t!==0),14:t=>t==1?0:t==2?1:t==3?2:3,15:t=>t%10==1&&t%100!=11?0:t%10>=2&&(t%100<10||t%100>=20)?1:2,16:t=>t%10==1&&t%100!=11?0:t!==0?1:2,17:t=>t==1||t%10==1&&t%100!=11?0:1,18:t=>t==0?0:t==1?1:2,19:t=>t==1?0:t==0||t%100>1&&t%100<11?1:t%100>10&&t%100<20?2:3,20:t=>t==1?0:t==0||t%100>0&&t%100<20?1:2,21:t=>t%100==1?1:t%100==2?2:t%100==3||t%100==4?3:0,22:t=>t==1?0:t==2?1:(t<0||t>10)&&t%10==0?2:3};const Jne=["v1","v2","v3"],Qne=["v4"],cO={zero:0,one:1,two:2,few:3,many:4,other:5},Xne=()=>{const t={};return Yne.forEach(e=>{e.lngs.forEach(r=>{t[r]={numbers:e.nr,plurals:Kne[e.fc]}})}),t};class Zne{constructor(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=e,this.options=r,this.logger=ua.create("pluralResolver"),(!this.options.compatibilityJSON||Qne.includes(this.options.compatibilityJSON))&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=Xne(),this.pluralRulesCache={}}addRule(e,r){this.rules[e]=r}clearCache(){this.pluralRulesCache={}}getRule(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi())try{const n=Rd(e==="dev"?"en":e),i=r.ordinal?"ordinal":"cardinal",a=JSON.stringify({cleanedCode:n,type:i});if(a in this.pluralRulesCache)return this.pluralRulesCache[a];const o=new Intl.PluralRules(n,{type:i});return this.pluralRulesCache[a]=o,o}catch(n){return}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}needsPlural(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=this.getRule(e,r);return this.shouldUseIntlApi()?n&&n.resolvedOptions().pluralCategories.length>1:n&&n.numbers.length>1}getPluralFormsOfKey(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(e,n).map(i=>"".concat(r).concat(i))}getSuffixes(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=this.getRule(e,r);return n?this.shouldUseIntlApi()?n.resolvedOptions().pluralCategories.sort((i,a)=>cO[i]-cO[a]).map(i=>"".concat(this.options.prepend).concat(r.ordinal?"ordinal".concat(this.options.prepend):"").concat(i)):n.numbers.map(i=>this.getSuffix(e,i,r)):[]}getSuffix(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const i=this.getRule(e,n);return i?this.shouldUseIntlApi()?"".concat(this.options.prepend).concat(n.ordinal?"ordinal".concat(this.options.prepend):"").concat(i.select(r)):this.getSuffixRetroCompatible(i,r):(this.logger.warn("no plural rule found for: ".concat(e)),"")}getSuffixRetroCompatible(e,r){const n=e.noAbs?e.plurals(r):e.plurals(Math.abs(r));let i=e.numbers[n];this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1&&(i===2?i="plural":i===1&&(i=""));const a=()=>this.options.prepend&&i.toString()?this.options.prepend+i.toString():i.toString();return this.options.compatibilityJSON==="v1"?i===1?"":typeof i=="number"?"_plural_".concat(i.toString()):a():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1?a():this.options.prepend&&n.toString()?this.options.prepend+n.toString():n.toString()}shouldUseIntlApi(){return!Jne.includes(this.options.compatibilityJSON)}}const fO=function(t,e,r){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,a=Vne(t,e,r);return!a&&i&&nt(r)&&(a=Sg(t,r,n),a===void 0&&(a=Sg(e,r,n))),a},Xh=t=>t.replace(/\$/g,"$$$$");class eie{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=ua.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||(r=>r),this.init(e)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});const{escape:r,escapeValue:n,useRawValueToEscape:i,prefix:a,prefixEscaped:o,suffix:s,suffixEscaped:l,formatSeparator:u,unescapeSuffix:c,unescapePrefix:f,nestingPrefix:d,nestingPrefixEscaped:p,nestingSuffix:v,nestingSuffixEscaped:h,nestingOptionsSeparator:g,maxReplaces:y,alwaysFormat:m}=e.interpolation;this.escape=r!==void 0?r:qne,this.escapeValue=n!==void 0?n:!0,this.useRawValueToEscape=i!==void 0?i:!1,this.prefix=a?Fs(a):o||"{{",this.suffix=s?Fs(s):l||"}}",this.formatSeparator=u||",",this.unescapePrefix=c?"":f||"-",this.unescapeSuffix=this.unescapePrefix?"":c||"",this.nestingPrefix=d?Fs(d):p||Fs("$t("),this.nestingSuffix=v?Fs(v):h||Fs(")"),this.nestingOptionsSeparator=g||",",this.maxReplaces=y||1e3,this.alwaysFormat=m!==void 0?m:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(r,n)=>r&&r.source===n?(r.lastIndex=0,r):new RegExp(n,"g");this.regexp=e(this.regexp,"".concat(this.prefix,"(.+?)").concat(this.suffix)),this.regexpUnescape=e(this.regexpUnescape,"".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix)),this.nestingRegexp=e(this.nestingRegexp,"".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix))}interpolate(e,r,n,i){let a,o,s;const l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},u=p=>{if(p.indexOf(this.formatSeparator)<0){const y=fO(r,l,p,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(y,void 0,n,{...i,...r,interpolationkey:p}):y}const v=p.split(this.formatSeparator),h=v.shift().trim(),g=v.join(this.formatSeparator).trim();return this.format(fO(r,l,h,this.options.keySeparator,this.options.ignoreJSONStructure),g,n,{...i,...r,interpolationkey:h})};this.resetRegExp();const c=i&&i.missingInterpolationHandler||this.options.missingInterpolationHandler,f=i&&i.interpolation&&i.interpolation.skipOnVariables!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:p=>Xh(p)},{regex:this.regexp,safeValue:p=>this.escapeValue?Xh(this.escape(p)):Xh(p)}].forEach(p=>{for(s=0;a=p.regex.exec(e);){const v=a[1].trim();if(o=u(v),o===void 0)if(typeof c=="function"){const g=c(e,a,i);o=nt(g)?g:""}else if(i&&Object.prototype.hasOwnProperty.call(i,v))o="";else if(f){o=a[0];continue}else this.logger.warn("missed to pass in variable ".concat(v," for interpolating ").concat(e)),o="";else!nt(o)&&!this.useRawValueToEscape&&(o=nO(o));const h=p.safeValue(o);if(e=e.replace(a[0],h),f?(p.regex.lastIndex+=o.length,p.regex.lastIndex-=a[0].length):p.regex.lastIndex=0,s++,s>=this.maxReplaces)break}}),e}nest(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i,a,o;const s=(l,u)=>{const c=this.nestingOptionsSeparator;if(l.indexOf(c)<0)return l;const f=l.split(new RegExp("".concat(c,"[ ]*{")));let d="{".concat(f[1]);l=f[0],d=this.interpolate(d,o);const p=d.match(/'/g),v=d.match(/"/g);(p&&p.length%2===0&&!v||v.length%2!==0)&&(d=d.replace(/'/g,'"'));try{o=JSON.parse(d),u&&(o={...u,...o})}catch(h){return this.logger.warn("failed parsing options string in nesting for key ".concat(l),h),"".concat(l).concat(c).concat(d)}return o.defaultValue&&o.defaultValue.indexOf(this.prefix)>-1&&delete o.defaultValue,l};for(;i=this.nestingRegexp.exec(e);){let l=[];o={...n},o=o.replace&&!nt(o.replace)?o.replace:o,o.applyPostProcessor=!1,delete o.defaultValue;let u=!1;if(i[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(i[1])){const c=i[1].split(this.formatSeparator).map(f=>f.trim());i[1]=c.shift(),l=c,u=!0}if(a=r(s.call(this,i[1].trim(),o),o),a&&i[0]===e&&!nt(a))return a;nt(a)||(a=nO(a)),a||(this.logger.warn("missed to resolve ".concat(i[1]," for nesting ").concat(e)),a=""),u&&(a=l.reduce((c,f)=>this.format(c,f,n.lng,{...n,interpolationkey:i[1].trim()}),a.trim())),e=e.replace(i[0],a),this.regexp.lastIndex=0}return e}}const tie=t=>{let e=t.toLowerCase().trim();const r={};if(t.indexOf("(")>-1){const n=t.split("(");e=n[0].toLowerCase().trim();const i=n[1].substring(0,n[1].length-1);e==="currency"&&i.indexOf(":")<0?r.currency||(r.currency=i.trim()):e==="relativetime"&&i.indexOf(":")<0?r.range||(r.range=i.trim()):i.split(";").forEach(o=>{if(o){const[s,...l]=o.split(":"),u=l.join(":").trim().replace(/^'+|'+$/g,""),c=s.trim();r[c]||(r[c]=u),u==="false"&&(r[c]=!1),u==="true"&&(r[c]=!0),isNaN(u)||(r[c]=parseInt(u,10))}})}return{formatName:e,formatOptions:r}},Rs=t=>{const e={};return(r,n,i)=>{let a=i;i&&i.interpolationkey&&i.formatParams&&i.formatParams[i.interpolationkey]&&i[i.interpolationkey]&&(a={...a,[i.interpolationkey]:void 0});const o=n+JSON.stringify(a);let s=e[o];return s||(s=t(Rd(n),i),e[o]=s),s(r)}};class rie{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=ua.create("formatter"),this.options=e,this.formats={number:Rs((r,n)=>i=>new Intl.NumberFormat(r,{...n}).format(i)),currency:Rs((r,n)=>i=>new Intl.NumberFormat(r,{...n,style:"currency"}).format(i)),datetime:Rs((r,n)=>i=>new Intl.DateTimeFormat(r,{...n}).format(i)),relativetime:Rs((r,n)=>i=>new Intl.RelativeTimeFormat(r,{...n}).format(i,n.range||"day")),list:Rs((r,n)=>i=>new Intl.ListFormat(r,{...n}).format(i))},this.init(e)}init(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};this.formatSeparator=r.interpolation.formatSeparator||","}add(e,r){this.formats[e.toLowerCase().trim()]=r}addCached(e,r){this.formats[e.toLowerCase().trim()]=Rs(r)}format(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const a=r.split(this.formatSeparator);if(a.length>1&&a[0].indexOf("(")>1&&a[0].indexOf(")")<0&&a.find(s=>s.indexOf(")")>-1)){const s=a.findIndex(l=>l.indexOf(")")>-1);a[0]=[a[0],...a.splice(1,s)].join(this.formatSeparator)}return a.reduce((s,l)=>{const{formatName:u,formatOptions:c}=tie(l);if(this.formats[u]){let f=s;try{const d=i&&i.formatParams&&i.formatParams[i.interpolationkey]||{},p=d.locale||d.lng||i.locale||i.lng||n;f=this.formats[u](s,p,{...c,...i,...d})}catch(d){this.logger.warn(d)}return f}else this.logger.warn("there was no format function for ".concat(u));return s},e)}}const nie=(t,e)=>{t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)};class iie extends Yp{constructor(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=e,this.store=r,this.services=n,this.languageUtils=n.languageUtils,this.options=i,this.logger=ua.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=i.maxParallelReads||10,this.readingCalls=0,this.maxRetries=i.maxRetries>=0?i.maxRetries:5,this.retryTimeout=i.retryTimeout>=1?i.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(n,i.backend,i)}queueLoad(e,r,n,i){const a={},o={},s={},l={};return e.forEach(u=>{let c=!0;r.forEach(f=>{const d="".concat(u,"|").concat(f);!n.reload&&this.store.hasResourceBundle(u,f)?this.state[d]=2:this.state[d]<0||(this.state[d]===1?o[d]===void 0&&(o[d]=!0):(this.state[d]=1,c=!1,o[d]===void 0&&(o[d]=!0),a[d]===void 0&&(a[d]=!0),l[f]===void 0&&(l[f]=!0)))}),c||(s[u]=!0)}),(Object.keys(a).length||Object.keys(o).length)&&this.queue.push({pending:o,pendingCount:Object.keys(o).length,loaded:{},errors:[],callback:i}),{toLoad:Object.keys(a),pending:Object.keys(o),toLoadLanguages:Object.keys(s),toLoadNamespaces:Object.keys(l)}}loaded(e,r,n){const i=e.split("|"),a=i[0],o=i[1];r&&this.emit("failedLoading",a,o,r),!r&&n&&this.store.addResourceBundle(a,o,n,void 0,void 0,{skipCopy:!0}),this.state[e]=r?-1:2,r&&n&&(this.state[e]=0);const s={};this.queue.forEach(l=>{Mne(l.loaded,[a],o),nie(l,e),r&&l.errors.push(r),l.pendingCount===0&&!l.done&&(Object.keys(l.loaded).forEach(u=>{s[u]||(s[u]={});const c=l.loaded[u];c.length&&c.forEach(f=>{s[u][f]===void 0&&(s[u][f]=!0)})}),l.done=!0,l.errors.length?l.callback(l.errors):l.callback())}),this.emit("loaded",s),this.queue=this.queue.filter(l=>!l.done)}read(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,o=arguments.length>5?arguments[5]:void 0;if(!e.length)return o(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:r,fcName:n,tried:i,wait:a,callback:o});return}this.readingCalls++;const s=(u,c)=>{if(this.readingCalls--,this.waitingReads.length>0){const f=this.waitingReads.shift();this.read(f.lng,f.ns,f.fcName,f.tried,f.wait,f.callback)}if(u&&c&&i<this.maxRetries){setTimeout(()=>{this.read.call(this,e,r,n,i+1,a*2,o)},a);return}o(u,c)},l=this.backend[n].bind(this.backend);if(l.length===2){try{const u=l(e,r);u&&typeof u.then=="function"?u.then(c=>s(null,c)).catch(s):s(null,u)}catch(u){s(u)}return}return l(e,r,s)}prepareLoading(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();nt(e)&&(e=this.languageUtils.toResolveHierarchy(e)),nt(r)&&(r=[r]);const a=this.queueLoad(e,r,n,i);if(!a.toLoad.length)return a.pending.length||i(),null;a.toLoad.forEach(o=>{this.loadOne(o)})}load(e,r,n){this.prepareLoading(e,r,{},n)}reload(e,r,n){this.prepareLoading(e,r,{reload:!0},n)}loadOne(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const n=e.split("|"),i=n[0],a=n[1];this.read(i,a,"read",void 0,void 0,(o,s)=>{o&&this.logger.warn("".concat(r,"loading namespace ").concat(a," for language ").concat(i," failed"),o),!o&&s&&this.logger.log("".concat(r,"loaded namespace ").concat(a," for language ").concat(i),s),this.loaded(e,o,s)})}saveMissing(e,r,n,i,a){let o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},s=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(r)){this.logger.warn('did not save key "'.concat(n,'" as the namespace "').concat(r,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(n==null||n==="")){if(this.backend&&this.backend.create){const l={...o,isUpdate:a},u=this.backend.create.bind(this.backend);if(u.length<6)try{let c;u.length===5?c=u(e,r,n,i,l):c=u(e,r,n,i),c&&typeof c.then=="function"?c.then(f=>s(null,f)).catch(s):s(null,c)}catch(c){s(c)}else u(e,r,n,i,s,l)}!e||!e[0]||this.store.addResource(e[0],r,n,i)}}}const dO=()=>({debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:t=>{let e={};if(typeof t[1]=="object"&&(e=t[1]),nt(t[1])&&(e.defaultValue=t[1]),nt(t[2])&&(e.tDescription=t[2]),typeof t[2]=="object"||typeof t[3]=="object"){const r=t[3]||t[2];Object.keys(r).forEach(n=>{e[n]=r[n]})}return e},interpolation:{escapeValue:!0,format:t=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),pO=t=>(nt(t.ns)&&(t.ns=[t.ns]),nt(t.fallbackLng)&&(t.fallbackLng=[t.fallbackLng]),nt(t.fallbackNS)&&(t.fallbackNS=[t.fallbackNS]),t.supportedLngs&&t.supportedLngs.indexOf("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),t),If=()=>{},aie=t=>{Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(r=>{typeof t[r]=="function"&&(t[r]=t[r].bind(t))})};class gc extends Yp{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;if(super(),this.options=pO(e),this.services={},this.logger=ua,this.modules={external:[]},aie(this),r&&!this.isInitialized&&!e.isClone){if(!this.options.initImmediate)return this.init(e,r),this;setTimeout(()=>{this.init(e,r)},0)}}init(){var e=this;let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof r=="function"&&(n=r,r={}),!r.defaultNS&&r.defaultNS!==!1&&r.ns&&(nt(r.ns)?r.defaultNS=r.ns:r.ns.indexOf("translation")<0&&(r.defaultNS=r.ns[0]));const i=dO();this.options={...i,...this.options,...pO(r)},this.options.compatibilityAPI!=="v1"&&(this.options.interpolation={...i.interpolation,...this.options.interpolation}),r.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=r.keySeparator),r.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=r.nsSeparator);const a=c=>c?typeof c=="function"?new c:c:null;if(!this.options.isClone){this.modules.logger?ua.init(a(this.modules.logger),this.options):ua.init(null,this.options);let c;this.modules.formatter?c=this.modules.formatter:typeof Intl<"u"&&(c=rie);const f=new uO(this.options);this.store=new sO(this.options.resources,this.options);const d=this.services;d.logger=ua,d.resourceStore=this.store,d.languageUtils=f,d.pluralResolver=new Zne(f,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),c&&(!this.options.interpolation.format||this.options.interpolation.format===i.interpolation.format)&&(d.formatter=a(c),d.formatter.init(d,this.options),this.options.interpolation.format=d.formatter.format.bind(d.formatter)),d.interpolator=new eie(this.options),d.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},d.backendConnector=new iie(a(this.modules.backend),d.resourceStore,d,this.options),d.backendConnector.on("*",function(p){for(var v=arguments.length,h=new Array(v>1?v-1:0),g=1;g<v;g++)h[g-1]=arguments[g];e.emit(p,...h)}),this.modules.languageDetector&&(d.languageDetector=a(this.modules.languageDetector),d.languageDetector.init&&d.languageDetector.init(d,this.options.detection,this.options)),this.modules.i18nFormat&&(d.i18nFormat=a(this.modules.i18nFormat),d.i18nFormat.init&&d.i18nFormat.init(this)),this.translator=new Nd(this.services,this.options),this.translator.on("*",function(p){for(var v=arguments.length,h=new Array(v>1?v-1:0),g=1;g<v;g++)h[g-1]=arguments[g];e.emit(p,...h)}),this.modules.external.forEach(p=>{p.init&&p.init(this)})}if(this.format=this.options.interpolation.format,n||(n=If),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const c=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);c.length>0&&c[0]!=="dev"&&(this.options.lng=c[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(c=>{this[c]=function(){return e.store[c](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(c=>{this[c]=function(){return e.store[c](...arguments),e}});const l=xu(),u=()=>{const c=(f,d)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),l.resolve(d),n(f,d)};if(this.languages&&this.options.compatibilityAPI!=="v1"&&!this.isInitialized)return c(null,this.t.bind(this));this.changeLanguage(this.options.lng,c)};return this.options.resources||!this.options.initImmediate?u():setTimeout(u,0),l}loadResources(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:If;const i=nt(e)?e:this.language;if(typeof e=="function"&&(n=e),!this.options.resources||this.options.partialBundledLanguages){if(i&&i.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return n();const a=[],o=s=>{if(!s||s==="cimode")return;this.services.languageUtils.toResolveHierarchy(s).forEach(u=>{u!=="cimode"&&a.indexOf(u)<0&&a.push(u)})};i?o(i):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(l=>o(l)),this.options.preload&&this.options.preload.forEach(s=>o(s)),this.services.backendConnector.load(a,this.options.ns,s=>{!s&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),n(s)})}else n(null)}reloadResources(e,r,n){const i=xu();return typeof e=="function"&&(n=e,e=void 0),typeof r=="function"&&(n=r,r=void 0),e||(e=this.languages),r||(r=this.options.ns),n||(n=If),this.services.backendConnector.reload(e,r,a=>{i.resolve(),n(a)}),i}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&XA.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1))for(let r=0;r<this.languages.length;r++){const n=this.languages[r];if(!(["cimode","dev"].indexOf(n)>-1)&&this.store.hasLanguageSomeTranslations(n)){this.resolvedLanguage=n;break}}}changeLanguage(e,r){var n=this;this.isLanguageChangingTo=e;const i=xu();this.emit("languageChanging",e);const a=l=>{this.language=l,this.languages=this.services.languageUtils.toResolveHierarchy(l),this.resolvedLanguage=void 0,this.setResolvedLanguage(l)},o=(l,u)=>{u?(a(u),this.translator.changeLanguage(u),this.isLanguageChangingTo=void 0,this.emit("languageChanged",u),this.logger.log("languageChanged",u)):this.isLanguageChangingTo=void 0,i.resolve(function(){return n.t(...arguments)}),r&&r(l,function(){return n.t(...arguments)})},s=l=>{!e&&!l&&this.services.languageDetector&&(l=[]);const u=nt(l)?l:this.services.languageUtils.getBestMatchFromCodes(l);u&&(this.language||a(u),this.translator.language||this.translator.changeLanguage(u),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(u)),this.loadResources(u,c=>{o(c,u)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?s(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(s):this.services.languageDetector.detect(s):s(e),i}getFixedT(e,r,n){var i=this;const a=function(o,s){let l;if(typeof s!="object"){for(var u=arguments.length,c=new Array(u>2?u-2:0),f=2;f<u;f++)c[f-2]=arguments[f];l=i.options.overloadTranslationOptionHandler([o,s].concat(c))}else l={...s};l.lng=l.lng||a.lng,l.lngs=l.lngs||a.lngs,l.ns=l.ns||a.ns,l.keyPrefix!==""&&(l.keyPrefix=l.keyPrefix||n||a.keyPrefix);const d=i.options.keySeparator||".";let p;return l.keyPrefix&&Array.isArray(o)?p=o.map(v=>"".concat(l.keyPrefix).concat(d).concat(v)):p=l.keyPrefix?"".concat(l.keyPrefix).concat(d).concat(o):o,i.t(p,l)};return nt(e)?a.lng=e:a.lngs=e,a.ns=r,a.keyPrefix=n,a}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const n=r.lng||this.resolvedLanguage||this.languages[0],i=this.options?this.options.fallbackLng:!1,a=this.languages[this.languages.length-1];if(n.toLowerCase()==="cimode")return!0;const o=(s,l)=>{const u=this.services.backendConnector.state["".concat(s,"|").concat(l)];return u===-1||u===0||u===2};if(r.precheck){const s=r.precheck(this,o);if(s!==void 0)return s}return!!(this.hasResourceBundle(n,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||o(n,e)&&(!i||o(a,e)))}loadNamespaces(e,r){const n=xu();return this.options.ns?(nt(e)&&(e=[e]),e.forEach(i=>{this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}),this.loadResources(i=>{n.resolve(),r&&r(i)}),n):(r&&r(),Promise.resolve())}loadLanguages(e,r){const n=xu();nt(e)&&(e=[e]);const i=this.options.preload||[],a=e.filter(o=>i.indexOf(o)<0&&this.services.languageUtils.isSupportedCode(o));return a.length?(this.options.preload=i.concat(a),this.loadResources(o=>{n.resolve(),r&&r(o)}),n):(r&&r(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!e)return"rtl";const r=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],n=this.services&&this.services.languageUtils||new uO(dO());return r.indexOf(n.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;return new gc(e,r)}cloneInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:If;const n=e.forkResourceStore;n&&delete e.forkResourceStore;const i={...this.options,...e,isClone:!0},a=new gc(i);return(e.debug!==void 0||e.prefix!==void 0)&&(a.logger=a.logger.clone(e)),["store","services","language"].forEach(s=>{a[s]=this[s]}),a.services={...this.services},a.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},n&&(a.store=new sO(this.store.data,i),a.services.resourceStore=a.store),a.translator=new Nd(a.services,i),a.translator.on("*",function(s){for(var l=arguments.length,u=new Array(l>1?l-1:0),c=1;c<l;c++)u[c-1]=arguments[c];a.emit(s,...u)}),a.init(i,r),a.translator.options=i,a.translator.backendConnector.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},a}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Sn=gc.createInstance();Sn.createInstance=gc.createInstance;Sn.createInstance;Sn.dir;Sn.init;Sn.loadResources;Sn.reloadResources;Sn.use;Sn.changeLanguage;Sn.getFixedT;Sn.t;Sn.exists;Sn.setDefaultNamespace;Sn.hasLoadedNamespace;Sn.loadNamespaces;Sn.loadLanguages;var $s,oie=($s={},oe(oe(oe(oe(oe(oe(oe(oe(oe(oe($s,OA,"Empty group"),xA,"No conditions for group field {{field}}"),wA,"Empty query"),EA,"Empty case"),CA,"No config for field {{field}}"),$ne,"Fixed operator {{from}} to {{to}} for field {{field}}"),TA,"No config for operator {{operator}}"),kA,"No config for function {{funcKey}}"),IA,"Invalid value"),AA,"Invalid value of arg {{argName}} for func {{funcName}}: {{argValidationError}}"),oe(oe(oe(oe(oe(oe(oe(oe(oe(oe($s,jA,"Type of field {{field}} is not supported"),PA,"Operator {{operator}} is not supported for field {{field}}"),gg,"Incomplete rule"),FA,"Incomplete LHS"),RA,"Incomplete RHS"),LA,"Invalid value src {{valueSrcs, list}}"),mg+"_one","Value {{badValues, list}} is not in the list of allowed values"),mg+"_other","Values {{badValues, list}} are not in the list of allowed values"),$A,"Value {{value}} is not in the list of allowed values"),NA,"Value should have type {{wType}}, but got value of type {{valueType}}"),oe(oe(oe(oe(oe(oe(oe(oe(oe(oe($s,DA,"Value should have JS type {{jsType}}, but got value of type {{valueTypeof}}"),MA,"Value {{value}} should have max length {{fieldSettings.maxLength}} but got {{length}}"),yg,"Value {{value}} should be greater than or equal to {{fieldSettings.min}}"),yg+"_"+_g,"Value {{value}} should be from {{fieldSettings.min}} to {{fieldSettings.max}}"),bg,"Value {{value}} should be less than or equal to {{fieldSettings.max}}"),bg+"_"+_g,"Value {{value}} should be from {{fieldSettings.min}} to {{fieldSettings.max}}"),VA,"No config for field {{field}}"),BA,"Can't compare field {{field}} with itself"),qA,"Can't compare field {{leftField}} with {{rightField}}"),HA,"Field {{field}} is of type {{type}}, but expected {{expected}}"),oe(oe(oe(oe(oe(oe(oe(oe(oe(oe($s,zA,"Unsupported function {{funcKey}} for field {{field}}"),UA,"Value of arg {{argName}} for func {{funcName}} is required"),WA,"Function {{funcKey}} should return value of type {{returnType}}, but got {{valueType}}"),GA,"Invalid range"),YA,"Root"),ja+"__rule","Leaf #{{globalLeafNo}}"),ja+"__group","Group #{{globalGroupNo}}"),ja+"__rule_group","Rule-group #{{globalNoByType}}"),ja+"__case_group","Case #{{globalNoByType}}"),ja+"__rule__deleted","Deleted leaf #{{globalLeafNo}}"),oe(oe(oe(oe(oe($s,ja+"__group__deleted","Deleted group #{{globalGroupNo}}"),ja+"__rule_group__deleted","Deleted rule-group #{{globalNoByType}}"),ja+"__case_group__deleted","Deleted case #{{globalNoByType}}"),JA,"{{str}} in case #{{caseNo}}"),KA,"{{str}} (index path: {{indexPath, list}})")),ZA="raqbvalidation",sie="".concat(ZA,":"),Kp=Sn.createInstance();Kp.init({fallbackLng:"en"});Kp.addResources("en",ZA,oie);var Ri=function t(e,r){return e!=null&&e.str?e.str:e!=null&&e.key?t(e.key,e.args):r===null?e:Kp.t(e.includes(":")?e:sie+e,r)};function hO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function pr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?hO(Object(r),!0).forEach(function(n){oe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):hO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var ej=function(e){return wt(e)==="object"&&e!==null&&Array.isArray(e)?"array":wt(e)},lie=function(e,r){return ej(e)===r||r==="number"&&!isNaN(e)},tj=function(e,r){return rj(e,r).length===0},rj=function(e,r){var n=r.settings.showErrorMessage,i=[];function a(o,s,l){var u,c,f=o.get("id"),d=o.get("children1"),p=o.getIn(["properties","valueError"]),v=o.getIn(["properties","fieldError"]),h=o.getIn(["properties","field"]),g=(u=h==null||(c=h.get)===null||c===void 0?void 0:c.call(h,"func"))!==null&&u!==void 0?u:h,y=(p==null?void 0:p.size)>0&&p.filter(function(_){return _!=null}).size>0,m=y||!!v;m&&n&&i.push(g),d&&d.map(function(_,b){_&&a(_,s.concat(f))})}return e&&a(e,[]),Array.from(new Set(i))},nj=function(e,r){var n=ii(r,void 0,!0),i={removeEmptyGroups:r.settings.removeEmptyGroupsOnLoad,removeIncompleteRules:r.settings.removeIncompleteRulesOnLoad,removeEmptyRules:r.settings.removeEmptyRulesOnLoad,forceFix:!1},a=Yc(e,null,n,n,i),o=a.fixedTree,s=a.allErrors,l=a.isSanitized;return l&&s.length&&console.warn("Tree check errors: ",s),o},ij=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=ii(r,void 0,!0),a=pr(pr({},n),{},{removeEmptyGroups:!1,removeEmptyRules:!1,removeIncompleteRules:!1,forceFix:!1}),o=Yc(e,null,i,i,a),s=o.allErrors;return s},aj=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=ii(r,void 0,!0),a=pr({removeEmptyGroups:!0,removeEmptyRules:!0,removeIncompleteRules:!0,forceFix:!1},n),o=Yc(e,null,i,i,a),s=o.fixedTree,l=o.fixedErrors,u=o.nonFixedErrors,c=o.allErrors;return{fixedTree:s,fixedErrors:l,nonFixedErrors:u,allErrors:c}},oj=function(e,r,n,i,a,o,s){a===void 0&&(a=n.settings.removeEmptyGroupsOnLoad),o===void 0&&(o=n.settings.removeEmptyRulesOnLoad),s===void 0&&(s=n.settings.removeIncompleteRulesOnLoad);var l={removeEmptyGroups:a,removeEmptyRules:o,removeIncompleteRules:s,forceFix:!1},u=Yc(e,r,n,i,l),c=u.fixedTree;u.allErrors;var f=u.fixedErrors;u.nonFixedErrors;var d=u.isSanitized;return d&&f.length&&console.warn("Fixed tree errors: ",f),c=Bi(c),c},Yc=function(e,r,n,i,a){if(!e)return{fixedTree:e,allErrors:[],fixedErrors:[],nonFixedErrors:[],isSanitized:!1};var o=a||{},s=o.removeEmptyGroups,l=o.removeEmptyRules,u=o.removeIncompleteRules,c=o.forceFix,f=o.translateErrors,d=f===void 0?!0:f,p=o.includeStringifiedItems,v=p===void 0?!0:p,h=o.stringifyFixedItems,g=h===void 0?!1:h,y=o.stringifyItemsUserFriendly,m=y===void 0?!0:y,_=o.includeItemsPositions,b=_===void 0?!0:_,S={config:n,oldConfig:i,removeEmptyGroups:s,removeEmptyRules:l,removeIncompleteRules:u,forceFix:c},O={errors:{}},x=lj(e,[],null,O,S),E=O.sanitized,A=[],C,k;b&&(C=ug(x).items);for(var w in O.errors){var I=O.errors[w],L=I.path,P=I.errors;d&&(P=P.map(function(J){return pr(pr({},J),{},{str:Ri(J)})}));var V={path:L,errors:P};if(v){var $=ul(g?x:e,L),U=L.length===1;if(!U&&$.get("type")!=="group"){var M=!0,R=m,F=mA($,n,R,M);V.itemStr=F}}if(b){var N=C[w],B=!N;if(B&&(k||(k=ug(e).items),N=k[w]),N){var q=pr(pr({},N.position),{},{index:N.index,type:N.type,isDeleted:B});V.itemPosition=q;var W=N.index?ja+"__"+N.type+(B?"__deleted":""):YA,D=pr({},q);if(m){for(var G,H=0,Y=["caseNo","globalLeafNo","globalGroupNo","globalNoByType"];H<Y.length;H++){var K=Y[H];D[K]!=null&&(D[K]=D[K]+1)}D.indexPath=(G=q.indexPath)===null||G===void 0?void 0:G.map(function(J){return J+1})}V.itemPositionStr=Ri(W,D),N.index&&(N.caseId&&N.type!=="case_group"&&(V.itemPositionStr=Ri(JA,pr(pr({},D),{},{str:V.itemPositionStr}))),N.type!=="case_group"&&(V.itemPositionStr=Ri(KA,pr(pr({},D),{},{str:V.itemPositionStr}))))}}A.push(V)}for(var ie=[],te=[],se=0,ue=A;se<ue.length;se++){var fe=ue[se],de=fe.errors.filter(function(J){return!!J.fixed}),Se=fe.errors.filter(function(J){return!J.fixed&&J.key!=="EMPTY_QUERY"});de.length&&ie.push(pr(pr({},fe),{},{errors:de})),Se.length&&te.push(pr(pr({},fe),{},{errors:Se}))}return{fixedTree:x,allErrors:A,fixedErrors:ie,nonFixedErrors:te,isSanitized:E}};function eo(t,e,r,n){var i=e.get("id");t.errors[i]||(t.errors[i]={path:[].concat(Ce(r),[i]),errors:[]}),t.errors[i].errors.push(n)}function sj(t,e){var r=e.get("id");t.errors[r]&&t.errors[r].errors.map(function(n){n.fixed=!0})}function lj(t,e,r,n,i){var a=t==null?void 0:t.get("type");return a==="group"||a==="rule_group"||a=="case_group"||a=="switch_group"?uie(t,e,r,n,i):a==="rule"?uj(t,e,r,n,i):t}function uie(t,e,r,n,i){var a,o,s,l,u,c,f=i.removeEmptyGroups,d=i.removeIncompleteRules;i.forceFix;var p=i.config;p.settings.showErrorMessage;var v=t.get("id"),h=t.get("children1"),g=!e.length,y=h,m=t.get("type"),_=t.get("properties"),b=_==null?void 0:_.get("field"),S=_==null?void 0:_.get("mode"),O=_==null||(a=_.get)===null||a===void 0?void 0:a.call(_,"operator"),x=m==="rule_group"&&S==="array",E=m==="case_group",A=E&&h==null,C=O?(o=(s=p.operators[O])===null||s===void 0?void 0:s.cardinality)!==null&&o!==void 0?o:1:void 0,k=E?!A:x?C==0:f,w=x||E;!v&&r&&(v=r,t=t.set("id",v),n.sanitized=!0),w&&(t=uj(t,e,r,n,i));var I={errors:{}};h=(l=h)===null||l===void 0?void 0:l.map(function(U,M){return lj(U,e.concat(v),M,I,i)});var L=(u=h)===null||u===void 0?void 0:u.filter(function(U){return U!=null});f&&(h=L);var P=I.sanitized||(y==null?void 0:y.size)!=((c=h)===null||c===void 0?void 0:c.size),V=!(L!=null&&L.size),$=f&&!g;return x&&b&&($=d),V&&k&&(eo(n,t,e,{key:g?wA:E?EA:x?xA:OA,args:{field:b},fixed:$}),$&&(sj(n,t),t=void 0)),P&&(n.sanitized=!0),P&&t&&(t=t.set("children1",h)),n.errors=pr(pr({},n.errors),(I==null?void 0:I.errors)||{}),t}function uj(t,e,r,n,i){var a=i.removeIncompleteRules,o=i.removeEmptyRules,s=i.forceFix,l=i.config,u=i.oldConfig,c=l.settings.showErrorMessage,f=!c||s,d=t.get("id"),p=t.get("type"),v=p==="case_group",h=t.get("properties");if(!h)if(v)h=new Ue.Map;else{var g={key:gg,args:{},fixed:a||o};eo(n,t,e,g);return}var y=h.get("field")||null;v&&(y="!case_value");var m=h.get("fieldSrc")||null,_=h.get("operator")||null,b=h.get("operatorOptions"),S=h.get("valueSrc"),O=h.get("value"),x=h.get("valueError"),E=h.get("fieldError"),A=function(){var se,ue;return{field:((se=y)===null||se===void 0||(ue=se.toJS)===null||ue===void 0?void 0:ue.call(se))||y,fieldSrc:m,operator:_,operatorOptions:b?b.toJS():{},valueSrc:S?S.toJS():null,value:O?O.toJS():null,valueError:x?x.toJS():null,fieldError:E||null}},C=A();!d&&r&&(d=r,t=t.set("id",d),n.sanitized=!0);var k=y?Me(l,y):null;y&&!k&&(eo(n,t,e,{key:CA,args:{field:y},side:"lhs",fixed:a||o}),y=null),y==null&&!v&&(h=["operator","operatorOptions","valueSrc","value","valueError","fieldError","field"].reduce(function(te,se){return te.delete(se)},h),_=null),!m&&y&&!v&&(m=Uj(y),h=h.set("fieldSrc",m)),(_==="range_between"||_==="range_not_between")&&(_=_==="range_between"?"between":"not_between",h=h.set("operator",_));var w=_?jt(l,_,y):null;_&&!w&&(eo(n,t,e,{key:TA,args:{operator:_},side:"op",fixed:a||o}),_=null);var I=y?Qp(l,y):[];y&&!v&&(I!=null&&I.length?_&&I.indexOf(_)==-1&&(_==="is_empty"||_==="is_not_empty"?(_=_==="is_empty"?"is_null":"is_not_null",h=h.set("operator",_)):(eo(n,t,e,{key:PA,args:{operator:_,field:y},side:"lhs",fixed:a||o}),_=null)):(eo(n,t,e,{key:jA,args:{field:y},side:"lhs",fixed:a||o}),_=null)),_==null&&!v&&(h=["operatorOptions","valueSrc","value","valueError"].reduce(function(te,se){return te.delete(se)},h)),b=h.get("operatorOptions"),!_||b&&!w.options?(b=null,h=h.delete("operatorOptions")):_&&!b&&w.options&&(b=Gc(l,_,y),h=h.set("operatorOptions",b)),S=h.get("valueSrc"),O=h.get("value");var L=!0,P=Xo(l,u,h,y,_,null,f,L),V=P.newValue,$=P.newValueSrc,U=P.newValueError,M=P.validationErrors,R=P.newFieldError,F=P.fixedField;O=V,S=$,x=U,E=R,y=F,h=h.set("field",y),h=h.set("value",O),h=h.set("valueSrc",S),c?h=h.set("valueError",x).set("fieldError",E):h=h.delete("valueError").delete("fieldError");var N=A(),B=!Ad(C,N),q=S0(h.toObject(),l),W=v?q.parts.value:q.score>=3;if(B&&(n.sanitized=!0,t=t.set("properties",h)),M==null||M.map(function(te){return eo(n,t,e,te)}),!W&&!v){var D=q.score?a:o,G={key:gg,args:{}};if(!q.parts.field)G.key=FA,G.side="lhs";else if(!q.parts.value){var H,Y,K,ie;G.key=RA,G.side="rhs",(H=N.valueSrc)!==null&&H!==void 0&&H[0]&&((Y=N.valueSrc)===null||Y===void 0?void 0:Y[0])!=((K=C.valueSrc)===null||K===void 0?void 0:K[0])&&((ie=N.value)===null||ie===void 0?void 0:ie[0])!=null&&(G.key=LA,G.args={valueSrcs:N.valueSrc})}G.fixed=D,eo(n,t,e,G),D&&(sj(n,t),t=void 0)}return t}var jl=function(e,r,n,i,a,o,s,l){var u=arguments.length>8&&arguments[8]!==void 0?arguments[8]:!1,c=arguments.length>9&&arguments[9]!==void 0?arguments[9]:!1,f=arguments.length>10&&arguments[10]!==void 0?arguments[10]:!1,d=[],p=a;if(a!=null){var v,h,g,y;if(s==="field"){var m=die(r,n,a,s,o,l,e,i,u,c),_=ke(m,2);p=_[0],d=_[1]}else if(s==="func"){var b=pie(r,n,a,s,o,l,e,i,u,c,f),S=ke(b,2);p=S[0],d=S[1]}else if(s==="value"||!s){var O=fie(n,a,s,o,l,e,i,u,c),x=ke(O,2);p=x[0],d=x[1]}var E=!((v=d)!==null&&v!==void 0&&v.find(function(q){return!q.fixed})),A=!!n&&!["field","func"].includes(s)&&(!((h=d)!==null&&h!==void 0&&h.length)||E);if(A){var C=vr(e,n,i,s),k=i?jt(e,i,n):null,w=_n(e,n,i,C,s,{forExport:!0}),I=s==="field"?Me(e,a):null,L=w,P=w.validateValue;if(typeof P=="function"){var V=[p,L,i,k];s==="field"&&V.push(I);var $=P.call.apply(P,[e.ctx].concat(V));if(wt($)==="object"&&$!==null&&!Array.isArray($)){var U,M;(U=$.error)!==null&&U!==void 0&&U.key?M=pr({},$.error):M={key:$.error,args:null},$.fixedValue!==void 0&&u&&(M.fixed=!0,M.fixedFrom=p,M.fixedTo=$.fixedValue,p=$.fixedValue),d.push(M)}else typeof $=="boolean"?$==!1&&d.push({key:IA,args:{}}):typeof $=="string"&&d.push({key:$,args:null})}}if(E=!((g=d)!==null&&g!==void 0&&g.find(function(q){return!q.fixed})),(y=d)!==null&&y!==void 0&&y.length&&!E&&u){var R=Me(e,n),F=R==null?void 0:R.fieldSettings,N=F==null?void 0:F.defaultValue;if(N!==void 0){var B=d[d.length-1];B.fixed=!0,B.fixedFrom=p,B.fixedTo=N,p=N,d.map(function(q){q.fixed=!0})}}}return[p,d]},cie=function(e,r,n,i,a){var o=Ue.List.isList(e)?e.toJS():e instanceof Array?Ce(e):void 0,s=e,l=[];if(o){var u=o.reduce(function(g,y){var m=ke(g,2),_=m[0],b=m[1],S=fc(r,y);return S==null?[_,[].concat(Ce(b),[y])]:[[].concat(Ce(_),[S.value]),b]},[[],[]]),c=ke(u,2),f=c[0],d=c[1],p=d.length>0;if(n=n||a===!0,s=n&&p?f:e,d.length){var v=n&&p;l.push({key:mg,args:{badValues:d,count:d.length},fixed:v,fixedFrom:v?o:void 0,fixedTo:v?s:void 0})}return[s,l]}else{var h=fc(r,e);return h==null?(s=n?null:e,l.push({key:$A,args:{value:e},fixed:n,fixedFrom:n?e:void 0,fixedTo:n?s:void 0})):s=h.value,[s,l]}},fie=function(e,r,n,i,a,o){var s=arguments.length>6&&arguments[6]!==void 0?arguments[6]:null,l=arguments.length>7&&arguments[7]!==void 0?arguments[7]:!1,u=arguments.length>8&&arguments[8]!==void 0?arguments[8]:!1,c=[],f=r;if(e){var d=Me(o,e),p=vr(o,e,s,n),v=o.widgets[p],h=v==null?void 0:v.type,g=v==null?void 0:v.jsType,y=d==null?void 0:d.fieldSettings,m=(y==null?void 0:y.treeValues)||(y==null?void 0:y.listValues),_=!!(y!=null&&y.asyncFetch),b=m||_;if(i&&h&&i!=h)return c.push({key:NA,args:{wType:h,valueType:i}}),[r,c];if(g&&!lie(r,g)&&!b)return c.push({key:DA,args:{jsType:g,valueTypeof:ej(r)}}),[r,c];if(y){var S=a||m;if(S&&!y.allowCustomValues&&p!=="case_value"){var O=cie(r,S,l,u,o.settings.removeInvalidMultiSelectValuesOnLoad),x=ke(O,2);f=x[0],c=x[1]}y.maxLength>0&&r!=null&&String(r).length>y.maxLength&&(f=l?String(r).substring(0,y.maxLength):r,c.push({key:MA,args:{value:r,length:String(r).length,fieldSettings:y},fixed:l,fixedFrom:l?r:void 0,fixedTo:l?f:void 0}));var E=y.min!=null&&y.max!=null?_g:void 0;y.min!=null&&r<y.min&&(f=l?y.min:r,c.push({key:yg,args:{value:r,fieldSettings:y,context:E},fixed:l,fixedFrom:l?r:void 0,fixedTo:l?f:void 0})),y.max!=null&&r>y.max&&(f=l?y.max:r,c.push({key:bg,args:{value:r,fieldSettings:y,context:E},fixed:l,fixedFrom:l?r:void 0,fixedTo:l?f:void 0}))}}return[f,c]},die=function(e,r,n,i,a,o,s){var l=arguments.length>7&&arguments[7]!==void 0?arguments[7]:null,u=[],c=s.settings,f=c.fieldSeparator,d=c.canCompareFieldWithField,p=wt(r)=="object"&&(r==null?void 0:r._isFuncArg),v=Array.isArray(e)?e.join(f):e,h=Me(s,e),g=Array.isArray(n)?n.join(f):n,y=Me(s,n);if(!y)return u.push({key:VA,args:{field:g}}),[n,u];if(e&&g===v&&!p)return u.push({key:BA,args:{field:v}}),[n,u];if(a&&a!=y.type)return u.push({key:HA,args:{field:g,type:y.type,expected:a}}),[n,u];if(e&&!p&&d){var m=d(v,h,g,y,l);if(!m)return u.push({key:qA,args:{leftField:v,rightField:g}}),[n,u]}return[n]},pie=function(e,r,n,i,a,o,s){var l,u,c=arguments.length>7&&arguments[7]!==void 0?arguments[7]:null,f=arguments.length>8&&arguments[8]!==void 0?arguments[8]:!1,d=arguments.length>9&&arguments[9]!==void 0?arguments[9]:!1,p=arguments.length>10&&arguments[10]!==void 0?arguments[10]:!1,v=n,h=[];if(!n)return[n];var g=(l=n.get)===null||l===void 0?void 0:l.call(n,"func");if(!g)return[n];var y=Me(s,r);if(y!=null&&y.funcs&&!y.funcs.includes(g))return h.push({key:zA,args:{funcKey:g,field:r}}),[n,h];var m=Wr(s,g);if(!m)return h.push({key:kA,args:{funcKey:g}}),[n,h];var _=(u=m.label)!==null&&u!==void 0?u:g;if(a&&m.returnType!=a)return h.push({key:WA,args:{funcKey:g,funcName:_,returnType:m.returnType,valueType:a}}),[n,h];f=f||p;for(var b in m.args){var S,O=m.args[b],x=v.get("args"),E=x?x.get(b):void 0,A=Me(s,O),C=(S=A==null?void 0:A.label)!==null&&S!==void 0?S:b,k=E?E.get("value"):void 0,w=E?E.get("valueSrc"):void 0;if(k!==void 0){var I=jl(s,e,A,c,k,O.type,w,o,f,d,p),L=ke(I,2),P=L[0],V=L[1],$=!(V!=null&&V.length),U=f&&P!==k,M=f&&!$&&!U&&(d||p);if(U&&(v=v.setIn(["args",b,"value"],P)),M&&(v=v.deleteIn(["args",b]),v=Dd(s,v,m,b)),!$){var R,F,N=(R=(F=V.find(function(H){return!H.fixed&&!H.ignore}))!==null&&F!==void 0?F:V.find(function(H){return!H.fixed}))!==null&&R!==void 0?R:V[0],B=U||M,q=V.filter(function(H){return!H.ignore}).length===0;if(N){var W=Ri(N);h.push({key:AA,args:{funcKey:g,funcName:_,argKey:b,argName:C,argValidationError:W,argErrors:V},ignore:q,fixed:B,fixedFrom:B?k:void 0,fixedTo:B?U?P:O.defaultValue:void 0})}}}else if(!O.isOptional&&(d||p)){var D=f&&O.defaultValue!==void 0&&(d||p),G=d;G&&h.push({key:UA,args:{funcKey:g,funcName:_,argKey:b,argName:C},fixed:D,fixedTo:D?O.defaultValue:void 0,ignore:!D}),D&&(v=v.deleteIn(["args",b]),v=Dd(s,v,m,b))}}return[v,h]},h0=function(e,r,n,i,a){var o=jt(e,n,r),s=n?zr(o):null,l=a.toJS?a.toJS():a,u=i.toJS?i.toJS():i,c=l.filter(function(y){return y=="value"||y==null}).length==s,f;if(o!=null&&o.validateValues&&c){var d=l[0],p=vr(e,r,n,d),v=_n(e,r,n,p,d),h=v!=null&&v.toJS?u.map(function(y){var m=v.toJS.call(e.ctx,y,v);return m instanceof Date&&(m=m.getTime()),m}):u,g=o.validateValues(h);typeof g=="boolean"&&g==!1&&(f={key:GA,args:{jsValues:h,values:u}})}return f},Xo=function(e){var r,n,i,a,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,s=arguments.length>2?arguments[2]:void 0,l=arguments.length>3?arguments[3]:void 0,u=arguments.length>4?arguments[4]:void 0,c=arguments.length>5&&arguments[5]!==void 0?arguments[5]:null,f=arguments.length>6&&arguments[6]!==void 0?arguments[6]:!1,d=arguments.length>7&&arguments[7]!==void 0?arguments[7]:!1,p=arguments.length>8&&arguments[8]!==void 0?arguments[8]:!1;o||(o=e);var v=e.settings,h=v.keepInputOnChangeFieldSrc,g=v.convertableWidgets,y=v.clearValueOnChangeField,m=v.clearValueOnChangeOp,_=l=="!case_value",b=s.get("field");!b&&_&&(b=l);var S=s.get("fieldType"),O=s.get("fieldSrc"),x=s.get("operator"),E=s.get("value"),A=s.get("valueSrc",new Ue.List),C=s.get("valueType",new Ue.List),k=s.get("valueError",new Ue.List),w=s.get("asyncListValues"),I=_,L=jt(o,x),P=jt(e,u,l),V=_?1:x?zr(L):null,$=_?1:u?zr(P):null,U=Me(o,b),M=Me(e,l),R=!b&&S&&h,F=(U==null?void 0:U.type)||S,N=(M==null?void 0:M.type)||!l&&R&&F,B=U==null?void 0:U.listValuesType,q=M==null?void 0:M.listValuesType,W=((r=b)===null||r===void 0||(n=r.get)===null||n===void 0?void 0:n.call(r,"func"))||b,D=((i=l)===null||i===void 0||(a=i.get)===null||a===void 0?void 0:a.call(i,"func"))||l,G=D!=W,H=[],Y=(b||R)&&(x&&u||I)&&E!=null;(!(F&&N&&F==N)||c==="field"&&G&&y||c==="operator"&&m)&&(Y=!1),G&&Jp.includes(N)&&(q&&q===B||(Y=!1)),!I&&(!(E!=null&&E.size)&&$||E!=null&&E.size&&!$)&&(Y=!1);var K;if(O==="func"&&l){var ie=jl(e,null,null,u,l,N,O,w,f,d,p),te=ke(ie,2),se=te[0],ue=te[1],fe=!(ue!=null&&ue.length),de=se!==l,Se=!fe&&de&&!ue.find(function(tr){return!tr.fixed}),J=f&&!fe&&!Se&&!!c&&l!==b,re=!1;if(re?l=null:J?l=b:de&&(l=se),!fe){var ce=!fe&&!Se&&!re&&!J,ve=ue.find(function(tr){return!tr.fixed&&!tr.ignore});ce&&ve&&(K=Ri(ve)),ue.map(function(tr){return H.push(pr(pr({side:"lhs"},tr),{},{fixed:tr.fixed||J||re}))})}}for(var ee=0;ee<$;ee++){var me=A.get(ee)||null,Oe=vr(o,b,x,me),we=vr(e,l,u,me),Je=me==="value"?Oe:vr(o,b,x,"value"),at=me==="value"?we:vr(e,l,u,"value"),le=at==Je||(g[Je]||[]).includes(at)||!Je&&R;le||(Y=!1)}x!=u&&[x,u].includes("proximity")&&(Y=!1);var ge=A.first(),pe=_n(e,l,u,null,ge),Pe=yj(e,l,u,null);!l&&R&&(Pe=Object.keys(e.settings.valueSourcesInfo));var Be=Pe[0],Ne;$===1&&pe&&pe.type!==void 0?Ne=pe.type:$===1&&M&&M.type!==void 0&&(Ne=M.type==="!group"?"number":M.type);var ot=Y&&c==="operator"&&V===1&&$===2,st=[],Ke=[],Vt=[],Ar=Array.from({length:$},function(){return null});if(Y)for(var vt=function(ne){var Z=E.get(ne),be=C.get(ne)||null,_e=A.get(ne)||null;ot&&ne===1&&(Z=st[0]!==void 0?st[0]:E.get(0),st[ne]=Z,be=C.get(0)||null,_e=A.get(0)||null);var ze=_e?Pe.find(function(ai){return ai==_e})!==void 0:!0,St=jl(e,l,l,u,Z,be,_e,w,f,d,p),Bt=ke(St,2),Kr=Bt[0],Re=Bt[1],rn=!(Re!=null&&Re.length),Q=Kr!==Z,ae=!rn&&Q&&!(Re!=null&&Re.find(function(ai){return!ai.fixed})),Te=!(Re!=null&&Re.find(function(ai){return!ai.fixed&&!ai.ignore})),Ze=!ze||f&&!rn&&!ae&&(!Te||G);rn||Re==null||Re.map(function(ai){return H.push(pr(pr({side:"rhs",delta:ne},ai),{},{fixed:ai.fixed||Ze}))}),Ze&&(st[ne]=null,ne===0&&delete st[1]);var On=!rn&&!Q,sn=Re==null?void 0:Re.find(function(ai){return!ai.fixed&&!ai.ignore});On&&sn&&(Ar[ne]=Ri(sn)),Q&&(st[ne]=Kr),ot&&ne===0&&!rn&&!Q&&(ot=!1),ot&&ne===0&&["func","field"].includes(_e)&&(ot=!1)},Fe=0;Fe<$;Fe++)vt(Fe);if(!Y){for(var De=0;De<$;De++)if($===1){var Ge,Qe=aI([M==null?void 0:M.defaultValue,M==null||(Ge=M.fieldSettings)===null||Ge===void 0?void 0:Ge.defaultValue,pe==null?void 0:pe.defaultValue]);st[De]=Qe,Qe!=null&&Qe.func&&(Ke[De]="func")}}for(var ft=0;ft<$;ft++){var Et=Y&&A.get(ft)||null,It=Y&&C.get(ft)||null;if(Y&&ot&&ft===1){var _r,Ft;Et=(_r=Ke[ft])!==null&&_r!==void 0?_r:A.get(0),It=(Ft=Vt[ft])!==null&&Ft!==void 0?Ft:C.get(0),Ke[ft]=Et,Vt[ft]=It}var Rr=Pe.includes(Et);Rr||(Ke[ft]=Be),It||(Vt[ft]=Ne)}var qe=E;(st.length>0||!Y)&&(qe=new Ue.List(Array.from({length:$},function(tr,ne){return st[ne]!==void 0?st[ne]:Y?E.get(ne):void 0})));var lt=A;(Ke.length>0||!Y)&&(lt=new Ue.List(Array.from({length:$},function(tr,ne){var Z;return(Z=Ke[ne])!==null&&Z!==void 0?Z:Y&&A.get(ne)||null})));var ur=C;(Vt.length>0||!Y)&&(ur=new Ue.List(Array.from({length:$},function(tr,ne){var Z;return(Z=Vt[ne])!==null&&Z!==void 0?Z:Y&&C.get(ne)||null})));var Gr=h0(e,l,u,qe,lt);if(Gr){var Yr=Ri(Gr),mt=f&&$>=2,dt=qe;mt&&(st[1]=qe.get(0),qe=qe.set(1,st[1]),Ar[1]=Ar[0]);var cr=!mt;cr&&Ar.push(Yr),H.push(pr(pr({side:"rhs",delta:-1},Gr),{},{fixed:mt,fixedFrom:mt?[dt.get(0),dt.get(1)]:void 0,fixedTo:mt?[qe.get(0),qe.get(1)]:void 0}))}var Rt=k,jr=(k==null?void 0:k.size)!==Ar.length||Ar.filter(function(tr,ne){return tr!=k.get(ne)}).length>0;return jr&&(Rt=new Ue.List(Ar)),{canReuseValue:Y,newValue:qe,newValueSrc:lt,newValueType:ur,operatorCardinality:$,fixedField:l,newValueError:Rt,newFieldError:K,validationErrors:H}};const hie=Object.freeze(Object.defineProperty({__proto__:null,_validateTree:Yc,checkTree:nj,getNewValueForFieldOp:Xo,getTreeBadFields:rj,isValidTree:tj,sanitizeTree:aj,translateValidation:Ri,validateAndFixTree:oj,validateRange:h0,validateTree:ij,validateValue:jl},Symbol.toStringTag,{value:"Module"}));var v0=function(e){return wt(e)=="object"&&e!==null&&!Array.isArray(e)},cj=function(e,r){if(e){var n=e.get("func"),i=n&&Wr(r,n);if(i){var a=e,o=!1;for(var s in i.args){var l=i.args[s],u=l.valueSources,c=l.isOptional,f=l.defaultValue,d=Zo(r,u,l),p=a.get("args"),v=d.length==1?d[0]:void 0,h=p?p.get(s):void 0,g=h?h.get("value"):void 0,y=(h?h.get("valueSrc"):void 0)||v;if(g!==void 0){var m=Ss(g,y,r);if(m===void 0||(m!==g&&(a=a.setIn(["args",s,"value"],m)),o))return}else if(f!==void 0&&!v0(f))a=a.setIn(["args",s,"value"],dj(l)),a=a.setIn(["args",s,"valueSrc"],"value");else if(c)o=!0;else return}return a}}},fj=function(e,r,n,i){var a=n.settings.fieldSeparator;e=e||new Ue.Map,Array.isArray(r)&&(r=r.join(a));var o=e.get("func"),s=e.get("args");e=e.set("func",r);var l=r&&Wr(n,r),u=r&&xg(n,r),c=o&&xg(n,o),f=hj(c,u,s,n,i);if(f.length){var d=Object.keys(u.args),p=d.filter(function(v){return!f.includes(v)});e=p.reduce(function(v,h){return v.deleteIn(["args",h])},e)}else e=e.set("args",new Ue.Map);return e=vie(n,e,l),e},vie=function(e,r,n){if(n)for(var i in n.args)r=Dd(e,r,n,i);return r},Dd=function(e,r,n,i){var a=n.args[i],o=a.valueSources,s=a.defaultValue,l=Zo(e,o,a),u=l.length?l[0]:void 0,c=s?v0(s)&&s.func?"func":"value":void 0,f=c||u,d=r.getIn(["args",i]);return d||(s!==void 0&&(r=r.setIn(["args",i,"value"],dj(a))),f&&(r=r.setIn(["args",i,"valueSrc"],f))),r},dj=function(e){var r=e.defaultValue;return v0(r)&&!Ue.Map.isMap(r)&&r.func?Ue.fromJS(r,function(n,i){return Ue.Iterable.isIndexed(i)?i.toList():i.toOrderedMap()}):r},Og=function(e,r,n,i,a){if(e&&e.get("func")){e=e.setIn(["args",r,"value"],n);var o=e.getIn(["args",r,"valueSrc"]),s=i.valueSources,l=Zo(a,s,i),u=l.length==1?l[0]:void 0;!u&&l.includes("value")&&(u="value"),!o&&u&&(e=e.setIn(["args",r,"valueSrc"],u))}return e},pj=function(e,r,n,i,a){return e&&e.get("func")&&(e=e.setIn(["args",r],new Ue.Map({valueSrc:n}))),e},hj=function(e,r,n,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if((e==null?void 0:e.returnType)!=(r==null?void 0:r.returnType))return[];var o=Object.keys(r.args),s=o.filter(function(l,u){var c=r.args[l],f=e.args[l];if(Object.keys(e.args).indexOf(l),!f&&(c.defaultValue!==void 0||c.isOptional))return!0;if((f==null?void 0:f.type)!=c.type||Jp.includes(c.type)&&(!f.listValuesType||f.listValuesType!==c.listValuesType))return!1;if(n){var d,p=n.get(l),v=p==null?void 0:p.get("value"),h=p==null?void 0:p.get("valueSrc");if(h&&c.valueSources&&!c.valueSources.includes(h))return!1;var g=null,y=null,m=c,_=null,b=!0,S=jl(i,g,m,y,v,m.type,h,_,a,b),O=ke(S,2);O[0];var x=O[1];if(x!=null&&(d=x.filter(function(E){return!E.fixed}))!==null&&d!==void 0&&d.length)return!1}return!0});return s};const gie=Object.freeze(Object.defineProperty({__proto__:null,completeFuncValue:cj,getCompatibleArgsOnFuncChange:hj,setArgValue:Og,setArgValueSrc:pj,setFunc:fj,setFuncDefaultArg:Dd},Symbol.toStringTag,{value:"Module"}));var Jp=["select","multiselect","treeselect","treemultiselect"],vj=function(e,r){var n;return((n=e.types[r])===null||n===void 0?void 0:n.operators)||null},Qp=function(e,r){var n=Me(e,r),i=n?n.operators:[];return i},g0=function(e,r){var n,i=Qp(e,r);return(n=i==null?void 0:i[0])!==null&&n!==void 0?n:null},gj=function(e,r,n){var i=null;if(e){if(r==="field"){var a=Me(n,e);a&&(i=a.type)}else if(r==="func"){var o=e.get("func");if(o){var s=Wr(n,o);s&&(i=s.returnType||s.type)}}}return i},mie=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;return Kc(e,r,n,"funcs","subfields")},Kc=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"fields",a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"subfields";if(!e)return null;var o=r.settings.fieldSeparator,s=Lr(e,r),l=Lr(n,r),u=s.slice(l.length).map(function(c,f,d){return d.slice(0,f+1)}).map(function(c){return[].concat(Ce(l),Ce(c)).join(o)}).map(function(c){var f=qi(r,c,i,a);return f&&f.label||Up(c.split(o))}).filter(function(c){return c!=null});return u},mj=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(!e)return null;var i=n&&qi(r,n)||null,a=r.settings.fieldSeparator,o=Lr(e,r),s=zj(e,n,r),l=s?Lr(n,r):[];return o.slice(l.length).map(function(u,c,f){return f.slice(0,c+1)}).map(function(u){return{part:[].concat(Ce(l),Ce(u)).join(a),key:u[u.length-1]}}).map(function(u){var c=u.part,f=u.key,d=qi(r,c);return{key:f,cnf:d}}).map(function(u,c,f){var d=u.key,p=u.cnf,v=c>0?f[c-1].cnf:i;return[d,p,v]})},yie=function(e,r,n,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:null,o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!1,s=_n(e,r,n,null,a)||{},l=jt(e,n,r)||{},u=o?1:l.cardinality,c=null;if(u>1){var f=s.valueLabels||l.valueLabels;f&&(c=f[i]),c&&wt(c)!=="object"&&(c={label:c,placeholder:c}),c||(c={label:e.settings.valueLabel+" "+(i+1),placeholder:e.settings.valuePlaceholder+" "+(i+1)})}else{var d=s.valueLabel,p=s.valuePlaceholder;c={label:d||e.settings.valueLabel,placeholder:p||e.settings.valuePlaceholder}}return c};function m0(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,i=[],a=[];if(!e)return{widgets:i,valueSrcs:a};var o=Xp(e),s=o?"".concat(o,"__").concat(r,"__").concat(n):null,l=Zp(t,"_getWidgetsAndSrcsForFieldOp",s);if(l)return l;var u=wt(e)==="object"&&(!!e.func&&!!e.arg||e._isFuncArg),c=Me(t,e),f=r?t.operators[r]:null;if(c!=null&&c.widgets){var d=function(){var y=c.widgets[p];if(!t.widgets[p])return 1;var m=t.widgets[p].valueSrc||"value",_=!0;if(p==="field"&&(_=_&&Zo(t,["field"],c).length>0),p==="func"&&(_=_&&Zo(t,["func"],c).length>0),n==="value"&&!y.operators&&!u&&e!=="!case_value"&&(_=!1),y.operators&&r&&(_=_&&y.operators.indexOf(r)!=-1),n&&n!=m&&n!=="const"&&(_=!1),f&&f.cardinality==0&&m!=="value"&&(_=!1),_){var b,S;i.push(p);var O=((b=c.valueSources)===null||b===void 0?void 0:b.indexOf(m))!=-1;(f==null||(S=f.valueSources)===null||S===void 0?void 0:S.indexOf(m))==-1&&(O=!1),O&&!a.find(function(x){return x==m})&&a.push(m)}};for(var p in c.widgets)d()}var v=function(y){var m=0;return c.preferWidgets?c.preferWidgets.includes(y)&&(m+=10-c.preferWidgets.indexOf(y)):y==c.mainWidget&&(m+=100),y==="field"&&(m-=1),y==="func"&&(m-=2),m};i.sort(function(g,y){return v(y)-v(g)});var h={widgets:i,valueSrcs:a};return eh(t,"_getWidgetsAndSrcsForFieldOp",s,h),h}var bie=function(e,r,n){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,a=m0(e,r,n,i),o=a.widgets;return o},Zo=function(e,r,n){var i;if(!n)return r;var a=(i=n.type)!==null&&i!==void 0?i:n.returnType;return a==="!group"&&(a="number"),r||(r=Object.keys(e.settings.valueSourcesInfo)),r.filter(function(o){var s=!0;if(o==="field"&&e.__fieldsCntByType){var l=n._isFuncArg?0:1;s=s&&e.__fieldsCntByType[a]>l}return o==="func"&&(n.funcs&&(s=s&&n.funcs.length>0),e.__funcsCntByType&&(s=s&&e.__funcsCntByType[a]>0)),s})},yj=function(e,r,n){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,a=m0(e,r,n,null),o=a.valueSrcs,s=Zo(e,o,i);return s},vr=function(e,r,n){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,a=m0(e,r,n,i),o=a.widgets,s=null;return o.length&&(s=o[0]),s},Ga=function(e,r,n){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};if(e){var o=Me(r,e)||{},s=r.settings.fieldSeparator,l=Lr(e,r),u=Array.isArray(e)?e.join(s):e;if(a!=null&&a.useTableName&&o.tableName){var c=Ce(l);c[0]=o.tableName,u=c.join(s)}if(o.fieldName&&(u=o.fieldName),i){Me(r,i);var f=i;u.indexOf(f+s)==0?u=u.slice((f+s).length):o.fieldName||n.errors.push("Can't cut group ".concat(f," from field ").concat(u))}return u}},y0=function(e,r){var n=e.get("type"),i=e.getIn(["properties","mode"]);return n=="rule_group"&&i=="array"?_ie(e,r):n=="group"||n=="rule_group"?Sie(e,r):Oie(e,r)},_ie=function(e,r){var n=e.get("children1"),i=e.get("properties");return bj(i.toObject(),n,r)},bj=function(e,r,n){var i,a,o=e.operator,s=(i=(a=n.operators[o])===null||a===void 0?void 0:a.cardinality)!==null&&i!==void 0?i:1,l=s==0,u={group:!_0(e,n),children:!b0(r,n)},c=u.group&&(l?u.children:!0);return!c},Sie=function(e,r){var n=e.get("children1");return b0(n,r)},b0=function(e,r){var n=(e==null?void 0:e.size)>0&&e.filter(function(i){return!y0(i,r)}).size>0;return!n},Oie=function(e,r){var n=e.get("properties");return _0((n==null?void 0:n.toObject())||{},r)},_0=function(e,r){var n=!0,i=3,a=S0(e,r,n),o=a.score>=i;return!o},S0=function(e,r){var n,i,a,o=e.field,s=e.fieldSrc;e.fieldType;var l=e.operator,u=e.value,c=e.valueSrc;e.valueType;var f=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,d=(n=(i=r.operators[l])===null||i===void 0?void 0:i.cardinality)!==null&&n!==void 0?n:1,p=c!=null&&c.get?c.toJS():c,v={parts:{},score:0};if(v.parts.field=f?o!=null:Af(o,s,r),v.parts.operator=!!l,v.parts.value=(u==null||(a=u.filter(function(g,y){return Af(g,p==null?void 0:p[y],r,f)}))===null||a===void 0?void 0:a.size)>=(f?Math.min(d,1):d),v.score=Object.keys(v.parts).filter(function(g){return!!v.parts[g]}).length,f&&v.score<3){var h=!0;!v.parts.value&&s==="func"&&Af(o,s,r,!1,h)&&v.score++,v.parts.field||u==null||u.map(function(g,y){(p==null?void 0:p[y])==="func"&&Af(g,p==null?void 0:p[y],r,!1,h)&&v.score++})}return v},Af=function t(e,r,n){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0;if(!i&&r=="func"&&e){var o,s=(o=e.get)===null||o===void 0?void 0:o.call(e,"func"),l=Wr(n,s);if(l){var u=e.get("args");for(var c in l.args){var f=l.args[c],d=u?u.get(c):void 0,p=d?d.get("value"):void 0,v=d?d.get("valueSrc"):void 0;if(p==null&&(f==null?void 0:f.defaultValue)===void 0&&!(f!=null&&f.isOptional)||p!=null&&!t(p,v,n,a?i:!0))return!1}return!0}}return e!=null},Ss=function(e,r,n){return r=="func"?cj(e,n):e},O0=function t(e){var r=e.get("children1");if((r==null?void 0:r.size)==1){var n=r.first(),i=n.get("type");return i==="group"?t(n):n}return null};const xie=Object.freeze(Object.defineProperty({__proto__:null,calculateValueType:gj,completeValue:Ss,filterValueSourcesForField:Zo,formatFieldName:Ga,getFieldPartsConfigs:mj,getFieldPathLabels:Kc,getFirstOperator:g0,getFuncPathLabels:mie,getOneChildOrDescendant:O0,getOperatorsForField:Qp,getOperatorsForType:vj,getValueLabel:yie,getValueSourcesForFieldOp:yj,getWidgetForFieldOp:vr,getWidgetsForFieldOp:bie,isEmptyGroupChildren:b0,isEmptyItem:y0,isEmptyRuleGroupExtPropertiesAndChildren:bj,isEmptyRuleProperties:_0,selectTypes:Jp,whatRulePropertiesAreCompleted:S0},Symbol.toStringTag,{value:"Module"}));var wie=Hp,Eie=_c;function Cie(t,e,r){(r!==void 0&&!Eie(t[e],r)||r===void 0&&!(e in t))&&wie(t,e,r)}var _j=Cie;function Tie(t){return function(e,r,n){for(var i=-1,a=Object(e),o=n(e),s=o.length;s--;){var l=o[t?s:++i];if(r(a[l],l,a)===!1)break}return e}}var kie=Tie,Iie=kie,Aie=Iie(),Sj=Aie,jie=Ml,Pie=ya;function Lie(t){return Pie(t)&&jie(t)}var Fie=Lie;function Rie(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}var Oj=Rie,$ie=iu,Nie=Uc;function Die(t){return $ie(t,Nie(t))}var Mie=Die,vO=_j,Vie=_I,Bie=xI,qie=SI,Hie=wI,gO=ap,mO=ti,zie=Fie,Uie=op,Wie=nm,Gie=xi,Yie=n0,Kie=fm,yO=Oj,Jie=Mie;function Qie(t,e,r,n,i,a,o){var s=yO(t,r),l=yO(e,r),u=o.get(l);if(u){vO(t,r,u);return}var c=a?a(s,l,r+"",t,e,o):void 0,f=c===void 0;if(f){var d=mO(l),p=!d&&Uie(l),v=!d&&!p&&Kie(l);c=l,d||p||v?mO(s)?c=s:zie(s)?c=qie(s):p?(f=!1,c=Vie(l,!0)):v?(f=!1,c=Bie(l,!0)):c=[]:Yie(l)||gO(l)?(c=s,gO(s)?c=Jie(s):(!Gie(s)||Wie(s))&&(c=Hie(l))):f=!1}f&&(o.set(l,c),i(c,l,n,a,o),o.delete(l)),vO(t,r,c)}var Xie=Qie,Zie=ip,eae=_j,tae=Sj,rae=Xie,nae=xi,iae=Uc,aae=Oj;function xj(t,e,r,n,i){t!==e&&tae(e,function(a,o){if(i||(i=new Zie),nae(a))rae(t,e,o,r,xj,n,i);else{var s=n?n(aae(t,o),a,o+"",t,e,i):void 0;s===void 0&&(s=a),eae(t,o,s)}},iae)}var wj=xj,oae=zp,sae=gI,lae=mI;function uae(t,e){return lae(sae(t,e,oae),t+"")}var cae=uae,fae=_c,dae=Ml,pae=sp,hae=xi;function vae(t,e,r){if(!hae(r))return!1;var n=typeof e;return(n=="number"?dae(r)&&pae(e,r.length):n=="string"&&e in r)?fae(r[e],t):!1}var Ej=vae,gae=cae,mae=Ej;function yae(t){return gae(function(e,r){var n=-1,i=r.length,a=i>1?r[i-1]:void 0,o=i>2?r[2]:void 0;for(a=t.length>3&&typeof a=="function"?(i--,a):void 0,o&&mae(r[0],r[1],o)&&(a=i<3?void 0:a,i=1),e=Object(e);++n<i;){var s=r[n];s&&t(e,s,n,a)}return e})}var Cj=yae,bae=wj,_ae=Cj,Sae=_ae(function(t,e,r){bae(t,e,r)}),Oae=Sae;const xae=en(Oae);var Tj={exports:{}};(function(t){var e=function(){function r(d,p){return p!=null&&d instanceof p}var n;try{n=Map}catch(d){n=function(){}}var i;try{i=Set}catch(d){i=function(){}}var a;try{a=Promise}catch(d){a=function(){}}function o(d,p,v,h,g){typeof p=="object"&&(v=p.depth,h=p.prototype,g=p.includeNonEnumerable,p=p.circular);var y=[],m=[],_=typeof Buffer<"u";typeof p>"u"&&(p=!0),typeof v>"u"&&(v=1/0);function b(S,O){if(S===null)return null;if(O===0)return S;var x,E;if(typeof S!="object")return S;if(r(S,n))x=new n;else if(r(S,i))x=new i;else if(r(S,a))x=new a(function($,U){S.then(function(M){$(b(M,O-1))},function(M){U(b(M,O-1))})});else if(o.__isArray(S))x=[];else if(o.__isRegExp(S))x=new RegExp(S.source,f(S)),S.lastIndex&&(x.lastIndex=S.lastIndex);else if(o.__isDate(S))x=new Date(S.getTime());else{if(_&&Buffer.isBuffer(S))return Buffer.allocUnsafe?x=Buffer.allocUnsafe(S.length):x=new Buffer(S.length),S.copy(x),x;r(S,Error)?x=Object.create(S):typeof h>"u"?(E=Object.getPrototypeOf(S),x=Object.create(E)):(x=Object.create(h),E=h)}if(p){var A=y.indexOf(S);if(A!=-1)return m[A];y.push(S),m.push(x)}r(S,n)&&S.forEach(function($,U){var M=b(U,O-1),R=b($,O-1);x.set(M,R)}),r(S,i)&&S.forEach(function($){var U=b($,O-1);x.add(U)});for(var C in S){var k;E&&(k=Object.getOwnPropertyDescriptor(E,C)),!(k&&k.set==null)&&(x[C]=b(S[C],O-1))}if(Object.getOwnPropertySymbols)for(var w=Object.getOwnPropertySymbols(S),C=0;C<w.length;C++){var I=w[C],L=Object.getOwnPropertyDescriptor(S,I);L&&!L.enumerable&&!g||(x[I]=b(S[I],O-1),L.enumerable||Object.defineProperty(x,I,{enumerable:!1}))}if(g)for(var P=Object.getOwnPropertyNames(S),C=0;C<P.length;C++){var V=P[C],L=Object.getOwnPropertyDescriptor(S,V);L&&L.enumerable||(x[V]=b(S[V],O-1),Object.defineProperty(x,V,{enumerable:!1}))}return x}return b(d,v)}o.clonePrototype=function(p){if(p===null)return null;var v=function(){};return v.prototype=p,new v};function s(d){return Object.prototype.toString.call(d)}o.__objToStr=s;function l(d){return typeof d=="object"&&s(d)==="[object Date]"}o.__isDate=l;function u(d){return typeof d=="object"&&s(d)==="[object Array]"}o.__isArray=u;function c(d){return typeof d=="object"&&s(d)==="[object RegExp]"}o.__isRegExp=c;function f(d){var p="";return d.global&&(p+="g"),d.ignoreCase&&(p+="i"),d.multiline&&(p+="m"),p}return o.__getRegExpFlags=f,o}();t.exports&&(t.exports=e)})(Tj);var wae=Tj.exports;const ui=en(wae);var kj={exports:{}};(function(t,e){(function(r,n){t.exports=n()})(kn,function(){Array.isArray||(Array.isArray=function(a){return Object.prototype.toString.call(a)==="[object Array]"});function r(a){for(var o=[],s=0,l=a.length;s<l;s++)o.indexOf(a[s])===-1&&o.push(a[s]);return o}var n={},i={"==":function(a,o){return a==o},"===":function(a,o){return a===o},"!=":function(a,o){return a!=o},"!==":function(a,o){return a!==o},">":function(a,o){return a>o},">=":function(a,o){return a>=o},"<":function(a,o,s){return s===void 0?a<o:a<o&&o<s},"<=":function(a,o,s){return s===void 0?a<=o:a<=o&&o<=s},"!!":function(a){return n.truthy(a)},"!":function(a){return!n.truthy(a)},"%":function(a,o){return a%o},log:function(a){return console.log(a),a},in:function(a,o){return!o||typeof o.indexOf>"u"?!1:o.indexOf(a)!==-1},cat:function(){return Array.prototype.join.call(arguments,"")},substr:function(a,o,s){if(s<0){var l=String(a).substr(o);return l.substr(0,l.length+s)}return String(a).substr(o,s)},"+":function(){return Array.prototype.reduce.call(arguments,function(a,o){return parseFloat(a,10)+parseFloat(o,10)},0)},"*":function(){return Array.prototype.reduce.call(arguments,function(a,o){return parseFloat(a,10)*parseFloat(o,10)})},"-":function(a,o){return o===void 0?-a:a-o},"/":function(a,o){return a/o},min:function(){return Math.min.apply(this,arguments)},max:function(){return Math.max.apply(this,arguments)},merge:function(){return Array.prototype.reduce.call(arguments,function(a,o){return a.concat(o)},[])},var:function(a,o){var s=o===void 0?null:o,l=this;if(typeof a>"u"||a===""||a===null)return l;for(var u=String(a).split("."),c=0;c<u.length;c++)if(l==null||(l=l[u[c]],l===void 0))return s;return l},missing:function(){for(var a=[],o=Array.isArray(arguments[0])?arguments[0]:arguments,s=0;s<o.length;s++){var l=o[s],u=n.apply({var:l},this);(u===null||u==="")&&a.push(l)}return a},missing_some:function(a,o){var s=n.apply({missing:o},this);return o.length-s.length>=a?[]:s}};return n.is_logic=function(a){return typeof a=="object"&&a!==null&&!Array.isArray(a)&&Object.keys(a).length===1},n.truthy=function(a){return Array.isArray(a)&&a.length===0?!1:!!a},n.get_operator=function(a){return Object.keys(a)[0]},n.get_values=function(a){return a[n.get_operator(a)]},n.apply=function(a,o){if(Array.isArray(a))return a.map(function(g){return n.apply(g,o)});if(!n.is_logic(a))return a;var s=n.get_operator(a),l=a[s],u,c,f,d,p;if(Array.isArray(l)||(l=[l]),s==="if"||s=="?:"){for(u=0;u<l.length-1;u+=2)if(n.truthy(n.apply(l[u],o)))return n.apply(l[u+1],o);return l.length===u+1?n.apply(l[u],o):null}else if(s==="and"){for(u=0;u<l.length;u+=1)if(c=n.apply(l[u],o),!n.truthy(c))return c;return c}else if(s==="or"){for(u=0;u<l.length;u+=1)if(c=n.apply(l[u],o),n.truthy(c))return c;return c}else{if(s==="filter")return d=n.apply(l[0],o),f=l[1],Array.isArray(d)?d.filter(function(g){return n.truthy(n.apply(f,g))}):[];if(s==="map")return d=n.apply(l[0],o),f=l[1],Array.isArray(d)?d.map(function(g){return n.apply(f,g)}):[];if(s==="reduce")return d=n.apply(l[0],o),f=l[1],p=typeof l[2]<"u"?n.apply(l[2],o):null,Array.isArray(d)?d.reduce(function(g,y){return n.apply(f,{current:y,accumulator:g})},p):p;if(s==="all"){if(d=n.apply(l[0],o),f=l[1],!Array.isArray(d)||!d.length)return!1;for(u=0;u<d.length;u+=1)if(!n.truthy(n.apply(f,d[u])))return!1;return!0}else if(s==="none"){if(d=n.apply(l[0],o),f=l[1],!Array.isArray(d)||!d.length)return!0;for(u=0;u<d.length;u+=1)if(n.truthy(n.apply(f,d[u])))return!1;return!0}else if(s==="some"){if(d=n.apply(l[0],o),f=l[1],!Array.isArray(d)||!d.length)return!1;for(u=0;u<d.length;u+=1)if(n.truthy(n.apply(f,d[u])))return!0;return!1}}if(l=l.map(function(g){return n.apply(g,o)}),i.hasOwnProperty(s)&&typeof i[s]=="function")return i[s].apply(o,l);if(s.indexOf(".")>0){var v=String(s).split("."),h=i;for(u=0;u<v.length;u++){if(!h.hasOwnProperty(v[u]))throw new Error("Unrecognized operation "+s+" (failed at "+v.slice(0,u+1).join(".")+")");h=h[v[u]]}return h.apply(o,l)}throw new Error("Unrecognized operation "+s)},n.uses_data=function(a){var o=[];if(n.is_logic(a)){var s=n.get_operator(a),l=a[s];Array.isArray(l)||(l=[l]),s==="var"?o.push(l[0]):l.forEach(function(u){o.push.apply(o,n.uses_data(u))})}return r(o)},n.add_operation=function(a,o){i[a]=o},n.rm_operation=function(a){delete i[a]},n.rule_like=function(a,o){if(o===a||o==="@")return!0;if(o==="number")return typeof a=="number";if(o==="string")return typeof a=="string";if(o==="array")return Array.isArray(a)&&!n.is_logic(a);if(n.is_logic(o)){if(n.is_logic(a)){var s=n.get_operator(o),l=n.get_operator(a);if(s==="@"||s===l)return n.rule_like(n.get_values(a,!1),n.get_values(o,!1))}return!1}if(Array.isArray(o))if(Array.isArray(a)){if(o.length!==a.length)return!1;for(var u=0;u<o.length;u+=1)if(!n.rule_like(a[u],o[u]))return!1;return!0}else return!1;return!1},n})})(kj);var Eae=kj.exports;const x0=en(Eae);function bO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function _O(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?bO(Object(r),!0).forEach(function(n){oe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):bO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Cae(t,e){return x0.apply(t,e)}function Tae(t,e){return x0.add_operation(t,e)}var SO={CALL:function(e,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a];return e.call.apply(e,[r].concat(i))},JSX:function(e,r){return{type:e,props:r}},mergeObjects:function(e,r){return _O(_O({},e),r)},fromEntries:function(e){return Object.fromEntries(e)},strlen:function(e){return(e==null?void 0:e.length)||0},regexTest:function(e,r,n){return(e==null?void 0:e.match(new RegExp(r,n)))!=null},now:function(){return new Date},date_add:function(e,r,n){return je(e).add(r,n).toDate()},toLowerCase:function(e){return e.toLowerCase()},toUpperCase:function(e){return e.toUpperCase()}};function kae(){for(var t in SO)Tae(t,SO[t])}function Iae(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=Aae(t))||e){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(u){throw u},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a=!0,o=!1,s;return{s:function(){r=r.call(t)},n:function(){var u=r.next();return a=u.done,u},e:function(u){o=!0,s=u},f:function(){try{!a&&r.return!=null&&r.return()}finally{if(o)throw s}}}}function Aae(t,e){if(t){if(typeof t=="string")return OO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return OO(t,e)}}function OO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function xO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function gn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?xO(Object(r),!0).forEach(function(n){oe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):xO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}kae();function Ij(t,e,r){var n;try{n=x0.apply(t,e)}catch(i){throw i.message="".concat(r.join(".")," :: ").concat(i.message),i}return n}function Aj(t,e,r,n){var i;try{i=e.call.apply(e,[t].concat(Ce(r)))}catch(a){throw a.message="".concat(n.join(".")," :: ").concat(a.message),a}return i}var ta=["conjunctions","fields","types","operators","widgets","settings","funcs","ctx"],mc={asyncFetch:{type:"f",args:["search","offset"]},labelYes:{type:"r"},labelNo:{type:"r"},marks:{type:"r",isArr:!0},validateValue:{type:"f",args:["val","fieldSettings","op","opDef","rightFieldDef"]}},w0=gn(gn({},mc),{},{factory:{type:"rf"},formatValue:{type:"f",args:["val","fieldDef","wgtDef","isForDisplay","op","opDef","rightFieldDef"]},sqlFormatValue:{type:"f",args:["val","fieldDef","wgtDef","op","opDef","rightFieldDef"]},spelFormatValue:{type:"f",args:["val","fieldDef","wgtDef","op","opDef","rightFieldDef"]},spelImportValue:{type:"f",args:["val","wgtDef","args"]},mongoFormatValue:{type:"f",args:["val","fieldDef","wgtDef","op","opDef"]},elasticSearchFormatValue:{type:"f",args:["queryType","val","op","field","config"]},jsonLogic:{type:"f",args:["val","fieldDef","wgtDef","op","opDef"]},jsonLogicImport:{type:"f",args:["val"]},validateValue:{type:"f",args:["val","fieldSettings","op","opDef","rightFieldDef"]},toJS:{type:"f",args:["val"]}}),jj={options:{factory:{type:"rf"}},formatOp:{type:"f",args:["field","op","vals","valueSrc","valueType","opDef","operatorOptions","isForDisplay","fieldDef"]},mongoFormatOp:{type:"f",args:["field","op","vals","useExpr","valueSrc","valueType","opDef","operatorOptions","fieldDef"]},sqlFormatOp:{type:"f",args:["field","op","vals","valueSrc","valueType","opDef","operatorOptions","fieldDef"]},spelFormatOp:{type:"f",args:["field","op","vals","valueSrc","valueType","opDef","operatorOptions","fieldDef"]},jsonLogic:{type:"f",ignore:"string",args:["field","op","vals","opDef","operatorOptions","fieldDef"]},elasticSearchQueryType:{type:"f",ignore:"string",args:["valueType"]},textSeparators:{type:"r",isArr:!0}},jae={formatConj:{type:"f",args:["children","conj","not","isForDisplay"]},sqlFormatConj:{type:"f",args:["children","conj","not"]},spelFormatConj:{type:"f",args:["children","conj","not","omitBrackets"]}},Pj={widgetProps:w0,opProps:jj},Pae={renderBrackets:{type:"r",isArr:!0},renderSeps:{type:"r",isArr:!0},jsonLogic:{type:"f",ignore:"string",args:["formattedArgs"]},jsonLogicImport:{type:"f",args:["val"]},spelImport:{type:"f",args:["spel"]},formatFunc:{type:"f",args:["formattedArgs","isForDisplay"]},sqlFormatFunc:{type:"f",args:["formattedArgs"]},mongoFormatFunc:{type:"f",args:["formattedArgs"]},spelFormatFunc:{type:"f",args:["formattedArgs"]}},wO=gn(gn({},mc),{},{fieldSettings:mc}),Lj=gn(gn({},mc),{},{fieldSettings:mc,widgets:{x:Pj},mainWidgetProps:w0}),Lae={locale:{mui:{type:"f",args:[],invokeWith:[],ignore:"jl"}},caseValueField:Lj,canCompareFieldWithField:{type:"f",args:["leftField","leftFieldConfig","rightField","rightFieldConfig","op"]},formatReverse:{type:"f",args:["q","op","reversedOp","operatorDefinition","revOperatorDefinition","isForDisplay"]},sqlFormatReverse:{type:"f",args:["q"]},spelFormatReverse:{type:"f",args:["q"]},formatField:{type:"f",args:["field","parts","label2","fieldDefinition","config","isForDisplay"]},formatSpelField:{type:"f",args:["field","parentField","parts","partsExt","fieldDefinition","config"]},formatAggr:{type:"f",args:["whereStr","aggrField","operator","value","valueSrc","valueType","opDef","operatorOptions","isForDisplay","aggrFieldDef"]},normalizeListValues:{type:"f",args:["listValues","type","fieldSettings"]},renderConfirm:{type:"f",args:["props"]},useConfirm:{type:"f",args:[]},renderField:{type:"rf"},renderOperator:{type:"rf"},renderFunc:{type:"rf"},renderConjs:{type:"rf"},renderButton:{type:"rf"},renderIcon:{type:"rf"},renderButtonGroup:{type:"rf"},renderValueSources:{type:"rf"},renderFieldSources:{type:"rf"},renderProvider:{type:"rf"},renderSwitch:{type:"rf"},renderSwitchPrefix:{type:"r"},renderItem:{type:"rf"},renderBeforeWidget:{type:"rf"},renderAfterWidget:{type:"rf"},renderBeforeActions:{type:"rf"},renderAfterActions:{type:"rf"},renderBeforeCaseValue:{type:"rf"},renderAfterCaseValue:{type:"rf"},renderRuleError:{type:"rf"}},Fae={fields:{x:Lj},widgets:{x:w0},conjunctions:{x:jae},operators:{x:jj},types:{x:{widgets:{x:Pj}}},funcs:{x:gn(gn(gn({},wO),Pae),{},{args:{x:gn({},wO)}})},settings:Lae},cl=function(e){return wt(e)=="object"&&e!==null&&!Array.isArray(e)},Fj=function(e,r){if(e.__fieldNames)throw new Error("Don't apply `compressConfig()` to extended config");var n=ga(e,ta);delete n.ctx;for(var i=function u(c,f,d,p){if(cl(c)){if(zc(c)&&(c=Ky(c)),d[0]==="funcs"&&!f){var v=d[d.length-1];f=qi({funcs:p.BasicFuncs},v,"funcs","subfields")||void 0,f&&(c.$$key=v)}if(f!==void 0&&cl(f))for(var h in f)Object.prototype.hasOwnProperty.call(f,h)&&(!Object.keys(c).includes(h)||c[h]===void 0&&f[h]!==void 0?c[h]="$$deleted":(c[h]=u(c[h],f[h],[].concat(Ce(d),[h]),p),c[h]===void 0&&delete c[h]));for(var g in c)if(Object.prototype.hasOwnProperty.call(c,g)){if(!f||!Object.keys(f).includes(g)){var y;c[g]=u(c[g],(y=f)===null||y===void 0?void 0:y[g],[].concat(Ce(d),[g]),p)}c[g]===void 0&&delete c[g]}Object.keys(c).length===0&&(c=void 0)}else Array.isArray(c)&&c.forEach(function(m,_){c[_]=u(c[_],void 0,[].concat(Ce(d),[_]),p)});if(!(f!==void 0&&Hc(c,f,!0))){if(typeof c=="function")throw new Error("compressConfig: function at ".concat(d.join(".")," should be converted to JsonLogic"));return c}},a=0,o=ta;a<o.length;a++){var s=o[a];if(s!=="ctx")if(s==="fields")n[s]=ui(n[s]),i(n[s],{},[s]);else if(s==="funcs"){n[s]=ui(n[s]||{});for(var l in n[s])i(n[s][l],null,[s,l],{BasicFuncs:SE})}else n[s]=ui(n[s]),i(n[s],r[s],[s])}return n},Rj=function(e,r,n){if(!e.settings.useConfigCompress)throw new Error("Please enable `useConfigCompress` in config settings to use decompressConfig()");for(var i={},a=function c(f,d,p){if(cl(d)){cl(f)||(f={});for(var v in d)Object.prototype.hasOwnProperty.call(d,v)&&(d[v]==="$$deleted"?delete f[v]:f[v]=c(f[v],d[v],[].concat(Ce(p),[v])))}else Array.isArray(d)?f=ui(d):f=d;return f},o=function c(f,d,p){var v=!1;if(cl(f)&&Object.prototype.hasOwnProperty.call(f,"$$key")&&f.$$key){var h=qi({funcs:p.BasicFuncs},f.$$key,"funcs","subfields");if(h)delete f.$$key,f=a(ui(h),f,d),v=!0;else throw new Error("decompressConfig: basic function not found by key ".concat(f.$$key," at ").concat(d.join(".")))}if(!v){if(cl(f))for(var g in f)Object.prototype.hasOwnProperty.call(f,g)&&(f[g]=c(f[g],[].concat(Ce(d),[g]),p));else if(Array.isArray(f)){var y=Iae(f),m;try{for(y.s();!(m=y.n()).done;){var _=m.value;f[_]=c(f[_],[].concat(Ce(d),[_]),p)}}catch(b){y.e(b)}finally{y.f()}}}return f},s=0,l=ta;s<l.length;s++){var u=l[s];u==="ctx"?i[u]=xae({},r.ctx||{},n||{}):u==="funcs"?(i[u]=ui(e[u]||{}),o(i[u],[u],{BasicFuncs:SE})):u==="fields"?i[u]=ui(e[u]||{}):(i[u]=ui(r[u]||{}),a(i[u],e[u]||{},[u]))}return i},$j=function(e){if(e.__compliled)return e;e=ui(e);var r={ctx:e.ctx},n=[];return id(e,e,r,Fae,n),Object.defineProperty(e,"__compliled",{enumerable:!1,writable:!1,value:!0}),e};function id(t,e,r,n,i){var a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:[];if(e){a.length;for(var o in n){var s=n[o],l=o==="x"?a:[].concat(Ce(a),[o]);if(s.type==="r"){var u=e,c=u[o];if(s.isArr)for(var f in c){var d=Pl(c[f],r,[].concat(Ce(l),[f]));d!==c[f]&&(i.push("Compiled ".concat(l.join("."),"[").concat(f,"]")),c[f]=d)}else{var p=Pl(c,r,l,void 0);p!==c&&(i.push("Compiled R ".concat(l.join("."))),u[o]=p)}}else if(s.type==="rf"){var v=e,h=v[o],g=Rae(h,r,l,s.ignore);g!==h&&(i.push("Compiled JL-RF ".concat(l.join("."))),v[o]=g)}else if(s.type==="f"){var y=e,m=y[o],_=$ae(m,r,l,s.args,s.ignore);if(s.invokeWith&&_&&typeof _=="function"){var b;_=(b=_).call.apply(b,[null].concat(Ce(s.invokeWith)))}_!==m&&(i.push("Compiled JL-F ".concat(l.join("."))),y[o]=_)}else if(o==="x")for(var S in e){l=[].concat(Ce(a),[S]);var O=e[S];id(t,O,r,s,i,l),O.subfields&&id(t,O.subfields,r,n,i,l)}else{var x=e[o];id(t,x,r,s,i,l)}}}}function Rae(t,e,r){return jn(t)?function(n,i){i=i||(e==null?void 0:e.ctx);var a={props:n,ctx:i},o=Ij(t,a,r);typeof o=="string"&&(o={type:o,props:n});var s=Pl(o,{ctx:i},r);return s}:typeof t=="string"?function(n,i){i=i||(e==null?void 0:e.ctx);var a=t.split(".").reduce(function(l,u){return l==null?void 0:l[u]},i);if(a)return Aj(this,a,[n,i],r);var o={type:t,props:n},s=Pl(o,{ctx:i},r);return s}:t}function $ae(t,e,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:void 0;return jn(t)&&i!=="jl"?(function(){for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];var l=this||(e==null?void 0:e.ctx),u=(n||[]).reduce(function(f,d,p){return gn(gn({},f),{},oe({},d,o[p]))},{args:o,ctx:l}),c=Ij(t,u,r);return c}).bind(e==null?void 0:e.ctx):typeof t=="string"&&i!=="string"?(function(){var a=this||(e==null?void 0:e.ctx),o=t.split(".").reduce(function(c,f){return c==null?void 0:c[f]},a);if(o){for(var s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];return Aj(this,o,l,r)}else throw new Error("".concat(r.join(".")," :: Function ").concat(t," is not found in ctx"))}).bind(e==null?void 0:e.ctx):t}function Nae(t,e){var r;return(e==null||(r=e.components)===null||r===void 0?void 0:r[t])||e.W[t]||e.O[t]}function Pl(t,e,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:void 0;if(Jy(t)){var i,a=t.type,o=t.props;if(typeof a!="string")throw new Error("renderReactElement for ".concat(r.join("."),": type should be string"));var s=Nae(a,e.ctx)||a.toLowerCase(),l;n!==void 0&&(o=gn(gn({},o),{},{key:n})),(i=o)!==null&&i!==void 0&&i.children&&(l=Pl(o.children,e,r),o=gn(gn({},o),{},{children:l}));var u=e.ctx.RCE(s,o);return u}else if(t instanceof Array)return t.map(function(c,f){return Pl(c,e,r,""+f)});return t}var Dae=wj,Mae=Cj,Vae=Mae(function(t,e,r,n){Dae(t,e,r,n)}),Bae=Vae;const qae=en(Bae);var Nj={reverseOperatorsForNot:!1,canShortMongoQuery:!0,formatField:function(e,r,n,i,a,o){return o?n:e},caseValueField:{type:"case_value"},fieldSources:["field"],keepInputOnChangeFieldSrc:!0,fieldItemKeysForSearch:["label","path","altLabel","grouplabel"],listKeysForSearch:["title","value"],valueSourcesInfo:{value:{}},fieldSeparator:".",fieldSeparatorDisplay:".",canReorder:!0,canRegroup:!0,canDeleteLocked:!1,canLeaveEmptyGroup:!0,shouldCreateEmptyGroup:!1,exportPreserveGroups:!1,removeEmptyGroupsOnLoad:!0,removeEmptyRulesOnLoad:!0,removeIncompleteRulesOnLoad:!1,removeInvalidMultiSelectValuesOnLoad:!0,showErrorMessage:!1,setOpOnChangeField:["keep","default"],groupOperators:["some","all","none"],defaultGroupConjunction:"AND",locale:{moment:"en"},valueLabel:"Value",valuePlaceholder:"Value",fieldLabel:"Field",operatorLabel:"Operator",funcLabel:"Function",fieldPlaceholder:"Select field",funcPlaceholder:"Select function",operatorPlaceholder:"Select operator",lockLabel:"Lock",lockedLabel:"Locked",deleteLabel:"Delete",addGroupLabel:"Add group",addCaseLabel:"Add condition",addDefaultCaseLabel:"Add default condition",defaultCaseLabel:"Default:",addRuleLabel:"Add rule",addSubRuleLabel:"Add sub rule",delGroupLabel:"Delete",notLabel:"Not",fieldSourcesPopupTitle:"Select source",valueSourcesPopupTitle:"Select value source",removeRuleConfirmOptions:null,removeGroupConfirmOptions:null};function Zh(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=Hae(t))||e){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(u){throw u},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a=!0,o=!1,s;return{s:function(){r=r.call(t)},n:function(){var u=r.next();return a=u.done,u},e:function(u){o=!0,s=u},f:function(){try{!a&&r.return!=null&&r.return()}finally{if(o)throw s}}}}function Hae(t,e){if(t){if(typeof t=="string")return EO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return EO(t,e)}}function EO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var zae=0,CO=0,yl,Md={},Dj=function(){return yl||(yl=Vj({reactIndex:void 0,maxSize:3,canCompile:void 0})),yl},Mj=function(e,r){var n;for(var i in Md){var a=Md[i].findExtendedConfig(e,r);if(a){n=a;break}}return n},Vj=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{reactIndex:void 0,maxSize:2,canCompile:!0},r=new Map,n=e.maxSize||2,i=++zae,a,o=function(h){return ga(h,ta)},s=function(h){var g=ii(h,++CO,e.canCompile);return u(h,g),g},l=function(){return r.size},u=function(h,g){r.size+1>n&&r.delete(r.keys().next().value),r.set(h,g)},c=function(h){var g=Zh(r.keys()),y;try{var m=function(){var S=y.value,O=r.get(S),x=ta.map(function(E){return O[E]===h[E]}).filter(function(E){return!E}).length===0;if(x)return{v:S}},_;for(g.s();!(y=g.n()).done;)if(_=m(),_)return _.v}catch(b){g.e(b)}finally{g.f()}return h},f=function(h,g){var y=Zh(r.keys()),m;try{var _=function(){var C=m.value,k=ta.filter(function(I){return C[I]===h[I]}),w=k.length===ta.length&&(g?C.__compliled:!0);if(w)return{v:r.get(C)}},b;for(y.s();!(m=y.n()).done;)if(b=_(),b)return b.v}catch(A){y.e(A)}finally{y.f()}var S=Zh(r.values()),O;try{var x=function(){var C=O.value,k=ta.filter(function(I){return C[I]===h[I]}),w=k.length===ta.length&&(g?C.__compliled:!0);if(w)return{v:C}},E;for(S.s();!(O=S.n()).done;)if(E=x(),E)return E.v}catch(A){S.e(A)}finally{S.f()}return null},d=function(h){return f(h)||s(h)},p=function(){r.clear(),delete Md[i],yl===a&&(yl=void 0)};return a={getExtendedConfig:function(h){return d(o(h))},findExtendedConfig:f,getBasicConfig:c,clearConfigMemo:p,configId:CO,storeConfigPair:u,getSize:l,configStore:r,memoId:i,meta:e},e.reactIndex===void 0&&(yl=a),Md[i]=a,a};function E0(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=Uae(t))||e){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(u){throw u},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a=!0,o=!1,s;return{s:function(){r=r.call(t)},n:function(){var u=r.next();return a=u.done,u},e:function(u){o=!0,s=u},f:function(){try{!a&&r.return!=null&&r.return()}finally{if(o)throw s}}}}function Uae(t,e){if(t){if(typeof t=="string")return TO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return TO(t,e)}}function TO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function kO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function oi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?kO(Object(r),!0).forEach(function(n){oe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):kO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var ii=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(n=n&&e.settings.useConfigCompress,e.__configId)return e;var i=Mj(e,n);if(i)return i;var a=e;n?e.__compliled?e=ui(e):e=$j(e):e=ui(e),e.settings=qae({},Nj,e.settings,eI),e.__fieldsCntByType={},e.__funcsCntByType={},e.__fieldNames={},Wae(e.types,e),Bj(e.fields,e),qj(e.funcs,e);var o=e.settings.caseValueField;o&&Vd(o,e,[],!1,!0);var s=e.settings.locale.moment;s&&je.locale(s),Object.defineProperty(e,"__configId",{enumerable:!1,writable:!1,value:r||Lt()}),e.__cache={},rI(e);var l=Dj();return l.storeConfigPair(a,e),e};function Wae(t,e){for(var r in t){var n=t[r];Gae(r,n,e)}}function Gae(t,e,r){var n=null,i=null;e.mainWidget=e.mainWidget||Object.keys(e.widgets).filter(function(p){return p!="field"&&p!="func"})[0];var a=e.excludeOperators||[];for(var o in e.widgets){var s=e.widgets[o],l=s.defaultOperator;if(s.operators){var u=s.operators.filter(function(p){return!a.includes(p)});n=jd(n,u)}l&&!a.includes(l)&&(!i||o===e.mainWidget)&&(i=l),o==e.mainWidget&&(s.widgetProps=oi(oi({},e.mainWidgetProps||{}),s.widgetProps||{})),e.widgets[o]=s}e.valueSources||(e.valueSources=Object.keys(r.settings.valueSourcesInfo));var c=E0(e.valueSources),f;try{for(c.s();!(f=c.n()).done;){var d=f.value;d!="value"&&!e.widgets[d]&&(e.widgets[d]={})}}catch(p){c.e(p)}finally{c.f()}!e.operators&&n&&(e.operators=Array.from(new Set(n))),!e.defaultOperator&&i&&(e.defaultOperator=i)}function Bj(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];for(var n in t){var i=[].concat(Ce(r),[n]);Vd(t[n],e,i),t[n].subfields&&Bj(t[n].subfields,e,i)}}function qj(t,e){var r,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];if(t){var i=(e==null||(r=e.settings)===null||r===void 0?void 0:r.fieldSeparator)||".";for(var a in t){var o=[].concat(Ce(n),[a]),s=o.join(i),l=t[a];if(l.returnType&&(l.type=l.returnType,e.__funcsCntByType[l.returnType]||(e.__funcsCntByType[l.returnType]=0),e.__funcsCntByType[l.returnType]++),Vd(l,e,o,!1),l.args){for(var u in l.args)Vd(l.args[u],e,[].concat(Ce(o),[u]),!0);var c=Object.keys(l.args),f=!0,d=E0(c.reverse()),p;try{for(d.s();!(p=d.n()).done;){var v=p.value,h=l.args[v];!f&&h.isOptional&&(Oo.info("Arg ".concat(v," for func ").concat(s," can't be optional")),delete h.isOptional),h.isOptional||(f=!1)}}catch(g){d.e(g)}finally{d.f()}}l.subfields&&qj(l.subfields,e,[].concat(Ce(n),[a]))}}}function Yae(t,e,r){for(var n,i,a=["listValues","treeValues","allowCustomValues","validateValue"],o=0,s=a;o<s.length;o++){var l=s[o];t[l]&&(t.fieldSettings||(t.fieldSettings={}),t.fieldSettings[l]=t[l],delete t[l])}(n=t.fieldSettings)!==null&&n!==void 0&&n.listValues&&e.settings.normalizeListValues&&(t.fieldSettings.listValues=e.settings.normalizeListValues.call(e.ctx,t.fieldSettings.listValues,r,t.fieldSettings)),(i=t.fieldSettings)!==null&&i!==void 0&&i.treeValues&&e.settings.normalizeListValues&&(t.fieldSettings.treeValues=e.settings.normalizeListValues.call(e.ctx,t.fieldSettings.treeValues,r,t.fieldSettings))}function Vd(t,e){var r,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,o=e.settings,s=o.showLabels,l=o.fieldSeparator;l=(r=l)!==null&&r!==void 0?r:".";var u=n[n.length-1],c=i?n.slice(0,n.length-1).join(l):n.join(l),f=!!t.returnType,d=t.type||t.returnType,p=e.types[d],v=t.excludeOperators||[],h=(t.operators||(p==null?void 0:p.operators)||[]).filter(function(A){return!v.includes(A)}),g=t.defaultOperator||(p==null?void 0:p.defaultOperator);v.includes(g)&&(g=void 0);var y=!!g&&g==t.defaultOperator;if(y&&(t.ownDefaultOperator=t.defaultOperator),!p){t.disabled=!0;return}!i&&!f&&!a&&(e.__fieldsCntByType[d]||(e.__fieldsCntByType[d]=0),e.__fieldsCntByType[d]++),i&&(t._isFuncArg=!0,t._argKey=u,t._funcKey=c),f&&(t._isFunc=!0,t._funcKey=c),a&&(t._isCaseValue=!0),Yae(t,e,d);var m=["widgets","operators","defaultOperator"];Object.keys(p).filter(function(A){return!m.includes(A)}).map(function(A){t[A]||(t[A]=Xk(p[A]))});var _=p.excludeOperators||[];t.operators&&(_=_.filter(function(A){return!t.operators.includes(A)})),t.widgets||(t.widgets={});var b=function(){var C=oi({},t.widgets[S]||{}),k=p.widgets[S]||{};if(!i){var w=C.defaultOperator,I=[].concat(Ce(v),Ce(_)),L=t.preferWidgets&&(S==="field"||t.preferWidgets.includes(S))||I.length>0;if(C.operators){var P=C.operators.filter(function(G){return!I.includes(G)});C.operators=P,h=jd(h,P)}else if(L&&k.operators){var V=k.operators.filter(function(G){return!I.includes(G)});C.operators=V,h=jd(h,V)}w&&!I.includes(w)&&(!g||!y&&S===t.mainWidget)&&(g=w)}S===t.mainWidget?C.widgetProps=oi(oi(oi({},k.widgetProps||{}),t.mainWidgetProps||{}),C.widgetProps||{}):C.widgetProps=oi(oi({},k.widgetProps||{}),C.widgetProps||{});var $=Array.from(new Set([].concat(Ce(Object.keys(k.opProps||{})),Ce(Object.keys(C.opProps||{})))));if($.length){var U={},M=E0($),R;try{for(M.s();!(R=M.n()).done;){var F,N,B=R.value;U[B]=oi(oi({},((F=k.opProps)===null||F===void 0?void 0:F[B])||{}),((N=C.opProps)===null||N===void 0?void 0:N[B])||{})}}catch(G){M.e(G)}finally{M.f()}C.opProps=U}var q=C,W=q.valueLabel,D=q.valuePlaceholder;i&&(W||(C.valueLabel=t.label||u),!D&&!s&&(C.valuePlaceholder=t.label||u)),C=oi(oi({},k),C),t.widgets[S]=C};for(var S in p.widgets)b();if(i||(t.operators||(t.operators=Array.from(new Set(h))),t.defaultOperator||(t.defaultOperator=g)),!i&&!f&&!a){var O=Kae(e,n),x=O.fieldName,E=O.inGroup;x&&(t.fieldName=x,e.__fieldNames[x]||(e.__fieldNames[x]=[]),e.__fieldNames[x].push({fullPath:n,inGroup:E}))}}function Kae(t,e){if(!e)return{};var r=t.settings.fieldSeparator,n=Ce(e).reduce(function(s,l,u,c){var f=s.computedPath,d=s.computed,p=s.inGroup,v=[].concat(Ce(c.slice(0,u)),[l]),h=qi(t,v);return(h==null?void 0:h.type)==="!group"&&u<c.length-1?(p=v.join(r),f=[]):h!=null&&h.fieldName?(d=!0,f=[h.fieldName]):f=[].concat(Ce(f),[l]),{computedPath:f,computed:d,inGroup:p}},{computedPath:[],computed:!1,inGroup:void 0}),i=n.computedPath,a=n.computed,o=n.inGroup;return a?{fieldName:i.join(r),inGroup:o}:{}}function IO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Wo(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?IO(Object(r),!0).forEach(function(n){oe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):IO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var Jae=Nr.mark(ou),Qae=Nr.mark(Hj),Xae=_s;function ou(t){return Nr.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.delegateYield(C0(t,t.funcs||{},[]),"t0",1);case 1:case"end":return r.stop()}},Jae)}function Hj(t){return Nr.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.delegateYield(C0(t,t.fields||{},[]),"t0",1);case 1:case"end":return r.stop()}},Qae)}function C0(t,e,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"subfields";return Nr.mark(function i(a){var o,s,l;return Nr.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:o=(t==null||(a=t.settings)===null||a===void 0?void 0:a.fieldSeparator)||".",c.t0=Nr.keys(e);case 2:if((c.t1=c.t0()).done){c.next=13;break}if(s=c.t1.value,l=e[s],!l[n]){c.next=9;break}return c.delegateYield(C0(t,l[n],[].concat(Ce(r),[s]),n),"t2",7);case 7:c.next=11;break;case 9:return c.next=11,[[].concat(Ce(r),[s]).join(o),l];case 11:c.next=2;break;case 13:case"end":return c.stop()}},i)})()}var qi=function(e,r){var n,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"fields",a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"subfields";if(!r)return null;if(r==="!case_value"){var o;return e==null||(o=e.settings)===null||o===void 0?void 0:o.caseValueField}var s=(e==null||(n=e.settings)===null||n===void 0?void 0:n.fieldSeparator)||".",l=Lr(r,e),u=e[i];if(!u)return null;for(var c=u,f=null,d=[],p=0;p<l.length;p++){var v=l[p];d.push(v);var h=d.join(s);f=c[h],p<l.length-1&&(f&&f[a]?(c=f[a],d=[]):f=null)}return f},Bd=function(e,r){var n,i,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,o=e.settings.fieldSeparator,s=[a].concat(Ce(r.split(o))).filter(function(c){return c!=null}),l=r,u=(n=e.__fieldNames[l])===null||n===void 0||(i=n.find)===null||i===void 0||(i=i.call(n,function(c){var f=c.inGroup;return f?a==null?void 0:a.startsWith(f):!0}))===null||i===void 0?void 0:i.fullPath;return(u||s).join(o)},xg=function(e,r){if(!r)return null;var n=qi(e,r,"funcs","subfields");if(!n)return null;var i=n.returnType,a=n.args,o=Object.fromEntries(Object.entries(a||{}).map(function(l){var u=ke(l,2),c=u[0],f=u[1],d=ga(f,["type","valueSources","defaultValue","fieldSettings","isOptional","_funcKey","_argKey","_isFuncArg"]);return[c,d]})),s={returnType:i,args:o};return s},Wr=function(e,r){if(!r)return null;var n=qi(e,r,"funcs","subfields");return n||null},wg=function(e,r,n){var i=Wr(e,r);if(!i)return null;var a=i.args&&i.args[n]||null;return a||null},zj=function(e,r){var n,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(!r)return!1;var a=(i==null||(n=i.settings)===null||n===void 0?void 0:n.fieldSeparator)||".",o=Zi(e,i),s=Zi(r,i);return o.startsWith(s+a)},Zi=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof e=="string")return e;var i=(n==null||(r=n.settings)===null||r===void 0?void 0:r.fieldSeparator)||".";return Lr(e,n).join(i)},Lr=function(e){var r,n,i,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!e)return[];if(Array.isArray(e))return e;var o=(a==null||(r=a.settings)===null||r===void 0?void 0:r.fieldSeparator)||".";if(e!=null&&e.func)return Array.isArray(e.func)?e.func:e.func.split(o);if(e!=null&&(n=e.get)!==null&&n!==void 0&&n.call(e,"func")){var s;return e==null||(s=e.get)===null||s===void 0?void 0:s.call(e,"func").split(o)}return(e==null||(i=e.split)===null||i===void 0?void 0:i.call(e,o))||[]},Zae=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(!e)return null;var i=r.settings.fieldSeparator,a=Lr(e,r);return n?a:a.map(function(o,s,l){return l.slice(0,s+1)}).map(function(o){return o.join(i)})},Xp=function(e){var r;if(typeof e=="string"||Array.isArray(e))return"field:".concat(Zi(e));if(wt(e)==="object"&&e){if(e._funcKey&&e._argKey)return"arg:".concat(Zi(e._funcKey),"__").concat(e._argKey);if(e._funcKey)return"func:".concat(Zi(e._funcKey));if(e.func&&e.arg)return"arg:".concat(Zi(e.func),"__").concat(e.arg);if(e.func)return"func:".concat(Zi(e.func));if(e.type)return null}return e!=null&&(r=e.get)!==null&&r!==void 0&&r.call(e,"func")?e!=null&&e.get("arg")?"arg:".concat(Zi(e.get("func")),"__").concat(e.get("arg")):"func:".concat(Zi(e.get("func"))):null},Zp=function(e,r,n){var i;return(i=e.__cache)===null||i===void 0||(i=i[r])===null||i===void 0?void 0:i[n]},eh=function(e,r,n,i){!e.__cache||!n||(e.__cache[r]||(e.__cache[r]={}),e.__cache[r][n]=i)},Uj=function(e){var r;if(!e)return null;if(wt(e)==="object"){if(!e.func&&e.type)return"field";if(e.func)return e.func&&e.arg?null:"func"}return e!=null&&(r=e.get)!==null&&r!==void 0&&r.call(e,"func")?e!=null&&e.get("arg")?null:"func":"field"},Me=function(e,r){var n;if(!r)return null;if(wt(r)=="object"){if(!r.func&&r.type)return r;if(r.func)return r.func&&r.arg?wg(e,r.func,r.arg):Wr(e,r.func)}if(r!=null&&(n=r.get)!==null&&n!==void 0&&n.call(r,"func"))return r!=null&&r.get("arg")?wg(e,r.get("func"),r.get("arg")):Wr(e,r.get("func"));var i=qi(e,r);return i||null},jt=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(!r)return null;var i=e.operators[r];if(n){var a,o,s=Xp(n),l=s?"".concat(s,"__").concat(r):null,u=Zp(e,"getOperatorConfig",l);if(u)return u;var c=Me(e,n),f=vr(e,n,r,null),d=e.widgets[f]||{},p=(c&&c.widgets?c.widgets[f]:{})||{},v=((a=d.opProps)===null||a===void 0?void 0:a[r])||{},h=((o=p.opProps)===null||o===void 0?void 0:o[r])||{},g=Wo(Wo(Wo({},i),v),h);return eh(e,"getOperatorConfig",l,g),g}else return i},_n=function(e,r){var n,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:null,s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{};if(!r)return null;var l=Me(e,r),u=Xp(r);a||(a=vr(e,r,i,o));var c=u?"".concat(u,"__").concat(i,"__").concat(a,"__").concat(o):null,f=Zp(e,"getFieldWidgetConfig",c);if(f)return f;var d=e.widgets[a]||{},p=(l==null||(n=l.widgets)===null||n===void 0?void 0:n[a])||{},v=p.widgetProps||{},h=o==="value"||!o?l==null?void 0:l.fieldSettings:{},g=Wo(Wo(Wo(Wo({},d),p),v),h);return eh(e,"getFieldWidgetConfig",c,g),s.forExport&&(g=ni(g,"factory")),g},Wj=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,n=e.settings.fieldSeparator,i=Lr(r,e),a=r?qi(e,r):e,o=a,s=null,l=[];do{var u,c=o===e?e.fields:(u=o)===null||u===void 0?void 0:u.subfields;if(!c||!Object.keys(c).length){o=s=null;break}s=Object.keys(c)[0],l.push(s),o=c[s]}while(o.type=="!struct"||o.type=="!group");return(i||[]).concat(l).join(n)};const eoe=Object.freeze(Object.defineProperty({__proto__:null,_getFromConfigCache:Zp,_saveToConfigCache:eh,_widgetDefKeysToOmit:Xae,applyJsonLogic:Cae,cleanJSX:Ky,compileConfig:$j,compressConfig:Fj,configKeys:ta,createConfigMemo:Vj,decompressConfig:Rj,extendConfig:ii,findExtendedConfigInAllMemos:Mj,getCommonMemo:Dj,getFieldConfig:Me,getFieldId:Xp,getFieldParts:Lr,getFieldPath:Zi,getFieldPathParts:Zae,getFieldRawConfig:qi,getFieldSrc:Uj,getFieldWidgetConfig:_n,getFirstField:Wj,getFuncArgConfig:wg,getFuncConfig:Wr,getFuncSignature:xg,getOperatorConfig:jt,isDirtyJSX:zc,isFieldDescendantOfField:zj,isJSX:Jy,iterateFields:Hj,iterateFuncs:ou,normalizeField:Bd},Symbol.toStringTag,{value:"Module"}));function AO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function jO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?AO(Object(r),!0).forEach(function(n){oe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):AO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var toe=function(e,r){var n={usedFields:[]},i=Gj(e,r,n);if(i)return jO(jO({},i),n)},Gj=function(e,r,n){if(e){var i=e.get("type"),a=e.get("children1");if((i==="group"||i==="rule_group")&&a&&a.size)return roe(e,r,n);if(i==="rule")return noe(e,r,n)}},roe=function(e,r,n){var i=e.get("properties")||new lr,a=e.get("children1"),o=e.get("id"),s=a.map(function(f){return Gj(f,r,n)}).filter(function(f){return typeof f<"u"});if(s.size){var l=i.get("conjunction");l||(l=wa(r));var u=i.get("not"),c={id:o,rules:s.toList(),condition:l.toUpperCase(),not:u};return c}},noe=function(e,r,n){var i,a=e.get("properties")||new lr,o=e.get("id"),s=a.get("operator"),l=a.get("operatorOptions"),u=a.get("field"),c=a.get("value"),f=a.get("valueSrc"),d=a.get("valueType"),p=c.filter(function(C){return C===void 0}).size>0;if(!(u==null||s==null||p)){var v=Me(r,u)||{},h=jt(r,s,u)||{},g=v.type||"undefined",y=zr(h),m=r.types[v.type]||{},_=Ga(u,r,n);if(!(c.size<y)){n.usedFields.indexOf(u)==-1&&n.usedFields.push(u),c=c.toArray(),f=f.toArray(),d=((i=d)===null||i===void 0?void 0:i.toArray())||[];for(var b=[],S=0;S<c.length;S++){var O={type:d[S],value:c[S]};if(b.push(O),f[S]=="field"){var x=c[S];n.usedFields.indexOf(x)==-1&&n.usedFields.push(x)}}var E=l?l.toJS():null;E&&!Object.keys(E).length&&(E=null);var A={id:o,fieldName:_,type:g,input:m.mainWidget,operator:s};return E&&(A.operatorOptions=E),A.values=b,A}}};function PO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function LO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?PO(Object(r),!0).forEach(function(n){oe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):PO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Yj(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=ioe(t))||e){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(u){throw u},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a=!0,o=!1,s;return{s:function(){r=r.call(t)},n:function(){var u=r.next();return a=u.done,u},e:function(u){o=!0,s=u},f:function(){try{!a&&r.return!=null&&r.return()}finally{if(o)throw s}}}}function ioe(t,e){if(t){if(typeof t=="string")return FO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return FO(t,e)}}function FO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var aoe=function(e,r){var n={usedFields:[],errors:[]},i=ii(r,void 0,!1),a=Kj(e,i,n,!1,!0),o=n.errors,s=n.usedFields;i.settings.fieldSeparator;var l={},u=Yj(s),c;try{for(u.s();!(c=u.n()).done;)for(var f=c.value,d=Lr(f,r),p=Me(i,f)||{},v=l,h=0;h<d.length;h++){var g=d[h],y=Me(i,d.slice(0,h+1))||{};h!=d.length-1?y.type=="!group"&&y.mode!="struct"?(v[g]||(v[g]=[{}]),v=v[g][0]):(v[g]||(v[g]={}),v=v[g]):v[g]||(v[g]=null)}}catch(m){u.e(m)}finally{u.f()}return{errors:o,logic:a,data:l}},Kj=function(e,r,n){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:null;if(e){var s=e.get("type"),l=e.get("properties")||new lr,u=l.get("isLocked"),c=r.settings.jsonLogic.lockedOp,f;return s==="group"||s==="rule_group"?f=Jj(e,r,n,i,a,o):s==="rule"?f=ooe(e,r,n,i,o):s=="switch_group"?f=soe(e,r,n,i):s=="case_group"&&(f=Qj(e,r,n,i,o)),u&&f&&c&&(f=oe({},c,f)),f}},Jj=function(e,r,n){var i,a,o,s,l,u,c=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,f=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,d=arguments.length>5&&arguments[5]!==void 0?arguments[5]:null,p=e.get("type"),v=e.get("properties")||new lr,h=v.get("mode"),g=e.get("children1")||new Yi,y=v.get("field"),m=Me(r,y),_=v.get("conjunction");_||(_=wa(r));var b=r.conjunctions[_],S=b.jsonLogicConj||_.toLowerCase(),O=!!v.get("not"),x=p==="rule_group"&&!f,E=x&&h!="struct",A=E?y:d,C=v.get("operator"),k=C&&jt(r,C,y)||null,w=T0(r,v,n,C,d),I=x&&(!C||((i=k)===null||i===void 0?void 0:i.cardinality)==0),L=x&&(g==null?void 0:g.size)>0;x&&(g!=null&&g.size);var P=O,V=!1;L?(V=O,P=c):c&&(P=!P);var $=!1,U=(a=k)===null||a===void 0?void 0:a.reversedOp,M=jt(r,U,y),R=!((o=k)!==null&&o!==void 0&&o.jsonLogic)&&!!((s=M)!==null&&s!==void 0&&s.jsonLogic),F=!!((l=M)!==null&&l!==void 0&&l.jsonLogic),N=(u=O0(e))===null||u===void 0?void 0:u.get("type"),B=!!r.settings.reverseOperatorsForNot&&(!x&&P&&N==="rule"||V&&(g==null?void 0:g.size)===1);B&&(L?V=!V:P=!P,$=!0);var q=P&&x&&F&&(!!r.settings.reverseOperatorsForNot||R);if(q){P=!P;var W=[U,C];C=W[0],U=W[1];var D=[M,k];k=D[0],M=D[1]}var G=g.map(function(fe){return Kj(fe,r,n,$,!1,A)}).filter(function(fe){return typeof fe<"u"}),H=!!r.settings.exportPreserveGroups;if(E&&!I){if(w==null)return}else if(!G.size&&!H)return;var Y=f||H||G.size!=1;!Y&&O&&!$&&(Y=g.some(function(fe){var de,Se,J,re,ce=(de=fe.get("properties"))===null||de===void 0?void 0:de.get("operator"),ve=(Se=r.operators)===null||Se===void 0||(Se=Se[ce])===null||Se===void 0?void 0:Se.reversedOp;return(J=(re=r.operators)===null||re===void 0||(re=re[ve])===null||re===void 0?void 0:re._jsonLogicIsExclamationOp)!==null&&J!==void 0?J:!1}));var K={};if(Y?K[S]=G.toList().toJS():K=G.first(),V&&(K={"!":K}),E){var ie=k0(n,r,y,d);if(I){var te=C||"some";K=oe({},te,[ie,K])}else{var se=G.size?{filter:[ie,K]}:ie,ue={reduce:[se,{"+":[1,{var:"accumulator"}]},0]};K=Zj(r,v,ue,w,C,null,m)}}return P&&(K={"!":K}),K},ooe=function(e,r,n){var i,a,o,s,l,u,c=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,f=arguments.length>4&&arguments[4]!==void 0?arguments[4]:null,d=e.get("properties")||new lr,p=d.get("field"),v=d.get("fieldSrc"),h=d.get("operator"),g=d.get("operatorOptions");if(g=g?g.toJS():null,g&&!Object.keys(g).length&&(g=null),!(p==null||h==null)){var y=Me(r,p),m=jt(r,h,p),_=(i=m)===null||i===void 0?void 0:i.reversedOp,b=jt(r,_,p);if(!((a=m)!==null&&a!==void 0&&a.jsonLogic)&&!((o=b)!==null&&o!==void 0&&o.jsonLogic)){n.errors.push("Operator ".concat(h," is not supported"));return}var S=c,O=!((s=m)!==null&&s!==void 0&&s.jsonLogic)&&!!((l=b)!==null&&l!==void 0&&l.jsonLogic),x=!!((u=b)!==null&&u!==void 0&&u.jsonLogic),E=x&&(!!r.settings.reverseOperatorsForNot||O),A=S&&E||O;if(A){S=!S;var C=[_,h];h=C[0],_=C[1];var k=[b,m];m=k[0],b=k[1]}var w=T0(r,d,n,h,f);if(w!==void 0){var I=v==="func"?Xj(n,r,p,f):k0(n,r,p,f);if(I!==void 0)return Zj(r,d,I,w,h,g,y,S)}}},soe=function(e,r,n){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,a=e.get("children1");if(a){for(var o=a.map(function(b){return Qj(b,r,n,i,null)}).filter(function(b){return typeof b<"u"}).valueSeq().toArray(),s=[],l=0;l<o.length;l++)l!==o.length-1&&!o[l][0]?n.errors.push("No condition for case ".concat(l)):(s.push(o[l]),l===o.length-1&&o[l][0]&&s.push([void 0,null]));if(s.length){if(s.length===1){var u=ke(s[0],2);u[0];var c=u[1];return c==null&&(c=null),c}var f={if:[]},d=f.if,p=ke(s[s.length-1],2);p[0];for(var v=p[1],h=0;h<s.length-1;h++){var g=h===s.length-2,y=ke(s[h],2),m=y[0],_=y[1];_==null&&(_=null),m==null&&(m=!0),d.push(m),d.push(_),g?d.push(v):(d.push({if:[]}),d=d[d.length-1].if)}return f}}},Qj=function(e,r,n){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:null,o=e.get("type");if(o!="case_group"){n.errors.push("Unexpected child of type ".concat(o," inside switch"));return}var s=e.get("properties")||new lr,l=Jj(e,r,n,i,a),u=T0(r,s,n,null,a,"!case_value");return[l,u]},T0=function(e,r,n,i,a){var o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:null,s=r.get("field"),l=r.get("valueSrc"),u=r.get("valueType");(o=="!case_value"||u&&u.get(0)=="case_value")&&(s="!case_value");var c=Me(e,s),f=jt(e,i,s),d=zr(f),p=r.get("value"),v=r.get("asyncListValues");if(p!=null){var h=n.usedFields,g=p.map(function(m,_){var b=l?l.get(_):null,S=u?u.get(_):null,O=Ss(m,b,e),x=vr(e,s,i,b),E=_n(e,s,i,x,b,{forExport:!0}),A=Eg(n,e,O,b,S,E,c,i,f,a,v);return A}),y=g.filter(function(m){return m===void 0}).size>0;if(g.size<d||y){n.usedFields=h;return}return d>1?g.toArray():d==1?g.first():null}},Eg=function(e,r,n,i,a,o,s,l,u){var c=arguments.length>9&&arguments[9]!==void 0?arguments[9]:null,f=arguments.length>10?arguments[10]:void 0;if(n!==void 0){var d;if(i=="field")d=k0(e,r,n,c);else if(i=="func")d=Xj(e,r,n,c);else if(typeof(o==null?void 0:o.jsonLogic)=="function"){var p=o.jsonLogic,v=[n,LO(LO({},s?ga(s,["fieldSettings","listValues"]):{}),{},{asyncListValues:f}),ni(o,_s)];l&&(v.push(l),v.push(u)),d=p.call.apply(p,[r.ctx].concat(v))}else d=n;return d}},Xj=function(e,r,n){var i,a,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,s=(i=n.get)===null||i===void 0?void 0:i.call(n,"func"),l=(a=n.get)===null||a===void 0?void 0:a.call(n,"args"),u=Wr(r,s),c=Lr(s,r),f=c[c.length-1];if(!u){e.errors.push("Func ".concat(s," is not defined in config"));return}if(!(u!=null&&u.jsonLogic)){e.errors.push("Func ".concat(s," is not supported"));return}var d={},p=[],v=[];for(var h in u.args){var g,y=u.args[h],m=Me(r,y),_=y.defaultValue,b=y.isOptional,S=_!=null&&_.func?"func":"value",O=l?l.get(h):void 0,x=O?O.get("value"):void 0,E=O?O.get("valueSrc"):void 0;E!=="func"&&(g=x)!==null&&g!==void 0&&g.toJS&&(x=x.toJS());var A=null,C=vr(r,y,A,E),k=_n(r,y,A,C,E,{forExport:!0}),w=Eg(e,r,x,E,y.type,k,m,null,null,o);if(x!=null&&w===void 0){E!="func"&&e.errors.push("Can't format value of arg ".concat(h," for func ").concat(s));return}var I=void 0;if(w===void 0&&!b&&_!=null){var L=vr(r,y,A,S),P=_n(r,y,A,L,S,{forExport:!0});if(I=Eg(e,r,_,S,y.type,P,m,null,null,o),I===void 0){S!="func"&&e.errors.push("Can't format default value of arg ".concat(h," for func ").concat(s));return}}var V=w!=null?w:I;if(V!==void 0){if(p.length){var $=Yj(p),U;try{for($.s();!(U=$.n()).done;){var M=U.value;d[M]=void 0}}catch(H){$.e(H)}finally{$.f()}p=[]}d[h]=V}else b||v.push(h),p.push(h)}if(!v.length){var R=Object.values(d),F;if(typeof u.jsonLogic=="function"){var N=u.jsonLogic,B=[d];F=N.call.apply(N,[r.ctx].concat(B))}else{var q=u.jsonLogic||f,W=!!u.jsonLogicIsMethod;if(W){var D=R[0],G=R.slice(1);G.length?F={method:[D,q,G]}:F={method:[D,q]}}else F=oe({},q,R)}return F}},k0=function(e,r,n){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,a=r.settings,o=a.fieldSeparator,s=a.jsonLogic,l;if(n){Array.isArray(n)&&(n=n.join(o));var u=Me(r,n)||{},c=Ga(n,r,e,i),f=u.jsonLogicVar||(u.type=="!group"?s.groupVarKey:"var");l=oe({},f,c),e.usedFields.indexOf(n)==-1&&e.usedFields.push(n)}return l},loe=function(e,r,n,i){var a=e,o=zr(r);typeof r.jsonLogic=="string"&&(a=r.jsonLogic);var s=["<","<=",">",">="],l=["==","!="],u=function(f,d,p,v,h){return o==0&&l.includes(a)?oe({},a,[n,null]):o==0?oe({},a,n):o==1?oe({},a,[n,i]):o==2&&s.includes(a)?oe({},a,[i[0],n,i[1]]):oe({},a,[n].concat(Ce(i)))};return u},Zj=function(e,r,n,i,a){var o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:null,s=arguments.length>6&&arguments[6]!==void 0?arguments[6]:null,l=arguments.length>7&&arguments[7]!==void 0?arguments[7]:!1,u=r.get("field"),c=jt(e,a,u)||{},f=typeof c.jsonLogic=="function"?c.jsonLogic:loe(a,c,n,i),d=[n,a,i,ni(c,eu),o,s],p=f.call.apply(f,[e.ctx].concat(d));return l&&(p={"!":p}),p};function uoe(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=coe(t))||e){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(u){throw u},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a=!0,o=!1,s;return{s:function(){r=r.call(t)},n:function(){var u=r.next();return a=u.done,u},e:function(u){o=!0,s=u},f:function(){try{!a&&r.return!=null&&r.return()}finally{if(o)throw s}}}}function coe(t,e){if(t){if(typeof t=="string")return RO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return RO(t,e)}}function RO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function $O(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function NO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$O(Object(r),!0).forEach(function(n){oe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$O(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var DO=function(e){return wt(e)=="object"&&e!==null&&!Array.isArray(e)},foe=function(e,r){return eP(e,r,!1)},eP=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i={errors:[]},a=ii(r,void 0,!1),o=Cg([],e,a,i);return n?[o,i.errors]:(i.errors.length&&console.warn("Errors while exporting to MongoDb:",i.errors),o)},Cg=function(e,r,n,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,s=arguments.length>6&&arguments[6]!==void 0?arguments[6]:void 0,l=arguments.length>7&&arguments[7]!==void 0?arguments[7]:void 0;if(r){var u=r.get("type");if(u==="group"||u==="rule_group")return doe(e,r,n,i,a,o,s,l);if(u==="rule")return poe(e,r,n,i,a,o,s,l)}},doe=function(e,r,n,i){var a,o,s,l,u,c,f,d,p=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,v=r.get("type"),h=r.get("properties")||new lr,g=!!h.get("not"),y=r.get("children1")||new Yi,m=n.settings,_=m.canShortMongoQuery,b=m.fieldSeparator,S=b,O=e.filter(function(ee){return ee.get("type")=="rule_group"}).length>0,x=e.filter(function(ee){return ee.get("type")=="rule_group"}).map(function(ee){return ee.get("properties").get("field")}).slice(-1).pop(),E=O&&x,A=v==="rule_group",C=A?h.get("field"):null,k=A?h.get("operator"):null,w=k&&jt(n,k,C)||null,I=k?(a=(o=w)===null||o===void 0?void 0:o.cardinality)!==null&&a!==void 0?a:1:void 0,L=Ga(C,n,i,E),P=Me(n,C)||{},V=P.mode,$=C&&V==="array"&&I>=1,U=A&&(y==null?void 0:y.size)>0;A&&(y!=null&&y.size);var M=!1,R=g,F=!1;U?(F=g,R=p):p&&(R=!R);var N=(s=w)===null||s===void 0?void 0:s.reversedOp,B=jt(n,N,C),q=!((l=w)!==null&&l!==void 0&&l.mongoFormatOp)&&!!((u=B)!==null&&u!==void 0&&u.mongoFormatOp),W=!!((c=B)!==null&&c!==void 0&&c.mongoFormatOp),D=(f=O0(r))===null||f===void 0?void 0:f.get("type"),G=!!n.settings.reverseOperatorsForNot&&(!A&&R&&D==="rule"||F&&(y==null?void 0:y.size)===1);G&&(U?F=!F:R=!R,M=!0);var H=R&&A&&W&&(!!n.settings.reverseOperatorsForNot||q);if(H){R=!R;var Y=[N,k];k=Y[0],N=Y[1];var K=[B,w];w=K[0],B=K[1]}var ie=h.get("conjunction");ie||(ie=wa(n));var te=n.conjunctions[ie];if(te){var se=te.reversedConj,ue=R&&((d=ie)===null||d===void 0?void 0:d.toLowerCase())==="or"&&se&&!A&&!!n.settings.canShortMongoQuery&&!!n.settings.reverseOperatorsForNot;ue&&(ie=se,te=n.conjunctions[ie],R=!R,M=!0);var fe=te.mongoConj,de=y.map(function(ee){return Cg([].concat(Ce(e),[r]),ee,n,i,M,V!="array",V=="array"?function(me){return"$$el".concat(S).concat(me)}:void 0)}).filter(function(ee){return typeof ee<"u"});if(!(!$&&!de.size)){var Se;if(de.size==1)Se=de.first();else if(de.size>1){var J=de.toList().toJS(),re=_&&fe=="$and";re&&(Se=J.reduce(function(ee,me){if(ee){for(var Oe in me){if(Oe[0]=="$"){ee=void 0;break}if(ee[Oe]==null)ee[Oe]=me[Oe];else{var we=ee[Oe],Je=me[Oe];DO(we)||(we={$eq:we}),DO(Je)||(Je={$eq:Je});var at=Object.keys(we)[0],le=Object.keys(Je)[0];if(at==le){ee=void 0;break}ee[Oe]=Object.assign({},we,Je)}}return ee}},{})),Se||(Se=oe({},fe,J))}if(C)if(V=="array"){var ce={$size:{$ifNull:["$"+L,[]]}},ve=Se?{$size:{$ifNull:[{$filter:{input:"$"+L,as:"el",cond:Se}},[]]}}:ce;Se=Cg(e,r.set("type","rule"),n,i,F,!1,function(ee){return ve},ce),Se={$expr:Se}}else Se=oe({},L,{$elemMatch:Se});return R&&(Se={$not:Se}),Se}}},poe=function(e,r,n,i){var a,o,s,l,u,c,f,d=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,p=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,v=arguments.length>6&&arguments[6]!==void 0?arguments[6]:void 0,h=arguments.length>7&&arguments[7]!==void 0?arguments[7]:void 0,g=r.get("properties")||new lr,y=e.filter(function(Se){return Se.get("type")=="rule_group"}).length>0,m=e.filter(function(Se){return Se.get("type")=="rule_group"}).map(function(Se){return Se.get("properties").get("field")}).slice(-1).pop(),_=y&&m,b=g.get("operator"),S=g.get("operatorOptions"),O=g.get("field"),x=g.get("fieldSrc"),E=g.get("value"),A=g.get("valueSrc"),C=g.get("valueType"),k=g.get("asyncListValues");if(!(O==null||b==null||E===void 0)){var w=Me(n,O),I=jt(n,b,O),L=(a=I)===null||a===void 0?void 0:a.reversedOp,P=jt(n,L,O),V=zr(I);if(!((o=I)!==null&&o!==void 0&&o.mongoFormatOp)&&!((s=P)!==null&&s!==void 0&&s.mongoFormatOp)){i.errors.push("Operator ".concat(b," is not supported"));return}var $=d,U=!((l=I)!==null&&l!==void 0&&l.mongoFormatOp)&&!!((u=P)!==null&&u!==void 0&&u.mongoFormatOp),M=!!((c=P)!==null&&c!==void 0&&c.mongoFormatOp),R=M&&(!!n.settings.reverseOperatorsForNot||U),F=R&&$||U;if(F){var N=[L,b];b=N[0],L=N[1];var B=[P,I];I=B[0],P=B[1],$=!$}var q,W=!1;if(x=="func"){var D=tP(i,n,O,_),G=ke(D,2);q=G[0],W=G[1]}else q=Ga(O,n,i,_),v&&(W=!0,q=v(q));if(q!=null){var H=[],Y=[],K;if(E!=null){var ie=E.map(function(Se,J){var re=A?A.get(J):null,ce=C?C.get(J):null,ve=Ss(Se,re,n),ee=vr(n,O,b,re),me=_n(n,O,b,ee,re,{forExport:!0}),Oe=Tg(i,n,ve,re,ce,me,w,_,b,I,k),we=ke(Oe,2),Je=we[0],at=we[1];return Je!==void 0&&(W=W||at,H.push(re),Y.push(ce)),Je}),te=ie.filter(function(Se){return Se===void 0}).size>0;if(ie.size<V||te)return;K=V>1?ie.toArray():V==1?ie.first():null}var se=W&&p,ue=(f=I)===null||f===void 0?void 0:f.mongoFormatOp,fe=[q,b,h!==void 0&&K==null?h:K,W,H.length>1?H:H[0],Y.length>1?Y:Y[0],ni(I,eu),S,w],de=ue.call.apply(ue,[n.ctx].concat(fe));return se&&(de={$expr:de}),$&&(de={$not:de}),de}}},Tg=function(e,r,n,i,a,o,s,l,u,c,f){if(n===void 0)return[void 0,!1];var d,p=!1;if(i=="field"){var v=hoe(e,r,n,l),h=ke(v,2);d=h[0],p=h[1]}else if(i=="func"){var g=tP(e,r,n,l),y=ke(g,2);d=y[0],p=y[1]}else if(typeof(o==null?void 0:o.mongoFormatValue)=="function"){var m=o.mongoFormatValue,_=[n,NO(NO({},s?ga(s,["fieldSettings","listValues"]):{}),{},{asyncListValues:f}),ni(o,_s)];u&&(_.push(u),_.push(c)),d=m.call.apply(m,[r.ctx].concat(_))}else d=n;return[d,p]},hoe=function(e,r,n,i){var a=r.settings.fieldSeparator,o,s=!0;if(n){var l=Me(r,n)||{},u=Lr(n,r),c=Kc(n,r),f=c?c.join(a):null,d=r.settings.formatField,p=Ga(n,r,e,i),v=d(p,u,f,l,r,!1);o="$"+v}return[o,s]},tP=function(e,r,n,i){var a,o,s=!0,l,u=(a=n.get)===null||a===void 0?void 0:a.call(n,"func"),c=(o=n.get)===null||o===void 0?void 0:o.call(n,"args"),f=Wr(r,u);if(!f)return e.errors.push("Func ".concat(u," is not defined in config")),[void 0,!1];var d=Lr(u,r),p=d[d.length-1],v=f.mongoFunc||p,h=f.mongoArgsAsObject,g={},y=0,m=void 0,_=[],b=[];for(var S in f.args){var O;y++;var x=f.args[S],E=Me(r,x),A=x.defaultValue,C=x.isOptional,k=A!=null&&A.func?"func":"value",w=c?c.get(S):void 0,I=w?w.get("value"):void 0,L=w?w.get("valueSrc"):void 0;L!=="func"&&(O=I)!==null&&O!==void 0&&O.toJS&&(I=I.toJS());var P=w?w.get("asyncListValues"):void 0,V=null,$=vr(r,x,V,L),U=_n(r,x,V,$,L,{forExport:!0}),M=Tg(e,r,I,L,x.type,U,E,i,null,null,P),R=ke(M,2),F=R[0];if(R[1],I!=null&&F===void 0)return L!="func"&&e.errors.push("Can't format value of arg ".concat(S," for func ").concat(u)),[void 0,!1];var N=void 0;if(F===void 0&&!C&&A!=null){var B=vr(r,x,V,k),q=_n(r,x,V,B,k,{forExport:!0}),W=Tg(e,r,A,k,x.type,q,E,i,null,null,P),D=ke(W,2);if(N=D[0],D[1],N===void 0)return k!="func"&&e.errors.push("Can't format default value of arg ".concat(S," for func ").concat(u)),[void 0,!1]}var G=F!=null?F:N;if(G!==void 0){if(_.length){var H=uoe(_),Y;try{for(H.s();!(Y=H.n()).done;){var K=Y.value;g[K]=void 0}}catch(se){H.e(se)}finally{H.f()}_=[]}g[S]=G,m=G}else C||b.push(S),_.push(S)}if(b.length)return[void 0,!1];if(typeof f.mongoFormatFunc=="function"){var ie=f.mongoFormatFunc,te=[g];l=ie.call.apply(ie,[r.ctx].concat(te))}else{if(f.mongoFormatFunc===null)return e.errors.push("Functon ".concat(v," is not supported")),[void 0,!1];h?l=oe({},v,g):y==1&&m!==void 0?l=oe({},v,m):l=oe({},v,Object.values(g))}return[l,s]};function voe(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=goe(t))||e){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(u){throw u},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a=!0,o=!1,s;return{s:function(){r=r.call(t)},n:function(){var u=r.next();return a=u.done,u},e:function(u){o=!0,s=u},f:function(){try{!a&&r.return!=null&&r.return()}finally{if(o)throw s}}}}function goe(t,e){if(t){if(typeof t=="string")return MO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return MO(t,e)}}function MO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function VO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function BO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?VO(Object(r),!0).forEach(function(n){oe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):VO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var moe=function(e,r){return rP(e,r,!1)},rP=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i={errors:[]},a=ii(r,void 0,!1),o=nP(e,a,i);return n?[o,i.errors]:(i.errors.length&&console.warn("Errors while exporting to SQL:",i.errors),o)},nP=function(e,r,n){if(e){var i=e.get("type");if(e.get("children1"),i==="group"||i==="rule_group")return yoe(e,r,n);if(i==="rule")return _oe(e,r,n)}},yoe=function(e,r,n){var i=e.get("type"),a=e.get("properties")||new lr,o=e.get("children1")||new Yi,s=i==="rule_group",l=s?a.get("field"):null,u=Me(r,l)||{},c=u.mode;c=="array"&&n.errors.push("Aggregation is not supported for ".concat(l));var f=a.get("not"),d=o.map(function(h){return nP(h,r,n)}).filter(function(h){return typeof h<"u"});if(d.size){var p=a.get("conjunction");p||(p=wa(r));var v=r.conjunctions[p];return v.sqlFormatConj.call(r.ctx,d,p,f)}},boe=function(e,r){var n=r.sqlOp||e,i=zr(r),a;return i==0?a=function(s,l,u,c,f,d,p,v){return"".concat(s," ").concat(n)}:i==1?a=function(s,l,u,c,f,d,p,v){return"".concat(s," ").concat(n," ").concat(u)}:i==2&&(a=function(s,l,u,c,f,d,p,v){var h,g,y=u==null||(h=u.first)===null||h===void 0?void 0:h.call(u),m=u==null||(g=u.get)===null||g===void 0?void 0:g.call(u,1);return"".concat(s," ").concat(n," ").concat(y," AND ").concat(m)}),a},_oe=function(e,r,n){var i=e.get("properties")||new lr,a=i.get("field"),o=i.get("fieldSrc"),s=i.get("operator"),l=i.get("operatorOptions"),u=i.get("valueSrc"),c=i.get("valueType"),f=i.get("value"),d=i.get("asyncListValues");if(!(a==null||s==null)){var p=Me(r,a)||{},v=jt(r,s,a)||{},h=v.reversedOp,g=jt(r,h,a)||{},y=zr(v),m=!1,_=v.sqlOp||v.sqlFormatOp,b=g.sqlOp||g.sqlFormatOp;if(!_&&!b){n.errors.push("Operator ".concat(s," is not supported"));return}if(!_&&b){m=!0;var S=[h,s];s=S[0],h=S[1];var O=[g,v];v=O[0],g=O[1]}var x=[],E=[],A;if(f!=null){var C=f.map(function(V,$){var U=u?u.get($):null,M=c?c.get($):null,R=Ss(V,U,r),F=vr(r,a,s,U),N=_n(r,a,s,F,U,{forExport:!0}),B=kg(n,r,R,U,M,N,p,s,v,d);return B!==void 0&&(x.push(U),E.push(M)),B}),k=C.filter(function(V){return V===void 0}).size>0;if(k||C.size<y)return;A=y==1?C.first():C}var w=v.sqlFormatOp||boe(s,v);if(!w){n.errors.push("Operator ".concat(s," is not supported"));return}var I=o=="func"?aP(n,r,a):iP(n,r,a);if(I!=null){var L=[I,s,A,x.length>1?x:x[0],E.length>1?E:E[0],ni(v,eu),l,p],P;if(P=w.call.apply(w,[r.ctx].concat(L)),m&&(P=r.settings.sqlFormatReverse.call(r.ctx,P)),P===void 0){n.errors.push("Operator ".concat(s," is not supported for value source ").concat(x.join(", ")));return}return P}}},kg=function(e,r,n,i,a,o,s,l,u,c){if(n!==void 0){var f;if(i=="field")f=iP(e,r,n);else if(i=="func")f=aP(e,r,n);else if(typeof(o==null?void 0:o.sqlFormatValue)=="function"){var d=o.sqlFormatValue,p=[n,BO(BO({},ga(s,["fieldSettings","listValues"])),{},{asyncListValues:c}),ni(o,_s)];if(l&&(p.push(l),p.push(u)),i=="field"){var v=Me(r,n)||{};p.push(v)}f=d.call.apply(d,[r.ctx].concat(p))}else Array.isArray(n)?f=n.map(function(h){return go.escape(h)}):f=go.escape(n);return f}},iP=function(e,r,n){if(n){var i=r.settings.fieldSeparator,a=Me(r,n)||{},o=Lr(n,r),s=Kc(n,r),l=s?s.join(i):null,u=r.settings.formatField,c=Ga(n,r,e,null,{useTableName:!0}),f=u(c,o,l,a,r);return f}},aP=function(e,r,n){var i,a,o=(i=n.get)===null||i===void 0?void 0:i.call(n,"func"),s=(a=n.get)===null||a===void 0?void 0:a.call(n,"args"),l=Wr(r,o);if(!l){e.errors.push("Func ".concat(o," is not defined in config"));return}var u=Lr(o,r),c=u[u.length-1],f=l.sqlFunc||c,d={},p=[],v=[];for(var h in l.args){var g,y=l.args[h],m=Me(r,y),_=y.defaultValue,b=y.isOptional,S=_!=null&&_.func?"func":"value",O=s?s.get(h):void 0,x=O?O.get("value"):void 0,E=O?O.get("valueSrc"):void 0;E!=="func"&&(g=x)!==null&&g!==void 0&&g.toJS&&(x=x.toJS());var A=O?O.get("asyncListValues"):void 0,C=kg(e,r,x,E,y.type,m,y,null,null,A);if(x!=null&&C===void 0){E!="func"&&e.errors.push("Can't format value of arg ".concat(h," for func ").concat(o));return}var k=void 0;if(C===void 0&&!b&&_!=null&&(k=kg(e,r,_,S,y.type,m,y,null,null,A),k===void 0)){S!="func"&&e.errors.push("Can't format default value of arg ".concat(h," for func ").concat(o));return}var w=C!=null?C:k;if(w!==void 0){if(p.length){var I=voe(h),L;try{for(I.s();!(L=I.n()).done;){var P=L.value;d[P]=void 0}}catch(R){I.e(R)}finally{I.f()}p=[]}d[h]=w}else b||v.push(h),p.push(h)}if(!v.length){var V;if(typeof l.sqlFormatFunc=="function"){var $=l.sqlFormatFunc,U=[d];V=$.call.apply($,[r.ctx].concat(U))}else{var M=Object.entries(d).map(function(R){var F=ke(R,2);F[0];var N=F[1];return N}).join(", ");V="".concat(f,"(").concat(M,")")}return V}};function qO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function HO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?qO(Object(r),!0).forEach(function(n){oe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Soe(t){if(t==null)return null;var e=t.split(",").map(Number);return{top_left:{lat:e[0],lon:e[1]},bottom_right:{lat:e[2],lon:e[3]}}}function Ooe(t,e){if(t.length>1)return{gte:"".concat(t[0]),lte:"".concat(t[1])};var r=t[0];switch(e){case"on_date":case"not_on_date":case"equal":case"select_equals":case"not_equal":return{gte:"".concat(r,"||/d"),lte:"".concat(r,"||+1d")};case"less_or_equal":return{lte:"".concat(r)};case"greater_or_equal":return{gte:"".concat(r)};case"less":return{lt:"".concat(r)};case"greater":return{gt:"".concat(r)};default:return}}function xoe(t){return{value:"*"+t+"*"}}function woe(t,e){switch(t){case"AND":return e?"must_not":"must";case"OR":return e?"should_not":"should";case"NOT":return e?"must":"must_not";default:return}}function Eoe(t){return{value:t}}function Coe(t,e){return t}function Toe(t,e,r,n,i,a){var o=Coe(n);switch(t){case"filter":return{script:i.operators[r].elasticSearchScript(n,e)};case"exists":return{field:n};case"match":return oe({},o,e[0]);case"term":return a===Ioe?oe({},n,{value:e[0]}):oe({},n,e[0]);case"geo_bounding_box":return oe({},n,Soe(e[0]));case"range":return oe({},n,Ooe(e,r));case"wildcard":return oe({},n,xoe(e[0]));case"regexp":return oe({},n,Eoe(e[0]));default:return}}function zO(t,e,r,n,i,a){if(!(!t||!r||e==null)){var o=r,s=n.operators[o];if(s){var l=s,u=l.elasticSearchQueryType,c=!1;if(!u&&s.reversedOp){c=!0,o=s.reversedOp,s=n.operators[o];var f=s;u=f.elasticSearchQueryType}var d=vr(n,t,o,i),p=n.widgets[d];if(p){var v=p.elasticSearchFormatValue,h;if(typeof u=="function"?h=u(d):h=u,!!h){var g;return typeof v=="function"?g=v(h,e,o,t,n):g=Toe(h,e,o,t,n,a),c?{bool:{must_not:oe({},h,HO({},g))}}:oe({},h,HO({},g))}}}}}function koe(t,e,r,n,i,a){if(!(!t||!t.size)){var o=t.valueSeq().toArray(),s=woe(e,r),l=o.map(function(c){return n(c,i,a)}).filter(function(c){return c!==void 0});if(l.length){var u=l.flat(1/0);return{bool:oe({},s,u)}}}}var Ioe="ES_7_SYNTAX",Aoe="ES_6_SYNTAX";function oP(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Aoe,n=ii(e,void 0,!1);if(t){var i=t.get("type"),a=t.get("properties")||new Map;if(i==="rule"&&a.get("field")){var o,s,l,u=a.get("operator"),c=a.get("field"),f=a.get("fieldSrc"),d=(o=a.get("value"))===null||o===void 0?void 0:o.toJS();(s=a.get("valueType"))===null||s===void 0||s.get(0);var p=(l=a.get("valueSrc"))===null||l===void 0?void 0:l.get(0);return p==="func"||f=="func"?void 0:d&&Array.isArray(d[0])?d[0].map(function(y){return zO(c,[y],u,n,p,r)}):zO(c,d,u,n,p,r)}if(i==="group"||i==="rule_group"){var v=a.get("not"),h=a.get("conjunction");h||(h=wa(n));var g=t.get("children1");return koe(g,h,v,oP,n,r)}}}const UO=Object.freeze(Object.defineProperty({__proto__:null,_mongodbFormat:eP,_spelFormat:ZI,_sqlFormat:rP,elasticSearchFormat:oP,jsonLogicFormat:aoe,mongodbFormat:foe,queryBuilderFormat:toe,queryString:mA,spelFormat:one,sqlFormat:moe},Symbol.toStringTag,{value:"Module"}));function WO(t,e,r,n,i,a,o){try{var s=t[a](o),l=s.value}catch(u){return void r(u)}s.done?e(l):Promise.resolve(l).then(n,i)}function Vo(t){return function(){var e=this,r=arguments;return new Promise(function(n,i){var a=t.apply(e,r);function o(l){WO(a,n,i,o,s,"next",l)}function s(l){WO(a,n,i,o,s,"throw",l)}o(void 0)})}}var joe=["title","value","disabled","groupTitle","grouplabel","renderTitle","children","label","isCustom","isHidden"];function Poe(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=Loe(t))||e){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(u){throw u},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a=!0,o=!1,s;return{s:function(){r=r.call(t)},n:function(){var u=r.next();return a=u.done,u},e:function(u){o=!0,s=u},f:function(){try{!a&&r.return!=null&&r.return()}finally{if(o)throw s}}}}function Loe(t,e){if(t){if(typeof t=="string")return GO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return GO(t,e)}}function GO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function YO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function co(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?YO(Object(r),!0).forEach(function(n){oe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):YO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var Foe=function(e,r){if(e.findLastIndex)return e.findLastIndex(r);var n=Ce(e).reverse().findIndex(r);return n==-1?-1:e.length-1-n},Roe=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1e3;return function(){var i=Vo(Nr.mark(function a(o,s,l){var u,c,f,d,p,v;return Nr.wrap(function(g){for(;;)switch(g.prev=g.next){case 0:if(u=(l==null?void 0:l.pageSize)!=null?l.pageSize:r,c=AI(e).filter(function(y){var m=y.title,_=y.value;return o==null?!0:m.toUpperCase().indexOf(o.toUpperCase())!=-1||"".concat(_).toUpperCase().indexOf(o.toUpperCase())!=-1}),u&&Math.ceil(c.length/u),f=s||0,d=u?c.slice(f,f+u):c,p=u?f+d.length:null,v=u?p<c.length:!1,!n){g.next=11;break}return g.next=11,tI(n);case 11:return g.abrupt("return",{values:d,hasMore:v});case 12:case"end":return g.stop()}},a)}));return function(a,o,s){return i.apply(this,arguments)}}()},$oe=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!r)return e;var a=e||[],o=r.filter(function(l){return a.find(function(u){return""+u.value==""+l.value})==null}).map(function(l){return i?co(co({},l),{},{isHidden:!0}):l}),s=n?[].concat(Ce(o),Ce(a)):[].concat(Ce(a),Ce(o));return s},Noe=function(e,r,n){var i,a=e==null||e==""?void 0:(i=e==null?void 0:e.value)!==null&&i!==void 0?i:e,o=Wp(a,r),s=n&&!o?a0(a):void 0,l=o||s,u=l?[l]:void 0;return[a,u]},Doe=function(e,r,n){var i=e.map(function(o,s){var l,u=o==null||o==""?void 0:(l=o==null?void 0:o.value)!==null&&l!==void 0?l:o,c=Wp(u,r),f=n&&!c?a0(u):void 0,d=c||f;return d}).filter(function(o){return o!=null}),a=i.map(function(o){var s;return(s=o==null?void 0:o.value)!==null&&s!==void 0?s:o});return a.length||(a=void 0),[a,i]},Moe=function(e){if(e==null)return null;var r=e.title,n=e.value,i=e.disabled,a=e.groupTitle,o=e.grouplabel,s=e.renderTitle,l=e.children,u=e.label,c=e.isCustom,f=e.isHidden,d=ei(e,joe),p={value:n,title:r||u||l};return i&&(p.disabled=i),c&&(p.isCustom=c),f&&(p.isHidden=f),(a||o)&&(p.groupTitle=a||o),s&&(p.renderTitle=s),p=co(co({},p),d),p},Voe=function(e){var r=[],n=[],i=Poe(e),a;try{var o=function(){var l=a.value,u=Foe(r,function(c){var f,d;return((f=c.groupTitle)!==null&&f!==void 0?f:"")==((d=l.groupTitle)!==null&&d!==void 0?d:"")});l.groupTitle!=null&&!n.includes(l.groupTitle)&&(n.push(l.groupTitle),n.length===1&&(r=r.map(function(c){return co(co({},c),{},{groupTitle:""})}))),l.groupTitle==null&&n.length&&(l=co(co({},l),{},{groupTitle:""})),u!=-1?r.splice(u+1,0,l):r.push(l)};for(i.s();!(a=i.n()).done;)o()}catch(s){i.e(s)}finally{i.f()}return r};const Boe=Object.freeze(Object.defineProperty({__proto__:null,fixListValuesGroupOrder:Voe,getListValue:Wp,listValueToOption:Moe,mergeListValues:$oe,optionToListValue:Noe,optionsToListValues:Doe,simulateAsyncFetch:Roe},Symbol.toStringTag,{value:"Module"})),qoe=Object.freeze(Object.defineProperty({__proto__:null,Autocomplete:Boe,ConfigUtils:eoe,DefaultUtils:jne,ExportUtils:nne,FuncUtils:gie,ListUtils:Cre,OtherUtils:LJ,RuleUtils:xie,TreeUtils:kre,Validation:hie,checkTree:nj,clone:ui,compressConfig:Fj,decompressConfig:Rj,getSwitchValues:FI,i18n:Kp,isValidTree:tj,moment:je,sanitizeTree:aj,uuid:Lt,validateAndFixTree:oj,validateTree:ij},Symbol.toStringTag,{value:"Module"}));var Hoe={label:"Now",returnType:"datetime",jsonLogic:"now",jsonLogicCustomOps:{now:{}},spelFunc:"T(java.time.LocalDateTime).now()",sqlFormatFunc:function(){return"NOW()"},mongoFormatFunc:function(){return new Date},formatFunc:function(){return"NOW"}},zoe={label:"Relative",returnType:"datetime",renderBrackets:["",""],renderSeps:["","",""],spelFormatFunc:function(e){var r=e.date,n=e.op,i=e.val,a=e.dim,o=a.charAt(0).toUpperCase()+a.slice(1)+"s",s=n+o;return"".concat(r,".").concat(s,"(").concat(i,")")},spelImport:function(e){var r,n,i,a,o,s=(r=e.methodName)===null||r===void 0?void 0:r.match(/^(minus|plus)(\w+)s$/);if(s&&(o=s[2].toLowerCase(),i=s[1],["minus","plus"].includes(i)&&["day","week","month","year"].includes(o)))return i={type:"string",val:i},o={type:"string",val:o},a=e.args[0],n=e.obj,{date:n,op:i,val:a,dim:o}},jsonLogic:function(e){var r=e.date,n=e.op,i=e.val,a=e.dim;return{date_add:[r,i*(n=="minus"?-1:1),a]}},jsonLogicImport:function(e){var r=e.date_add[0],n=Math.abs(e.date_add[1]),i=e.date_add[1]>=0?"plus":"minus",a=e.date_add[2];return[r,i,n,a]},jsonLogicCustomOps:{date_add:{}},sqlFormatFunc:function(e){var r=e.date,n=e.op,i=e.val,a=e.dim;return"DATE_ADD(".concat(r,", INTERVAL ").concat(parseInt(i)*(n=="minus"?-1:1)," ").concat(a.replace(/^'|'$/g,""),")")},mongoFormatFunc:null,formatFunc:function(e){var r=e.date,n=e.op,i=e.val,a=e.dim;return i?"".concat(r," ").concat(n=="minus"?"-":"+"," ").concat(i," ").concat(a):r},args:{date:{label:"Date",type:"datetime",defaultValue:{func:"NOW",args:[]},valueSources:["func","field","value"],spelEscapeForFormat:!0},op:{label:"Op",type:"select",defaultValue:"plus",valueSources:["value"],mainWidgetProps:{customProps:{showSearch:!1}},fieldSettings:{listValues:{plus:"+",minus:"-"}},spelEscapeForFormat:!1},val:{label:"Value",type:"number",fieldSettings:{min:0},defaultValue:0,valueSources:["value"],spelEscapeForFormat:!1},dim:{label:"Dimension",type:"select",defaultValue:"day",valueSources:["value"],mainWidgetProps:{customProps:{showSearch:!1}},fieldSettings:{listValues:{day:"day",week:"week",month:"month",year:"year"}},spelEscapeForFormat:!1}}},Uoe={label:"Lowercase",mongoFunc:"$toLower",jsonLogic:"toLowerCase",spelFunc:"${str}.toLowerCase()",jsonLogicCustomOps:{toLowerCase:{}},returnType:"text",args:{str:{label:"String",type:"text",valueSources:["value","field","func"]}}},Woe={label:"Uppercase",mongoFunc:"$toUpper",jsonLogic:"toUpperCase",spelFunc:"${str}.toUpperCase()",jsonLogicCustomOps:{toUpperCase:{}},returnType:"text",args:{str:{label:"String",type:"text",valueSources:["value","field","func"]}}},Goe={label:"Linear regression",returnType:"number",formatFunc:function(e,r){var n=e.coef,i=e.bias,a=e.val;return"(".concat(n," * ").concat(a," + ").concat(i,")")},sqlFormatFunc:function(e){var r=e.coef,n=e.bias,i=e.val;return"(".concat(r," * ").concat(i," + ").concat(n,")")},spelFormatFunc:function(e){var r=e.coef,n=e.bias,i=e.val;return"(".concat(r," * ").concat(i," + ").concat(n,")")},spelImport:function(e){var r,n,i,a;if(e.type==="op-plus"){var o=ke(e.children,2);if(a=o[0],i=o[1],a.type==="op-multiply"){var s=ke(a.children,2);return r=s[0],n=s[1],{coef:r,val:n,bias:i}}}},mongoFormatFunc:function(e){var r=e.coef,n=e.bias,i=e.val;return{$sum:[{$multiply:[r,i]},n]}},jsonLogic:function(e){var r=e.coef,n=e.bias,i=e.val;return{"+":[{"*":[r,i]},n]}},jsonLogicImport:function(e){var r=e["+"][0]["*"][0],n=e["+"][0]["*"][1],i=e["+"][1];return[r,n,i]},renderBrackets:["",""],renderSeps:[" * "," + "],args:{coef:{label:"Coef",type:"number",defaultValue:1,valueSources:["value"]},val:{label:"Value",type:"number",valueSources:["value","field"]},bias:{label:"Bias",type:"number",defaultValue:0,valueSources:["value"]}}},Yoe=function(e,r,n,i,a,o,s,l,u,c,f,d){var p=typeof i=="string"&&!i.startsWith("$")?"$"+i:i,v=r(o,d);if(v!==void 0)return n?!s&&(!e||e=="$eq")?oe({},i,{$ne:v}):s?{$not:oe({},e,[p,v])}:oe({},i,{$not:oe({},e,v)}):!s&&(!e||e=="$eq")?oe({},i,v):s?oe({},e,[p,v]):oe({},i,oe({},e,v))},Koe=function(e,r,n,i,a,o,s,l,u,c,f){var d=typeof n=="string"&&!n.startsWith("$")?"$"+n:n;return r?o?{$not:{$and:[oe({},e[0],[d,a[0]]),oe({},e[1],[d,a[1]])]}}:oe({},n,{$not:oe(oe({},e[0],a[0]),e[1],a[1])}):o?{$and:[oe({},e[0],[d,a[0]]),oe({},e[1],[d,a[1]])]}:oe({},n,oe(oe({},e[0],a[0]),e[1],a[1]))},Joe={utils:{SqlString:go,moment:je,mongoFormatOp1:Yoe,mongoFormatOp2:Koe,mongoEmptyValue:YI,escapeRegExp:Zk,sqlEmptyValue:GI,stringifyForDisplay:JI,getTitleInListValues:jI,spelEscape:Al,spelFixList:KI,wrapWithBrackets:QI}};function Qoe(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=Xoe(t))||e){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(u){throw u},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a=!0,o=!1,s;return{s:function(){r=r.call(t)},n:function(){var u=r.next();return a=u.done,u},e:function(u){o=!0,s=u},f:function(){try{!a&&r.return!=null&&r.return()}finally{if(o)throw s}}}}function Xoe(t,e){if(t){if(typeof t=="string")return KO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return KO(t,e)}}function KO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function JO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function $t(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?JO(Object(r),!0).forEach(function(n){oe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):JO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var Zoe={AND:{label:"And",mongoConj:"$and",jsonLogicConj:"and",sqlConj:"AND",spelConj:"and",spelConjs:["and","&&"],reversedConj:"OR",formatConj:function(e,r,n,i){var a=e.size>1?e.join(" "+(i?"AND":"&&")+" "):e.first();return(e.size>1||n)&&(a=this.utils.wrapWithBrackets(a)),n&&(a="NOT "+a),a},sqlFormatConj:function(e,r,n){var i=e.size>1?e.join(" AND "):e.first();return(e.size>1||n)&&(i=this.utils.wrapWithBrackets(i)),n&&(i="NOT "+i),i},spelFormatConj:function(e,r,n,i){n&&(i=!1);var a=e.size>1?e.join(" && "):e.first();return(e.size>1||n)&&!i&&(a=this.utils.wrapWithBrackets(a)),n&&(a="!"+a),a}},OR:{label:"Or",mongoConj:"$or",jsonLogicConj:"or",sqlConj:"OR",spelConj:"or",spelConjs:["or","||"],reversedConj:"AND",formatConj:function(e,r,n,i){return e.size>1?(n?"NOT ":"")+"("+e.join(" "+(i?"OR":"||")+" ")+")":(n?"NOT (":"")+e.first()+(n?")":"")},sqlFormatConj:function(e,r,n){return e.size>1?(n?"NOT ":"")+"("+e.join(" OR ")+")":(n?"NOT (":"")+e.first()+(n?")":"")},spelFormatConj:function(e,r,n,i){return n&&(i=!1),e.size>1?(n?"!":"")+(i?"":"(")+e.join(" || ")+(i?"":")"):(n?"!(":"")+e.first()+(n?")":"")}}},ese={equal:{label:"==",labelForFormat:"==",sqlOp:"=",spelOp:"==",spelOps:["==","eq"],reversedOp:"not_equal",formatOp:function(e,r,n,i,a,o,s,l,u){var c=l?"=":o.label;return a=="boolean"&&l?n=="No"?"NOT ".concat(e):"".concat(e):"".concat(e," ").concat(c," ").concat(n)},mongoFormatOp:function(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(e=this.utils).mongoFormatOp1.apply(e,["$eq",function(a){return a},!1].concat(n))},jsonLogic:"==",elasticSearchQueryType:"term"},not_equal:{isNotOp:!0,label:"!=",labelForFormat:"!=",sqlOp:"<>",spelOp:"!=",spelOps:["!=","ne"],reversedOp:"equal",formatOp:function(e,r,n,i,a,o,s,l,u){return a=="boolean"&&l?n=="No"?"".concat(e):"NOT ".concat(e):"".concat(e," ").concat(o.label," ").concat(n)},mongoFormatOp:function(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(e=this.utils).mongoFormatOp1.apply(e,["$ne",function(a){return a},!1].concat(n))},jsonLogic:"!="},less:{label:"<",labelForFormat:"<",sqlOp:"<",spelOp:"<",spelOps:["<","lt"],reversedOp:"greater_or_equal",mongoFormatOp:function(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(e=this.utils).mongoFormatOp1.apply(e,["$lt",function(a){return a},!1].concat(n))},jsonLogic:"<",elasticSearchQueryType:"range"},less_or_equal:{label:"<=",labelForFormat:"<=",sqlOp:"<=",spelOp:"<=",spelOps:["<=","le"],reversedOp:"greater",mongoFormatOp:function(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(e=this.utils).mongoFormatOp1.apply(e,["$lte",function(a){return a},!1].concat(n))},jsonLogic:"<=",elasticSearchQueryType:"range"},greater:{label:">",labelForFormat:">",sqlOp:">",spelOp:">",spelOps:[">","gt"],reversedOp:"less_or_equal",mongoFormatOp:function(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(e=this.utils).mongoFormatOp1.apply(e,["$gt",function(a){return a},!1].concat(n))},jsonLogic:">",elasticSearchQueryType:"range"},greater_or_equal:{label:">=",labelForFormat:">=",sqlOp:">=",spelOp:">=",spelOps:[">=","ge"],reversedOp:"less",mongoFormatOp:function(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(e=this.utils).mongoFormatOp1.apply(e,["$gte",function(a){return a},!1].concat(n))},jsonLogic:">=",elasticSearchQueryType:"range"},like:{label:"Contains",labelForFormat:"Contains",reversedOp:"not_like",sqlOp:"LIKE",spelOp:"${0}.contains(${1})",valueTypes:["text"],mongoFormatOp:function(){for(var e,r=this,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(e=this.utils).mongoFormatOp1.apply(e,["$regex",function(o){return typeof o=="string"?r.utils.escapeRegExp(o):void 0},!1].concat(i))},jsonLogic:function(e,r,n){return{in:[n,e]}},jsonLogic2:"#in",valueSources:["value"],elasticSearchQueryType:"regexp"},not_like:{isNotOp:!0,label:"Not contains",reversedOp:"like",labelForFormat:"Not Contains",sqlOp:"NOT LIKE",mongoFormatOp:function(){for(var e,r=this,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(e=this.utils).mongoFormatOp1.apply(e,["$regex",function(o){return typeof o=="string"?r.utils.escapeRegExp(o):void 0},!0].concat(i))},jsonLogic:function(e,r,n){return{"!":{in:[n,e]}}},jsonLogic2:"#!in",_jsonLogicIsExclamationOp:!0,valueSources:["value"]},starts_with:{label:"Starts with",labelForFormat:"Starts with",sqlOp:"LIKE",spelOp:"${0}.startsWith(${1})",mongoFormatOp:function(){for(var e,r=this,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(e=this.utils).mongoFormatOp1.apply(e,["$regex",function(o){return typeof o=="string"?"^"+r.utils.escapeRegExp(o):void 0},!1].concat(i))},jsonLogic:void 0,valueSources:["value"]},ends_with:{label:"Ends with",labelForFormat:"Ends with",sqlOp:"LIKE",spelOp:"${0}.endsWith(${1})",mongoFormatOp:function(){for(var e,r=this,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(e=this.utils).mongoFormatOp1.apply(e,["$regex",function(o){return typeof o=="string"?r.utils.escapeRegExp(o)+"$":void 0},!1].concat(i))},jsonLogic:void 0,valueSources:["value"]},between:{label:"Between",labelForFormat:"BETWEEN",sqlOp:"BETWEEN",cardinality:2,formatOp:function(e,r,n,i,a,o,s,l){var u=n.first(),c=n.get(1);return l?"".concat(e," BETWEEN ").concat(u," AND ").concat(c):"".concat(e," >= ").concat(u," && ").concat(e," <= ").concat(c)},spelFormatOp:function(e,r,n,i,a,o,s,l){var u=n[0],c=n[1];return"".concat(e," >= ").concat(u," && ").concat(e," <= ").concat(c)},mongoFormatOp:function(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(e=this.utils).mongoFormatOp2.apply(e,[["$gte","$lte"],!1].concat(n))},valueLabels:["Value from","Value to"],textSeparators:[null,"and"],reversedOp:"not_between",jsonLogic:"<=",validateValues:function(e){return e[0]!=null&&e[1]!=null?e[0]<=e[1]:null},elasticSearchQueryType:function(e){return e==="time"?"filter":"range"}},not_between:{isNotOp:!0,label:"Not between",labelForFormat:"NOT BETWEEN",sqlOp:"NOT BETWEEN",cardinality:2,formatOp:function(e,r,n,i,a,o,s,l){var u=n.first(),c=n.get(1);return l?"".concat(e," NOT BETWEEN ").concat(u," AND ").concat(c):"(".concat(e," < ").concat(u," || ").concat(e," > ").concat(c,")")},spelFormatOp:function(e,r,n,i,a,o,s,l){var u=n[0],c=n[1];return"(".concat(e," < ").concat(u," || ").concat(e," > ").concat(c,")")},mongoFormatOp:function(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(e=this.utils).mongoFormatOp2.apply(e,[["$gte","$lte"],!0].concat(n))},valueLabels:["Value from","Value to"],textSeparators:[null,"and"],reversedOp:"between",jsonLogic:function(e,r,n){return{"!":{"<=":[Array.isArray(n)?n[0]:n,e,Array.isArray(n)?n[1]:n]}}},jsonLogic2:"!<=",_jsonLogicIsExclamationOp:!0,validateValues:function(e){return e[0]!=null&&e[1]!=null?e[0]<=e[1]:null}},is_empty:{label:"Is empty",labelForFormat:"IS EMPTY",cardinality:0,reversedOp:"is_not_empty",formatOp:function(e,r,n,i,a,o,s,l){return l?"".concat(e," IS EMPTY"):"!".concat(e)},sqlFormatOp:function(e,r,n,i,a,o,s,l){var u=this.utils.sqlEmptyValue(l);return"COALESCE(".concat(e,", ").concat(u,") = ").concat(u)},spelFormatOp:function(e,r,n,i,a,o,s,l){return"".concat(e," <= ''")},mongoFormatOp:function(){for(var e,r=this,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(e=this.utils).mongoFormatOp1.apply(e,["$in",function(o,s){return[r.utils.mongoEmptyValue(s),null]},!1].concat(i))},jsonLogic:"!"},is_not_empty:{isNotOp:!0,label:"Is not empty",labelForFormat:"IS NOT EMPTY",cardinality:0,reversedOp:"is_empty",formatOp:function(e,r,n,i,a,o,s,l){return l?"".concat(e," IS NOT EMPTY"):"!!".concat(e)},sqlFormatOp:function(e,r,n,i,a,o,s,l){var u=this.utils.sqlEmptyValue(l);return"COALESCE(".concat(e,", ").concat(u,") <> ").concat(u)},spelFormatOp:function(e,r,n,i,a,o,s,l){return"".concat(e," > ''")},mongoFormatOp:function(){for(var e,r=this,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return(e=this.utils).mongoFormatOp1.apply(e,["$nin",function(o,s){return[r.utils.mongoEmptyValue(s),null]},!1].concat(i))},jsonLogic:"!!",elasticSearchQueryType:"exists"},is_null:{label:"Is null",labelForFormat:"IS NULL",sqlOp:"IS NULL",cardinality:0,reversedOp:"is_not_null",formatOp:function(e,r,n,i,a,o,s,l){return l?"".concat(e," IS NULL"):"!".concat(e)},spelFormatOp:function(e,r,n,i,a,o,s,l){return"".concat(e," == null")},mongoFormatOp:function(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(e=this.utils).mongoFormatOp1.apply(e,["$eq",function(a){return null},!1].concat(n))},jsonLogic:"=="},is_not_null:{label:"Is not null",labelForFormat:"IS NOT NULL",sqlOp:"IS NOT NULL",cardinality:0,reversedOp:"is_null",formatOp:function(e,r,n,i,a,o,s,l){return l?"".concat(e," IS NOT NULL"):"!!".concat(e)},spelFormatOp:function(e,r,n,i,a,o,s,l){return"".concat(e," != null")},mongoFormatOp:function(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(e=this.utils).mongoFormatOp1.apply(e,["$ne",function(a){return null},!1].concat(n))},jsonLogic:"!=",elasticSearchQueryType:"exists"},select_equals:{label:"==",labelForFormat:"==",sqlOp:"=",formatOp:function(e,r,n,i,a,o,s,l){var u=l?"=":"==";return"".concat(e," ").concat(u," ").concat(n)},spelOp:"==",spelOps:["==","eq"],mongoFormatOp:function(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(e=this.utils).mongoFormatOp1.apply(e,["$eq",function(a){return a},!1].concat(n))},reversedOp:"select_not_equals",jsonLogic:"==",elasticSearchQueryType:"term"},select_not_equals:{isNotOp:!0,label:"!=",labelForFormat:"!=",sqlOp:"<>",formatOp:function(e,r,n,i,a,o,s,l){return"".concat(e," != ").concat(n)},spelOp:"!=",spelOps:["!=","ne"],mongoFormatOp:function(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(e=this.utils).mongoFormatOp1.apply(e,["$ne",function(a){return a},!1].concat(n))},reversedOp:"select_equals",jsonLogic:"!="},select_any_in:{label:"Any in",labelForFormat:"IN",sqlOp:"IN",formatOp:function(e,r,n,i,a,o,s,l){return i=="value"?"".concat(e," IN (").concat(n.join(", "),")"):"".concat(e," IN (").concat(n,")")},sqlFormatOp:function(e,r,n,i,a,o,s,l){if(i=="value")return"".concat(e," IN (").concat(n.join(", "),")")},valueTypes:["multiselect"],spelOp:"${1}.contains(${0})",mongoFormatOp:function(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(e=this.utils).mongoFormatOp1.apply(e,["$in",function(a){return a},!1].concat(n))},reversedOp:"select_not_any_in",jsonLogic:"in",elasticSearchQueryType:"term"},select_not_any_in:{isNotOp:!0,label:"Not in",labelForFormat:"NOT IN",sqlOp:"NOT IN",formatOp:function(e,r,n,i,a,o,s,l){return i=="value"?"".concat(e," NOT IN (").concat(n.join(", "),")"):"".concat(e," NOT IN (").concat(n,")")},sqlFormatOp:function(e,r,n,i,a,o,s,l){if(i=="value")return"".concat(e," NOT IN (").concat(n.join(", "),")")},mongoFormatOp:function(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(e=this.utils).mongoFormatOp1.apply(e,["$nin",function(a){return a},!1].concat(n))},reversedOp:"select_any_in",jsonLogic:function(e,r,n){return{"!":{in:[e,n]}}},jsonLogic2:"!in",_jsonLogicIsExclamationOp:!0},multiselect_contains:{label:"Contains",labelForFormat:"CONTAINS",formatOp:function(e,r,n,i,a,o,s,l){return i=="value"?"".concat(e," CONTAINS [").concat(n.join(", "),"]"):"".concat(e," CONTAINS ").concat(n)},reversedOp:"multiselect_not_contains",jsonLogic2:"some-in",jsonLogic:function(e,r,n){return{some:[e,{in:[{var:""},n]}]}},spelOp:"T(CollectionUtils).containsAny(${0}, ${1})",elasticSearchQueryType:"term",mongoFormatOp:function(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(e=this.utils).mongoFormatOp1.apply(e,["$in",function(a){return a},!1].concat(n))}},multiselect_not_contains:{isNotOp:!0,label:"Not contains",labelForFormat:"NOT CONTAINS",formatOp:function(e,r,n,i,a,o,s,l){return i=="value"?"".concat(e," NOT CONTAINS [").concat(n.join(", "),"]"):"".concat(e," NOT CONTAINS ").concat(n)},reversedOp:"multiselect_contains",jsonLogic2:"!some-in",jsonLogic:function(e,r,n){return{"!":{some:[e,{in:[{var:""},n]}]}}},_jsonLogicIsExclamationOp:!0},multiselect_equals:{label:"Equals",labelForFormat:"==",sqlOp:"=",formatOp:function(e,r,n,i,a,o,s,l){var u=l?"=":"==";return i=="value"?"".concat(e," ").concat(u," [").concat(n.join(", "),"]"):"".concat(e," ").concat(u," ").concat(n)},sqlFormatOp:function(e,r,n,i,a,o,s,l){var u=this;if(i=="value")return"".concat(e," = '").concat(n.map(function(c){return u.utils.SqlString.trim(c)}).join(","),"'")},spelOp:"${0}.equals(${1})",mongoFormatOp:function(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(e=this.utils).mongoFormatOp1.apply(e,["$eq",function(a){return a},!1].concat(n))},reversedOp:"multiselect_not_equals",jsonLogic2:"all-in",jsonLogic:function(e,r,n){return{all:[e,{in:[{var:""},n]}]}},elasticSearchQueryType:"term"},multiselect_not_equals:{isNotOp:!0,label:"Not equals",labelForFormat:"!=",sqlOp:"<>",formatOp:function(e,r,n,i,a,o,s,l){return i=="value"?"".concat(e," != [").concat(n.join(", "),"]"):"".concat(e," != ").concat(n)},sqlFormatOp:function(e,r,n,i,a,o,s,l){var u=this;if(i=="value")return"".concat(e," != '").concat(n.map(function(c){return u.utils.SqlString.trim(c)}).join(","),"'")},mongoFormatOp:function(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(e=this.utils).mongoFormatOp1.apply(e,["$ne",function(a){return a},!1].concat(n))},reversedOp:"multiselect_equals",jsonLogic2:"!all-in",jsonLogic:function(e,r,n){return{"!":{all:[e,{in:[{var:""},n]}]}}},_jsonLogicIsExclamationOp:!0},proximity:{label:"Proximity search",cardinality:2,valueLabels:[{label:"Word 1",placeholder:"Enter first word"},{label:"Word 2",placeholder:"Enter second word"}],textSeparators:[],formatOp:function(e,r,n,i,a,o,s,l){var u=n.first(),c=n.get(1),f=s==null?void 0:s.get("proximity");return"".concat(e," ").concat(u," NEAR/").concat(f," ").concat(c)},sqlFormatOp:function(e,r,n,i,a,o,s,l){var u=n.first(),c=n.get(1),f=this.utils.SqlString.trim(u),d=this.utils.SqlString.trim(c),p=s==null?void 0:s.get("proximity");return"CONTAINS(".concat(e,", 'NEAR((").concat(f,", ").concat(d,"), ").concat(p,")')")},mongoFormatOp:void 0,jsonLogic:void 0,options:{optionLabel:"Near",optionTextBefore:"Near",optionPlaceholder:"Select words between",minProximity:2,maxProximity:10,defaults:{proximity:2}}},some:{label:"Some",labelForFormat:"SOME",cardinality:0,jsonLogic:"some",spelFormatOp:function(e){return"".concat(e," > 0")},mongoFormatOp:function(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(e=this.utils).mongoFormatOp1.apply(e,["$gt",function(a){return 0},!1].concat(n))}},all:{label:"All",labelForFormat:"ALL",cardinality:0,jsonLogic:"all",spelFormatOp:function(e,r,n){return"".concat(e," == ").concat(n)},mongoFormatOp:function(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(e=this.utils).mongoFormatOp1.apply(e,["$eq",function(a){return a},!1].concat(n))}},none:{label:"None",labelForFormat:"NONE",cardinality:0,jsonLogic:"none",spelFormatOp:function(e){return"".concat(e," == 0")},mongoFormatOp:function(){for(var e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(e=this.utils).mongoFormatOp1.apply(e,["$eq",function(a){return 0},!1].concat(n))}}},tse={text:{type:"text",jsType:"string",valueSrc:"value",valueLabel:"String",valuePlaceholder:"Enter string",formatValue:function(e,r,n,i){return i?this.utils.stringifyForDisplay(e):JSON.stringify(e)},spelFormatValue:function(e,r,n,i,a){return this.utils.spelEscape(e)},sqlFormatValue:function(e,r,n,i,a){return a.sqlOp=="LIKE"||a.sqlOp=="NOT LIKE"?this.utils.SqlString.escapeLike(e,i!="starts_with",i!="ends_with"):this.utils.SqlString.escape(e)},toJS:function(e,r){return e},mongoFormatValue:function(e,r,n){return e}},textarea:{type:"text",jsType:"string",valueSrc:"value",valueLabel:"Text",valuePlaceholder:"Enter text",formatValue:function(e,r,n,i){return i?this.utils.stringifyForDisplay(e):JSON.stringify(e)},sqlFormatValue:function(e,r,n,i,a){return a.sqlOp=="LIKE"||a.sqlOp=="NOT LIKE"?this.utils.SqlString.escapeLike(e,i!="starts_with",i!="ends_with"):this.utils.SqlString.escape(e)},spelFormatValue:function(e){return this.utils.spelEscape(e)},toJS:function(e,r){return e},mongoFormatValue:function(e,r,n){return e},fullWidth:!0},number:{type:"number",jsType:"number",valueSrc:"value",valueLabel:"Number",valuePlaceholder:"Enter number",valueLabels:[{label:"Number from",placeholder:"Enter number from"},{label:"Number to",placeholder:"Enter number to"}],formatValue:function(e,r,n,i){return i?this.utils.stringifyForDisplay(e):JSON.stringify(e)},sqlFormatValue:function(e,r,n,i,a){return this.utils.SqlString.escape(e)},spelFormatValue:function(e,r,n){var i=n.step&&!Number.isInteger(n.step);return this.utils.spelEscape(e,i)},toJS:function(e,r){return e},mongoFormatValue:function(e,r,n){return e}},slider:{type:"number",jsType:"number",valueSrc:"value",valueLabel:"Number",valuePlaceholder:"Enter number or move slider",formatValue:function(e,r,n,i){return i?this.utils.stringifyForDisplay(e):JSON.stringify(e)},sqlFormatValue:function(e,r,n,i,a){return this.utils.SqlString.escape(e)},spelFormatValue:function(e){return this.utils.spelEscape(e)},toJS:function(e,r){return e},mongoFormatValue:function(e,r,n){return e}},select:{type:"select",jsType:"string",valueSrc:"value",valueLabel:"Value",valuePlaceholder:"Select value",formatValue:function(e,r,n,i){var a=this.utils.getTitleInListValues(r.fieldSettings.listValues||r.asyncListValues,e);return i?this.utils.stringifyForDisplay(a):JSON.stringify(e)},sqlFormatValue:function(e,r,n,i,a){return this.utils.SqlString.escape(e)},spelFormatValue:function(e){return this.utils.spelEscape(e)},toJS:function(e,r){return e},mongoFormatValue:function(e,r,n){return e}},multiselect:{type:"multiselect",jsType:"array",valueSrc:"value",valueLabel:"Values",valuePlaceholder:"Select values",formatValue:function(e,r,n,i){var a=this,o=e.map(function(s){return a.utils.getTitleInListValues(r.fieldSettings.listValues||r.asyncListValues,s)});return i?o.map(this.utils.stringifyForDisplay):e.map(JSON.stringify)},sqlFormatValue:function(e,r,n,i,a){var o=this;return e.map(function(s){return o.utils.SqlString.escape(s)})},spelFormatValue:function(e,r,n,i,a){var o=a&&a.spelOp&&a.spelOp.startsWith("${1}"),s=this.utils.spelEscape(e);return o&&(s=this.utils.spelFixList(s)),s},toJS:function(e,r){return e},mongoFormatValue:function(e,r,n){return e}},date:{type:"date",jsType:"string",valueSrc:"value",dateFormat:"DD.MM.YYYY",valueFormat:"YYYY-MM-DD",valueLabel:"Date",valuePlaceholder:"Enter date",valueLabels:[{label:"Date from",placeholder:"Enter date from"},{label:"Date to",placeholder:"Enter date to"}],formatValue:function(e,r,n,i){var a=this.utils.moment(e,n.valueFormat);return i?a.format(n.dateFormat):JSON.stringify(e)},sqlFormatValue:function(e,r,n,i,a){var o=this.utils.moment(e,n.valueFormat);return this.utils.SqlString.escape(o.format("YYYY-MM-DD"))},spelFormatValue:function(e,r,n,i,a){var o=this.utils.moment(e,n.valueFormat),s=o.format("YYYY-MM-DD"),l="yyyy-MM-dd";return"T(java.time.LocalDate).parse('".concat(s,"', T(java.time.format.DateTimeFormatter).ofPattern('").concat(l,"'))")},spelImportFuncs:[{obj:{cls:["java","time","LocalDate"]},methodName:"parse",args:[{var:"v"},{obj:{cls:["java","time","format","DateTimeFormatter"]},methodName:"ofPattern",args:[{var:"fmt"}]}]}],spelImportValue:function(e,r,n){var i,a,o,s;if(!r)return[void 0,"No widget def to get value format"];if(n!=null&&(i=n.fmt)!==null&&i!==void 0&&(i=i.value)!==null&&i!==void 0&&(a=i.includes)!==null&&a!==void 0&&a.call(i," ")||(o=n.fmt)!==null&&o!==void 0&&(o=o.value)!==null&&o!==void 0&&(s=o.toLowerCase)!==null&&s!==void 0&&s.call(o).includes("hh:mm"))return[void 0,"Invalid date format ".concat(JSON.stringify(n.fmt))];var l=this.utils.moment(e.value,this.utils.moment.ISO_8601);return l.isValid()?[l.format(r==null?void 0:r.valueFormat),[]]:[void 0,"Invalid date"]},jsonLogic:function(e,r,n){return this.utils.moment(e,n.valueFormat).toDate()},toJS:function(e,r){var n=this.utils.moment(e,r.valueFormat);return n.isValid()?n.toDate():void 0},mongoFormatValue:function(e,r,n){var i=this.utils.moment(e,n.valueFormat);return i.isValid()?i.toDate():void 0}},time:{type:"time",jsType:"string",valueSrc:"value",timeFormat:"HH:mm",valueFormat:"HH:mm:ss",use12Hours:!1,valueLabel:"Time",valuePlaceholder:"Enter time",valueLabels:[{label:"Time from",placeholder:"Enter time from"},{label:"Time to",placeholder:"Enter time to"}],formatValue:function(e,r,n,i){var a=this.utils.moment(e,n.valueFormat);return i?a.format(n.timeFormat):JSON.stringify(e)},sqlFormatValue:function(e,r,n,i,a){var o=this.utils.moment(e,n.valueFormat);return this.utils.SqlString.escape(o.format("HH:mm:ss"))},spelFormatValue:function(e,r,n,i,a){var o=this.utils.moment(e,n.valueFormat),s=o.format("HH:mm:ss");return"T(java.time.LocalTime).parse('".concat(s,"')")},spelImportFuncs:["T(java.time.LocalTime).parse(${v})"],spelImportValue:function(e,r,n){var i,a,o;if(!r)return[void 0,"No widget def to get value format"];if(n!=null&&n.fmt&&(!((i=n.fmt)!==null&&i!==void 0&&(i=i.value)!==null&&i!==void 0&&(a=i.toLowerCase)!==null&&a!==void 0&&a.call(i).includes("hh:mm"))||(o=n.fmt)!==null&&o!==void 0&&(o=o.value)!==null&&o!==void 0&&o.includes(" ")))return[void 0,"Invalid time format ".concat(JSON.stringify(n.fmt))];var s=this.utils.moment(e.value,"HH:mm:ss");return s.isValid()?[s.format(r==null?void 0:r.valueFormat),[]]:[void 0,"Invalid date"]},jsonLogic:function(e,r,n){var i=this.utils.moment(e,n.valueFormat);return i.get("hour")*60*60+i.get("minute")*60+i.get("second")},toJS:function(e,r){var n=this.utils.moment(e,r.valueFormat);return n.isValid()?n.get("hour")*60*60+n.get("minute")*60+n.get("second"):void 0},mongoFormatValue:function(e,r,n){var i=this.utils.moment(e,n.valueFormat);return i.get("hour")*60*60+i.get("minute")*60+i.get("second")},elasticSearchFormatValue:function(e,r,n,i){return{script:{script:{source:"doc[".concat(i,"][0].getHour() >== params.min && doc[").concat(i,"][0].getHour() <== params.max"),params:{min:r[0],max:r[1]}}}}}},datetime:{type:"datetime",jsType:"string",valueSrc:"value",timeFormat:"HH:mm",dateFormat:"DD.MM.YYYY",valueFormat:"YYYY-MM-DD HH:mm:ss",use12Hours:!1,valueLabel:"Datetime",valuePlaceholder:"Enter datetime",valueLabels:[{label:"Datetime from",placeholder:"Enter datetime from"},{label:"Datetime to",placeholder:"Enter datetime to"}],formatValue:function(e,r,n,i){var a=this.utils.moment(e,n.valueFormat);return i?a.format(n.dateFormat+" "+n.timeFormat):JSON.stringify(e)},sqlFormatValue:function(e,r,n,i,a){var o=this.utils.moment(e,n.valueFormat);return this.utils.SqlString.escape(o.toDate())},spelFormatValue:function(e,r,n,i,a){var o=this.utils.moment(e,n.valueFormat),s=o.format("YYYY-MM-DD HH:mm:ss"),l="yyyy-MM-dd HH:mm:ss";return"T(java.time.LocalDateTime).parse('".concat(s,"', T(java.time.format.DateTimeFormatter).ofPattern('").concat(l,"'))")},spelImportFuncs:[{obj:{cls:["java","time","LocalDateTime"]},methodName:"parse",args:[{var:"v"},{obj:{cls:["java","time","format","DateTimeFormatter"]},methodName:"ofPattern",args:[{var:"fmt"}]}]}],spelImportValue:function(e,r,n){var i,a;if(!r)return[void 0,"No widget def to get value format"];if(!(n!=null&&(i=n.fmt)!==null&&i!==void 0&&(i=i.value)!==null&&i!==void 0&&(a=i.includes)!==null&&a!==void 0&&a.call(i," ")))return[void 0,"Invalid datetime format ".concat(JSON.stringify(n.fmt))];var o=this.utils.moment(e.value,this.utils.moment.ISO_8601);return o.isValid()?[o.format(r==null?void 0:r.valueFormat),[]]:[void 0,"Invalid date"]},jsonLogic:function(e,r,n){return this.utils.moment(e,n.valueFormat).toDate()},toJS:function(e,r){var n=this.utils.moment(e,r.valueFormat);return n.isValid()?n.toDate():void 0},mongoFormatValue:function(e,r,n){var i=this.utils.moment(e,n.valueFormat);return i.isValid()?i.toDate():void 0}},boolean:{type:"boolean",jsType:"boolean",valueSrc:"value",labelYes:"Yes",labelNo:"No",formatValue:function(e,r,n,i){return i?e?"Yes":"No":JSON.stringify(!!e)},sqlFormatValue:function(e,r,n,i,a){return this.utils.SqlString.escape(e)},spelFormatValue:function(e,r,n,i,a){return this.utils.spelEscape(e)},defaultValue:!1,toJS:function(e,r){return e},mongoFormatValue:function(e,r,n){return e}},field:{valueSrc:"field",formatValue:function(e,r,n,i,a,o,s){return i&&s.label||e},sqlFormatValue:function(e,r,n,i,a,o){return e},spelFormatValue:function(e,r,n,i,a){return e},valueLabel:"Field to compare",valuePlaceholder:"Select field to compare"},func:{valueSrc:"func",valueLabel:"Function",valuePlaceholder:"Select function"},case_value:{valueSrc:"value",type:"case_value",spelFormatValue:function(e){return this.utils.spelEscape(e===""?null:e)},spelImportValue:function(e){return[e.value,[]]},jsonLogic:function(e){return e===""?null:e}}},rse={text:{defaultOperator:"equal",mainWidget:"text",widgets:{text:{operators:["equal","not_equal","like","not_like","starts_with","ends_with","proximity","is_empty","is_not_empty","is_null","is_not_null"],widgetProps:{},opProps:{}},textarea:{operators:["equal","not_equal","like","not_like","starts_with","ends_with","is_empty","is_not_empty","is_null","is_not_null"],widgetProps:{},opProps:{}},field:{operators:["equal","not_equal","proximity"]}}},number:{defaultOperator:"equal",mainWidget:"number",widgets:{number:{operators:["equal","not_equal","less","less_or_equal","greater","greater_or_equal","between","not_between","is_null","is_not_null"]},slider:{operators:["equal","not_equal","less","less_or_equal","greater","greater_or_equal","is_null","is_not_null"]}}},date:{defaultOperator:"equal",widgets:{date:{operators:["equal","not_equal","less","less_or_equal","greater","greater_or_equal","between","not_between","is_null","is_not_null"]}}},time:{defaultOperator:"equal",widgets:{time:{operators:["equal","not_equal","less","less_or_equal","greater","greater_or_equal","between","not_between","is_null","is_not_null"]}}},datetime:{defaultOperator:"equal",widgets:{datetime:{operators:["equal","not_equal","less","less_or_equal","greater","greater_or_equal","between","not_between","is_null","is_not_null"]}}},select:{mainWidget:"select",defaultOperator:"select_equals",widgets:{select:{operators:["select_equals","select_not_equals","is_null","is_not_null"]},multiselect:{operators:["select_any_in","select_not_any_in","is_null","is_not_null"]}}},multiselect:{defaultOperator:"multiselect_equals",widgets:{multiselect:{operators:["multiselect_contains","multiselect_not_contains","multiselect_equals","multiselect_not_equals","is_null","is_not_null"]}}},boolean:{defaultOperator:"equal",widgets:{boolean:{operators:["equal","not_equal","is_null","is_not_null"],widgetProps:{}},field:{operators:["equal","not_equal"]}}},"!group":{defaultOperator:"some",mainWidget:"number",widgets:{number:{widgetProps:{min:0},operators:["some","all","none","equal","not_equal","less","less_or_equal","greater","greater_or_equal","between","not_between"],opProps:{equal:{label:"Count =="},not_equal:{label:"Count !="},less:{label:"Count <"},less_or_equal:{label:"Count <="},greater:{label:"Count >"},greater_or_equal:{label:"Count >="},between:{label:"Count between"},not_between:{label:"Count not between"}}}}},case_value:{mainWidget:"case_value",widgets:{case_value:{widgetProps:{}}}}},nse=$t($t({},Nj),{},{convertableWidgets:{number:["slider","rangeslider"],slider:["number","rangeslider"],rangeslider:["number","slider"],text:["textarea"],textarea:["text"]},formatSpelField:function(e,r,n,i,a,o){var s=this,l=i.map(function(u,c){var f=u.key,d=u.parent,p=u.fieldSeparator;return c==0?d=="[map]"?"#this[".concat(s.utils.spelEscape(f),"]"):(d=="[class]",f):d=="map"||d=="[map]"?"[".concat(s.utils.spelEscape(f),"]"):(d=="class"||d=="[class]","".concat(p).concat(f))}).join("");return a.fieldName&&(l=e),a.isSpelVariable&&(l="#"+l),l},sqlFormatReverse:function(e){if(e!=null)return"NOT"+this.utils.wrapWithBrackets(e)},spelFormatReverse:function(e){if(e!=null)return"!"+this.utils.wrapWithBrackets(e)},formatReverse:function(e,r,n,i,a,o){if(e!=null)return o?"NOT "+this.utils.wrapWithBrackets(e):"!"+this.utils.wrapWithBrackets(e)},formatAggr:function(e,r,n,i,a,o,s,l,u,c){var f=s.labelForFormat,d=s.cardinality;if(d==0){var p=e?" HAVE ".concat(e):"";return"".concat(f," OF ").concat(r).concat(p)}else if(d==null||d==1){var v=e?" WHERE ".concat(e):"";return"COUNT OF ".concat(r).concat(v," ").concat(f," ").concat(i)}else if(d==2){var h=e?" WHERE ".concat(e):"",g=i.first(),y=i.get(1);return"COUNT OF ".concat(r).concat(h," ").concat(f," ").concat(g," AND ").concat(y)}},jsonLogic:{groupVarKey:"var",altVarKey:"var",lockedOp:"locked"},canCompareFieldWithField:function(e,r,n,i){return!0},valueSourcesInfo:{value:{label:"Value"},field:{label:"Field",widget:"field"},func:{label:"Function",widget:"func"}}}),sP=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,i={rangeslider:ose,treeselect:sse,treemultiselect:lse,rangeable__date:ase("date","date")},a=Qoe(r),o;try{for(a.s();!(o=a.n()).done;){var s=o.value,l=i[s];if(l)e=l(e,n);else throw new Error("Can't ".concat(n?"add":"remove"," mixin ").concat(s))}}catch(u){a.e(u)}finally{a.f()}return e},lP=function(e,r){return sP(e,r,!0)},ise=function(e,r){return sP(e,r,!1)},ase=function(e,r){return function(n){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,a=n.types;return a=$t($t({},a),{},oe({},e,$t($t({},a[e]),{},{widgets:$t({},a[e].widgets)}))),i?a[e].widgets[r]=$t({opProps:{between:{isSpecialRange:!0,textSeparators:[null,null]},not_between:{isSpecialRange:!0,textSeparators:[null,null]}}},a[e].widgets[r]):delete a[e].widgets[r],$t($t({},n),{},{types:a})}},ose=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,n=e.widgets,i=e.types;return n=$t({},n),r?n.rangeslider=$t({type:"number",jsType:"number",valueSrc:"value",valueLabel:"Range",valuePlaceholder:"Select range",valueLabels:[{label:"Number from",placeholder:"Enter number from"},{label:"Number to",placeholder:"Enter number to"}],formatValue:function(o,s,l,u){return u?this.utils.stringifyForDisplay(o):JSON.stringify(o)},sqlFormatValue:function(o,s,l,u,c){return this.utils.SqlString.escape(o)},spelFormatValue:function(o){return this.utils.spelEscape(o)},singleWidget:"slider",toJS:function(o,s){return o}},n.rangeslider):delete n.rangeslider,i=$t($t({},i),{},{number:$t($t({},i.number),{},{widgets:$t({},i.number.widgets)})}),r?i.number.widgets.rangeslider=$t({opProps:{between:{isSpecialRange:!0},not_between:{isSpecialRange:!0}},operators:["between","not_between","is_null","is_not_null"]},i.number.widgets.rangeslider):delete i.number.widgets.rangeslider,$t($t({},e),{},{widgets:n,types:i})},sse=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,n=e.widgets,i=e.types;return n=$t({},n),r?n.treeselect=$t({type:"treeselect",jsType:"string",valueSrc:"value",valueLabel:"Value",valuePlaceholder:"Select value",formatValue:function(o,s,l,u){var c=s.fieldSettings.treeValues||s.fieldSettings.listValues||s.asyncListValues,f=this.utils.getTitleInListValues(c,o);return u?this.utils.stringifyForDisplay(f):JSON.stringify(o)},sqlFormatValue:function(o,s,l,u,c){return this.utils.SqlString.escape(o)},spelFormatValue:function(o){return this.utils.spelEscape(o)},toJS:function(o,s){return o}},n.treeselect):delete n.treeselect,i=$t({},i),r?i.treeselect=$t({mainWidget:"treeselect",defaultOperator:"select_equals",widgets:{treeselect:{operators:["select_equals","select_not_equals"]},treemultiselect:{operators:["select_any_in","select_not_any_in"]}}},i.treeselect):delete i.treeselect,$t($t({},e),{},{widgets:n,types:i})},lse=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,n=e.widgets,i=e.types;return n=$t({},n),r?n.treemultiselect=$t({type:"treemultiselect",jsType:"array",valueSrc:"value",valueLabel:"Values",valuePlaceholder:"Select values",formatValue:function(o,s,l,u){var c=this,f=s.fieldSettings.treeValues||s.fieldSettings.listValues||s.asyncListValues,d=o.map(function(p){return c.utils.getTitleInListValues(f,p)});return u?d.map(this.utils.stringifyForDisplay):o.map(JSON.stringify)},sqlFormatValue:function(o,s,l,u,c){var f=this;return o.map(function(d){return f.utils.SqlString.escape(d)})},spelFormatValue:function(o){return this.utils.spelEscape(o)},toJS:function(o,s){return o}},n.treemultiselect):delete n.treemultiselect,i=$t({},i),r?i.treemultiselect=$t({defaultOperator:"multiselect_equals",widgets:{treemultiselect:{operators:["multiselect_equals","multiselect_not_equals"]}}},i.treemultiselect):delete i.treemultiselect,$t($t({},e),{},{widgets:n,types:i})},use={addMixins:lP,removeMixins:ise},Ig={conjunctions:Zoe,operators:ese,widgets:tse,types:rse,settings:nse,ctx:Joe};Ig=lP(Ig,["rangeslider","treeselect","treemultiselect"]);const Cr=Ig;var uP="ADD_GROUP",I0="ADD_CASE_GROUP",cP="REMOVE_GROUP",fP="SET_CONJUNCTION",dP="SET_NOT",pP="ADD_RULE",hP="REMOVE_RULE",vP="SET_FIELD",gP="SET_FIELD_SRC",mP="SET_OPERATOR",yP="SET_VALUE",bP="SET_VALUE_SRC",_P="SET_FUNC_VALUE",SP="SET_OPERATOR_OPTION",OP="SET_LOCK",A0="SET_TREE",xP="MOVE_ITEM",QO="after",XO="before",ev="append",tv="prepend",wP="SET_DRAG_PROGRESS",EP="SET_DRAG_START",CP="SET_DRAG_END",cse=Sj,fse=Vl;function dse(t,e){return t&&cse(t,e,fse)}var j0=dse,pse=ip,hse=pm,vse=1,gse=2;function mse(t,e,r,n){var i=r.length,a=i,o=!n;if(t==null)return!a;for(t=Object(t);i--;){var s=r[i];if(o&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<a;){s=r[i];var l=s[0],u=t[l],c=s[1];if(o&&s[2]){if(u===void 0&&!(l in t))return!1}else{var f=new pse;if(n)var d=n(u,c,l,t,e,f);if(!(d===void 0?hse(c,u,vse|gse,n,f):d))return!1}}return!0}var yse=mse,bse=xi;function _se(t){return t===t&&!bse(t)}var TP=_se,Sse=TP,Ose=Vl;function xse(t){for(var e=Ose(t),r=e.length;r--;){var n=e[r],i=t[n];e[r]=[n,i,Sse(i)]}return e}var wse=xse;function Ese(t,e){return function(r){return r==null?!1:r[t]===e&&(e!==void 0||t in Object(r))}}var kP=Ese,Cse=yse,Tse=wse,kse=kP;function Ise(t){var e=Tse(t);return e.length==1&&e[0][2]?kse(e[0][0],e[0][1]):function(r){return r===t||Cse(r,t,e)}}var Ase=Ise,jse=qp;function Pse(t,e,r){var n=t==null?void 0:jse(t,e);return n===void 0?r:n}var Lse=Pse,Fse=pm,Rse=Lse,$se=hI,Nse=Qy,Dse=TP,Mse=kP,Vse=nu,Bse=1,qse=2;function Hse(t,e){return Nse(t)&&Dse(e)?Mse(Vse(t),e):function(r){var n=Rse(r,t);return n===void 0&&n===e?$se(r,t):Fse(e,n,Bse|qse)}}var zse=Hse;function Use(t){return function(e){return e==null?void 0:e[t]}}var Wse=Use,Gse=qp;function Yse(t){return function(e){return Gse(e,t)}}var Kse=Yse,Jse=Wse,Qse=Kse,Xse=Qy,Zse=nu;function ele(t){return Xse(t)?Jse(Zse(t)):Qse(t)}var tle=ele,rle=Ase,nle=zse,ile=zp,ale=ti,ole=tle;function sle(t){return typeof t=="function"?t:t==null?ile:typeof t=="object"?ale(t)?nle(t[0],t[1]):rle(t):ole(t)}var P0=sle,lle=Hp,ule=j0,cle=P0;function fle(t,e){var r={};return e=cle(e),ule(t,function(n,i,a){lle(r,i,e(n,i,a))}),r}var dle=fle;const th=en(dle);function ZO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ra(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ZO(Object(r),!0).forEach(function(n){oe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ZO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function L0(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=ple(t))||e){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(u){throw u},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a=!0,o=!1,s;return{s:function(){r=r.call(t)},n:function(){var u=r.next();return a=u.done,u},e:function(u){o=!0,s=u},f:function(){try{!a&&r.return!=null&&r.return()}finally{if(o)throw s}}}}function ple(t,e){if(t){if(typeof t=="string")return ex(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ex(t,e)}}function ex(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var tx=function(e,r,n,i,a,o){var s,l=arguments.length>6&&arguments[6]!==void 0?arguments[6]:null,u=arguments.length>7&&arguments[7]!==void 0?arguments[7]:{},c=e.getIn(Ie(r));if(!c)return e;var f=(a==null||(s=a.get)===null||s===void 0?void 0:s.call(a,"id"))||i,d=o.settings.shouldCreateEmptyGroup,p=r.push(f),v=!d,h=!!(u!=null&&u.isDefaultCase),g=e;return e=es(e,r,n,f,Lo(o).merge(Po(a)||{}),o,l),e!==g&&(!l&&!h&&(e=e.setIn(Ie(p,"children1"),new Ue.OrderedMap),v&&(e=es(e,p,"rule",Lt(),xa(o),o))),e=Bi(e)),e},hle=function(e,r,n){var i=e.getIn(Ie(r));if(!i)return e;e=F0(e,r);var a=n.settings.canLeaveEmptyGroup,o=r.slice(0,-1),s=!l0(e,o);if(s&&!a&&(e=Gp(e),s0(e)&&!a)){var l=!1,u=!1;e=es(e,new Ue.List,"rule",Lt(),xa(n,void 0,void 0,l,u),n)}return e=Bi(e),e},vle=function(e,r,n){var i=e.getIn(Ie(r));if(!i)return e;e=F0(e,r);var a=n.settings.canLeaveEmptyGroup,o=r.pop(),s=e.getIn(Ie(o)),l=s.getIn(["properties","field"]),u=s.getIn(["properties","operator"]),c=l?Me(n,l):null,f=u?jt(n,u,l):null,d=l&&u&&f.cardinality!=0,p=s.get("type")=="rule_group",v=!l0(e,o),h=p?d&&c.initialEmptyWhere:a;if(v&&!h&&(p&&(e=e.deleteIn(Ie(o))),e=Gp(e),s0(e)&&!a)){var g=!1,y=!1;e=es(e,new Ue.List,"rule",Lt(),xa(n,void 0,void 0,g,y),n)}return e=Bi(e),e},gle=function(e,r,n){var i=e.getIn(Ie(r));return i&&(e=e.setIn(Ie(r,"properties","not"),n)),e},mle=function(e,r,n){var i=e.getIn(Ie(r));return i&&(e=PI(e.setIn(Ie(r,"properties","isLocked"),n))),e},yle=function(e,r,n){var i=e.getIn(Ie(r));return i&&(e=e.setIn(Ie(r,"properties","conjunction"),n)),e},es=function(e,r,n,i,a,o){var s,l=arguments.length>6&&arguments[6]!==void 0?arguments[6]:null;if(n==="switch_group")throw new Error("Can't add switch_group programmatically");var u=e.getIn(Ie(r));if(!u)return e;var c=(a==null||(s=a.get)===null||s===void 0?void 0:s.call(a,"id"))||i,f=o.settings,d=f.maxNumberOfCases,p=f.maxNumberOfRules,v=f.maxNesting,h=e.get("type"),g=h==="switch_group",y=g?e.getIn(Ie(r.take(2))):null,m=Ie(r,"children1"),_=e.getIn(m),b=!!_&&_.size,S=b?_.size:null,O,x;n==="case_group"?(O=S,x=d):n==="group"?(O=r.size,x=v):(u==null?void 0:u.get("type"))==="rule_group"||(O=cg(g?y:e),x=p);var E=x&&O?O<x:!0,A={type:n,id:c,properties:a};Cle(o,A,l);var C=n==="case_group"&&b&&_.last().get("children1")==null;if(E){var k=new Ue.OrderedMap(oe({},c,new Ue.Map(A)));if(!b)e=e.setIn(m,k);else if(C){var w=_.last(),I=new Ue.OrderedMap(oe(oe({},c,new Ue.Map(A)),w.get("id"),w));e=e.deleteIn(Ie(m,"children1",w.get("id"))),e=e.mergeIn(m,I)}else e=e.mergeIn(m,k);e=Bi(e)}return e},F0=function(e,r){return e=e.deleteIn(Ie(r)),e=Bi(e),e},ble=function(e,r,n,i,a){var o=ul(e,r),s=r.pop(),l=r.size>1?ul(e,s):null,u=l?l.get("children1"):null,c=ul(e,n),f=i==ev||i==tv?n:n.pop(),d=i==ev||i==tv?c:n.size>1?ul(e,f):null,p=d?d.get("children1"):null;if(!l||!d||!o)return e;var v=l.get("id")==d.get("id"),h=f.size<s.size&&Ad(f.toArray(),s.toArray().slice(0,f.size)),g=f.size>s.size&&Ad(s.toArray(),f.toArray().slice(0,s.size)),y=null,m=null;h?y=Ue.List(s.toArray().slice(f.size)):g&&(m=Ue.List(f.toArray().slice(s.size)));var _=p,b=u;return g||(b=b.delete(o.get("id"))),v?_=b:h&&(_=_.updateIn(lg(y,"children1"),function(S){return b})),i==XO||i==QO?_=Ue.OrderedMap().withMutations(function(S){var O=L0(_.entries()),x;try{for(O.s();!(x=O.n()).done;){var E=ke(x.value,2),A=E[0],C=E[1];A==(c==null?void 0:c.get("id"))&&i==XO&&S.set(o.get("id"),o),S.set(A,C),A==(c==null?void 0:c.get("id"))&&i==QO&&S.set(o.get("id"),o)}}catch(k){O.e(k)}finally{O.f()}}):i==ev?_=_.merge(Ue.OrderedMap(oe({},o.get("id"),o))):i==tv&&(_=Ue.OrderedMap(oe({},o.get("id"),o)).merge(_)),g&&(b=b.updateIn(lg(m,"children1"),function(S){return _}),b=b.delete(o.get("id"))),!v&&!h&&(e=e.updateIn(Ie(s,"children1"),function(S){return b})),g||(e=e.updateIn(Ie(f,"children1"),function(S){return _})),e=Bi(e),e},_le=function(e,r,n,i){var a=e.getIn(Ie(r));if(!a)return e;var o=i.settings.keepInputOnChangeFieldSrc,s=a.get("properties"),l=s==null?void 0:s.get("field"),u=s==null?void 0:s.get("fieldType"),c=Me(i,l),f=(c==null?void 0:c.type)||u;(!f||f==="!group"||f==="!struct")&&(f=null);var d=!Jp.includes(f),p=o&&!y0(a,i)&&d;return p?(e=e.setIn(Ie(r,"properties","field"),null),e=e.deleteIn(Ie(r,"properties","fieldError")),e=e.setIn(Ie(r,"properties","fieldType"),f)):e=e.setIn(Ie(r,"properties"),xa(i,null,null,!1)),e=e.setIn(Ie(r,"properties","fieldSrc"),n),e},Sle=function(e,r,n,i,a,o,s,l,u){var c=arguments.length>9&&arguments[9]!==void 0?arguments[9]:{},f=r.getIn(Ie(n));if(!f)return r;var d=i===-1,p=f.get("properties"),v=p.get("field"),h=p.get("value"),g=d?v:h.getIn([i]),y=[],m=g,_=L0(a||[]),b;try{for(_.s();!(b=_.n()).done;){var S=ke(b.value,2),O=S[0],x=S[1];if(y.push([O,x,m]),O!==m.get("func")){var E=y.map(function(q){var W=ke(q,2),D=W[0],G=W[1];return"".concat(D,"(").concat(G,")")}).join("/")||"root";throw new Error("In ".concat(d?"LHS":"RHS"," for path ").concat(E," expected func key ").concat(O," but got ").concat(parent.get("func")))}m=m.getIn(["args",x,"value"])}}catch(q){_.e(q)}finally{_.f()}if(o){var k=m.get("func"),w=Wr(e,k),I=w.args,L=I[o];l==="!valueSrc"?m=pj(m,o,s):m=Og(m,o,s,L,e)}else{var A=s,C=!0;m=fj(m,A,e,C),c.canDropArgs=!0}for(var P=m;y.length;){var V=y.pop(),$=ke(V,3),U=$[0],M=$[1],R=$[2],F=Wr(e,U),N=F.args,B=N[M];P=Og(R,M,P,B,e)}return d?IP(r,n,P,e,u,c):AP(r,n,i,P,void 0,e,u,c)},IP=function(e,r,n,i,a){var o,s,l,u,c=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},f=e.getIn(Ie(r));if(!f)return{state:e};var d=c.isEndValue,p=c.canDropArgs;if(!n)return e=F0(e,r),{state:e};var v=i.settings,h=v.fieldSeparator,g=v.setOpOnChangeField,y=v.showErrorMessage;Array.isArray(n)&&(n=n.join(h));var m=f.get("type"),_=f.get("properties"),b=m=="rule_group",S=_==null?void 0:_.get("fieldSrc"),O=Me(i,n);if(!O)return console.warn("No config for LHS ".concat(n)),{state:e};var x=O.type;(x==="!group"||x==="!struct")&&(x=null);var E=_==null?void 0:_.get("operator"),A=_==null?void 0:_.get("operatorOptions"),C=_==null?void 0:_.get("field"),k=O.type=="!group",w=k&&O.mode=="array",I=b!=k,L=O&&((o=O.operators)===null||o===void 0?void 0:o.indexOf(E))!==-1?E:null,P=S==="func"&&(C==null||(s=C.get)===null||s===void 0?void 0:s.call(C,"func"))===((l=n)===null||l===void 0||(u=l.get)===null||u===void 0?void 0:u.call(l,"func")),V=P&&!!L,$=null,U=S==="func"?vj(i,x):Qp(i,n);if(U&&U.length==1)$=U[0];else if(V)$=L;else if(U&&U.length>1){var M=L0(g),R;try{for(M.s();!(R=M.n()).done;){var F=R.value;if(F=="keep"&&!I?$=L:F=="default"?$=p0(i,n,!1):F=="first"&&($=g0(i,n)),$)break}}catch(Y){M.e(Y)}finally{M.f()}}if(!k&&!O.operators)return console.warn("Type ".concat(O.type," is not supported")),{state:e};b&&!k&&(e=e.setIn(Ie(r,"type"),"rule"),e=e.deleteIn(Ie(r,"children1")),e=e.setIn(Ie(r,"properties"),new Ue.OrderedMap)),_||(e=e.setIn(Ie(r,"properties"),new Ue.OrderedMap));var N=!y;if(k){e=e.setIn(Ie(r,"type"),"rule_group");var B=Xo(i,i,_,n,$,"field",N,d,p);B.canReuseValue;var q=B.newValue,W=B.newValueSrc,D=B.newValueType,G=B.operatorCardinality,H=Lo(i,O).merge({field:n,fieldSrc:"field",mode:O.mode});w&&(H=H.merge({operator:$,value:q,valueSrc:W,valueType:D})),e=e.setIn(Ie(r,"children1"),new Ue.OrderedMap),e=e.setIn(Ie(r,"properties"),H),O.initialEmptyWhere&&G==1||(e=es(e,r,"rule",Lt(),xa(i,n),i)),e=Bi(e)}else e=e.updateIn(Ie(r,"properties"),function(Y){return Y.withMutations(function(K){var ie=Xo(i,i,K,n,$,"field",N,d,p),te=ie.canReuseValue,se=ie.newValue,ue=ie.newValueSrc,fe=ie.newValueType,de=ie.newValueError,Se=ie.newFieldError,J=ie.fixedField,re=n,ce=J!==n;ce&&(re=J),y&&(K=K.set("fieldError",Se),K=K.set("valueError",de));var ve=te?A:Gc(i,$,re);return K=K.set("field",re).delete("fieldType").set("fieldSrc",S).set("operator",$).set("operatorOptions",ve).set("value",se).set("valueSrc",ue).set("valueType",fe),te||(K=K.delete("asyncListValues")),K})});return{state:e}},Ole=function(e,r,n,i){var a=e.getIn(Ie(r));if(!a)return e;var o=i.settings.showErrorMessage,s=a.get("properties"),l=a.get("children1"),u=s.get("field");s.get("fieldSrc");var c=Me(i,u),f=(c==null?void 0:c.type)=="!group",d=jt(i,n,u),p=d?zr(d):null,v=!0;return e=e.updateIn(Ie(r,"properties"),function(h){return h.withMutations(function(g){var y=g.get("field"),m=g.get("operatorOptions");g.get("value",new Ue.List),g.get("valueSrc",new Ue.List),g.get("operator");var _=Xo(i,i,g,y,n,"operator",v),b=_.canReuseValue,S=_.newValue,O=_.newValueSrc,x=_.newValueType,E=_.newValueError;o&&(g=g.set("valueError",E));var A=b?m:Gc(i,n,y);return b||(g=g.delete("asyncListValues")),g.set("operator",n).set("operatorOptions",A).set("value",S).set("valueSrc",O).set("valueType",x)})}),f&&p==0&&l.size==0&&(e=es(e,r,"rule",Lt(),xa(i,u),i)),e},AP=function(e,r,n,i,a,o,s){var l=arguments.length>7&&arguments[7]!==void 0?arguments[7]:{},u=e.getIn(Ie(r));if(!u)return{state:e};var c=l.canDropArgs,f=l.isEndValue,d=o.settings,p=d.fieldSeparator,v=d.showErrorMessage,h=e.getIn(Ie(r,"properties","valueSrc",n+""))||null;h==="field"&&Array.isArray(i)&&(i=i.join(p));var g=e.getIn(Ie(r,"properties","field"))||null,y=e.getIn(Ie(r,"properties","operator"))||null,m=jt(o,y,g),_=y?zr(m):null,b=a||gj(i,h,o),S=!v,O=jl(o,g,g,y,i,b,h,s,S,f,c),x=ke(O,2),E=x[0],A=x[1],C=A==null?void 0:A.find(function(R){return!R.fixed&&!R.ignore}),k=C?Ri(C):null,w=E!==i;w&&(i=E),e=jP(e,r,o,_);var I=Array.from({length:_},function(R,F){return F==n?i:e.getIn(Ie(r,"properties","value",F+""))||null}),L=Array.from({length:_},function(R,F){return e.getIn(Ie(r,"properties","valueSrc",F+""))||null}),P=h0(o,g,y,I,L),V=P?Ri(P):null,$=!k&&!V,U=v?!0:$||w;if(U&&(e=e.deleteIn(Ie(r,"properties","asyncListValues")),typeof i>"u"?(e=e.setIn(Ie(r,"properties","value",n),void 0),e=e.setIn(Ie(r,"properties","valueType",n),null)):(s&&(e=e.setIn(Ie(r,"properties","asyncListValues"),s)),e=e.setIn(Ie(r,"properties","value",n),i),e=e.setIn(Ie(r,"properties","valueType",n),b))),v){var M=e.getIn(Ie(r,"properties","valueError"));M||(e=e.setIn(Ie(r,"properties","valueError"),new Ue.List(new Array(_)))),e=e.setIn(Ie(r,"properties","valueError",n),k),_>=2&&(e=e.setIn(Ie(r,"properties","valueError",_),V))}return{state:e}},xle=function(e,r,n,i,a){var o=e.getIn(Ie(r));if(!o)return e;var s=a.settings.showErrorMessage,l=e.getIn(Ie(r,"properties","field"))||null,u=e.getIn(Ie(r,"properties","operator"))||null,c=jt(a,u,l),f=u?zr(c):null;if(e=jP(e,r,a,f),e=e.setIn(Ie(r,"properties","value",n+""),void 0),e=e.setIn(Ie(r,"properties","valueType",n+""),null),e=e.deleteIn(Ie(r,"properties","asyncListValues")),s&&(e=e.setIn(Ie(r,"properties","valueError",n),null),c.validateValues&&(e=e.setIn(Ie(r,"properties","valueError",f),null))),typeof i>"u"?e=e.setIn(Ie(r,"properties","valueSrc",n+""),null):e=e.setIn(Ie(r,"properties","valueSrc",n+""),i),i){var d=e.getIn(Ie(r,"properties")),p=!0,v=Xo(a,a,d,l,u,"valueSrc",p),h=v.canReuseValue,g=v.newValue,y=v.newValueSrc,m=v.newValueType;v.newValueError,!h&&y.get(n)==i&&(e=e.setIn(Ie(r,"properties","value",n+""),g.get(n)),e=e.setIn(Ie(r,"properties","valueType",n+""),m.get(n)))}return e},wle=function(e,r,n,i){var a=e.getIn(Ie(r));return a?e.setIn(Ie(r,"properties","operatorOptions",n),i):e},Ele=function(e,r){var n=r.settings.canLeaveEmptyGroup;return n||(e=Gp(e)),e},jP=function(e,r,n,i){if(!i){var a=e.getIn(Ie(r,"properties","field"))||null,o=e.getIn(Ie(r,"properties","operator"))||null,s=jt(n,o,a);i=o?zr(s):null}for(var l=0,u=["value","valueType","valueError","valueSrc"];l<u.length;l++){var c=u[l];e.getIn(Ie(r,"properties",c))||(e=e.setIn(Ie(r,"properties",c),new Ue.List(i?Array.from({length:i}):[])))}return e},Cle=function t(e,r,n){n&&Array.isArray(n)&&(r.children1=new Ue.OrderedMap(n.reduce(function(i,a){var o,s=(o=a.id)!==null&&o!==void 0?o:Lt(),l=ra(ra({},a),{},{properties:hA(e,a).merge(Po(a.properties)||{}),id:s});return t(e,l,l.children1),ra(ra({},i),{},oe({},s,new Ue.Map(l)))},{})))},Tle=function(e,r){var n=e.getIn(Ie(r,"properties","field"))||null;return n},rx={dragging:{id:null,x:null,y:null,w:null,h:null},mousePos:{},dragStart:{id:null}},kle=function(e,r){if(!e||!e.type)return null;var n=["config","asyncListValues"],i=[A0,EP,wP,CP],a=th(xo(e,n),Yy),o=e.path&&Tle(r.tree,e.path)||e.field;if(o){var s;(s=o)!==null&&s!==void 0&&s.toJS&&(o=o.toJS()),a.affectedField=o}return(i.includes(e.type)||e.type.indexOf("@@redux")==0)&&(a=null),a};const Ile=function(t,e,r,n,i){var a=e,o=ra({tree:a},rx);return function(){var s,l,u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:o,c=arguments.length>1?arguments[1]:void 0,f=(s=(l=i==null?void 0:i())!==null&&l!==void 0?l:c==null?void 0:c.config)!==null&&s!==void 0?s:t,d={__lastAction:void 0},p={},v=kle(c,u);switch(c==null?void 0:c.type){case A0:{var h=r(f,c.tree);p.tree=h;break}case I0:{p.tree=tx(u.tree,c.path,"case_group",c.id,c.properties,f,c.children,c.meta);break}case uP:{p.tree=tx(u.tree,c.path,"group",c.id,c.properties,f,c.children,c.meta);break}case cP:{p.tree=hle(u.tree,c.path,f);break}case pP:{p.tree=es(u.tree,c.path,c.ruleType,c.id,c.properties,f,c.children);break}case hP:{p.tree=vle(u.tree,c.path,f);break}case fP:{p.tree=yle(u.tree,c.path,c.conjunction);break}case dP:{p.tree=gle(u.tree,c.path,c.not);break}case vP:{var g=IP(u.tree,c.path,c.field,f,c.asyncListValues,c._meta),y=g.state;p.tree=y;break}case gP:{p.tree=_le(u.tree,c.path,c.srcKey,f);break}case OP:{p.tree=mle(u.tree,c.path,c.lock);break}case mP:{p.tree=Ole(u.tree,c.path,c.operator,f);break}case yP:{var m=AP(u.tree,c.path,c.delta,c.value,c.valueType,f,c.asyncListValues,c._meta),_=m.state;p.tree=_;break}case _P:{var b=Sle(f,u.tree,c.path,c.delta,c.parentFuncs,c.argKey,c.value,c.valueType,c.asyncListValues,c._meta),S=b.state;p.tree=S;break}case bP:{p.tree=xle(u.tree,c.path,c.delta,c.srcKey,f,c._meta);break}case SP:{p.tree=wle(u.tree,c.path,c.name,c.value);break}case xP:{p.tree=ble(u.tree,c.fromPath,c.toPath,c.placement);break}case EP:{p.dragStart=c.dragStart,p.dragging=c.dragging,p.mousePos=c.mousePos;break}case wP:{p.mousePos=c.mousePos,p.dragging=c.dragging;break}case CP:{p.tree=Ele(u.tree,f),p=ra(ra({},p),rx);break}}return v&&(p.__lastAction=v),n&&p.tree&&u.tree&&n(u.tree),ra(ra(ra({},u),d),p)}};var Ale=function(e,r){return{type:A0,tree:r,config:e}},jle=function(e,r,n){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"rule",a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:null,o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:null;return{type:pP,ruleType:i,children:a,path:Ur(r),id:Lt(),properties:xa(e,o).merge(Po(n)||{}),config:e}},Ple=function(e,r){return{type:hP,path:Ur(r),config:e}},Lle=function(e,r,n){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;return{type:I0,path:Ur(r),children:i,id:Lt(),properties:Lo(e).merge(Po(n)||{}),config:e,meta:{isDefaultCase:!0}}},Fle=function(e,r,n){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;return{type:I0,path:Ur(r),children:i,id:Lt(),properties:Lo(e).merge(Po(n)||{}),config:e}},Rle=function(e,r,n){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;return{type:uP,path:Ur(r),children:i,id:Lt(),properties:Lo(e).merge(Po(n)||{}),config:e}},$le=function(e,r){return{type:cP,path:Ur(r),config:e}},Nle=function(e,r,n,i){return{type:xP,fromPath:Ur(r),toPath:Ur(n),placement:i,config:e}};const Dle=Object.freeze(Object.defineProperty({__proto__:null,addCaseGroup:Fle,addDefaultCaseGroup:Lle,addGroup:Rle,addRule:jle,moveItem:Nle,removeGroup:$le,removeRule:Ple,setTree:Ale},Symbol.toStringTag,{value:"Module"}));var Mle=function(e,r,n){return{type:fP,path:Ur(r),conjunction:n}},Vle=function(e,r,n){return{type:dP,path:Ur(r),not:n}},Ble=function(e,r,n){return{type:OP,path:Ur(r),lock:n}};const qle=Object.freeze(Object.defineProperty({__proto__:null,setConjunction:Mle,setLock:Ble,setNot:Vle},Symbol.toStringTag,{value:"Module"}));var Hle=function(e,r,n,i,a){return{type:vP,path:Ur(r),field:n,config:e,asyncListValues:i,_meta:a}},zle=function(e,r,n){return{type:gP,path:Ur(r),srcKey:n,config:e}},Ule=function(e,r,n){return{type:mP,path:Ur(r),operator:n,config:e}},Wle=function(e,r,n,i,a,o,s){return{type:yP,path:Ur(r),delta:n,value:i,valueType:a,asyncListValues:o,config:e,_meta:s}},Gle=function(e,r,n,i,a){return{type:bP,path:Ur(r),delta:n,srcKey:i,config:e,_meta:a}},Yle=function(e,r,n,i,a,o,s,l,u){return{type:_P,path:Ur(r),delta:n,parentFuncs:i,argKey:a,value:o,valueType:s,asyncListValues:l,config:e,_meta:u}},Kle=function(e,r,n,i){return{type:SP,path:Ur(r),name:n,value:i,config:e}};const Jle=Object.freeze(Object.defineProperty({__proto__:null,setField:Hle,setFieldSrc:zle,setFuncValue:Yle,setOperator:Ule,setOperatorOption:Kle,setValue:Wle,setValueSrc:Gle},Symbol.toStringTag,{value:"Module"}));function nx(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function rv(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?nx(Object(r),!0).forEach(function(n){oe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):nx(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var it=rv(rv(rv({},qoe),{},{Export:UO,Import:QS,ConfigMixins:use},UO),QS);const Jc=j.createContext();var jf="after",Pf="before",Do="append",Ns="prepend",Qle="SET_DRAG_PROGRESS",Xle="SET_DRAG_START",Zle="SET_DRAG_END",eue=function(e,r){return{type:Qle,mousePos:e,dragging:r}},tue=function(e,r,n){return{type:Xle,dragStart:e,dragging:r,mousePos:n}},rue=function(){return{type:Zle}},PP=Dle,nue=qle,iue=Jle,aue={},oue=function(e){var r;return(r=e==null?void 0:e.cardinality)!==null&&r!==void 0?r:1},qd=function(e,r,n){if(!r||!e||e.length<=r)return e;var i=e.substr(0,r-1);return i+"..."},Go=function(e,r){return e===r?!0:e==null?void 0:e.equals(r)},ts=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return e===r?!0:Array.isArray(e)?sue(e,r,n):e&&typeof e.equals=="function"?e.equals(r):wt(e)==="object"?lue(e,r,n):e===r};function sue(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(t===e)return!0;if(!t||!e)return!1;var n=t.length;if(e.length!==n)return!1;for(var i=0;i<n;i++){var a=r?ts(t[i],e[i],r):t[i]===e[i];if(!a)return!1}return!0}function lue(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(t===e)return!0;if(!t||!e)return!1;var n=Object.keys(t),i=Object.keys(e),a=n.length;if(i.length!==a)return!1;for(var o=0;o<a;o++){var s=n[o],l=r?ts(t[s],e[s],r):t[s]===e[s];if(!l)return!1}return!0}var uue=function(){return typeof process<"u"&&aue&&!1},cue=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,r=e!=null?e:uue();return r?console:{error:function(){},log:function(){},warn:function(){},debug:function(){},info:function(){}}},fue=cue(),ix=it.Validation.validateAndFixTree,due=function(){var e,r,n;return function(i,a){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;return a?(i.__configId===n&&(Go(a,e)||Go(a,r))||(n=i.__configId,e=a,s===!1?r=ix(a,null,i,o||i,!1,!1,!1):r=ix(a,null,i,o||i)),r):null}},pue=function(e){if(e._reactRootContainer)return"root";if(Object.getOwnPropertyNames(e).filter(function(r){return r.startsWith("__reactContainer")}).length>0)return"container"},hue=function t(e){if(e){var r=pue(e);return r!==void 0?r:t(e.parentNode)}},LP=function(e){return hue(e)==="root"},rh=function(e,r){return function(n,i){var a=e.props,o=e.state,s=n!=a||i!=o;if(s&&o==i&&a!=n){var l=[];for(var u in n){var c=n[u]!=a[u];c&&(r[u]=="ignore"?c=!1:r[u]=="shallow_deep"?c=!ts(n[u],a[u],!0):r[u]=="shallow"?c=!ts(n[u],a[u]):typeof r[u]=="function"&&(c=r[u](n[u],a[u],n,a))),c&&l.push(u)}l.length||(s=!1)}return s}},su=function(e){return function(r,n){return!ts(e.props,r)||!ts(e.state,n)}},vue=function(){var e=j.version.split(".").map(parseInt.bind(null,10));return e[0]==16&&e[1]<3||e[0]<16},Nn=function(e){if(e.shouldComponentUpdate||(e.shouldComponentUpdate=su(e)),vue())e.componentWillReceiveProps=function(i){e.onPropsChanged(i)};else{var r=e.shouldComponentUpdate,n=function(a,o){var s=!ts(e.props,a);s&&e.onPropsChanged(a);var l=r.call(e,a,o);return l};e.shouldComponentUpdate=n.bind(e)}},FP=function(e,r,n){return th(e,function(i){return function(){for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return n(i.apply(void 0,[r].concat(o)))}})};const gue=Object.freeze(Object.defineProperty({__proto__:null,bindActionCreators:FP,isUsingLegacyReactDomRender:LP,liteShouldComponentUpdate:rh,pureShouldComponentUpdate:su,useOnPropsChanged:Nn},Symbol.toStringTag,{value:"Module"}));function ax(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function nv(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ax(Object(r),!0).forEach(function(n){oe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ax(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function mue(t,e,r){return e=Le(e),Zt(t,RP()?Reflect.construct(e,r||[],Le(t).constructor):e.apply(t,r))}function RP(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(RP=function(){return!!t})()}var $P=function(t){function e(r){var n;Yt(this,e),n=mue(this,e,[r]),n.shouldComponentUpdate=rh(n,{tree:function(o){return!(o===n.oldValidatedTree&&n.oldValidatedTree===n.validatedTree)}}),Nn(n),n._updateActions(r),n.validatedTree=r.getMemoizedTree(r.config,r.tree,void 0,r.sanitizeTree),n.oldValidatedTree=n.validatedTree;var i=r.getBasicConfig(r.config);return r.onInit&&r.onInit(n.validatedTree,i,void 0,n.actions),n}return Wt(e,t),Gt(e,[{key:"_updateActions",value:function(n){var i=n.config,a=n.dispatch;this.actions=FP(nv(nv(nv({},PP),nue),iue),i,a)}},{key:"onPropsChanged",value:function(n){var i=n.onChange,a=this.props.config,o=n.tree;this.props.tree;var s=n.config;this.oldValidatedTree=this.validatedTree,this.validatedTree=o,a!==s&&(this._updateActions(n),this.validatedTree=n.getMemoizedTree(s,o,a));var l=!Go(this.validatedTree,this.oldValidatedTree);if(l){var u=n.getBasicConfig(s);i&&i(this.validatedTree,u,n.__lastAction,this.actions)}}},{key:"render",value:function(){var n=this.props,i=n.config,a=n.renderBuilder,o=n.dispatch,s={tree:this.validatedTree,actions:this.actions,config:i,dispatch:o};return a(s)}}])}(X.Component);$P.propTypes={config:z.object.isRequired,onChange:z.func,onInit:z.func,renderBuilder:z.func,tree:z.any};var NP=Qd(function(t){return{tree:t.tree,__lastAction:t.__lastAction}},null,null,{context:Jc})($P);NP.displayName="ConnectedQuery";function yue(t,e,r){return e=Le(e),Zt(t,DP()?Reflect.construct(e,r||[],Le(t).constructor):e.apply(t,r))}function DP(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(DP=function(){return!!t})()}var ox=it.DefaultUtils.defaultRoot,bue=it.ConfigUtils.createConfigMemo,MP=function(t){function e(r,n){var i,a,o;Yt(this,e),o=yue(this,e,[r,n]),o.setLastTree=function(b){o.prevTree&&(o.prevprevTree=o.prevTree),o.prevTree=b},o.getConfig=function(){return o.config},o.shouldComponentUpdate=rh(o,{value:function(S,O){return!1}}),Nn(o);var s=bue({reactIndex:(i=(a=o._reactInternals)===null||a===void 0?void 0:a.index)!==null&&i!==void 0?i:-1,maxSize:2,canCompile:!0}),l=s.getExtendedConfig,u=s.getBasicConfig,c=s.clearConfigMemo;o.getMemoizedConfig=l,o.getBasicConfig=u,o.clearConfigMemo=c,o.getMemoizedTree=due();var f=o.getMemoizedConfig(r),d=f.settings.shouldCreateEmptyGroup,p=!d,v=ox(f,p),h=!!r.value,g=r.value||v,y=o.getMemoizedTree(f,g,void 0,h),m=Ile(f,y,o.getMemoizedTree,o.setLastTree,o.getConfig),_=fR(m);return o.config=f,o.state={store:_},o.QueryWrapper=function(b){return f.settings.renderProvider(b,f.ctx)},o}return Wt(e,t),Gt(e,[{key:"componentWillUnmount",value:function(){this.clearConfigMemo()}},{key:"onPropsChanged",value:function(n){var i=this.props,a=this.config,o=this.getMemoizedConfig(n),s=a!==o,l=this.state.store.getState().tree,u=!Go(n.value,this.props.value)&&!Go(n.value,l),c=u?n.value||ox(n):l,f=u&&!Go(n.value,this.prevTree)&&!Go(n.value,this.prevprevTree);if(this.sanitizeTree=f||s,s&&(i.settings.renderProvider!==n.settings.renderProvider&&(this.QueryWrapper=function(p){return o.settings.renderProvider(p,o.ctx)}),this.config=o),u||s){var d=this.getMemoizedTree(o,c,a,this.sanitizeTree);this.state.store.dispatch(PP.setTree(o,d))}}},{key:"render",value:function(){var n=this.props,i=n.renderBuilder,a=n.get_children,o=n.onChange,s=n.onInit,l=this.state.store,u=this.config,c=this.QueryWrapper;return j.createElement(c,{config:u},j.createElement(cR,{store:l,context:Jc},j.createElement(NP,{config:u,getMemoizedTree:this.getMemoizedTree,getBasicConfig:this.getBasicConfig,sanitizeTree:this.sanitizeTree,onChange:o,onInit:s,renderBuilder:i||a})))}}])}(X.Component);MP.propTypes={conjunctions:z.object.isRequired,fields:z.object.isRequired,types:z.object.isRequired,operators:z.object.isRequired,widgets:z.object.isRequired,settings:z.object.isRequired,ctx:z.object.isRequired,onChange:z.func,onInit:z.func,renderBuilder:z.func,value:z.any};function _ue(t,e,r){return e=Le(e),Zt(t,VP()?Reflect.construct(e,r||[],Le(t).constructor):e.apply(t,r))}function VP(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(VP=function(){return!!t})()}var Sue=it.ConfigUtils.getFieldConfig,Oue=function(e){var r;return r=function(n){function i(a){var o;return Yt(this,i),o=_ue(this,i,[a]),o.dummyFn=function(){},o.removeSelf=function(){o.props.actions.removeRule(o.props.path)},o.setLock=function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;o.props.actions.setLock(o.props.path,s)},o.setField=function(s,l,u){o.props.actions.setField(o.props.path,s,l,u)},o.setFieldSrc=function(s){o.props.actions.setFieldSrc(o.props.path,s)},o.setOperator=function(s){o.props.actions.setOperator(o.props.path,s)},o.setOperatorOption=function(s,l){o.props.actions.setOperatorOption(o.props.path,s,l)},o.setValue=function(s,l,u,c,f){o.props.actions.setValue(o.props.path,s,l,u,c,f)},o.setValueSrc=function(s,l,u){o.props.actions.setValueSrc(o.props.path,s,l,u)},o.setFuncValue=function(s,l,u,c,f,d,p){o.props.actions.setFuncValue(o.props.path,s,l,u,c,f,d,p)},o.pureShouldComponentUpdate=su(o),o.dummyFn.isDummyFn=!0,o}return Wt(i,n),Gt(i,[{key:"shouldComponentUpdate",value:function(o,s){var l=this.props,u=this.state,c=this.pureShouldComponentUpdate(o,s);if(c&&u==s&&l!=o){var f=o.dragging.id||l.dragging.id,d=f==o.id,p=[];for(var v in o){var h=o[v]!=l[v];v=="dragging"&&!d&&(h=!1),h&&p.push(v)}p.length||(c=!1)}return c}},{key:"render",value:function(){var o=this.props.dragging.id==this.props.id,s=Sue(this.props.config,this.props.field),l=this.props.fieldType||(s==null?void 0:s.type)||null,u=this.props.config.settings.showErrorMessage;s&&s.type=="!struct";var c=!o&&this.props.isDraggingTempo,f=this.props,d=f.valueError,p=f.fieldError,v=[p].concat(Ce((d==null?void 0:d.toArray())||[])).filter(function(g){return!!g}).shift()||null,h=v!=null&&u;return j.createElement("div",{className:_i("group-or-rule-container","rule-container",h?"rule-with-error":null),"data-id":this.props.id},[o?j.createElement(e,{key:"dragging",id:this.props.id,groupId:this.props.groupId,isDraggingMe:!0,isDraggingTempo:!0,dragging:this.props.dragging,setField:this.dummyFn,setFieldSrc:this.dummyFn,setFuncValue:this.dummyFn,setOperator:this.dummyFn,setOperatorOption:this.dummyFn,setLock:this.dummyFn,removeSelf:this.dummyFn,setValue:this.dummyFn,setValueSrc:this.dummyFn,selectedField:this.props.field||null,selectedFieldSrc:this.props.fieldSrc||"field",selectedFieldType:l,parentField:this.props.parentField||null,selectedOperator:this.props.operator||null,value:this.props.value||null,valueSrc:this.props.valueSrc||null,valueType:this.props.valueType||null,valueError:this.props.valueError||null,fieldError:this.props.fieldError||null,operatorOptions:this.props.operatorOptions,config:this.props.config,reordableNodesCnt:this.props.reordableNodesCnt,totalRulesCnt:this.props.totalRulesCnt,asyncListValues:this.props.asyncListValues,isLocked:this.props.isLocked,isTrueLocked:this.props.isTrueLocked,parentReordableNodesCnt:this.props.parentReordableNodesCnt}):null,j.createElement(e,{key:this.props.id,id:this.props.id,groupId:this.props.groupId,isDraggingMe:o,isDraggingTempo:c,onDragStart:this.props.onDragStart,setLock:c?this.dummyFn:this.setLock,removeSelf:c?this.dummyFn:this.removeSelf,setField:c?this.dummyFn:this.setField,setFieldSrc:c?this.dummyFn:this.setFieldSrc,setFuncValue:c?this.dummyFn:this.setFuncValue,setOperator:c?this.dummyFn:this.setOperator,setOperatorOption:c?this.dummyFn:this.setOperatorOption,setValue:c?this.dummyFn:this.setValue,setValueSrc:c?this.dummyFn:this.setValueSrc,selectedField:this.props.field||null,selectedFieldSrc:this.props.fieldSrc||"field",selectedFieldType:l,parentField:this.props.parentField||null,selectedOperator:this.props.operator||null,value:this.props.value||null,valueSrc:this.props.valueSrc||null,valueType:this.props.valueType||null,valueError:this.props.valueError||null,fieldError:this.props.fieldError||null,operatorOptions:this.props.operatorOptions,config:this.props.config,reordableNodesCnt:this.props.reordableNodesCnt,totalRulesCnt:this.props.totalRulesCnt,asyncListValues:this.props.asyncListValues,isLocked:this.props.isLocked,isTrueLocked:this.props.isTrueLocked,parentReordableNodesCnt:this.props.parentReordableNodesCnt})])}}])}(X.Component),r.propTypes={id:z.string.isRequired,groupId:z.string,config:z.object.isRequired,path:z.any.isRequired,operator:z.string,field:z.any,fieldSrc:z.string,fieldType:z.string,actions:z.object.isRequired,onDragStart:z.func,value:z.any,valueSrc:z.any,asyncListValues:z.array,valueError:z.any,fieldError:z.string,operatorOptions:z.object,reordableNodesCnt:z.number,parentField:z.string,isLocked:z.bool,isTrueLocked:z.bool,dragging:z.object,isDraggingTempo:z.bool},r};const xue=function(t){var e=Qd(function(r){return{dragging:r.dragging}},null,null,{context:Jc})(Oue(t));return e.displayName="ConnectedRuleContainer",e};function wue(t,e,r){return e=Le(e),Zt(t,BP()?Reflect.construct(e,r||[],Le(t).constructor):e.apply(t,r))}function BP(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(BP=function(){return!!t})()}var sx=it.clone,Eue=it.TreeUtils.getFlatTree,Ag=!1,Cue=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return r=function(i){function a(o){var s;return Yt(this,a),s=wue(this,a,[o]),s._getEventTarget=function(l,u){return l&&l.__mocked_window||document.body||window},s.onDragStart=function(l,u,c){var f=u.closest(".query-builder");s._isUsingLegacyReactDomRender===void 0&&(s._isUsingLegacyReactDomRender=LP(f)),document.body.classList.add("qb-dragging"),f.classList.add("qb-dragging");var d=f.closest(".query-builder-container")||f;d=s._getScrollParent(d)||document.body;var p=d.scrollTop;s._getDraggableNodeEl(f),s._getPlaceholderNodeEl(f);var v=f.querySelectorAll(".group--children"),h=v.length?v[0]:null,g;h&&(g=window.getComputedStyle(h,null).getPropertyValue("padding-left"),g=parseInt(g));var y={id:l,x:u.offsetLeft,y:u.offsetTop,w:u.offsetWidth,h:u.offsetHeight,itemInfo:s.tree.items[l],paddingLeft:g},m={id:l,x:u.offsetLeft,y:u.offsetTop,scrollTop:p,clientX:c.clientX,clientY:c.clientY,itemInfo:sx(s.tree.items[l]),treeEl:f,treeElContainer:d},_={clientX:c.clientX,clientY:c.clientY},b=s._getEventTarget(c,m);s.eventTarget=b,b.addEventListener("mousemove",s.onDrag),b.addEventListener("mouseup",s.onDragEnd),s.props.setDragStart(m,y,_)},s.onDrag=function(l){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,c=Object.assign({},s.props.dragging),f=s.props.dragStart,d=c.paddingLeft,p=f.treeElContainer,v=p.scrollTop;if(c.itemInfo=s.tree.items[c.id],!!c.itemInfo){var h={clientX:l.clientX,clientY:l.clientY},g={clientX:f.clientX,clientY:f.clientY};if(l.__mock_dom){var y=f.treeEl,m=s._getDraggableNodeEl(y),_=s._getPlaceholderNodeEl(y);l.__mock_dom({treeEl:y,dragEl:m,plhEl:_})}if(!f.plX){var b=f.treeEl,S=s._getPlaceholderNodeEl(b);S&&(f.plX=S.getBoundingClientRect().left+window.scrollX,f.plY=S.getBoundingClientRect().top+window.scrollY)}var O=f.x,x=f.y,E=f.clientX,A=f.clientY,C=f.scrollTop,k={x:O+(l.clientX-E),y:x+(l.clientY-A)+(v-C)};c.x=k.x,c.y=k.y,c.paddingLeft=d,c.mousePos=h,c.startMousePos=g,s.props.setDragProgress(h,c);var w=u?s.handleDrag(c,l,n):!1;w||l.preventDefault&&l.preventDefault()}},s.onDragEnd=function(){var l=s.props.dragStart.treeEl;s.props.setDragEnd(),l.classList.remove("qb-dragging"),document.body.classList.remove("qb-dragging"),s._cacheEls={};var u=s.eventTarget||s._getEventTarget();u.removeEventListener("mousemove",s.onDrag),u.removeEventListener("mouseup",s.onDragEnd)},s.pureShouldComponentUpdate=su(s),Nn(s),s.onPropsChanged(o),s}return Wt(a,i),Gt(a,[{key:"onPropsChanged",value:function(s){this.tree=Eue(s.tree)}},{key:"shouldComponentUpdate",value:function(s,l){var u=this.props,c=this.state,f=this.pureShouldComponentUpdate(s,l);if(f&&c==l&&u!=s){var d=[];for(var p in s){var v=s[p]!=u[p];v&&p!="dragging"&&p!="mousePos"&&d.push(p)}d.length||(f=!1)}return f}},{key:"componentDidUpdate",value:function(s,l){var u=this.props.dragging,c=this.props.dragStart;if(Ag=!1,c&&c.id&&(u.itemInfo=this.tree.items[u.id],u.itemInfo&&(u.itemInfo.index!=c.itemInfo.index||u.itemInfo.parent!=c.itemInfo.parent))){var f=c.treeEl,d=c.treeElContainer,p=this._getPlaceholderNodeEl(f,!0);if(p){var v=p.getBoundingClientRect().left+window.scrollX,h=p.getBoundingClientRect().top+window.scrollY,g=c.plX,y=c.plY,m=d.scrollTop;c.plX=v,c.plY=h,c.itemInfo=sx(u.itemInfo),c.y=p.offsetTop,c.x=p.offsetLeft,c.clientY+=h-y,c.clientX+=v-g,d!=document.body&&(c.scrollTop=m),this.onDrag(this.props.mousePos,!1)}}}},{key:"_getNodeElById",value:function(s,l){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(l==null)return null;this._cacheEls||(this._cacheEls={});var c=this._cacheEls[l];return c&&document.contains(c)&&!u||(c=s.querySelector('.group-or-rule-container[data-id="'+l+'"]'),this._cacheEls[l]=c),c}},{key:"_getDraggableNodeEl",value:function(s){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;this._cacheEls||(this._cacheEls={});var u=this._cacheEls.draggable;if(u&&document.contains(u)&&!l)return u;var c=s.getElementsByClassName("qb-draggable");return u=c.length?c[0]:null,this._cacheEls.draggable=u,u}},{key:"_getPlaceholderNodeEl",value:function(s){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;this._cacheEls||(this._cacheEls={});var u=this._cacheEls.placeholder;if(u&&document.contains(u)&&!l)return u;var c=s.getElementsByClassName("qb-placeholder");return u=c.length?c[0]:null,this._cacheEls.placeholder=u,u}},{key:"_isScrollable",value:function(s){var l=window.getComputedStyle(s)["overflow-y"];return(l==="scroll"||l==="auto")&&s.scrollHeight>s.offsetHeight}},{key:"_getScrollParent",value:function(s){return s==null?null:s===document.body||this._isScrollable(s)?s:this._getScrollParent(s.parentNode)}},{key:"handleDrag",value:function(s,l,u){var c=this,f=!0,d=s.itemInfo,p=s.paddingLeft,v=null,h=this.props.dragStart.treeEl,g=s.id,y=this._getDraggableNodeEl(h),m=this._getPlaceholderNodeEl(h),_,b,S,O;if(y&&m){if(_=y.getBoundingClientRect(),b=m.getBoundingClientRect(),!b.width)return;var x={hrz:0,vrt:0};_.top<b.top?x.vrt=-1:_.bottom>b.bottom&&(x.vrt=1),_.left>b.left?x.hrz=1:_.left<b.left&&(x.hrz=-1),O=h.getBoundingClientRect();var E={x:O.left+(O.right-O.left)/2,y:x.vrt>=0?_.bottom:_.top},A;if(l.__mocked_hov_container)A=l.__mocked_hov_container;else{var C=document.elementFromPoint(E.x,E.y-1);if(A=C?C.closest(".group-or-rule-container"):null,!A&&C&&C.classList.contains("query-builder-container")){var k,w=C==null||(k=C.firstChild)===null||k===void 0?void 0:k.firstChild;w&&w.classList.contains("group-or-rule-container")&&(A=w)}}if(!A)fue.log("out of tree bounds!");else{var I=A.classList.contains("group-container"),L=A.getAttribute("data-id"),P=A,V=!1,$=!1;if(P){S=P.getBoundingClientRect();var U=S.bottom-S.top,M=this.tree.items[L];if(!M)throw new Error("There is an issue with rendering. If you use Next.js, please check getServerSideProps() method.");var R=null,F=null,N=null,B=null;if(x.vrt==0)N=d,F=m,F&&(R=F.getBoundingClientRect());else if(I){if(x.vrt>0){var q=A.getElementsByClassName("group--header"),W=q.length?q[0]:null;if(W){var D=W.getBoundingClientRect(),G=D.bottom-D.top,H=_.bottom-D.top>G*3/4;H&&M.top>s.itemInfo.top&&(N=M,R=D,F=W,$=!0)}}else if(x.vrt<0&&M.lev>=d.lev){var Y=S.bottom-_.top>=2;Y&&M.top<s.itemInfo.top&&(N=M,R=S,F=P,V=!0)}if(!$&&!V||f){var K=x.vrt<0?S.bottom-_.top>U-5:_.bottom-S.top>U-5;K&&(!$&&!V&&(N=M,R=S,F=P),B=M)}}else{var ie=x.vrt<0?S.bottom-_.top>U/2:_.bottom-S.top>U/2;ie&&(N=M,R=S,F=P)}var te=N&&N.id==g;if(R){var se=_.left-O.left;R.left-O.left;var ue=Math.max(0,Math.round(se/p)),fe=[],de=[];if(!te){if(I&&(V?fe.push([Do,N,N.lev+1]):$&&fe.push([Ns,N,N.lev+1]),B)){var Se=B.lev==0,J=B.type=="case_group"&&d.type!="case_group",re=B.prev&&this.tree.items[B.prev].caseId,ce=B.next&&this.tree.items[B.next].caseId;d.caseId==re&&(re=null),d.caseId==ce&&(ce=null);var ve=re&&this.tree.items[re],ee=ce&&this.tree.items[ce];x.vrt>0?Se?de.push([Do,B,B.lev+1]):J&&ee?de.push([Ns,ee,ee.lev+1]):de.push([jf,B,B.lev]):x.vrt<0&&(Se?de.push([Ns,B,B.lev+1]):J&&ve?de.push([Do,ve,ve.lev+1]):de.push([Pf,B,B.lev]))}!V&&!$&&(x.vrt<0?fe.push([Pf,N,N.lev]):x.vrt>0&&fe.push([jf,N,N.lev]))}var me=function(Pe){var Be=Pe[1],Ne=d.caseId?c.tree.items[d.caseId]:null,ot=Be.caseId?c.tree.items[Be.caseId]:null;return[].concat(Ce(Pe),[Ne,ot])};fe=fe.map(me),de=de.map(me),fe=fe.filter(function(pe){var Pe=pe[0],Be=pe[1];if((Pe==Pf||Pe==jf)&&Be.parent==null||Be.collapsed&&(Pe==Do||Pe==Ns))return!1;var Ne=Be.id==d.id;if(!Ne){for(var ot=Be;ot.parent;)if(ot=c.tree.items[ot.parent],ot.id==d.id){Ne=!0;break}}return!Ne}).map(function(pe){var Pe=pe[0],Be=pe[1];pe[2],pe[3],pe[4];var Ne=null;return Pe==Do||Pe==Ns?Ne=Be:Ne=c.tree.items[Be.parent],Ne&&Ne.parent==null&&(Ne=null),pe[5]=Ne,pe});var Oe=null,we=fe.filter(function(pe){return c.canMove(d,pe[1],pe[0],pe[3],pe[4],pe[5],u)});we.length==0&&de.length>0&&(we=de.filter(function(pe){return c.canMove(d,pe[1],pe[0],pe[3],pe[4],pe[5],u)}));var Je=we.map(function(pe){return pe[2]}),at=d.lev,le=Je.concat(at),ge=null;le.indexOf(ue)!=-1?ge=ue:ue>Math.max.apply(Math,Ce(le))?ge=Math.max.apply(Math,Ce(le)):ue<Math.min.apply(Math,Ce(le))&&(ge=Math.min.apply(Math,Ce(le))),Oe=we.find(function(pe){return pe[2]==ge}),!te&&!Oe&&we.length&&(Oe=we[0]),v=Oe}}}}return v?(this.move(d,v[1],v[0],v[3]),!0):!1}},{key:"canMove",value:function(s,l,u,c,f,d,p){if(!s||!l||s.id===l.id)return!1;var v=this.props.config.settings,h=v.canRegroup,g=v.canRegroupCases,y=v.maxNesting,m=v.maxNumberOfRules,_=v.canLeaveEmptyCase,b=d?d.lev+1:l.lev,S=b+(s.depth||0),O=u==Pf||u==jf,x=u==Ns||u==Do,E=O&&l.lev==1||x&&l.lev==0,A=s.parent!=l.parent,C=x||A,k=s.type=="case_group"&&!E||s.parentType=="rule_group"||l.type=="rule_group"||l.parentType=="rule_group"||s.type!="case_group"&&l.type=="case_group"&&O||s.type!="case_group"&&l.type=="switch_group"||!g&&s.caseId!=l.caseId,w=l.isLocked||s.isLocked||d&&d.isLocked;if(y&&S>y||C&&(!h||k||w))return!1;if(s.type!="case_group"&&s.caseId!=l.caseId){var I=c?c._height==2:!1,L=f?f.atomicRulesCountInCase+1:0;if(m&&L>m||I&&!_)return!1}if(s.type=="case_group"&&(s.isDefaultCase||l.isDefaultCase||l.type=="switch_group"&&u==Do))return!1;var P=!0;return p&&(P=p(s.node.toJS(),l.node.toJS(),u,d?d.node.toJS():null)),P}},{key:"move",value:function(s,l,u,c){this._isUsingLegacyReactDomRender||(Ag=!0),this.props.actions.moveItem(s.path,l.path,u)}},{key:"render",value:function(){return j.createElement(e,he({},this.props,{onDragStart:this.onDragStart}))}}])}(X.Component),r.propTypes={tree:z.any.isRequired,actions:z.object.isRequired},r};const Tue=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,r=Qd(function(n){return{dragging:n.dragging,dragStart:n.dragStart,mousePos:n.mousePos}},{setDragStart:tue,setDragProgress:eue,setDragEnd:rue},null,{context:Jc})(Cue(t,e));return r.displayName="ConnectedSortableContainer",r};var kue=["isDraggingTempo","isDraggingMe","dragging"];function Iue(t,e,r){return e=Le(e),Zt(t,qP()?Reflect.construct(e,r||[],Le(t).constructor):e.apply(t,r))}function qP(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(qP=function(){return!!t})()}const lu=function(t){return function(e){var r;return r=function(n){function i(a){var o;return Yt(this,i),o=Iue(this,i,[a]),o.handleDraggerMouseDown=function(s){var l=o.props.id,u=o.wrapper.current;o.props.onDragStart&&o.props.onDragStart(l,u,s)},o.wrapper=j.createRef(),o}return Wt(i,n),Gt(i,[{key:"render",value:function(){var o=this.props,s=o.isDraggingTempo,l=o.isDraggingMe,u=o.dragging,c=ei(o,kue),f=c.isTrueLocked,d={};l&&s&&(Ag||(d={top:u.y,left:u.x,width:u.w}));var p=_i(t,"group-or-rule",l&&s?"qb-draggable":null,l&&!s?"qb-placeholder":null,f?"locked":null);return j.createElement("div",{className:p,style:d,ref:this.wrapper,"data-id":this.props.id},j.createElement(e,he({handleDraggerMouseDown:this.handleDraggerMouseDown,isDraggingMe:l,isDraggingTempo:s},c)))}}])}(X.PureComponent),r.propTypes={isDraggingTempo:z.bool,isDraggingMe:z.bool,onDragStart:z.func,dragging:z.object,isLocked:z.bool,isTrueLocked:z.bool},r}};var Aue=Bp,jue=P0,Pue=pI,Lue=t0;function Fue(t,e){if(t==null)return{};var r=Aue(Lue(t),function(n){return[n]});return e=jue(e),Pue(t,r,function(n,i){return e(n,i[0])})}var Rue=Fue;const $ue=en(Rue);function lx(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Nue(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?lx(Object(r),!0).forEach(function(n){oe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):lx(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Due(t,e,r){return e=Le(e),Zt(t,HP()?Reflect.construct(e,r||[],Le(t).constructor):e.apply(t,r))}function HP(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(HP=function(){return!!t})()}var zP=it.ConfigUtils,Mue=zP.getFieldConfig,Vue=zP.getOperatorConfig,UP=function(t){function e(r){var n;return Yt(this,e),n=Due(this,e,[r]),n.shouldComponentUpdate=rh(n,{selectedField:function(a,o){return!1}}),Nn(n),n.onPropsChanged(r),n}return Wt(e,t),Gt(e,[{key:"onPropsChanged",value:function(n){var i=this.props,a=["config","selectedField","selectedFieldSrc","selectedFieldType","selectedOperator"],o=!this.meta||a.map(function(s){return n[s]!==i[s]}).filter(function(s){return s}).length>0;o&&(this.meta=this.getMeta(n))}},{key:"getMeta",value:function(n){var i,a=n.config,o=n.selectedField,s=n.selectedFieldType,l=n.selectedOperator,u=Mue(a,o),c=Ce((u==null?void 0:u.operators)||((i=a.types[s])===null||i===void 0?void 0:i.operators)||[]);!o&&!c.includes(l)&&c.push(l);var f=th($ue(a.operators,function(b,S){return(c==null?void 0:c.indexOf(S))!==-1}),function(b,S){return Vue(a,S,o)}),d=this.buildOptions(a,f,c),p=f[l]||{},v=this.props.config.settings.operatorPlaceholder,h=l,g=h?[h]:null,y=g,m=p.label,_=p.label2||p.tooltip;return{placeholder:v,items:d,selectedKey:h,selectedKeys:g,selectedPath:y,selectedLabel:m,selectedAltLabel:_,selectedOpts:p,fieldConfig:u}}},{key:"buildOptions",value:function(n,i,a){return!i||!a?null:bl(i).sort(function(o,s){return a.indexOf(o)-a.indexOf(s)}).map(function(o){var s=i[o],l=s.label,u=s.label2,c=s.tooltip;return{key:o,path:o,label:l,altLabel:u,tooltip:c}})}},{key:"render",value:function(){var n=this.props,i=n.config,a=n.customProps,o=n.setOperator,s=n.readonly,l=n.id,u=n.groupId,c=i.settings.renderOperator,f=Nue({id:l,groupId:u,config:i,customProps:a,readonly:s,setField:o},this.meta);return f.items?c(f,i.ctx):null}}])}(X.Component);UP.propTypes={id:z.string,groupId:z.string,config:z.object.isRequired,selectedField:z.any,selectedFieldId:z.string,selectedFieldType:z.string,selectedFieldSrc:z.string,selectedOperator:z.string,readonly:z.bool,customProps:z.object,setOperator:z.func.isRequired};var Bue=["children"],qr=function(e){var r=e.children,n=ei(e,Bue);return j.createElement("div",n,r)},En=function(){},WP=function(){return j.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"gray",width:"18px",height:"18px"},j.createElement("path",{d:"M0 0h24v24H0V0z",fill:"none"}),j.createElement("path",{d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"}))},uu=function(e){return function(r){var n=r.config.settings.useConfirm,i=n?n.call(r.config.ctx,r.config.ctx):null;return j.createElement(e,he({},r,{confirmFn:i}))}},GP=function(e){var r=e.id,n=e.isLHS,i=e.delta,a=e.parentFuncs;return[r,n?"L":"R",n?-1:i||0,(a||[]).map(function(o){var s=ke(o,2),l=s[0],u=s[1];return"".concat(l,"(").concat(u,")")}).join("/")].join(":")},Cn=function(e,r){var n;return typeof r=="function"?(n=function(a){return r==null?void 0:r(a,e.ctx)},n.displayName=r.name):n=r,n};function que(t,e,r){return e=Le(e),Zt(t,YP()?Reflect.construct(e,r||[],Le(t).constructor):e.apply(t,r))}function YP(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(YP=function(){return!!t})()}var KP=function(t){function e(){return Yt(this,e),que(this,e,arguments)}return Wt(e,t),Gt(e,[{key:"render",value:function(){var n=this.props,i=n.config,a=n.selectedField,o=n.selectedFieldSrc,s=n.selectedFieldType,l=n.selectedOperator,u=n.setOperator,c=n.selectedFieldId,f=n.showOperator,d=n.showOperatorLabel,p=n.selectedFieldWidgetConfig,v=n.readonly,h=n.id,g=n.groupId,y=f&&j.createElement(qr,{key:"operators-for-"+c,className:"rule--operator"},i.settings.showLabels&&j.createElement("label",{className:"rule--label"},i.settings.operatorLabel),j.createElement(UP,{key:"operator",config:i,selectedField:a,selectedFieldSrc:o,selectedFieldType:s,selectedFieldId:c,selectedOperator:l,setOperator:u,customProps:i.settings.customOperatorSelectProps,readonly:v,id:h,groupId:g})),m=d&&j.createElement(qr,{key:"operators-for-"+c,className:"rule--operator"},j.createElement("div",{className:"rule--operator-wrapper"},i.settings.showLabels?j.createElement("label",{className:"rule--label"}," "):null,j.createElement("div",{className:"rule--operator-text-wrapper"},j.createElement("span",{className:"rule--operator-text"},p.operatorInlineLabel))));return[y,m]}}])}(X.PureComponent);function ux(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Hue(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ux(Object(r),!0).forEach(function(n){oe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ux(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function zue(t,e,r){return e=Le(e),Zt(t,JP()?Reflect.construct(e,r||[],Le(t).constructor):e.apply(t,r))}function JP(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(JP=function(){return!!t})()}var cx=it.RuleUtils.getFieldPathLabels,R0=it.ConfigUtils,fx=R0.getFieldConfig,dx=R0.getFieldParts,px=R0.getFieldPathParts,QP=function(t){function e(r){var n;return Yt(this,e),n=zue(this,e,[r]),n.setField=function(i,a){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=n.props.id;if(!o.widgetId){var l=[s,"L",-1].join(":");o.widgetId=l}n.props.setField(i,a,o)},Nn(n),n.onPropsChanged(r),n}return Wt(e,t),Gt(e,[{key:"onPropsChanged",value:function(n){var i=this.props,a=["selectedField","selectedFieldSrc","selectedFieldType","config","parentField"],o=!this.meta||a.map(function(s){return n[s]!==i[s]}).filter(function(s){return s}).length>0;o&&(this.meta=this.getMeta(n))}},{key:"getMeta",value:function(n){var i=n.selectedField,a=n.selectedFieldType,o=n.config,s=n.parentField,l=i,u=o.settings,c=u.maxLabelsLength,f=u.fieldSeparatorDisplay,d=u.fieldPlaceholder;u.fieldSeparator;var p=!!i,v=p?null:qd(d,c),h=p?fx(o,l):null,g=h||{},y=px(l,o),m=px(l,o,!0),_=this.getFieldLabel(h,l,o),b=cx(l,o),S=b?b.join(f):null;(S==_||s)&&(S=null);var O=g.label2||g.tooltip,x=dx(s,o),E=s?fx(o,s):null,A=s?E&&E.subfields:o.fields,C=!p&&a,k=this.buildOptions(x,o,A,C,x),w=C?"Please select field":null;return l&&wt(l)==="object"&&(l=void 0),{placeholder:v,items:k,parentField:s,selectedKey:l,selectedKeys:y,selectedPath:m,selectedLabel:_,selectedOpts:g,selectedAltLabel:O,selectedFullLabel:S,errorText:w}}},{key:"getFieldLabel",value:function(n,i,a){if(!i)return null;var o=a.settings.maxLabelsLength,s=dx(i,a),l=(n==null?void 0:n.label)||Up(s);return l=qd(l,o),l}},{key:"buildOptions",value:function(n,i,a){var o=this,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:void 0,l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:null,u=arguments.length>5&&arguments[5]!==void 0?arguments[5]:null;if(!a)return null;var c=i.settings,f=c.fieldSeparator,d=c.fieldSeparatorDisplay,p=l!=null&&l.length?l.join(f)+f:"",v=function h(g){return Object.keys(g||{}).reduce(function(y,m){var _=g[m];return _.type==="!struct"?y+h(_.subfields):y+(_.type===s?1:0)},0)};return bl(a).map(function(h){var g=[].concat(Ce(l!=null?l:[]),[h]),y=a[h],m=o.getFieldLabel(y,g,i),_=cx(g,i),b=_.join(d);(b==m||n!=null&&n.length)&&(b=null);var S=y.label2,O=y.tooltip,x=y.disabled;if(!y.hideForSelect)if(y.type=="!struct"){var E=o.buildOptions(n,i,y.subfields,s,g,{label:m,tooltip:O}),A=v(y.subfields)>0;return{disabled:x,key:h,path:p+h,label:m,fullLabel:b,altLabel:S,tooltip:O,items:E,matchesType:A}}else{var C=s!==void 0?y.type===s:void 0;return{disabled:x,key:h,path:p+h,label:m,fullLabel:b,altLabel:S,tooltip:O,grouplabel:u==null?void 0:u.label,group:u,matchesType:C}}}).filter(function(h){return!!h})}},{key:"render",value:function(){var n=this.props,i=n.config,a=n.customProps,o=n.setFieldSrc,s=n.readonly,l=n.id,u=n.groupId,c=i.settings.renderField,f=Hue({id:l,groupId:u,config:i,customProps:a,readonly:s,setField:this.setField,setFieldSrc:o},this.meta);return c(f,i.ctx)}}])}(X.Component);QP.propTypes={id:z.string,groupId:z.string,config:z.object.isRequired,selectedField:z.any,selectedFieldSrc:z.string,selectedFieldType:z.string,parentField:z.string,customProps:z.object,readonly:z.bool,setField:z.func.isRequired,setFieldSrc:z.func};function hx(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Uue(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?hx(Object(r),!0).forEach(function(n){oe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):hx(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Wue(t,e,r){return e=Le(e),Zt(t,XP()?Reflect.construct(e,r||[],Le(t).constructor):e.apply(t,r))}function XP(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(XP=function(){return!!t})()}var Gue=it.clone,nh=it.ConfigUtils,Yue=nh.getFieldConfig,vx=nh.getFuncConfig,Kue=nh.getFieldParts,gx=nh.getFieldPathParts,ZP=it.RuleUtils,mx=ZP.getFuncPathLabels,Jue=ZP.getWidgetForFieldOp,Que=it.OtherUtils.shallowEqual,eL=function(t){function e(r){var n;return Yt(this,e),n=Wue(this,e,[r]),Nn(n),n.onPropsChanged(r),n}return Wt(e,t),Gt(e,[{key:"onPropsChanged",value:function(n){var i=this.props,a=["config","field","fieldType","fieldSrc","operator","isFuncArg","isLHS","parentFuncs"],o=["config","field","fieldType","fieldSrc","value","isLHS"],s=!this.items||a.map(function(u){return u==="parentFuncs"?!Que(n[u],i[u],!0):n[u]!==i[u]}).filter(function(u){return u}).length>0,l=!this.meta||o.map(function(u){return n[u]!==i[u]}).filter(function(u){return u}).length>0;l&&(this.meta=this.getMeta(n)),s&&(this.items=this.getItems(n,this.meta))}},{key:"getItems",value:function(n,i){var a=n.config,o=n.field,s=n.fieldType,l=n.isLHS,u=n.operator,c=n.parentFuncs,f=n.fieldDefinition,d=n.isFuncArg,p=i.lookingForFieldType,v=a.settings.canUseFuncForField,h=this.filterFuncs(a,a.funcs,o,s,l,u,v,c,d,f),g=this.buildOptions(a,h,p);return g}},{key:"getMeta",value:function(n){var i=n.config;n._field;var a=n.fieldType,o=n.value,s=n.isLHS,l=n.isFuncArg,u=i.settings,c=u.funcPlaceholder,f=u.fieldSeparatorDisplay,d=o,p=!!o,v=p?null:c,h=p?vx(i,d):null,g=h||{},y=gx(d,i),m=gx(d,i,!0),_=this.getFuncLabel(h,d,i),b=mx(d,i),S=b?b.join(f):null;S==_&&(S=null);var O=s&&!l,x=O&&!p&&a,E=x?"Please select function":null;return{placeholder:v,selectedKey:d,selectedKeys:y,selectedPath:m,selectedLabel:_,selectedOpts:g,selectedFullLabel:S,errorText:E,lookingForFieldType:x}}},{key:"filterFuncs",value:function(n,i,a,o,s,l,u,c,f,d){i=Gue(i);var p=n.settings.fieldSeparator,v=Yue(n,a),h,g=v,y=Jue(n,a,l,"value");y&&n.widgets[y],f?(g=d,h=d==null?void 0:d.type):v?h=v.type:s||(h=o);function m(_,b){for(var S in _){var O=_[S].subfields,x=(b||[]).concat(S),E=x.join(p),A=vx(n,E);if(A.type=="!struct")m(O,x)==0&&delete _[S];else{var C,k=!h||A.returnType==h;(C=g)!==null&&C!==void 0&&C.funcs&&(k=k&&g.funcs.includes(E)),u&&(k=k&&u(a,v,E,A,l)),!A.allowSelfNesting&&c&&c.map(function(w){var I=ke(w,2),L=I[0];return I[1],L}).includes(E)&&(k=!1),k||delete _[S]}}return bl(_).length}return m(i,[]),i}},{key:"buildOptions",value:function(n,i){var a=this,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:null;if(!i)return null;var u=n.settings,c=u.fieldSeparator,f=u.fieldSeparatorDisplay,d=s!=null&&s.length?s.join(c)+c:"",p=function v(h){return Object.keys(h||{}).reduce(function(g,y){var m=h[y];return m.type==="!struct"?g+v(m.subfields):g+(m.type===o?1:0)},0)};return bl(i).map(function(v){var h=[].concat(Ce(s!=null?s:[]),[v]),g=i[v],y=a.getFuncLabel(g,h,n),m=mx(h,n),_=m.join(f);_==y&&(_=null);var b=g.tooltip;if(g.type=="!struct"){var S=a.buildOptions(n,g.subfields,o,h,{label:y,tooltip:b}),O=p(g.subfields)>0;return{key:v,path:d+v,label:y,fullLabel:_,tooltip:b,items:S,matchesType:O}}else{var x=o!==void 0?g.returnType===o:void 0;return{key:v,path:d+v,label:y,fullLabel:_,tooltip:b,grouplabel:l==null?void 0:l.label,group:l,matchesType:x}}})}},{key:"getFuncLabel",value:function(n,i,a){if(!i)return null;var o=a.settings.maxLabelsLength,s=Kue(i,a),l=(n==null?void 0:n.label)||Up(s);return l=qd(l,o),l}},{key:"render",value:function(){var n=this.props,i=n.config,a=n.customProps,o=n.setValue,s=n.readonly,l=n.id,u=n.groupId,c=i.settings.renderFunc,f=Uue({config:i,customProps:a,readonly:s,setField:o,items:this.items,id:l,groupId:u},this.meta);return c(f,i.ctx)}}])}(X.Component);eL.propTypes={id:z.string,groupId:z.string,config:z.object.isRequired,field:z.any,fieldType:z.string,fieldSrc:z.string,operator:z.string,customProps:z.object,value:z.string,setValue:z.func.isRequired,readonly:z.bool,parentFuncs:z.array,fieldDefinition:z.object,isFuncArg:z.bool,isLHS:z.bool};var Xue=Math.ceil,Zue=Math.max;function ece(t,e,r,n){for(var i=-1,a=Zue(Xue((e-t)/(r||1)),0),o=Array(a);a--;)o[n?a:++i]=t,t+=r;return o}var tce=ece,rce=/\s/;function nce(t){for(var e=t.length;e--&&rce.test(t.charAt(e)););return e}var ice=nce,ace=ice,oce=/^\s+/;function sce(t){return t&&t.slice(0,ace(t)+1).replace(oce,"")}var lce=sce,uce=lce,yx=xi,cce=Vp,bx=NaN,fce=/^[-+]0x[0-9a-f]+$/i,dce=/^0b[01]+$/i,pce=/^0o[0-7]+$/i,hce=parseInt;function vce(t){if(typeof t=="number")return t;if(cce(t))return bx;if(yx(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=yx(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=uce(t);var r=dce.test(t);return r||pce.test(t)?hce(t.slice(2),r?2:8):fce.test(t)?bx:+t}var tL=vce,gce=tL,_x=1/0,mce=17976931348623157e292;function yce(t){if(!t)return t===0?t:0;if(t=gce(t),t===_x||t===-_x){var e=t<0?-1:1;return e*mce}return t===t?t:0}var rL=yce,bce=tce,_ce=Ej,iv=rL;function Sce(t){return function(e,r,n){return n&&typeof n!="number"&&_ce(e,r,n)&&(r=n=void 0),e=iv(e),r===void 0?(r=e,e=0):r=iv(r),n=n===void 0?e<r?1:-1:iv(n),bce(e,r,n,t)}}var Oce=Sce,xce=Oce,wce=xce(),Ece=wce;const jg=en(Ece);var Cce=["widgetFactory"],Tce=["factory"];function Sx(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function av(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Sx(Object(r),!0).forEach(function(n){oe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Sx(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var Ox=it.ListUtils.getTitleInListValues,kce=it.ConfigUtils._widgetDefKeysToOmit,nL=it.TreeUtils,Ice=nL._fixImmutableValue,Ace=nL.isImmutable,iL=X.memo(function(t){var e=t.widgetFactory,r=ei(t,Cce),n=r.config,i=r.isFuncArg,a=r.fieldDefinition,o=a||{},s=o.fieldSettings,l=o.defaultValue,u=o.valueSources,c=i&&(u==null?void 0:u.length)==1&&(u==null?void 0:u[0])==="const",f=(s==null?void 0:s.treeValues)||(s==null?void 0:s.listValues);return c&&l?typeof l=="boolean"?l?r.labelYes||"YES":r.labelNo||"NO":f?Array.isArray(l)?l.map(function(d){return Ox(f,d)||d}).join(", "):Ox(f,l)||l:""+l:e?e(r,n.ctx):"?"});iL.displayName="WidgetFactoryMemo";var aL=function(e){var r=e.delta,n=e.isFuncArg,i=e.valueSrc,a=e.value,o=e.valueError,s=e.fieldError,l=e.asyncListValues,u=e.isSpecialRange,c=e.fieldDefinition,f=e.widget,d=e.widgetDefinition,p=e.widgetValueLabel,v=e.valueLabels,h=e.textSeparators,g=e.setValue,y=e.setFuncValue,m=e.config,_=e.field,b=e.fieldSrc,S=e.fieldPath,O=e.fieldType,x=e.isLHS,E=e.operator,A=e.readonly,C=e.parentField,k=e.parentFuncs,w=e.id,I=e.groupId,L=e.widgetId,P=d.factory,V=ei(d,Tce),$=a?a.map(function(H){return Ice(H)}):void 0,U=X.useMemo(function(){if(u){var H=[$==null?void 0:$.get(0),$==null?void 0:$.get(1)];return H[0]===void 0&&H[1]===void 0&&(H=void 0),H}return $==null?void 0:$.get(r)},[u,a]),M=X.useMemo(function(){return o?u?[o.get(0),o.get(1),o.get(2)]:o==null?void 0:o.get(r):null},[u,a]),R=x?s:M,F=c||{},N=F.fieldSettings,B=p.label,q=p.placeholder,W=v?v.placeholder:null,D=Ace(_)?null:_,G=xo(av(av(av({},V),N),{},{config:m,field:D,fieldPath:S,fieldSrc:b,fieldType:O,isLHS:x,parentField:C,parentFuncs:k,fieldDefinition:c,operator:E,delta:r,isSpecialRange:u,isFuncArg:n,value:U,valueSrc:i,valueError:M,fieldError:s,errorMessage:R,label:B,placeholder:q,placeholders:W,textSeparators:h,setValue:g,setFuncValue:y,readonly:A,asyncListValues:l,id:w,groupId:I,widgetId:L,widgetFactory:P,widget:f}),[].concat(Ce(kce),["toJS"]));return j.createElement(iL,he({widgetFactory:P},G))};aL.displayName="WidgetFactory";function jce(t,e,r){return e=Le(e),Zt(t,oL()?Reflect.construct(e,r||[],Le(t).constructor):e.apply(t,r))}function oL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(oL=function(){return!!t})()}var $0=it.ConfigUtils,Pce=$0.getFieldConfig,Lce=$0.getOperatorConfig,xx=$0.getFieldWidgetConfig,N0=it.RuleUtils,Fce=N0.getValueSourcesForFieldOp,wx=N0.getWidgetForFieldOp,Lf=N0.getValueLabel,Ex=it.DefaultUtils.createListWithOneElement,Rce=it.OtherUtils.shallowEqual;it.TreeUtils.isImmutable;var $ce={cardinality:1},Qc=function(t){function e(r){var n;return Yt(this,e),n=jce(this,e,[r]),n._setValue=function(i,a,o,s,l,u){var c=arguments.length>6&&arguments[6]!==void 0?arguments[6]:{};if(c.widgetId||(c.widgetId=s),i&&Array.isArray(l)){var f=[n.props.value.get(0),n.props.value.get(1)];f[0]!=l[0]&&n.props.setValue(0,l[0],o,u,c),f[1]!=l[1]&&n.props.setValue(1,l[1],o,u,c)}else n.props.setValue(a,l,o,u,c)},n._setValueSrc=function(i,a,o){var s={widgetId:a};n.props.setValueSrc(i,o,s)},n.renderWidget=function(i,a,o){var s=o.config,l=o.isFuncArg,u=o.leftField,c=o.operator,f=o.value,d=o.valueError,p=o.fieldError,v=o.readonly,h=o.parentField,g=o.parentFuncs,y=o.id,m=o.groupId,_=o.fieldSrc,b=o.fieldType,S=o.isLHS,O=o.setFuncValue,x=s.settings,E=a.widgets,A=a.iValues,C=a.aField,k=a.valueSources,w=l?A:f,I=l?u:C,L=E[i],P=L.valueSrc,V=L.valueLabel,$=L.widgetId,U=k.length>1&&!v,M=x.showLabels?j.createElement("label",{key:"label-"+$,className:"rule--label"},V.label):null;return j.createElement("div",{key:"wrapper-"+$,className:_i(P==="func"?"widget--func":"widget--widget",U?"widget--has-valuerscs":"widget--has-no-valuerscs")},P==="func"?null:M,j.createElement(aL,he({key:$,id:y,groupId:m,widgetId:$,valueSrc:P,delta:i,value:w,valueError:d,fieldError:p,isFuncArg:l,isLHS:S},ga(a,["isSpecialRange","fieldDefinition","asyncListValues"]),ga(E[i],["widget","widgetDefinition","widgetValueLabel","valueLabels","textSeparators","setValue"]),{setFuncValue:O,config:s,field:I,fieldSrc:_,fieldType:b,parentField:h,parentFuncs:g,operator:c,readonly:v})))},n.renderValueSources=function(i,a,o){var s=o.config,l=o.isFuncArg,u=o.leftField,c=o.operator,f=o.readonly,d=s.settings,p=a.valueSources,v=a.widgets,h=a.aField,g=a.valueSourcesOptions,y=l?u:h,m=v[i],_=m.valueSrc,b=m.setValueSrc,S=n.ValueSources,O=d.showLabels?j.createElement("label",{className:"rule--label"}," "):null;return p.length>1&&!f&&j.createElement("div",{key:"wrapper-valuesrc-"+i,className:"widget--valuesrc"},O,j.createElement(S,{key:"valuesrc-"+i,delta:i,valueSources:g,valueSrc:_,config:s,field:y,operator:c,setValueSrc:b,readonly:f,title:d.valueSourcesPopupTitle}))},n.renderSep=function(i,a,o){var s=o.config,l=a.widgets,u=s.settings,c=l[i].sepText,f=u.showLabels?j.createElement("label",{className:"rule--label"}," "):null;return c&&j.createElement("div",{key:"widget-separators-"+i,className:_i("widget--sep",i==0&&"widget--sep-first")},f,j.createElement("span",null,c))},n.renderWidgetDelta=function(i){var a=n.renderSep(i,n.meta,n.props),o=n.renderValueSources(i,n.meta,n.props),s=n.renderWidget(i,n.meta,n.props);return[a,o,s]},Nn(n),n.onPropsChanged(r),n}return Wt(e,t),Gt(e,[{key:"onPropsChanged",value:function(n){var i=this.props,a=!this.ValueSources||(i==null?void 0:i.config)!==(n==null?void 0:n.config),o=["config","id","parentFuncs","field","fieldId","fieldSrc","fieldType","fieldFunc","fieldArg","leftField","operator","valueSrc","asyncListValues","isLHS","isFuncArg","isForRuleGroup","isCaseValue","value"],s=o.filter(function(f){return f==="parentFuncs"?!Rce(n[f],i[f],!0):f==="field"?n.fieldId!==i.fieldId:n[f]!==i[f]}),l=!this.meta||s.length>0;if(l&&(this.meta=this.getMeta(n,s)),a){var u=n.config,c=u.settings.renderValueSources;this.ValueSources=Cn(u,c)}}},{key:"getMeta",value:function(n){var i,a,o,s,l=this,u=n.config,c=n.field;n.fieldSrc;var f=n.fieldType,d=n.fieldFunc,p=n.fieldArg,v=n.operator,h=n.valueSrc,g=n.value,y=n.isForRuleGroup,m=n.isCaseValue,_=n.isFuncArg;n.leftField;var b=n.asyncListValues,S=n.parentFuncs,O=n.isLHS,x=n.id,E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],A=u.settings.valueSourcesInfo,C=_?{func:d,arg:p}:c,k=!c&&f,w=h,I=g;(_||y||m)&&(w=Ex(h),I=Ex(g));var L=Pce(u,C);!L&&k&&(L=u.types[f]);var P=wx(u,C,v);if(!P&&k){var V;P=(V=u.types[f])===null||V===void 0?void 0:V.mainWidget}var $=_?$ce:Lce(u,v,C);if((L==null||$==null)&&!m)return null;var U=$==null?void 0:$.isSpecialRange,M=U&&(((i=w)===null||i===void 0?void 0:i.get(0))==="field"||((a=w)===null||a===void 0?void 0:a.get(1))==="field"),R=U&&!M,F=R?1:oue($);if(F===0)return null;var N=(o=this.meta)===null||o===void 0?void 0:o.valueSources,B=(s=this.meta)===null||s===void 0?void 0:s.valueSourcesOptions;(!N||["field","operator","config","fieldDefinition","isForRuleGroup"].filter(function(W){return E.includes(W)}).length)&&(N=Fce(u,C,v,L),y&&(N=["value"]),C||(N=Object.keys(A)),B=N.map(function(W){return[W,{label:A[W].label}]}));var q=jg(0,F).map(function(W){var D,G,H,Y,K=(D=l.meta)===null||D===void 0||(D=D.widgets)===null||D===void 0?void 0:D[W],ie=((G=w)===null||G===void 0?void 0:G.get(W))||null,te=wx(u,C,v,ie),se=xx(u,C,v,te,ie);M&&(te=se.singleWidget,se=xx(u,C,v,te,ie)),!se&&k&&(te=["func","field"].includes(ie)?ie:P,se=u.widgets[te]);var ue=(H=se)===null||H===void 0?void 0:H.type,fe=Lf(u,C,v,W,ie,R),de=Lf(u,C,v,W,null,R),Se=$!=null&&$.textSeparators?$==null?void 0:$.textSeparators[W]:null,J=null,re=null;U&&(J=[Lf(u,C,v,0),Lf(u,C,v,1)],J={placeholder:[J[0].placeholder,J[1].placeholder],label:[J[0].label,J[1].label]},re=$==null?void 0:$.textSeparators);var ce=GP({id:x,isLHS:O,delta:W,parentFuncs:S}),ve=ce+":VS",ee=K==null?void 0:K.setValueSrc;(!ee||(K==null?void 0:K.widgetId)!==ce)&&(ee=l._setValueSrc.bind(l,W,ve));var me=K==null?void 0:K.setValue;return(!me||(K==null?void 0:K.widgetId)!==ce||(K==null?void 0:K.widgetType)!==ue||((Y=l.meta)===null||Y===void 0?void 0:Y.isSpecialRange)!==U)&&(me=l._setValue.bind(l,U,W,ue,ce)),{valueSrc:ie,valueLabel:fe,widget:te,sepText:Se,widgetDefinition:se,widgetValueLabel:de,valueLabels:J,textSeparators:re,setValueSrc:ee,setValue:me,widgetId:ce,widgetType:ue}});return{defaultWidget:P,fieldDefinition:L,operatorDefinition:$,isSpecialRange:R,cardinality:F,valueSources:N,valueSourcesOptions:B,widgets:q,iValues:I,aField:C,asyncListValues:b}}},{key:"render",value:function(){if(!this.meta)return null;var n=this.meta,i=n.defaultWidget,a=n.cardinality;if(!i)return null;var o=i;return j.createElement(qr,{className:"rule--widget rule--widget--".concat(o.toUpperCase()),key:"widget-col-"+o},jg(0,a).map(this.renderWidgetDelta))}}])}(X.Component);Qc.propTypes={config:z.object.isRequired,value:z.any,valueSrc:z.any,valueError:z.any,fieldError:z.string,field:z.any,fieldSrc:z.string,fieldType:z.string,fieldId:z.string,operator:z.string,readonly:z.bool,asyncListValues:z.array,id:z.string,groupId:z.string,setValue:z.func,setValueSrc:z.func,setFuncValue:z.func,isFuncArg:z.bool,fieldFunc:z.string,fieldArg:z.string,leftField:z.any,isForRuleGroup:z.bool,parentField:z.string,parentFuncs:z.array,isLHS:z.bool,isCaseValue:z.bool};function sL(t,e,r){return e=Le(e),Zt(t,lL()?Reflect.construct(e,r||[],Le(t).constructor):e.apply(t,r))}function lL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(lL=function(){return!!t})()}var Nce=it.ConfigUtils.getFuncConfig,uL=it.OtherUtils.shallowEqual,D0=function(t){function e(r){var n;return Yt(this,e),n=sL(this,e,[r]),n.setFunc=function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=n.props,s=o.isLHS,l=o.delta,u=o.parentFuncs,c=o.id;if(!a.widgetId){var f=GP({id:c,isLHS:s,delta:l,parentFuncs:u});a.widgetId=f}n.props.setFuncValue(s?-1:l||0,u,null,i,"!func",void 0,a)},n.setArgValue=function(i,a,o,s,l){var u=n.props;u.config;var c=u.delta,f=u.isLHS,d=u.parentFuncs;n.props.setFuncValue(f?-1:c||0,d,i,a,o,s,l)},n.setArgValueSrc=function(i,a,o){var s=n.props;s.config;var l=s.delta,u=s.isLHS,c=s.parentFuncs;n.props.setFuncValue(u?-1:l||0,c,i,a,"!valueSrc",void 0,o)},n.renderFuncSelect=function(){var i,a,o=n.props,s=o.config,l=o.field,u=o.fieldType,c=o.fieldSrc,f=o.isLHS,d=o.operator,p=o.customProps,v=o.value,h=o.readonly,g=o.parentFuncs,y=o.id,m=o.groupId,_=o.isFuncArg,b=o.fieldDefinition,S=(i=v==null||(a=v.get)===null||a===void 0?void 0:a.call(v,"func"))!==null&&i!==void 0?i:null,O={value:S,setValue:n.setFunc,config:s,field:l,fieldType:u,fieldSrc:c,isLHS:f,operator:d,customProps:p,readonly:h,parentFuncs:g,isFuncArg:_,fieldDefinition:b,id:y,groupId:m},x=s.settings,E=x.showLabels,A=x.funcLabel,C=E?j.createElement("label",{className:"rule--label"},A):null;return j.createElement(qr,{key:"func",className:"rule--func"},C,j.createElement(eL,O))},n.renderArgLabel=function(i,a){var o=a.valueSources,s=a.type,l=a.showPrefix,u=a.label,c=n.props.config,f=o&&o.length==1&&o[0]=="const",d=!c.settings.showLabels&&(s=="boolean"||f)&&l;return d?j.createElement(qr,{className:"rule--func--arg-label"},u||i):null},n.renderArgLabelSep=function(i,a){var o=a.valueSources,s=a.type,l=a.showPrefix,u=n.props.config,c=o&&o.length==1&&o[0]=="const",f=!u.settings.showLabels&&(s=="boolean"||c)&&l;return f?j.createElement(qr,{className:"rule--func--arg-label-sep"},":"):null},n.renderArgVal=function(i,a,o){var s=n.props,l=s.config,u=s.field,c=s.fieldType,f=s.fieldSrc,d=s.isLHS;s.operator;var p=s.value,v=s.readonly,h=s.parentFuncs,g=s.id,y=s.groupId,m=s.fieldError,_=s.valueError,b=s.setFuncValue,S=p?p.getIn(["args",a]):null,O=S?S.get("value"):void 0,x=o.valueSources.length==1?o.valueSources[0]:void 0,E=S?S.get("valueSrc")||x||"value":x,A={config:l,fieldFunc:i,fieldArg:a,leftField:u,fieldType:c,fieldSrc:f,fieldError:m,valueError:_,isLHS:d,operator:null,value:O,valueSrc:E,setValue:n.setArgValue,setValueSrc:n.setArgValueSrc,setFuncValue:b,funcKey:i,argKey:a,argDefinition:o,readonly:v,parentFuncs:h,id:g,groupId:y};return j.createElement(qr,{className:"rule--func--arg-value"},j.createElement(cL,A))},n.renderArgSep=function(i,a,o,s){var l=s.renderSeps;return o?j.createElement(qr,{className:"rule--func--arg-sep"},l?l[o-1]:", "):null},n.renderBracketBefore=function(i){var a=i.renderBrackets;return j.createElement(qr,{key:"before_args",className:"rule--func--bracket-before"},a?a[0]:"(")},n.renderBracketAfter=function(i){var a=i.renderBrackets;return j.createElement(qr,{key:"after_args",className:"rule--func--bracket-after"},a?a[1]:")")},n.renderFuncArgs=function(){var i=n.meta,a=i.funcDefinition,o=i.funcKey;if(!o)return null;var s=a||{},l=s.args;return l?j.createElement(j.Fragment,null,n.renderBracketBefore(a),j.createElement(qr,{key:"args-".concat(o),className:"rule--func--args rule--func--".concat(o,"--args")},Object.keys(l).map(function(u,c){return j.createElement(qr,{key:"arg-".concat(u,"-").concat(c),className:"rule--func--arg rule--func--".concat(o,"--arg--").concat(u)},n.renderArgSep(u,l[u],c,a),n.renderArgLabel(u,l[u]),n.renderArgLabelSep(u,l[u]),n.renderArgVal(o,u,l[u]))})),n.renderBracketAfter(a)):null},Nn(n),n.onPropsChanged(r),n}return Wt(e,t),Gt(e,[{key:"onPropsChanged",value:function(n){var i=this.props,a=["config","field","operator","value","fieldSrc","fieldType","isLHS"],o=!this.meta||a.map(function(s){return s==="parentFuncs"?!uL(n[s],i[s],!0):n[s]!==i[s]}).filter(function(s){return s}).length>0;o&&(this.meta=this.getMeta(n))}},{key:"getMeta",value:function(n){var i,a,o=n.config;n.field,n.operator;var s=n.value,l=(i=s==null||(a=s.get)===null||a===void 0?void 0:a.call(s,"func"))!==null&&i!==void 0?i:null,u=l?Nce(o,l):null;return{funcDefinition:u,funcKey:l}}},{key:"render",value:function(){var n=this.props.parentFuncs,i=n?n.map(function(o){var s=ke(o,2),l=s[0],u=s[1];return"".concat(l,"_").concat(u)}).join("-"):"root",a=(n==null?void 0:n.length)||0;return j.createElement(qr,{className:"rule--func--wrapper rule--func--wrapper--under-".concat(i," rule--func--wrapper--lev-").concat(a)},this.renderFuncSelect(),this.renderFuncArgs())}}])}(X.Component);D0.propTypes={id:z.string,groupId:z.string,config:z.object.isRequired,field:z.any,fieldSrc:z.string,fieldType:z.string,fieldError:z.string,operator:z.string,customProps:z.object,value:z.object,setValue:z.func.isRequired,setFuncValue:z.func,readonly:z.bool,parentFuncs:z.array,fieldDefinition:z.object,isFuncArg:z.bool,isLHS:z.bool,valueError:z.string};var cL=function(t){function e(r){var n;return Yt(this,e),n=sL(this,e,[r]),n.setValue=function(i,a,o,s,l){var u=n.props,c=u.setValue,f=u.argKey;c(f,a,o,s,l)},n.setValueSrc=function(i,a,o){var s=n.props,l=s.setValueSrc,u=s.argKey;l(u,a,o)},Nn(n),n.onPropsChanged(r),n}return Wt(e,t),Gt(e,[{key:"onPropsChanged",value:function(n){var i=this.props,a=["parentFuncs","funcKey","argKey"],o=!this.meta||a.map(function(s){return s==="parentFuncs"?!uL(n[s],i[s],!0):n[s]!==i[s]}).filter(function(s){return s}).length>0;o&&(this.meta=this.getMeta(n))}},{key:"getMeta",value:function(n){var i=n.parentFuncs,a=n.funcKey,o=n.argKey,s=[].concat(Ce(i||[]),[[a,o]]);return{parentFuncs:s}}},{key:"render",value:function(){var n=this.meta.parentFuncs;return j.createElement(Qc,he({},this.props,{setValue:this.setValue,setValueSrc:this.setValueSrc,isFuncArg:!0,parentFuncs:n}))}}])}(X.Component);cL.propTypes={funcKey:z.string.isRequired,argKey:z.string.isRequired,setValue:z.func.isRequired,setValueSrc:z.func.isRequired,readonly:z.bool,isLHS:z.bool,parentFuncs:z.array,id:z.string,groupId:z.string};function Dce(t,e,r){return e=Le(e),Zt(t,fL()?Reflect.construct(e,r||[],Le(t).constructor):e.apply(t,r))}function fL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(fL=function(){return!!t})()}var M0=function(t){function e(r){var n;return Yt(this,e),n=Dce(this,e,[r]),n.renderField=function(){var i=n.props,a=i.config,o=i.classname,s=i.selectedField,l=i.selectedFieldSrc,u=i.selectedFieldType,c=i.setField,f=i.setFuncValue,d=i.parentField,p=i.readonly,v=i.id,h=i.groupId,g=i.fieldError,y=i.valueError,m=["func","field"];if(!m.includes(l))return"?";var _=l==="func"?j.createElement(D0,{isLHS:!0,config:a,value:s,fieldSrc:l,fieldType:u,fieldError:g,valueError:y,parentField:d,setValue:c,setFuncValue:f,readonly:p,id:v,groupId:h,key:"field-func-"+v}):j.createElement(QP,{config:a,selectedField:s,selectedFieldSrc:l,selectedFieldType:u,parentField:d,setField:c,customProps:a.settings.customFieldSelectProps,readonly:p,id:v,groupId:h,key:"field-"+v}),b=l==="func"?a.settings.funcLabel:a.settings.fieldLabel,S=a.settings.showLabels&&l!=="func"&&j.createElement("label",{className:"rule--label"},b);return j.createElement("div",{key:l,className:o},S,_)},n.renderFieldSources=function(){if(!n.meta)return null;var i=n.props,a=i.config,o=i.readonly,s=i.selectedFieldSrc,l=i.setFieldSrc,u=i.id,c=n.meta.fieldSourcesOptions,f=a.settings,d=n.ValueSources,p=f.showLabels?j.createElement("label",{className:"rule--label"}," "):null;return c.length>1&&!o&&j.createElement("div",{key:"fieldsrc",className:"rule--fieldsrc"},p,j.createElement(d,{key:"fieldsrc-"+u,valueSources:c,valueSrc:s,config:a,setValueSrc:l,readonly:o,title:f.fieldSourcesPopupTitle}))},Nn(n),n.onPropsChanged(r),n}return Wt(e,t),Gt(e,[{key:"onPropsChanged",value:function(n){var i=this.props,a=!this.ValueSources||(i==null?void 0:i.config)!==(n==null?void 0:n.config),o=["config"],s=!this.meta||o.map(function(c){return n[c]!==i[c]}).filter(function(c){return c}).length>0;if(s&&(this.meta=this.getMeta(n)),a){var l=n.config,u=l.settings.renderValueSources;this.ValueSources=function(c){return u(c,l.ctx)}}}},{key:"getMeta",value:function(n){var i=n.config,a=i.settings,o=a.valueSourcesInfo,s=a.fieldSources,l=s.map(function(u){return[u,{label:o[u].label}]});return{fieldSourcesOptions:l}}},{key:"render",value:function(){var n=this.props;n.classname;var i=n.canSelectFieldSource,a=i&&this.renderFieldSources(),o=this.renderField();return i?j.createElement(qr,{className:"rule--field-wrapper"},a,o):o}}])}(X.Component),Mce=["factory"];function Vce(t,e,r){return e=Le(e),Zt(t,dL()?Reflect.construct(e,r||[],Le(t).constructor):e.apply(t,r))}function dL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(dL=function(){return!!t})()}var Bce=it.ConfigUtils.getOperatorConfig,pL=function(t){function e(){return Yt(this,e),Vce(this,e,arguments)}return Wt(e,t),Gt(e,[{key:"render",value:function(){if(!this.props.selectedOperator)return null;var n=Bce(this.props.config,this.props.selectedOperator,this.props.selectedField);if(typeof n.options>"u")return null;var i=n.options,a=i.factory,o=ei(i,Mce),s=Object.assign({},o,{config:this.props.config,field:this.props.selectedField,fieldSrc:this.props.selectedFieldSrc,operator:this.props.selectedOperator,options:this.props.operatorOptions,setOption:this.props.setOperatorOption,readonly:this.props.readonly}),l=a(s,this.props.config.ctx),u=this.props.selectedOperator;return j.createElement("div",{className:"rule--operator rule--operator--".concat(u.toUpperCase())},l)}}])}(X.PureComponent);pL.propTypes={config:z.object.isRequired,operatorOptions:z.any.isRequired,selectedField:z.any,selectedFieldSrc:z.string,selectedOperator:z.string.isRequired,readonly:z.bool,setOperatorOption:z.func.isRequired};function Cx(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Tx(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Cx(Object(r),!0).forEach(function(n){oe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Cx(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function qce(t,e,r){return e=Le(e),Zt(t,hL()?Reflect.construct(e,r||[],Le(t).constructor):e.apply(t,r))}function hL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(hL=function(){return!!t})()}var ih=it.ConfigUtils,Hce=ih.getFieldConfig,zce=ih.getOperatorConfig,Uce=ih.getFieldWidgetConfig,Wce=ih.getFieldId,Gce=it.RuleUtils.isEmptyRuleProperties,vL=function(t){function e(r){var n;return Yt(this,e),n=qce(this,e,[r]),Nn(n),n.removeSelf=n.removeSelf.bind(n),n.setLock=n.setLock.bind(n),n.onPropsChanged(r),n}return Wt(e,t),Gt(e,[{key:"onPropsChanged",value:function(n){var i=this,a=this.props,o=!this.Icon||(a==null?void 0:a.config)!==(n==null?void 0:n.config),s=["selectedField","selectedFieldSrc","selectedFieldType","selectedOperator","config","reordableNodesCnt","isLocked"],l=!this.meta||s.map(function(m){return n[m]!==a[m]}).filter(function(m){return m}).length>0;if(l&&(this.meta=this.getMeta(n)),o){var u=n.config,c=u.settings,f=c.renderIcon,d=c.renderButton,p=c.renderButtonGroup,v=c.renderSwitch,h=c.renderBeforeWidget,g=c.renderAfterWidget,y=c.renderRuleError;this.Icon=Cn(u,f),this.Btn=Cn(u,d),this.BtnGrp=Cn(u,p),this.Switch=Cn(u,v),this.BeforeWidget=Cn(u,h),this.AfterWidget=Cn(u,g),this.RuleError=Cn(u,y)}this.doRemove=function(){i.props.removeSelf()}}},{key:"getMeta",value:function(n){var i=n.selectedField,a=n.selectedFieldType,o=n.selectedOperator,s=n.config,l=n.reordableNodesCnt,u=n.isLocked,c=s.settings.keepInputOnChangeFieldSrc,f=Wce(i,s),d=Hce(s,i),p=d&&d.type==="!struct",v=c&&a,h=!!i||v,g=h&&o,y=zce(s,o,i),m=y&&y.options!=null,_=Uce(s,i,o,null,null)||{},b=_.hideOperator,S=s.settings.canReorder&&l>1&&!u,O=h&&!b,x=h&&b&&_.operatorInlineLabel,E=g&&!p,A=g&&m;return{selectedFieldId:f,selectedFieldWidgetConfig:_,showDragIcon:S,showOperator:O,showOperatorLabel:x,showWidget:E,showOperatorOptions:A}}},{key:"setLock",value:function(n){this.props.setLock(n)}},{key:"removeSelf",value:function(){var n=this.props,i=n.confirmFn,a=n.config,o=a.settings,s=o.renderConfirm,l=o.removeRuleConfirmOptions;l&&!this.isEmptyCurrentRule()?s.call(a.ctx,Tx(Tx({},l),{},{onOk:this.doRemove,onCancel:null,confirmFn:i}),a.ctx):this.doRemove()}},{key:"_buildWidgetProps",value:function(n,i){var a=n.selectedField,o=n.selectedFieldSrc,s=n.selectedFieldType,l=n.selectedOperator,u=n.operatorOptions,c=n.value,f=n.valueType,d=n.valueSrc,p=n.asyncListValues,v=n.valueError,h=n.fieldError,g=n.parentField,y=i.selectedFieldId;return{field:a,fieldSrc:o,fieldType:s,fieldId:y,operator:l,operatorOptions:u,value:c,valueType:f,valueSrc:d,asyncListValues:p,valueError:v,fieldError:h,parentField:g}}},{key:"isEmptyCurrentRule",value:function(){var n=this.props.config,i=this._buildWidgetProps(this.props,this.meta);return Gce(i,n)}},{key:"renderField",value:function(){var n=this.props,i=n.config,a=n.isLocked,o=n.parentField,s=n.groupId,l=n.id,u=n.selectedFieldSrc,c=n.selectedField,f=n.selectedFieldType,d=n.setField,p=n.setFuncValue,v=n.setFieldSrc,h=n.fieldError,g=i.settings.immutableFieldsMode,y=this.meta.selectedFieldId;return j.createElement(M0,{key:"field",classname:_i(u=="func"?"rule--field--func":"rule--field"),config:i,canSelectFieldSource:!o,selectedField:c,selectedFieldSrc:u,selectedFieldType:f,selectedFieldId:y,fieldError:h,setField:g?En:d,setFuncValue:g?En:p,setFieldSrc:g?En:v,parentField:o,readonly:g||a,id:l,groupId:s})}},{key:"renderOperator",value:function(){var n=this.props,i=n.config,a=n.isLocked,o=this.meta,s=o.selectedFieldId,l=o.selectedFieldWidgetConfig,u=o.showOperator,c=o.showOperatorLabel,f=i.settings.immutableOpsMode;return j.createElement(KP,{key:"operator",config:i,selectedField:this.props.selectedField,selectedFieldSrc:this.props.selectedFieldSrc,selectedFieldType:this.props.selectedFieldType,selectedFieldId:s,selectedOperator:this.props.selectedOperator,setOperator:f?En:this.props.setOperator,showOperator:u,showOperatorLabel:c,selectedFieldWidgetConfig:l,readonly:f||a,id:this.props.id,groupId:this.props.groupId})}},{key:"renderWidget",value:function(){var n=this.props,i=n.config,a=n.isLocked,o=this.meta.showWidget,s=i.settings.immutableValuesMode;if(!o)return null;var l=j.createElement(Qc,he({key:"values"},this._buildWidgetProps(this.props,this.meta),{config:i,setValue:s?En:this.props.setValue,setValueSrc:s?En:this.props.setValueSrc,setFuncValue:s?En:this.props.setFuncValue,readonly:s||a,id:this.props.id,groupId:this.props.groupId}));return j.createElement(qr,{key:"widget-for-"+this.props.selectedOperator,className:"rule--value"},l)}},{key:"renderOperatorOptions",value:function(){var n=this.props.config,i=this.meta.showOperatorOptions,a=n.settings,o=a.immutableOpsMode,s=a.immutableValuesMode;if(!i)return null;var l=j.createElement(pL,{key:"operatorOptions",selectedField:this.props.selectedField,selectedOperator:this.props.selectedOperator,operatorOptions:this.props.operatorOptions,setOperatorOption:o?En:this.props.setOperatorOption,config:n,readonly:s});return j.createElement(qr,{key:"op-options-for-"+this.props.selectedOperator,className:"rule--operator-options"},l)}},{key:"renderBeforeWidget",value:function(){var n=this.BeforeWidget;return n?j.createElement(qr,{key:"before-widget-for-"+this.props.selectedOperator,className:"rule--before-widget"},j.createElement(n,this.props)):null}},{key:"renderAfterWidget",value:function(){var n=this.AfterWidget;return n?j.createElement(qr,{key:"after-widget-for-"+this.props.selectedOperator,className:"rule--after-widget"},j.createElement(n,this.props)):null}},{key:"renderError",value:function(){var n=this.props,i=n.config,a=n.valueError,o=n.fieldError,s=i.settings.showErrorMessage,l=this.RuleError,u=[o].concat(Ce((a==null?void 0:a.toArray())||[])).filter(function(c){return!!c}).shift()||null;return s&&u&&j.createElement("div",{className:"rule--error"},l?j.createElement(l,{error:u}):u)}},{key:"renderDrag",value:function(){var n=this.props.handleDraggerMouseDown,i=this.meta.showDragIcon,a=this.Icon,o=j.createElement(a,{type:"drag"});return i&&j.createElement("div",{key:"rule-drag-icon",onMouseDown:n,className:"qb-drag-handler rule--drag-handler"},o)}},{key:"renderDel",value:function(){var n=this.props,i=n.config,a=n.isLocked,o=i.settings,s=o.deleteLabel,l=o.immutableGroupsMode,u=o.canDeleteLocked,c=this.Icon,f=this.Btn;return!l&&(!a||a&&u)&&j.createElement(f,{key:"rule-del",type:"delRule",onClick:this.removeSelf,label:s,config:i,renderIcon:c})}},{key:"renderLock",value:function(){var n=this.props,i=n.config,a=n.isLocked,o=n.isTrueLocked,s=n.id,l=i.settings,u=l.lockLabel,c=l.lockedLabel,f=l.showLock,d=this.Switch;return f&&!(a&&!o)&&j.createElement(d,{key:"rule-lock",type:"lock",id:s,value:a,setValue:this.setLock,label:u,checkedLabel:c,hideLabel:!0,config:i})}},{key:"render",value:function(){var n=this.meta,i=n.showOperatorOptions,a=n.selectedFieldWidgetConfig,o=this.props,s=o.valueSrc,l=o.value,u=o.config,c=(s==null?void 0:s.first())=="value"&&!i&&l.size==1&&a.fullWidth,f=this.BtnGrp,d=[this.renderField(),this.renderOperator(),this.renderBeforeWidget(),this.renderWidget(),this.renderAfterWidget(),this.renderOperatorOptions()],p=j.createElement("div",{key:"rule-body",className:_i("rule--body",c&&"can--shrink--value")},d),v=this.renderError(),h=this.renderDrag(),g=this.renderLock(),y=this.renderDel();return j.createElement(j.Fragment,null,h,j.createElement("div",{key:"rule-body-wrapper",className:"rule--body--wrapper"},p,v),j.createElement("div",{key:"rule-header-wrapper",className:"rule--header"},j.createElement(f,{key:"rule-header-group",config:u},g,y)))}}])}(X.Component);vL.propTypes={id:z.string.isRequired,groupId:z.string,selectedField:z.any,selectedFieldSrc:z.string,selectedFieldType:z.string,selectedOperator:z.string,operatorOptions:z.object,config:z.object.isRequired,value:z.any,valueSrc:z.any,valueType:z.any,asyncListValues:z.array,isDraggingMe:z.bool,isDraggingTempo:z.bool,parentField:z.string,valueError:z.any,fieldError:z.string,isLocked:z.bool,isTrueLocked:z.bool,handleDraggerMouseDown:z.func,setField:z.func,setFieldSrc:z.func,setOperator:z.func,setOperatorOption:z.func,setLock:z.func,removeSelf:z.func,setValue:z.func,setValueSrc:z.func,setFuncValue:z.func,reordableNodesCnt:z.number,totalRulesCnt:z.number,parentReordableNodesCnt:z.number};const Yce=xue(lu("rule")(uu(vL)));function Kce(t,e,r){return t===t&&(r!==void 0&&(t=t<=r?t:r),e!==void 0&&(t=t>=e?t:e)),t}var Jce=Kce,Qce=rL;function Xce(t){var e=Qce(t),r=e%1;return e===e?r?e-r:e:0}var Zce=Xce,efe=Jce,tfe=cI,rfe=Zce,nfe=fI;function ife(t,e,r){return t=nfe(t),r=r==null?0:efe(rfe(r),0,t.length),e=tfe(e),t.slice(r,r+e.length)==e}var afe=ife;const ofe=en(afe);function sfe(t,e,r){return e=Le(e),Zt(t,gL()?Reflect.construct(e,r||[],Le(t).constructor):e.apply(t,r))}function gL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(gL=function(){return!!t})()}var lfe=it.DefaultUtils.defaultGroupConjunction,ufe=function(e,r){var n;return n=function(i){function a(o){var s;return Yt(this,a),s=sfe(this,a,[o]),s._selectedConjunction=function(l){return l=l||s.props,l.conjunction||lfe(l.config,l.field)},s.setConjunction=function(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;s.props.actions.setConjunction(s.props.path,l)},s.setNot=function(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;s.props.actions.setNot(s.props.path,l)},s.setLock=function(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;s.props.actions.setLock(s.props.path,l)},s.dummyFn=function(){},s.removeSelf=function(){s.props.actions.removeGroup(s.props.path)},s.addGroup=function(){s.props.actions.addGroup(s.props.path)},s.addCaseGroup=function(){s.props.actions.addCaseGroup(s.props.path)},s.addDefaultCaseGroup=function(){s.props.actions.addDefaultCaseGroup(s.props.path)},s.addRule=function(){var l=r=="rule_group"?s.props.field:null;s.props.actions.addRule(s.props.path,void 0,void 0,void 0,l)},s.setField=function(l,u,c){s.props.actions.setField(s.props.path,l,u,c)},s.setOperator=function(l){s.props.actions.setOperator(s.props.path,l)},s.setValue=function(l,u,c,f,d){s.props.actions.setValue(s.props.path,l,u,c,f,d)},s.setValueSrc=function(l,u,c){s.props.actions.setValueSrc(s.props.path,l,u,c)},s.setFuncValue=function(l,u,c,f,d,p,v){s.props.actions.setFuncValue(s.props.path,l,u,c,f,d,p,v)},s.pureShouldComponentUpdate=su(s),Nn(s),s.selectedConjunction=s._selectedConjunction(o),s.conjunctionOptions=s._getConjunctionOptions(o),s.dummyFn.isDummyFn=!0,s}return Wt(a,i),Gt(a,[{key:"shouldComponentUpdate",value:function(s,l){var u=this.props,c=this.state,f=this.pureShouldComponentUpdate(s,l);if(f&&c==l&&u!=s){var d=s.dragging.id||u.dragging.id,p=d==s.id,v=[];for(var h in s){var g=s[h]!=u[h];h=="dragging"&&!p&&(g=!1),g&&v.push(h)}v.length||(f=!1)}return f}},{key:"onPropsChanged",value:function(s){var l=s.config;s.id;var u=s.conjunction,c=this.props.config,f=this.props.conjunction;(c!=l||f!=u)&&(this.selectedConjunction=this._selectedConjunction(s),this.conjunctionOptions=this._getConjunctionOptions(s))}},{key:"_getConjunctionOptions",value:function(s){var l=this;return th(s.config.conjunctions,function(u,c){return{id:"conjunction-".concat(s.id,"-").concat(c),name:"conjunction[".concat(s.id,"]"),key:c,label:u.label,checked:c===l._selectedConjunction(s)}})}},{key:"render",value:function(){var s=this.props.config.settings.showErrorMessage,l=this.props.dragging.id==this.props.id,u=this.props.path.size,c=this.props.config.settings.maxNesting,f=!l&&this.props.isDraggingTempo,d=this.props.fieldType||null,p=this.props.valueError,v=Ce((p==null?void 0:p.toArray())||[]).filter(function(m){return!!m}).shift()||null,h=v!=null&&s,g=typeof c>"u"||u<c,y=u==1;return j.createElement("div",{className:_i("group-or-rule-container","group-container",h?"group-with-error":null),"data-id":this.props.id},[l?j.createElement(e,{key:"dragging",id:this.props.id,groupId:this.props.groupId,isDraggingMe:!0,isDraggingTempo:!0,dragging:this.props.dragging,isRoot:y,allowFurtherNesting:g,conjunctionOptions:this.conjunctionOptions,not:this.props.not,selectedConjunction:this.selectedConjunction,setConjunction:this.dummyFn,setNot:this.dummyFn,setLock:this.dummyFn,removeSelf:this.dummyFn,addGroup:this.dummyFn,addCaseGroup:this.dummyFn,addDefaultCaseGroup:this.dummyFn,addRule:this.dummyFn,setField:this.dummyFn,setFuncValue:this.dummyFn,setOperator:this.dummyFn,setValue:this.dummyFn,setValueSrc:this.dummyFn,value:this.props.value||null,valueError:this.props.valueError||null,valueSrc:this.props.valueSrc||null,config:this.props.config,children1:this.props.children1,actions:this.props.actions,reordableNodesCnt:this.props.reordableNodesCnt,totalRulesCnt:this.props.totalRulesCnt,selectedField:this.props.field||null,selectedFieldSrc:this.props.fieldSrc||"field",selectedFieldType:d,parentField:this.props.parentField||null,selectedOperator:this.props.operator||null,isLocked:this.props.isLocked,isTrueLocked:this.props.isTrueLocked,parentReordableNodesCnt:this.props.parentReordableNodesCnt}):null,j.createElement(e,{key:this.props.id,id:this.props.id,groupId:this.props.groupId,isDraggingMe:l,isDraggingTempo:f,onDragStart:this.props.onDragStart,isRoot:y,allowFurtherNesting:g,conjunctionOptions:this.conjunctionOptions,not:this.props.not,selectedConjunction:this.selectedConjunction,setConjunction:f?this.dummyFn:this.setConjunction,setNot:f?this.dummyFn:this.setNot,setLock:f?this.dummyFn:this.setLock,removeSelf:f?this.dummyFn:this.removeSelf,addGroup:f?this.dummyFn:this.addGroup,addCaseGroup:f?this.dummyFn:this.addCaseGroup,addDefaultCaseGroup:f?this.dummyFn:this.addDefaultCaseGroup,addRule:f?this.dummyFn:this.addRule,setField:f?this.dummyFn:this.setField,setFuncValue:f?this.dummyFn:this.setFuncValue,setOperator:f?this.dummyFn:this.setOperator,setValue:f?this.dummyFn:this.setValue,setValueSrc:f?this.dummyFn:this.setValueSrc,value:this.props.value||null,valueError:this.props.valueError||null,valueSrc:this.props.valueSrc||null,config:this.props.config,children1:this.props.children1,actions:this.props.actions,reordableNodesCnt:this.props.reordableNodesCnt,totalRulesCnt:this.props.totalRulesCnt,selectedField:this.props.field||null,selectedFieldSrc:this.props.fieldSrc||"field",selectedFieldType:d,parentField:this.props.parentField||null,selectedOperator:this.props.operator||null,isLocked:this.props.isLocked,isTrueLocked:this.props.isTrueLocked,parentReordableNodesCnt:this.props.parentReordableNodesCnt})])}}])}(X.Component),n.propTypes={config:z.object.isRequired,actions:z.object.isRequired,path:z.any.isRequired,id:z.string.isRequired,groupId:z.string,not:z.bool,conjunction:z.string,children1:z.any,onDragStart:z.func,reordableNodesCnt:z.number,field:z.any,fieldSrc:z.string,fieldType:z.string,parentField:z.string,value:z.any,valueSrc:z.any,valueError:z.any,isLocked:z.bool,isTrueLocked:z.bool,dragging:z.object,isDraggingTempo:z.bool},n};const Xc=function(t,e){var r=Qd(function(n){return{dragging:n.dragging}},null,null,{context:Jc})(ufe(t,e));return r.displayName="ConnectedGroupContainer",r};function cfe(t,e,r){return e=Le(e),Zt(t,mL()?Reflect.construct(e,r||[],Le(t).constructor):e.apply(t,r))}function mL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(mL=function(){return!!t})()}var ffe={topLeft:"group--actions--tl",topCenter:"group--actions--tc",topRight:"group--actions--tr",bottomLeft:"group--actions--bl",bottomCenter:"group--actions--bc",bottomRight:"group--actions--br"},dfe="topRight",yL=function(t){function e(){return Yt(this,e),cfe(this,e,arguments)}return Wt(e,t),Gt(e,[{key:"render",value:function(){var n=this.props,i=n.config,a=n.addRule,o=n.addGroup,s=n.removeSelf,l=n.setLock,u=n.isLocked,c=n.isTrueLocked,f=n.id,d=n.canAddGroup,p=n.canAddRule,v=n.canDeleteGroup,h=i.settings,g=h.immutableGroupsMode,y=h.addRuleLabel,m=h.addGroupLabel,_=h.delGroupLabel,b=h.groupActionsPosition,S=h.renderButton,O=h.renderIcon,x=h.renderSwitch,E=h.renderButtonGroup,A=h.lockLabel,C=h.lockedLabel,k=h.showLock,w=h.canDeleteLocked,I=function(B){return O(B,i.ctx)},L=function(B){return S(B,i.ctx)},P=function(B){return x(B,i.ctx)},V=function(B){return E(B,i.ctx)},$=ffe[b||dfe],U=k&&!(u&&!c)&&j.createElement(P,{type:"lock",id:f,value:u,setValue:l,label:A,checkedLabel:C,config:i}),M=!g&&p&&!u&&j.createElement(L,{type:"addRule",onClick:a,label:y,readonly:u,config:i,renderIcon:I}),R=!g&&d&&!u&&j.createElement(L,{type:"addGroup",onClick:o,label:m,readonly:u,config:i,renderIcon:I}),F=!g&&v&&(!u||u&&w)&&j.createElement(L,{type:"delGroup",onClick:s,label:_,config:i,renderIcon:I});return j.createElement("div",{className:"group--actions ".concat($)},j.createElement(V,{config:i},U,M,R,F))}}])}(X.PureComponent);function kx(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ix(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?kx(Object(r),!0).forEach(function(n){oe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):kx(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function pfe(t,e,r){return e=Le(e),Zt(t,bL()?Reflect.construct(e,r||[],Le(t).constructor):e.apply(t,r))}function bL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(bL=function(){return!!t})()}var hfe=it.RuleUtils.isEmptyGroupChildren,vfe="topRight",Ea=function(t){function e(r){var n;return Yt(this,e),n=pfe(this,e,[r]),n.childrenClassName=function(){return""},n.renderBeforeActions=function(){var i=n.BeforeActions;return i==null?null:j.createElement(i,he({key:"group-actions-before"},n.props))},n.renderAfterActions=function(){var i=n.AfterActions;return i==null?null:j.createElement(i,he({key:"group-actions-after"},n.props))},Nn(n),n.onPropsChanged(r),n.removeSelf=n.removeSelf.bind(n),n.setLock=n.setLock.bind(n),n.renderItem=n.renderItem.bind(n),n}return Wt(e,t),Gt(e,[{key:"onPropsChanged",value:function(n){var i=this,a=this.props,o=!this.Icon||(a==null?void 0:a.config)!==(n==null?void 0:n.config);if(o){var s=n.config,l=s.settings,u=l.renderIcon,c=l.renderConjs,f=l.renderBeforeActions,d=l.renderAfterActions;this.Icon=Cn(s,u),this.Conjs=Cn(s,c),this.BeforeActions=Cn(s,f),this.AfterActions=Cn(s,d)}this.doRemove=function(){i.props.removeSelf()}}},{key:"isGroupTopPosition",value:function(){return ofe(this.props.config.settings.groupActionsPosition||vfe,"top")}},{key:"setLock",value:function(n){this.props.setLock(n)}},{key:"removeSelf",value:function(){var n=this.props,i=n.confirmFn,a=n.config,o=a.settings,s=o.renderConfirm,l=o.removeGroupConfirmOptions;l&&!this.isEmptyCurrentGroup()?s.call(a.ctx,Ix(Ix({},l),{},{onOk:this.doRemove,onCancel:null,confirmFn:i}),a.ctx):this.doRemove()}},{key:"isEmptyCurrentGroup",value:function(){var n=this.props,i=n.children1,a=n.config;return hfe(i,a)}},{key:"showNot",value:function(){var n=this.props.config;return n.settings.showNot}},{key:"showConjs",value:function(){var n=this.props,i=n.conjunctionOptions;n.children1,n.config;var a=Object.keys(i).length;return a>1||this.showNot()}},{key:"isNoChildren",value:function(){var n=this.props.children1;return n?n.size==0:!0}},{key:"isOneChild",value:function(){var n=this.props.children1;return n?n.size<2:!0}},{key:"renderChildrenWrapper",value:function(){var n=this.props.children1;return n&&j.createElement("div",{key:"group-children",className:_i("group--children",this.showConjs()?"":"hide--conjs",this.isOneChild()?"hide--line":"",this.isOneChild()?"one--child":"",this.childrenClassName())},this.renderChildren())}},{key:"renderHeaderWrapper",value:function(){var n=this.isGroupTopPosition();return j.createElement("div",{key:"group-header",className:_i("group--header",this.isOneChild()?"one--child":"",this.showConjs()?"":"hide--conjs",this.isOneChild()?"hide--line":"",this.isNoChildren()?"no--children":"")},this.renderHeader(),n&&this.renderBeforeActions(),n&&this.renderActions(),n&&this.renderAfterActions())}},{key:"renderFooterWrapper",value:function(){var n=this.isGroupTopPosition();return!n&&j.createElement("div",{key:"group-footer",className:"group--footer"},this.renderBeforeActions(),this.renderActions(),this.renderAfterActions())}},{key:"renderActions",value:function(){var n=this.props,i=n.config,a=n.addRule,o=n.addGroup,s=n.isLocked,l=n.isTrueLocked,u=n.id;return j.createElement(yL,{key:"group-actions",config:i,addRule:a,addGroup:o,canAddGroup:this.canAddGroup(),canAddRule:this.canAddRule(),canDeleteGroup:this.canDeleteGroup(),removeSelf:this.removeSelf,setLock:this.setLock,isLocked:s,isTrueLocked:l,id:u})}},{key:"canAddGroup",value:function(){return this.props.allowFurtherNesting}},{key:"canAddRule",value:function(){var n=this.props.config.settings.maxNumberOfRules,i=this.props.totalRulesCnt;return n?i<n:!0}},{key:"canDeleteGroup",value:function(){return!this.props.isRoot}},{key:"renderChildren",value:function(){var n=this.props.children1;return n?n.valueSeq().toArray().map(this.renderItem):null}},{key:"renderItem",value:function(n){if(n){var i=this.props,a=i.config,o=i.actions,s=i.onDragStart,l=i.isLocked,u=n.get("type")=="group"&&n.getIn(["properties","field"])!=null,c=u?"rule_group":n.get("type");return j.createElement(V0,he({},this.extraPropsForItem(n),{key:n.get("id"),id:n.get("id"),groupId:i.id,path:n.get("path"),type:c,properties:n.get("properties"),config:a,actions:o,children1:n.get("children1"),reordableNodesCnt:this.reordableNodesCntForItem(n),totalRulesCnt:this.totalRulesCntForItem(n),parentReordableNodesCnt:this.reordableNodesCnt(),onDragStart:s,isDraggingTempo:this.props.isDraggingTempo,isParentLocked:l}))}}},{key:"extraPropsForItem",value:function(n){return{}}},{key:"reordableNodesCnt",value:function(){return this.props.isLocked?0:this.props.reordableNodesCnt}},{key:"totalRulesCntForItem",value:function(n){return this.props.totalRulesCnt}},{key:"reordableNodesCntForItem",value:function(n){return this.props.isLocked?0:this.reordableNodesCnt()}},{key:"showDragIcon",value:function(){var n=this.props,i=n.config,a=n.isRoot,o=n.isLocked,s=this.reordableNodesCnt();return i.settings.canReorder&&!a&&s>1&&!o}},{key:"renderDrag",value:function(){var n=this.props.handleDraggerMouseDown,i=this.Icon,a=j.createElement(i,{type:"drag"});return this.showDragIcon()&&j.createElement("div",{key:"group-drag-icon",onMouseDown:n,className:"qb-drag-handler group--drag-handler"},a)}},{key:"conjunctionOptions",value:function(){var n=this.props.conjunctionOptions;return n}},{key:"renderConjs",value:function(){var n=this.props,i=n.config,a=n.children1,o=n.id,s=n.selectedConjunction,l=n.setConjunction,u=n.not,c=n.setNot,f=n.isLocked,d=i.settings,p=d.immutableGroupsMode;d.renderConjs,d.showNot;var v=d.notLabel,h=this.conjunctionOptions();if(!this.showConjs()||!a||!a.size)return null;var g={disabled:this.isOneChild(),readonly:p||f,selectedConjunction:s,setConjunction:p?En:l,conjunctionOptions:h,config:i,not:u||!1,id:o,setNot:p?En:c,notLabel:v,showNot:this.showNot(),isLocked:f},y=this.Conjs;return j.createElement(y,he({key:"group-conjs"},g))}},{key:"renderHeader",value:function(){return j.createElement("div",{key:"group-conjunctions",className:"group--conjunctions"},this.renderConjs(),this.renderDrag())}},{key:"render",value:function(){return j.createElement(j.Fragment,null,this.renderHeaderWrapper(),this.renderChildrenWrapper(),this.renderFooterWrapper())}}])}(X.Component);Ea.propTypes={reordableNodesCnt:z.number,conjunctionOptions:z.object.isRequired,allowFurtherNesting:z.bool.isRequired,isRoot:z.bool.isRequired,not:z.bool,selectedConjunction:z.string,config:z.object.isRequired,id:z.string.isRequired,groupId:z.string,path:z.any,children1:z.any,isDraggingMe:z.bool,isDraggingTempo:z.bool,isLocked:z.bool,isTrueLocked:z.bool,handleDraggerMouseDown:z.func,onDragStart:z.func,addRule:z.func.isRequired,addGroup:z.func.isRequired,removeSelf:z.func.isRequired,setConjunction:z.func.isRequired,setNot:z.func.isRequired,setLock:z.func.isRequired,actions:z.object.isRequired};const gfe=Xc(lu("group")(uu(Ea)),"group");function mfe(t,e){for(;!{}.hasOwnProperty.call(t,e)&&(t=Le(t))!==null;);return t}function Yn(){return Yn=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(t,e,r){var n=mfe(t,e);if(n){var i=Object.getOwnPropertyDescriptor(n,e);return i.get?i.get.call(arguments.length<3?t:r):i.value}},Yn.apply(null,arguments)}function yfe(t,e,r){return e=Le(e),Zt(t,_L()?Reflect.construct(e,r||[],Le(t).constructor):e.apply(t,r))}function _L(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(_L=function(){return!!t})()}var bfe=function(t){function e(){return Yt(this,e),yfe(this,e,arguments)}return Wt(e,t),Gt(e,[{key:"render",value:function(){var n=this.props,i=n.config,a=n.addRule,o=n.canAddRule,s=n.canDeleteGroup,l=n.removeSelf,u=n.setLock,c=n.isLocked,f=n.isTrueLocked,d=n.id,p=i.settings,v=p.immutableGroupsMode,h=p.addRuleLabel,g=p.delGroupLabel,y=p.renderButton,m=p.renderIcon,_=p.renderSwitch,b=p.renderButtonGroup,S=p.lockLabel,O=p.lockedLabel,x=p.showLock,E=p.canDeleteLocked,A=function($){return m($,i.ctx)},C=function($){return y($,i.ctx)},k=function($){return _($,i.ctx)},w=function($){return b($,i.ctx)},I=x&&!(c&&!f)&&j.createElement(k,{type:"lock",id:d,value:c,setValue:u,label:S,checkedLabel:O,hideLabel:!0,config:i}),L=!v&&o&&!c&&j.createElement(C,{type:"addRuleGroup",onClick:a,label:h,readonly:c,config:i,renderIcon:A}),P=!v&&s&&(!c||c&&E)&&j.createElement(C,{type:"delRuleGroup",onClick:l,label:g,config:i,renderIcon:A});return j.createElement("div",{className:"group--actions"},j.createElement(w,{config:i},I,L,P))}}])}(X.PureComponent);function Ax(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function jx(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Ax(Object(r),!0).forEach(function(n){oe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ax(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function _fe(t,e,r){return e=Le(e),Zt(t,SL()?Reflect.construct(e,r||[],Le(t).constructor):e.apply(t,r))}function SL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(SL=function(){return!!t})()}var OL=function(t){function e(r){var n;return Yt(this,e),n=_fe(this,e,[r]),n.childrenClassName=function(){return"rule_group--children"},n.renderHeaderWrapper=function(){return null},n.renderFooterWrapper=function(){return null},n.renderConjs=function(){return null},n.canAddGroup=function(){return!1},n.canAddRule=function(){return!0},n.canDeleteGroup=function(){return!1},n}return Wt(e,t),Gt(e,[{key:"onPropsChanged",value:function(n){Yn(Le(e.prototype),"onPropsChanged",this).call(this,n)}},{key:"reordableNodesCntForItem",value:function(n){if(this.props.isLocked)return 0;var i=this.props.children1;return(i==null?void 0:i.size)||0}},{key:"renderChildrenWrapper",value:function(){return j.createElement(j.Fragment,null,this.renderDrag(),this.renderField(),this.renderActions(),Yn(Le(e.prototype),"renderChildrenWrapper",this).call(this))}},{key:"renderField",value:function(){var n=this.props,i=n.config,a=n.selectedField,o=n.selectedFieldSrc,s=n.selectedFieldType,l=n.setField,u=n.setFuncValue,c=n.setFieldSrc,f=n.parentField,d=n.id,p=n.groupId,v=n.isLocked,h=i.settings.immutableFieldsMode;return j.createElement(M0,{key:"field",classname:"group--field",config:i,canSelectFieldSource:!1,selectedField:a,selectedFieldSrc:o,selectedFieldType:s,setField:l,setFuncValue:u,setFieldSrc:c,parentField:f,readonly:h||v,id:d,groupId:p})}},{key:"renderActions",value:function(){var n=this.props,i=n.config,a=n.addRule,o=n.isLocked,s=n.isTrueLocked,l=n.id;return j.createElement(bfe,{config:i,addRule:a,canAddRule:this.canAddRule(),canDeleteGroup:this.canDeleteGroup(),removeSelf:this.removeSelf,setLock:this.setLock,isLocked:o,isTrueLocked:s,id:l})}},{key:"extraPropsForItem",value:function(n){return{parentField:this.props.selectedField}}}])}(Ea);OL.propTypes=jx(jx({},Ea.propTypes),{},{selectedField:z.any,selectedFieldSrc:z.string,parentField:z.string,setField:z.func,setFieldSrc:z.func});const Sfe=Xc(lu("group rule_group")(uu(OL)),"rule_group");function Ofe(t,e,r){return e=Le(e),Zt(t,xL()?Reflect.construct(e,r||[],Le(t).constructor):e.apply(t,r))}function xL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(xL=function(){return!!t})()}var xfe=function(t){function e(){return Yt(this,e),Ofe(this,e,arguments)}return Wt(e,t),Gt(e,[{key:"render",value:function(){var n=this.props,i=n.config,a=n.addRule,o=n.canAddRule,s=n.canDeleteGroup,l=n.removeSelf,u=n.setLock,c=n.isLocked,f=n.isTrueLocked,d=n.id,p=i.settings,v=p.immutableGroupsMode,h=p.addSubRuleLabel,g=p.delGroupLabel,y=p.renderButton,m=p.renderIcon,_=p.renderSwitch,b=p.renderButtonGroup,S=p.lockLabel,O=p.lockedLabel,x=p.showLock,E=p.canDeleteLocked,A=function($){return m($,i.ctx)},C=function($){return y($,i.ctx)},k=function($){return _($,i.ctx)},w=function($){return b($,i.ctx)},I=x&&!(c&&!f)&&j.createElement(k,{type:"lock",id:d,value:c,setValue:u,label:S,checkedLabel:O,config:i}),L=!v&&o&&!c&&j.createElement(C,{type:"addRuleGroupExt",onClick:a,label:h,readonly:c,config:i,renderIcon:A}),P=!v&&s&&(!c||c&&E)&&j.createElement(C,{type:"delRuleGroup",onClick:l,label:g,config:i,renderIcon:A});return j.createElement("div",{className:"group--actions group--actions--tr"},j.createElement(w,{config:i},I,L,P))}}])}(X.PureComponent);function Px(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Lx(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Px(Object(r),!0).forEach(function(n){oe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Px(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function wfe(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=Efe(t))||e){r&&(t=r);var n=0,i=function(){};return{s:i,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(u){throw u},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a=!0,o=!1,s;return{s:function(){r=r.call(t)},n:function(){var u=r.next();return a=u.done,u},e:function(u){o=!0,s=u},f:function(){try{!a&&r.return!=null&&r.return()}finally{if(o)throw s}}}}function Efe(t,e){if(t){if(typeof t=="string")return Fx(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Fx(t,e)}}function Fx(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Cfe(t,e,r){return e=Le(e),Zt(t,wL()?Reflect.construct(e,r||[],Le(t).constructor):e.apply(t,r))}function wL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(wL=function(){return!!t})()}var EL=it.ConfigUtils,Rx=EL.getFieldConfig,Tfe=EL.getFieldWidgetConfig,kfe=it.RuleUtils.isEmptyRuleGroupExtPropertiesAndChildren,CL=function(t){function e(r){var n;return Yt(this,e),n=Cfe(this,e,[r]),n.childrenClassName=function(){return"rule_group_ext--children"},n.renderFooterWrapper=function(){return null},n.canAddGroup=function(){return!1},n.canAddRule=function(){return!0},n.canDeleteGroup=function(){return!0},n}return Wt(e,t),Gt(e,[{key:"onPropsChanged",value:function(n){Yn(Le(e.prototype),"onPropsChanged",this).call(this,n)}},{key:"renderHeaderWrapper",value:function(){return j.createElement("div",{key:"group-header",className:_i("group--header",this.isOneChild()?"one--child":"",this.isOneChild()?"hide--line":"",this.isNoChildren()?"no--children":"",this.showDragIcon()?"with--drag":"hide--drag",this.showConjs()&&(!this.isOneChild()||this.showNot())?"with--conjs":"hide--conjs")},this.renderHeader(),this.renderGroupField(),this.renderActions())}},{key:"renderHeader",value:function(){return j.createElement("div",{className:"group--conjunctions"},this.renderConjs(),this.renderDrag())}},{key:"renderGroupField",value:function(){return j.createElement("div",{className:"group--field--count--rule"},this.renderField(),this.renderOperator(),this.renderWidget(),this.renderError())}},{key:"renderError",value:function(){var n=this.props,i=n.config,a=n.valueError,o=i.settings,s=o.renderRuleError,l=o.showErrorMessage,u=Ce((a==null?void 0:a.toArray())||[]).filter(function(c){return!!c}).shift()||null;return l&&u&&j.createElement("div",{className:"rule_group--error"},s?s({error:u},i.ctx):u)}},{key:"showNot",value:function(){var n=this.props,i=n.config,a=n.selectedField;n.selectedOperator;var o=Rx(i,a)||{};return o.showNot!=null?o.showNot:i.settings.showNot}},{key:"conjunctionOptions",value:function(){var n=this.props,i=n.config,a=n.selectedField;n.selectedOperator;var o=Rx(i,a)||{},s=Yn(Le(e.prototype),"conjunctionOptions",this).call(this);if(o.conjunctions){var l={},u=wfe(o.conjunctions),c;try{for(u.s();!(c=u.n()).done;){var f=c.value,d=s[f];d&&(l[f]=d)}}catch(p){u.e(p)}finally{u.f()}s=l}return s}},{key:"renderField",value:function(){var n=this.props,i=n.config,a=n.selectedField,o=n.selectedFieldSrc,s=n.selectedFieldType,l=n.setField,u=n.setFieldSrc,c=n.setFuncValue,f=n.parentField,d=n.id,p=n.groupId,v=n.isLocked,h=i.settings.immutableFieldsMode;return j.createElement(M0,{key:"field",classname:"rule--field",config:i,canSelectFieldSource:!1,selectedField:a,selectedFieldSrc:o,selectedFieldType:s,setField:l,setFuncValue:c,setFieldSrc:u,parentField:f,readonly:h||v,id:d,groupId:p})}},{key:"renderOperator",value:function(){var n=this.props,i=n.config,a=n.selectedField,o=n.selectedFieldSrc,s=n.selectedOperator;n.setField;var l=n.setOperator,u=n.isLocked,c=i.settings.immutableFieldsMode,f=Tfe(i,a,s)||{},d=f.hideOperator,p=a&&d&&f.operatorInlineLabel,v=a&&!d;return j.createElement(KP,{key:"operator",classname:"group--operator",config:i,selectedField:a,selectedFieldSrc:o,selectedOperator:s,setOperator:l,showOperator:v,showOperatorLabel:p,selectedFieldWidgetConfig:f,readonly:c||u,id:this.props.id,groupId:this.props.groupId})}},{key:"isEmptyCurrentGroup",value:function(){var n=this.props,i=n.children1,a=n.config,o=this._buildWidgetProps(this.props);return kfe(o,i,a)}},{key:"_buildWidgetProps",value:function(n){var i=n.selectedField,a=n.selectedFieldSrc,o=n.selectedFieldType,s=n.selectedOperator,l=n.operatorOptions,u=n.value,c=n.valueType;n.valueSrc,n.asyncListValues;var f=n.valueError;n.fieldError;var d=n.parentField;return{field:i,fieldSrc:a,fieldType:o,operator:s,operatorOptions:l,value:u,valueType:c,valueSrc:["value"],valueError:f,fieldError:null,parentField:d}}},{key:"renderWidget",value:function(){var n=this.props,i=n.config,a=n.selectedField,o=n.selectedOperator,s=n.isLocked,l=i.settings.immutableValuesMode,u=a&&o,c=u;if(!c)return null;var f=j.createElement(Qc,he({key:"values",isForRuleGroup:!0},this._buildWidgetProps(this.props),{config:i,setValue:l?En:this.props.setValue,setValueSrc:En,readonly:l||s,id:this.props.id,groupId:this.props.groupId}));return j.createElement(qr,{key:"widget-for-"+this.props.selectedOperator,className:"rule--value"},f)}},{key:"renderActions",value:function(){var n=this.props,i=n.config,a=n.addRule,o=n.isLocked,s=n.isTrueLocked,l=n.id;return j.createElement(xfe,{config:i,addRule:a,canAddRule:this.canAddRule(),canDeleteGroup:this.canDeleteGroup(),removeSelf:this.removeSelf,setLock:this.setLock,isLocked:o,isTrueLocked:s,id:l})}},{key:"reordableNodesCntForItem",value:function(n){if(this.props.isLocked)return 0;var i=this.props.children1;return(i==null?void 0:i.size)||0}},{key:"extraPropsForItem",value:function(n){return{parentField:this.props.selectedField}}}])}(Ea);CL.propTypes=Lx(Lx({},Ea.propTypes),{},{selectedField:z.any,selectedFieldSrc:z.string,selectedOperator:z.string,value:z.any,parentField:z.string,setField:z.func,setFieldSrc:z.func,setOperator:z.func,setValue:z.func,valueError:z.any});const Ife=Xc(lu("group rule_group_ext")(uu(CL)),"rule_group");function Afe(t,e,r){return e=Le(e),Zt(t,TL()?Reflect.construct(e,r||[],Le(t).constructor):e.apply(t,r))}function TL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(TL=function(){return!!t})()}var jfe={topLeft:"group--actions--tl",topCenter:"group--actions--tc",topRight:"group--actions--tr",bottomLeft:"group--actions--bl",bottomCenter:"group--actions--bc",bottomRight:"group--actions--br"},Pfe="topRight",Lfe=function(t){function e(){return Yt(this,e),Afe(this,e,arguments)}return Wt(e,t),Gt(e,[{key:"render",value:function(){var n=this.props,i=n.config,a=n.addCaseGroup,o=n.addDefaultCaseGroup,s=n.setLock,l=n.isLocked,u=n.isTrueLocked,c=n.id,f=n.canAddGroup,d=n.canAddDefault,p=i.settings,v=p.immutableGroupsMode,h=p.addCaseLabel,g=p.addDefaultCaseLabel,y=p.groupActionsPosition,m=p.renderButton,_=p.renderIcon,b=p.renderSwitch,S=p.renderButtonGroup,O=p.lockLabel,x=p.lockedLabel,E=p.showLock,A=function(U){return _(U,i.ctx)},C=function(U){return m(U,i.ctx)},k=function(U){return b(U,i.ctx)},w=function(U){return S(U,i.ctx)},I=jfe[y||Pfe],L=E&&!(l&&!u)&&j.createElement(k,{type:"lock",id:c,value:l,setValue:s,label:O,checkedLabel:x,config:i}),P=!v&&f&&!l&&j.createElement(C,{type:"addCaseGroup",onClick:a,label:h,readonly:l,config:i,renderIcon:A}),V=!v&&d&&!l&&j.createElement(C,{type:"addDefaultCaseGroup",onClick:o,label:g,readonly:l,config:i,renderIcon:A});return j.createElement("div",{className:"group--actions ".concat(I)},j.createElement(w,{config:i},L,P,V))}}])}(X.PureComponent);function $x(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ffe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$x(Object(r),!0).forEach(function(n){oe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$x(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Rfe(t,e,r){return e=Le(e),Zt(t,kL()?Reflect.construct(e,r||[],Le(t).constructor):e.apply(t,r))}function kL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(kL=function(){return!!t})()}var IL=it.TreeUtils,$fe=IL.getTotalReordableNodesCountInTree,Nfe=IL.getTotalRulesCountInTree,AL=function(t){function e(r){var n;return Yt(this,e),n=Rfe(this,e,[r]),n.childrenClassName=function(){return"switch_group--children"},n.renderFooterWrapper=function(){return null},n.hasDefaultCase=function(){var i;return((i=n.props.children1)===null||i===void 0?void 0:i.size)&&n.props.children1.filter(function(a){return a.get("children1")==null}).size>0},n}return Wt(e,t),Gt(e,[{key:"onPropsChanged",value:function(n){Yn(Le(e.prototype),"onPropsChanged",this).call(this,n)}},{key:"canAddGroup",value:function(){var n,i=this.props.config.settings.maxNumberOfCases,a=((n=this.props.children1)===null||n===void 0?void 0:n.size)||0;return i?a<i:!0}},{key:"canAddRule",value:function(){return!1}},{key:"reordableNodesCnt",value:function(){var n,i=((n=this.props.children1)===null||n===void 0?void 0:n.size)||0,a=i;return this.hasDefaultCase()&&a--,a}},{key:"totalRulesCntForItem",value:function(n){return Nfe(n)}},{key:"reordableNodesCntForItem",value:function(n){var i;if(this.props.isLocked)return 0;var a=this.props.config.settings,o=a.canLeaveEmptyCase,s=a.canRegroupCases,l=((i=this.props.children1)===null||i===void 0?void 0:i.size)||0,u=l;this.hasDefaultCase()&&u--;var c=$fe(n),f=c;return f==1&&s&&o&&u>1&&(f=111),f}},{key:"renderHeaderWrapper",value:function(){return j.createElement("div",{key:"group-header",className:_i("group--header",this.isOneChild()?"one--child":"",this.isOneChild()?"hide--line":"",this.isNoChildren()?"no--children":"",this.showDragIcon()?"with--drag":"hide--drag")},this.renderHeader(),this.renderActions())}},{key:"renderHeader",value:function(){return j.createElement("div",{className:"group--conjunctions"},this.renderConjs(),this.renderDrag())}},{key:"renderConjs",value:function(){var n=this.props.config,i=n.settings.renderSwitchPrefix;return i||null}},{key:"showNot",value:function(){return!1}},{key:"renderActions",value:function(){var n=this.props,i=n.config,a=n.addCaseGroup,o=n.addDefaultCaseGroup,s=n.isLocked,l=n.isTrueLocked,u=n.id;return j.createElement(Lfe,{config:i,addCaseGroup:a,addDefaultCaseGroup:o,canAddDefault:!this.hasDefaultCase(),canAddGroup:this.canAddGroup(),setLock:this.setLock,isLocked:s,isTrueLocked:l,id:u})}}])}(Ea);AL.propTypes=Ffe({},Ea.propTypes);const Dfe=Xc(lu("group switch_group")(uu(AL)),"switch_group");function Nx(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Dx(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Nx(Object(r),!0).forEach(function(n){oe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Nx(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Mfe(t,e,r){return e=Le(e),Zt(t,jL()?Reflect.construct(e,r||[],Le(t).constructor):e.apply(t,r))}function jL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(jL=function(){return!!t})()}var PL=function(t){function e(r){var n;return Yt(this,e),n=Mfe(this,e,[r]),n.childrenClassName=function(){return"case_group--children"},n.renderFooterWrapper=function(){return null},n}return Wt(e,t),Gt(e,[{key:"onPropsChanged",value:function(n){var i=this.props,a=!this.renderBeforeCaseValue||(i==null?void 0:i.config)!==(n==null?void 0:n.config);if(Yn(Le(e.prototype),"onPropsChanged",this).call(this,n),a){var o=n.config,s=o.settings,l=s.renderBeforeCaseValue,u=s.renderAfterCaseValue,c=s.renderRuleError;this.BeforeCaseValue=Cn(o,l),this.AfterCaseValue=Cn(o,u),this.RuleError=Cn(o,c)}}},{key:"isDefaultCase",value:function(){return this.props.children1==null}},{key:"reordableNodesCnt",value:function(){return this.props.parentReordableNodesCnt}},{key:"reordableNodesCntForItem",value:function(n){return this.props.isLocked?0:this.props.reordableNodesCnt}},{key:"totalRulesCntForItem",value:function(n){return this.props.totalRulesCnt}},{key:"showDragIcon",value:function(){return this.isDefaultCase()?!1:Yn(Le(e.prototype),"showDragIcon",this).call(this)}},{key:"renderHeaderWrapper",value:function(){return j.createElement("div",{key:"group-header",className:_i("group--header",this.isOneChild()?"one--child":"",this.isOneChild()?"hide--line":"",this.isNoChildren()?"no--children":"",this.showDragIcon()?"with--drag":"hide--drag",this.showConjs()&&(!this.isOneChild()||this.showNot())?"with--conjs":"hide--conjs")},this.renderHeaderLeft(),this.renderHeaderCenter(),this.renderActions())}},{key:"renderChildrenWrapper",value:function(){return this.isDefaultCase()?null:j.createElement("div",{className:"case_group--body"},this.renderCondition(),this.renderBeforeValue(),this.renderValue(),this.renderAfterValue())}},{key:"renderHeaderLeft",value:function(){if(this.isDefaultCase()){var n=this.props.config.settings.defaultCaseLabel;return n||""}return j.createElement("div",{className:"group--conjunctions"},this.renderConjs(),this.renderDrag(),this.renderError())}},{key:"renderCondition",value:function(){return this.isDefaultCase()?null:Yn(Le(e.prototype),"renderChildrenWrapper",this).call(this)}},{key:"renderHeaderCenter",value:function(){return this.isDefaultCase()?j.createElement("div",null,this.renderValue(),this.renderError()):null}},{key:"canAddGroup",value:function(){return this.isDefaultCase()?!1:Yn(Le(e.prototype),"canAddGroup",this).call(this)}},{key:"canAddRule",value:function(){return this.isDefaultCase()?!1:Yn(Le(e.prototype),"canAddRule",this).call(this)}},{key:"renderBeforeValue",value:function(){var n=this.BeforeCaseValue;return n==null?null:j.createElement(n,he({key:"values-before"},this.props))}},{key:"renderAfterValue",value:function(){var n=this.AfterCaseValue;return n==null?null:j.createElement(n,he({key:"values-after"},this.props))}},{key:"renderError",value:function(){var n=this.props,i=n.config,a=n.valueError,o=i.settings.showErrorMessage,s=this.RuleError,l=Ce((a==null?void 0:a.toArray())||[]).filter(function(u){return!!u}).shift()||null;return o&&l&&j.createElement("div",{className:"rule--error"},s?j.createElement(s,{error:l}):l)}},{key:"renderValue",value:function(){var n=this.props,i=n.config,a=n.isLocked,o=n.value,s=n.valueSrc,l=n.valueError,u=n.setValue,c=n.setValueSrc,f=n.setFuncValue,d=n.id,p=i.settings.immutableValuesMode,v=j.createElement(Qc,{key:"values",isCaseValue:!0,field:"!case_value",operator:null,value:o,valueSrc:s!=null?s:"value",valueError:l,fieldError:null,config:i,setValue:p?En:u,setValueSrc:p?En:c,setFuncValue:p?En:f,readonly:p||a,id:d,groupId:null});return j.createElement(qr,{className:"case_group--value"},v)}},{key:"renderActions",value:function(){var n=this.props,i=n.config,a=n.addGroup,o=n.addRule,s=n.isLocked,l=n.isTrueLocked,u=n.id;return j.createElement(yL,{config:i,addGroup:a,addRule:o,canAddRule:this.canAddRule(),canAddGroup:this.canAddGroup(),canDeleteGroup:this.canDeleteGroup(),removeSelf:this.removeSelf,setLock:this.setLock,isLocked:s,isTrueLocked:l,id:u})}},{key:"isEmptyCurrentGroup",value:function(){var n=this.props.value,i=n&&n.size?n.get(0):null,a=i!=null&&(Array.isArray(i)?i.length>0:!0);return Yn(Le(e.prototype),"isEmptyCurrentGroup",this).call(this)&&!a}}])}(Ea);PL.propTypes=Dx(Dx({},Ea.propTypes),{},{parentReordableNodesCnt:z.number,value:z.any,setValue:z.func});const Vfe=Xc(lu("group case_group")(uu(PL)),"case_group");var Bfe=["type"];function qfe(t,e,r){return e=Le(e),Zt(t,LL()?Reflect.construct(e,r||[],Le(t).constructor):e.apply(t,r))}function LL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(LL=function(){return!!t})()}function Mx(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Pg(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Mx(Object(r),!0).forEach(function(n){oe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Mx(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var Hfe=["rule","group","rule_group","switch_group","case_group"],Ds=function(e){var r,n=((r=e.properties)===null||r===void 0?void 0:r.toObject())||{},i=Pg({},n);return e.isParentLocked&&(i.isLocked=!0),n.isLocked&&(i.isTrueLocked=!0),i},zfe={rule:function(e){return j.createElement(Yce,he({},Ds(e),{id:e.id,groupId:e.groupId,path:e.path,actions:e.actions,reordableNodesCnt:e.reordableNodesCnt,totalRulesCnt:e.totalRulesCnt,config:e.config,onDragStart:e.onDragStart,isDraggingTempo:e.isDraggingTempo,parentField:e.parentField,parentReordableNodesCnt:e.parentReordableNodesCnt}))},group:function(e){return j.createElement(gfe,he({},Ds(e),{id:e.id,groupId:e.groupId,path:e.path,actions:e.actions,config:e.config,reordableNodesCnt:e.reordableNodesCnt,totalRulesCnt:e.totalRulesCnt,onDragStart:e.onDragStart,isDraggingTempo:e.isDraggingTempo,children1:e.children1,parentField:null,parentReordableNodesCnt:e.parentReordableNodesCnt}))},rule_group:function(e){return j.createElement(Sfe,he({},Ds(e),{id:e.id,groupId:e.groupId,path:e.path,actions:e.actions,config:e.config,reordableNodesCnt:e.reordableNodesCnt,totalRulesCnt:e.totalRulesCnt,onDragStart:e.onDragStart,isDraggingTempo:e.isDraggingTempo,children1:e.children1,parentField:e.parentField,parentReordableNodesCnt:e.parentReordableNodesCnt}))},rule_group_ext:function(e){return j.createElement(Ife,he({},Ds(e),{id:e.id,groupId:e.groupId,path:e.path,actions:e.actions,config:e.config,reordableNodesCnt:e.reordableNodesCnt,totalRulesCnt:e.totalRulesCnt,onDragStart:e.onDragStart,isDraggingTempo:e.isDraggingTempo,children1:e.children1,parentField:e.parentField,parentReordableNodesCnt:e.parentReordableNodesCnt}))},switch_group:function(e){return j.createElement(Dfe,he({},Ds(e),{id:e.id,groupId:e.groupId,path:e.path,actions:e.actions,config:e.config,reordableNodesCnt:e.reordableNodesCnt,totalRulesCnt:e.totalRulesCnt,onDragStart:e.onDragStart,isDraggingTempo:e.isDraggingTempo,children1:e.children1,parentField:null,parentReordableNodesCnt:e.parentReordableNodesCnt}))},case_group:function(e){return j.createElement(Vfe,he({},Ds(e),{id:e.id,groupId:e.groupId,path:e.path,actions:e.actions,config:e.config,reordableNodesCnt:e.reordableNodesCnt,totalRulesCnt:e.totalRulesCnt,onDragStart:e.onDragStart,isDraggingTempo:e.isDraggingTempo,children1:e.children1,parentField:null,parentReordableNodesCnt:e.parentReordableNodesCnt}))}},V0=function(t){function e(){return Yt(this,e),qfe(this,e,arguments)}return Wt(e,t),Gt(e,[{key:"render",value:function(){var n,i=this.props,a=i.type,o=ei(i,Bfe),s=(n=o.properties)===null||n===void 0?void 0:n.get("mode"),l=s=="array"?"_ext":"",u=o.config.settings.renderItem,c=zfe[a+l];return u?u(Pg(Pg({},o),{},{type:a,itemComponent:c}),o.config.ctx):c?c(o):null}}])}(X.PureComponent);V0.propTypes={config:z.object.isRequired,id:z.string.isRequired,groupId:z.string,type:z.oneOf(Hfe).isRequired,path:z.any.isRequired,properties:z.any,children1:z.any,actions:z.object.isRequired,reordableNodesCnt:z.number,onDragStart:z.func,parentField:z.string,isDraggingTempo:z.bool,isParentLocked:z.bool};function Ufe(t,e,r){return e=Le(e),Zt(t,FL()?Reflect.construct(e,r||[],Le(t).constructor):e.apply(t,r))}function FL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(FL=function(){return!!t})()}var RL=it.TreeUtils,Wfe=RL.getTotalReordableNodesCountInTree,Gfe=RL.getTotalRulesCountInTree,$L=it.DefaultUtils,Yfe=$L.createListWithOneElement,Vx=$L.emptyProperties,NL=function(t){function e(r){var n;return Yt(this,e),n=Ufe(this,e,[r]),n.pureShouldComponentUpdate=su(n),n._updPath(r),n}return Wt(e,t),Gt(e,[{key:"shouldComponentUpdate",value:function(n,i){var a=this.pureShouldComponentUpdate(n,i);return a}},{key:"_updPath",value:function(n){var i=n.tree.get("id");this.path=Yfe(i)}},{key:"render",value:function(){var n=this.props,i=n.tree,a=n.config,o=n.actions,s=n.onDragStart,l=i.get("type"),u=l=="switch_group",c=u?null:Wfe(i),f=u?null:Gfe(i),d=i.get("id");return j.createElement(V0,{key:d,id:d,path:this.path,type:l,properties:i.get("properties")||Vx(),config:a,actions:o,children1:i.get("children1")||Vx(),reordableNodesCnt:c,totalRulesCnt:f,parentReordableNodesCnt:0,onDragStart:s})}}])}(X.Component);NL.propTypes={tree:z.any.isRequired,config:z.object.isRequired,actions:z.object.isRequired,onDragStart:z.func};const Kfe=Tue(NL);function Bx(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Jfe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Bx(Object(r),!0).forEach(function(n){oe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Bx(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Qfe(t,e,r){return e=Le(e),Zt(t,DL()?Reflect.construct(e,r||[],Le(t).constructor):e.apply(t,r))}function DL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(DL=function(){return!!t})()}var Xfe=it.clone,B0=it.ConfigUtils,wu=B0.getFieldConfig,qx=B0.getFieldParts,Hx=B0.getFieldPathParts,ML=it.RuleUtils,zx=ML.getFieldPathLabels,Zfe=ML.getWidgetForFieldOp,VL=function(t){function e(r){var n;return Yt(this,e),n=Qfe(this,e,[r]),Nn(n),n.onPropsChanged(r),n}return Wt(e,t),Gt(e,[{key:"onPropsChanged",value:function(n){var i=this.props,a=["config","field","fieldSrc","fieldType","operator","isFuncArg","parentField"],o=["config","field","fieldSrc","fieldType","operator","value","placeholder","isFuncArg","parentField"],s=!this.items||a.map(function(u){return n[u]!==i[u]}).filter(function(u){return u}).length>0,l=!this.meta||o.map(function(u){return n[u]!==i[u]}).filter(function(u){return u}).length>0;s&&(this.items=this.getItems(n)),l&&(this.meta=this.getMeta(n))}},{key:"getItems",value:function(n){var i=n.config,a=n.field,o=n.fieldType,s=n.operator,l=n.parentField,u=n.isFuncArg,c=n.fieldDefinition,f=i.settings.canCompareFieldWithField,d=qx(l,i),p=l?wu(i,l):null,v=l?p==null?void 0:p.subfields:i.fields,h=this.filterFields(i,v,a,l,d,s,f,u,c,o),g=this.buildOptions(d,i,h,d);return g}},{key:"getMeta",value:function(n){var i,a=n.config,o=n.field;n.fieldType,n.operator;var s=n.value,l=n.placeholder,u=n.isFuncArg,c=n.parentField,f=a.settings,d=f.fieldPlaceholder,p=f.fieldSeparatorDisplay,v=s,h=!!s,g=o?wu(a,o):{},y=g==null||(i=g.widgets)===null||i===void 0?void 0:i.field,m=(y==null?void 0:y.widgetProps)||{},_=h?null:u&&l||m.valuePlaceholder||d,b=h?wu(a,v):null,S=b||{},O=Hx(v,a),x=Hx(v,a,!0),E=this.getFieldLabel(b,v,a),A=zx(v,a),C=A?A.join(p):null;(C==E||c)&&(C=null);var k=S.label2||S.tooltip;return{placeholder:_,selectedKey:v,selectedKeys:O,selectedPath:x,selectedLabel:E,selectedOpts:S,selectedAltLabel:k,selectedFullLabel:C}}},{key:"filterFields",value:function(n,i,a,o,s,l,u,c,f,d){i=Xfe(i);var p=n.settings.fieldSeparator,v=wu(n,a),h=Zfe(n,a,l,"value");n.widgets[h];var g;c?g=f==null?void 0:f.type:v?g=v.type:g=d;function y(m,_){for(var b in m){var S=m[b].subfields,O=(_||[]).concat(b),x=O.join(p),E=wu(n,x);if(!E)delete m[b];else if(E.type=="!struct"||E.type=="!group")y(S,O)==0&&delete m[b];else{var A=(!g||E.type==g)&&(c?!0:x!=a),C=u||n.settings.canCompareFieldWithField;C&&(A=A&&C(a,v,x,E,l)),A||delete m[b]}}return bl(m).length}return y(i,s||[]),i}},{key:"buildOptions",value:function(n,i,a){var o=this,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:null;if(!a)return null;var u=i.settings,c=u.fieldSeparator,f=u.fieldSeparatorDisplay,d=s!=null&&s.length?s.join(c)+c:"";return bl(a).map(function(p){var v=[].concat(Ce(s!=null?s:[]),[p]),h=a[p],g=o.getFieldLabel(h,v,i),y=zx(v,i),m=y.join(f);(m==g||n)&&(m=null);var _=h.label2,b=h.tooltip;if(!h.hideForCompare)return h.type=="!struct"||h.type=="!group"?{key:p,path:d+p,label:g,fullLabel:m,altLabel:_,tooltip:b,items:o.buildOptions(n,i,h.subfields,v,{label:g,tooltip:b})}:{key:p,path:d+p,label:g,fullLabel:m,altLabel:_,tooltip:b,grouplabel:l==null?void 0:l.label,group:l}}).filter(function(p){return!!p})}},{key:"getFieldLabel",value:function(n,i,a){if(!i)return null;var o=a.settings.maxLabelsLength,s=qx(i,a),l=(n==null?void 0:n.label)||Up(s);return l=qd(l,o),l}},{key:"render",value:function(){var n=this.props,i=n.config,a=n.customProps,o=n.setValue,s=n.readonly,l=n.id,u=n.groupId,c=i.settings.renderField,f=Jfe({isValueField:!0,config:i,customProps:a,setField:o,readonly:s,items:this.items,id:l,groupId:u},this.meta);return c(f,i.ctx)}}])}(X.Component);VL.propTypes={id:z.string,groupId:z.string,setValue:z.func.isRequired,config:z.object.isRequired,field:z.any,fieldSrc:z.string,fieldType:z.string,value:z.string,operator:z.string,customProps:z.object,readonly:z.bool,parentField:z.string,fieldDefinition:z.object,isFuncArg:z.bool};const ede=function(t){var e=t.value,r=t.setValue;t.config;var n=t.labelYes,i=t.labelNo,a=t.readonly;t.widgetId;var o=t.customProps,s=o===void 0?{}:o,l=s.radioYes||{},u=s.radioNo||{},c=function(d){return r(d.target.value=="true")};return j.createElement(j.Fragment,null,j.createElement("input",he({type:"radio",value:!0,checked:!!e,disabled:a,onChange:c},l))," ",n,j.createElement("input",he({type:"radio",value:!1,checked:!e,disabled:a,onChange:c},u))," ",i)},tde=function(t){var e=t.value,r=t.setValue;t.config;var n=t.readonly,i=t.placeholder,a=t.maxLength,o=t.customProps,s=function(c){var f=c.target.value;f===""&&(f=void 0),r(f)},l=e||"";return j.createElement("input",he({type:"text",value:l,placeholder:i,disabled:n,onChange:s,maxLength:a},o))},rde=function(t){var e=t.value,r=t.setValue;t.config;var n=t.readonly,i=t.placeholder,a=t.maxLength;t.maxRows;var o=t.fullWidth,s=t.customProps,l=function(f){var d=f.target.value;d===""&&(d=void 0),r(d)},u=e||"";return j.createElement("textarea",he({value:u,placeholder:i,disabled:n,onChange:l,maxLength:a,style:{width:o?"100%":void 0}},s))};it.moment;const nde=function(t){var e=t.value,r=t.setValue;t.config,t.valueFormat;var n=t.readonly,i=t.customProps,a=function(s){var l=s.target.value;l==""&&(l=void 0),r(l)};return j.createElement("input",he({type:"date",value:e||"",disabled:n,onChange:a},i))},ide=function(t){var e=t.value,r=t.setValue;t.config,t.valueFormat,t.use12Hours;var n=t.readonly,i=t.customProps,a=function(s){var l=s.target.value;l==""&&(l=void 0),r(l)};return j.createElement("input",he({type:"time",value:e||"",disabled:n,onChange:a},i))};var Ux=it.moment;const ade=function(t){var e=t.value,r=t.setValue;t.config;var n=t.valueFormat;t.use12Hours;var i=t.readonly,a=t.customProps,o=function(u){var c=u.target.value;c==""?c=void 0:c=Ux(new Date(c)).format(n),r(c)},s=e;return e?s=Ux(e).format("YYYY-MM-DDTHH:mm"):s="",j.createElement("input",he({type:"datetime-local",value:s,disabled:i,onChange:o},a))};var ode=it.ListUtils.mapListValues;const sde=function(t){var e=t.listValues,r=t.value,n=t.setValue;t.allowCustomValues;var i=t.readonly,a=t.customProps,o=function(){return ode(e,function(c){var f=c.title,d=c.value;return j.createElement("option",{key:d,value:d},f)})},s=function(c){for(var f=[],d=c.options,p=0;p<d.length;p++){var v=d[p];v.selected&&f.push(v.value)}return f.length||(f=void 0),f},l=function(c){return n(s(c.target))};return j.createElement("select",he({multiple:!0,onChange:l,value:r,disabled:i},xo(a,["showSearch","input","showCheckboxes"])),o())};var lde=it.ListUtils.mapListValues;const ude=function(t){var e=t.listValues,r=t.value,n=t.setValue;t.allowCustomValues;var i=t.readonly,a=t.customProps,o=function(){return lde(e,function(c){var f=c.title,d=c.value;return j.createElement("option",{key:d,value:d},f)})},s=function(c){return n(c.target.value)},l=r!=null;return j.createElement("select",he({onChange:s,value:l?r:"",disabled:i},xo(a,["showSearch","input"])),!l&&j.createElement("option",{disabled:!0,value:""}),o())},cde=function(t){var e=t.value,r=t.setValue;t.config;var n=t.readonly,i=t.min,a=t.max,o=t.step,s=t.placeholder,l=t.customProps,u=function(d){var p=d.target.value;p===""||p===null?p=void 0:p=Number(p),r(p)},c=e==null?"":e;return j.createElement("input",he({type:"number",value:c,placeholder:s,disabled:n,min:i,max:a,step:o,onChange:u},l))},fde=function(t){var e=t.value,r=t.setValue;t.config;var n=t.readonly,i=t.min,a=t.max,o=t.step,s=t.placeholder,l=t.customProps,u=l===void 0?{}:l,c=u.input||{},f=u.slider||u,d=function(h){var g=h.target.value;g===""||g===null?g=void 0:g=Number(g),r(g)},p=e==null?"":e;return j.createElement("div",{style:{display:"inline-flex"}},j.createElement("input",he({key:"number",type:"number",value:p,placeholder:s,disabled:n,min:i,max:a,step:o,onChange:d},c)),j.createElement("input",he({key:"range",type:"range",value:p,disabled:n,min:i,max:a,step:o,onChange:d},f)))},dde=function(t){var e=t.items,r=t.setField,n=t.selectedKey,i=t.readonly,a=t.errorText,o=function u(c){return c.map(function(f){var d=f.items,p=f.path,v=f.label,h=f.disabled,g=f.matchesType;if(d)return j.createElement("optgroup",{disabled:h,key:p,label:v},u(d));var y=g?{fontWeight:"bold"}:{};return j.createElement("option",{disabled:h,key:p,value:p,style:y},v)})},s=function(c){return r(c.target.value)},l=n!=null;return j.createElement("select",{onChange:s,value:l?n:"",disabled:i,style:{color:a?"red":null}},!l&&j.createElement("option",{disabled:!0,value:""}),o(e))},pde=function(t){var e=t.id,r=t.not,n=t.setNot,i=t.conjunctionOptions,a=t.setConjunction,o=t.disabled,s=t.readonly,l=t.config,u=t.showNot,c=t.notLabel,f=Object.keys(i).length,d=o,p=l.settings.forceShowConj,v=p||f>1&&!d,h=function(){return Object.keys(i).map(function(b){var S=i[b],O=S.id,x=S.name,E=S.label,A=S.checked,C=a.isDummyFn?"__dummy":"";return(s||o)&&!A?null:[j.createElement("input",{key:O+C,type:"radio",id:O+C,name:x+C,checked:A,disabled:s||o,value:b,onChange:y}),j.createElement("label",{key:O+C+"label",htmlFor:O+C},E)]})},g=function(){var b="not";return[j.createElement("input",{key:e+b,type:"checkbox",id:e+b,checked:r,disabled:s,onChange:m}),j.createElement("label",{key:e+b+"label",htmlFor:e+b},c||"NOT")]},y=function(b){return a(b.target.value)},m=function(b){return n(b.target.checked)};return[u&&g(),v&&h()]};var hde={addRuleGroup:"+",addRuleGroupExt:"+",delGroup:"x",delRuleGroup:"x",delRule:"x"};const vde=function(t){var e=t.type,r=t.label,n=t.onClick,i=t.readonly,a=r||hde[e];return j.createElement("button",{onClick:n,type:"button",disabled:i},a)},gde=function(t){var e=t.type,r={},n=r[e]||null;return!n&&e==="drag"&&(n=j.createElement(WP,null)),n},mde=function(t){var e=t.children;return t.config,j.createElement(j.Fragment,null,e)},yde=function(t){t.config;var e=t.valueSources,r=t.valueSrc;t.title;var n=t.setValueSrc,i=t.readonly,a=function(l){return l.map(function(u){var c=ke(u,2),f=c[0],d=c[1];return j.createElement("option",{key:f,value:f},d.label)})},o=function(l){return n(l.target.value)};return j.createElement("select",{onChange:o,value:r||"",disabled:i},a(e))},bde=function(t){var e=t.value,r=t.setValue,n=t.label,i=t.id;t.config;var a=t.type,o=function(u){return r(u.target.checked)},s=a;return[j.createElement("input",{key:i+s,type:"checkbox",id:i+s,checked:!!e,onChange:o}),j.createElement("label",{key:i+s+"label",htmlFor:i+s},n)]},_de=function(t){var e=t.onOk;t.okText,t.cancelText;var r=t.title;confirm(r)&&e()};var Sde=function(e){e.config;var r=e.children;return r};const Ode=Object.freeze(Object.defineProperty({__proto__:null,FuncWidget:D0,ValueFieldWidget:VL,VanillaBooleanWidget:ede,VanillaButton:vde,VanillaButtonGroup:mde,VanillaConjs:pde,VanillaDateTimeWidget:ade,VanillaDateWidget:nde,VanillaFieldSelect:dde,VanillaIcon:gde,VanillaMultiSelectWidget:sde,VanillaNumberWidget:cde,VanillaProvider:Sde,VanillaSelectWidget:ude,VanillaSliderWidget:fde,VanillaSwitch:bde,VanillaTextAreaWidget:rde,VanillaTextWidget:tde,VanillaTimeWidget:ide,VanillaValueSources:yde,vanillaConfirm:_de},Symbol.toStringTag,{value:"Module"}));function xde(t,e,r){return e=Le(e),Zt(t,BL()?Reflect.construct(e,r||[],Le(t).constructor):e.apply(t,r))}function BL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(BL=function(){return!!t})()}var q0=function(t){function e(){var r;Yt(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=xde(this,e,[].concat(i)),r.handleChange=function(o){r.props.setOption("proximity",parseInt(o))},r}return Wt(e,t),Gt(e,[{key:"render",value:function(){var n=this.props,i=n.defaults,a=n.options,o=n.config,s=n.optionLabel,l=n.optionPlaceholder,u=n.customProps,c=n.minProximity,f=n.maxProximity,d=n.optionTextBefore,p=n.readonly,v=o.settings,h=o.widgets,g=o.ctx,y=i?i.proximity:void 0,m=v.showLabels,_=a.get("proximity",y),b=jg(c,f+1).map(function(x){return{title:x,value:x}}),S=h.select.factory,O=function(E){return S(E,g)};return j.createElement("div",{className:"operator--PROXIMITY"},j.createElement("div",{className:"operator--options"},m&&j.createElement("label",{className:"rule--label"},s),!m&&d&&j.createElement("div",{className:"operator--options--sep"},j.createElement("span",null,d)),j.createElement(O,he({config:o,value:_,listValues:b,setValue:this.handleChange,readonly:p,placeholder:l},u))),j.createElement("div",{className:"operator--widgets"},this.props.children))}}])}(X.PureComponent);q0.propTypes={config:z.object.isRequired,setOption:z.func.isRequired,options:z.any.isRequired,minProximity:z.number,maxProximity:z.number,optionPlaceholder:z.string,optionTextBefore:z.string,optionLabel:z.string,customProps:z.object,readonly:z.bool};q0.defaultProps={customProps:{},minProximity:2,maxProximity:10,optionPlaceholder:"Select words between",optionLabel:"Words between",optionTextBefore:null};const wde=Object.freeze(Object.defineProperty({__proto__:null,ProximityOperator:q0},Symbol.toStringTag,{value:"Module"}));function Wx(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Xe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Wx(Object(r),!0).forEach(function(n){oe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Wx(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var Ede=Xe({},Cr.conjunctions),Cde=Xe(Xe({},Cr.operators),{},{proximity:Xe(Xe({},Cr.operators.proximity),{},{options:Xe(Xe({},Cr.operators.proximity.options),{},{factory:function(e,r){var n=r.RCE,i=r.O.ProximityOperator;return n(i,e)}})})}),Tde={text:Xe(Xe({},Cr.widgets.text),{},{factory:function(e,r){var n=r.RCE,i=r.W.VanillaTextWidget;return n(i,e)}}),textarea:Xe(Xe({},Cr.widgets.textarea),{},{factory:function(e,r){var n=r.RCE,i=r.W.VanillaTextAreaWidget;return n(i,e)}}),number:Xe(Xe({},Cr.widgets.number),{},{factory:function(e,r){var n=r.RCE,i=r.W.VanillaNumberWidget;return n(i,e)}}),slider:Xe(Xe({},Cr.widgets.slider),{},{factory:function(e,r){var n=r.RCE,i=r.W.VanillaSliderWidget;return n(i,e)}}),select:Xe(Xe({},Cr.widgets.select),{},{factory:function(e,r){var n=r.RCE,i=r.W.VanillaSelectWidget;return n(i,e)}}),multiselect:Xe(Xe({},Cr.widgets.multiselect),{},{factory:function(e,r){var n=r.RCE,i=r.W.VanillaMultiSelectWidget;return n(i,e)}}),date:Xe(Xe({},Cr.widgets.date),{},{factory:function(e,r){var n=r.RCE,i=r.W.VanillaDateWidget;return n(i,e)}}),time:Xe(Xe({},Cr.widgets.time),{},{factory:function(e,r){var n=r.RCE,i=r.W.VanillaTimeWidget;return n(i,e)}}),datetime:Xe(Xe({},Cr.widgets.datetime),{},{factory:function(e,r){var n=r.RCE,i=r.W.VanillaDateTimeWidget;return n(i,e)}}),boolean:Xe(Xe({},Cr.widgets.boolean),{},{factory:function(e,r){var n=r.RCE,i=r.W.VanillaBooleanWidget;return n(i,e)}}),field:Xe(Xe({},Cr.widgets.field),{},{factory:function(e,r){var n=r.RCE,i=r.W.ValueFieldWidget;return n(i,e)},customProps:{showSearch:!0}}),func:Xe(Xe({},Cr.widgets.func),{},{factory:function(e,r){var n=r.RCE,i=r.W.FuncWidget;return n(i,e)},customProps:{}}),case_value:Xe(Xe({},Cr.widgets.case_value),{},{factory:function(e,r){var n=r.RCE,i=r.W.VanillaTextWidget;return n(i,e)}})},kde=Xe(Xe({},Cr.types),{},{select:Xe(Xe({},Cr.types.select),{},{widgets:Xe(Xe({},Cr.types.select.widgets),{},{select:Xe(Xe({},Cr.types.select.widgets.select),{},{widgetProps:{customProps:{showSearch:!0}}})})})}),Ide=Xe(Xe({},Cr.settings),{},{renderField:function(e,r){var n=r.RCE,i=r.W.VanillaFieldSelect;return n(i,e)},renderOperator:function(e,r){var n=r.RCE,i=r.W.VanillaFieldSelect;return n(i,e)},renderFunc:function(e,r){var n=r.RCE,i=r.W.VanillaFieldSelect;return n(i,e)},renderConjs:function(e,r){var n=r.RCE,i=r.W.VanillaConjs;return n(i,e)},renderSwitch:function(e,r){var n=r.RCE,i=r.W.VanillaSwitch;return n(i,e)},renderButton:function(e,r){var n=r.RCE,i=r.W.VanillaButton;return n(i,e)},renderIcon:function(e,r){var n=r.RCE,i=r.W.VanillaIcon;return n(i,e)},renderButtonGroup:function(e,r){var n=r.RCE,i=r.W.VanillaButtonGroup;return n(i,e)},renderProvider:function(e,r){var n=r.RCE,i=r.W.VanillaProvider;return n(i,e)},renderValueSources:function(e,r){var n=r.RCE,i=r.W.VanillaValueSources;return n(i,e)},renderFieldSources:function(e,r){var n=r.RCE,i=r.W.VanillaValueSources;return n(i,e)},renderConfirm:function(e,r){var n=r.W.vanillaConfirm;return n(e)},renderSwitchPrefix:"IF",renderBeforeCaseValue:function(e,r){var n=r.RCE;return n("span",{children:[" then "]})},customFieldSelectProps:{showSearch:!0},customOperatorSelectProps:{},defaultSliderWidth:"200px",defaultSelectWidth:"200px",defaultSearchWidth:"100px",defaultMaxRows:5,renderSize:"small",maxLabelsLength:100,showLock:!1,showNot:!0,forceShowConj:!1,groupActionsPosition:"topRight"}),Ade=Xe(Xe({},Cr.ctx),{},{W:Xe({},Ode),O:Xe({},wde),RCE:function(e,r){return j.createElement(e,r)}}),Lg={conjunctions:Ede,operators:Cde,widgets:Tde,types:kde,settings:Ide,ctx:Ade};Lg=it.ConfigMixins.removeMixins(Lg,["rangeslider","treeselect","treemultiselect"]);const ln=Lg;var jde=Wi,Pde=function(){return jde.Date.now()},Lde=Pde,Fde=xi,ov=Lde,Gx=tL,Rde="Expected a function",$de=Math.max,Nde=Math.min;function Dde(t,e,r){var n,i,a,o,s,l,u=0,c=!1,f=!1,d=!0;if(typeof t!="function")throw new TypeError(Rde);e=Gx(e)||0,Fde(r)&&(c=!!r.leading,f="maxWait"in r,a=f?$de(Gx(r.maxWait)||0,e):a,d="trailing"in r?!!r.trailing:d);function p(O){var x=n,E=i;return n=i=void 0,u=O,o=t.apply(E,x),o}function v(O){return u=O,s=setTimeout(y,e),c?p(O):o}function h(O){var x=O-l,E=O-u,A=e-x;return f?Nde(A,a-E):A}function g(O){var x=O-l,E=O-u;return l===void 0||x>=e||x<0||f&&E>=a}function y(){var O=ov();if(g(O))return m(O);s=setTimeout(y,h(O))}function m(O){return s=void 0,d&&n?p(O):(n=i=void 0,o)}function _(){s!==void 0&&clearTimeout(s),u=0,n=l=i=s=void 0}function b(){return s===void 0?o:m(ov())}function S(){var O=ov(),x=g(O);if(n=arguments,i=this,l=O,x){if(s===void 0)return v(l);if(f)return clearTimeout(s),s=setTimeout(y,e),p(l)}return s===void 0&&(s=setTimeout(y,e)),o}return S.cancel=_,S.flush=b,S}var Mde=Dde;const Vde=en(Mde);function Yx(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ff(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Yx(Object(r),!0).forEach(function(n){oe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Yx(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var Zc=it.Autocomplete,Rf=Zc.mergeListValues,Kx=Zc.listValueToOption,Bde=Zc.optionToListValue,qde=Zc.optionsToListValues,Hde=Zc.fixListValuesGroupOrder,cu=it.ListUtils,zde=cu.mapListValues,$f=cu.listValuesToArray,Nf=cu.getListValue,Ude=cu.makeCustomListValue,Wde=cu.searchListValue;cu.getItemInListValues;function Jx(t){return new Promise(function(e){setTimeout(e,t)})}var Gde=function(e,r){var n=e.asyncFetch,i=e.useLoadMore,a=e.useAsyncSearch,o=e.forceAsyncSearch,s=e.asyncListValues,l=e.listValues,u=e.allowCustomValues,c=e.value,f=e.setValue,d=e.placeholder,p=e.config,v=r.debounceTimeout,h=r.multiple,g=r.uif,y=r.isFieldAutocomplete,m=["LOAD_MORE","LOADING_MORE"],_="Load more...",b="Loading more...",S=o?"Type to search":d,O=j.useState(!1),x=ke(O,2),E=x[0],A=x[1],C=j.useState(void 0),k=ke(C,2),w=k[0],I=k[1],L=j.useState(0),P=ke(L,2),V=P[0],$=P[1],U=j.useState(!1),M=ke(U,2),R=M[0],F=M[1],N=j.useState(""),B=ke(N,2),q=B[0],W=B[1],D=j.useState(void 0),G=ke(D,2),H=G[0],Y=G[1],K=j.useRef(0),ie=j.useRef(0),te=j.useRef(!1),se=j.useMemo(function(){return $f(s)},[s]),ue=j.useMemo(function(){return n?s?Rf(H,se,!0):H:$f(l)},[n,s,H,l]),fe=n?H:$f(l);u&&q&&!Wde(q,H)&&(fe=Rf(fe,[Ude(q)],!0)),n&&!H&&s&&!q&&!E&&g==="antd"&&(fe=ue),n&&!u&&s&&g==="mui"&&(fe=Rf(fe,se,!0,!0));var de=V>0,Se=E&&n&&H===void 0&&(o?q:!0),J=Se&&de,re=!J&&ue&&ue.length>0&&w&&w.hasMore&&(w.filter||"")===q,ce=!de&&re,ve=zde(fe,Kx),ee=c!=null,me=!h&&ee?Nf(c,ue):null,Oe=function(){var vt=Vo(Nr.mark(function Fe(){var De,Ge,Qe,ft,Et,It,_r,Ft,Rr,qe,lt,ur,Gr,Yr,mt,dt=arguments;return Nr.wrap(function(Rt){for(;;)switch(Rt.prev=Rt.next){case 0:return De=dt.length>0&&dt[0]!==void 0?dt[0]:null,Ge=dt.length>1&&dt[1]!==void 0?dt[1]:!1,!Ge&&w&&I(void 0),Qe=Ge&&H?H.length:0,ft=Ge&&w||!i&&{pageSize:0},Et=++K.current,Rt.next=8,n.call(p==null?void 0:p.ctx,De,Qe,ft);case 8:if(It=Rt.sent,_r=K.current!=Et,!(_r||!ie.current)){Rt.next=12;break}return Rt.abrupt("return",null);case 12:return Ft=It!=null&&It.values?It:{values:It},Rr=Ft.values,qe=Ft.hasMore,lt=Ft.meta,ur=$f(Rr),Ge?(Yr=Rf(H,ur,!1),Gr=Yr.length>H.length):(Yr=ur,i&&(Gr=Yr.length>0)),mt=qe!=null||lt!=null||Gr!=null?Ff(Ff(Ff(Ff({},Gr!=null?{hasMore:Gr}:{}),qe!=null?{hasMore:qe}:{}),lt!=null?lt:{}),{},{filter:De}):void 0,mt&&I(mt),Rt.abrupt("return",Yr);case 18:case"end":return Rt.stop()}},Fe)}));return function(){return vt.apply(this,arguments)}}(),we=function(){var vt=Vo(Nr.mark(function Fe(){var De,Ge,Qe,ft=arguments;return Nr.wrap(function(It){for(;;)switch(It.prev=It.next){case 0:return De=ft.length>0&&ft[0]!==void 0?ft[0]:null,Ge=ft.length>1&&ft[1]!==void 0?ft[1]:!1,$(function(_r){return _r+1}),F(Ge),It.next=6,Oe(De,Ge);case 6:if(Qe=It.sent,ie.current){It.next=9;break}return It.abrupt("return");case 9:Qe!=null&&Y(Qe),$(function(_r){return _r-1}),F(!1);case 12:case"end":return It.stop()}},Fe)}));return function(){return vt.apply(this,arguments)}}(),Je=j.useCallback(Vde(we,v),[]);j.useEffect(function(){return ie.current++,Se&&V==0&&K.current==0&&Vo(Nr.mark(function vt(){return Nr.wrap(function(De){for(;;)switch(De.prev=De.next){case 0:return De.next=2,we();case 2:case"end":return De.stop()}},vt)}))(),function(){ie.current--}},[Se]);var at=function(){A(!0)},le=function(){var vt=Vo(Nr.mark(function Fe(De){var Ge,Qe;return Nr.wrap(function(Et){for(;;)switch(Et.prev=Et.next){case 0:if(Ge=te.current,Ge?(te.current=!1,h&&A(!1)):A(!1),!(g==="mui"&&!Ge)){Et.next=6;break}return Qe="",Et.next=6,Be(null,Qe,"my-reset");case 6:case"end":return Et.stop()}},Fe)}));return function(De){return vt.apply(this,arguments)}}(),ge=function(Fe){Fe?at():le()},pe=function(Fe){var De=(Fe==null?void 0:Fe.specialValue)||(Fe==null?void 0:Fe.value);return m.includes(De)},Pe=function(){var vt=Vo(Nr.mark(function Fe(De,Ge,Qe){var ft,Et,It,_r,Ft,Rr,qe,lt,ur,Gr,Yr,mt,dt,cr,Rt,jr,tr;return Nr.wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:if(Et=h&&g==="mui"&&Qe==="clear",It=!h&&g==="mui"&&Qe==="clear"&&(De==null?void 0:De.type)==="change",_r=!h&&g==="mui"&&Qe==="clear"&&(De==null?void 0:De.type)!=="change",g==="mui"&&(Qe=Ge,h?Ge=Qe.map(function(be){var _e;return(_e=be==null?void 0:be.value)!==null&&_e!==void 0?_e:be}):Ge=(Ft=(Rr=Qe)===null||Rr===void 0?void 0:Rr.value)!==null&&Ft!==void 0?Ft:Qe),qe=h&&Array.isArray(Qe)&&Qe.map(function(be){return be==null?void 0:be.specialValue}).find(function(be){return!!be})||((ft=Qe)===null||ft===void 0?void 0:ft.specialValue),h&&Ge&&!Array.isArray(Ge)&&(Ge=[].concat(Ce(c||[]),[Ge]),Qe=null),lt=Et&&Ge.length===0&&q&&E||It,!lt){Z.next=9;break}return Z.abrupt("return");case 9:if(ur=h&&Ge.length&&Ge.length>(c||[]).length&&Ge[Ge.length-1]==q&&!Nf(q,H),qe!="LOAD_MORE"){Z.next=17;break}return W(q),te.current=!0,Z.next=15,we(q,!0);case 15:Z.next=37;break;case 17:if(qe!="LOADING_MORE"){Z.next=21;break}te.current=!0,Z.next=37;break;case 21:if(!h){Z.next=31;break}if(Gr=qde(Ge,ue,u),Yr=ke(Gr,2),mt=Yr[0],dt=Yr[1],f(mt,n?dt:void 0),!ur){Z.next=29;break}return Z.next=27,Jx(0);case 27:return Z.next=29,Be(null,"","my-reset");case 29:Z.next=37;break;case 31:if(cr=Bde(Ge,ue,u),Rt=ke(cr,2),jr=Rt[0],tr=Rt[1],f(jr,n?tr:void 0),!(_r&&y)){Z.next=37;break}return Z.next=36,Jx(0);case 36:A(!1);case 37:case"end":return Z.stop()}},Fe)}));return function(De,Ge,Qe){return vt.apply(this,arguments)}}(),Be=function(){var vt=Vo(Nr.mark(function Fe(De,Ge,Qe){var ft,Et,It;return Nr.wrap(function(Ft){for(;;)switch(Ft.prev=Ft.next){case 0:if(ft=g==="mui"&&Qe==="reset",Et=Ge,!(Et===_||Et===b||ft)){Ft.next=4;break}return Ft.abrupt("return");case 4:if(Ge==q){Ft.next=13;break}if(W(Et),It=a&&(o?!!Et:!0),!It){Ft.next=12;break}return Ft.next=10,Je(Et);case 10:Ft.next=13;break;case 12:a&&o&&Y([]);case 13:case"end":return Ft.stop()}},Fe)}));return function(De,Ge,Qe){return vt.apply(this,arguments)}}(),Ne=function(Fe){var De=Ce(Fe);return i&&(ce?De.push({specialValue:"LOAD_MORE",title:_}):R&&De.push({specialValue:"LOADING_MORE",title:b,disabled:!0})),De},ot=function(Fe,De){if(De==null)return null;var Ge=De.value!=null?De.value:De;return Fe.value===Ge},st=function(Fe){return Fe&&Fe.disabled},Ke=function(Fe){var De;if(Fe!=null&&Fe.isCustom)return!0;var Ge=(De=Fe==null?void 0:Fe.value)!==null&&De!==void 0?De:Fe,Qe=Nf(Ge,ue);return(Qe==null?void 0:Qe.isCustom)||!1},Vt=function(Fe){if(Fe==null)return null;var De=Fe.value!=null?Fe:Kx(Nf(Fe,ue));return!De&&Fe.specialValue?Fe.title:!De&&u||!De?Fe.toString():De.title||De.label||De.value.toString()},Ar=g==="mui"?Hde(ve):ve;return{options:Ar,listValues:ue,hasValue:ee,selectedListValue:me,open:E,onOpen:at,onClose:le,onDropdownVisibleChange:ge,onChange:Pe,inputValue:q,onInputChange:Be,canShowLoadMore:ce,isInitialLoading:J,isLoading:de,isLoadingMore:R,isSpecialValue:pe,extendOptions:Ne,getOptionSelected:ot,getOptionDisabled:st,getOptionIsCustom:Ke,getOptionLabel:Vt,aPlaceholder:S}};function Qx(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Xx(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Qx(Object(r),!0).forEach(function(n){oe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Qx(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}const Fo=Xx(Xx({},it),{},{ReactUtils:gue,DragIcon:WP});var sv,Ms,Yde=Fo.moment,Zx=parseInt((sv=mi==null||(Ms=mi.version)===null||Ms===void 0||(Ms=Ms.split("."))===null||Ms===void 0?void 0:Ms[0])!==null&&sv!==void 0?sv:"0");const Kde=function(t){var e=t.value,r=t.setValue,n=t.readonly,i=t.customProps,a=t.dateFormat,o=t.valueFormat,s=t.placeholder,l=function(h){return h&&h.isValid()?h.format(o):void 0},u=function(h){r(l(h))},c=function(h){return j.createElement(Xt,he({size:"small",variant:"standard"},h))},f="@media (pointer: fine), (pointer: none)",d=Zx>=6?{format:a,slotProps:{textField:{size:"small",variant:"standard"},toolbar:{toolbarPlaceholder:n?"":s}}}:{inputFormat:a,renderInput:c,toolbarPlaceholder:n?"":s},p=e?Zx>=6?Yde(e,o):e:null;return j.createElement(Fr,null,j.createElement(ZR,he({desktopModeMediaQuery:f,readOnly:n,disabled:n,value:p,onChange:u},d,i)))};var lv,Vs,Jde=Fo.moment,ew=parseInt((lv=mi==null||(Vs=mi.version)===null||Vs===void 0||(Vs=Vs.split("."))===null||Vs===void 0?void 0:Vs[0])!==null&&lv!==void 0?lv:"0");const Qde=function(t){var e=t.value,r=t.setValue,n=t.use12Hours,i=t.readonly,a=t.placeholder,o=t.dateFormat,s=t.timeFormat,l=t.valueFormat,u=t.customProps,c=function(m){return m&&m.isValid()?m.format(l):void 0},f=function(m){r(c(m))},d=o+" "+s,p=function(m){return j.createElement(Xt,he({size:"small",variant:"standard"},m))},v="@media (pointer: fine), (pointer: none)",h=ew>=6?{format:d,slotProps:{textField:{size:"small",variant:"standard"},toolbar:{toolbarPlaceholder:i?"":a}}}:{inputFormat:d,renderInput:p,toolbarPlaceholder:i?"":a},g=e?ew>=6?Jde(e,l):e:null;return j.createElement(Fr,null,j.createElement(UR,he({desktopModeMediaQuery:v,readOnly:i,disabled:i,ampm:!!n,value:g,onChange:f},h,u)))};var uv,Bs,Xde=Fo.moment,Zde=parseInt((uv=mi==null||(Bs=mi.version)===null||Bs===void 0||(Bs=Bs.split("."))===null||Bs===void 0?void 0:Bs[0])!==null&&uv!==void 0?uv:"0");const epe=function(t){var e=t.value,r=t.setValue,n=t.use12Hours,i=t.readonly,a=t.placeholder,o=t.timeFormat,s=t.valueFormat,l=t.customProps,u=function(y){return y&&y.isValid()?y.format(s):void 0},c=function(y){r(u(y))},f=o.indexOf(":ss")!=-1,d=e?Xde(e,o):null,p=function(y){return j.createElement(Xt,he({size:"small",variant:"standard"},y))},v="@media (pointer: fine), (pointer: none)",h=Zde>=6?{format:o,slotProps:{textField:{size:"small",variant:"standard"},toolbar:{toolbarPlaceholder:i?"":a}}}:{inputFormat:o,renderInput:p,toolbarPlaceholder:i?"":a};return j.createElement(Fr,null,j.createElement(e$,he({desktopModeMediaQuery:v,readOnly:i,disabled:i,ampm:!!n,value:d,onChange:c,views:f?["hours","minutes","seconds"]:["hours","minutes"]},h,l)))};var tw=Fo.ListUtils.mapListValues;const tpe=function(t){var e=t.listValues,r=t.value,n=t.setValue;t.allowCustomValues;var i=t.readonly,a=t.placeholder,o=t.customProps,s=function(){return tw(e,function(p){var v=p.title,h=p.value;return j.createElement(Xr,{key:h,value:h},v)})},l=function(p){p.target.value!==void 0&&n(p.target.value)},u=function(p){return!i&&p==null?a:c(p)},c=function(p){return tw(e,function(v){var h=v.title,g=v.value;return g===p?h:null}).filter(function(v){return v!==null}).shift()},f=r!=null;return j.createElement(Fr,null,j.createElement(zi,he({variant:"standard",autoWidth:!0,displayEmpty:!0,placeholder:i?"":a,onChange:l,value:f?r:"",disabled:i,readOnly:i,renderValue:u,size:"small"},xo(o,["showSearch","input"])),s()))},rpe=function(t){var e=t.value,r=t.setValue;t.config;var n=t.readonly,i=t.min,a=t.max,o=t.step,s=t.placeholder,l=t.customProps,u=function(v){var h=v.target.value;h===""||h===null?h=void 0:h=Number(h),r(h)},c=e==null?"":e,f=X.useMemo(function(){return{readOnly:n}},[n]),d=X.useMemo(function(){return{min:i,max:a,step:o}},[i,a,o]);return j.createElement(Fr,null,j.createElement(Xt,he({variant:"standard",type:"number",value:c,placeholder:n?"":s,InputProps:f,inputProps:d,disabled:n,onChange:u,size:"small"},l)))};var npe=["width"];const ipe=function(t){var e=t.config,r=t.placeholder,n=t.customProps,i=t.value,a=t.setValue,o=t.min,s=t.max,l=t.step,u=t.marks,c=t.readonly,f=e.settings.defaultSliderWidth,d=X.useCallback(function(L,P){a(P)},[a]),p=X.useCallback(function(L){var P=L.target.value;P===""||P===null?P=void 0:P=Number(P),a(P)},[a]),v=X.useCallback(function(L){var P=L.target.value;P===""||P===null?P=void 0:P=Number(P),P<o?a(o):P>s&&a(s)},[a,o,s]),h=n||{},g=h.width,y=ei(h,npe),m=y.input||{},_=y.slider||y,b=typeof i=="number"?i:"",S=typeof i=="number"?i:null,O=X.useMemo(function(){return u?Object.keys(u).map(function(L){return{value:Number(L),label:wt(u[L])==="object"||typeof u[L]>"u"?u[L]:j.createElement("p",null,u[L])}}):!1},[u]),x=X.useMemo(function(){return{readOnly:c}},[c]),E=X.useMemo(function(){return{min:o,max:s,step:l}},[o,s,l]),A=j.createElement(Xt,he({variant:"standard",type:"number",value:b,placeholder:r,InputProps:x,inputProps:E,disabled:c,onChange:p,onBlur:v,size:"small"},m)),C=j.createElement(TE,he({value:S,onChange:d,disabled:c,min:o,max:s,step:l,marks:O,valueLabelDisplay:"auto",size:"small"},_)),k={display:"inline-flex",alignItems:"center",flexWrap:"wrap"},w={marginLeft:"5px"},I={marginLeft:"5px",paddingLeft:"12px",marginBottom:O&&"-16px",width:g||f};return j.createElement(Fr,null,j.createElement("div",{style:k},j.createElement("div",{style:w},A),j.createElement("div",{style:I},C)))};var ape=["width"];const ope=function(t){var e=t.config,r=t.placeholders,n=t.customProps,i=t.value,a=t.setValue,o=t.min,s=t.max,l=t.step,u=t.marks,c=t.readonly,f=t.textSeparators,d=e.settings.defaultSliderWidth;X.useEffect(function(){var $=t.value||[void 0,void 0],U=ke($,2),M=U[0],R=U[1];t.value&&(M==null||R==null)},[]);var p=function(U,M){a(M)},v=function(U){var M=U.target.value;M===""||M==null?M=void 0:M=Number(M);var R=t.value?Ce(t.value):[void 0,void 0];R[0]=M,a(R)},h=function(U){var M=U.target.value;M===""||M==null?M=void 0:M=Number(M);var R=t.value?Ce(t.value):[void 0,void 0];R[1]=M,a(R)},g=function(){i&&(i[0]<o?a([o,i[1]]):i[1]>s&&a([i[0],s]))},y=n||{},m=y.width,_=ei(y,ape),b=_.input||{},S=_.slider||_,O=u?Object.keys(u).map(function($){return{value:Number($),label:wt(u[$])==="object"||typeof u[$]>"u"?u[$]:j.createElement("p",null,u[$])}}):!1,x=i?Ce(i):[void 0,void 0],E=ke(x,2),A=E[0],C=E[1];A==null&&(A="",x[0]=0),C==null&&(C="",x[1]=0);var k=j.createElement(Xt,he({variant:"standard",type:"number",value:A,placeholder:r[0],InputProps:{readOnly:c},inputProps:{min:o,max:s,step:l},disabled:c,onChange:v,onBlur:g,size:"small"},b)),w=j.createElement(Xt,he({variant:"standard",type:"number",value:C,placeholder:r[1],InputProps:{readOnly:c},inputProps:{min:o,max:s,step:l},disabled:c,onChange:h,onBlur:g,size:"small"},b)),I=j.createElement(TE,he({value:x,onChange:p,disabled:c,min:o,max:s,step:l,marks:O,valueLabelDisplay:"auto",size:"small"},S)),L={display:"inline-flex",flexWrap:"wrap"},P={marginLeft:"5px"},V={marginLeft:"5px",paddingLeft:"12px",marginBottom:O&&"-16px",width:m||d};return j.createElement(Fr,null,j.createElement("div",{style:L},j.createElement("div",{style:P},k),j.createElement("div",{className:"widget--sep"},j.createElement("span",null,f[1])),j.createElement("div",{style:P},w),j.createElement("div",{style:V},I)))},spe=function(t){var e=t.customProps,r=t.value,n=t.setValue,i=t.labelYes,a=t.labelNo,o=t.readonly,s=function(){n(!r)};return j.createElement(Fr,null,j.createElement(wn,{component:"div"},j.createElement(oo,{component:"label",container:!0,alignItems:"center",spacing:0},j.createElement(oo,{item:!0,component:"span"},a),j.createElement(oo,{item:!0,component:"span"},j.createElement(ls,he({checked:!!r,onChange:s,disabled:o},e))),j.createElement(oo,{item:!0,component:"span"},i))))};var rw=Fo.ListUtils.mapListValues;const lpe=function(t){var e=t.listValues,r=t.value,n=t.setValue;t.allowCustomValues;var i=t.readonly,a=t.placeholder,o=t.customProps,s=function(d){return rw(e,function(p){var v=p.title,h=p.value;return j.createElement(Xr,{key:h,value:h},j.createElement(ji,{checked:d.indexOf(h)>-1}),j.createElement(Xg,{primary:v}))})},l=function(d){if(!i&&!d.length)return a;var p=rw(e,function(v){var h=v.title,g=v.value;return d.indexOf(g)>-1?h:null}).filter(function(v){return v!==null});return p.join(", ")},u=r!=null&&r.length>0,c=function(d){d.target.value!==void 0&&n(d.target.value)};return j.createElement(Fr,null,j.createElement(zi,he({multiple:!0,variant:"standard",autoWidth:!0,displayEmpty:!0,label:i?"":a,onChange:c,value:u?r:[],disabled:i,readOnly:i,renderValue:l,size:"small"},xo(o,["showSearch","input","showCheckboxes"])),s(u?r:[])))};var H0={},upe=Dr;Object.defineProperty(H0,"__esModule",{value:!0});var z0=H0.default=void 0,cpe=upe(Mr()),fpe=T;z0=H0.default=(0,cpe.default)((0,fpe.jsx)("path",{d:"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}),"Check");var dpe=["width"];function nw(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Df(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?nw(Object(r),!0).forEach(function(n){oe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):nw(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var ppe=Gde,hpe=[];const qL=function(t){var e=t.allowCustomValues,r=t.multiple,n=t.disableClearable,i=t.value,a=t.customProps,o=t.readonly,s=t.config,l=t.filterOptionsConfig,u=t.errorText,c=t.tooltipText,f=t.isFieldAutocomplete,d=X.useCallback(function(ve){var ee=s.settings.listKeysForSearch,me=ee.map(function(Oe){return typeof ve[Oe]=="string"?ve[Oe]:""}).join("\0");return me},[s]),p={stringify:d},v=wE(l||p),h=ppe(t,{debounceTimeout:100,multiple:r,uif:"mui",isFieldAutocomplete:f}),g=h.open,y=h.onOpen,m=h.onClose,_=h.onChange,b=h.onInputChange,S=h.inputValue,O=h.options,x=h.isInitialLoading,E=h.isLoading,A=h.aPlaceholder,C=h.extendOptions,k=h.getOptionDisabled,w=h.getOptionIsCustom,I=h.getOptionLabel,L=h.selectedListValue,P=s.settings,V=P.defaultSelectWidth,$=P.defaultSearchWidth,U=a||{},M=U.width,R=ei(U,dpe),F=R.input||{};F.width,F=xo(F,["width"]);var N=xo(R,["showSearch","showCheckboxes"]),B=!1,q=M||V,W={width:r?void 0:q,minWidth:q},D=o?"":A,G=D||s.settings.fieldPlaceholder,H=i!=null,Y=H?i:r?hpe:null,K=function(ee,me){var Oe=v(ee,me),we=C(Oe);return we},ie=function(ee){return ee!=null&&ee.group?JSON.stringify(ee.group):ee==null?void 0:ee.groupTitle},te=Vr(),se=function(ee){var me,Oe,we,Je=!r&&!g,at=(me=(Oe=L==null?void 0:L.title)!==null&&Oe!==void 0?Oe:Y==null?void 0:Y.toString())!==null&&me!==void 0?me:"",le=r&&!g,ge=Je?at:le?"":(we=S!=null?S:Y==null?void 0:Y.toString())!==null&&we!==void 0?we:"";return j.createElement(Xt,he({variant:"standard"},ee,{inputProps:Df(Df({"aria-label":G},ee.inputProps),{},{value:ge}),InputProps:Df(Df({},ee.InputProps),{},{readOnly:o,endAdornment:j.createElement(j.Fragment,null,E?j.createElement(jR,{color:"inherit",size:20}):null,ee.InputProps.endAdornment)}),disabled:o,placeholder:D,error:!!u},F))},ue=function(ee){var me=ee.groupMaybeJson;if(!me)return null;var Oe={label:me};if(typeof me=="string"&&me[0]==="{")try{Oe=JSON.parse(me)}catch(at){}var we=Oe.label;we&&Oe.tooltip&&(we=j.createElement(ia,{title:Oe.tooltip,placement:"left-start"},j.createElement("span",null,we)));var Je=j.createElement("div",{style:{position:"sticky",top:"-8px",padding:"4px 10px",color:te.palette.primary.main,backgroundColor:te.palette.background.default}},we);return Je},fe=function(ee){var me=ee.children;return j.createElement(j.Fragment,null,me)},de=function(ee){var me=j.createElement("div",{key:ee.key},j.createElement(ue,{groupMaybeJson:ee.group}),j.createElement(fe,null,ee.children));return me},Se=function(ee,me){return ee.map(function(Oe,we){return j.createElement(fE,he({key:Oe.value,label:I(Oe),size:"small",variant:w(Oe)?"outlined":"filled"},me({index:we})))})},J=function(ee,me){return(ee==null?void 0:ee.value)==me},re=function(ee,me){var Oe=me.title,we=me.renderTitle,Je=me.value,at=me.isHidden,le=me.tooltip,ge=me.group,pe=me.groupTitle,Pe=pe||ge,Be=r?(i||[]).includes(Je):i==Je,Ne=w(me)?"customSelectOption":void 0,ot=!f&&Pe?"  ":"",st=we||ot+Oe,Ke=j.createElement("span",{className:Ne},st);if(le&&(Ke=j.createElement(ia,{title:le,placement:"left-start"},Ke)),at)return null;if(me.specialValue)return j.createElement("div",ee,st);if(r){var Vt=Be?j.createElement(j.Fragment,null,j.createElement(dE,null,j.createElement(z0,null)),Ke):j.createElement(Xg,{inset:!0},Ke);return j.createElement(Xr,he({},ee,{size:"small",selected:Be}),Vt)}else return j.createElement("div",ee,Ke)},ce=j.createElement(D$,he({disableClearable:n,disableCloseOnSelect:r,fullWidth:B,multiple:r,style:W,freeSolo:e,loading:x,open:g,onOpen:y,onClose:m,inputValue:S,onInputChange:b,label:D,onChange:_,value:Y,disabled:o,readOnly:o,options:O,groupBy:ie,getOptionLabel:I,getOptionDisabled:k,renderInput:se,renderGroup:de,renderTags:Se,renderOption:re,filterOptions:K,isOptionEqualToValue:J,size:"small"},N));return c&&(ce=j.createElement(ia,{title:g?null:c,placement:"top-start"},ce)),ce=j.createElement(Fr,{fullWidth:B},ce),ce},vpe=function(t){var e=t.items,r=t.setField,n=t.selectedKey,i=t.readonly,a=t.placeholder,o=t.errorText,s=t.selectedLabel;t.selectedOpts;var l=t.selectedAltLabel,u=t.selectedFullLabel,c=X.useState(!1),f=ke(c,2),d=f[0],p=f[1],v=X.useCallback(function(){p(!0)},[p]),h=X.useCallback(function(){p(!1)},[p]),g=function O(x){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Object.keys(x).map(function(A){var C=x[A],k=C.items,w=C.path,I=C.label,L=C.disabled,P=C.matchesType,V=C.tooltip,$="  ".repeat(E),U=j.createElement("span",null,$&&j.createElement("span",null,$),P?j.createElement("b",null,I):I);return V&&(U=j.createElement(ia,{title:V,placement:"left-start"},U)),k?[j.createElement(Qg,{disabled:L,key:w,disableSticky:!0},U),O(k,E+1)]:j.createElement(Xr,{disabled:L,key:w,value:w},U)})},y=X.useCallback(function(O){O.target.value!==void 0&&r(O.target.value)},[r]),m=X.useCallback(function(O){if(!i&&!O)return a;var x=function A(C){return C.map(function(k){return k.items?A(k.items):k.path===O?k.label:null})},E=x(e).filter(function(A){return Array.isArray(A)?A.some(function(C){return C!==null}):A!==null}).pop();return E},[i,a,e]),_=n!=null,b=l||u;b==s&&(b=null);var S=j.createElement(zi,{error:!!o,variant:"standard",autoWidth:!0,displayEmpty:!0,placeholder:a,onChange:y,value:_?n:"",disabled:i,renderValue:m,size:"small",open:d,onOpen:v,onClose:h},g(e));return b&&(S=j.createElement(ia,{title:d?null:b},S)),S=j.createElement(Fr,null,S),S};var gpe=["items","selectedKey","setField","isValueField","selectedLabel","selectedOpts","selectedAltLabel","selectedFullLabel"];function iw(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Hd(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?iw(Object(r),!0).forEach(function(n){oe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):iw(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var mpe={key:"_value2",path:"value",label:"title",altLabel:"_altLabel",tooltip:"tooltip",grouplabel:"groupTitle"},ype=function t(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return e.map(function(n){var i=n.items,a=n.path,o=n.key,s=n.label,l=n.altLabel,u=n.disabled,c=n.grouplabel,f=n.group,d=n.matchesType,p=n.tooltip,v="  ".repeat(r);return i?t(i,r+1):{title:s,renderTitle:d?j.createElement("b",null,v+s):v+s,value:a,disabled:u,groupTitle:r>0?v+c:null,group:r>0?Hd(Hd({},f),{},{label:v+f.label}):null,tooltip:p,_value2:o,_altLabel:l}}).flat(1/0)},bpe=function(e,r){var n=e.items,i=e.selectedKey,a=e.setField,o=e.isValueField,s=e.selectedLabel;e.selectedOpts;var l=e.selectedAltLabel,u=e.selectedFullLabel,c=ei(e,gpe),f=l||u;f==s&&(f=null);var d=ype(n),p=i,v=function(y,m){if(!(!y&&!o))return a(y)},h={stringify:X.useCallback(function(g){var y=r.settings.fieldItemKeysForSearch.map(function(_){return mpe[_]}),m=y.map(function(_){return typeof g[_]=="string"?g[_]:""}).join("\0");return m},[r])};return Hd(Hd({},c),{},{tooltipText:f,listValues:d,setValue:v,filterOptionsConfig:h,allowCustomValues:!1,multiple:!1,disableClearable:!o,value:p,isFieldAutocomplete:!0})};const _pe=function(t){return j.createElement(qL,bpe(t,t.config))};var U0={},Spe=Dr;Object.defineProperty(U0,"__esModule",{value:!0});var HL=U0.default=void 0,Ope=Spe(Mr()),xpe=T;HL=U0.default=(0,Ope.default)((0,xpe.jsx)("path",{d:"M20 9H4v2h16zM4 15h16v-2H4z"}),"DragHandle");var wpe=Fo.DragIcon,Epe={delGroup:j.createElement(Nu,null),delRuleGroup:j.createElement(Nu,null),delRule:j.createElement(Nu,null),addRuleGroup:j.createElement(Ho,null),addRuleGroupExt:j.createElement(Ho,null),addRule:j.createElement(Ho,null),addGroup:j.createElement(Ho,null),drag:j.createElement(HL,null)},Cpe={drag:"primary"};const Tpe=function(t){var e=t.type,r=t.readonly,n=Epe[e]||null;return!n&&e==="drag"?j.createElement(wpe,null):e==="drag"?j.createElement(EE,{size:"small",disabled:r,color:Cpe[e]},n):n};var kpe={addRuleGroup:!0,addRuleGroupExt:!0,delGroup:!0,delRuleGroup:!0,delRule:!0},aw={addRule:"primary",addGroup:"primary",delGroup:"secondary",delRuleGroup:"secondary",delRule:"secondary"};const Ipe=X.memo(function(t){var e=t.type,r=t.label,n=t.onClick,i=t.readonly,a=t.renderIcon,o={type:e,readonly:i},s=a==null?void 0:a(o);return!r||kpe[e]?j.createElement(bt,{size:"small",disabled:i,onClick:n,color:aw[e],"aria-label":r},s):j.createElement(Ht,{size:"small",disabled:i,onClick:n,color:aw[e],startIcon:s},r)}),Ape=function(t){var e=t.children;return t.config,j.createElement(j.Fragment,null,e)};var jpe=j.memo(function(t){var e=t.conjKey,r=t.id;t.name;var n=t.label,i=t.checked,a=t.setConjunction,o=t.readonly,s=t.disabled,l=X.useCallback(function(){a(e)},[e,a]),u=a.isDummyFn?"__dummy":"";return(o||s)&&!i?null:j.createElement(Ht,{key:r+u,id:r+u,color:i?"primary":"inherit",value:e,onClick:l,disabled:o||s},n)}),Ppe=j.memo(function(t){var e=t.id,r=t.not,n=t.setNot,i=t.conjunctionOptions,a=t.setConjunction,o=t.disabled,s=t.readonly,l=t.config,u=t.showNot,c=t.notLabel,f=Object.keys(i).length,d=o,p=l.settings.forceShowConj,v=p||f>1&&!d,h=function(){return Object.keys(i).map(function(_){var b=i[_],S=b.id,O=b.name,x=b.label,E=b.checked,A={conjKey:_,id:S,name:O,label:x,checked:E,setConjunction:a,readonly:s,disabled:o};return j.createElement(jpe,he({key:S},A))})},g=X.useCallback(function(){n(!r)},[r,n]),y=function(){return s&&!r?null:j.createElement(Ht,{key:e,id:e+"__not",color:r?"error":"inherit",onClick:g,disabled:s},c||"NOT")};return j.createElement(Fr,null,j.createElement(H$,{disableElevation:!0,variant:"contained",size:"small",disabled:s},u&&y(),v&&h()))}),W0={},Lpe=Dr;Object.defineProperty(W0,"__esModule",{value:!0});var zL=W0.default=void 0,Fpe=Lpe(Mr()),Rpe=T;zL=W0.default=(0,Fpe.default)((0,Rpe.jsx)("path",{d:"M12 17c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m6-9h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6h1.9c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2m0 12H6V10h12z"}),"LockOpen");var G0={},$pe=Dr;Object.defineProperty(G0,"__esModule",{value:!0});var UL=G0.default=void 0,Npe=$pe(Mr()),Dpe=T;UL=G0.default=(0,Npe.default)((0,Dpe.jsx)("path",{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2m-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2m3.1-9H8.9V6c0-1.71 1.39-3.1 3.1-3.1 1.71 0 3.1 1.39 3.1 3.1z"}),"Lock");const Mpe=function(t){var e=t.value,r=t.setValue,n=t.label,i=t.checkedLabel,a=t.hideLabel,o=t.id,s=t.config,l=t.type;s.settings.renderSize;var u=function(h){return r(h.target.checked)},c=function(){return r(!e)},f=l,d=e&&i||n,p=e?j.createElement(UL,null):j.createElement(zL,null);return l=="lock"?a?j.createElement(bt,{key:o+f,onClick:c,size:"small"},p):j.createElement(Ht,{key:o+f,onClick:c,size:"small",startIcon:p},d):j.createElement(Pa,{control:j.createElement(ls,{checked:!!e,size:"small",onChange:u}),label:d})};var Y0={},Vpe=Dr;Object.defineProperty(Y0,"__esModule",{value:!0});var WL=Y0.default=void 0,Bpe=Vpe(Mr()),qpe=T;WL=Y0.default=(0,Bpe.default)((0,qpe.jsx)("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMoreSharp");var Hpe=j.memo(function(t){var e=t.valueSrc,r=t.srcKey,n=t.handleChange,i=t.info,a=e==r||!e&&r=="value",o=X.useCallback(function(s){return n(s,r)},[n,r]);return j.createElement(Xr,{value:r,selected:a,onClick:o},!a&&j.createElement(Xg,{inset:!0},i.label),a&&j.createElement(j.Fragment,null,j.createElement(dE,null,j.createElement(z0,null)),i.label))}),zpe=j.memo(function(t){var e=t.valueSources,r=t.valueSrc,n=t.title,i=t.setValueSrc;t.readonly;var a=j.useState(null),o=ke(a,2),s=o[0],l=o[1],u=X.useCallback(function(h){l(h.currentTarget)},[l]),c=X.useCallback(function(){l(null)},[l]),f=X.useCallback(function(h){s?c():u(h)},[c,u,s]),d=X.useCallback(function(h,g){i(g),c()},[c,i]),p=function(g){return g.map(function(y){var m=ke(y,2),_=m[0],b=m[1];return j.createElement(Hpe,{key:_,valueSrc:r,srcKey:_,handleChange:d,info:b})})},v=!!s;return j.createElement("div",null,j.createElement(bt,{size:"small",onClick:f},j.createElement(WL,null)),j.createElement(dR,{anchorEl:s,open:v,onClose:c},j.createElement(Fr,{component:"fieldset",sx:{p:0}},j.createElement(vE,{component:"legend",sx:{p:2,pt:0,pb:1}},n),p(e))))});const Upe=function(t){var e=t.onOk,r=t.okText,n=t.cancelText,i=t.title,a=t.confirmFn;a({description:i||"Are you sure?",title:null,confirmationText:r||"Ok",cancellationText:n||"Cancel"}).then(e).catch(function(){})};var cv,qs,Wpe=parseInt((cv=mi==null||(qs=mi.version)===null||qs===void 0||(qs=qs.split("."))===null||qs===void 0?void 0:qs[0])!==null&&cv!==void 0?cv:"0"),Gpe=function(e){var r=e.config,n=e.children,i=r.settings.theme||{},a=r.settings.locale||{},o=a.moment,s=i.mui,l=a.mui,u=aE(s,l,{palette:{}}),c=Wpe>=6?{locale:o}:{adapterLocale:o},f=j.createElement("div",{className:"mui"},n),d=j.createElement(WR,he({dateAdapter:lK},c),j.createElement(nW,null,f)),p=u?j.createElement(uE,{theme:u},d):d;return p};const Ype={MuiTextWidget:IK,MuiTextAreaWidget:AK,MuiDateWidget:Kde,MuiDateTimeWidget:Qde,MuiTimeWidget:epe,MuiSelectWidget:tpe,MuiNumberWidget:rpe,MuiSliderWidget:ipe,MuiRangeWidget:ope,MuiBooleanWidget:spe,MuiMultiSelectWidget:lpe,MuiAutocompleteWidget:qL,MuiFieldSelect:vpe,MuiFieldAutocomplete:_pe,MuiIcon:Tpe,MuiButton:Ipe,MuiButtonGroup:Ape,MuiConjs:Ppe,MuiSwitch:Mpe,MuiValueSources:zpe,MuiConfirm:Upe,MuiUseConfirm:oW,MuiProvider:Gpe};function ow(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ct(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ow(Object(r),!0).forEach(function(n){oe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ow(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var Kpe=Ct(Ct({},ln.settings),{},{renderField:function(e,r){var n,i=r.RCE,a=r.W,o=a.MuiFieldAutocomplete,s=a.MuiFieldSelect;return e!=null&&(n=e.customProps)!==null&&n!==void 0&&n.showSearch?i(o,e):i(s,e)},renderOperator:function(e,r){var n,i=r.RCE,a=r.W,o=a.MuiFieldAutocomplete,s=a.MuiFieldSelect;return e!=null&&(n=e.customProps)!==null&&n!==void 0&&n.showSearch?i(o,e):i(s,e)},renderFunc:function(e,r){var n=r.RCE,i=r.W.MuiFieldSelect;return n(i,e)},renderConjs:function(e,r){var n=r.RCE,i=r.W.MuiConjs;return n(i,e)},renderSwitch:function(e,r){var n=r.RCE,i=r.W.MuiSwitch;return n(i,e)},renderButton:function(e,r){var n=r.RCE,i=r.W.MuiButton;return n(i,e)},renderIcon:function(e,r){var n=r.RCE,i=r.W.MuiIcon;return n(i,e)},renderButtonGroup:function(e,r){var n=r.RCE,i=r.W.MuiButtonGroup;return n(i,e)},renderValueSources:function(e,r){var n=r.RCE,i=r.W.MuiValueSources;return n(i,e)},renderFieldSources:function(e,r){var n=r.RCE,i=r.W.MuiValueSources;return n(i,e)},renderProvider:function(e,r){var n=r.RCE,i=r.W.MuiProvider;return n(i,e)},renderConfirm:function(e,r){var n=r.W.MuiConfirm;return n(e)},useConfirm:function(e){var r=e.W.MuiUseConfirm;return r()}}),Jpe=Ct(Ct({},ln.widgets),{},{text:Ct(Ct({},ln.widgets.text),{},{factory:function(e,r){var n=r.RCE,i=r.W.MuiTextWidget;return n(i,e)}}),textarea:Ct(Ct({},ln.widgets.textarea),{},{factory:function(e,r){var n=r.RCE,i=r.W.MuiTextAreaWidget;return n(i,e)}}),number:Ct(Ct({},ln.widgets.number),{},{factory:function(e,r){var n=r.RCE,i=r.W.MuiNumberWidget;return n(i,e)}}),multiselect:Ct(Ct({},ln.widgets.multiselect),{},{factory:function(e,r){var n=r.RCE,i=r.W,a=i.MuiAutocompleteWidget,o=i.MuiMultiSelectWidget;return e.asyncFetch||e.showSearch?n(a,Ct(Ct({},e),{},{multiple:!0})):n(o,e)}}),select:Ct(Ct({},ln.widgets.select),{},{factory:function(e,r){var n=r.RCE,i=r.W,a=i.MuiAutocompleteWidget,o=i.MuiSelectWidget;return e.asyncFetch||e.showSearch?n(a,e):n(o,e)}}),slider:Ct(Ct({},ln.widgets.slider),{},{factory:function(e,r){var n=r.RCE,i=r.W.MuiSliderWidget;return n(i,e)}}),boolean:Ct(Ct({},ln.widgets.boolean),{},{factory:function(e,r){var n=r.RCE,i=r.W.MuiBooleanWidget;return n(i,e)}}),date:Ct(Ct({},ln.widgets.date),{},{factory:function(e,r){var n=r.RCE,i=r.W.MuiDateWidget;return n(i,e)}}),time:Ct(Ct({},ln.widgets.time),{},{factory:function(e,r){var n=r.RCE,i=r.W.MuiTimeWidget;return n(i,e)}}),datetime:Ct(Ct({},ln.widgets.datetime),{},{factory:function(e,r){var n=r.RCE,i=r.W.MuiDateTimeWidget;return n(i,e)}}),rangeslider:Ct(Ct({},ln.widgets.rangeslider),{},{factory:function(e,r){var n=r.RCE,i=r.W.MuiRangeWidget;return n(i,e)}})}),Qpe=Ct({},ln.types),Xpe=Ct(Ct({},ln.ctx),{},{W:Ct(Ct({},ln.ctx.W),Ype)}),Fg=Ct(Ct({},ln),{},{ctx:Xpe,types:Qpe,widgets:Jpe,settings:Kpe});Fg=Fo.ConfigMixins.addMixins(Fg,["rangeslider"]);const GL=Fg,qt=GL,ir=t=>'<span class="logicField">'+t+"</span>",Br=t=>'<span class="logicOp">'+t+"</span>",Jt=(t,e)=>'<span class="logicValue">'+(e=="text"?'"'+t+'"':t)+"</span>",Zpe={AND:qt.conjunctions.AND,OR:qt.conjunctions.OR},ehe={...qt.operators,less:{...qt.operators.less,formatOp:(t,e,r,n,i,a,o,s,l)=>"".concat(ir(t)," ").concat(Br("<")," ").concat(Jt(r,i))},less_or_equal:{...qt.operators.less_or_equal,formatOp:(t,e,r,n,i,a,o,s,l)=>"".concat(ir(t)," ").concat(Br("<=")," ").concat(Jt(r,i))},greater:{...qt.operators.greater,formatOp:(t,e,r,n,i,a,o,s,l)=>"".concat(ir(t)," ").concat(Br(">")," ").concat(Jt(r,i))},greater_or_equal:{...qt.operators.greater_or_equal,formatOp:(t,e,r,n,i,a,o,s,l)=>"".concat(ir(t)," ").concat(Br(">=")," ").concat(Jt(r,i))},equal:{...qt.operators.equal,label:"Equals",jsonLogic:"==",formatOp:(t,e,r,n,i,a,o,s,l)=>{const u=s?"equals":a.label;return"".concat(ir(t)," ").concat(Br(u)," ").concat(Jt(r,i))}},not_equal:{...qt.operators.not_equal,label:"Not Equals",jsonLogic:"!=",formatOp:(t,e,r,n,i,a,o,s,l)=>{const u=s?"not equals":a.label;return"".concat(ir(t)," ").concat(Br(u)," ").concat(Jt(r,i))}},starts_with:{...qt.operators.starts_with,jsonLogic:"startsWith",formatOp:(t,e,r,n,i,a,o,s,l)=>{const u=s?"starts with":a.label;return"".concat(ir(t)," ").concat(Br(u)," ").concat(Jt(r,i))}},ends_with:{...qt.operators.ends_with,jsonLogic:"endsWith",formatOp:(t,e,r,n,i,a,o,s,l)=>{const u=s?"ends with":a.label;return"".concat(ir(t)," ").concat(Br(u)," ").concat(Jt(r,i))}},between:{...qt.operators.between,label:"Between",jsonLogic:"between",formatOp:(t,e,r,n,i,a,o,s)=>{let l=r.first(),u=r.get(1);return s?"".concat(ir(t)," ").concat(Br("between")," ").concat(Jt(l,i)," ").concat(Br("and")," ").concat(Jt(u,i)):"".concat(t," >= ").concat(l," && ").concat(t," <= ").concat(u)}},not_between:{...qt.operators.not_between,label:"Not Between",jsonLogic:"not_between",formatOp:(t,e,r,n,i,a,o,s)=>{let l=r.first(),u=r.get(1);return s?"".concat(ir(t)," ").concat(Br("not between")," ").concat(Jt(l,i)," ").concat(Br("and")," ").concat(Jt(u,i)):"".concat(t," >= ").concat(l," && ").concat(t," <= ").concat(u)}},like:{...qt.operators.like,label:"Contains",jsonLogic:"contains",_jsonLogicIsRevArgs:!1,formatOp:(t,e,r,n,i,a,o,s,l)=>{const u=s?"contains":a.label;return"".concat(ir(t)," ").concat(Br(u)," ").concat(Jt(r,i))}},not_like:{...qt.operators.not_like,label:"Not Contains",jsonLogic:"not_contains",formatOp:(t,e,r,n,i,a,o,s,l)=>{const u=s?"does not containends with":a.label;return"".concat(ir(t)," ").concat(Br(u)," ").concat(Jt(r,i))}},select_any_in:{...qt.operators.select_any_in,label:"Any In",jsonLogic:"in",formatOp:(t,e,r,n,i,a,o,s)=>{let l=r.join(", ");return"".concat(ir(t)," ").concat(Br("in")," (").concat(Jt(l,""),")")}},select_not_any_in:{...qt.operators.select_not_any_in,label:"None In",jsonLogic:"not_in",formatOp:(t,e,r,n,i,a,o,s)=>{let l=r.join(", ");return"".concat(ir(t)," ").concat(Br("not in")," (").concat(Jt(l,""),")")}},multiselect_equals:{...qt.operators.multiselect_equals,label:"Any In",jsonLogic:"any_in",formatOp:(t,e,r,n,i,a,o,s)=>{let l=r.join(", ");return"".concat(Br("Any of")," (").concat(Jt(l,""),") in ").concat(ir(t)," ").concat(Br("is selected"))}},multiselect_not_equals:{...qt.operators.multiselect_not_equals,label:"None In",jsonLogic:"none_in",formatOp:(t,e,r,n,i,a,o,s)=>{let l=r.join(", ");return"".concat(Br("None of")," (").concat(Jt(l,""),") in ").concat(ir(t)," ").concat(Br("is selected"))}},is_relevant:{label:"Is Displayed",jsonLogic:"relevance",cardinality:0,formatOp:(t,e,r,n,i,a,o,s)=>"".concat(ir(t)," ").concat(Jt("is shown"))},is_not_relevant:{label:"Is Hidden",jsonLogic:"not_relevance",cardinality:0,formatOp:(t,e,r,n,i,a,o,s)=>"".concat(ir(t)," ").concat(Jt("is not shown"))},is_valid:{label:"Is Valid",jsonLogic:"validity",cardinality:0,formatOp:(t,e,r,n,i,a,o,s)=>"".concat(ir(t)," ").concat(Jt("is valid"))},is_not_valid:{label:"Is Not Valid",jsonLogic:"not_validity",cardinality:0,formatOp:(t,e,r,n,i,a,o,s)=>"".concat(ir(t)," ").concat(Jt("is not valid"))},is_void:{cardinality:0,label:"Is Empty",jsonLogic:"is_void",formatOp:(t,e,r,n,i,a,o,s)=>"".concat(ir(t)," ").concat(Jt("is empty"))},is_online:{cardinality:0,label:"Is Online",jsonLogic:"is_online",formatOp:(t,e,r,n,i,a,o,s)=>"".concat(ir(t)," ").concat(Jt("is online"))},is_offline:{cardinality:0,label:"Is Offline",jsonLogic:"is_offline",formatOp:(t,e,r,n,i,a,o,s)=>"".concat(ir(t)," ").concat(Jt("is Offline"))},is_not_void:{cardinality:0,label:"Is not Empty",jsonLogic:"is_not_void",formatOp:(t,e,r,n,i,a,o,s)=>"".concat(ir(t)," ").concat(Jt("is not empty"))},is_file_void:{cardinality:0,label:"Is Empty",jsonLogic:"is_file_void",formatOp:(t,e,r,n,i,a,o,s)=>"".concat(ir(t)," ").concat(Jt("is empty"))},is_file_not_void:{cardinality:0,label:"Is not Empty",jsonLogic:"is_file_not_void",formatOp:(t,e,r,n,i,a,o,s)=>"".concat(ir(t)," ").concat(Jt("is not empty"))}},the={...qt.widgets,text:{...qt.widgets.text},slider:{...qt.widgets.slider,customProps:{width:"300px"}},rangeslider:{...qt.widgets.rangeslider,customProps:{width:"300px"}},date:{...qt.widgets.date,dateFormat:"DD.MM.YYYY",valueFormat:"YYYY-MM-DD"},time:{...qt.widgets.time,timeFormat:"HH:mm",valueFormat:"HH:mm:ss"},datetime:{...qt.widgets.datetime,timeFormat:"HH:mm",dateFormat:"DD.MM.YYYY",valueFormat:"YYYY-MM-DD HH:mm:ss"},func:{...qt.widgets.func,customProps:{showSearch:!0}},treeselect:{...qt.widgets.treeselect,customProps:{showSearch:!0}}},rhe={...qt.types,boolean:PR(qt.types.boolean,{widgets:{boolean:{widgetProps:{hideOperator:!0,operatorInlineLabel:"is"}}}})},nhe={valueLabel:"Value",valuePlaceholder:"Value",fieldLabel:"Field",operatorLabel:"Operator",fieldPlaceholder:"Select field",operatorPlaceholder:"Select operator",deleteLabel:null,addGroupLabel:"Add group",addRuleLabel:"Add rule",addSubRuleLabel:"Add sub rule",delGroupLabel:null,notLabel:"Not",valueSourcesPopupTitle:"Select value source",removeRuleConfirmOptions:{title:"Are you sure delete this rule?",okText:"Yes",okType:"danger"},removeGroupConfirmOptions:{title:"Are you sure delete this group?",okText:"Yes",okType:"danger"}},ihe={...qt.settings,...nhe,valueSourcesInfo:{value:{label:"Value"},field:{label:"Field",widget:"field"},func:{label:"Function",widget:"func"}},canReorder:!1,showNot:!1,maxNesting:1,canLeaveEmptyGroup:!1},ahe={},ohe={ctx:GL.ctx,conjunctions:Zpe,operators:ehe,widgets:the,types:rhe,settings:ihe,funcs:ahe};function she(t){const{jsonLogicFormat:e,queryString:r,loadTree:n,uuid:i,loadFromJsonLogic:a,checkTree:o}=Fo,s={...ohe,fields:t.fields},l=t.logic?o(a(t.logic,s),s):n({id:i(),type:"group"}),[u,c]=X.useState(l),[f,d]=X.useState(r(u,s,!0)),p=g=>T.jsx("div",{jey:"builder",className:"query-builder-container",children:T.jsx("div",{className:"query-builder",children:T.jsx(Kfe,{...g})})}),v=g=>{c(g)},h=()=>{const{logic:g,errors:y}=e(u,s);d(r(u,s,!0)),t.onChange(g)};return T.jsxs(T.Fragment,{children:[T.jsxs("div",{className:"query-builder-result",children:[t.logic&&f?T.jsx("pre",{className:"condition-human-text",children:pR(Ai(f),50)}):T.jsx("pre",{className:"condition-human-text",children:t.t("no_condition")}),T.jsx("div",{className:"icon-container",children:T.jsx(bt,{onClick:()=>t.onDialogStateChanged(!0),children:T.jsx(w2,{})})})]},"result"),T.jsxs(Kg,{fullScreen:!0,sx:{margin:"200px"},open:t.dialogOpen,onClose:()=>t.onDialogStateChanged(!1),"aria-labelledby":"alert-dialog-title-logic-builder","aria-describedby":"alert-dialog-description",children:[T.jsx(Gg,{id:"alert-dialog-title-logic-builder",children:t.title}),T.jsx($u,{children:T.jsx(MP,{...s,value:u,onChange:v,renderBuilder:p})}),T.jsx(Yg,{children:T.jsx(Ht,{onClick:()=>{t.onDialogStateChanged(!1),h()},autoFocus:!0,variant:"contained",children:"Agree"})})]})]})}const lhe=(t,e,r,n,i)=>{let a=wC(t,e),o={mode:{label:"Mode",type:"text",valueSources:["value"],operators:["is_offline","is_online"]},survey_lang:{label:"Language",type:"select",valueSources:["value"],operators:["select_any_in","select_not_any_in"],fieldSettings:{listValues:i}}};return a.forEach(s=>{r[s]&&(os(s)||Hi(s))&&(o={...o,...uhe(s,r[s],r,n)})}),o},uhe=(t,e,r,n)=>{var a,o,s,l,u,c,f,d,p,v,h,g,y,m,_,b;const i=t+". "+Ai(((o=(a=e.content)==null?void 0:a.label)==null?void 0:o[n])||"");if(Hi(t))return{[t]:{label:i,type:"text",valueSources:["value"],operators:["is_relevant","is_not_relevant","is_valid","is_not_valid"]}};switch(e.type){case"text":case"barcode":case"email":return{[t]:{label:i,type:"text",valueSources:["value"],operators:["is_relevant","is_not_relevant","is_valid","is_not_valid","is_void","is_not_void","equal","not_equal","like","not_like","starts_with","ends_with"]}};case"paragraph":return{[t]:{label:i,type:"text",valueSources:["value"],operators:["is_relevant","is_not_relevant","is_valid","is_not_valid","is_void","is_not_void","like","not_like","starts_with","ends_with"]}};case"number":return{[t]:{label:i,type:"number",valueSources:["value"],operators:["is_relevant","is_not_relevant","is_valid","is_not_valid","is_void","is_not_void","equal","not_equal","less","less_or_equal","greater","greater_or_equal","between","not_between"]}};case"file_upload":return{[t]:{label:i,type:"text",valueSources:["value"],operators:["is_relevant","is_not_relevant","is_valid","is_not_valid","is_file_void","is_file_not_void"]}};case"signature":case"photo_capture":case"video_capture":return{[t]:{label:i,type:"text",valueSources:["value"],operators:["is_relevant","is_not_relevant","is_valid","is_not_valid","is_file_void","is_file_not_void"]}};case"date":return{[t]:{label:i,type:"date",valueSources:["value"],operators:["is_relevant","is_not_relevant","is_valid","is_not_valid","is_void","is_not_void","greater_or_equal","less_or_equal","between"]}};case"time":return{[t]:{label:i,type:"time",valueSources:["value"],operators:["is_relevant","is_not_relevant","is_valid","is_not_valid","is_void","is_not_void","greater_or_equal","less_or_equal","between"]}};case"date_time":return{[t]:{label:i,type:"datetime",valueSources:["value"],operators:["is_relevant","is_not_relevant","is_valid","is_not_valid","is_void","is_not_void","greater_or_equal","less_or_equal","between"]}};case"image_scq":case"icon_scq":case"scq":let S={},O={};(s=e.children)==null||s.forEach(P=>{var $,U;const V=Ai(((U=($=r[P.qualifiedCode].content)==null?void 0:$.label)==null?void 0:U[n])||"");O[P.code]=V?P.code+" - "+V:P.code}),S[t]={label:i,fieldSettings:{listValues:O},type:"select",valueSources:["value"],operators:["is_relevant","is_not_relevant","is_valid","is_not_valid","is_void","is_not_void","select_any_in","select_not_any_in"]};let x=(l=e.children)==null?void 0:l.find(P=>P.code==="Aother");return x&&((u=r[x.qualifiedCode].children)!=null&&u.find(P=>P.code==="Atext"))&&(S[t+"AotherAtext"]={label:"".concat(i," [").concat(((f=(c=r[x.qualifiedCode].content)==null?void 0:c.label)==null?void 0:f[n])||"","]"),type:"text",valueSources:["value"],operators:["is_relevant","is_not_relevant","is_valid","is_not_valid","is_void","is_not_void","equal","not_equal","like","not_like","starts_with","ends_with"]}),S;case"image_mcq":case"icon_mcq":case"mcq":let E={},A={};(d=e.children)==null||d.forEach(P=>{var $,U;const V=Ai(((U=($=r[P.qualifiedCode].content)==null?void 0:$.label)==null?void 0:U[n])||"");A[P.code]=V?P.code+" - "+V:P.code}),E[t]={label:i,fieldSettings:{listValues:A},type:"multiselect",valueSources:["value"],operators:["is_relevant","is_not_relevant","is_valid","is_not_valid","multiselect_equals","multiselect_not_equals"]};let C=(p=e.children)==null?void 0:p.find(P=>P.code==="Aother");return C&&((v=r[C.qualifiedCode].children)!=null&&v.find(P=>P.code==="Atext"))&&(E[t+"AotherAtext"]={label:"".concat(i," [").concat(((g=(h=r[C.qualifiedCode].content)==null?void 0:h.label)==null?void 0:g[n])||"","]"),type:"text",valueSources:["value"],operators:["is_relevant","is_not_relevant","is_valid","is_not_valid","is_void","is_not_void","equal","not_equal","like","not_like","starts_with","ends_with"]}),E;case"nps":let k={};return(y=e.children)==null||y.forEach(P=>{var $,U;const V=Ai(((U=($=r[P.qualifiedCode].content)==null?void 0:$.label)==null?void 0:U[n])||"");A[P.code]=V?P.code+" - "+V:P.code}),k[t]={label:i,fieldSettings:{min:0,max:10},type:"number",valueSources:["value"],operators:["is_void","is_not_void","equal","not_equal","less","less_or_equal","greater","greater_or_equal","between","not_between"]},k;case"scq_icon_array":case"scq_array":let w={},I={};return(m=e.children)==null||m.filter(P=>P.type=="column").forEach(P=>{var $,U;const V=Ai(((U=($=r[P.qualifiedCode].content)==null?void 0:$.label)==null?void 0:U[n])||"");I[P.code]=V?P.code+" - "+V:P.code}),w[t]={label:i,type:"text",valueSources:["value"],operators:["is_relevant","is_not_relevant","is_valid","is_not_valid"]},(_=e.children)==null||_.filter(P=>P.type=="row").forEach(P=>{var V,$;w[t+P.code]={label:i+" - "+Ai((($=(V=r[P.qualifiedCode].content)==null?void 0:V.label)==null?void 0:$[n])||""),type:"select",valueSources:["value"],fieldSettings:{listValues:I},operators:["select_any_in","select_not_any_in"]}}),w;case"ranking":case"image_ranking":let L={};return(b=e.children)==null||b.forEach(P=>{var V,$;L[t+P.code]={label:i+" - "+Ai((($=(V=r[P.qualifiedCode].content)==null?void 0:V.label)==null?void 0:$[n])||""),type:"number",fieldSettings:{min:1,max:e.children.length},valueSources:["value"],operators:["is_void","is_not_void","equal","not_equal","less","less_or_equal","greater","greater_or_equal","between","not_between"]}}),L;default:return[]}},che="_relevance_1j5a5_1",fhe="_relevanceError_1j5a5_5",dhe="_errorContainer_1j5a5_9",sw={relevance:che,relevanceError:fhe,errorContainer:dhe};function phe({code:t,t:e}){var b,S,O;const r=_t(),[n,i]=X.useState(!1),a=ye(x=>x.designState),o=j.useMemo(()=>a.langInfo),s=j.useMemo(()=>a[t]),l=j.useMemo(()=>lhe(a.componentIndex,t,a,o.mainLang,o.languagesList.map(x=>x.code)),[a]),u=(b=s.instructionList)==null?void 0:b.find(x=>x.code=="conditional_relevance"),f=((u==null?void 0:u.errors)||[]).length>0,d=(S=s.relevance)==null?void 0:S.logic,p=!f&&Object.keys(l).length>0,[v,h]=X.useState(((O=s.relevance)==null?void 0:O.rule)||"show_always"),g=v=="show_if"||v=="hide_if",y=x=>{switch(h(x),x){case"show_always":m();return;case"hide_always":r(lf({code:t,key:"relevance",value:{logic:void 0,rule:x}}));return;case"show_if":case"hide_if":(d==null?void 0:d.rule)!="show_if"&&(d==null?void 0:d.rule)!="hide_if"&&i(!0),d&&r(lf({code:t,key:"relevance",value:{logic:d,rule:x}}));return}},m=()=>r(lf({code:t,key:"relevance",value:{logic:void 0,rule:"show_always"}})),_=x=>{i(!1),g&&r(lf({code:t,key:"relevance",value:{logic:x,rule:v}}))};return T.jsxs("div",{className:"".concat(f?sw.relevanceError:""),children:[T.jsx(Fr,{variant:"standard",fullWidth:!0,children:T.jsxs(zi,{id:"show-hide-select",value:v,label:"Age",onChange:x=>y(x.target.value),children:[T.jsx(Xr,{disabled:f,value:"show_always",children:e("show_always")},"show_always"),T.jsx(Xr,{disabled:!p,value:"show_if",children:e("show_if")},"show_if"),T.jsx(Xr,{disabled:!p,value:"hide_if",children:e("hide_if")},"hide_if"),T.jsx(Xr,{disabled:f,value:"hide_always",children:e("hide_always")},"hide_always")]})}),!f&&g&&T.jsx(she,{title:v=="show_if"?e("condition_to_show"):e("condition_to_hide"),onChange:_,onDialogStateChanged:x=>i(x),fields:l,t:e,dialogOpen:n,logic:d}),f?T.jsxs("div",{className:sw.errorContainer,children:[T.jsx($a,{t:e,i18nKey:"wrong_logic_err"}),T.jsx(Ht,{variant:"contained",onClick:()=>m(),children:"OK"})]}):"",g&&!d?T.jsx("div",{children:T.jsx($a,{t:e,i18nKey:"no_logic_err"})}):""]})}const YL=(t,e,r)=>{var a,o;const n=e[t],i=t+". "+Ai((o=(a=n.content)==null?void 0:a.label)==null?void 0:o[r]);return{code:t,label:i}},hhe=(t,e,r,n)=>{let i=[];if(!t)return i;let a=t.find(o=>o.code===e);return a&&(i=i.concat(lw(t,a,r,n)),a.parent&&KL(t,a).filter(o=>os(o.code)||Hi(o.code)).forEach(o=>{i=i.concat(lw(t,o,r,n))})),i},KL=(t,e)=>{let r=[],n=t.find(i=>i.code===e.parent);return n&&n.parent&&(r.push(n),r=r.concat(KL(t,n))),r},lw=(t,e,r,n)=>{let i=[];return!Hi(e.code)&&!os(e.code)||t.filter(o=>o.parent==e.parent&&o.minIndex>e.maxIndex&&(!e.prioritisedSiblings||e.prioritisedSiblings.indexOf(o.code)===-1)).forEach(o=>{i=i.concat(YL(o.code,r,n)),i=i.concat(JL(t,o,r,n))}),i},JL=(t,e,r,n)=>{let i=[];return Hi(e.code)&&e.children&&e.children.forEach(a=>{let o=t.find(s=>s.code===a);i=i.concat(YL(o.code,r,n)),i=i.concat(JL(t,o,r,n))}),i},vhe="_skipItem_1n8m2_1",ghe="_toEnd_1n8m2_6",K0={skipItem:vhe,toEnd:ghe};function mhe({code:t,t:e}){const r=_t(),n=ye(u=>u.designState[t].skip_logic||{}),i=ye(u=>{const c=u.designState.langInfo.mainLang;return hhe(u.designState.componentIndex,t,u.designState,c)}),a=ye(u=>u.designState[t].instructionList.filter(c=>c.code.startsWith("skip_to"))),o=ye(u=>{var f,d;const c=u.designState.langInfo.lang;return(d=(f=u.designState[t])==null?void 0:f.children)==null?void 0:d.map(p=>{var v,h;return{code:p.code,label:((h=(v=u.designState[p.qualifiedCode].content)==null?void 0:v.label)==null?void 0:h[c])||p.code}})}),s=(u,c)=>{c=="proceed"?r(hR({code:t,answerCode:u})):r(vR({code:t,answerCode:u,skipTo:c}))},l=(u,c)=>{r(gR({code:t,answerCode:u,toEnd:c}))};return T.jsx(T.Fragment,{children:o==null?void 0:o.map(u=>{var h,g;const c=u.code,f=n==null?void 0:n[c],d=f==null?void 0:f.skipTo,p=d||"proceed",v=d&&((g=(h=a==null?void 0:a.find(y=>y.code=="skip_to_on_"+c))==null?void 0:h.errors)==null?void 0:g.find(y=>y.name=="InvalidSkipReference"));return T.jsxs("div",{className:K0.skipItem,children:[T.jsx($a,{t:e,values:{code:u.label},i18nKey:"if_answer_is"}),v?yhe(c,d,s,e):bhe(c,i,p,f==null?void 0:f.toEnd,s,l,e)]},u.code)})})}function yhe(t,e,r,n){return T.jsxs(ht,{className:K0.errorDisplay,children:[T.jsx(FR,{style:{verticalAlign:"middle"}})," ",T.jsx($a,{t:n,values:{code:e},i18nKey:"invalid_skip_destination_err"}),T.jsx(Ht,{variant:"contained",onClick:()=>r(t,"proceed"),children:n("ok")})]})}function bhe(t,e,r,n,i,a,o){return T.jsxs(T.Fragment,{children:[T.jsx(Fr,{variant:"standard",fullWidth:!0,children:T.jsxs(zi,{id:"skip-action",value:r,label:o("skip_to"),onChange:s=>i(t,s.target.value),children:[T.jsx(Xr,{value:"proceed",children:o("proceed_as_usual")},"proceed"),e&&(e==null?void 0:e.map(s=>T.jsx(Xr,{value:s.code,children:s.label},s.code)))]})}),r&&r.startsWith("G")&&T.jsxs("div",{className:K0.toEnd,children:[T.jsx("h4",{children:o("to_group_end")}),T.jsx(ls,{checked:n||!1,onChange:s=>a(t,s.target.checked)})]})]})}const _he="_sectionTitle_62go7_1",She="_rightContent_62go7_6",Ohe="_close_62go7_13",xhe="_accordionStyle_62go7_17",Gu={sectionTitle:_he,rightContent:She,close:Ohe,accordionStyle:xhe},whe="_errorDisplay_1avr2_1",Ehe={errorDisplay:whe};function QL({errors:t}){const{t:e}=as("design");return T.jsx(ht,{className:Ehe.errorDisplay,children:t.map(r=>{if(r.name=="PriorityGroupItemNotChild")return T.jsx($a,{t:e,i18nKey:"err_priority_group_item_not_child",values:{items:r.items.join(", ")}},r.name);if(r.name=="DuplicatePriorityGroupItems")return T.jsx($a,{t:e,i18nKey:"err_duplicate_priority_group_items",values:{items:r.items.join(", ")}},r.name);if(r.name=="PriorityLimitMismatch")return e("err_priority_limit_mismatch");if(r.name=="RandomGroupItemNotChild")return T.jsx($a,{t:e,i18nKey:"err_random_group_item_not_child",values:{items:r.items.join(", ")}},r.name);if(r.name=="DuplicateRandomGroupItems")return T.jsx($a,{t:e,i18nKey:"err_duplicate_random_group_items",values:{items:r.items.join(", ")}},r.name)})},"box")}const Che="_randomHeader_1pjix_1",The="_title_1pjix_6",khe="_action_1pjix_11",Ihe="_settingIcon_1pjix_15",Ahe="_randomBody_1pjix_19",jhe="_list_1pjix_19",Phe="_weight_1pjix_30",Lhe="_randomAction_1pjix_47",Fhe="_listItem_1pjix_53",Rhe="_label_1pjix_58",$he="_input_1pjix_64",Nhe="_listItemError_1pjix_68",Dhe="_randomItem_1pjix_84",Mhe="_highlighted_1pjix_89",Mn={randomHeader:Che,title:The,action:khe,settingIcon:Ihe,randomBody:Ahe,list:jhe,weight:Phe,randomAction:Lhe,listItem:Fhe,label:Rhe,input:$he,listItemError:Nhe,randomItem:Dhe,highlighted:Mhe};var J0={},Vhe=Dr;Object.defineProperty(J0,"__esModule",{value:!0});var Q0=J0.default=void 0,Bhe=Vhe(Mr()),qhe=T;Q0=J0.default=(0,Bhe.default)((0,qhe.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 5.63l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83c.39-.39.39-1.02 0-1.41"}),"Mode");function Hhe(t){var e;return T.jsxs(Zd,{className:"".concat(Mn.randomItem," ").concat(t.isBeingEdited?Mn.highlighted:""),children:[T.jsxs("div",{className:Mn.randomHeader,children:[T.jsx("h4",{className:Mn.title,children:t.t("prioritise")}),T.jsxs("div",{className:Mn.action,children:[T.jsx(bt,{onClick:()=>t.onEditClicked(t.index),children:T.jsx(Q0,{className:Mn.settingIcon})}),T.jsx(bt,{onClick:()=>t.onDeleteClicked(t.index),children:T.jsx(Nu,{className:Mn.settingIcon})})]})]}),T.jsxs("div",{className:Mn.randomBody,children:[t.t("priority_show_limit_from_count",{limit:t.data.limit,count:(e=t.data.weights)==null?void 0:e.length}),T.jsx("ul",{className:Mn.list,children:t.data&&t.data.weights&&t.data.weights.map((r,n)=>T.jsx(zhe,{label:t.getChildLabelByCode(r.code),code:r.code,childrenCodes:t.childrenCodes,weight:r.weight},n))})]})]})}function zhe({code:t,label:e,weight:r,childrenCodes:n}){return T.jsxs("li",{className:n.indexOf(t)!==-1?Mn.listItem:Mn.listItemError,children:[T.jsxs("div",{className:"".concat(Mn.content," ").concat(Mn.label),children:[t,": ",e]}),T.jsx("div",{className:Mn.weight,children:T.jsx("span",{children:r})})]})}const Uhe="_title_5cg20_1",Whe="_randomBody_5cg20_6",Ghe="_list_5cg20_6",Yhe="_weight_5cg20_18",Khe="_label_5cg20_35",Jhe="_randomAction_5cg20_39",Qhe="_listItem_5cg20_45",Xhe="_input_5cg20_50",Zhe="_randomItem_5cg20_54",na={title:Uhe,randomBody:Whe,list:Ghe,weight:Yhe,label:Khe,randomAction:Jhe,listItem:Qhe,input:Xhe,randomItem:Zhe};var X0={},eve=Dr;Object.defineProperty(X0,"__esModule",{value:!0});var Z0=X0.default=void 0,tve=eve(Mr()),rve=T;Z0=X0.default=(0,tve.default)((0,rve.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m5 11H7v-2h10z"}),"RemoveCircle");var eb={},nve=Dr;Object.defineProperty(eb,"__esModule",{value:!0});var tb=eb.default=void 0,ive=nve(Mr()),ave=T;tb=eb.default=(0,ive.default)((0,ave.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m5 11h-4v4h-2v-4H7v-2h4V7h2v4h4z"}),"AddCircle");function ove(t){const e=t.t,[r,n]=X.useState(t.checked),[i,a]=X.useState(t.data),o=()=>{const h=r.filter(g=>g).length;return h>=2&&i.limit<=h-1&&i.limit>=1},s=()=>{if(r.filter(m=>m).length<2)return!1;const g={...i},y=r.reduce((m,_,b)=>(_&&m.push(g.weights[b]),m),[]);t.onSubmit({...g,weights:y})},l=(h,g)=>{const y=[...r];y[g]=h,n([...y])},u=h=>{a({...i,limit:h})},c=(h,g)=>{const y={...i};y.weights=[...i.weights],y.weights[g]={...i.weights[g],weight:h},a(y)},f=h=>{if(h===1)return!1;h--,u(h)},d=h=>{if(h===i.weights.length-1)return!1;h++,u(h)},p=(h,g)=>{if(h===1)return!1;h--,c(h,g)},v=(h,g)=>{h++,c(h,g)};return T.jsxs(Zd,{className:na.randomItem,children:[T.jsx("h4",{className:na.title,children:t.title}),T.jsxs("div",{className:na.randomBody,children:[T.jsx(lve,{t:e,increaseLimit:d,decreaseLimit:f,limit:i.limit}),T.jsx("ul",{className:"".concat(na.list," ").concat(na.active),children:i&&i.weights&&i.weights.map((h,g)=>T.jsx(sve,{code:h.code,weight:h.weight,handleChange:y=>l(y,g),decreaseWeight:y=>p(y,g),increaseWeight:y=>v(y,g),checked:(r==null?void 0:r[g])||!1,label:t.getChildLabelByCode(h.code)},g))})]}),T.jsxs("div",{className:na.randomAction,children:[T.jsx(Ht,{variant:"text",onClick:h=>t.onCancel(),children:e("cancel")}),T.jsx(Ht,{variant:"contained",onClick:h=>s(),disabled:!o(),children:e("submit")})]})]})}function sve({code:t,checked:e,label:r,weight:n,handleChange:i,increaseWeight:a,decreaseWeight:o}){return T.jsxs("li",{className:na.listItem,children:[T.jsx(ji,{checked:e,onChange:s=>i(s.target.checked)}),T.jsxs("div",{className:"".concat(na.content," ").concat(na.label),children:[t,": ",r]}),T.jsxs("div",{className:na.weight,children:[T.jsx(bt,{size:"small",onClick:s=>o(n),children:T.jsx(Z0,{})}),T.jsx("span",{children:n}),T.jsx(bt,{size:"small",onClick:s=>a(n),children:T.jsx(tb,{})})]})]})}function lve({limit:t,increaseLimit:e,decreaseLimit:r,t:n}){return T.jsxs(T.Fragment,{children:[n("priority_show"),T.jsx(bt,{size:"small",onClick:i=>r(t),children:T.jsx(Z0,{})}),t,T.jsx(bt,{size:"small",onClick:i=>e(t),children:T.jsx(tb,{})})]})}function fv({t,type:e,code:r,hideErrors:n}){var C,k;const i=_t(),[a,o]=X.useState({}),s=ye(w=>w.designState[r]),l=ye(w=>{var I,L,P,V;return((V=(P=(L=(I=w.designState[r])==null?void 0:I.children)==null?void 0:L.filter($=>e?$.type==e:!0))==null?void 0:P.filter($=>{var U,M;return((U=$.groupType)==null?void 0:U.toLowerCase())!="welcome"&&((M=$.groupType)==null?void 0:M.toLowerCase())!="end"}))==null?void 0:V.map($=>$.code))||[]}),u=ye(w=>w.designState.langInfo.lang),c=ye(w=>{var I,L,P;return((P=(L=(I=w.designState[r])==null?void 0:I.children)==null?void 0:L.filter(V=>e?V.type==e:!0))==null?void 0:P.map(V=>{var $,U;return{code:V.code,label:(U=($=w.designState[V.qualifiedCode].content)==null?void 0:$.label)==null?void 0:U[u]}}))||[]}),f=cE(s,"priority_groups"),d=((C=f==null?void 0:f.priorities)==null?void 0:C.filter(w=>e?w.weights.some(I=>l.includes(I.code)):!0))||[];let p=d.map(w=>w.weights).flat().map(w=>w.code).flat();const v=((k=f==null?void 0:f.errors)==null?void 0:k.filter(w=>w.items.some(I=>p.includes(I))))||[],h=w=>{i(e?mR({code:r,priorities:w,type:e}):yR({code:r,priorities:w}))},g=w=>{var L;const I=(L=c.find(P=>P.code==w))==null?void 0:L.label;return I==null?void 0:I.replace(/<[^>]*>/g,"")},y=()=>l.filter(w=>!p.includes(w)),m=w=>{window.confirm(t("are_you_sure"))&&h(d.filter((I,L)=>L!==w))},_=!a||Object.keys(a).length==0,b=w=>{let I=[],L=[];L.weights=[];const P=y();l.forEach(V=>{if(P.includes(V))L.weights.push({code:V,weight:1}),I.push(!1);else{let $=d[w].weights.findIndex(U=>U.code==V);$>-1&&(L.weights.push(d[w].weights[$]),I.push(!0))}L.limit=d[w].limit}),o({index:w,checked:I,title:t("edit_priority_rule"),data:L})},S=()=>{o({})},O=(w,I)=>{const L=d?[...d]:[];L[I]={...w},h(L),S()},x=()=>{const w=y(),I=w.map(L=>({code:L,weight:1}));o({title:t("add_priority_rule"),checked:w.map(L=>!1),data:{limit:1,weights:I},index:d?d.length:0,icon:T.jsx(gd,{})})},E=w=>{let I=[...w.weights].sort(function(L,P){return l.findIndex(V=>V===L.code)-l.findIndex(V=>V===P.code)});return{...w,weights:I}},A=(w,I)=>{let L=[...w.weights].filter(P=>I.includes(P.code));return L.length<=1&&S(),{limit:Math.min(w.limit,L.length-1),weights:L}};return T.jsxs(T.Fragment,{children:[d&&d.map((w,I)=>T.jsx(Hhe,{t,data:E(w),index:I,childrenCodes:l,isBeingEdited:a.index==I,onDeleteClicked:L=>{o({}),m(L)},onEditClicked:L=>b(L),getChildLabelByCode:g},I)),!n&&v.length>0?T.jsx(QL,{errors:v}):"",_&&T.jsxs(Ht,{variant:"contained",disabled:y().length<2,onClick:x,children:[T.jsx(gd,{sx:{paddingRight:"8px"}})," ",t("add_priority_rule")]}),a&&a.data&&T.jsx(ove,{t,title:a.title,data:A(a.data,l),index:a.index,getChildLabelByCode:g,checked:a.checked,onSubmit:w=>O(w,a.index),onCancel:S})]})}const uve="_selectValue_14l81_1",cve={selectValue:uve},fve="_errorDisplay_1vtlj_1",dve="_addNew_1vtlj_10",pve={errorDisplay:fve,addNew:dve},hve="_title_1p7e9_1",vve="_list_1p7e9_6",gve="_randomAction_1p7e9_19",mve="_listItem_1p7e9_25",yve="_input_1p7e9_30",bve="_randomItem_1p7e9_34",Pu={title:hve,list:vve,randomAction:gve,listItem:mve,input:yve,randomItem:bve};function _ve(t){const e=t.t,[r,n]=X.useState(t.checked),[i,a]=X.useState(t.randomOption),o=()=>r.filter(f=>f).length>=2,s=[e("random_order"),e("flip_order"),e("sort_by_label")],l=["RANDOM","FLIP","ALPHA"],u=()=>{if(r.filter(p=>p).length<2)return!1;const d=r.reduce((p,v,h)=>(v&&p.push(t.data[h]),p),[]);t.onSubmit(d,i)},c=(f,d)=>{const p=[...r];p[d]=f,n([...p])};return T.jsxs(Zd,{className:Pu.randomItem,children:[T.jsx("h4",{className:Pu.title,children:t.title}),T.jsx(Fr,{variant:"standard",fullWidth:!0,children:T.jsx(zi,{id:"select-value",value:i,label:"Select Value",onChange:f=>{a(f.target.value)},children:s.map((f,d)=>T.jsx(Xr,{value:l[d],children:f},f))})}),T.jsx("ul",{className:Pu.list,children:t.data&&t.data.map((f,d)=>T.jsx(Sve,{code:f,handleChange:p=>c(p,d),checked:(r==null?void 0:r[d])||!1,label:t.getChildLabelByCode(f)},d))}),T.jsxs("div",{className:Pu.randomAction,children:[T.jsx(Ht,{variant:"text",onClick:f=>t.onCancel(),children:e("cancel")}),T.jsx(Ht,{variant:"contained",onClick:f=>u(),disabled:!o(),children:e("submit")})]})]})}function Sve({code:t,label:e,checked:r,handleChange:n}){return T.jsxs("li",{className:Pu.listItem,children:[T.jsx(ji,{checked:r,onChange:i=>n(i.target.checked)}),t,": ",e]})}const Ove="_randomHeader_10d2m_1",xve="_title_10d2m_6",wve="_action_10d2m_11",Eve="_settingIcon_10d2m_15",Cve="_list_10d2m_19",Tve="_randomAction_10d2m_30",kve="_listItem_10d2m_36",Ive="_label_10d2m_41",Ave="_input_10d2m_47",jve="_listItemError_10d2m_51",Pve="_randomItem_10d2m_63",Lve="_highlighted_10d2m_68",si={randomHeader:Ove,title:xve,action:wve,settingIcon:Eve,list:Cve,randomAction:Tve,listItem:kve,label:Ive,input:Ave,listItemError:jve,randomItem:Pve,highlighted:Lve},Fve=(t,e)=>{switch(t){case"ALPHA":return e("sort_by_label");case"RANDOM":return e("random_order");case"FLIP":return e("flip_order")}throw"unidentified randomOption: "+t};function Rve(t){const e=t.t;return T.jsxs(Zd,{className:"".concat(si.randomItem," ").concat(t.isBeingEdited?si.highlighted:""),children:[T.jsxs("div",{className:si.randomHeader,children:[T.jsx("h4",{className:si.title,children:Fve(t.randomOption,e)}),T.jsxs("div",{className:si.action,children:[T.jsx(bt,{onClick:()=>t.onEditClicked(t.index),children:T.jsx(Q0,{className:si.settingIcon})}),T.jsx(bt,{onClick:()=>t.onDeleteClicked(t.index),children:T.jsx(Nu,{className:si.settingIcon})})]})]}),T.jsx("ul",{className:si.list,children:t.data&&t.data.map((r,n)=>T.jsx($ve,{label:t.getChildLabelByCode(r),code:r,childrenCodes:t.childrenCodes},n))})]})}function $ve({code:t,label:e,childrenCodes:r}){return T.jsx("li",{className:r.indexOf(t)!==-1?si.listItem:si.listItemError,children:T.jsxs("div",{className:"".concat(si.content," ").concat(si.label),children:[t,": ",e]})})}function dv({t,type:e,code:r,hideErrors:n}){var C,k;const i=_t(),[a,o]=X.useState({}),s=ye(w=>w.designState[r]),l=ye(w=>{var I,L,P,V;return((V=(P=(L=(I=w.designState[r])==null?void 0:I.children)==null?void 0:L.filter($=>e?$.type==e:!0))==null?void 0:P.filter($=>{var U,M;return((U=$.groupType)==null?void 0:U.toLowerCase())!="welcome"&&((M=$.groupType)==null?void 0:M.toLowerCase())!="end"}))==null?void 0:V.map($=>$.code))||[]}),u=ye(w=>w.designState.langInfo.lang),c=ye(w=>{var I,L,P;return((P=(L=(I=w.designState[r])==null?void 0:I.children)==null?void 0:L.filter(V=>e?V.type==e:!0))==null?void 0:P.map(V=>{var $,U;return{code:V.code,label:(U=($=w.designState[V.qualifiedCode].content)==null?void 0:$.label)==null?void 0:U[u]}}))||[]}),f=cE(s,"random_group"),d=((C=f==null?void 0:f.groups)==null?void 0:C.filter(w=>e?w.codes.some(I=>l.includes(I)):!0))||[],p=d.map(w=>w.codes).flat(),v=((k=f==null?void 0:f.errors)==null?void 0:k.filter(w=>w.items.some(I=>p.includes(I))))||[],h=w=>{i(e?bR({code:r,groups:w,type:e}):_R({code:r,groups:w}))},g=w=>{var L;const I=(L=c.find(P=>P.code==w))==null?void 0:L.label;return I==null?void 0:I.replace(/<[^>]*>/g,"")},y=w=>l.filter(I=>!p.includes(I)),m=w=>{window.confirm(t("are_you_sure"))&&h(d.filter((I,L)=>L!==w))},_=w=>[...w.codes].sort(function(I,L){return l.findIndex(P=>P===I)-l.findIndex(P=>P===L)}),b=w=>{let I=[],L=[],P=y();L=l.filter(V=>P.includes(V)||d[w].codes.includes(V)),I=L.map(V=>!!d[w].codes.includes(V)),o({index:w,checked:I,randomOption:d[w].randomOption||"RANDOM",title:t("edit_random_rule"),data:L})},S=()=>{o({})},O=!a||Object.keys(a).length==0,x=(w,I,L)=>{const P=d?[...d]:[];P[L]={codes:w,randomOption:I},h(P),S()},E=()=>{const w=y();o({title:t("add_new_random_rule"),data:w,checked:[],randomOption:"RANDOM",index:d?d.length:0})},A=(w,I)=>{let L=[...w].filter(P=>I.includes(P));return L.length<=1&&S(),L};return T.jsxs(T.Fragment,{children:[d&&d.map((w,I)=>T.jsx(Rve,{t,data:_(w),randomOption:w.randomOption,index:I,isBeingEdited:a.index==I,childrenCodes:l,getChildLabelByCode:g,onDeleteClicked:L=>{o({}),m(L)},onEditClicked:L=>b(L)},I)),!n&&v.length>0?T.jsx(QL,{errors:v}):"",O&&T.jsxs(Ht,{className:pve.addNew,variant:"contained",disabled:y().length<2,onClick:E,children:[T.jsx(Cm,{sx:{paddingRight:"8px"}})," ",t("add_random_rule")]}),a&&a.data&&T.jsx(_ve,{t,title:a.title,data:A(a.data,l),randomOption:a.randomOption,getChildLabelByCode:g,checked:a.checked,onSubmit:(w,I)=>x(w,I,a.index),onCancel:S})]})}function Nve({t,rule:e,code:r}){const n=_t(),i=ye(u=>u.designState[r][e]||"NONE");let a="",o=[],s=[];switch(e){case"randomize_questions":a=t("questions_order"),o=[t("as_is"),t("random_order"),t("flip_order"),t("custom_random")],s=["NONE","RANDOM","FLIP","custom"];break;case"prioritize_questions":a=t("questions_priority"),o=[t("no_priority"),t("prioritise_questions")],s=["NONE","prioritize"];break;case"randomize_groups":a=t("groups_order"),o=[t("as_is"),t("random_order"),t("flip_order"),t("custom_random")],s=["NONE","RANDOM","FLIP","custom"];break;case"prioritize_groups":a=t("groups_priority"),o=[t("no_priority"),t("prioritise_groups")],s=["NONE","prioritize"];break;case"randomize_options":a=t("options_order"),o=[t("as_is"),t("random_order"),t("flip_order"),t("sort_by_label"),t("custom_random")],s=["NONE","RANDOM","FLIP","ALPHA","custom"];break;case"prioritize_options":a=t("options_priority"),o=[t("no_priority"),t("prioritise_options")],s=["NONE","prioritize"];break;case"randomize_rows":a=t("rows_order"),o=[t("as_is"),t("random_order"),t("flip_order"),t("sort_by_label"),t("custom_random")],s=["NONE","RANDOM","FLIP","ALPHA","custom"];break;case"prioritize_rows":a=t("rows_priority"),o=[t("no_priority"),t("prioritise_rows")],s=["NONE","prioritize"];break;case"randomize_columns":a=t("columns_order"),o=[t("as_is"),t("random_order"),t("flip_order"),t("sort_by_label"),t("custom_random")],s=["NONE","RANDOM","FLIP","ALPHA","custom"];break;case"prioritize_columns":a=t("columns_priority"),o=[t("no_priority"),t("prioritise_columns")],s=["NONE","prioritize"];break}const l=u=>{const c=u=="NONE"?void 0:u;n(Gn({code:r,key:e,value:c}))};return T.jsxs(T.Fragment,{children:[T.jsx("h4",{children:a}),T.jsx(Fr,{className:cve.selectValue,variant:"standard",fullWidth:!0,children:T.jsx(zi,{id:"select-value",value:i,label:"Select Value",onChange:u=>{l(u.target.value)},children:o.map((u,c)=>T.jsx(Xr,{value:s[c],children:u},u))})}),i=="custom"&&["randomize_questions","randomize_options","randomize_groups"].indexOf(e)!==-1&&T.jsx(dv,{label:"",code:r,t}),i=="custom"&&e=="randomize_rows"&&T.jsx(dv,{label:"",type:"row",code:r,t}),i=="prioritize"&&e=="prioritize_rows"&&T.jsx(fv,{label:"",type:"row",code:r,t}),i=="custom"&&e=="randomize_columns"&&T.jsx(dv,{label:"",type:"column",code:r,t}),i=="prioritize"&&e=="prioritize_columns"&&T.jsx(fv,{label:"",type:"column",code:r,t}),i=="prioritize"&&["prioritize_questions","prioritize_options","prioritize_groups"].indexOf(e)!==-1&&T.jsx(fv,{label:"",code:r,t})]})}const Dve=()=>{const{t}=as("design"),e=_t(),r=ye(i=>i.designState.Survey.navigationMode||uf.GROUP_BY_GROUP),n=i=>{e(Gn({code:"Survey",key:"navigationMode",value:i.target.value}))};return T.jsxs(Fr,{fullWidth:!0,children:[T.jsx(qR,{id:"navigation-mode-label",children:t("navigation_mode")}),T.jsxs(zi,{labelId:"navigation-mode-label",id:"demo-simple-select",value:r,label:t("label.navigation_mode"),onChange:n,children:[T.jsx(Xr,{value:uf.GROUP_BY_GROUP,children:t("group_by_group")}),T.jsx(Xr,{value:uf.QUESTION_BY_QUESTION,children:t("question_by_question")}),T.jsx(Xr,{value:uf.ALL_IN_ONE,children:t("all_in_one")})]})]})},Mve="_theming_1v217_1",Vve="_chooseImage_1v217_12",Bve="_resetButton_1v217_21",qve="_fontText_1v217_24",Hve="_selectDropdown_1v217_27",zve="_colorBox_1v217_33",Uve="_colorPickerContainer_1v217_40",xn={theming:Mve,chooseImage:Vve,resetButton:Bve,fontText:qve,selectDropdown:Hve,colorBox:zve,colorPickerContainer:Uve},Wve="_themingItem_11qn9_1",Gve="_themingItemBody_11qn9_6",Yve="_selectDropdown_11qn9_13",pv={themingItem:Wve,themingItemBody:Gve,selectDropdown:Yve};function hv(t){const e=Array.from({length:12},(n,i)=>i*2+10);function r(n,i){t.onChange({...t.value,[n]:i})}return T.jsx("div",{className:pv.themingItem,children:T.jsx("div",{className:pv.themingItemBody,children:T.jsx(zi,{size:"small",value:t.value.size||t.default.size,onChange:n=>r("size",n.target.value),IconComponent:pE,className:pv.selectDropdown,sx:{"& .MuiSvgIcon-root":{color:"#16205b"}},children:e&&e.length>0&&e.map((n,i)=>T.jsx(Xr,{value:n,children:n},"fontSize-".concat(i)))},"fontSize")})})}var ci={},ef={},Kve=us,Jve=ti,Qve=ya,Xve="[object String]";function Zve(t){return typeof t=="string"||!Jve(t)&&Qve(t)&&Kve(t)==Xve}var ege=Zve,tge=zp;function rge(t){return typeof t=="function"?t:tge}var nge=rge,ige=j0,age=nge;function oge(t,e){return t&&ige(t,age(e))}var rb=oge,sge=Ml;function lge(t,e){return function(r,n){if(r==null)return r;if(!sge(r))return t(r,n);for(var i=r.length,a=e?i:-1,o=Object(r);(e?a--:++a<i)&&n(o[a],a,o)!==!1;);return r}}var uge=lge,cge=j0,fge=uge,dge=fge(cge),pge=dge,hge=pge,vge=Ml;function gge(t,e){var r=-1,n=vge(t)?Array(t.length):[];return hge(t,function(i,a,o){n[++r]=e(i,a,o)}),n}var mge=gge,yge=Bp,bge=P0,_ge=mge,Sge=ti;function Oge(t,e){var r=Sge(t)?yge:_ge;return r(t,bge(e))}var xge=Oge;Object.defineProperty(ef,"__esModule",{value:!0});ef.flattenNames=void 0;var wge=ege,Ege=ah(wge),Cge=rb,Tge=ah(Cge),kge=n0,Ige=ah(kge),Age=xge,jge=ah(Age);function ah(t){return t&&t.__esModule?t:{default:t}}var Pge=ef.flattenNames=function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[];return(0,jge.default)(e,function(n){Array.isArray(n)?t(n).map(function(i){return r.push(i)}):(0,Ige.default)(n)?(0,Tge.default)(n,function(i,a){i===!0&&r.push(a),r.push(a+"-"+i)}):(0,Ege.default)(n)&&r.push(n)}),r};ef.default=Pge;var tf={},Lge=kI,Fge=1,Rge=4;function $ge(t){return Lge(t,Fge|Rge)}var Nge=$ge;Object.defineProperty(tf,"__esModule",{value:!0});tf.mergeClasses=void 0;var Dge=rb,Mge=XL(Dge),Vge=Nge,Bge=XL(Vge),qge=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t};function XL(t){return t&&t.__esModule?t:{default:t}}var Hge=tf.mergeClasses=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=e.default&&(0,Bge.default)(e.default)||{};return r.map(function(i){var a=e[i];return a&&(0,Mge.default)(a,function(o,s){n[s]||(n[s]={}),n[s]=qge({},n[s],a[s])}),i}),n};tf.default=Hge;var rf={};Object.defineProperty(rf,"__esModule",{value:!0});rf.autoprefix=void 0;var zge=rb,uw=Wge(zge),Uge=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t};function Wge(t){return t&&t.__esModule?t:{default:t}}var Gge={borderRadius:function(e){return{msBorderRadius:e,MozBorderRadius:e,OBorderRadius:e,WebkitBorderRadius:e,borderRadius:e}},boxShadow:function(e){return{msBoxShadow:e,MozBoxShadow:e,OBoxShadow:e,WebkitBoxShadow:e,boxShadow:e}},userSelect:function(e){return{WebkitTouchCallout:e,KhtmlUserSelect:e,MozUserSelect:e,msUserSelect:e,WebkitUserSelect:e,userSelect:e}},flex:function(e){return{WebkitBoxFlex:e,MozBoxFlex:e,WebkitFlex:e,msFlex:e,flex:e}},flexBasis:function(e){return{WebkitFlexBasis:e,flexBasis:e}},justifyContent:function(e){return{WebkitJustifyContent:e,justifyContent:e}},transition:function(e){return{msTransition:e,MozTransition:e,OTransition:e,WebkitTransition:e,transition:e}},transform:function(e){return{msTransform:e,MozTransform:e,OTransform:e,WebkitTransform:e,transform:e}},absolute:function(e){var r=e&&e.split(" ");return{position:"absolute",top:r&&r[0],right:r&&r[1],bottom:r&&r[2],left:r&&r[3]}},extend:function(e,r){var n=r[e];return n||{extend:e}}},Yge=rf.autoprefix=function(e){var r={};return(0,uw.default)(e,function(n,i){var a={};(0,uw.default)(n,function(o,s){var l=Gge[s];l?a=Uge({},a,l(o)):a[s]=o}),r[i]=a}),r};rf.default=Yge;var nf={};Object.defineProperty(nf,"__esModule",{value:!0});nf.hover=void 0;var Kge=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Jge=X,vv=Qge(Jge);function Qge(t){return t&&t.__esModule?t:{default:t}}function Xge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cw(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Zge(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var eme=nf.hover=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(n){Zge(i,n);function i(){var a,o,s,l;Xge(this,i);for(var u=arguments.length,c=Array(u),f=0;f<u;f++)c[f]=arguments[f];return l=(o=(s=cw(this,(a=i.__proto__||Object.getPrototypeOf(i)).call.apply(a,[this].concat(c))),s),s.state={hover:!1},s.handleMouseOver=function(){return s.setState({hover:!0})},s.handleMouseOut=function(){return s.setState({hover:!1})},s.render=function(){return vv.default.createElement(r,{onMouseOver:s.handleMouseOver,onMouseOut:s.handleMouseOut},vv.default.createElement(e,Kge({},s.props,s.state)))},o),cw(s,l)}return i}(vv.default.Component)};nf.default=eme;var af={};Object.defineProperty(af,"__esModule",{value:!0});af.active=void 0;var tme=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},rme=X,gv=nme(rme);function nme(t){return t&&t.__esModule?t:{default:t}}function ime(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fw(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function ame(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var ome=af.active=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(n){ame(i,n);function i(){var a,o,s,l;ime(this,i);for(var u=arguments.length,c=Array(u),f=0;f<u;f++)c[f]=arguments[f];return l=(o=(s=fw(this,(a=i.__proto__||Object.getPrototypeOf(i)).call.apply(a,[this].concat(c))),s),s.state={active:!1},s.handleMouseDown=function(){return s.setState({active:!0})},s.handleMouseUp=function(){return s.setState({active:!1})},s.render=function(){return gv.default.createElement(r,{onMouseDown:s.handleMouseDown,onMouseUp:s.handleMouseUp},gv.default.createElement(e,tme({},s.props,s.state)))},o),fw(s,l)}return i}(gv.default.Component)};af.default=ome;var nb={};Object.defineProperty(nb,"__esModule",{value:!0});var sme=function(e,r){var n={},i=function(o){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;n[o]=s};return e===0&&i("first-child"),e===r-1&&i("last-child"),(e===0||e%2===0)&&i("even"),Math.abs(e%2)===1&&i("odd"),i("nth-child",e),n};nb.default=sme;Object.defineProperty(ci,"__esModule",{value:!0});ci.ReactCSS=ci.loop=ci.handleActive=ib=ci.handleHover=ci.hover=void 0;var lme=ef,ume=fu(lme),cme=tf,fme=fu(cme),dme=rf,pme=fu(dme),hme=nf,ZL=fu(hme),vme=af,gme=fu(vme),mme=nb,yme=fu(mme);function fu(t){return t&&t.__esModule?t:{default:t}}ci.hover=ZL.default;var ib=ci.handleHover=ZL.default;ci.handleActive=gme.default;ci.loop=yme.default;var bme=ci.ReactCSS=function(e){for(var r=arguments.length,n=Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];var a=(0,ume.default)(n),o=(0,fme.default)(e,a);return(0,pme.default)(o)},rt=ci.default=bme,_me=function(e,r,n,i,a){var o=a.clientWidth,s=a.clientHeight,l=typeof e.pageX=="number"?e.pageX:e.touches[0].pageX,u=typeof e.pageY=="number"?e.pageY:e.touches[0].pageY,c=l-(a.getBoundingClientRect().left+window.pageXOffset),f=u-(a.getBoundingClientRect().top+window.pageYOffset);if(n==="vertical"){var d=void 0;if(f<0?d=0:f>s?d=1:d=Math.round(f*100/s)/100,r.a!==d)return{h:r.h,s:r.s,l:r.l,a:d,source:"rgb"}}else{var p=void 0;if(c<0?p=0:c>o?p=1:p=Math.round(c*100/o)/100,i!==p)return{h:r.h,s:r.s,l:r.l,a:p,source:"rgb"}}return null},mv={},Sme=function(e,r,n,i){if(typeof document>"u"&&!i)return null;var a=i?new i:document.createElement("canvas");a.width=n*2,a.height=n*2;var o=a.getContext("2d");return o?(o.fillStyle=e,o.fillRect(0,0,a.width,a.height),o.fillStyle=r,o.fillRect(0,0,n,n),o.translate(n,n),o.fillRect(0,0,n,n),a.toDataURL()):null},Ome=function(e,r,n,i){var a=e+"-"+r+"-"+n+(i?"-server":"");if(mv[a])return mv[a];var o=Sme(e,r,n,i);return mv[a]=o,o},dw=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},du=function(e){var r=e.white,n=e.grey,i=e.size,a=e.renderers,o=e.borderRadius,s=e.boxShadow,l=e.children,u=rt({default:{grid:{borderRadius:o,boxShadow:s,absolute:"0px 0px 0px 0px",background:"url("+Ome(r,n,i,a.canvas)+") center left"}}});return X.isValidElement(l)?j.cloneElement(l,dw({},l.props,{style:dw({},l.props.style,u.grid)})):j.createElement("div",{style:u.grid})};du.defaultProps={size:8,white:"transparent",grey:"rgba(0,0,0,.08)",renderers:{}};var xme=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},wme=function(){function t(e,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();function Eme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pw(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Cme(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var ab=function(t){Cme(e,t);function e(){var r,n,i,a;Eme(this,e);for(var o=arguments.length,s=Array(o),l=0;l<o;l++)s[l]=arguments[l];return a=(n=(i=pw(this,(r=e.__proto__||Object.getPrototypeOf(e)).call.apply(r,[this].concat(s))),i),i.handleChange=function(u){var c=_me(u,i.props.hsl,i.props.direction,i.props.a,i.container);c&&typeof i.props.onChange=="function"&&i.props.onChange(c,u)},i.handleMouseDown=function(u){i.handleChange(u),window.addEventListener("mousemove",i.handleChange),window.addEventListener("mouseup",i.handleMouseUp)},i.handleMouseUp=function(){i.unbindEventListeners()},i.unbindEventListeners=function(){window.removeEventListener("mousemove",i.handleChange),window.removeEventListener("mouseup",i.handleMouseUp)},n),pw(i,a)}return wme(e,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"render",value:function(){var n=this,i=this.props.rgb,a=rt({default:{alpha:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},checkboard:{absolute:"0px 0px 0px 0px",overflow:"hidden",borderRadius:this.props.radius},gradient:{absolute:"0px 0px 0px 0px",background:"linear-gradient(to right, rgba("+i.r+","+i.g+","+i.b+", 0) 0%,\n           rgba("+i.r+","+i.g+","+i.b+", 1) 100%)",boxShadow:this.props.shadow,borderRadius:this.props.radius},container:{position:"relative",height:"100%",margin:"0 3px"},pointer:{position:"absolute",left:i.a*100+"%"},slider:{width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",marginTop:"1px",transform:"translateX(-2px)"}},vertical:{gradient:{background:"linear-gradient(to bottom, rgba("+i.r+","+i.g+","+i.b+", 0) 0%,\n           rgba("+i.r+","+i.g+","+i.b+", 1) 100%)"},pointer:{left:0,top:i.a*100+"%"}},overwrite:xme({},this.props.style)},{vertical:this.props.direction==="vertical",overwrite:!0});return j.createElement("div",{style:a.alpha},j.createElement("div",{style:a.checkboard},j.createElement(du,{renderers:this.props.renderers})),j.createElement("div",{style:a.gradient}),j.createElement("div",{style:a.container,ref:function(s){return n.container=s},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},j.createElement("div",{style:a.pointer},this.props.pointer?j.createElement(this.props.pointer,this.props):j.createElement("div",{style:a.slider}))))}}]),e}(X.PureComponent||X.Component),Tme=function(){function t(e,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();function kme(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ime(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ame(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function jme(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Pme=1,eF=38,Lme=40,Fme=[eF,Lme],Rme=function(e){return Fme.indexOf(e)>-1},$me=function(e){return Number(String(e).replace(/%/g,""))},Nme=1,Tt=function(t){jme(e,t);function e(r){Ime(this,e);var n=Ame(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return n.handleBlur=function(){n.state.blurValue&&n.setState({value:n.state.blurValue,blurValue:null})},n.handleChange=function(i){n.setUpdatedValue(i.target.value,i)},n.handleKeyDown=function(i){var a=$me(i.target.value);if(!isNaN(a)&&Rme(i.keyCode)){var o=n.getArrowOffset(),s=i.keyCode===eF?a+o:a-o;n.setUpdatedValue(s,i)}},n.handleDrag=function(i){if(n.props.dragLabel){var a=Math.round(n.props.value+i.movementX);a>=0&&a<=n.props.dragMax&&n.props.onChange&&n.props.onChange(n.getValueObjectWithLabel(a),i)}},n.handleMouseDown=function(i){n.props.dragLabel&&(i.preventDefault(),n.handleDrag(i),window.addEventListener("mousemove",n.handleDrag),window.addEventListener("mouseup",n.handleMouseUp))},n.handleMouseUp=function(){n.unbindEventListeners()},n.unbindEventListeners=function(){window.removeEventListener("mousemove",n.handleDrag),window.removeEventListener("mouseup",n.handleMouseUp)},n.state={value:String(r.value).toUpperCase(),blurValue:String(r.value).toUpperCase()},n.inputId="rc-editable-input-"+Nme++,n}return Tme(e,[{key:"componentDidUpdate",value:function(n,i){this.props.value!==this.state.value&&(n.value!==this.props.value||i.value!==this.state.value)&&(this.input===document.activeElement?this.setState({blurValue:String(this.props.value).toUpperCase()}):this.setState({value:String(this.props.value).toUpperCase(),blurValue:!this.state.blurValue&&String(this.props.value).toUpperCase()}))}},{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"getValueObjectWithLabel",value:function(n){return kme({},this.props.label,n)}},{key:"getArrowOffset",value:function(){return this.props.arrowOffset||Pme}},{key:"setUpdatedValue",value:function(n,i){var a=this.props.label?this.getValueObjectWithLabel(n):n;this.props.onChange&&this.props.onChange(a,i),this.setState({value:n})}},{key:"render",value:function(){var n=this,i=rt({default:{wrap:{position:"relative"}},"user-override":{wrap:this.props.style&&this.props.style.wrap?this.props.style.wrap:{},input:this.props.style&&this.props.style.input?this.props.style.input:{},label:this.props.style&&this.props.style.label?this.props.style.label:{}},"dragLabel-true":{label:{cursor:"ew-resize"}}},{"user-override":!0},this.props);return j.createElement("div",{style:i.wrap},j.createElement("input",{id:this.inputId,style:i.input,ref:function(o){return n.input=o},value:this.state.value,onKeyDown:this.handleKeyDown,onChange:this.handleChange,onBlur:this.handleBlur,placeholder:this.props.placeholder,spellCheck:"false"}),this.props.label&&!this.props.hideLabel?j.createElement("label",{htmlFor:this.inputId,style:i.label,onMouseDown:this.handleMouseDown},this.props.label):null)}}]),e}(X.PureComponent||X.Component),Dme=function(e,r,n,i){var a=i.clientWidth,o=i.clientHeight,s=typeof e.pageX=="number"?e.pageX:e.touches[0].pageX,l=typeof e.pageY=="number"?e.pageY:e.touches[0].pageY,u=s-(i.getBoundingClientRect().left+window.pageXOffset),c=l-(i.getBoundingClientRect().top+window.pageYOffset);if(r==="vertical"){var f=void 0;if(c<0)f=359;else if(c>o)f=0;else{var d=-(c*100/o)+100;f=360*d/100}if(n.h!==f)return{h:f,s:n.s,l:n.l,a:n.a,source:"hsl"}}else{var p=void 0;if(u<0)p=0;else if(u>a)p=359;else{var v=u*100/a;p=360*v/100}if(n.h!==p)return{h:p,s:n.s,l:n.l,a:n.a,source:"hsl"}}return null},Mme=function(){function t(e,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();function Vme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hw(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Bme(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var pu=function(t){Bme(e,t);function e(){var r,n,i,a;Vme(this,e);for(var o=arguments.length,s=Array(o),l=0;l<o;l++)s[l]=arguments[l];return a=(n=(i=hw(this,(r=e.__proto__||Object.getPrototypeOf(e)).call.apply(r,[this].concat(s))),i),i.handleChange=function(u){var c=Dme(u,i.props.direction,i.props.hsl,i.container);c&&typeof i.props.onChange=="function"&&i.props.onChange(c,u)},i.handleMouseDown=function(u){i.handleChange(u),window.addEventListener("mousemove",i.handleChange),window.addEventListener("mouseup",i.handleMouseUp)},i.handleMouseUp=function(){i.unbindEventListeners()},n),hw(i,a)}return Mme(e,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"unbindEventListeners",value:function(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var n=this,i=this.props.direction,a=i===void 0?"horizontal":i,o=rt({default:{hue:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius,boxShadow:this.props.shadow},container:{padding:"0 2px",position:"relative",height:"100%",borderRadius:this.props.radius},pointer:{position:"absolute",left:this.props.hsl.h*100/360+"%"},slider:{marginTop:"1px",width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",transform:"translateX(-2px)"}},vertical:{pointer:{left:"0px",top:-(this.props.hsl.h*100/360)+100+"%"}}},{vertical:a==="vertical"});return j.createElement("div",{style:o.hue},j.createElement("div",{className:"hue-"+a,style:o.container,ref:function(l){return n.container=l},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},j.createElement("style",null,"\n            .hue-horizontal {\n              background: linear-gradient(to right, #f00 0%, #ff0 17%, #0f0\n                33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n              background: -webkit-linear-gradient(to right, #f00 0%, #ff0\n                17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n            }\n\n            .hue-vertical {\n              background: linear-gradient(to top, #f00 0%, #ff0 17%, #0f0 33%,\n                #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n              background: -webkit-linear-gradient(to top, #f00 0%, #ff0 17%,\n                #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);\n            }\n          "),j.createElement("div",{style:o.pointer},this.props.pointer?j.createElement(this.props.pointer,this.props):j.createElement("div",{style:o.slider}))))}}]),e}(X.PureComponent||X.Component);function qme(){this.__data__=[],this.size=0}function of(t,e){return t===e||t!==t&&e!==e}function oh(t,e){for(var r=t.length;r--;)if(of(t[r][0],e))return r;return-1}var Hme=Array.prototype,zme=Hme.splice;function Ume(t){var e=this.__data__,r=oh(e,t);if(r<0)return!1;var n=e.length-1;return r==n?e.pop():zme.call(e,r,1),--this.size,!0}function Wme(t){var e=this.__data__,r=oh(e,t);return r<0?void 0:e[r][1]}function Gme(t){return oh(this.__data__,t)>-1}function Yme(t,e){var r=this.__data__,n=oh(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this}function Ya(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Ya.prototype.clear=qme;Ya.prototype.delete=Ume;Ya.prototype.get=Wme;Ya.prototype.has=Gme;Ya.prototype.set=Yme;function Kme(){this.__data__=new Ya,this.size=0}function Jme(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r}function Qme(t){return this.__data__.get(t)}function Xme(t){return this.__data__.has(t)}var tF=typeof global=="object"&&global&&global.Object===Object&&global,Zme=typeof self=="object"&&self&&self.Object===Object&&self,Ki=tF||Zme||Function("return this")(),wo=Ki.Symbol,rF=Object.prototype,eye=rF.hasOwnProperty,tye=rF.toString,Eu=wo?wo.toStringTag:void 0;function rye(t){var e=eye.call(t,Eu),r=t[Eu];try{t[Eu]=void 0;var n=!0}catch(a){}var i=tye.call(t);return n&&(e?t[Eu]=r:delete t[Eu]),i}var nye=Object.prototype,iye=nye.toString;function aye(t){return iye.call(t)}var oye="[object Null]",sye="[object Undefined]",vw=wo?wo.toStringTag:void 0;function Os(t){return t==null?t===void 0?sye:oye:vw&&vw in Object(t)?rye(t):aye(t)}function Oi(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var lye="[object AsyncFunction]",uye="[object Function]",cye="[object GeneratorFunction]",fye="[object Proxy]";function ob(t){if(!Oi(t))return!1;var e=Os(t);return e==uye||e==cye||e==lye||e==fye}var yv=Ki["__core-js_shared__"],gw=function(){var t=/[^.]+$/.exec(yv&&yv.keys&&yv.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function dye(t){return!!gw&&gw in t}var pye=Function.prototype,hye=pye.toString;function xs(t){if(t!=null){try{return hye.call(t)}catch(e){}try{return t+""}catch(e){}}return""}var vye=/[\\^$.*+?()[\]{}|]/g,gye=/^\[object .+?Constructor\]$/,mye=Function.prototype,yye=Object.prototype,bye=mye.toString,_ye=yye.hasOwnProperty,Sye=RegExp("^"+bye.call(_ye).replace(vye,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Oye(t){if(!Oi(t)||dye(t))return!1;var e=ob(t)?Sye:gye;return e.test(xs(t))}function xye(t,e){return t==null?void 0:t[e]}function ws(t,e){var r=xye(t,e);return Oye(r)?r:void 0}var yc=ws(Ki,"Map"),bc=ws(Object,"create");function wye(){this.__data__=bc?bc(null):{},this.size=0}function Eye(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var Cye="__lodash_hash_undefined__",Tye=Object.prototype,kye=Tye.hasOwnProperty;function Iye(t){var e=this.__data__;if(bc){var r=e[t];return r===Cye?void 0:r}return kye.call(e,t)?e[t]:void 0}var Aye=Object.prototype,jye=Aye.hasOwnProperty;function Pye(t){var e=this.__data__;return bc?e[t]!==void 0:jye.call(e,t)}var Lye="__lodash_hash_undefined__";function Fye(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=bc&&e===void 0?Lye:e,this}function rs(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}rs.prototype.clear=wye;rs.prototype.delete=Eye;rs.prototype.get=Iye;rs.prototype.has=Pye;rs.prototype.set=Fye;function Rye(){this.size=0,this.__data__={hash:new rs,map:new(yc||Ya),string:new rs}}function $ye(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function sh(t,e){var r=t.__data__;return $ye(e)?r[typeof e=="string"?"string":"hash"]:r.map}function Nye(t){var e=sh(this,t).delete(t);return this.size-=e?1:0,e}function Dye(t){return sh(this,t).get(t)}function Mye(t){return sh(this,t).has(t)}function Vye(t,e){var r=sh(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this}function Ka(t){var e=-1,r=t==null?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Ka.prototype.clear=Rye;Ka.prototype.delete=Nye;Ka.prototype.get=Dye;Ka.prototype.has=Mye;Ka.prototype.set=Vye;var Bye=200;function qye(t,e){var r=this.__data__;if(r instanceof Ya){var n=r.__data__;if(!yc||n.length<Bye-1)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new Ka(n)}return r.set(t,e),this.size=r.size,this}function da(t){var e=this.__data__=new Ya(t);this.size=e.size}da.prototype.clear=Kme;da.prototype.delete=Jme;da.prototype.get=Qme;da.prototype.has=Xme;da.prototype.set=qye;var zd=function(){try{var t=ws(Object,"defineProperty");return t({},"",{}),t}catch(e){}}();function sb(t,e,r){e=="__proto__"&&zd?zd(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}function Rg(t,e,r){(r!==void 0&&!of(t[e],r)||r===void 0&&!(e in t))&&sb(t,e,r)}function Hye(t){return function(e,r,n){for(var i=-1,a=Object(e),o=n(e),s=o.length;s--;){var l=o[++i];if(r(a[l],l,a)===!1)break}return e}}var nF=Hye(),iF=typeof exports=="object"&&exports&&!exports.nodeType&&exports,mw=iF&&typeof module=="object"&&module&&!module.nodeType&&module,zye=mw&&mw.exports===iF,yw=zye?Ki.Buffer:void 0;yw&&yw.allocUnsafe;function Uye(t,e){return t.slice()}var Ud=Ki.Uint8Array;function Wye(t){var e=new t.constructor(t.byteLength);return new Ud(e).set(new Ud(t)),e}function Gye(t,e){var r=Wye(t.buffer);return new t.constructor(r,t.byteOffset,t.length)}function Yye(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e}var bw=Object.create,Kye=function(){function t(){}return function(e){if(!Oi(e))return{};if(bw)return bw(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}();function aF(t,e){return function(r){return t(e(r))}}var oF=aF(Object.getPrototypeOf,Object),Jye=Object.prototype;function lb(t){var e=t&&t.constructor,r=typeof e=="function"&&e.prototype||Jye;return t===r}function Qye(t){return typeof t.constructor=="function"&&!lb(t)?Kye(oF(t)):{}}function Eo(t){return t!=null&&typeof t=="object"}var Xye="[object Arguments]";function _w(t){return Eo(t)&&Os(t)==Xye}var sF=Object.prototype,Zye=sF.hasOwnProperty,e0e=sF.propertyIsEnumerable,Wd=_w(function(){return arguments}())?_w:function(t){return Eo(t)&&Zye.call(t,"callee")&&!e0e.call(t,"callee")},Zn=Array.isArray,t0e=9007199254740991;function ub(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=t0e}function hu(t){return t!=null&&ub(t.length)&&!ob(t)}function r0e(t){return Eo(t)&&hu(t)}function n0e(){return!1}var lF=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Sw=lF&&typeof module=="object"&&module&&!module.nodeType&&module,i0e=Sw&&Sw.exports===lF,Ow=i0e?Ki.Buffer:void 0,a0e=Ow?Ow.isBuffer:void 0,Gd=a0e||n0e,o0e="[object Object]",s0e=Function.prototype,l0e=Object.prototype,uF=s0e.toString,u0e=l0e.hasOwnProperty,c0e=uF.call(Object);function f0e(t){if(!Eo(t)||Os(t)!=o0e)return!1;var e=oF(t);if(e===null)return!0;var r=u0e.call(e,"constructor")&&e.constructor;return typeof r=="function"&&r instanceof r&&uF.call(r)==c0e}var d0e="[object Arguments]",p0e="[object Array]",h0e="[object Boolean]",v0e="[object Date]",g0e="[object Error]",m0e="[object Function]",y0e="[object Map]",b0e="[object Number]",_0e="[object Object]",S0e="[object RegExp]",O0e="[object Set]",x0e="[object String]",w0e="[object WeakMap]",E0e="[object ArrayBuffer]",C0e="[object DataView]",T0e="[object Float32Array]",k0e="[object Float64Array]",I0e="[object Int8Array]",A0e="[object Int16Array]",j0e="[object Int32Array]",P0e="[object Uint8Array]",L0e="[object Uint8ClampedArray]",F0e="[object Uint16Array]",R0e="[object Uint32Array]",dr={};dr[T0e]=dr[k0e]=dr[I0e]=dr[A0e]=dr[j0e]=dr[P0e]=dr[L0e]=dr[F0e]=dr[R0e]=!0;dr[d0e]=dr[p0e]=dr[E0e]=dr[h0e]=dr[C0e]=dr[v0e]=dr[g0e]=dr[m0e]=dr[y0e]=dr[b0e]=dr[_0e]=dr[S0e]=dr[O0e]=dr[x0e]=dr[w0e]=!1;function $0e(t){return Eo(t)&&ub(t.length)&&!!dr[Os(t)]}function N0e(t){return function(e){return t(e)}}var cF=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Yu=cF&&typeof module=="object"&&module&&!module.nodeType&&module,D0e=Yu&&Yu.exports===cF,bv=D0e&&tF.process,xw=function(){try{var t=Yu&&Yu.require&&Yu.require("util").types;return t||bv&&bv.binding&&bv.binding("util")}catch(e){}}(),ww=xw&&xw.isTypedArray,cb=ww?N0e(ww):$0e;function $g(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}var M0e=Object.prototype,V0e=M0e.hasOwnProperty;function B0e(t,e,r){var n=t[e];(!(V0e.call(t,e)&&of(n,r))||r===void 0&&!(e in t))&&sb(t,e,r)}function q0e(t,e,r,n){var i=!r;r||(r={});for(var a=-1,o=e.length;++a<o;){var s=e[a],l=void 0;l===void 0&&(l=t[s]),i?sb(r,s,l):B0e(r,s,l)}return r}function H0e(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}var z0e=9007199254740991,U0e=/^(?:0|[1-9]\d*)$/;function fb(t,e){var r=typeof t;return e=e==null?z0e:e,!!e&&(r=="number"||r!="symbol"&&U0e.test(t))&&t>-1&&t%1==0&&t<e}var W0e=Object.prototype,G0e=W0e.hasOwnProperty;function fF(t,e){var r=Zn(t),n=!r&&Wd(t),i=!r&&!n&&Gd(t),a=!r&&!n&&!i&&cb(t),o=r||n||i||a,s=o?H0e(t.length,String):[],l=s.length;for(var u in t)(e||G0e.call(t,u))&&!(o&&(u=="length"||i&&(u=="offset"||u=="parent")||a&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||fb(u,l)))&&s.push(u);return s}function Y0e(t){var e=[];if(t!=null)for(var r in Object(t))e.push(r);return e}var K0e=Object.prototype,J0e=K0e.hasOwnProperty;function Q0e(t){if(!Oi(t))return Y0e(t);var e=lb(t),r=[];for(var n in t)n=="constructor"&&(e||!J0e.call(t,n))||r.push(n);return r}function dF(t){return hu(t)?fF(t,!0):Q0e(t)}function X0e(t){return q0e(t,dF(t))}function Z0e(t,e,r,n,i,a,o){var s=$g(t,r),l=$g(e,r),u=o.get(l);if(u){Rg(t,r,u);return}var c=a?a(s,l,r+"",t,e,o):void 0,f=c===void 0;if(f){var d=Zn(l),p=!d&&Gd(l),v=!d&&!p&&cb(l);c=l,d||p||v?Zn(s)?c=s:r0e(s)?c=Yye(s):p?(f=!1,c=Uye(l)):v?(f=!1,c=Gye(l)):c=[]:f0e(l)||Wd(l)?(c=s,Wd(s)?c=X0e(s):(!Oi(s)||ob(s))&&(c=Qye(l))):f=!1}f&&(o.set(l,c),i(c,l,n,a,o),o.delete(l)),Rg(t,r,c)}function pF(t,e,r,n,i){t!==e&&nF(e,function(a,o){if(i||(i=new da),Oi(a))Z0e(t,e,o,r,pF,n,i);else{var s=n?n($g(t,o),a,o+"",t,e,i):void 0;s===void 0&&(s=a),Rg(t,o,s)}},dF)}function lh(t){return t}function ebe(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}var Ew=Math.max;function tbe(t,e,r){return e=Ew(e===void 0?t.length-1:e,0),function(){for(var n=arguments,i=-1,a=Ew(n.length-e,0),o=Array(a);++i<a;)o[i]=n[e+i];i=-1;for(var s=Array(e+1);++i<e;)s[i]=n[i];return s[e]=r(o),ebe(t,this,s)}}function rbe(t){return function(){return t}}var nbe=zd?function(t,e){return zd(t,"toString",{configurable:!0,enumerable:!1,value:rbe(e),writable:!0})}:lh,ibe=800,abe=16,obe=Date.now;function sbe(t){var e=0,r=0;return function(){var n=obe(),i=abe-(n-r);if(r=n,i>0){if(++e>=ibe)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var lbe=sbe(nbe);function ube(t,e){return lbe(tbe(t,e,lh),t+"")}function cbe(t,e,r){if(!Oi(r))return!1;var n=typeof e;return(n=="number"?hu(r)&&fb(e,r.length):n=="string"&&e in r)?of(r[e],t):!1}function fbe(t){return ube(function(e,r){var n=-1,i=r.length,a=i>1?r[i-1]:void 0,o=i>2?r[2]:void 0;for(a=t.length>3&&typeof a=="function"?(i--,a):void 0,o&&cbe(r[0],r[1],o)&&(a=i<3?void 0:a,i=1),e=Object(e);++n<i;){var s=r[n];s&&t(e,s,n,a)}return e})}var Hn=fbe(function(t,e,r){pF(t,e,r)}),sf=function(e){var r=e.zDepth,n=e.radius,i=e.background,a=e.children,o=e.styles,s=o===void 0?{}:o,l=rt(Hn({default:{wrap:{position:"relative",display:"inline-block"},content:{position:"relative"},bg:{absolute:"0px 0px 0px 0px",boxShadow:"0 "+r+"px "+r*4+"px rgba(0,0,0,.24)",borderRadius:n,background:i}},"zDepth-0":{bg:{boxShadow:"none"}},"zDepth-1":{bg:{boxShadow:"0 2px 10px rgba(0,0,0,.12), 0 2px 5px rgba(0,0,0,.16)"}},"zDepth-2":{bg:{boxShadow:"0 6px 20px rgba(0,0,0,.19), 0 8px 17px rgba(0,0,0,.2)"}},"zDepth-3":{bg:{boxShadow:"0 17px 50px rgba(0,0,0,.19), 0 12px 15px rgba(0,0,0,.24)"}},"zDepth-4":{bg:{boxShadow:"0 25px 55px rgba(0,0,0,.21), 0 16px 28px rgba(0,0,0,.22)"}},"zDepth-5":{bg:{boxShadow:"0 40px 77px rgba(0,0,0,.22), 0 27px 24px rgba(0,0,0,.2)"}},square:{bg:{borderRadius:"0"}},circle:{bg:{borderRadius:"50%"}}},s),{"zDepth-1":r===1});return j.createElement("div",{style:l.wrap},j.createElement("div",{style:l.bg}),j.createElement("div",{style:l.content},a))};sf.propTypes={background:z.string,zDepth:z.oneOf([0,1,2,3,4,5]),radius:z.number,styles:z.object};sf.defaultProps={background:"#fff",zDepth:1,radius:2,styles:{}};var _v=function(){return Ki.Date.now()},dbe=/\s/;function pbe(t){for(var e=t.length;e--&&dbe.test(t.charAt(e)););return e}var hbe=/^\s+/;function vbe(t){return t&&t.slice(0,pbe(t)+1).replace(hbe,"")}var gbe="[object Symbol]";function uh(t){return typeof t=="symbol"||Eo(t)&&Os(t)==gbe}var Cw=NaN,mbe=/^[-+]0x[0-9a-f]+$/i,ybe=/^0b[01]+$/i,bbe=/^0o[0-7]+$/i,_be=parseInt;function Tw(t){if(typeof t=="number")return t;if(uh(t))return Cw;if(Oi(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Oi(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=vbe(t);var r=ybe.test(t);return r||bbe.test(t)?_be(t.slice(2),r?2:8):mbe.test(t)?Cw:+t}var Sbe="Expected a function",Obe=Math.max,xbe=Math.min;function hF(t,e,r){var n,i,a,o,s,l,u=0,c=!1,f=!1,d=!0;if(typeof t!="function")throw new TypeError(Sbe);e=Tw(e)||0,Oi(r)&&(c=!!r.leading,f="maxWait"in r,a=f?Obe(Tw(r.maxWait)||0,e):a,d="trailing"in r?!!r.trailing:d);function p(O){var x=n,E=i;return n=i=void 0,u=O,o=t.apply(E,x),o}function v(O){return u=O,s=setTimeout(y,e),c?p(O):o}function h(O){var x=O-l,E=O-u,A=e-x;return f?xbe(A,a-E):A}function g(O){var x=O-l,E=O-u;return l===void 0||x>=e||x<0||f&&E>=a}function y(){var O=_v();if(g(O))return m(O);s=setTimeout(y,h(O))}function m(O){return s=void 0,d&&n?p(O):(n=i=void 0,o)}function _(){s!==void 0&&clearTimeout(s),u=0,n=l=i=s=void 0}function b(){return s===void 0?o:m(_v())}function S(){var O=_v(),x=g(O);if(n=arguments,i=this,l=O,x){if(s===void 0)return v(l);if(f)return clearTimeout(s),s=setTimeout(y,e),p(l)}return s===void 0&&(s=setTimeout(y,e)),o}return S.cancel=_,S.flush=b,S}var wbe="Expected a function";function Ebe(t,e,r){var n=!0,i=!0;if(typeof t!="function")throw new TypeError(wbe);return Oi(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),hF(t,e,{leading:n,maxWait:e,trailing:i})}var Cbe=function(e,r,n){var i=n.getBoundingClientRect(),a=i.width,o=i.height,s=typeof e.pageX=="number"?e.pageX:e.touches[0].pageX,l=typeof e.pageY=="number"?e.pageY:e.touches[0].pageY,u=s-(n.getBoundingClientRect().left+window.pageXOffset),c=l-(n.getBoundingClientRect().top+window.pageYOffset);u<0?u=0:u>a&&(u=a),c<0?c=0:c>o&&(c=o);var f=u/a,d=1-c/o;return{h:r.h,s:f,v:d,a:r.a,source:"hsv"}},Tbe=function(){function t(e,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();function kbe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ibe(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Abe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var ch=function(t){Abe(e,t);function e(r){kbe(this,e);var n=Ibe(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r));return n.handleChange=function(i){typeof n.props.onChange=="function"&&n.throttle(n.props.onChange,Cbe(i,n.props.hsl,n.container),i)},n.handleMouseDown=function(i){n.handleChange(i);var a=n.getContainerRenderWindow();a.addEventListener("mousemove",n.handleChange),a.addEventListener("mouseup",n.handleMouseUp)},n.handleMouseUp=function(){n.unbindEventListeners()},n.throttle=Ebe(function(i,a,o){i(a,o)},50),n}return Tbe(e,[{key:"componentWillUnmount",value:function(){this.throttle.cancel(),this.unbindEventListeners()}},{key:"getContainerRenderWindow",value:function(){for(var n=this.container,i=window;!i.document.contains(n)&&i.parent!==i;)i=i.parent;return i}},{key:"unbindEventListeners",value:function(){var n=this.getContainerRenderWindow();n.removeEventListener("mousemove",this.handleChange),n.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var n=this,i=this.props.style||{},a=i.color,o=i.white,s=i.black,l=i.pointer,u=i.circle,c=rt({default:{color:{absolute:"0px 0px 0px 0px",background:"hsl("+this.props.hsl.h+",100%, 50%)",borderRadius:this.props.radius},white:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},black:{absolute:"0px 0px 0px 0px",boxShadow:this.props.shadow,borderRadius:this.props.radius},pointer:{position:"absolute",top:-(this.props.hsv.v*100)+100+"%",left:this.props.hsv.s*100+"%",cursor:"default"},circle:{width:"4px",height:"4px",boxShadow:"0 0 0 1.5px #fff, inset 0 0 1px 1px rgba(0,0,0,.3),\n            0 0 1px 2px rgba(0,0,0,.4)",borderRadius:"50%",cursor:"hand",transform:"translate(-2px, -2px)"}},custom:{color:a,white:o,black:s,pointer:l,circle:u}},{custom:!!this.props.style});return j.createElement("div",{style:c.color,ref:function(d){return n.container=d},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},j.createElement("style",null,"\n          .saturation-white {\n            background: -webkit-linear-gradient(to right, #fff, rgba(255,255,255,0));\n            background: linear-gradient(to right, #fff, rgba(255,255,255,0));\n          }\n          .saturation-black {\n            background: -webkit-linear-gradient(to top, #000, rgba(0,0,0,0));\n            background: linear-gradient(to top, #000, rgba(0,0,0,0));\n          }\n        "),j.createElement("div",{style:c.white,className:"saturation-white"},j.createElement("div",{style:c.black,className:"saturation-black"}),j.createElement("div",{style:c.pointer},this.props.pointer?j.createElement(this.props.pointer,this.props):j.createElement("div",{style:c.circle}))))}}]),e}(X.PureComponent||X.Component);function jbe(t,e){for(var r=-1,n=t==null?0:t.length;++r<n&&e(t[r],r,t)!==!1;);return t}var Pbe=aF(Object.keys,Object),Lbe=Object.prototype,Fbe=Lbe.hasOwnProperty;function Rbe(t){if(!lb(t))return Pbe(t);var e=[];for(var r in Object(t))Fbe.call(t,r)&&r!="constructor"&&e.push(r);return e}function db(t){return hu(t)?fF(t):Rbe(t)}function $be(t,e){return t&&nF(t,e,db)}function Nbe(t,e){return function(r,n){if(r==null)return r;if(!hu(r))return t(r,n);for(var i=r.length,a=-1,o=Object(r);++a<i&&n(o[a],a,o)!==!1;);return r}}var vF=Nbe($be);function Dbe(t){return typeof t=="function"?t:lh}function Mbe(t,e){var r=Zn(t)?jbe:vF;return r(t,Dbe(e))}function Yd(t){"@babel/helpers - typeof";return Yd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yd(t)}var Vbe=/^\s+/,Bbe=/\s+$/;function He(t,e){if(t=t||"",e=e||{},t instanceof He)return t;if(!(this instanceof He))return new He(t,e);var r=qbe(t);this._originalInput=t,this._r=r.r,this._g=r.g,this._b=r.b,this._a=r.a,this._roundA=Math.round(100*this._a)/100,this._format=e.format||r.format,this._gradientType=e.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=r.ok}He.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},getLuminance:function(){var e=this.toRgb(),r,n,i,a,o,s;return r=e.r/255,n=e.g/255,i=e.b/255,r<=.03928?a=r/12.92:a=Math.pow((r+.055)/1.055,2.4),n<=.03928?o=n/12.92:o=Math.pow((n+.055)/1.055,2.4),i<=.03928?s=i/12.92:s=Math.pow((i+.055)/1.055,2.4),.2126*a+.7152*o+.0722*s},setAlpha:function(e){return this._a=gF(e),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var e=Iw(this._r,this._g,this._b);return{h:e.h*360,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=Iw(this._r,this._g,this._b),r=Math.round(e.h*360),n=Math.round(e.s*100),i=Math.round(e.v*100);return this._a==1?"hsv("+r+", "+n+"%, "+i+"%)":"hsva("+r+", "+n+"%, "+i+"%, "+this._roundA+")"},toHsl:function(){var e=kw(this._r,this._g,this._b);return{h:e.h*360,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=kw(this._r,this._g,this._b),r=Math.round(e.h*360),n=Math.round(e.s*100),i=Math.round(e.l*100);return this._a==1?"hsl("+r+", "+n+"%, "+i+"%)":"hsla("+r+", "+n+"%, "+i+"%, "+this._roundA+")"},toHex:function(e){return Aw(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return Wbe(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(xr(this._r,255)*100)+"%",g:Math.round(xr(this._g,255)*100)+"%",b:Math.round(xr(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(xr(this._r,255)*100)+"%, "+Math.round(xr(this._g,255)*100)+"%, "+Math.round(xr(this._b,255)*100)+"%)":"rgba("+Math.round(xr(this._r,255)*100)+"%, "+Math.round(xr(this._g,255)*100)+"%, "+Math.round(xr(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:i1e[Aw(this._r,this._g,this._b,!0)]||!1},toFilter:function(e){var r="#"+jw(this._r,this._g,this._b,this._a),n=r,i=this._gradientType?"GradientType = 1, ":"";if(e){var a=He(e);n="#"+jw(a._r,a._g,a._b,a._a)}return"progid:DXImageTransform.Microsoft.gradient("+i+"startColorstr="+r+",endColorstr="+n+")"},toString:function(e){var r=!!e;e=e||this._format;var n=!1,i=this._a<1&&this._a>=0,a=!r&&i&&(e==="hex"||e==="hex6"||e==="hex3"||e==="hex4"||e==="hex8"||e==="name");return a?e==="name"&&this._a===0?this.toName():this.toRgbString():(e==="rgb"&&(n=this.toRgbString()),e==="prgb"&&(n=this.toPercentageRgbString()),(e==="hex"||e==="hex6")&&(n=this.toHexString()),e==="hex3"&&(n=this.toHexString(!0)),e==="hex4"&&(n=this.toHex8String(!0)),e==="hex8"&&(n=this.toHex8String()),e==="name"&&(n=this.toName()),e==="hsl"&&(n=this.toHslString()),e==="hsv"&&(n=this.toHsvString()),n||this.toHexString())},clone:function(){return He(this.toString())},_applyModification:function(e,r){var n=e.apply(null,[this].concat([].slice.call(r)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(Jbe,arguments)},brighten:function(){return this._applyModification(Qbe,arguments)},darken:function(){return this._applyModification(Xbe,arguments)},desaturate:function(){return this._applyModification(Gbe,arguments)},saturate:function(){return this._applyModification(Ybe,arguments)},greyscale:function(){return this._applyModification(Kbe,arguments)},spin:function(){return this._applyModification(Zbe,arguments)},_applyCombination:function(e,r){return e.apply(null,[this].concat([].slice.call(r)))},analogous:function(){return this._applyCombination(r1e,arguments)},complement:function(){return this._applyCombination(e1e,arguments)},monochromatic:function(){return this._applyCombination(n1e,arguments)},splitcomplement:function(){return this._applyCombination(t1e,arguments)},triad:function(){return this._applyCombination(Pw,[3])},tetrad:function(){return this._applyCombination(Pw,[4])}};He.fromRatio=function(t,e){if(Yd(t)=="object"){var r={};for(var n in t)t.hasOwnProperty(n)&&(n==="a"?r[n]=t[n]:r[n]=Lu(t[n]));t=r}return He(t,e)};function qbe(t){var e={r:0,g:0,b:0},r=1,n=null,i=null,a=null,o=!1,s=!1;return typeof t=="string"&&(t=l1e(t)),Yd(t)=="object"&&(Aa(t.r)&&Aa(t.g)&&Aa(t.b)?(e=Hbe(t.r,t.g,t.b),o=!0,s=String(t.r).substr(-1)==="%"?"prgb":"rgb"):Aa(t.h)&&Aa(t.s)&&Aa(t.v)?(n=Lu(t.s),i=Lu(t.v),e=Ube(t.h,n,i),o=!0,s="hsv"):Aa(t.h)&&Aa(t.s)&&Aa(t.l)&&(n=Lu(t.s),a=Lu(t.l),e=zbe(t.h,n,a),o=!0,s="hsl"),t.hasOwnProperty("a")&&(r=t.a)),r=gF(r),{ok:o,format:t.format||s,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:r}}function Hbe(t,e,r){return{r:xr(t,255)*255,g:xr(e,255)*255,b:xr(r,255)*255}}function kw(t,e,r){t=xr(t,255),e=xr(e,255),r=xr(r,255);var n=Math.max(t,e,r),i=Math.min(t,e,r),a,o,s=(n+i)/2;if(n==i)a=o=0;else{var l=n-i;switch(o=s>.5?l/(2-n-i):l/(n+i),n){case t:a=(e-r)/l+(e<r?6:0);break;case e:a=(r-t)/l+2;break;case r:a=(t-e)/l+4;break}a/=6}return{h:a,s:o,l:s}}function zbe(t,e,r){var n,i,a;t=xr(t,360),e=xr(e,100),r=xr(r,100);function o(u,c,f){return f<0&&(f+=1),f>1&&(f-=1),f<1/6?u+(c-u)*6*f:f<1/2?c:f<2/3?u+(c-u)*(2/3-f)*6:u}if(e===0)n=i=a=r;else{var s=r<.5?r*(1+e):r+e-r*e,l=2*r-s;n=o(l,s,t+1/3),i=o(l,s,t),a=o(l,s,t-1/3)}return{r:n*255,g:i*255,b:a*255}}function Iw(t,e,r){t=xr(t,255),e=xr(e,255),r=xr(r,255);var n=Math.max(t,e,r),i=Math.min(t,e,r),a,o,s=n,l=n-i;if(o=n===0?0:l/n,n==i)a=0;else{switch(n){case t:a=(e-r)/l+(e<r?6:0);break;case e:a=(r-t)/l+2;break;case r:a=(t-e)/l+4;break}a/=6}return{h:a,s:o,v:s}}function Ube(t,e,r){t=xr(t,360)*6,e=xr(e,100),r=xr(r,100);var n=Math.floor(t),i=t-n,a=r*(1-e),o=r*(1-i*e),s=r*(1-(1-i)*e),l=n%6,u=[r,o,a,a,s,r][l],c=[s,r,r,o,a,a][l],f=[a,a,s,r,r,o][l];return{r:u*255,g:c*255,b:f*255}}function Aw(t,e,r,n){var i=[$i(Math.round(t).toString(16)),$i(Math.round(e).toString(16)),$i(Math.round(r).toString(16))];return n&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function Wbe(t,e,r,n,i){var a=[$i(Math.round(t).toString(16)),$i(Math.round(e).toString(16)),$i(Math.round(r).toString(16)),$i(mF(n))];return i&&a[0].charAt(0)==a[0].charAt(1)&&a[1].charAt(0)==a[1].charAt(1)&&a[2].charAt(0)==a[2].charAt(1)&&a[3].charAt(0)==a[3].charAt(1)?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0)+a[3].charAt(0):a.join("")}function jw(t,e,r,n){var i=[$i(mF(n)),$i(Math.round(t).toString(16)),$i(Math.round(e).toString(16)),$i(Math.round(r).toString(16))];return i.join("")}He.equals=function(t,e){return!t||!e?!1:He(t).toRgbString()==He(e).toRgbString()};He.random=function(){return He.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function Gbe(t,e){e=e===0?0:e||10;var r=He(t).toHsl();return r.s-=e/100,r.s=fh(r.s),He(r)}function Ybe(t,e){e=e===0?0:e||10;var r=He(t).toHsl();return r.s+=e/100,r.s=fh(r.s),He(r)}function Kbe(t){return He(t).desaturate(100)}function Jbe(t,e){e=e===0?0:e||10;var r=He(t).toHsl();return r.l+=e/100,r.l=fh(r.l),He(r)}function Qbe(t,e){e=e===0?0:e||10;var r=He(t).toRgb();return r.r=Math.max(0,Math.min(255,r.r-Math.round(255*-(e/100)))),r.g=Math.max(0,Math.min(255,r.g-Math.round(255*-(e/100)))),r.b=Math.max(0,Math.min(255,r.b-Math.round(255*-(e/100)))),He(r)}function Xbe(t,e){e=e===0?0:e||10;var r=He(t).toHsl();return r.l-=e/100,r.l=fh(r.l),He(r)}function Zbe(t,e){var r=He(t).toHsl(),n=(r.h+e)%360;return r.h=n<0?360+n:n,He(r)}function e1e(t){var e=He(t).toHsl();return e.h=(e.h+180)%360,He(e)}function Pw(t,e){if(isNaN(e)||e<=0)throw new Error("Argument to polyad must be a positive number");for(var r=He(t).toHsl(),n=[He(t)],i=360/e,a=1;a<e;a++)n.push(He({h:(r.h+a*i)%360,s:r.s,l:r.l}));return n}function t1e(t){var e=He(t).toHsl(),r=e.h;return[He(t),He({h:(r+72)%360,s:e.s,l:e.l}),He({h:(r+216)%360,s:e.s,l:e.l})]}function r1e(t,e,r){e=e||6,r=r||30;var n=He(t).toHsl(),i=360/r,a=[He(t)];for(n.h=(n.h-(i*e>>1)+720)%360;--e;)n.h=(n.h+i)%360,a.push(He(n));return a}function n1e(t,e){e=e||6;for(var r=He(t).toHsv(),n=r.h,i=r.s,a=r.v,o=[],s=1/e;e--;)o.push(He({h:n,s:i,v:a})),a=(a+s)%1;return o}He.mix=function(t,e,r){r=r===0?0:r||50;var n=He(t).toRgb(),i=He(e).toRgb(),a=r/100,o={r:(i.r-n.r)*a+n.r,g:(i.g-n.g)*a+n.g,b:(i.b-n.b)*a+n.b,a:(i.a-n.a)*a+n.a};return He(o)};He.readability=function(t,e){var r=He(t),n=He(e);return(Math.max(r.getLuminance(),n.getLuminance())+.05)/(Math.min(r.getLuminance(),n.getLuminance())+.05)};He.isReadable=function(t,e,r){var n=He.readability(t,e),i,a;switch(a=!1,i=u1e(r),i.level+i.size){case"AAsmall":case"AAAlarge":a=n>=4.5;break;case"AAlarge":a=n>=3;break;case"AAAsmall":a=n>=7;break}return a};He.mostReadable=function(t,e,r){var n=null,i=0,a,o,s,l;r=r||{},o=r.includeFallbackColors,s=r.level,l=r.size;for(var u=0;u<e.length;u++)a=He.readability(t,e[u]),a>i&&(i=a,n=He(e[u]));return He.isReadable(t,n,{level:s,size:l})||!o?n:(r.includeFallbackColors=!1,He.mostReadable(t,["#fff","#000"],r))};var Ng=He.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},i1e=He.hexNames=a1e(Ng);function a1e(t){var e={};for(var r in t)t.hasOwnProperty(r)&&(e[t[r]]=r);return e}function gF(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function xr(t,e){o1e(t)&&(t="100%");var r=s1e(t);return t=Math.min(e,Math.max(0,parseFloat(t))),r&&(t=parseInt(t*e,10)/100),Math.abs(t-e)<1e-6?1:t%e/parseFloat(e)}function fh(t){return Math.min(1,Math.max(0,t))}function Wn(t){return parseInt(t,16)}function o1e(t){return typeof t=="string"&&t.indexOf(".")!=-1&&parseFloat(t)===1}function s1e(t){return typeof t=="string"&&t.indexOf("%")!=-1}function $i(t){return t.length==1?"0"+t:""+t}function Lu(t){return t<=1&&(t=t*100+"%"),t}function mF(t){return Math.round(parseFloat(t)*255).toString(16)}function Lw(t){return Wn(t)/255}var Ii=function(){var t="[-\\+]?\\d+%?",e="[-\\+]?\\d*\\.\\d+%?",r="(?:"+e+")|(?:"+t+")",n="[\\s|\\(]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")\\s*\\)?",i="[\\s|\\(]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")\\s*\\)?";return{CSS_UNIT:new RegExp(r),rgb:new RegExp("rgb"+n),rgba:new RegExp("rgba"+i),hsl:new RegExp("hsl"+n),hsla:new RegExp("hsla"+i),hsv:new RegExp("hsv"+n),hsva:new RegExp("hsva"+i),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function Aa(t){return!!Ii.CSS_UNIT.exec(t)}function l1e(t){t=t.replace(Vbe,"").replace(Bbe,"").toLowerCase();var e=!1;if(Ng[t])t=Ng[t],e=!0;else if(t=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var r;return(r=Ii.rgb.exec(t))?{r:r[1],g:r[2],b:r[3]}:(r=Ii.rgba.exec(t))?{r:r[1],g:r[2],b:r[3],a:r[4]}:(r=Ii.hsl.exec(t))?{h:r[1],s:r[2],l:r[3]}:(r=Ii.hsla.exec(t))?{h:r[1],s:r[2],l:r[3],a:r[4]}:(r=Ii.hsv.exec(t))?{h:r[1],s:r[2],v:r[3]}:(r=Ii.hsva.exec(t))?{h:r[1],s:r[2],v:r[3],a:r[4]}:(r=Ii.hex8.exec(t))?{r:Wn(r[1]),g:Wn(r[2]),b:Wn(r[3]),a:Lw(r[4]),format:e?"name":"hex8"}:(r=Ii.hex6.exec(t))?{r:Wn(r[1]),g:Wn(r[2]),b:Wn(r[3]),format:e?"name":"hex"}:(r=Ii.hex4.exec(t))?{r:Wn(r[1]+""+r[1]),g:Wn(r[2]+""+r[2]),b:Wn(r[3]+""+r[3]),a:Lw(r[4]+""+r[4]),format:e?"name":"hex8"}:(r=Ii.hex3.exec(t))?{r:Wn(r[1]+""+r[1]),g:Wn(r[2]+""+r[2]),b:Wn(r[3]+""+r[3]),format:e?"name":"hex"}:!1}function u1e(t){var e,r;return t=t||{level:"AA",size:"small"},e=(t.level||"AA").toUpperCase(),r=(t.size||"small").toLowerCase(),e!=="AA"&&e!=="AAA"&&(e="AA"),r!=="small"&&r!=="large"&&(r="small"),{level:e,size:r}}var Fw=function(e){var r=["r","g","b","a","h","s","l","v"],n=0,i=0;return Mbe(r,function(a){if(e[a]&&(n+=1,isNaN(e[a])||(i+=1),a==="s"||a==="l")){var o=/^\d+%$/;o.test(e[a])&&(i+=1)}}),n===i?e:!1},Fu=function(e,r){var n=e.hex?He(e.hex):He(e),i=n.toHsl(),a=n.toHsv(),o=n.toRgb(),s=n.toHex();i.s===0&&(i.h=r||0,a.h=r||0);var l=s==="000000"&&o.a===0;return{hsl:i,hex:l?"transparent":"#"+s,rgb:o,hsv:a,oldHue:e.h||r||i.h,source:e.source}},Ro=function(e){if(e==="transparent")return!0;var r=String(e).charAt(0)==="#"?1:0;return e.length!==4+r&&e.length<7+r&&He(e).isValid()},pb=function(e){if(!e)return"#fff";var r=Fu(e);if(r.hex==="transparent")return"rgba(0,0,0,0.4)";var n=(r.rgb.r*299+r.rgb.g*587+r.rgb.b*114)/1e3;return n>=128?"#000":"#fff"},Sv=function(e,r){var n=e.replace("°","");return He(r+" ("+n+")")._ok},Cu=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},c1e=function(){function t(e,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();function f1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function d1e(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function p1e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var zn=function(e){var r=function(n){p1e(i,n);function i(a){f1e(this,i);var o=d1e(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return o.handleChange=function(s,l){var u=Fw(s);if(u){var c=Fu(s,s.h||o.state.oldHue);o.setState(c),o.props.onChangeComplete&&o.debounce(o.props.onChangeComplete,c,l),o.props.onChange&&o.props.onChange(c,l)}},o.handleSwatchHover=function(s,l){var u=Fw(s);if(u){var c=Fu(s,s.h||o.state.oldHue);o.props.onSwatchHover&&o.props.onSwatchHover(c,l)}},o.state=Cu({},Fu(a.color,0)),o.debounce=hF(function(s,l,u){s(l,u)},100),o}return c1e(i,[{key:"render",value:function(){var o={};return this.props.onSwatchHover&&(o.onSwatchHover=this.handleSwatchHover),j.createElement(e,Cu({},this.props,this.state,{onChange:this.handleChange},o))}}],[{key:"getDerivedStateFromProps",value:function(o,s){return Cu({},Fu(o.color,s.oldHue))}}]),i}(X.PureComponent||X.Component);return r.propTypes=Cu({},e.propTypes),r.defaultProps=Cu({},e.defaultProps,{color:{h:250,s:.5,l:.2,a:1}}),r},h1e=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},v1e=function(){function t(e,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();function g1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Rw(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function m1e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var y1e=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(n){m1e(i,n);function i(){var a,o,s,l;g1e(this,i);for(var u=arguments.length,c=Array(u),f=0;f<u;f++)c[f]=arguments[f];return l=(o=(s=Rw(this,(a=i.__proto__||Object.getPrototypeOf(i)).call.apply(a,[this].concat(c))),s),s.state={focus:!1},s.handleFocus=function(){return s.setState({focus:!0})},s.handleBlur=function(){return s.setState({focus:!1})},o),Rw(s,l)}return v1e(i,[{key:"render",value:function(){return j.createElement(r,{onFocus:this.handleFocus,onBlur:this.handleBlur},j.createElement(e,h1e({},this.props,this.state)))}}]),i}(j.Component)},$w=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},b1e=13,_1e=function(e){var r=e.color,n=e.style,i=e.onClick,a=i===void 0?function(){}:i,o=e.onHover,s=e.title,l=s===void 0?r:s,u=e.children,c=e.focus,f=e.focusStyle,d=f===void 0?{}:f,p=r==="transparent",v=rt({default:{swatch:$w({background:r,height:"100%",width:"100%",cursor:"pointer",position:"relative",outline:"none"},n,c?d:{})}}),h=function(b){return a(r,b)},g=function(b){return b.keyCode===b1e&&a(r,b)},y=function(b){return o(r,b)},m={};return o&&(m.onMouseOver=y),j.createElement("div",$w({style:v.swatch,onClick:h,title:l,tabIndex:0,onKeyDown:g},m),u,p&&j.createElement(du,{borderRadius:v.swatch.borderRadius,boxShadow:"inset 0 0 0 1px rgba(0,0,0,0.1)"}))};const Es=y1e(_1e);var S1e=function(e){var r=e.direction,n=rt({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:r==="vertical"});return j.createElement("div",{style:n.picker})},O1e=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},yF=function(e){var r=e.rgb,n=e.hsl,i=e.width,a=e.height,o=e.onChange,s=e.direction,l=e.style,u=e.renderers,c=e.pointer,f=e.className,d=f===void 0?"":f,p=rt({default:{picker:{position:"relative",width:i,height:a},alpha:{radius:"2px",style:l}}});return j.createElement("div",{style:p.picker,className:"alpha-picker "+d},j.createElement(ab,O1e({},p.alpha,{rgb:r,hsl:n,pointer:c,renderers:u,onChange:o,direction:s})))};yF.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:S1e};zn(yF);function bF(t,e){for(var r=-1,n=t==null?0:t.length,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i}var x1e="__lodash_hash_undefined__";function w1e(t){return this.__data__.set(t,x1e),this}function E1e(t){return this.__data__.has(t)}function Kd(t){var e=-1,r=t==null?0:t.length;for(this.__data__=new Ka;++e<r;)this.add(t[e])}Kd.prototype.add=Kd.prototype.push=w1e;Kd.prototype.has=E1e;function C1e(t,e){for(var r=-1,n=t==null?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1}function T1e(t,e){return t.has(e)}var k1e=1,I1e=2;function _F(t,e,r,n,i,a){var o=r&k1e,s=t.length,l=e.length;if(s!=l&&!(o&&l>s))return!1;var u=a.get(t),c=a.get(e);if(u&&c)return u==e&&c==t;var f=-1,d=!0,p=r&I1e?new Kd:void 0;for(a.set(t,e),a.set(e,t);++f<s;){var v=t[f],h=e[f];if(n)var g=o?n(h,v,f,e,t,a):n(v,h,f,t,e,a);if(g!==void 0){if(g)continue;d=!1;break}if(p){if(!C1e(e,function(y,m){if(!T1e(p,m)&&(v===y||i(v,y,r,n,a)))return p.push(m)})){d=!1;break}}else if(!(v===h||i(v,h,r,n,a))){d=!1;break}}return a.delete(t),a.delete(e),d}function A1e(t){var e=-1,r=Array(t.size);return t.forEach(function(n,i){r[++e]=[i,n]}),r}function j1e(t){var e=-1,r=Array(t.size);return t.forEach(function(n){r[++e]=n}),r}var P1e=1,L1e=2,F1e="[object Boolean]",R1e="[object Date]",$1e="[object Error]",N1e="[object Map]",D1e="[object Number]",M1e="[object RegExp]",V1e="[object Set]",B1e="[object String]",q1e="[object Symbol]",H1e="[object ArrayBuffer]",z1e="[object DataView]",Nw=wo?wo.prototype:void 0,Ov=Nw?Nw.valueOf:void 0;function U1e(t,e,r,n,i,a,o){switch(r){case z1e:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case H1e:return!(t.byteLength!=e.byteLength||!a(new Ud(t),new Ud(e)));case F1e:case R1e:case D1e:return of(+t,+e);case $1e:return t.name==e.name&&t.message==e.message;case M1e:case B1e:return t==e+"";case N1e:var s=A1e;case V1e:var l=n&P1e;if(s||(s=j1e),t.size!=e.size&&!l)return!1;var u=o.get(t);if(u)return u==e;n|=L1e,o.set(t,e);var c=_F(s(t),s(e),n,i,a,o);return o.delete(t),c;case q1e:if(Ov)return Ov.call(t)==Ov.call(e)}return!1}function W1e(t,e){for(var r=-1,n=e.length,i=t.length;++r<n;)t[i+r]=e[r];return t}function G1e(t,e,r){var n=e(t);return Zn(t)?n:W1e(n,r(t))}function Y1e(t,e){for(var r=-1,n=t==null?0:t.length,i=0,a=[];++r<n;){var o=t[r];e(o,r,t)&&(a[i++]=o)}return a}function K1e(){return[]}var J1e=Object.prototype,Q1e=J1e.propertyIsEnumerable,Dw=Object.getOwnPropertySymbols,X1e=Dw?function(t){return t==null?[]:(t=Object(t),Y1e(Dw(t),function(e){return Q1e.call(t,e)}))}:K1e;function Mw(t){return G1e(t,db,X1e)}var Z1e=1,e_e=Object.prototype,t_e=e_e.hasOwnProperty;function r_e(t,e,r,n,i,a){var o=r&Z1e,s=Mw(t),l=s.length,u=Mw(e),c=u.length;if(l!=c&&!o)return!1;for(var f=l;f--;){var d=s[f];if(!(o?d in e:t_e.call(e,d)))return!1}var p=a.get(t),v=a.get(e);if(p&&v)return p==e&&v==t;var h=!0;a.set(t,e),a.set(e,t);for(var g=o;++f<l;){d=s[f];var y=t[d],m=e[d];if(n)var _=o?n(m,y,d,e,t,a):n(y,m,d,t,e,a);if(!(_===void 0?y===m||i(y,m,r,n,a):_)){h=!1;break}g||(g=d=="constructor")}if(h&&!g){var b=t.constructor,S=e.constructor;b!=S&&"constructor"in t&&"constructor"in e&&!(typeof b=="function"&&b instanceof b&&typeof S=="function"&&S instanceof S)&&(h=!1)}return a.delete(t),a.delete(e),h}var Dg=ws(Ki,"DataView"),Mg=ws(Ki,"Promise"),Vg=ws(Ki,"Set"),Bg=ws(Ki,"WeakMap"),Vw="[object Map]",n_e="[object Object]",Bw="[object Promise]",qw="[object Set]",Hw="[object WeakMap]",zw="[object DataView]",i_e=xs(Dg),a_e=xs(yc),o_e=xs(Mg),s_e=xs(Vg),l_e=xs(Bg),io=Os;(Dg&&io(new Dg(new ArrayBuffer(1)))!=zw||yc&&io(new yc)!=Vw||Mg&&io(Mg.resolve())!=Bw||Vg&&io(new Vg)!=qw||Bg&&io(new Bg)!=Hw)&&(io=function(t){var e=Os(t),r=e==n_e?t.constructor:void 0,n=r?xs(r):"";if(n)switch(n){case i_e:return zw;case a_e:return Vw;case o_e:return Bw;case s_e:return qw;case l_e:return Hw}return e});var u_e=1,Uw="[object Arguments]",Ww="[object Array]",Mf="[object Object]",c_e=Object.prototype,Gw=c_e.hasOwnProperty;function f_e(t,e,r,n,i,a){var o=Zn(t),s=Zn(e),l=o?Ww:io(t),u=s?Ww:io(e);l=l==Uw?Mf:l,u=u==Uw?Mf:u;var c=l==Mf,f=u==Mf,d=l==u;if(d&&Gd(t)){if(!Gd(e))return!1;o=!0,c=!1}if(d&&!c)return a||(a=new da),o||cb(t)?_F(t,e,r,n,i,a):U1e(t,e,l,r,n,i,a);if(!(r&u_e)){var p=c&&Gw.call(t,"__wrapped__"),v=f&&Gw.call(e,"__wrapped__");if(p||v){var h=p?t.value():t,g=v?e.value():e;return a||(a=new da),i(h,g,r,n,a)}}return d?(a||(a=new da),r_e(t,e,r,n,i,a)):!1}function hb(t,e,r,n,i){return t===e?!0:t==null||e==null||!Eo(t)&&!Eo(e)?t!==t&&e!==e:f_e(t,e,r,n,hb,i)}var d_e=1,p_e=2;function h_e(t,e,r,n){var i=r.length,a=i;if(t==null)return!a;for(t=Object(t);i--;){var o=r[i];if(o[2]?o[1]!==t[o[0]]:!(o[0]in t))return!1}for(;++i<a;){o=r[i];var s=o[0],l=t[s],u=o[1];if(o[2]){if(l===void 0&&!(s in t))return!1}else{var c=new da,f;if(!(f===void 0?hb(u,l,d_e|p_e,n,c):f))return!1}}return!0}function SF(t){return t===t&&!Oi(t)}function v_e(t){for(var e=db(t),r=e.length;r--;){var n=e[r],i=t[n];e[r]=[n,i,SF(i)]}return e}function OF(t,e){return function(r){return r==null?!1:r[t]===e&&(e!==void 0||t in Object(r))}}function g_e(t){var e=v_e(t);return e.length==1&&e[0][2]?OF(e[0][0],e[0][1]):function(r){return r===t||h_e(r,t,e)}}var m_e=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,y_e=/^\w*$/;function vb(t,e){if(Zn(t))return!1;var r=typeof t;return r=="number"||r=="symbol"||r=="boolean"||t==null||uh(t)?!0:y_e.test(t)||!m_e.test(t)||e!=null&&t in Object(e)}var b_e="Expected a function";function gb(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(b_e);var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],a=r.cache;if(a.has(i))return a.get(i);var o=t.apply(this,n);return r.cache=a.set(i,o)||a,o};return r.cache=new(gb.Cache||Ka),r}gb.Cache=Ka;var __e=500;function S_e(t){var e=gb(t,function(n){return r.size===__e&&r.clear(),n}),r=e.cache;return e}var O_e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,x_e=/\\(\\)?/g,w_e=S_e(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(O_e,function(r,n,i,a){e.push(i?a.replace(x_e,"$1"):n||r)}),e}),E_e=1/0,Yw=wo?wo.prototype:void 0,Kw=Yw?Yw.toString:void 0;function xF(t){if(typeof t=="string")return t;if(Zn(t))return bF(t,xF)+"";if(uh(t))return Kw?Kw.call(t):"";var e=t+"";return e=="0"&&1/t==-E_e?"-0":e}function C_e(t){return t==null?"":xF(t)}function wF(t,e){return Zn(t)?t:vb(t,e)?[t]:w_e(C_e(t))}var T_e=1/0;function dh(t){if(typeof t=="string"||uh(t))return t;var e=t+"";return e=="0"&&1/t==-T_e?"-0":e}function EF(t,e){e=wF(e,t);for(var r=0,n=e.length;t!=null&&r<n;)t=t[dh(e[r++])];return r&&r==n?t:void 0}function k_e(t,e,r){var n=t==null?void 0:EF(t,e);return n===void 0?r:n}function I_e(t,e){return t!=null&&e in Object(t)}function A_e(t,e,r){e=wF(e,t);for(var n=-1,i=e.length,a=!1;++n<i;){var o=dh(e[n]);if(!(a=t!=null&&r(t,o)))break;t=t[o]}return a||++n!=i?a:(i=t==null?0:t.length,!!i&&ub(i)&&fb(o,i)&&(Zn(t)||Wd(t)))}function j_e(t,e){return t!=null&&A_e(t,e,I_e)}var P_e=1,L_e=2;function F_e(t,e){return vb(t)&&SF(e)?OF(dh(t),e):function(r){var n=k_e(r,t);return n===void 0&&n===e?j_e(r,t):hb(e,n,P_e|L_e)}}function R_e(t){return function(e){return e==null?void 0:e[t]}}function $_e(t){return function(e){return EF(e,t)}}function N_e(t){return vb(t)?R_e(dh(t)):$_e(t)}function D_e(t){return typeof t=="function"?t:t==null?lh:typeof t=="object"?Zn(t)?F_e(t[0],t[1]):g_e(t):N_e(t)}function M_e(t,e){var r=-1,n=hu(t)?Array(t.length):[];return vF(t,function(i,a,o){n[++r]=e(i,a,o)}),n}function Cs(t,e){var r=Zn(t)?bF:M_e;return r(t,D_e(e))}var V_e=function(e){var r=e.colors,n=e.onClick,i=e.onSwatchHover,a=rt({default:{swatches:{marginRight:"-10px"},swatch:{width:"22px",height:"22px",float:"left",marginRight:"10px",marginBottom:"10px",borderRadius:"4px"},clear:{clear:"both"}}});return j.createElement("div",{style:a.swatches},Cs(r,function(o){return j.createElement(Es,{key:o,color:o,style:a.swatch,onClick:n,onHover:i,focusStyle:{boxShadow:"0 0 4px "+o}})}),j.createElement("div",{style:a.clear}))},mb=function(e){var r=e.onChange,n=e.onSwatchHover,i=e.hex,a=e.colors,o=e.width,s=e.triangle,l=e.styles,u=l===void 0?{}:l,c=e.className,f=c===void 0?"":c,d=i==="transparent",p=function(g,y){Ro(g)&&r({hex:g,source:"hex"},y)},v=rt(Hn({default:{card:{width:o,background:"#fff",boxShadow:"0 1px rgba(0,0,0,.1)",borderRadius:"6px",position:"relative"},head:{height:"110px",background:i,borderRadius:"6px 6px 0 0",display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},body:{padding:"10px"},label:{fontSize:"18px",color:pb(i),position:"relative"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 10px 10px 10px",borderColor:"transparent transparent "+i+" transparent",position:"absolute",top:"-10px",left:"50%",marginLeft:"-10px"},input:{width:"100%",fontSize:"12px",color:"#666",border:"0px",outline:"none",height:"22px",boxShadow:"inset 0 0 0 1px #ddd",borderRadius:"4px",padding:"0 7px",boxSizing:"border-box"}},"hide-triangle":{triangle:{display:"none"}}},u),{"hide-triangle":s==="hide"});return j.createElement("div",{style:v.card,className:"block-picker "+f},j.createElement("div",{style:v.triangle}),j.createElement("div",{style:v.head},d&&j.createElement(du,{borderRadius:"6px 6px 0 0"}),j.createElement("div",{style:v.label},i)),j.createElement("div",{style:v.body},j.createElement(V_e,{colors:a,onClick:p,onSwatchHover:n}),j.createElement(Tt,{style:{input:v.input},value:i,onChange:p})))};mb.propTypes={width:z.oneOfType([z.string,z.number]),colors:z.arrayOf(z.string),triangle:z.oneOf(["top","hide"]),styles:z.object};mb.defaultProps={width:170,colors:["#D9E3F0","#F47373","#697689","#37D67A","#2CCCE4","#555555","#dce775","#ff8a65","#ba68c8"],triangle:"top",styles:{}};zn(mb);var Us={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",a100:"#ff8a80",a200:"#ff5252",a400:"#ff1744",a700:"#d50000"},Ws={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",a100:"#ff80ab",a200:"#ff4081",a400:"#f50057",a700:"#c51162"},Gs={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",a100:"#ea80fc",a200:"#e040fb",a400:"#d500f9",a700:"#aa00ff"},Ys={50:"#ede7f6",100:"#d1c4e9",200:"#b39ddb",300:"#9575cd",400:"#7e57c2",500:"#673ab7",600:"#5e35b1",700:"#512da8",800:"#4527a0",900:"#311b92",a100:"#b388ff",a200:"#7c4dff",a400:"#651fff",a700:"#6200ea"},Ks={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",a100:"#8c9eff",a200:"#536dfe",a400:"#3d5afe",a700:"#304ffe"},Js={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",a100:"#82b1ff",a200:"#448aff",a400:"#2979ff",a700:"#2962ff"},Qs={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",a100:"#80d8ff",a200:"#40c4ff",a400:"#00b0ff",a700:"#0091ea"},Xs={50:"#e0f7fa",100:"#b2ebf2",200:"#80deea",300:"#4dd0e1",400:"#26c6da",500:"#00bcd4",600:"#00acc1",700:"#0097a7",800:"#00838f",900:"#006064",a100:"#84ffff",a200:"#18ffff",a400:"#00e5ff",a700:"#00b8d4"},Zs={50:"#e0f2f1",100:"#b2dfdb",200:"#80cbc4",300:"#4db6ac",400:"#26a69a",500:"#009688",600:"#00897b",700:"#00796b",800:"#00695c",900:"#004d40",a100:"#a7ffeb",a200:"#64ffda",a400:"#1de9b6",a700:"#00bfa5"},Ru={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",a100:"#b9f6ca",a200:"#69f0ae",a400:"#00e676",a700:"#00c853"},el={50:"#f1f8e9",100:"#dcedc8",200:"#c5e1a5",300:"#aed581",400:"#9ccc65",500:"#8bc34a",600:"#7cb342",700:"#689f38",800:"#558b2f",900:"#33691e",a100:"#ccff90",a200:"#b2ff59",a400:"#76ff03",a700:"#64dd17"},tl={50:"#f9fbe7",100:"#f0f4c3",200:"#e6ee9c",300:"#dce775",400:"#d4e157",500:"#cddc39",600:"#c0ca33",700:"#afb42b",800:"#9e9d24",900:"#827717",a100:"#f4ff81",a200:"#eeff41",a400:"#c6ff00",a700:"#aeea00"},rl={50:"#fffde7",100:"#fff9c4",200:"#fff59d",300:"#fff176",400:"#ffee58",500:"#ffeb3b",600:"#fdd835",700:"#fbc02d",800:"#f9a825",900:"#f57f17",a100:"#ffff8d",a200:"#ffff00",a400:"#ffea00",a700:"#ffd600"},nl={50:"#fff8e1",100:"#ffecb3",200:"#ffe082",300:"#ffd54f",400:"#ffca28",500:"#ffc107",600:"#ffb300",700:"#ffa000",800:"#ff8f00",900:"#ff6f00",a100:"#ffe57f",a200:"#ffd740",a400:"#ffc400",a700:"#ffab00"},il={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",a100:"#ffd180",a200:"#ffab40",a400:"#ff9100",a700:"#ff6d00"},al={50:"#fbe9e7",100:"#ffccbc",200:"#ffab91",300:"#ff8a65",400:"#ff7043",500:"#ff5722",600:"#f4511e",700:"#e64a19",800:"#d84315",900:"#bf360c",a100:"#ff9e80",a200:"#ff6e40",a400:"#ff3d00",a700:"#dd2c00"},ol={50:"#efebe9",100:"#d7ccc8",200:"#bcaaa4",300:"#a1887f",400:"#8d6e63",500:"#795548",600:"#6d4c41",700:"#5d4037",800:"#4e342e",900:"#3e2723"},sl={50:"#eceff1",100:"#cfd8dc",200:"#b0bec5",300:"#90a4ae",400:"#78909c",500:"#607d8b",600:"#546e7a",700:"#455a64",800:"#37474f",900:"#263238"},CF=function(e){var r=e.color,n=e.onClick,i=e.onSwatchHover,a=e.hover,o=e.active,s=e.circleSize,l=e.circleSpacing,u=rt({default:{swatch:{width:s,height:s,marginRight:l,marginBottom:l,transform:"scale(1)",transition:"100ms transform ease"},Swatch:{borderRadius:"50%",background:"transparent",boxShadow:"inset 0 0 0 "+(s/2+1)+"px "+r,transition:"100ms box-shadow ease"}},hover:{swatch:{transform:"scale(1.2)"}},active:{Swatch:{boxShadow:"inset 0 0 0 3px "+r}}},{hover:a,active:o});return j.createElement("div",{style:u.swatch},j.createElement(Es,{style:u.Swatch,color:r,onClick:n,onHover:i,focusStyle:{boxShadow:u.Swatch.boxShadow+", 0 0 5px "+r}}))};CF.defaultProps={circleSize:28,circleSpacing:14};const B_e=ib(CF);var yb=function(e){var r=e.width,n=e.onChange,i=e.onSwatchHover,a=e.colors,o=e.hex,s=e.circleSize,l=e.styles,u=l===void 0?{}:l,c=e.circleSpacing,f=e.className,d=f===void 0?"":f,p=rt(Hn({default:{card:{width:r,display:"flex",flexWrap:"wrap",marginRight:-c,marginBottom:-c}}},u)),v=function(g,y){return n({hex:g,source:"hex"},y)};return j.createElement("div",{style:p.card,className:"circle-picker "+d},Cs(a,function(h){return j.createElement(B_e,{key:h,color:h,onClick:v,onSwatchHover:i,active:o===h.toLowerCase(),circleSize:s,circleSpacing:c})}))};yb.propTypes={width:z.oneOfType([z.string,z.number]),circleSize:z.number,circleSpacing:z.number,styles:z.object};yb.defaultProps={width:252,circleSize:28,circleSpacing:14,colors:[Us[500],Ws[500],Gs[500],Ys[500],Ks[500],Js[500],Qs[500],Xs[500],Zs[500],Ru[500],el[500],tl[500],rl[500],nl[500],il[500],al[500],ol[500],sl[500]],styles:{}};zn(yb);function Jw(t){return t===void 0}var TF={};Object.defineProperty(TF,"__esModule",{value:!0});var Qw=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},q_e=X,Xw=H_e(q_e);function H_e(t){return t&&t.__esModule?t:{default:t}}function z_e(t,e){var r={};for(var n in t)e.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r}var Vf=24,U_e=TF.default=function(t){var e=t.fill,r=e===void 0?"currentColor":e,n=t.width,i=n===void 0?Vf:n,a=t.height,o=a===void 0?Vf:a,s=t.style,l=s===void 0?{}:s,u=z_e(t,["fill","width","height","style"]);return Xw.default.createElement("svg",Qw({viewBox:"0 0 "+Vf+" "+Vf,style:Qw({fill:r,width:i,height:o},l)},u),Xw.default.createElement("path",{d:"M12,18.17L8.83,15L7.42,16.41L12,21L16.59,16.41L15.17,15M12,5.83L15.17,9L16.58,7.59L12,3L7.41,7.59L8.83,9L12,5.83Z"}))},W_e=function(){function t(e,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();function G_e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Y_e(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function K_e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var kF=function(t){K_e(e,t);function e(r){G_e(this,e);var n=Y_e(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return n.toggleViews=function(){n.state.view==="hex"?n.setState({view:"rgb"}):n.state.view==="rgb"?n.setState({view:"hsl"}):n.state.view==="hsl"&&(n.props.hsl.a===1?n.setState({view:"hex"}):n.setState({view:"rgb"}))},n.handleChange=function(i,a){i.hex?Ro(i.hex)&&n.props.onChange({hex:i.hex,source:"hex"},a):i.r||i.g||i.b?n.props.onChange({r:i.r||n.props.rgb.r,g:i.g||n.props.rgb.g,b:i.b||n.props.rgb.b,source:"rgb"},a):i.a?(i.a<0?i.a=0:i.a>1&&(i.a=1),n.props.onChange({h:n.props.hsl.h,s:n.props.hsl.s,l:n.props.hsl.l,a:Math.round(i.a*100)/100,source:"rgb"},a)):(i.h||i.s||i.l)&&(typeof i.s=="string"&&i.s.includes("%")&&(i.s=i.s.replace("%","")),typeof i.l=="string"&&i.l.includes("%")&&(i.l=i.l.replace("%","")),i.s==1?i.s=.01:i.l==1&&(i.l=.01),n.props.onChange({h:i.h||n.props.hsl.h,s:Number(Jw(i.s)?n.props.hsl.s:i.s),l:Number(Jw(i.l)?n.props.hsl.l:i.l),source:"hsl"},a))},n.showHighlight=function(i){i.currentTarget.style.background="#eee"},n.hideHighlight=function(i){i.currentTarget.style.background="transparent"},r.hsl.a!==1&&r.view==="hex"?n.state={view:"rgb"}:n.state={view:r.view},n}return W_e(e,[{key:"render",value:function(){var n=this,i=rt({default:{wrap:{paddingTop:"16px",display:"flex"},fields:{flex:"1",display:"flex",marginLeft:"-6px"},field:{paddingLeft:"6px",width:"100%"},alpha:{paddingLeft:"6px",width:"100%"},toggle:{width:"32px",textAlign:"right",position:"relative"},icon:{marginRight:"-4px",marginTop:"12px",cursor:"pointer",position:"relative"},iconHighlight:{position:"absolute",width:"24px",height:"28px",background:"#eee",borderRadius:"4px",top:"10px",left:"12px",display:"none"},input:{fontSize:"11px",color:"#333",width:"100%",borderRadius:"2px",border:"none",boxShadow:"inset 0 0 0 1px #dadada",height:"21px",textAlign:"center"},label:{textTransform:"uppercase",fontSize:"11px",lineHeight:"11px",color:"#969696",textAlign:"center",display:"block",marginTop:"12px"},svg:{fill:"#333",width:"24px",height:"24px",border:"1px transparent solid",borderRadius:"5px"}},disableAlpha:{alpha:{display:"none"}}},this.props,this.state),a=void 0;return this.state.view==="hex"?a=j.createElement("div",{style:i.fields,className:"flexbox-fix"},j.createElement("div",{style:i.field},j.createElement(Tt,{style:{input:i.input,label:i.label},label:"hex",value:this.props.hex,onChange:this.handleChange}))):this.state.view==="rgb"?a=j.createElement("div",{style:i.fields,className:"flexbox-fix"},j.createElement("div",{style:i.field},j.createElement(Tt,{style:{input:i.input,label:i.label},label:"r",value:this.props.rgb.r,onChange:this.handleChange})),j.createElement("div",{style:i.field},j.createElement(Tt,{style:{input:i.input,label:i.label},label:"g",value:this.props.rgb.g,onChange:this.handleChange})),j.createElement("div",{style:i.field},j.createElement(Tt,{style:{input:i.input,label:i.label},label:"b",value:this.props.rgb.b,onChange:this.handleChange})),j.createElement("div",{style:i.alpha},j.createElement(Tt,{style:{input:i.input,label:i.label},label:"a",value:this.props.rgb.a,arrowOffset:.01,onChange:this.handleChange}))):this.state.view==="hsl"&&(a=j.createElement("div",{style:i.fields,className:"flexbox-fix"},j.createElement("div",{style:i.field},j.createElement(Tt,{style:{input:i.input,label:i.label},label:"h",value:Math.round(this.props.hsl.h),onChange:this.handleChange})),j.createElement("div",{style:i.field},j.createElement(Tt,{style:{input:i.input,label:i.label},label:"s",value:Math.round(this.props.hsl.s*100)+"%",onChange:this.handleChange})),j.createElement("div",{style:i.field},j.createElement(Tt,{style:{input:i.input,label:i.label},label:"l",value:Math.round(this.props.hsl.l*100)+"%",onChange:this.handleChange})),j.createElement("div",{style:i.alpha},j.createElement(Tt,{style:{input:i.input,label:i.label},label:"a",value:this.props.hsl.a,arrowOffset:.01,onChange:this.handleChange})))),j.createElement("div",{style:i.wrap,className:"flexbox-fix"},a,j.createElement("div",{style:i.toggle},j.createElement("div",{style:i.icon,onClick:this.toggleViews,ref:function(s){return n.icon=s}},j.createElement(U_e,{style:i.svg,onMouseOver:this.showHighlight,onMouseEnter:this.showHighlight,onMouseOut:this.hideHighlight}))))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.hsl.a!==1&&i.view==="hex"?{view:"rgb"}:null}}]),e}(j.Component);kF.defaultProps={view:"hex"};var Zw=function(){var e=rt({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",transform:"translate(-6px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return j.createElement("div",{style:e.picker})},J_e=function(){var e=rt({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}}});return j.createElement("div",{style:e.picker})},bb=function(e){var r=e.width,n=e.onChange,i=e.disableAlpha,a=e.rgb,o=e.hsl,s=e.hsv,l=e.hex,u=e.renderers,c=e.styles,f=c===void 0?{}:c,d=e.className,p=d===void 0?"":d,v=e.defaultView,h=rt(Hn({default:{picker:{width:r,background:"#fff",borderRadius:"2px",boxShadow:"0 0 2px rgba(0,0,0,.3), 0 4px 8px rgba(0,0,0,.3)",boxSizing:"initial",fontFamily:"Menlo"},saturation:{width:"100%",paddingBottom:"55%",position:"relative",borderRadius:"2px 2px 0 0",overflow:"hidden"},Saturation:{radius:"2px 2px 0 0"},body:{padding:"16px 16px 12px"},controls:{display:"flex"},color:{width:"32px"},swatch:{marginTop:"6px",width:"16px",height:"16px",borderRadius:"8px",position:"relative",overflow:"hidden"},active:{absolute:"0px 0px 0px 0px",borderRadius:"8px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.1)",background:"rgba("+a.r+", "+a.g+", "+a.b+", "+a.a+")",zIndex:"2"},toggles:{flex:"1"},hue:{height:"10px",position:"relative",marginBottom:"8px"},Hue:{radius:"2px"},alpha:{height:"10px",position:"relative"},Alpha:{radius:"2px"}},disableAlpha:{color:{width:"22px"},alpha:{display:"none"},hue:{marginBottom:"0px"},swatch:{width:"10px",height:"10px",marginTop:"0px"}}},f),{disableAlpha:i});return j.createElement("div",{style:h.picker,className:"chrome-picker "+p},j.createElement("div",{style:h.saturation},j.createElement(ch,{style:h.Saturation,hsl:o,hsv:s,pointer:J_e,onChange:n})),j.createElement("div",{style:h.body},j.createElement("div",{style:h.controls,className:"flexbox-fix"},j.createElement("div",{style:h.color},j.createElement("div",{style:h.swatch},j.createElement("div",{style:h.active}),j.createElement(du,{renderers:u}))),j.createElement("div",{style:h.toggles},j.createElement("div",{style:h.hue},j.createElement(pu,{style:h.Hue,hsl:o,pointer:Zw,onChange:n})),j.createElement("div",{style:h.alpha},j.createElement(ab,{style:h.Alpha,rgb:a,hsl:o,pointer:Zw,renderers:u,onChange:n})))),j.createElement(kF,{rgb:a,hsl:o,hex:l,view:v,onChange:n,disableAlpha:i})))};bb.propTypes={width:z.oneOfType([z.string,z.number]),disableAlpha:z.bool,styles:z.object,defaultView:z.oneOf(["hex","rgb","hsl"])};bb.defaultProps={width:225,disableAlpha:!1,styles:{}};const Bf=zn(bb);var Q_e=function(e){var r=e.color,n=e.onClick,i=n===void 0?function(){}:n,a=e.onSwatchHover,o=e.active,s=rt({default:{color:{background:r,width:"15px",height:"15px",float:"left",marginRight:"5px",marginBottom:"5px",position:"relative",cursor:"pointer"},dot:{absolute:"5px 5px 5px 5px",background:pb(r),borderRadius:"50%",opacity:"0"}},active:{dot:{opacity:"1"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},dot:{background:"#000"}},transparent:{dot:{background:"#000"}}},{active:o,"color-#FFFFFF":r==="#FFFFFF",transparent:r==="transparent"});return j.createElement(Es,{style:s.color,color:r,onClick:i,onHover:a,focusStyle:{boxShadow:"0 0 4px "+r}},j.createElement("div",{style:s.dot}))},X_e=function(e){var r=e.hex,n=e.rgb,i=e.onChange,a=rt({default:{fields:{display:"flex",paddingBottom:"6px",paddingRight:"5px",position:"relative"},active:{position:"absolute",top:"6px",left:"5px",height:"9px",width:"9px",background:r},HEXwrap:{flex:"6",position:"relative"},HEXinput:{width:"80%",padding:"0px",paddingLeft:"20%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},HEXlabel:{display:"none"},RGBwrap:{flex:"3",position:"relative"},RGBinput:{width:"70%",padding:"0px",paddingLeft:"30%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},RGBlabel:{position:"absolute",top:"3px",left:"0px",lineHeight:"16px",textTransform:"uppercase",fontSize:"12px",color:"#999"}}}),o=function(l,u){l.r||l.g||l.b?i({r:l.r||n.r,g:l.g||n.g,b:l.b||n.b,source:"rgb"},u):i({hex:l.hex,source:"hex"},u)};return j.createElement("div",{style:a.fields,className:"flexbox-fix"},j.createElement("div",{style:a.active}),j.createElement(Tt,{style:{wrap:a.HEXwrap,input:a.HEXinput,label:a.HEXlabel},label:"hex",value:r,onChange:o}),j.createElement(Tt,{style:{wrap:a.RGBwrap,input:a.RGBinput,label:a.RGBlabel},label:"r",value:n.r,onChange:o}),j.createElement(Tt,{style:{wrap:a.RGBwrap,input:a.RGBinput,label:a.RGBlabel},label:"g",value:n.g,onChange:o}),j.createElement(Tt,{style:{wrap:a.RGBwrap,input:a.RGBinput,label:a.RGBlabel},label:"b",value:n.b,onChange:o}))},_b=function(e){var r=e.onChange,n=e.onSwatchHover,i=e.colors,a=e.hex,o=e.rgb,s=e.styles,l=s===void 0?{}:s,u=e.className,c=u===void 0?"":u,f=rt(Hn({default:{Compact:{background:"#f6f6f6",radius:"4px"},compact:{paddingTop:"5px",paddingLeft:"5px",boxSizing:"initial",width:"240px"},clear:{clear:"both"}}},l)),d=function(v,h){v.hex?Ro(v.hex)&&r({hex:v.hex,source:"hex"},h):r(v,h)};return j.createElement(sf,{style:f.Compact,styles:l},j.createElement("div",{style:f.compact,className:"compact-picker "+c},j.createElement("div",null,Cs(i,function(p){return j.createElement(Q_e,{key:p,color:p,active:p.toLowerCase()===a,onClick:d,onSwatchHover:n})}),j.createElement("div",{style:f.clear})),j.createElement(X_e,{hex:a,rgb:o,onChange:d})))};_b.propTypes={colors:z.arrayOf(z.string),styles:z.object};_b.defaultProps={colors:["#4D4D4D","#999999","#FFFFFF","#F44E3B","#FE9200","#FCDC00","#DBDF00","#A4DD00","#68CCCA","#73D8FF","#AEA1FF","#FDA1FF","#333333","#808080","#cccccc","#D33115","#E27300","#FCC400","#B0BC00","#68BC00","#16A5A5","#009CE0","#7B64FF","#FA28FF","#000000","#666666","#B3B3B3","#9F0500","#C45100","#FB9E00","#808900","#194D33","#0C797D","#0062B1","#653294","#AB149E"],styles:{}};zn(_b);var Z_e=function(e){var r=e.hover,n=e.color,i=e.onClick,a=e.onSwatchHover,o={position:"relative",zIndex:"2",outline:"2px solid #fff",boxShadow:"0 0 5px 2px rgba(0,0,0,0.25)"},s=rt({default:{swatch:{width:"25px",height:"25px",fontSize:"0"}},hover:{swatch:o}},{hover:r});return j.createElement("div",{style:s.swatch},j.createElement(Es,{color:n,onClick:i,onHover:a,focusStyle:o}))};const eSe=ib(Z_e);var Sb=function(e){var r=e.width,n=e.colors,i=e.onChange,a=e.onSwatchHover,o=e.triangle,s=e.styles,l=s===void 0?{}:s,u=e.className,c=u===void 0?"":u,f=rt(Hn({default:{card:{width:r,background:"#fff",border:"1px solid rgba(0,0,0,0.2)",boxShadow:"0 3px 12px rgba(0,0,0,0.15)",borderRadius:"4px",position:"relative",padding:"5px",display:"flex",flexWrap:"wrap"},triangle:{position:"absolute",border:"7px solid transparent",borderBottomColor:"#fff"},triangleShadow:{position:"absolute",border:"8px solid transparent",borderBottomColor:"rgba(0,0,0,0.15)"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-14px",left:"10px"},triangleShadow:{top:"-16px",left:"9px"}},"top-right-triangle":{triangle:{top:"-14px",right:"10px"},triangleShadow:{top:"-16px",right:"9px"}},"bottom-left-triangle":{triangle:{top:"35px",left:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",left:"9px",transform:"rotate(180deg)"}},"bottom-right-triangle":{triangle:{top:"35px",right:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",right:"9px",transform:"rotate(180deg)"}}},l),{"hide-triangle":o==="hide","top-left-triangle":o==="top-left","top-right-triangle":o==="top-right","bottom-left-triangle":o==="bottom-left","bottom-right-triangle":o==="bottom-right"}),d=function(v,h){return i({hex:v,source:"hex"},h)};return j.createElement("div",{style:f.card,className:"github-picker "+c},j.createElement("div",{style:f.triangleShadow}),j.createElement("div",{style:f.triangle}),Cs(n,function(p){return j.createElement(eSe,{color:p,key:p,onClick:d,onSwatchHover:a})}))};Sb.propTypes={width:z.oneOfType([z.string,z.number]),colors:z.arrayOf(z.string),triangle:z.oneOf(["hide","top-left","top-right","bottom-left","bottom-right"]),styles:z.object};Sb.defaultProps={width:200,colors:["#B80000","#DB3E00","#FCCB00","#008B02","#006B76","#1273DE","#004DCF","#5300EB","#EB9694","#FAD0C3","#FEF3BD","#C1E1C5","#BEDADC","#C4DEF6","#BED3F3","#D4C4FB"],triangle:"top-left",styles:{}};zn(Sb);var tSe=function(e){var r=e.direction,n=rt({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:r==="vertical"});return j.createElement("div",{style:n.picker})},rSe=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ob=function(e){var r=e.width,n=e.height,i=e.onChange,a=e.hsl,o=e.direction,s=e.pointer,l=e.styles,u=l===void 0?{}:l,c=e.className,f=c===void 0?"":c,d=rt(Hn({default:{picker:{position:"relative",width:r,height:n},hue:{radius:"2px"}}},u)),p=function(h){return i({a:1,h:h.h,l:.5,s:1})};return j.createElement("div",{style:d.picker,className:"hue-picker "+f},j.createElement(pu,rSe({},d.hue,{hsl:a,pointer:s,onChange:p,direction:o})))};Ob.propTypes={styles:z.object};Ob.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:tSe,styles:{}};zn(Ob);var nSe=function(e){var r=e.onChange,n=e.hex,i=e.rgb,a=e.styles,o=a===void 0?{}:a,s=e.className,l=s===void 0?"":s,u=rt(Hn({default:{material:{width:"98px",height:"98px",padding:"16px",fontFamily:"Roboto"},HEXwrap:{position:"relative"},HEXinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"2px solid "+n,outline:"none",height:"30px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},Hex:{style:{}},RGBwrap:{position:"relative"},RGBinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"1px solid #eee",outline:"none",height:"30px"},RGBlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},split:{display:"flex",marginRight:"-10px",paddingTop:"11px"},third:{flex:"1",paddingRight:"10px"}}},o)),c=function(d,p){d.hex?Ro(d.hex)&&r({hex:d.hex,source:"hex"},p):(d.r||d.g||d.b)&&r({r:d.r||i.r,g:d.g||i.g,b:d.b||i.b,source:"rgb"},p)};return j.createElement(sf,{styles:o},j.createElement("div",{style:u.material,className:"material-picker "+l},j.createElement(Tt,{style:{wrap:u.HEXwrap,input:u.HEXinput,label:u.HEXlabel},label:"hex",value:n,onChange:c}),j.createElement("div",{style:u.split,className:"flexbox-fix"},j.createElement("div",{style:u.third},j.createElement(Tt,{style:{wrap:u.RGBwrap,input:u.RGBinput,label:u.RGBlabel},label:"r",value:i.r,onChange:c})),j.createElement("div",{style:u.third},j.createElement(Tt,{style:{wrap:u.RGBwrap,input:u.RGBinput,label:u.RGBlabel},label:"g",value:i.g,onChange:c})),j.createElement("div",{style:u.third},j.createElement(Tt,{style:{wrap:u.RGBwrap,input:u.RGBinput,label:u.RGBlabel},label:"b",value:i.b,onChange:c})))))};zn(nSe);var iSe=function(e){var r=e.onChange,n=e.rgb,i=e.hsv,a=e.hex,o=rt({default:{fields:{paddingTop:"5px",paddingBottom:"9px",width:"80px",position:"relative"},divider:{height:"5px"},RGBwrap:{position:"relative"},RGBinput:{marginLeft:"40%",width:"40%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"5px",fontSize:"13px",paddingLeft:"3px",marginRight:"10px"},RGBlabel:{left:"0px",top:"0px",width:"34px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px",position:"absolute"},HEXwrap:{position:"relative"},HEXinput:{marginLeft:"20%",width:"80%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"6px",fontSize:"13px",paddingLeft:"3px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",width:"14px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px"},fieldSymbols:{position:"absolute",top:"5px",right:"-7px",fontSize:"13px"},symbol:{height:"20px",lineHeight:"22px",paddingBottom:"7px"}}}),s=function(u,c){u["#"]?Ro(u["#"])&&r({hex:u["#"],source:"hex"},c):u.r||u.g||u.b?r({r:u.r||n.r,g:u.g||n.g,b:u.b||n.b,source:"rgb"},c):(u.h||u.s||u.v)&&r({h:u.h||i.h,s:u.s||i.s,v:u.v||i.v,source:"hsv"},c)};return j.createElement("div",{style:o.fields},j.createElement(Tt,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"h",value:Math.round(i.h),onChange:s}),j.createElement(Tt,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"s",value:Math.round(i.s*100),onChange:s}),j.createElement(Tt,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"v",value:Math.round(i.v*100),onChange:s}),j.createElement("div",{style:o.divider}),j.createElement(Tt,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"r",value:n.r,onChange:s}),j.createElement(Tt,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"g",value:n.g,onChange:s}),j.createElement(Tt,{style:{wrap:o.RGBwrap,input:o.RGBinput,label:o.RGBlabel},label:"b",value:n.b,onChange:s}),j.createElement("div",{style:o.divider}),j.createElement(Tt,{style:{wrap:o.HEXwrap,input:o.HEXinput,label:o.HEXlabel},label:"#",value:a.replace("#",""),onChange:s}),j.createElement("div",{style:o.fieldSymbols},j.createElement("div",{style:o.symbol},"°"),j.createElement("div",{style:o.symbol},"%"),j.createElement("div",{style:o.symbol},"%")))},aSe=function(e){var r=e.hsl,n=rt({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}},"black-outline":{picker:{boxShadow:"inset 0 0 0 1px #000"}}},{"black-outline":r.l>.5});return j.createElement("div",{style:n.picker})},oSe=function(){var e=rt({default:{triangle:{width:0,height:0,borderStyle:"solid",borderWidth:"4px 0 4px 6px",borderColor:"transparent transparent transparent #fff",position:"absolute",top:"1px",left:"1px"},triangleBorder:{width:0,height:0,borderStyle:"solid",borderWidth:"5px 0 5px 8px",borderColor:"transparent transparent transparent #555"},left:{Extend:"triangleBorder",transform:"translate(-13px, -4px)"},leftInside:{Extend:"triangle",transform:"translate(-8px, -5px)"},right:{Extend:"triangleBorder",transform:"translate(20px, -14px) rotate(180deg)"},rightInside:{Extend:"triangle",transform:"translate(-8px, -5px)"}}});return j.createElement("div",{style:e.pointer},j.createElement("div",{style:e.left},j.createElement("div",{style:e.leftInside})),j.createElement("div",{style:e.right},j.createElement("div",{style:e.rightInside})))},eE=function(e){var r=e.onClick,n=e.label,i=e.children,a=e.active,o=rt({default:{button:{backgroundImage:"linear-gradient(-180deg, #FFFFFF 0%, #E6E6E6 100%)",border:"1px solid #878787",borderRadius:"2px",height:"20px",boxShadow:"0 1px 0 0 #EAEAEA",fontSize:"14px",color:"#000",lineHeight:"20px",textAlign:"center",marginBottom:"10px",cursor:"pointer"}},active:{button:{boxShadow:"0 0 0 1px #878787"}}},{active:a});return j.createElement("div",{style:o.button,onClick:r},n||i)},sSe=function(e){var r=e.rgb,n=e.currentColor,i=rt({default:{swatches:{border:"1px solid #B3B3B3",borderBottom:"1px solid #F0F0F0",marginBottom:"2px",marginTop:"1px"},new:{height:"34px",background:"rgb("+r.r+","+r.g+", "+r.b+")",boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 1px 0 #000"},current:{height:"34px",background:n,boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 -1px 0 #000"},label:{fontSize:"14px",color:"#000",textAlign:"center"}}});return j.createElement("div",null,j.createElement("div",{style:i.label},"new"),j.createElement("div",{style:i.swatches},j.createElement("div",{style:i.new}),j.createElement("div",{style:i.current})),j.createElement("div",{style:i.label},"current"))},lSe=function(){function t(e,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();function uSe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function cSe(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function fSe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var xb=function(t){fSe(e,t);function e(r){uSe(this,e);var n=cSe(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return n.state={currentColor:r.hex},n}return lSe(e,[{key:"render",value:function(){var n=this.props,i=n.styles,a=i===void 0?{}:i,o=n.className,s=o===void 0?"":o,l=rt(Hn({default:{picker:{background:"#DCDCDC",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.25), 0 8px 16px rgba(0,0,0,.15)",boxSizing:"initial",width:"513px"},head:{backgroundImage:"linear-gradient(-180deg, #F0F0F0 0%, #D4D4D4 100%)",borderBottom:"1px solid #B1B1B1",boxShadow:"inset 0 1px 0 0 rgba(255,255,255,.2), inset 0 -1px 0 0 rgba(0,0,0,.02)",height:"23px",lineHeight:"24px",borderRadius:"4px 4px 0 0",fontSize:"13px",color:"#4D4D4D",textAlign:"center"},body:{padding:"15px 15px 0",display:"flex"},saturation:{width:"256px",height:"256px",position:"relative",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0",overflow:"hidden"},hue:{position:"relative",height:"256px",width:"19px",marginLeft:"10px",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0"},controls:{width:"180px",marginLeft:"10px"},top:{display:"flex"},previews:{width:"60px"},actions:{flex:"1",marginLeft:"20px"}}},a));return j.createElement("div",{style:l.picker,className:"photoshop-picker "+s},j.createElement("div",{style:l.head},this.props.header),j.createElement("div",{style:l.body,className:"flexbox-fix"},j.createElement("div",{style:l.saturation},j.createElement(ch,{hsl:this.props.hsl,hsv:this.props.hsv,pointer:aSe,onChange:this.props.onChange})),j.createElement("div",{style:l.hue},j.createElement(pu,{direction:"vertical",hsl:this.props.hsl,pointer:oSe,onChange:this.props.onChange})),j.createElement("div",{style:l.controls},j.createElement("div",{style:l.top,className:"flexbox-fix"},j.createElement("div",{style:l.previews},j.createElement(sSe,{rgb:this.props.rgb,currentColor:this.state.currentColor})),j.createElement("div",{style:l.actions},j.createElement(eE,{label:"OK",onClick:this.props.onAccept,active:!0}),j.createElement(eE,{label:"Cancel",onClick:this.props.onCancel}),j.createElement(iSe,{onChange:this.props.onChange,rgb:this.props.rgb,hsv:this.props.hsv,hex:this.props.hex}))))))}}]),e}(j.Component);xb.propTypes={header:z.string,styles:z.object};xb.defaultProps={header:"Color Picker",styles:{}};zn(xb);var dSe=function(e){var r=e.onChange,n=e.rgb,i=e.hsl,a=e.hex,o=e.disableAlpha,s=rt({default:{fields:{display:"flex",paddingTop:"4px"},single:{flex:"1",paddingLeft:"6px"},alpha:{flex:"1",paddingLeft:"6px"},double:{flex:"2"},input:{width:"80%",padding:"4px 10% 3px",border:"none",boxShadow:"inset 0 0 0 1px #ccc",fontSize:"11px"},label:{display:"block",textAlign:"center",fontSize:"11px",color:"#222",paddingTop:"3px",paddingBottom:"4px",textTransform:"capitalize"}},disableAlpha:{alpha:{display:"none"}}},{disableAlpha:o}),l=function(c,f){c.hex?Ro(c.hex)&&r({hex:c.hex,source:"hex"},f):c.r||c.g||c.b?r({r:c.r||n.r,g:c.g||n.g,b:c.b||n.b,a:n.a,source:"rgb"},f):c.a&&(c.a<0?c.a=0:c.a>100&&(c.a=100),c.a/=100,r({h:i.h,s:i.s,l:i.l,a:c.a,source:"rgb"},f))};return j.createElement("div",{style:s.fields,className:"flexbox-fix"},j.createElement("div",{style:s.double},j.createElement(Tt,{style:{input:s.input,label:s.label},label:"hex",value:a.replace("#",""),onChange:l})),j.createElement("div",{style:s.single},j.createElement(Tt,{style:{input:s.input,label:s.label},label:"r",value:n.r,onChange:l,dragLabel:"true",dragMax:"255"})),j.createElement("div",{style:s.single},j.createElement(Tt,{style:{input:s.input,label:s.label},label:"g",value:n.g,onChange:l,dragLabel:"true",dragMax:"255"})),j.createElement("div",{style:s.single},j.createElement(Tt,{style:{input:s.input,label:s.label},label:"b",value:n.b,onChange:l,dragLabel:"true",dragMax:"255"})),j.createElement("div",{style:s.alpha},j.createElement(Tt,{style:{input:s.input,label:s.label},label:"a",value:Math.round(n.a*100),onChange:l,dragLabel:"true",dragMax:"100"})))},pSe=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},IF=function(e){var r=e.colors,n=e.onClick,i=n===void 0?function(){}:n,a=e.onSwatchHover,o=rt({default:{colors:{margin:"0 -10px",padding:"10px 0 0 10px",borderTop:"1px solid #eee",display:"flex",flexWrap:"wrap",position:"relative"},swatchWrap:{width:"16px",height:"16px",margin:"0 10px 10px 0"},swatch:{borderRadius:"3px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15)"}},"no-presets":{colors:{display:"none"}}},{"no-presets":!r||!r.length}),s=function(u,c){i({hex:u,source:"hex"},c)};return j.createElement("div",{style:o.colors,className:"flexbox-fix"},r.map(function(l){var u=typeof l=="string"?{color:l}:l,c=""+u.color+(u.title||"");return j.createElement("div",{key:c,style:o.swatchWrap},j.createElement(Es,pSe({},u,{style:o.swatch,onClick:s,onHover:a,focusStyle:{boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), 0 0 4px "+u.color}})))}))};IF.propTypes={colors:z.arrayOf(z.oneOfType([z.string,z.shape({color:z.string,title:z.string})])).isRequired};var hSe=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},wb=function(e){var r=e.width,n=e.rgb,i=e.hex,a=e.hsv,o=e.hsl,s=e.onChange,l=e.onSwatchHover,u=e.disableAlpha,c=e.presetColors,f=e.renderers,d=e.styles,p=d===void 0?{}:d,v=e.className,h=v===void 0?"":v,g=rt(Hn({default:hSe({picker:{width:r,padding:"10px 10px 0",boxSizing:"initial",background:"#fff",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.15), 0 8px 16px rgba(0,0,0,.15)"},saturation:{width:"100%",paddingBottom:"75%",position:"relative",overflow:"hidden"},Saturation:{radius:"3px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},controls:{display:"flex"},sliders:{padding:"4px 0",flex:"1"},color:{width:"24px",height:"24px",position:"relative",marginTop:"4px",marginLeft:"4px",borderRadius:"3px"},activeColor:{absolute:"0px 0px 0px 0px",borderRadius:"2px",background:"rgba("+n.r+","+n.g+","+n.b+","+n.a+")",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},hue:{position:"relative",height:"10px",overflow:"hidden"},Hue:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},alpha:{position:"relative",height:"10px",marginTop:"4px",overflow:"hidden"},Alpha:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"}},p),disableAlpha:{color:{height:"10px"},hue:{height:"10px"},alpha:{display:"none"}}},p),{disableAlpha:u});return j.createElement("div",{style:g.picker,className:"sketch-picker "+h},j.createElement("div",{style:g.saturation},j.createElement(ch,{style:g.Saturation,hsl:o,hsv:a,onChange:s})),j.createElement("div",{style:g.controls,className:"flexbox-fix"},j.createElement("div",{style:g.sliders},j.createElement("div",{style:g.hue},j.createElement(pu,{style:g.Hue,hsl:o,onChange:s})),j.createElement("div",{style:g.alpha},j.createElement(ab,{style:g.Alpha,rgb:n,hsl:o,renderers:f,onChange:s}))),j.createElement("div",{style:g.color},j.createElement(du,null),j.createElement("div",{style:g.activeColor}))),j.createElement(dSe,{rgb:n,hsl:o,hex:i,onChange:s,disableAlpha:u}),j.createElement(IF,{colors:c,onClick:s,onSwatchHover:l}))};wb.propTypes={disableAlpha:z.bool,width:z.oneOfType([z.string,z.number]),styles:z.object};wb.defaultProps={disableAlpha:!1,width:200,styles:{},presetColors:["#D0021B","#F5A623","#F8E71C","#8B572A","#7ED321","#417505","#BD10E0","#9013FE","#4A90E2","#50E3C2","#B8E986","#000000","#4A4A4A","#9B9B9B","#FFFFFF"]};zn(wb);var Tu=function(e){var r=e.hsl,n=e.offset,i=e.onClick,a=i===void 0?function(){}:i,o=e.active,s=e.first,l=e.last,u=rt({default:{swatch:{height:"12px",background:"hsl("+r.h+", 50%, "+n*100+"%)",cursor:"pointer"}},first:{swatch:{borderRadius:"2px 0 0 2px"}},last:{swatch:{borderRadius:"0 2px 2px 0"}},active:{swatch:{transform:"scaleY(1.8)",borderRadius:"3.6px/2px"}}},{active:o,first:s,last:l}),c=function(d){return a({h:r.h,s:.5,l:n,source:"hsl"},d)};return j.createElement("div",{style:u.swatch,onClick:c})},vSe=function(e){var r=e.onClick,n=e.hsl,i=rt({default:{swatches:{marginTop:"20px"},swatch:{boxSizing:"border-box",width:"20%",paddingRight:"1px",float:"left"},clear:{clear:"both"}}}),a=.1;return j.createElement("div",{style:i.swatches},j.createElement("div",{style:i.swatch},j.createElement(Tu,{hsl:n,offset:".80",active:Math.abs(n.l-.8)<a&&Math.abs(n.s-.5)<a,onClick:r,first:!0})),j.createElement("div",{style:i.swatch},j.createElement(Tu,{hsl:n,offset:".65",active:Math.abs(n.l-.65)<a&&Math.abs(n.s-.5)<a,onClick:r})),j.createElement("div",{style:i.swatch},j.createElement(Tu,{hsl:n,offset:".50",active:Math.abs(n.l-.5)<a&&Math.abs(n.s-.5)<a,onClick:r})),j.createElement("div",{style:i.swatch},j.createElement(Tu,{hsl:n,offset:".35",active:Math.abs(n.l-.35)<a&&Math.abs(n.s-.5)<a,onClick:r})),j.createElement("div",{style:i.swatch},j.createElement(Tu,{hsl:n,offset:".20",active:Math.abs(n.l-.2)<a&&Math.abs(n.s-.5)<a,onClick:r,last:!0})),j.createElement("div",{style:i.clear}))},gSe=function(){var e=rt({default:{picker:{width:"14px",height:"14px",borderRadius:"6px",transform:"translate(-7px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return j.createElement("div",{style:e.picker})},Eb=function(e){var r=e.hsl,n=e.onChange,i=e.pointer,a=e.styles,o=a===void 0?{}:a,s=e.className,l=s===void 0?"":s,u=rt(Hn({default:{hue:{height:"12px",position:"relative"},Hue:{radius:"2px"}}},o));return j.createElement("div",{style:u.wrap||{},className:"slider-picker "+l},j.createElement("div",{style:u.hue},j.createElement(pu,{style:u.Hue,hsl:r,pointer:i,onChange:n})),j.createElement("div",{style:u.swatches},j.createElement(vSe,{hsl:r,onClick:n})))};Eb.propTypes={styles:z.object};Eb.defaultProps={pointer:gSe,styles:{}};zn(Eb);var AF={};Object.defineProperty(AF,"__esModule",{value:!0});var tE=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},mSe=X,rE=ySe(mSe);function ySe(t){return t&&t.__esModule?t:{default:t}}function bSe(t,e){var r={};for(var n in t)e.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r}var qf=24,_Se=AF.default=function(t){var e=t.fill,r=e===void 0?"currentColor":e,n=t.width,i=n===void 0?qf:n,a=t.height,o=a===void 0?qf:a,s=t.style,l=s===void 0?{}:s,u=bSe(t,["fill","width","height","style"]);return rE.default.createElement("svg",tE({viewBox:"0 0 "+qf+" "+qf,style:tE({fill:r,width:i,height:o},l)},u),rE.default.createElement("path",{d:"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"}))},SSe=function(e){var r=e.color,n=e.onClick,i=n===void 0?function(){}:n,a=e.onSwatchHover,o=e.first,s=e.last,l=e.active,u=rt({default:{color:{width:"40px",height:"24px",cursor:"pointer",background:r,marginBottom:"1px"},check:{color:pb(r),marginLeft:"8px",display:"none"}},first:{color:{overflow:"hidden",borderRadius:"2px 2px 0 0"}},last:{color:{overflow:"hidden",borderRadius:"0 0 2px 2px"}},active:{check:{display:"block"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},check:{color:"#333"}},transparent:{check:{color:"#333"}}},{first:o,last:s,active:l,"color-#FFFFFF":r==="#FFFFFF",transparent:r==="transparent"});return j.createElement(Es,{color:r,style:u.color,onClick:i,onHover:a,focusStyle:{boxShadow:"0 0 4px "+r}},j.createElement("div",{style:u.check},j.createElement(_Se,null)))},OSe=function(e){var r=e.onClick,n=e.onSwatchHover,i=e.group,a=e.active,o=rt({default:{group:{paddingBottom:"10px",width:"40px",float:"left",marginRight:"10px"}}});return j.createElement("div",{style:o.group},Cs(i,function(s,l){return j.createElement(SSe,{key:s,color:s,active:s.toLowerCase()===a,first:l===0,last:l===i.length-1,onClick:r,onSwatchHover:n})}))},Cb=function(e){var r=e.width,n=e.height,i=e.onChange,a=e.onSwatchHover,o=e.colors,s=e.hex,l=e.styles,u=l===void 0?{}:l,c=e.className,f=c===void 0?"":c,d=rt(Hn({default:{picker:{width:r,height:n},overflow:{height:n,overflowY:"scroll"},body:{padding:"16px 0 6px 16px"},clear:{clear:"both"}}},u)),p=function(h,g){return i({hex:h,source:"hex"},g)};return j.createElement("div",{style:d.picker,className:"swatches-picker "+f},j.createElement(sf,null,j.createElement("div",{style:d.overflow},j.createElement("div",{style:d.body},Cs(o,function(v){return j.createElement(OSe,{key:v.toString(),group:v,active:s,onClick:p,onSwatchHover:a})}),j.createElement("div",{style:d.clear})))))};Cb.propTypes={width:z.oneOfType([z.string,z.number]),height:z.oneOfType([z.string,z.number]),colors:z.arrayOf(z.arrayOf(z.string)),styles:z.object};Cb.defaultProps={width:320,height:240,colors:[[Us[900],Us[700],Us[500],Us[300],Us[100]],[Ws[900],Ws[700],Ws[500],Ws[300],Ws[100]],[Gs[900],Gs[700],Gs[500],Gs[300],Gs[100]],[Ys[900],Ys[700],Ys[500],Ys[300],Ys[100]],[Ks[900],Ks[700],Ks[500],Ks[300],Ks[100]],[Js[900],Js[700],Js[500],Js[300],Js[100]],[Qs[900],Qs[700],Qs[500],Qs[300],Qs[100]],[Xs[900],Xs[700],Xs[500],Xs[300],Xs[100]],[Zs[900],Zs[700],Zs[500],Zs[300],Zs[100]],["#194D33",Ru[700],Ru[500],Ru[300],Ru[100]],[el[900],el[700],el[500],el[300],el[100]],[tl[900],tl[700],tl[500],tl[300],tl[100]],[rl[900],rl[700],rl[500],rl[300],rl[100]],[nl[900],nl[700],nl[500],nl[300],nl[100]],[il[900],il[700],il[500],il[300],il[100]],[al[900],al[700],al[500],al[300],al[100]],[ol[900],ol[700],ol[500],ol[300],ol[100]],[sl[900],sl[700],sl[500],sl[300],sl[100]],["#000000","#525252","#969696","#D9D9D9","#FFFFFF"]],styles:{}};zn(Cb);var Tb=function(e){var r=e.onChange,n=e.onSwatchHover,i=e.hex,a=e.colors,o=e.width,s=e.triangle,l=e.styles,u=l===void 0?{}:l,c=e.className,f=c===void 0?"":c,d=rt(Hn({default:{card:{width:o,background:"#fff",border:"0 solid rgba(0,0,0,0.25)",boxShadow:"0 1px 4px rgba(0,0,0,0.25)",borderRadius:"4px",position:"relative"},body:{padding:"15px 9px 9px 15px"},label:{fontSize:"18px",color:"#fff"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent #fff transparent",position:"absolute"},triangleShadow:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent rgba(0,0,0,.1) transparent",position:"absolute"},hash:{background:"#F0F0F0",height:"30px",width:"30px",borderRadius:"4px 0 0 4px",float:"left",color:"#98A1A4",display:"flex",alignItems:"center",justifyContent:"center"},input:{width:"100px",fontSize:"14px",color:"#666",border:"0px",outline:"none",height:"28px",boxShadow:"inset 0 0 0 1px #F0F0F0",boxSizing:"content-box",borderRadius:"0 4px 4px 0",float:"left",paddingLeft:"8px"},swatch:{width:"30px",height:"30px",float:"left",borderRadius:"4px",margin:"0 6px 6px 0"},clear:{clear:"both"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-10px",left:"12px"},triangleShadow:{top:"-11px",left:"12px"}},"top-right-triangle":{triangle:{top:"-10px",right:"12px"},triangleShadow:{top:"-11px",right:"12px"}}},u),{"hide-triangle":s==="hide","top-left-triangle":s==="top-left","top-right-triangle":s==="top-right"}),p=function(h,g){Ro(h)&&r({hex:h,source:"hex"},g)};return j.createElement("div",{style:d.card,className:"twitter-picker "+f},j.createElement("div",{style:d.triangleShadow}),j.createElement("div",{style:d.triangle}),j.createElement("div",{style:d.body},Cs(a,function(v,h){return j.createElement(Es,{key:h,color:v,hex:v,style:d.swatch,onClick:p,onHover:n,focusStyle:{boxShadow:"0 0 4px "+v}})}),j.createElement("div",{style:d.hash},"#"),j.createElement(Tt,{label:null,style:{input:d.input},value:i.replace("#",""),onChange:p}),j.createElement("div",{style:d.clear})))};Tb.propTypes={width:z.oneOfType([z.string,z.number]),triangle:z.oneOf(["hide","top-left","top-right"]),colors:z.arrayOf(z.string),styles:z.object};Tb.defaultProps={width:276,colors:["#FF6900","#FCB900","#7BDCB5","#00D084","#8ED1FC","#0693E3","#ABB8C3","#EB144C","#F78DA7","#9900EF"],triangle:"top-left",styles:{}};zn(Tb);var kb=function(e){var r=rt({default:{picker:{width:"20px",height:"20px",borderRadius:"22px",border:"2px #fff solid",transform:"translate(-12px, -13px)",background:"hsl("+Math.round(e.hsl.h)+", "+Math.round(e.hsl.s*100)+"%, "+Math.round(e.hsl.l*100)+"%)"}}});return j.createElement("div",{style:r.picker})};kb.propTypes={hsl:z.shape({h:z.number,s:z.number,l:z.number,a:z.number})};kb.defaultProps={hsl:{a:1,h:249.94,l:.2,s:.5}};var Ib=function(e){var r=rt({default:{picker:{width:"20px",height:"20px",borderRadius:"22px",transform:"translate(-10px, -7px)",background:"hsl("+Math.round(e.hsl.h)+", 100%, 50%)",border:"2px white solid"}}});return j.createElement("div",{style:r.picker})};Ib.propTypes={hsl:z.shape({h:z.number,s:z.number,l:z.number,a:z.number})};Ib.defaultProps={hsl:{a:1,h:249.94,l:.2,s:.5}};var xSe=function(e){var r=e.onChange,n=e.rgb,i=e.hsl,a=e.hex,o=e.hsv,s=function(p,v){if(p.hex)Ro(p.hex)&&r({hex:p.hex,source:"hex"},v);else if(p.rgb){var h=p.rgb.split(",");Sv(p.rgb,"rgb")&&r({r:h[0],g:h[1],b:h[2],a:1,source:"rgb"},v)}else if(p.hsv){var g=p.hsv.split(",");Sv(p.hsv,"hsv")&&(g[2]=g[2].replace("%",""),g[1]=g[1].replace("%",""),g[0]=g[0].replace("°",""),g[1]==1?g[1]=.01:g[2]==1&&(g[2]=.01),r({h:Number(g[0]),s:Number(g[1]),v:Number(g[2]),source:"hsv"},v))}else if(p.hsl){var y=p.hsl.split(",");Sv(p.hsl,"hsl")&&(y[2]=y[2].replace("%",""),y[1]=y[1].replace("%",""),y[0]=y[0].replace("°",""),f[1]==1?f[1]=.01:f[2]==1&&(f[2]=.01),r({h:Number(y[0]),s:Number(y[1]),v:Number(y[2]),source:"hsl"},v))}},l=rt({default:{wrap:{display:"flex",height:"100px",marginTop:"4px"},fields:{width:"100%"},column:{paddingTop:"10px",display:"flex",justifyContent:"space-between"},double:{padding:"0px 4.4px",boxSizing:"border-box"},input:{width:"100%",height:"38px",boxSizing:"border-box",padding:"4px 10% 3px",textAlign:"center",border:"1px solid #dadce0",fontSize:"11px",textTransform:"lowercase",borderRadius:"5px",outline:"none",fontFamily:"Roboto,Arial,sans-serif"},input2:{height:"38px",width:"100%",border:"1px solid #dadce0",boxSizing:"border-box",fontSize:"11px",textTransform:"lowercase",borderRadius:"5px",outline:"none",paddingLeft:"10px",fontFamily:"Roboto,Arial,sans-serif"},label:{textAlign:"center",fontSize:"12px",background:"#fff",position:"absolute",textTransform:"uppercase",color:"#3c4043",width:"35px",top:"-6px",left:"0",right:"0",marginLeft:"auto",marginRight:"auto",fontFamily:"Roboto,Arial,sans-serif"},label2:{left:"10px",textAlign:"center",fontSize:"12px",background:"#fff",position:"absolute",textTransform:"uppercase",color:"#3c4043",width:"32px",top:"-6px",fontFamily:"Roboto,Arial,sans-serif"},single:{flexGrow:"1",margin:"0px 4.4px"}}}),u=n.r+", "+n.g+", "+n.b,c=Math.round(i.h)+"°, "+Math.round(i.s*100)+"%, "+Math.round(i.l*100)+"%",f=Math.round(o.h)+"°, "+Math.round(o.s*100)+"%, "+Math.round(o.v*100)+"%";return j.createElement("div",{style:l.wrap,className:"flexbox-fix"},j.createElement("div",{style:l.fields},j.createElement("div",{style:l.double},j.createElement(Tt,{style:{input:l.input,label:l.label},label:"hex",value:a,onChange:s})),j.createElement("div",{style:l.column},j.createElement("div",{style:l.single},j.createElement(Tt,{style:{input:l.input2,label:l.label2},label:"rgb",value:u,onChange:s})),j.createElement("div",{style:l.single},j.createElement(Tt,{style:{input:l.input2,label:l.label2},label:"hsv",value:f,onChange:s})),j.createElement("div",{style:l.single},j.createElement(Tt,{style:{input:l.input2,label:l.label2},label:"hsl",value:c,onChange:s})))))},Ab=function(e){var r=e.width,n=e.onChange,i=e.rgb,a=e.hsl,o=e.hsv,s=e.hex,l=e.header,u=e.styles,c=u===void 0?{}:u,f=e.className,d=f===void 0?"":f,p=rt(Hn({default:{picker:{width:r,background:"#fff",border:"1px solid #dfe1e5",boxSizing:"initial",display:"flex",flexWrap:"wrap",borderRadius:"8px 8px 0px 0px"},head:{height:"57px",width:"100%",paddingTop:"16px",paddingBottom:"16px",paddingLeft:"16px",fontSize:"20px",boxSizing:"border-box",fontFamily:"Roboto-Regular,HelveticaNeue,Arial,sans-serif"},saturation:{width:"70%",padding:"0px",position:"relative",overflow:"hidden"},swatch:{width:"30%",height:"228px",padding:"0px",background:"rgba("+i.r+", "+i.g+", "+i.b+", 1)",position:"relative",overflow:"hidden"},body:{margin:"auto",width:"95%"},controls:{display:"flex",boxSizing:"border-box",height:"52px",paddingTop:"22px"},color:{width:"32px"},hue:{height:"8px",position:"relative",margin:"0px 16px 0px 16px",width:"100%"},Hue:{radius:"2px"}}},c));return j.createElement("div",{style:p.picker,className:"google-picker "+d},j.createElement("div",{style:p.head},l),j.createElement("div",{style:p.swatch}),j.createElement("div",{style:p.saturation},j.createElement(ch,{hsl:a,hsv:o,pointer:kb,onChange:n})),j.createElement("div",{style:p.body},j.createElement("div",{style:p.controls,className:"flexbox-fix"},j.createElement("div",{style:p.hue},j.createElement(pu,{style:p.Hue,hsl:a,radius:"4px",pointer:Ib,onChange:n}))),j.createElement(xSe,{rgb:i,hsl:a,hex:s,hsv:o,onChange:n})))};Ab.propTypes={width:z.oneOfType([z.string,z.number]),styles:z.object,header:z.string};Ab.defaultProps={width:652,styles:{},header:"Color picker"};zn(Ab);const xv=["Alegreya","Amatic SC","Arial","Bree Serif","Calibri","Cambria","Caveat","Comfortaa","Comic Sans MS","Courier New","EB Garamond","Georgia","Google Sans","Impact","Lexend","Lobster","Lora","Merriweather","Montserrat","Nunito","Oswald","Pacifico","Permanent Marker","Pinyon Script","Playfair Display","Proxima Nova","Roboto","Roboto Mono","Roboto Serif","Spectral","Times New Roman","Trebuchet MS","Ultra","Varela Round","Verdana"];function wSe({t}){const e=Ll("design"),r=_t(),n=ye(O=>O.designState.Survey.theme);function i(O,x){if(O==="font"){const E={...n.textStyles};E.group={...E.group,font:x},E.question={...E.question,font:x},E.text={...E.text,font:x},r(Gn({code:"Survey",key:"theme",value:{...n,textStyles:E}}))}else if(O==="textColor"){const E={...n.textStyles};E.group={...E.group,color:x},E.question={...E.question,color:x},E.text={...E.text,color:x},r(Gn({code:"Survey",key:"theme",value:{...n,textStyles:E}}))}else if(O==="bgColor"){const E=x.match(/rgba?\((\d+),\s*(\d+),\s*(\d+),?\s*(\d?\.?\d+)?\)/);if(E){const A=E[1],C=E[2],k=E[3];let w=E[4];(!w||w==="0"||w==="0.0")&&(w="1");const I="rgba(".concat(A,", ").concat(C,", ").concat(k,", ").concat(w,")");r(Gn({code:"Survey",key:"theme",value:{...n,bgColor:I}}))}else r(Gn({code:"Survey",key:"theme",value:{...n,bgColor:x}}))}else r(Gn({code:"Survey",key:"theme",value:{...n,[O]:x}}))}function a(O){O.preventDefault();let x=O.target.files[0];e.uploadResource(x).then(E=>{r(Ra({code:"Survey",key:"headerImage",value:E.name}))}).catch(E=>{console.error(E)})}const o=()=>{r(Ra({code:"Survey",key:"headerImage",value:null}))};function s(O){O.preventDefault();let x=O.target.files[0];e.uploadResource(x).then(E=>{r(Ra({code:"Survey",key:"backgroundImage",value:E.name})),r(Gn({code:"Survey",key:"theme",value:{...n,bgColor:"rgba(0, 0, 0, 0)"}}))}).catch(E=>{console.error(E)})}const l=()=>{r(Ra({code:"Survey",key:"backgroundImage",value:null}))},u=cf(),c=cf(),f=cf(),d=cf(),p=()=>{u.onFalse(),c.onFalse(),f.onFalse(),d.onFalse()},v=X.useRef(),h=X.useRef(),g=X.useRef(),y=X.useRef();function m(O,x){X.useEffect(()=>{function E(A){O.current&&!O.current.contains(A.target)&&x()}return document.addEventListener("mousedown",E),()=>{document.removeEventListener("mousedown",E)}},[O,x])}m(v,p),m(h,p),m(g,p),m(y,p);const _=O=>{O.value?O.onFalse():(p(),O.onToggle())},b=ye(O=>{var x,E;return(E=(x=O.designState.Survey)==null?void 0:x.resources)==null?void 0:E.backgroundImage}),S=ye(O=>{var x,E;return(E=(x=O.designState.Survey)==null?void 0:x.resources)==null?void 0:E.headerImage});return T.jsxs("div",{className:xn.theming,children:[T.jsxs("span",{className:xn.fontText,children:[" ",t("font")]}),T.jsx(zi,{sx:{"& .MuiSvgIcon-root":{color:"#16205b"}},IconComponent:pE,size:"small",className:xn.selectDropdown,value:n.textStyles.group.font,onChange:O=>i("font",O.target.value),children:xv&&xv.length>0&&xv.map((O,x)=>T.jsx(Xr,{sx:{fontFamily:O},value:O,children:O},"fontFamily-".concat(x)))},"fontFamily"),T.jsxs(Ca,{display:"flex",justifyContent:"space-between",width:"100%",flexDirection:"row",children:[T.jsx(wn,{variant:"subtitle2",alignSelf:"center",children:t("group_title")}),T.jsx(hv,{value:n.textStyles.group,default:bh.textStyles.group,onChange:O=>{i("textStyles",{...n.textStyles,group:O})}},"group")]}),T.jsxs(Ca,{display:"flex",justifyContent:"space-between",width:"100%",flexDirection:"row",children:[T.jsx(wn,{variant:"subtitle2",alignSelf:"center",children:t("question_title")}),T.jsx(hv,{value:n.textStyles.question,default:bh.textStyles.question,onChange:O=>i("textStyles",{...n.textStyles,question:O})},"question")]}),T.jsxs(Ca,{display:"flex",justifyContent:"space-between",width:"100%",flexDirection:"row",children:[T.jsx(wn,{variant:"subtitle2",alignSelf:"center",children:t("theme_text")}),T.jsx(hv,{value:n.textStyles.text,default:bh.textStyles.text,onChange:O=>i("textStyles",{...n.textStyles,text:O})},"text")]}),T.jsx("hr",{}),T.jsxs(Ca,{display:"flex",justifyContent:"space-between",width:"100%",flexDirection:"row",position:"relative",children:[T.jsx(wn,{variant:"subtitle2",alignSelf:"center",children:t("highlight_color")}),T.jsx(Ht,{onClick:()=>_(u),style:{backgroundColor:n.primaryColor},className:xn.colorBox}),u.value&&T.jsxs(ht,{ref:v,className:xn.colorPickerContainer,children:[T.jsx(bt,{onClick:()=>_(u),style:{marginLeft:"auto",color:"#333"},"aria-label":"close",children:T.jsx(di,{})}),T.jsx(Bf,{color:n.primaryColor,onChange:O=>{i("primaryColor","rgba(".concat(O.rgb.r,", ").concat(O.rgb.g,", ").concat(O.rgb.b,", ").concat(O.rgb.a,")"))}})]})]}),T.jsxs(Ca,{display:"flex",justifyContent:"space-between",width:"100%",flexDirection:"row",position:"relative",children:[T.jsx(wn,{variant:"subtitle2",alignSelf:"center",children:t("background_color")}),T.jsx(Ht,{onClick:()=>_(c),style:{backgroundColor:n.bgColor},className:xn.colorBox}),c.value&&T.jsxs(ht,{ref:h,className:xn.colorPickerContainer,children:[T.jsx(bt,{onClick:()=>_(c),style:{marginLeft:"auto",color:"#333"},"aria-label":"close",children:T.jsx(di,{})}),T.jsx(Bf,{color:n.bgColor,onChange:O=>{i("bgColor","rgba(".concat(O.rgb.r,", ").concat(O.rgb.g,", ").concat(O.rgb.b,", ").concat(O.rgb.a,")"))}})]})]}),T.jsxs(Ca,{display:"flex",justifyContent:"space-between",width:"100%",flexDirection:"row",position:"relative",children:[T.jsx(wn,{variant:"subtitle2",alignSelf:"center",children:t("foreground_color")}),T.jsx(Ht,{onClick:()=>_(f),style:{backgroundColor:n.paperColor},className:xn.colorBox}),f.value&&T.jsxs(ht,{ref:g,className:xn.colorPickerContainer,children:[T.jsx(bt,{onClick:()=>_(f),style:{marginLeft:"auto",color:"#333"},"aria-label":"close",children:T.jsx(di,{})}),T.jsx(Bf,{color:n.paperColor,onChange:O=>{i("paperColor","rgba(".concat(O.rgb.r,", ").concat(O.rgb.g,", ").concat(O.rgb.b,", ").concat(O.rgb.a,")"))}})]})]}),T.jsxs(Ca,{display:"flex",justifyContent:"space-between",width:"100%",flexDirection:"row",position:"relative",children:[T.jsx(wn,{variant:"subtitle2",alignSelf:"center",children:t("text_color")}),T.jsx(Ht,{onClick:()=>_(d),style:{backgroundColor:n.textStyles.group.color},className:xn.colorBox}),d.value&&T.jsxs(ht,{ref:y,className:xn.colorPickerContainer,children:[T.jsx(bt,{onClick:()=>_(d),style:{marginLeft:"auto",color:"#333"},"aria-label":"close",children:T.jsx(di,{})}),T.jsx(Bf,{color:n.textStyles.group.color,onChange:O=>{i("textColor","rgba(".concat(O.rgb.r,", ").concat(O.rgb.g,", ").concat(O.rgb.b,", ").concat(O.rgb.a,")"))}})]})]}),T.jsxs(Ca,{display:"flex",justifyContent:"space-between",width:"100%",flexDirection:"row",children:[T.jsx(wn,{variant:"subtitle2",alignSelf:"center",children:t("upload_banner")}),T.jsxs(Ht,{component:"label",className:xn.chooseImage,children:[T.jsx($b,{}),T.jsx("input",{hidden:!0,accept:"image/*",type:"file",onChange:a})]}),S&&T.jsx(bt,{className:xn.resetButton,onClick:o,children:T.jsx(Db,{})})]}),T.jsxs(Ca,{display:"flex",justifyContent:"space-between",width:"100%",flexDirection:"row",gap:1,children:[T.jsx(wn,{variant:"subtitle2",alignSelf:"center",children:t("upload_background")}),T.jsxs(Ht,{component:"label",className:xn.chooseImage,children:[T.jsx($b,{}),T.jsx("input",{hidden:!0,accept:"image/*",type:"file",onChange:s})]}),b&&T.jsx(bt,{className:xn.resetButton,onClick:l,children:T.jsx(Db,{})})]})]})}function ESe({t}){const e=_t(),r=X.useCallback(d=>{e(SR(d))}),n=ma(),a=hE([d=>d.designState.setup||{}],d=>{var p;return{code:d.code,expanded:d.expanded,highlighted:d.highlighted,rules:d.rules,isSingleRule:((p=d.rules)==null?void 0:p.length)===1}}),{code:o,expanded:s,highlighted:l,rules:u,isSingleRule:c}=ye(a),f=ye(d=>!Ug(d.designState.setup));return T.jsxs("div",{className:Gu.rightContent,style:{left:n.direction=="rtl"?"0px":""},children:[f&&T.jsx("div",{className:Gu.close,children:T.jsx(bt,{onClick:()=>{e(Wg())},children:T.jsx(di,{})})}),u==null?void 0:u.map(d=>T.jsx(kSe,{expanded:(s==null?void 0:s.includes(d.key))||c||!1,isSingleRule:c,code:o,t,toggleExpand:r,highlighted:d.key==l,rule:d},o+d.title))]})}const CSe=j.memo(ESe),TSe=j.memo(({code:t,rule:e,t:r})=>{if(e.startsWith("validation_"))return T.jsx(V9,{t:r,rule:e,code:t},t+e);switch(e){case"theme":return T.jsx(wSe,{t:r},t+e);case"language":return T.jsx(LR,{t:r},t+e);case"maxChars":return T.jsx(Of,{label:r("text_field_size"),rule:e,lowerBound:1,upperBound:500,defaultValue:20,code:t},t+e);case"minRows":return T.jsx(Of,{label:r("textarea_lines"),lowerBound:1,upperBound:500,code:t,defaultValue:20},t+e);case"hideText":return T.jsx(Qi,{label:r("hide_text"),rule:e,code:t},t+e);case"showDescription":return T.jsx(Qi,{label:r("show_description"),rule:e,code:t},t+e);case"showWordCount":return T.jsx(Qi,{label:r("show_word_count"),rule:e,code:t},t+e);case"navigationMode":return T.jsx(Dve,{},t+e);case"allowPrevious":return T.jsx(Qi,{label:r("allow_previous"),rule:e,code:t},t+e);case"allowIncomplete":return T.jsx(Qi,{label:r("allow_incomplete"),rule:e,code:t},t+e);case"allowJump":return T.jsx(Qi,{label:r("allow_jump"),rule:e,code:t},t+e);case"skipInvalid":return T.jsx(Qi,{label:r("skip_invalid"),rule:e,code:t},t+e);case"hint":return T.jsx(g9,{t:r,code:t},t+e);case"lower_bound_hint":return T.jsx(Uv,{title:r("lower_bound_hint"),objectName:"lower_bound_hint",code:t},t+e);case"higher_bound_hint":return T.jsx(Uv,{title:r("upper_bound_hint"),objectName:"higher_bound_hint",code:t},t+e);case"loop":return T.jsx(Qi,{rule:e,code:t,label:r("loop_video")},t+e);case"audio_only":return T.jsx(Qi,{rule:e,code:t,label:r("audio_only")},t+e);case"fullDayFormat":return T.jsx(Qi,{rule:e,code:t,label:r("fullday_format")},t+e);case"randomize_questions":case"prioritize_questions":case"randomize_options":case"prioritize_options":case"randomize_groups":case"prioritize_groups":case"randomize_rows":case"prioritize_rows":case"randomize_columns":case"prioritize_columns":return T.jsx(Nve,{t:r,rule:e,code:t},t+e);case"maxDate":return T.jsx(B_,{lowerBound:1,code:t,label:r("max_date"),rule:e},t+e);case"minDate":return T.jsx(B_,{label:r("min_date"),rule:e,code:t},t+e);case"dateFormat":const n=["DD.MM.YYYY","MM.DD.YYYY","YYYY.MM.DD","DD/MM/YYYY","MM/DD/YYYY","YYYY/MM/DD"];return T.jsx(Ps,{values:n,defaultValue:"DD.MM.YYYY",label:r("date_format"),rule:e,code:t},t+e);case"decimal_separator":const i=["",",","."],a=[r("no_decimals_allowed"),",","."];return T.jsx(Ps,{values:i,labels:a,defaultValue:"",label:r("decimal_separator"),rule:e,code:t},t+e);case"imageAspectRatio":const o=["1:1","16:9","4:3","3:2","9:16","3:4","2:3"],s=[1,1.7778,1.3333,1.5,.562,.75,.6667];return T.jsx(Ps,{values:s,labels:o,defaultValue:"1:1",label:r("image_aspect_ratio"),rule:e,code:t},t+e);case"reorder_setup":const l=[r("collapse_none"),r("collapse_groups"),r("collapse_questions")],u=["collapse_none","collapse_groups","collapse_questions"];return T.jsx(Ps,{values:u,labels:l,defaultValue:"collapse_none",label:r("order_mode"),rule:e,code:t},t+e);case"iconSize":const c=["48","64","72","96"];return T.jsx(Ps,{values:c,defaultValue:"1:1",label:r("image_icon_size"),rule:e,code:t},t+e);case"columns":const f=["1","2","3","4","6"];return T.jsx(Ps,{values:f,defaultValue:"2",label:r("columns_number"),rule:e,code:t},t+e);case"imageHeight":return T.jsx(Of,{label:r("image_height"),lowerBound:50,upperBound:500,code:t,defaultValue:250,rule:e},t+e);case"spacing":return T.jsx(Of,{label:r("spacing"),lowerBound:2,upperBound:32,code:t,defaultValue:8,rule:e},t+e);case"skip_logic":return T.jsx(mhe,{t:r,code:t},t+e);case"relevance":return T.jsx(phe,{t:r,code:t},t+e);default:return""}}),kSe=j.memo(({expanded:t,highlighted:e,code:r,rule:n,isSingleRule:i,t:a,toggleExpand:o})=>T.jsxs(YR,{expanded:t,className:Gu.accordionStyle,TransitionProps:{unmountOnExit:!0},children:[T.jsx(KR,{onClick:()=>o(n.key),className:Gu.setupHeader,expandIcon:i?null:T.jsx(JR,{}),children:T.jsx("span",{className:Gu.sectionTitle,children:a(n.title)})}),T.jsx(QR,{sx:{backgroundColor:e?"#fff":"background.paper"},children:n.rules.map(s=>T.jsx(TSe,{code:r,rule:s,t:a},s))})]})),ISe="_box_xl6bf_1",ASe="_boxHasSetup_xl6bf_8",nE={box:ISe,boxHasSetup:ASe};function jSe({t}){const e=ma(),r=_t(),n=ye(a=>{var o;return((o=a.designState)==null?void 0:o.setup)||{}},lE),i=Object.keys(n).length>0;return X.useEffect(()=>{const a=o=>{o.ctrlKey&&o.key==="d"&&(document.removeEventListener("keydown",a),r(Wg()))};i&&document.addEventListener("keydown",a)},[i]),T.jsx(ht,{className:"".concat(nE.box," ").concat(i?nE.boxHasSetup:""),style:{transition:e.transitions.create("all",{easing:e.transitions.easing.sharp,duration:300})},timeout:300,children:i&&T.jsx(CSe,{t})})}const PSe=j.memo(jSe);function LSe(){const{t,i18n:e}=as(["design","run"]),r=e.cloneInstance(),n=X.useRef(null),i=_t(),a=ye(d=>d.designState.langInfo),o=a==null?void 0:a.lang,s=a&&(a==null?void 0:a.onMainLang),l=ye(d=>{var p;return(p=d.designState.Survey)==null?void 0:p.theme});function u(d){return new Promise((p,v)=>{const h=mo.includes(d)?"rtl":"ltr",g=n.current;g.dir!=h&&(g.dir=h),g.scrollTop=0,d&&r&&d!=r.language&&r.changeLanguage(d),p()})}X.useEffect(()=>{n.current&&u(o)},[o,n]),X.useEffect(()=>{const p=new URLSearchParams(window.location.search).get("mode");p==_h.THEME?i(Bn(OR)):p==_h.LANGUAGES?i(Bn(xR)):p==_h.REORDER?i(Bn(wR)):i(Wg())},[]);const c=X.useMemo(()=>ER(o),[o]),f=j.useCallback(aE({...CR(l),direction:mo.includes(o)?"rtl":"ltr"}),[l]);return T.jsx("div",{className:Kb.mainContainer,children:T.jsxs(RR,{backend:$R()?NR:DR,children:[s&&T.jsx(d9,{t}),T.jsx(MF,{value:c,children:T.jsx(uE,{theme:f,children:T.jsx(VF,{i18n:r,children:T.jsx(l9,{onMainLang:s,ref:n,className:Kb.contentPanel})})})}),T.jsx(PSe,{t})]})})}const fOe=j.memo(LSe);export{fOe as default};
