import{j as s,s as f,B as o,r as j}from"./index-Dk6dJ9ej.js";import{c as _,a as v,L as S,o as y}from"./yup-Ke-idBs6.js";import{u as w,F as b,R as k,r as z,I as C}from"./Web-DQ9Pn3X4.js";import{R as F}from"./router-link-PFV7cSD7.js";import{e as L,T as t,aQ as T,R,M as I,U as A,X as l,aO as B,ar as P}from"./use-service-CuOd9RJq.js";import{L as $}from"./Link-XdUsRC_k.js";import"./Checkbox-B5kyj27j.js";import"./SwitchBase-vj41ugwS.js";import"./Tabs-BEdGyaaJ.js";import"./radioClasses-u6Ak_u_2.js";import"./tableRowClasses-CVBxymtu.js";import"./TextField-D9TfNg6R.js";import"./FormControlLabel-DbQERhmC.js";const D=L(s.jsx("path",{d:"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}),"Check"),M="_successText_19zdx_1",N="_iconContainer_19zdx_12",m={successText:M,iconContainer:N},W=({message:r,t:e})=>{const a=f();return s.jsxs(o,{className:m.successText,children:[s.jsx(o,{className:m.iconContainer,children:s.jsx(D,{sx:{fontSize:"40px",color:"#32CD32",stroke:"#32CD32",strokeWidth:1}})}),s.jsxs(o,{children:[s.jsx(t,{variant:"h4",color:"primary",children:e("email.check")}),s.jsx(t,{variant:"body1",mt:1,color:"textSecondary",children:e("".concat(r))})]}),s.jsx(T,{onClick:()=>{a("/login")},fullWidth:!0,size:"large",color:"primary",variant:"contained",children:e("login.login")})]})};function ts(){const r=R("auth"),{t:e}=I("manage"),[a,d]=j.useState(!1),i=A(),u=_().shape({email:v().required(e("email_required")).matches(/^[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Za-z]{2,}$/i,e("error.invalid_email"))}),x={email:""},n=w({resolver:y(u),defaultValues:x}),{reset:Z,handleSubmit:c,formState:{isSubmitting:h}}=n,p=c(async g=>{try{i(l(!0)),await r.forgotPassword(g.email),d(!0)}catch(q){}finally{i(l(!1))}});return s.jsx(s.Fragment,{children:a?s.jsx(W,{t:e,message:"forgot_password.success"}):s.jsxs(B,{sx:{textAlign:"center"},children:[s.jsx(P,{alt:"reset password",src:"/ic_lock_password.svg",sx:{mb:5,width:96,height:96,mx:"auto"}}),s.jsx(t,{variant:"h3",paragraph:!0,children:e("forgot_password.title")}),s.jsx(t,{variant:"body2",color:"textSecondary",mb:5,children:e("forgot_password.helper_text")}),s.jsxs(b,{methods:n,onSubmit:c(p),children:[s.jsx(k,{name:"email",hiddenLabel:!0,placeholder:e("label.email")}),s.jsx(S,{fullWidth:!0,size:"large",color:"primary",type:"submit",variant:"contained",loading:h,sx:{mt:2.5},children:e("forgot_password.send")})]}),s.jsxs($,{component:F,href:z.login,color:"inherit",variant:"subtitle2",sx:{mt:3,mx:"auto",alignItems:"center",display:"inline-flex"},children:[s.jsx(C,{icon:"carbon:chevron-left",width:16,sx:{mr:1}}),e("forgot_password.return_to_signin")]})]})})}export{ts as default};
