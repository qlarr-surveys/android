import{s as y,j as a}from"./index-Dk6dJ9ej.js";import{c as S,a as l,L as R,o as b}from"./yup-Ke-idBs6.js";import{u as I,F as L,R as d,I as _}from"./Web-DQ9Pn3X4.js";import{u as F}from"./use-boolean-CcZ3eDor.js";import{R as A,M as E,U as T,X as c,T as $,aO as k,I as q,aR as z}from"./use-service-CuOd9RJq.js";import{R as O}from"./router-link-PFV7cSD7.js";import{I as B}from"./InputAdornment-73wn1e1W.js";import{L as C}from"./Link-XdUsRC_k.js";import"./Checkbox-B5kyj27j.js";import"./SwitchBase-vj41ugwS.js";import"./Tabs-BEdGyaaJ.js";import"./radioClasses-u6Ak_u_2.js";import"./tableRowClasses-CVBxymtu.js";import"./TextField-D9TfNg6R.js";import"./FormControlLabel-DbQERhmC.js";function aa(){const p=A("auth"),{t:e}=E("manage"),r=F(),n=T(),u=y(),g=S().shape({email:l().required(e("email_required")).matches(/^[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Za-z]{2,}$/i,e("error.invalid_email")),password:l().required(e("password_required"))}),h={email:"",password:""},t=I({resolver:b(g),defaultValues:h}),{setError:i,handleSubmit:m,formState:{isSubmitting:f}}=t,x=o=>{o.name==z.WRONG_CREDENTIALS.name&&(i("email",{type:"manual",message:e("processed_errors.".concat(o.name))}),i("password",{type:"manual",message:e("processed_errors.".concat(o.name))}))},w=m(async o=>{n(c(!0));try{await p.login(o.email,o.password);const{from:s}=location.state||{from:{pathname:"/"}};u(s)}catch(s){x(s)}finally{n(c(!1))}}),v=a.jsx("div",{children:a.jsx($,{variant:"h3",paragraph:!0,children:e("login.login")})}),j=a.jsx(L,{methods:t,onSubmit:m(w),children:a.jsxs(k,{spacing:2.5,alignItems:"flex-end",children:[a.jsx(d,{name:"email",label:e("label.email")}),a.jsx(d,{name:"password",label:e("label.password"),type:r.value?"text":"password",InputProps:{endAdornment:a.jsx(B,{position:"end",children:a.jsx(q,{onClick:r.onToggle,edge:"end",children:a.jsx(_,{icon:r.value?"carbon:view":"carbon:view-off"})})})}}),a.jsx(C,{component:O,href:"/forgot-password",variant:"body2",underline:"always",color:"text.secondary",children:e("login.forgot_password")}),a.jsx(R,{fullWidth:!0,color:"primary",size:"large",type:"submit",variant:"contained",loading:f,children:e("login.login")})]})});return a.jsxs(a.Fragment,{children:[v,j]})}export{aa as default};
