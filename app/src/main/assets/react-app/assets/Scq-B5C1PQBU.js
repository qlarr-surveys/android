import{m as n,r as w}from"./index-GpgTsJG-.js";import{E as C,H as h,J as x,N as F,L as u,b as m,K as R,V as z,O as E,Q as I}from"./Android-VO6a0haY.js";import{R as T,F as f}from"./RadioGroup-DpqFD69m.js";import{R as v}from"./Radio-DZZ25MvY.js";import"./RadioGroupContext-CMtudkxs.js";import"./SwitchBase-28S_EvSP.js";function V(e){const a=C(o=>{let r=o.runState.values[e.component.qualifiedCode];return{value:(r==null?void 0:r.value)||""}},h),i=x(),s=o=>{i(u({componentCode:o.target.name,value:o.target.value}))};return n.jsx(F,{component:"fieldset",children:n.jsx(T,{name:e.component.qualifiedCode,value:a.value,onChange:s,children:e.component.answers.map(o=>o.type==="other"?n.jsx(k,{lang:e.lang,parentCode:e.component.qualifiedCode,Choice:o},o.qualifiedCode):n.jsx(D,{Choice:o},o.qualifiedCode))})})}function D(e){const a=m(),i=()=>{var s;return n.jsx(f,{control:n.jsx(v,{}),label:n.jsx(E,{elementCode:e.Choice.code,fontFamily:a.textStyles.text.font,color:a.textStyles.text.color,fontSize:a.textStyles.text.size,name:"label",lang:e.lang,content:(s=e.Choice.content)==null?void 0:s.label}),value:e.Choice.code},e.Choice.qualifiedCode)};return i?i():""}function k(e){const a=m(),i=e.Choice.answers[0],s=C(t=>{let c=t.runState.values[e.Choice.qualifiedCode],l=t.runState.values[i.qualifiedCode],S=t.runState.values.Survey.show_errors,b=t.templateState[i.qualifiedCode];return{showChoice:typeof(c==null?void 0:c.relevance)>"u"||c.relevance,childInvalid:(S||b)&&(l==null?void 0:l.relevance)===!0&&(l==null?void 0:l.validity)===!1,value:(l==null?void 0:l.value)||""}},h),o=x(),r=t=>{o(u({componentCode:t.target.name,value:t.target.value}))},g=t=>{o(u({componentCode:e.parentCode,value:e.Choice.code}))},q=t=>{o(I(t.target.name))},d=w.useRef(),y=t=>{t.target.checked&&d.current.focus()},j=()=>{var t,c,l;return n.jsxs("div",{className:"text-left d-flex",children:[n.jsx(f,{control:n.jsx(v,{sx:{color:a.textStyles.text.color}}),label:n.jsx(R,{variant:"standard",fullWidth:!0,required:((t=s.textChild)==null?void 0:t.relevance)&&((c=i.validation)==null?void 0:c.required),sx:{label:{color:a.textStyles.text.color}},inputRef:d,id:i.qualifiedCode,name:i.qualifiedCode,label:(l=e.Choice.content)==null?void 0:l.label,onChange:r,onFocus:g,onBlur:q,value:s.value,InputProps:{sx:{fontFamily:a.textStyles.text.font,color:a.textStyles.text.color,fontSize:a.textStyles.text.size}},helperText:s.childInvalid?n.jsx(z,{component:i,limit:1}):""}),onChange:y,value:e.Choice.code},e.Choice.qualifiedCode),n.jsx("p",{})]})};return s.showChoice?j():""}export{V as default};
