import{j as v}from"./index-DrdL8HT2.js";import{w as y,H as _,aS as q,U as S,aT as f,a$ as N}from"./use-service-0Fq5u1zn.js";import{T as w}from"./TextField-DRWs31uB.js";const D="_questionItem_7ep8w_1",I={questionItem:D};function b(n){var c,u,m;const i=y(),o=_(e=>{let t=e.runState.values[n.component.qualifiedCode],l=e.runState.values.Survey.show_errors,a=e.templateState[n.component.qualifiedCode],s=t==null?void 0:t.validity,d=(l||a)&&s===!1;return{value:t==null?void 0:t.value,invalid:d}},q),r=S(),h=(e,t)=>{const l=n.component.decimal_separator=="."?/^[0-9]+\.?[0-9]*$/:n.component.decimal_separator==","?/^[0-9]+,?[0-9]*$/:/^[0-9]*$/;if(t!="")if(l.test(t)){let a=x(t),s=+a;return isNaN(s)?e:a}else return e},x=e=>n.component.decimal_separator!=","?e:e.toString().replace(",","."),g=e=>e===void 0?"":n.component.decimal_separator==","?e.toString().replace(".",","):e,p=e=>{r(f({componentCode:e.target.name,value:h(o.value,e.target.value)}))},C=e=>{r(N(e.target.name));let t=+o.value;isNaN(t)||r(f({componentCode:n.component.qualifiedCode,value:t}))};return v.jsx("div",{className:I.questionItem,children:v.jsx(w,{variant:"standard",required:!!((u=(c=n.component.validation)==null?void 0:c.validation_required)!=null&&u.isActive),id:n.component.qualifiedCode,name:n.component.qualifiedCode,label:n.component.showHint&&((m=n.component.content)==null?void 0:m.hint)||"",onChange:p,onBlur:C,inputProps:{maxLength:n.component.maxChars||void 0},value:g(o.value),error:o.invalid,InputProps:{sx:{fontFamily:i.textStyles.text.font,color:i.textStyles.text.color,fontSize:i.textStyles.text.size,borderBottom:"1px solid"}}})})}export{b as default};
