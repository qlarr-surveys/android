import{j as t}from"./index-DrdL8HT2.js";import{R as C,H as r,U as w,b1 as S,b3 as j,aT as h}from"./use-service-0Fq5u1zn.js";import{g as b}from"./common-5BhfyGYi.js";import{B as y}from"./index-DQ4E-_8z.js";import"./isTouchDevice-CHtK4r2d.js";import"./CardMedia-CIEe5zwn.js";import"./Card-Dppxln-L.js";import"./Toolbar-CWuxDDNF.js";const H="_container_bvkr6_2",k={container:H};function W(s){var d;const f=C("run"),o=s.component,i=r(e=>e.runState.values[o.qualifiedCode]),c=r(e=>e.runState.preview),g=r(e=>e.runState.values.Survey.mode),m=w(),l=()=>{var u,p,x,v;const e=o.qualifiedCode,_=((p=(u=o.validation)==null?void 0:u.validation_max_file_size)==null?void 0:p.isActive)&&((v=(x=o.validation)==null?void 0:x.validation_max_file_size)==null?void 0:v.max_size)||-1;c&&g=="offline"?b("/dummy_image.png").then(n=>{j(f,e,c,n).then(a=>{m(h({componentCode:s.component.qualifiedCode,value:a}))}).catch(a=>{console.error(a)})}):window.Android?(window.Android.capturePhoto(e,_),window["onPhotoCaptured"+e]=n=>{m(h({componentCode:e,value:n}))}):console.debug("no android device!!")};return t.jsxs(y,{className:k.container,sx:{maxHeight:"400px"},children:[!i.value||!i.value.stored_filename?t.jsx("img",{onClick:l,src:"/camera.png",style:{maxHeight:"200px",maxWidth:"100%"}}):t.jsx("img",{onClick:l,src:S(i.value.stored_filename),style:{maxHeight:"400px",maxWidth:"100%"}}),t.jsx("br",{}),o.showHint&&t.jsx("span",{children:(d=o.content)==null?void 0:d.hint})]})}export{W as default};
