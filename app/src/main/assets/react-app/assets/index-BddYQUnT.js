import{s as f,j as s,B as o,r as j}from"./index-BPkE25ts.js";import{c as _,a as v,L as y,o as S}from"./yup-BOIU9D06.js";import{u as w,F as b,R as C,I as k}from"./Web-BBqAH_aj.js";import{R as z}from"./router-link-BegOQ2RA.js";import{T as t,aC as F,Q as T,M as L,R,Y as l,aK as A,as as B,W as I}from"./use-service-Bb7LY6Q3.js";import{C as P}from"./Check-DCeobtBw.js";import{L as W}from"./Link-DZrEZT2W.js";import"./Checkbox-Dntn-pZ4.js";import"./SwitchBase-CHSPGF-1.js";import"./Tabs-ui_O5_y9.js";import"./radioClasses-CjX8ViDh.js";import"./tableRowClasses-JqPlK2IC.js";import"./TextField-M1IR9KQb.js";import"./FormControlLabel-sZjcD-3I.js";const $="_successText_19zdx_1",D="_iconContainer_19zdx_12",m={successText:$,iconContainer:D},N=({message:r,t:e})=>{const a=f();return s.jsxs(o,{className:m.successText,children:[s.jsx(o,{className:m.iconContainer,children:s.jsx(P,{sx:{fontSize:"40px",color:"#32CD32",stroke:"#32CD32",strokeWidth:1}})}),s.jsxs(o,{children:[s.jsx(t,{variant:"h4",color:"primary",children:e("email.check")}),s.jsx(t,{variant:"body1",mt:1,color:"textSecondary",children:e("".concat(r))})]}),s.jsx(F,{onClick:()=>{a("/login")},fullWidth:!0,size:"large",color:"primary",variant:"contained",children:e("login.login")})]})};function ts(){const r=T("auth"),{t:e}=L("manage"),[a,d]=j.useState(!1),i=R(),u=_().shape({email:v().required(e("email_required")).matches(/^[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Za-z]{2,}$/i,e("error.invalid_email"))}),x={email:""},n=w({resolver:S(u),defaultValues:x}),{reset:Z,handleSubmit:c,formState:{isSubmitting:h}}=n,p=c(async g=>{try{i(l(!0)),await r.forgotPassword(g.email),d(!0)}catch(q){}finally{i(l(!1))}});return s.jsx(s.Fragment,{children:a?s.jsx(N,{t:e,message:"forgot_password.success"}):s.jsxs(A,{sx:{textAlign:"center"},children:[s.jsx(B,{alt:"reset password",src:"/ic_lock_password.svg",sx:{mb:5,width:96,height:96,mx:"auto"}}),s.jsx(t,{variant:"h3",paragraph:!0,children:e("forgot_password.title")}),s.jsx(t,{variant:"body2",color:"textSecondary",mb:5,children:e("forgot_password.helper_text")}),s.jsxs(b,{methods:n,onSubmit:c(p),children:[s.jsx(C,{name:"email",hiddenLabel:!0,placeholder:e("label.email")}),s.jsx(y,{fullWidth:!0,size:"large",color:"primary",type:"submit",variant:"contained",loading:h,sx:{mt:2.5},children:e("forgot_password.send")})]}),s.jsxs(W,{component:z,href:I.login,color:"inherit",variant:"subtitle2",sx:{mt:3,mx:"auto",alignItems:"center",display:"inline-flex"},children:[s.jsx(k,{icon:"carbon:chevron-left",width:16,sx:{mr:1}}),e("forgot_password.return_to_signin")]})]})})}export{ts as default};
