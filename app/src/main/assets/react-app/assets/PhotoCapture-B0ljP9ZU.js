import{m as o}from"./index-DNbeaJsE.js";import{a1 as S,K as s,M as j,a4 as y,a3 as z,a6 as A,a7 as F,O as f}from"./Android-C8RkpF_s.js";const M="_container_bvkr6_2",k={container:M};function b(r){var m;const g=S("run"),n=r.component,t=s(e=>e.runState.values[n.qualifiedCode]),c=s(e=>e.runState.preview),C=s(e=>e.runState.values.Survey.mode),l=j(),d=()=>{var p,v,h,_;const e=n.qualifiedCode,u=((v=(p=n.validation)==null?void 0:p.validation_max_file_size)==null?void 0:v.isActive)&&((_=(h=n.validation)==null?void 0:h.validation_max_file_size)==null?void 0:_.max_size)||-1,x=10240,w=u>0?Math.min(u,x):x;c&&C=="offline"?A("/dummy_image.png").then(a=>{F(g,e,c,a).then(i=>{l(f({componentCode:r.component.qualifiedCode,value:i}))}).catch(i=>{console.error(i)})}):window.Android?(window.Android.capturePhoto(e,w),window["onPhotoCaptured"+e]=a=>{l(f({componentCode:e,value:a}))}):console.debug("no android device!!")};return o.jsxs(y,{className:k.container,sx:{maxHeight:"400px"},children:[!t.value||!t.value.stored_filename?o.jsx("img",{onClick:d,src:"/camera.png",style:{maxHeight:"200px",maxWidth:"100%"}}):o.jsx("img",{onClick:d,src:z(t.value.stored_filename),style:{maxHeight:"400px",maxWidth:"100%"}}),o.jsx("br",{}),n.showHint&&o.jsx("span",{children:(m=n.content)==null?void 0:m.hint})]})}export{b as default};
