{"version":3,"file":"FileUpload-i0j2HEyH.js","sources":["../../node_modules/@mui/material/Link/linkClasses.js","../../node_modules/@mui/material/Link/getTextDecoration.js","../../node_modules/@mui/material/Link/Link.js","../../src/components/Questions/FileUpload/FileUpload.jsx"],"sourcesContent":["import generateUtilityClasses from '@mui/utils/generateUtilityClasses';\nimport generateUtilityClass from '@mui/utils/generateUtilityClass';\nexport function getLinkUtilityClass(slot) {\n  return generateUtilityClass('MuiLink', slot);\n}\nconst linkClasses = generateUtilityClasses('MuiLink', ['root', 'underlineNone', 'underlineHover', 'underlineAlways', 'button', 'focusVisible']);\nexport default linkClasses;","import { getPath } from '@mui/system';\nimport { alpha } from '@mui/system/colorManipulator';\nexport const colorTransformations = {\n  primary: 'primary.main',\n  textPrimary: 'text.primary',\n  secondary: 'secondary.main',\n  textSecondary: 'text.secondary',\n  error: 'error.main'\n};\nconst transformDeprecatedColors = color => {\n  return colorTransformations[color] || color;\n};\nconst getTextDecoration = ({\n  theme,\n  ownerState\n}) => {\n  const transformedColor = transformDeprecatedColors(ownerState.color);\n  const color = getPath(theme, `palette.${transformedColor}`, false) || ownerState.color;\n  const channelColor = getPath(theme, `palette.${transformedColor}Channel`);\n  if ('vars' in theme && channelColor) {\n    return `rgba(${channelColor} / 0.4)`;\n  }\n  return alpha(color, 0.4);\n};\nexport default getTextDecoration;","'use client';\n\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nconst _excluded = [\"className\", \"color\", \"component\", \"onBlur\", \"onFocus\", \"TypographyClasses\", \"underline\", \"variant\", \"sx\"];\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport elementTypeAcceptingRef from '@mui/utils/elementTypeAcceptingRef';\nimport composeClasses from '@mui/utils/composeClasses';\nimport capitalize from '../utils/capitalize';\nimport styled from '../styles/styled';\nimport { useDefaultProps } from '../DefaultPropsProvider';\nimport useIsFocusVisible from '../utils/useIsFocusVisible';\nimport useForkRef from '../utils/useForkRef';\nimport Typography from '../Typography';\nimport linkClasses, { getLinkUtilityClass } from './linkClasses';\nimport getTextDecoration, { colorTransformations } from './getTextDecoration';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst useUtilityClasses = ownerState => {\n  const {\n    classes,\n    component,\n    focusVisible,\n    underline\n  } = ownerState;\n  const slots = {\n    root: ['root', `underline${capitalize(underline)}`, component === 'button' && 'button', focusVisible && 'focusVisible']\n  };\n  return composeClasses(slots, getLinkUtilityClass, classes);\n};\nconst LinkRoot = styled(Typography, {\n  name: 'MuiLink',\n  slot: 'Root',\n  overridesResolver: (props, styles) => {\n    const {\n      ownerState\n    } = props;\n    return [styles.root, styles[`underline${capitalize(ownerState.underline)}`], ownerState.component === 'button' && styles.button];\n  }\n})(({\n  theme,\n  ownerState\n}) => {\n  return _extends({}, ownerState.underline === 'none' && {\n    textDecoration: 'none'\n  }, ownerState.underline === 'hover' && {\n    textDecoration: 'none',\n    '&:hover': {\n      textDecoration: 'underline'\n    }\n  }, ownerState.underline === 'always' && _extends({\n    textDecoration: 'underline'\n  }, ownerState.color !== 'inherit' && {\n    textDecorationColor: getTextDecoration({\n      theme,\n      ownerState\n    })\n  }, {\n    '&:hover': {\n      textDecorationColor: 'inherit'\n    }\n  }), ownerState.component === 'button' && {\n    position: 'relative',\n    WebkitTapHighlightColor: 'transparent',\n    backgroundColor: 'transparent',\n    // Reset default value\n    // We disable the focus ring for mouse, touch and keyboard users.\n    outline: 0,\n    border: 0,\n    margin: 0,\n    // Remove the margin in Safari\n    borderRadius: 0,\n    padding: 0,\n    // Remove the padding in Firefox\n    cursor: 'pointer',\n    userSelect: 'none',\n    verticalAlign: 'middle',\n    MozAppearance: 'none',\n    // Reset\n    WebkitAppearance: 'none',\n    // Reset\n    '&::-moz-focus-inner': {\n      borderStyle: 'none' // Remove Firefox dotted outline.\n    },\n    [`&.${linkClasses.focusVisible}`]: {\n      outline: 'auto'\n    }\n  });\n});\nconst Link = /*#__PURE__*/React.forwardRef(function Link(inProps, ref) {\n  const props = useDefaultProps({\n    props: inProps,\n    name: 'MuiLink'\n  });\n  const {\n      className,\n      color = 'primary',\n      component = 'a',\n      onBlur,\n      onFocus,\n      TypographyClasses,\n      underline = 'always',\n      variant = 'inherit',\n      sx\n    } = props,\n    other = _objectWithoutPropertiesLoose(props, _excluded);\n  const {\n    isFocusVisibleRef,\n    onBlur: handleBlurVisible,\n    onFocus: handleFocusVisible,\n    ref: focusVisibleRef\n  } = useIsFocusVisible();\n  const [focusVisible, setFocusVisible] = React.useState(false);\n  const handlerRef = useForkRef(ref, focusVisibleRef);\n  const handleBlur = event => {\n    handleBlurVisible(event);\n    if (isFocusVisibleRef.current === false) {\n      setFocusVisible(false);\n    }\n    if (onBlur) {\n      onBlur(event);\n    }\n  };\n  const handleFocus = event => {\n    handleFocusVisible(event);\n    if (isFocusVisibleRef.current === true) {\n      setFocusVisible(true);\n    }\n    if (onFocus) {\n      onFocus(event);\n    }\n  };\n  const ownerState = _extends({}, props, {\n    color,\n    component,\n    focusVisible,\n    underline,\n    variant\n  });\n  const classes = useUtilityClasses(ownerState);\n  return /*#__PURE__*/_jsx(LinkRoot, _extends({\n    color: color,\n    className: clsx(classes.root, className),\n    classes: TypographyClasses,\n    component: component,\n    onBlur: handleBlur,\n    onFocus: handleFocus,\n    ref: handlerRef,\n    ownerState: ownerState,\n    variant: variant,\n    sx: [...(!Object.keys(colorTransformations).includes(color) ? [{\n      color\n    }] : []), ...(Array.isArray(sx) ? sx : [sx])]\n  }, other));\n});\nprocess.env.NODE_ENV !== \"production\" ? Link.propTypes /* remove-proptypes */ = {\n  // ┌────────────────────────────── Warning ──────────────────────────────┐\n  // │ These PropTypes are generated from the TypeScript type definitions. │\n  // │    To update them, edit the d.ts file and run `pnpm proptypes`.     │\n  // └─────────────────────────────────────────────────────────────────────┘\n  /**\n   * The content of the component.\n   */\n  children: PropTypes.node,\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n  /**\n   * The color of the link.\n   * @default 'primary'\n   */\n  color: PropTypes /* @typescript-to-proptypes-ignore */.any,\n  /**\n   * The component used for the root node.\n   * Either a string to use a HTML element or a component.\n   */\n  component: elementTypeAcceptingRef,\n  /**\n   * @ignore\n   */\n  onBlur: PropTypes.func,\n  /**\n   * @ignore\n   */\n  onFocus: PropTypes.func,\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object, PropTypes.bool])), PropTypes.func, PropTypes.object]),\n  /**\n   * `classes` prop applied to the [`Typography`](/material-ui/api/typography/) element.\n   */\n  TypographyClasses: PropTypes.object,\n  /**\n   * Controls when the link should have an underline.\n   * @default 'always'\n   */\n  underline: PropTypes.oneOf(['always', 'hover', 'none']),\n  /**\n   * Applies the theme typography styles.\n   * @default 'inherit'\n   */\n  variant: PropTypes /* @typescript-to-proptypes-ignore */.oneOfType([PropTypes.oneOf(['body1', 'body2', 'button', 'caption', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'inherit', 'overline', 'subtitle1', 'subtitle2']), PropTypes.string])\n} : void 0;\nexport default Link;","import React, { useState } from \"react\";\nimport Button from \"@mui/material/Button\";\nimport Link from \"@mui/material/Link\";\nimport { previewUrlByFilename, uploadFile } from \"~/networking/run\";\nimport { styled, useTheme } from \"@mui/material/styles\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport ValidationItem from \"~/components/run/ValidationItem\";\nimport { valueChange } from \"~/state/runState\";\nimport { setDirty } from \"~/state/templateState\";\nimport { useTranslation } from \"react-i18next\";\nimport LoadingDots from \"~/components/common/LoadingDots\";\nimport { useService } from \"~/hooks/use-service\";\nimport { fileTypesToMimesArray } from \"~/state/design/addInstructions\";\n\nconst Input = styled(\"input\")({\n  display: \"none\",\n});\n\nfunction FileUpload(props) {\n  const runService = useService(\"run\");\n  const theme = useTheme();\n\n  const { t } = useTranslation(\"run\");\n\n  let accepted = fileTypesToMimesArray(\n    props.component.validation?.validation_file_types?.fileTypes\n  );\n\n  const validationMaxSize =\n    (props.component.validation?.validation_max_file_size?.isActive &&\n      props.component.validation?.validation_max_file_size?.max_size) ||\n    -1;\n  \n  // Limit to validation value or 10MB (10240 KB), whichever is smaller\n  const IMAGE_MAX_SIZE_KB = 10240; // 10MB\n  const maxFileSize = validationMaxSize > 0 \n    ? Math.min(validationMaxSize, IMAGE_MAX_SIZE_KB)\n    : IMAGE_MAX_SIZE_KB;\n\n  const state = useSelector((state) => {\n    let questionState = state.runState.values[props.component.qualifiedCode];\n    return questionState?.value;\n  });\n\n  const preview = useSelector((state) => {\n    return state.runState.preview;\n  });\n\n  const dispatch = useDispatch();\n\n  const [selectedFile, setSelectedFile] = useState();\n  const [isUploading, setUploading] = useState(false);\n\n  const previewAndroid = () => {\n    window[\"Android\"].previewFileUpload(state.stored_filename, state.filename);\n  };\n\n  const invalidSelectedFile =\n    !isUploading &&\n    selectedFile &&\n    accepted.length > 0 &&\n    !accepted.includes(selectedFile.type);\n\n  const invalidSize =\n    !isUploading &&\n    selectedFile &&\n    maxFileSize > 0 &&\n    selectedFile.size / 1024 > maxFileSize;\n\n  const changeHandler = (event) => {\n    const file = event.target.files?.[0];\n    if (!file) return;\n\n    dispatch(setDirty(props.component.qualifiedCode));\n    setSelectedFile(file);\n\n    const invalidType = accepted.length > 0 && !accepted.includes(file.type);\n    const tooBig = maxFileSize > 0 && file.size / 1024 > maxFileSize;\n\n    if (!invalidType && !tooBig) {\n      uploadSelectedFile(file);\n    }\n  };\n\n  const uploadSelectedFile = (file) => {\n    if (!file) return;\n    setUploading(true);\n    uploadFile(runService, props.component.qualifiedCode, preview, file)\n      .then((response) => {\n        setUploading(false);\n        setSelectedFile(undefined);\n        dispatch(\n          valueChange({\n            componentCode: props.component.qualifiedCode,\n            value: response,\n          })\n        );\n      })\n      .catch((err) => {\n        setUploading(false);\n        console.error(err);\n      });\n  };\n\n  const resetSelectedFile = () => {\n    setSelectedFile(undefined);\n  };\n\n  const onButtonClick = (event) => {\n    if (window[\"Android\"]) {\n      event.preventDefault();\n      const code = props.component.qualifiedCode;\n      window[\"Android\"].selectFile(\n        code,\n        accepted?.join(\",\") || \"\",\n        maxFileSize || -1\n      );\n      window[\"onFileSelected\" + code] = (name, size, type) => {\n        const fileLike = { name, size, type };\n        dispatch(setDirty(code));\n        setSelectedFile(fileLike);\n\n        const invalidType = accepted.length > 0 && !accepted.includes(type);\n        const tooBig = maxFileSize > 0 && size / 1024 > maxFileSize;\n\n        if (!invalidType && !tooBig) {\n          uploadSelectedFile(fileLike);\n        }\n      };\n    }\n  };\n\n  let shouldUpload = selectedFile && !invalidSelectedFile && !invalidSize;\n\n  return (\n    <div>\n      <label htmlFor=\"contained-button-file\">\n        <Input\n          id=\"contained-button-file\"\n          type=\"file\"\n          accept={accepted ? accepted.join(\",\") : undefined}\n          onChange={changeHandler}\n        />\n        <Button\n          disabled={isUploading}\n          onClick={onButtonClick}\n          variant=\"contained\"\n          component=\"span\"\n        >\n          {t(\"choose_file\")}\n        </Button>\n      </label>\n      {!selectedFile ? (\n        \"\"\n      ) : (\n        <React.Fragment>\n          <span>\n            &nbsp;{selectedFile.name} - {Math.round(selectedFile.size / 1024)}K\n          </span>\n       \n          <Button\n            disabled={isUploading}\n            sx={{\n              fontFamily: theme.textStyles.text.font,\n              fontSize: theme.textStyles.text.size,\n            }}\n            variant=\"text\"\n            onClick={resetSelectedFile}\n          >\n            {t(\"cancel\")}\n          </Button>\n        </React.Fragment>\n      )}\n\n      {invalidSize && (\n        <React.Fragment>\n          <br />\n          <ValidationItem\n            name=\"validation_max_file_size\"\n            validation={props.component.validation?.validation_max_file_size}\n          />\n        </React.Fragment>\n      )}\n\n      {invalidSelectedFile && (\n        <React.Fragment>\n          <br />\n          <ValidationItem\n            name=\"validation_file_types\"\n            validation={props.component.validation?.validation_file_types}\n          />\n        </React.Fragment>\n      )}\n\n      {isUploading ? (\n        <div style={{ textAlign: \"center\" }}>\n          <LoadingDots />\n          <br />\n          <span>{t(\"uploading\")}</span>\n        </div>\n      ) : !state || !state.stored_filename ? (\n        \"\"\n      ) : (\n        <React.Fragment>\n          <br />\n          <br />\n          {window[\"Android\"] ? (\n            <Link target=\"_blank\" onClick={previewAndroid}>\n              {state.filename} - {Math.round(state.size / 1024)}K\n            </Link>\n          ) : (\n            <Link\n              target=\"_blank\"\n              href={previewUrlByFilename(state.stored_filename)}\n            >\n              {state.filename} - {Math.round(state.size / 1024)}K\n            </Link>\n          )}\n\n          <Button\n            variant=\"text\"\n            size=\"small\"\n            onClick={() =>\n              dispatch(\n                valueChange({\n                  componentCode: props.component.qualifiedCode,\n                  value: null,\n                })\n              )\n            }\n          >\n            {t(\"remove_file\", \"Remove\")}\n          </Button>\n        </React.Fragment>\n      )}\n    </div>\n  );\n}\n\nexport default FileUpload;\n"],"names":["alpha","React.forwardRef","Link","React.useState","_jsx","state","useState","_a","jsxs","jsx"],"mappings":"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","x_google_ignoreList":[0,1,2]}