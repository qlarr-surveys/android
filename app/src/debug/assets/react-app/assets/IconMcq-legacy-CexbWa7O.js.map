{"version":3,"file":"IconMcq-legacy-CexbWa7O.js","sources":["../../src/components/Questions/IconMcq/IconMcq.jsx"],"sourcesContent":["import React from \"react\";\nimport { useDispatch, useSelector, shallowEqual } from \"react-redux\";\nimport styles from \"./IconMcq.module.css\";\nimport { valueChange } from \"~/state/runState\";\nimport { useTheme } from \"@emotion/react\";\nimport { Box, Grid } from \"@mui/material\";\nimport { rtlLanguage } from \"~/utils/common\";\nimport DynamicSvg from \"~/components/DynamicSvg\";\nimport { buildResourceUrl } from \"~/networking/common\";\n\nfunction IconMcq(props) {\n  const theme = useTheme();\n  const state = useSelector((state) => {\n    let questionState = state.runState.values[props.component.qualifiedCode];\n    let show_errors = state.runState.values.Survey.show_errors;\n    let isDirty = state.templateState[props.component.qualifiedCode];\n    return {\n      value: questionState?.value || \"\",\n      showValidation:\n        (show_errors || isDirty) && questionState?.validity === false,\n    };\n  }, shallowEqual);\n  const dispatch = useDispatch();\n\n  const handleChange = (componentCode, value) => {\n    dispatch(valueChange({ componentCode, value }));\n  };\n\n  const hideText = props.component?.hideText || false;\n\n  const lang = useSelector((state) => {\n    return state.runState.values[\"Survey\"].lang;\n  });\n  const isRtl = rtlLanguage.includes(lang);\n\n  return (\n    <Box\n      sx={{\n        gap: `${props.component.spacing || 8}px`,\n      }}\n      className={styles.iconFlexContainer}\n    >\n      {props.component.answers.map((option) => {\n        return (\n          <IconMcqChoice\n            key={option.code}\n            component={option}\n            columns={props.component.columns || 3}\n            iconSize={props.component.iconSize || \"150\"}\n            spacing={props.component.spacing || 8}\n            theme={theme}\n            hideText={hideText}\n          />\n        );\n      })}\n    </Box>\n  );\n}\n\nfunction IconMcqChoice({\n  key,\n  component,\n  iconSize,\n  columns,\n  spacing,\n  hideText,\n  theme,\n}) {\n  const dispatch = useDispatch();\n  const checked = useSelector(\n    (state) => state.runState.values[component.qualifiedCode].value || false\n  );\n  return (\n    <Box\n      key={key}\n      sx={{\n        flex: `0 1 calc(${100 / columns}% - ${spacing || 8}px)`,\n        textAlign: \"center\",\n        cursor: \"pointer\",\n      }}\n    >\n      <div\n        style={{\n          display: \"flex\",\n          justifyContent: \"center\",\n          width: \"100%\",\n        }}\n      >\n        <DynamicSvg\n          onIconClick={() =>\n            dispatch(\n              valueChange({\n                componentCode: component.qualifiedCode,\n                value: !checked,\n              })\n          )}\n          imageHeight=\"100%\"\n          maxHeight={iconSize + \"px\"}\n          svgUrl={\n            component?.resources?.icon\n              ? buildResourceUrl(component?.resources?.icon)\n              : undefined\n          }\n          isSelected={checked}\n          theme={theme}\n        />\n      </div>\n\n      {!hideText && (\n        <Box\n          sx={{\n            textAlign: \"center\",\n            fontFamily: theme.textStyles.text.font,\n            color: checked\n              ? theme.palette.primary.main\n              : theme.textStyles.text.color,\n            fontSize: theme.textStyles.text.size,\n          }}\n        >\n          {component.content?.label}\n        </Box>\n      )}\n    </Box>\n  );\n}\n\nexport default IconMcq;\n"],"names":["IconMcq","props","_props$component","theme","useTheme","useSelector","state","questionState","runState","values","component","qualifiedCode","show_errors","Survey","isDirty","templateState","value","showValidation","validity","shallowEqual","useDispatch","hideText","lang","jsx","Box","sx","gap","spacing","className","styles","iconFlexContainer","children","answers","map","option","IconMcqChoice","columns","iconSize","code","key","_component$resources","_component$resources2","_component$content","dispatch","checked","jsxs","flex","textAlign","cursor","style","display","justifyContent","width","DynamicSvg","onIconClick","valueChange","componentCode","imageHeight","maxHeight","svgUrl","resources","icon","buildResourceUrl","isSelected","fontFamily","textStyles","text","font","color","palette","primary","main","fontSize","size","content","label"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;QAUA,SAASA,QAAQC,KAAA,EAAO;UAAA,IAAAC,gBAAA;UACtB,MAAMC,QAAQC,QAAA,CAAA,CAAS;UACTC,WAAA,CAAaC,MAAAA,IAAU;YACnC,IAAIC,gBAAgBD,MAAAA,CAAME,QAAA,CAASC,MAAA,CAAOR,KAAA,CAAMS,UAAUC,aAAa,CAAA;YACvE,IAAIC,WAAA,GAAcN,MAAAA,CAAME,QAAA,CAASC,MAAA,CAAOI,MAAA,CAAOD,WAAA;YAC/C,IAAIE,OAAA,GAAUR,MAAAA,CAAMS,aAAA,CAAcd,KAAA,CAAMS,UAAUC,aAAa,CAAA;YAC/D,OAAO;cACLK,KAAA,EAAO,CAAAT,0BAAAA,oCAAAA,cAAeS,KAAA,KAAS,EAAA;cAC/BC,cAAA,EAAA,CACGL,WAAA,IAAeE,OAAA,KAAY,CAAAP,aAAA,aAAAA,aAAA,uBAAAA,aAAA,CAAeW,QAAA,MAAa;YAAA,CAC5D;UACF,GAAGC,YAAY,CAAA;UACEC,WAAA,CAAA,CAAA;UAMjB,MAAMC,QAAA,GAAW,EAAAnB,gBAAA,GAAAD,KAAA,CAAMS,SAAA,cAAAR,gBAAA,uBAANA,gBAAA,CAAiBmB,QAAA,KAAY,KAAA;UAEjChB,WAAA,CAAaC,MAAAA,IAAU;YAClC,OAAOA,MAAAA,CAAME,QAAA,CAASC,MAAA,CAAO,QAAQ,CAAA,CAAEa,IAAA;UACzC,CAAC,CAAA;UAGD,sBACEC,iBAAAA,CAAAA,GAAA,CAACC,GAAA,EAAA;YACCC,EAAA,EAAI;cACFC,GAAA,EAAK,GAAGzB,KAAA,CAAMS,SAAA,CAAUiB,WAAW,CAAC;YAAA,CACtC;YACAC,WAAWC,MAAA,CAAOC,iBAAA;YAEjBC,QAAA,EAAA9B,KAAA,CAAMS,SAAA,CAAUsB,OAAA,CAAQC,GAAA,CAAKC,MAAA,IAAW;cACvC,sBACEX,iBAAAA,CAAAA,GAAA,CAACY,aAAA,EAAA;gBAECzB,SAAA,EAAWwB,MAAA;gBACXE,OAAA,EAASnC,KAAA,CAAMS,SAAA,CAAU0B,OAAA,IAAW,CAAA;gBACpCC,QAAA,EAAUpC,KAAA,CAAMS,SAAA,CAAU2B,QAAA,IAAY,KAAA;gBACtCV,OAAA,EAAS1B,KAAA,CAAMS,SAAA,CAAUiB,OAAA,IAAW,CAAA;gBACpCxB,KAAA;gBACAkB;cAAA,CAAA,EANKa,MAAA,CAAOI,IAAA,CAOd;YAEJ,CAAC;UAAA,CAAA,CACH;QAEJ;QAEA,SAASH,aAAAA,CAAc;UACrBI,GAAA;UACA7B,SAAA;UACA2B,QAAA;UACAD,OAAA;UACAT,OAAA;UACAN,QAAA;UACAlB;QACF,CAAA,EAAG;UAAA,IAAAqC,oBAAA,EAAAC,qBAAA,EAAAC,kBAAA;UACD,MAAMC,WAAWvB,WAAA,CAAA,CAAY;UAC7B,MAAMwB,OAAA,GAAUvC,WAAA,CACbC,SAAUA,KAAA,CAAME,QAAA,CAASC,OAAOC,SAAA,CAAUC,aAAa,EAAEK,KAAA,IAAS,KAAA,CACrE;UACA,sBACE6B,iBAAAA,CAAAA,IAAA,CAACrB,GAAA,EAAA;YAECC,EAAA,EAAI;cACFqB,MAAM,YAAY,GAAA,GAAMV,OAAO,OAAOT,WAAW,CAAC,KAAA;cAClDoB,SAAA,EAAW,QAAA;cACXC,MAAA,EAAQ;YAAA,CACV;YAEAjB,QAAA,EAAA,CAAA,eAAAR,iBAAAA,CAAAA,GAAA,CAAC,KAAA,EAAA;cACC0B,KAAA,EAAO;gBACLC,OAAA,EAAS,MAAA;gBACTC,cAAA,EAAgB,QAAA;gBAChBC,KAAA,EAAO;cAAA,CACT;cAEArB,QAAA,iBAAAR,iBAAAA,CAAAA,GAAA,CAAC8B,UAAA,EAAA;gBACCC,aAAaA,CAAA,KACXX,QAAA,CACEY,WAAA,CAAY;kBACVC,eAAe9C,SAAA,CAAUC,aAAA;kBACzBK,OAAO,CAAC4B;gBAAA,CACT,CAAA,CACL;gBACAa,WAAA,EAAY,MAAA;gBACZC,WAAWrB,QAAA,GAAW,IAAA;gBACtBsB,MAAA,EACEjD,sBAAAA,gDAAAA,UAAWkD,SAAA,cAAApB,oBAAA,eAAXA,oBAAA,CAAsBqB,IAAA,GAClBC,iBAAiBpD,SAAA,aAAAA,SAAA,gBAAA+B,qBAAA,GAAA/B,SAAA,CAAWkD,SAAA,cAAAnB,qBAAA,uBAAXA,qBAAA,CAAsBoB,IAAI,CAAA,GAC3C,KAAA,CAAA;gBAENE,UAAA,EAAYnB,OAAA;gBACZzC;cAAA,CAAA;YACF,CAAA,CACF,EAEC,CAACkB,QAAA,IAAA,eACAE,iBAAAA,CAAAA,GAAA,CAACC,GAAA,EAAA;cACCC,EAAA,EAAI;gBACFsB,SAAA,EAAW,QAAA;gBACXiB,UAAA,EAAY7D,KAAA,CAAM8D,UAAA,CAAWC,IAAA,CAAKC,IAAA;gBAClCC,KAAA,EAAOxB,UACHzC,KAAA,CAAMkE,OAAA,CAAQC,QAAQC,IAAA,GACtBpE,KAAA,CAAM8D,WAAWC,IAAA,CAAKE,KAAA;gBAC1BI,QAAA,EAAUrE,KAAA,CAAM8D,UAAA,CAAWC,IAAA,CAAKO;cAAA,CAClC;cAEC1C,0CAAU2C,OAAA,cAAAhC,kBAAA,0CAASiC;YAAA,CAAA,CAAA;UACtB,CAAA,EA9CGpC,GAAA,CAgDP;QAEJ;;;;"}