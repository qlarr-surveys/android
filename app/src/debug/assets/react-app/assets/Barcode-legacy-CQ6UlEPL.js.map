{"version":3,"file":"Barcode-legacy-CQ6UlEPL.js","sources":["../../src/components/Questions/Barcode/Barcode.jsx"],"sourcesContent":["import { Box } from \"@mui/system\";\nimport { useDispatch } from \"react-redux\";\nimport { useSelector } from \"react-redux\";\nimport { valueChange } from \"~/state/runState\";\nimport styles from \"./Barcode.module.css\";\nimport { TextField } from \"@mui/material\";\nimport { useTheme } from \"@emotion/react\";\n\nfunction Barcode(props) {\n  const theme = useTheme();\n  const component = props.component;\n  const state = useSelector((state) => {\n    return state.runState.values[component.qualifiedCode];\n  });\n\n\n  const preview = useSelector((state) => {\n    return state.runState.preview;\n  });\n\n  const mode = useSelector((state) => {\n    return state.runState.values.Survey.mode;\n  });\n  const dispatch = useDispatch();\n\n  const onImageClick = () => {\n    const code = component.qualifiedCode;\n    if (preview && mode == \"offline\") {\n      dispatch(\n        valueChange({\n          componentCode: code,\n          value: \"This is a Dummy Barcode\",\n        })\n      );\n    } else if (window[\"Android\"]) {\n      window[\"Android\"].scanBarcode(code);\n      window[\"onBarcodeScanned\" + code] = (value) => {\n        dispatch(\n          valueChange({\n            componentCode: code,\n            value,\n          })\n        );\n      };\n    } else {\n      console.debug(\"no android device!!\");\n    }\n  };\n\n  return (\n    <Box className={styles.container}>\n      <img\n        onClick={onImageClick}\n        src=\"/barcode.png\"\n        style={{\n          maxHeight: \"200px\",\n        }}\n      />\n      <br />\n      {component.showHint && <span>{component.content?.hint}</span>}\n      <TextField\n        variant=\"standard\"\n        required={\n          props.component.validation?.validation_required?.isActive\n            ? true\n            : false\n        }\n        disabled={true}\n        value={state.value}\n        InputProps={{\n          sx: {\n            fontFamily: theme.textStyles.text.font,\n            color: theme.textStyles.text.color,\n            fontSize: theme.textStyles.text.size,\n          },\n        }}\n      />\n    </Box>\n  );\n}\n\nexport default Barcode;\n"],"names":["Barcode","props","_component$content","_props$component$vali","theme","useTheme","component","state","useSelector","runState","values","qualifiedCode","preview","mode","Survey","dispatch","useDispatch","onImageClick","code","valueChange","componentCode","value","window","scanBarcode","console","debug","jsxs","Box","className","styles","container","children","jsx","onClick","src","style","maxHeight","showHint","content","hint","TextField","variant","required","validation","validation_required","isActive","disabled","InputProps","sx","fontFamily","textStyles","text","font","color","fontSize","size"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;QAQA,SAASA,QAAQC,KAAO,EAAA;UAAA,IAAAC,kBAAA,EAAAC,qBAAA;UACtB,MAAMC,QAAQC,QAAS,EAAA;UACvB,MAAMC,YAAYL,KAAM,CAAAK,SAAA;UAClB,MAAAC,KAAA,GAAQC,WAAY,CAACD,MAAU,IAAA;YACnC,OAAOA,MAAM,CAAAE,QAAA,CAASC,MAAO,CAAAJ,SAAA,CAAUK,aAAa,CAAA;UAAA,CACrD,CAAA;UAGK,MAAAC,OAAA,GAAUJ,WAAY,CAACD,MAAU,IAAA;YACrC,OAAOA,OAAME,QAAS,CAAAG,OAAA;UAAA,CACvB,CAAA;UAEK,MAAAC,IAAA,GAAOL,WAAY,CAACD,MAAU,IAAA;YAC3BA,OAAAA,MAAAA,CAAME,QAAS,CAAAC,MAAA,CAAOI,MAAO,CAAAD,IAAA;UAAA,CACrC,CAAA;UACD,MAAME,WAAWC,WAAY,EAAA;UAE7B,MAAMC,eAAeA,CAAA,KAAM;YACzB,MAAMC,OAAOZ,SAAU,CAAAK,aAAA;YACnB,IAAAC,OAAA,IAAWC,QAAQ,SAAW,EAAA;cAChCE,QAAA,CACEI,WAAY,CAAA;gBACVC,aAAe,EAAAF,IAAA;gBACfG,KAAO,EAAA;cAAA,CACR,CAAA,CACH;YAAA,CACF,MAAA,IAAWC,MAAO,CAAA,SAAS,CAAG,EAAA;cACrBA,MAAA,CAAA,SAAS,CAAE,CAAAC,WAAA,CAAYL,IAAI,CAAA;cAClCI,MAAA,CAAO,kBAAqB,GAAAJ,IAAI,CAAI,GAACG,KAAU,IAAA;gBAC7CN,QAAA,CACEI,WAAY,CAAA;kBACVC,aAAe,EAAAF,IAAA;kBACfG;gBAAA,CACD,CAAA,CACH;cAAA,CACF;YAAA,CACK,MAAA;cACLG,OAAA,CAAQC,MAAM,qBAAqB,CAAA;YACrC;UAAA,CACF;UAEA,OACGC,eAAAA,iBAAAA,CAAAA,IAAA,CAAAC,GAAA,EAAA;YAAIC,SAAW,EAAAC,MAAA,CAAOC,SACrB;YAAAC,QAAA,EAAA,CAAA,eAAAC,iBAAA,CAAAA,GAAA,CAAC,KAAA,EAAA;cACCC,OAAS,EAAAhB,YAAA;cACTiB,GAAI,EAAA,cAAA;cACJC,KAAO,EAAA;gBACLC,SAAW,EAAA;cACb;YAAA,CACF,CAAA,EAAA,qCACC,IAAG,EAAA,EAAA,CAAA,EACH9B,UAAU+B,QAAY,IAAAL,eAAAA,iBAAAA,CAAAA,GAAA,CAAC,MAAM,EAAA;cAAAD,QAAA,GAAA7B,kBAAA,GAAAI,SAAA,CAAUgC,8DAAVpC,kBAAA,CAAmBqC;aAAK,CAAA,EAAA,eACtDP,iBAAA,CAAAA,GAAA,CAACQ,SAAA,EAAA;cACCC,OAAQ,EAAA,UAAA;cACRC,UACE,CAAAvC,qBAAA,GAAAF,KAAM,CAAAK,SAAA,CAAUqC,UAAY,cAAAxC,qBAAA,gBAAAA,qBAAA,GAA5BA,qBAAA,CAA4ByC,mBAAA,cAAAzC,qBAAA,eAA5BA,qBAAA,CAAiD0C,WAC7C,IACA,GAAA,KAAA;cAENC,QAAU,EAAA,IAAA;cACVzB,OAAOd,KAAM,CAAAc,KAAA;cACb0B,UAAY,EAAA;gBACVC,EAAI,EAAA;kBACFC,UAAA,EAAY7C,KAAM,CAAA8C,UAAA,CAAWC,IAAK,CAAAC,IAAA;kBAClCC,KAAA,EAAOjD,KAAM,CAAA8C,UAAA,CAAWC,IAAK,CAAAE,KAAA;kBAC7BC,QAAA,EAAUlD,KAAM,CAAA8C,UAAA,CAAWC,IAAK,CAAAI;gBAClC;cACF;YAAA,CACF,CAAA;UACF,CAAA,CAAA;QAEJ;;;;"}