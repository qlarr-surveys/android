{"version":3,"file":"IconScq-legacy-Rjbu_Ai8.js","sources":["../../src/components/Questions/IconScq/IconScq.jsx"],"sourcesContent":["import React from \"react\";\nimport { useDispatch, useSelector, shallowEqual } from \"react-redux\";\nimport styles from \"./IconScq.module.css\";\nimport { valueChange } from \"~/state/runState\";\nimport { useTheme } from \"@emotion/react\";\nimport { Box, Grid } from \"@mui/material\";\nimport DynamicSvg from '~/components/DynamicSvg';\nimport { buildResourceUrl } from '~/networking/common';\n\nfunction IconScq(props) {\n  const theme = useTheme();\n  const state = useSelector((state) => {\n    let questionState = state.runState.values[props.component.qualifiedCode];\n    let show_errors = state.runState.values.Survey.show_errors;\n    let isDirty = state.templateState[props.component.qualifiedCode];\n    return {\n      value: questionState?.value || \"\",\n      showValidation:\n        (show_errors || isDirty) && questionState?.validity === false,\n    };\n  }, shallowEqual);\n  const dispatch = useDispatch();\n\n  const handleChange = (componentCode, value) => {\n    dispatch(valueChange({ componentCode, value }));\n  };\n\n  const hideText = props.component?.hideText || false;\n\n  const lang = useSelector((state) => {\n    return state.runState.values[\"Survey\"].lang;\n  });\n\n  return (\n    <Box\n      sx={{\n        gap: `${props.component.spacing || 8}px`,\n      }}\n      className={styles.iconFlexContainer}\n    >\n      {props.component.answers.map((option) => {\n        const isSelected = state.value == option.code;\n        return (\n          <Box\n            key={option.code}\n            sx={{\n              flex: `0 1 calc(${100 / props.component.columns}% - ${\n                props.component.spacing || 8\n              }px)`,\n              textAlign: \"center\",\n              cursor: \"pointer\",\n            }}\n          >\n            <div\n              style={{\n                display: \"flex\",\n                justifyContent: \"center\",\n                width: \"100%\",\n              }}\n            >\n              <DynamicSvg\n                onIconClick={() =>\n                  handleChange(props.component.qualifiedCode, option.code)\n                }\n                imageHeightPx={option.iconSize || 64}\n                iconColor={\n                  isSelected\n                    ? theme.palette.primary.main\n                    : theme.textStyles.text.color\n                }\n                svgUrl={\n                  option?.resources?.icon\n                    ? buildResourceUrl(option?.resources?.icon)\n                    : undefined\n                }\n              />\n            </div>\n\n            {!hideText && (\n              <Box\n                sx={{\n                  textAlign: \"center\",\n                  fontFamily: theme.textStyles.text.font,\n                  color: isSelected\n                    ? theme.palette.primary.main\n                    : theme.textStyles.text.color,\n                  fontSize: theme.textStyles.text.size,\n                }}\n              >\n                {option.content?.label}\n              </Box>\n            )}\n          </Box>\n        );\n      })}\n    </Box>\n  );\n}\n\nexport default IconScq;\n"],"names":["IconScq","props","_props$component","theme","useTheme","state","useSelector","questionState","runState","values","component","qualifiedCode","show_errors","Survey","isDirty","templateState","value","showValidation","validity","shallowEqual","dispatch","useDispatch","handleChange","componentCode","valueChange","hideText","lang","jsx","Box","sx","gap","spacing","className","styles","iconFlexContainer","children","answers","map","option","_option$resources","_option$resources2","_option$content","isSelected","code","jsxs","flex","columns","textAlign","cursor","style","display","justifyContent","width","DynamicSvg","onIconClick","imageHeightPx","iconSize","iconColor","palette","primary","main","textStyles","text","color","svgUrl","resources","icon","buildResourceUrl","fontFamily","font","fontSize","size","content","label"],"mappings":"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"}