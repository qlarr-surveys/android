{"version":3,"file":"TextQuestion-legacy-x2GRQ_Hh.js","sources":["../../src/components/Questions/Text/TextQuestion.jsx"],"sourcesContent":["import React from \"react\";\nimport { useDispatch, useSelector, shallowEqual } from \"react-redux\";\nimport TextField from \"@mui/material/TextField\";\nimport { useTheme } from \"@mui/material/styles\";\nimport styles from \"./TextQuestion.module.css\";\nimport { valueChange } from \"~/state/runState\";\nimport { setDirty } from \"~/state/templateState\";\n\nfunction TextQuestion(props) {\n  const theme = useTheme();\n  const state = useSelector((state) => {\n    let questionState = state.runState.values[props.component.qualifiedCode];\n    let show_errors = state.runState.values.Survey.show_errors;\n    let isDirty = state.templateState[props.component.qualifiedCode];\n    let validity = questionState?.validity;\n    let invalid = (show_errors || isDirty) && validity === false;\n    return {\n      value: questionState?.value || \"\",\n      invalid: invalid,\n    };\n  }, shallowEqual);\n  const dispatch = useDispatch();\n\n  const handleChange = (event) => {\n    dispatch(\n      valueChange({\n        componentCode: event.target.name,\n        value: event.target.value,\n      })\n    );\n  };\n\n  const lostFocus = (event) => {\n    dispatch(setDirty(event.target.name));\n  };\n\n  return (\n    <div className={styles.questionItem}>\n      <TextField\n        variant=\"standard\"\n        required={\n          props.component.validation?.validation_required?.isActive\n            ? true\n            : false\n        }\n        id={props.component.qualifiedCode}\n        name={props.component.qualifiedCode}\n        label={\n          (props.component.showHint && props.component.content?.hint) || \"\"\n        }\n        onChange={handleChange}\n        onBlur={lostFocus}\n        inputProps={{ maxLength: props.component.maxChars || undefined }}\n        value={state.value}\n        error={state.invalid}\n        InputProps={{\n          sx: {\n            fontFamily: theme.textStyles.text.font,\n            color: theme.textStyles.text.color,\n            fontSize: theme.textStyles.text.size,\n            borderBottom: \"1px solid\",\n          },\n        }}\n      />\n    </div>\n  );\n}\n\nexport default React.memo(TextQuestion);\n"],"names":["TextQuestion","props","_props$component$vali","_props$component$cont","theme","useTheme","state","useSelector","questionState","runState","values","component","qualifiedCode","show_errors","Survey","isDirty","templateState","validity","invalid","value","shallowEqual","dispatch","useDispatch","handleChange","event","valueChange","componentCode","target","name","lostFocus","setDirty","jsx","className","styles","questionItem","children","TextField","variant","required","validation","validation_required","isActive","id","label","showHint","content","hint","onChange","onBlur","inputProps","maxLength","maxChars","error","InputProps","sx","fontFamily","textStyles","text","font","color","fontSize","size","borderBottom","TextQuestion$1","exports","React","memo"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;QAQA,SAASA,aAAaC,KAAO,EAAA;UAAA,IAAAC,qBAAA,EAAAC,qBAAA;UAC3B,MAAMC,QAAQC,QAAS,EAAA;UACjB,MAAAC,KAAA,GAAQC,WAAY,CAACD,MAAU,IAAA;YACnC,IAAIE,gBAAgBF,MAAM,CAAAG,QAAA,CAASC,MAAO,CAAAT,KAAA,CAAMU,UAAUC,aAAa,CAAA;YACvE,IAAIC,WAAcP,GAAAA,MAAAA,CAAMG,QAAS,CAAAC,MAAA,CAAOI,MAAO,CAAAD,WAAA;YAC/C,IAAIE,OAAUT,GAAAA,MAAAA,CAAMU,aAAc,CAAAf,KAAA,CAAMU,UAAUC,aAAa,CAAA;YAC/D,IAAIK,WAAWT,aAAe,aAAfA,aAAe,uBAAfA,aAAe,CAAAS,QAAA;YAC1B,IAAAC,OAAA,GAAA,CAAWL,WAAe,IAAAE,OAAA,KAAYE,QAAa,KAAA,KAAA;YAChD,OAAA;cACLE,KAAA,EAAO,CAAAX,0BAAAA,oCAAAA,cAAeW,KAAS,KAAA,EAAA;cAC/BD;YAAA,CACF;aACCE,YAAY,CAAA;UACf,MAAMC,WAAWC,WAAY,EAAA;UAEvB,MAAAC,YAAA,GAAgBC,KAAU,IAAA;YAC9BH,QAAA,CACEI,WAAY,CAAA;cACVC,aAAA,EAAeF,MAAMG,MAAO,CAAAC,IAAA;cAC5BT,KAAA,EAAOK,MAAMG,MAAO,CAAAR;YAAA,CACrB,CAAA,CACH;UAAA,CACF;UAEM,MAAAU,SAAA,GAAaL,KAAU,IAAA;YAC3BH,QAAA,CAASS,QAAS,CAAAN,KAAA,CAAMG,MAAO,CAAAC,IAAI,CAAC,CAAA;UAAA,CACtC;UAEA,OACGG,eAAAA,iBAAAA,CAAAA,GAAA,CAAA,KAAA,EAAA;YAAIC,SAAW,EAAAC,MAAA,CAAOC,YACrB;YAAAC,QAAA,iBAAAJ,iBAAA,CAAAA,GAAA,CAACK,SAAA,EAAA;cACCC,OAAQ,EAAA,UAAA;cACRC,UACE,CAAApC,qBAAA,GAAAD,KAAM,CAAAU,SAAA,CAAU4B,UAAY,cAAArC,qBAAA,gBAAAA,qBAAA,GAA5BA,qBAAA,CAA4BsC,mBAAA,cAAAtC,qBAAA,eAA5BA,qBAAA,CAAiDuC,WAC7C,IACA,GAAA,KAAA;cAENC,EAAA,EAAIzC,MAAMU,SAAU,CAAAC,aAAA;cACpBgB,IAAA,EAAM3B,MAAMU,SAAU,CAAAC,aAAA;cACtB+B,OACG1C,KAAM,CAAAU,SAAA,CAAUiC,sCAAY3C,KAAM,CAAAU,SAAA,CAAUkC,iEAAhB1C,qBAAA,CAAyB2C,IAAS,KAAA,EAAA;cAEjEC,QAAU,EAAAxB,YAAA;cACVyB,MAAQ,EAAAnB,SAAA;cACRoB,YAAY;gBAAEC,SAAA,EAAWjD,KAAM,CAAAU,SAAA,CAAUwC,YAAY,KAAU;cAAA,CAAA;cAC/DhC,OAAOb,KAAM,CAAAa,KAAA;cACbiC,OAAO9C,KAAM,CAAAY,OAAA;cACbmC,UAAY,EAAA;gBACVC,EAAI,EAAA;kBACFC,UAAA,EAAYnD,KAAM,CAAAoD,UAAA,CAAWC,IAAK,CAAAC,IAAA;kBAClCC,KAAA,EAAOvD,KAAM,CAAAoD,UAAA,CAAWC,IAAK,CAAAE,KAAA;kBAC7BC,QAAA,EAAUxD,KAAM,CAAAoD,UAAA,CAAWC,IAAK,CAAAI,IAAA;kBAChCC,YAAc,EAAA;gBAChB;cACF;YAAA,CAEJ;UAAA,CAAA,CAAA;QAEJ;QAEA,MAAAC,cAAA,GAAAC,OAAA,CAAA,SAAA,EAAeC,KAAA,CAAMC,KAAKlE,YAAY,CAAA,CAAA;;;;"}