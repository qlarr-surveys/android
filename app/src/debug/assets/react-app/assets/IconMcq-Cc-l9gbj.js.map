{"version":3,"file":"IconMcq-Cc-l9gbj.js","sources":["../../src/components/Questions/IconMcq/IconMcq.jsx"],"sourcesContent":["import React from \"react\";\nimport { useDispatch, useSelector, shallowEqual } from \"react-redux\";\nimport styles from \"./IconMcq.module.css\";\nimport { valueChange } from \"~/state/runState\";\nimport { useTheme } from \"@emotion/react\";\nimport { Box } from \"@mui/material\";\nimport DynamicSvg from \"~/components/DynamicSvg\";\nimport { buildResourceUrl } from \"~/networking/common\";\n\nfunction IconMcq(props) {\n  const theme = useTheme();\n\n  const parentValue = useSelector((state) => {\n    return state.runState.values[props.component.qualifiedCode].value || [];\n  }, shallowEqual);\n\n\n\n  const hideText = props.component?.hideText || false;\n\n  const runValues = useSelector((s) => s.runState.values);\n\n\n  return (\n    <Box\n      sx={{\n        gap: `${props.component.spacing || 8}px`,\n      }}\n      className={styles.iconFlexContainer}\n    >\n      {props.component.answers.map((option) => {\n        const relevance = runValues[option.qualifiedCode]?.relevance ?? true;\n        if (!relevance) return null;\n\n        return (\n          <IconMcqChoice\n            key={option.code}\n            parentValue={parentValue}\n            parentCode={props.component.qualifiedCode}\n            component={option}\n            columns={props.component.columns || 3}\n            iconSize={props.component.iconSize || \"150\"}\n            spacing={props.component.spacing || 8}\n            theme={theme}\n            hideText={hideText}\n          />\n        );\n      })}\n    </Box>\n  );\n}\n\nfunction IconMcqChoice({\n  key,\n  component,\n  parentValue,\n  parentCode,\n  iconSize,\n  columns,\n  spacing,\n  hideText,\n  theme,\n}) {\n  const dispatch = useDispatch();\n  const checked = parentValue.indexOf(component.code) > -1;\n  return (\n    <Box\n      key={key}\n      sx={{\n        flex: `0 1 calc(${100 / columns}% - ${spacing || 8}px)`,\n        textAlign: \"center\",\n        cursor: \"pointer\",\n      }}\n    >\n      <div\n        style={{\n          display: \"flex\",\n          justifyContent: \"center\",\n          width: \"100%\",\n        }}\n      >\n        <DynamicSvg\n          onIconClick={() =>{\n            let parentValue2 = [...parentValue];\n            if (checked) {\n              parentValue2 = parentValue2.filter((el) => el !== component.code);\n            } else {\n              parentValue2.push(component.code);\n            }\n            dispatch(valueChange({ componentCode: parentCode, value: parentValue2 }));\n          }}\n          imageHeight=\"100%\"\n          maxHeight={iconSize + \"px\"}\n          svgUrl={\n            component?.resources?.icon\n              ? buildResourceUrl(component?.resources?.icon)\n              : undefined\n          }\n          isSelected={checked}\n          theme={theme}\n        />\n      </div>\n\n      {!hideText && (\n        <Box\n          sx={{\n            textAlign: \"center\",\n            fontFamily: theme.textStyles.text.font,\n            color: checked\n              ? theme.palette.primary.main\n              : theme.textStyles.text.color,\n            fontSize: theme.textStyles.text.size,\n          }}\n        >\n          {component.content?.label}\n        </Box>\n      )}\n    </Box>\n  );\n}\n\nexport default IconMcq;\n"],"names":["jsx","_a","jsxs"],"mappings":";;;;;;;AASA,SAAS,QAAQ,OAAO;;AACtB,QAAM,QAAQ,SAAA;AAEd,QAAM,cAAc,YAAY,CAAC,UAAU;AACzC,WAAO,MAAM,SAAS,OAAO,MAAM,UAAU,aAAa,EAAE,SAAS,CAAA;AAAA,EACvE,GAAG,YAAY;AAIf,QAAM,aAAW,WAAM,cAAN,mBAAiB,aAAY;AAE9C,QAAM,YAAY,YAAY,CAAC,MAAM,EAAE,SAAS,MAAM;AAGtD,SACEA,kCAAAA;AAAAA,IAAC;AAAA,IAAA;AAAA,MACC,IAAI;AAAA,QACF,KAAK,GAAG,aAAM,UAAU,WAAW,GAAC;AAAA,MAAA;AAAA,MAEtC,WAAW,OAAO;AAAA,MAEjB,UAAA,MAAM,UAAU,QAAQ,IAAI,CAAC,WAAW;;AACvC,cAAM,aAAY,MAAAC,MAAA,UAAU,OAAO,aAAa,MAA9B,gBAAAA,IAAiC,cAAjC,YAA8C;AAChE,YAAI,CAAC,UAAW,QAAO;AAEvB,eACED,kCAAAA;AAAAA,UAAC;AAAA,UAAA;AAAA,YAEC;AAAA,YACA,YAAY,MAAM,UAAU;AAAA,YAC5B,WAAW;AAAA,YACX,SAAS,MAAM,UAAU,WAAW;AAAA,YACpC,UAAU,MAAM,UAAU,YAAY;AAAA,YACtC,SAAS,MAAM,UAAU,WAAW;AAAA,YACpC;AAAA,YACA;AAAA,UAAA;AAAA,UARK,OAAO;AAAA,QAAA;AAAA,MAWlB,CAAC;AAAA,IAAA;AAAA,EAAA;AAGP;AAEA,SAAS,cAAc;AAAA,EACrB;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AACF,GAAG;;AACD,QAAM,WAAW,YAAA;AACjB,QAAM,UAAU,YAAY,QAAQ,UAAU,IAAI,IAAI;AACtD,SACEE,kCAAAA;AAAAA,IAAC;AAAA,IAAA;AAAA,MAEC,IAAI;AAAA,QACF,MAAM,YAAY,aAAM,SAAO,QAAO,kBAAW,GAAC;AAAA,QAClD,WAAW;AAAA,QACX,QAAQ;AAAA,MAAA;AAAA,MAGV,UAAA;AAAA,QAAAF,kCAAAA;AAAAA,UAAC;AAAA,UAAA;AAAA,YACC,OAAO;AAAA,cACL,SAAS;AAAA,cACT,gBAAgB;AAAA,cAChB,OAAO;AAAA,YAAA;AAAA,YAGT,UAAAA,kCAAAA;AAAAA,cAAC;AAAA,cAAA;AAAA,gBACC,aAAa,MAAK;AAChB,sBAAI,eAAe,CAAC,GAAG,WAAW;AAClC,sBAAI,SAAS;AACX,mCAAe,aAAa,OAAO,CAAC,OAAO,OAAO,UAAU,IAAI;AAAA,kBAClE,OAAO;AACL,iCAAa,KAAK,UAAU,IAAI;AAAA,kBAClC;AACA,2BAAS,YAAY,EAAE,eAAe,YAAY,OAAO,aAAA,CAAc,CAAC;AAAA,gBAC1E;AAAA,gBACA,aAAY;AAAA,gBACZ,WAAW,WAAW;AAAA,gBACtB,UACE,4CAAW,cAAX,mBAAsB,QAClB,kBAAiB,4CAAW,cAAX,mBAAsB,IAAI,IAC3C;AAAA,gBAEN,YAAY;AAAA,gBACZ;AAAA,cAAA;AAAA,YAAA;AAAA,UACF;AAAA,QAAA;AAAA,QAGD,CAAC,YACAA,kCAAAA;AAAAA,UAAC;AAAA,UAAA;AAAA,YACC,IAAI;AAAA,cACF,WAAW;AAAA,cACX,YAAY,MAAM,WAAW,KAAK;AAAA,cAClC,OAAO,UACH,MAAM,QAAQ,QAAQ,OACtB,MAAM,WAAW,KAAK;AAAA,cAC1B,UAAU,MAAM,WAAW,KAAK;AAAA,YAAA;AAAA,YAGjC,0BAAU,+BAAS;AAAA,UAAA;AAAA,QAAA;AAAA,MACtB;AAAA,IAAA;AAAA,IAhDG;AAAA,EAAA;AAoDX;"}