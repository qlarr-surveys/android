{"version":3,"file":"Barcode-Y6fVN9F9.js","sources":["../../src/components/Questions/Barcode/Barcode.jsx"],"sourcesContent":["import { Box } from \"@mui/system\";\nimport { useDispatch } from \"react-redux\";\nimport { useSelector } from \"react-redux\";\nimport { valueChange } from \"~/state/runState\";\nimport styles from \"./Barcode.module.css\";\nimport { TextField } from \"@mui/material\";\nimport { useTheme } from \"@emotion/react\";\n\nfunction Barcode(props) {\n  const theme = useTheme();\n  const component = props.component;\n  const state = useSelector((state) => {\n    return state.runState.values[component.qualifiedCode];\n  });\n\n\n  const preview = useSelector((state) => {\n    return state.runState.preview;\n  });\n\n  const mode = useSelector((state) => {\n    return state.runState.values.Survey.mode;\n  });\n  const dispatch = useDispatch();\n\n  const onImageClick = () => {\n    const code = component.qualifiedCode;\n    if (preview && mode == \"offline\") {\n      dispatch(\n        valueChange({\n          componentCode: code,\n          value: \"This is a Dummy Barcode\",\n        })\n      );\n    } else if (window[\"Android\"]) {\n      window[\"Android\"].scanBarcode(code);\n      window[\"onBarcodeScanned\" + code] = (value) => {\n        dispatch(\n          valueChange({\n            componentCode: code,\n            value,\n          })\n        );\n      };\n    } else {\n      console.debug(\"no android device!!\");\n    }\n  };\n\n  return (\n    <Box className={styles.container}>\n      <img\n        onClick={onImageClick}\n        src=\"/barcode.png\"\n        style={{\n          maxHeight: \"200px\",\n        }}\n      />\n      <br />\n      {component.showHint && <span>{component.content?.hint}</span>}\n      <TextField\n        variant=\"standard\"\n        required={\n          props.component.validation?.validation_required?.isActive\n            ? true\n            : false\n        }\n        disabled={true}\n        value={state.value}\n        size=\"small\"\n        InputProps={{\n          sx: {\n            fontFamily: theme.textStyles.text.font,\n            color: theme.textStyles.text.color,\n            fontSize: theme.textStyles.text.size,\n          },\n        }}\n      />\n    </Box>\n  );\n}\n\nexport default Barcode;\n"],"names":["state","jsxs","jsx"],"mappings":";;;;;;AAQA,SAAS,QAAQ,OAAO;;AACtB,QAAM,QAAQ,SAAA;AACd,QAAM,YAAY,MAAM;AACxB,QAAM,QAAQ,YAAY,CAACA,WAAU;AACnC,WAAOA,OAAM,SAAS,OAAO,UAAU,aAAa;AAAA,EACtD,CAAC;AAGD,QAAM,UAAU,YAAY,CAACA,WAAU;AACrC,WAAOA,OAAM,SAAS;AAAA,EACxB,CAAC;AAED,QAAM,OAAO,YAAY,CAACA,WAAU;AAClC,WAAOA,OAAM,SAAS,OAAO,OAAO;AAAA,EACtC,CAAC;AACD,QAAM,WAAW,YAAA;AAEjB,QAAM,eAAe,MAAM;AACzB,UAAM,OAAO,UAAU;AACvB,QAAI,WAAW,QAAQ,WAAW;AAChC;AAAA,QACE,YAAY;AAAA,UACV,eAAe;AAAA,UACf,OAAO;AAAA,QAAA,CACR;AAAA,MAAA;AAAA,IAEL,WAAW,OAAO,SAAS,GAAG;AAC5B,aAAO,SAAS,EAAE,YAAY,IAAI;AAClC,aAAO,qBAAqB,IAAI,IAAI,CAAC,UAAU;AAC7C;AAAA,UACE,YAAY;AAAA,YACV,eAAe;AAAA,YACf;AAAA,UAAA,CACD;AAAA,QAAA;AAAA,MAEL;AAAA,IACF,OAAO;AACL,cAAQ,MAAM,qBAAqB;AAAA,IACrC;AAAA,EACF;AAEA,SACEC,kCAAAA,KAAC,KAAA,EAAI,WAAW,OAAO,WACrB,UAAA;AAAA,IAAAC,kCAAAA;AAAAA,MAAC;AAAA,MAAA;AAAA,QACC,SAAS;AAAA,QACT,KAAI;AAAA,QACJ,OAAO;AAAA,UACL,WAAW;AAAA,QAAA;AAAA,MACb;AAAA,IAAA;AAAA,0CAED,MAAA,EAAG;AAAA,IACH,UAAU,YAAYA,kCAAAA,IAAC,QAAA,EAAM,WAAA,eAAU,YAAV,mBAAmB,MAAK;AAAA,IACtDA,kCAAAA;AAAAA,MAAC;AAAA,MAAA;AAAA,QACC,SAAQ;AAAA,QACR,YACE,iBAAM,UAAU,eAAhB,mBAA4B,wBAA5B,mBAAiD,YAC7C,OACA;AAAA,QAEN,UAAU;AAAA,QACV,OAAO,MAAM;AAAA,QACb,MAAK;AAAA,QACL,YAAY;AAAA,UACV,IAAI;AAAA,YACF,YAAY,MAAM,WAAW,KAAK;AAAA,YAClC,OAAO,MAAM,WAAW,KAAK;AAAA,YAC7B,UAAU,MAAM,WAAW,KAAK;AAAA,UAAA;AAAA,QAClC;AAAA,MACF;AAAA,IAAA;AAAA,EACF,GACF;AAEJ;"}