{"version":3,"file":"TextQuestion-B6gaDB_-.js","sources":["../../src/components/Questions/Text/TextQuestion.jsx"],"sourcesContent":["import React from \"react\";\nimport { useDispatch, useSelector, shallowEqual } from \"react-redux\";\nimport TextField from \"@mui/material/TextField\";\nimport { useTheme } from \"@mui/material/styles\";\nimport styles from \"./TextQuestion.module.css\";\nimport { valueChange } from \"~/state/runState\";\nimport { setDirty } from \"~/state/templateState\";\n\nfunction TextQuestion(props) {\n  const theme = useTheme();\n  const state = useSelector((state) => {\n    let questionState = state.runState.values[props.component.qualifiedCode];\n    let show_errors = state.runState.values.Survey.show_errors;\n    let isDirty = state.templateState[props.component.qualifiedCode];\n    let validity = questionState?.validity;\n    let invalid = (show_errors || isDirty) && validity === false;\n    return {\n      value: questionState?.value || \"\",\n      invalid: invalid,\n    };\n  }, shallowEqual);\n  const dispatch = useDispatch();\n\n  const handleChange = (event) => {\n    dispatch(\n      valueChange({\n        componentCode: event.target.name,\n        value: event.target.value,\n      })\n    );\n  };\n\n  const lostFocus = (event) => {\n    dispatch(setDirty(event.target.name));\n  };\n\n  return (\n    <div className={styles.questionItem}>\n      <TextField\n        variant=\"standard\"\n        required={\n          props.component.validation?.validation_required?.isActive\n            ? true\n            : false\n        }\n        id={props.component.qualifiedCode}\n        name={props.component.qualifiedCode}\n        label={\n          (props.component.showHint && props.component.content?.hint) || \"\"\n        }\n        onChange={handleChange}\n        onBlur={lostFocus}\n        inputProps={{ maxLength: props.component.maxChars || undefined }}\n        value={state.value}\n        error={state.invalid}\n        InputProps={{\n          sx: {\n            fontFamily: theme.textStyles.text.font,\n            color: theme.textStyles.text.color,\n            fontSize: theme.textStyles.text.size,\n            borderBottom: \"1px solid\",\n          },\n        }}\n      />\n    </div>\n  );\n}\n\nexport default React.memo(TextQuestion);\n"],"names":["state","jsx"],"mappings":";;;;;;;AAQA,SAAS,aAAa,OAAO;;AAC3B,QAAM,QAAQ;AACR,QAAA,QAAQ,YAAY,CAACA,WAAU;AACnC,QAAI,gBAAgBA,OAAM,SAAS,OAAO,MAAM,UAAU,aAAa;AACvE,QAAI,cAAcA,OAAM,SAAS,OAAO,OAAO;AAC/C,QAAI,UAAUA,OAAM,cAAc,MAAM,UAAU,aAAa;AAC/D,QAAI,WAAW,+CAAe;AAC1B,QAAA,WAAW,eAAe,YAAY,aAAa;AAChD,WAAA;AAAA,MACL,QAAO,+CAAe,UAAS;AAAA,MAC/B;AAAA,IAAA;AAAA,KAED,YAAY;AACf,QAAM,WAAW;AAEX,QAAA,eAAe,CAAC,UAAU;AAC9B;AAAA,MACE,YAAY;AAAA,QACV,eAAe,MAAM,OAAO;AAAA,QAC5B,OAAO,MAAM,OAAO;AAAA,MAAA,CACrB;AAAA,IAAA;AAAA,EACH;AAGI,QAAA,YAAY,CAAC,UAAU;AAC3B,aAAS,SAAS,MAAM,OAAO,IAAI,CAAC;AAAA,EAAA;AAGtC,SACGC,kCAAAA,IAAA,OAAA,EAAI,WAAW,OAAO,cACrB,UAAAA,kCAAA;AAAA,IAAC;AAAA,IAAA;AAAA,MACC,SAAQ;AAAA,MACR,YACE,iBAAM,UAAU,eAAhB,mBAA4B,wBAA5B,mBAAiD,YAC7C,OACA;AAAA,MAEN,IAAI,MAAM,UAAU;AAAA,MACpB,MAAM,MAAM,UAAU;AAAA,MACtB,OACG,MAAM,UAAU,cAAY,WAAM,UAAU,YAAhB,mBAAyB,SAAS;AAAA,MAEjE,UAAU;AAAA,MACV,QAAQ;AAAA,MACR,YAAY,EAAE,WAAW,MAAM,UAAU,YAAY,OAAU;AAAA,MAC/D,OAAO,MAAM;AAAA,MACb,OAAO,MAAM;AAAA,MACb,YAAY;AAAA,QACV,IAAI;AAAA,UACF,YAAY,MAAM,WAAW,KAAK;AAAA,UAClC,OAAO,MAAM,WAAW,KAAK;AAAA,UAC7B,UAAU,MAAM,WAAW,KAAK;AAAA,UAChC,cAAc;AAAA,QAChB;AAAA,MACF;AAAA,IAAA;AAAA,EAEJ,EAAA,CAAA;AAEJ;AAEA,MAAA,iBAAe,MAAM,KAAK,YAAY;"}