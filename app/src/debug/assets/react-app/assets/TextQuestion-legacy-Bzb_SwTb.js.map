{"version":3,"file":"TextQuestion-legacy-Bzb_SwTb.js","sources":["../../src/components/Questions/Text/TextQuestion.jsx"],"sourcesContent":["import React from \"react\";\nimport { useDispatch, useSelector, shallowEqual } from \"react-redux\";\nimport TextField from \"@mui/material/TextField\";\nimport { useTheme } from \"@mui/material/styles\";\nimport styles from \"./TextQuestion.module.css\";\nimport { valueChange } from \"~/state/runState\";\nimport { setDirty } from \"~/state/templateState\";\n\nfunction TextQuestion(props) {\n  const theme = useTheme();\n  const state = useSelector((state) => {\n    let questionState = state.runState.values[props.component.qualifiedCode];\n    let show_errors = state.runState.values.Survey.show_errors;\n    let isDirty = state.templateState[props.component.qualifiedCode];\n    let validity = questionState?.validity;\n    let invalid = (show_errors || isDirty) && validity === false;\n    return {\n      value: questionState?.value || \"\",\n      invalid: invalid,\n    };\n  }, shallowEqual);\n  const dispatch = useDispatch();\n\n  const handleChange = (event) => {\n    dispatch(\n      valueChange({\n        componentCode: event.target.name,\n        value: event.target.value,\n      })\n    );\n  };\n\n  const lostFocus = (event) => {\n    dispatch(setDirty(event.target.name));\n  };\n\n  return (\n    <div className={styles.questionItem}>\n      <TextField\n        variant=\"outlined\"\n        size=\"small\"\n        required={\n          props.component.validation?.validation_required?.isActive\n            ? true\n            : false\n        }\n        id={props.component.qualifiedCode}\n        name={props.component.qualifiedCode}\n        label={\n          (props.component.showHint && props.component.content?.hint) || \"\"\n        }\n        onChange={handleChange}\n        onBlur={lostFocus}\n        inputProps={{ maxLength: props.component.maxChars || undefined }}\n        value={state.value}\n        error={state.invalid}\n        InputProps={{\n          sx: {\n            fontFamily: theme.textStyles.text.font,\n            color: theme.textStyles.text.color,\n            fontSize: theme.textStyles.text.size,\n          },\n        }}\n      />\n    </div>\n  );\n}\n\nexport default React.memo(TextQuestion);\n"],"names":["TextQuestion","props","_props$component$vali","_props$component$cont","theme","useTheme","state","useSelector","questionState","runState","values","component","qualifiedCode","show_errors","Survey","isDirty","templateState","validity","invalid","value","shallowEqual","dispatch","useDispatch","handleChange","event","valueChange","componentCode","target","name","lostFocus","setDirty","jsx","className","styles","questionItem","children","TextField","variant","size","required","validation","validation_required","isActive","id","label","showHint","content","hint","onChange","onBlur","inputProps","maxLength","maxChars","error","InputProps","sx","fontFamily","textStyles","text","font","color","fontSize","TextQuestion$1","exports","React","memo"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;QAQA,SAASA,aAAaC,KAAA,EAAO;UAAA,IAAAC,qBAAA,EAAAC,qBAAA;UAC3B,MAAMC,QAAQC,QAAA,CAAA,CAAS;UACvB,MAAMC,KAAA,GAAQC,WAAA,CAAaD,MAAAA,IAAU;YACnC,IAAIE,gBAAgBF,MAAAA,CAAMG,QAAA,CAASC,MAAA,CAAOT,KAAA,CAAMU,UAAUC,aAAa,CAAA;YACvE,IAAIC,WAAA,GAAcP,MAAAA,CAAMG,QAAA,CAASC,MAAA,CAAOI,MAAA,CAAOD,WAAA;YAC/C,IAAIE,OAAA,GAAUT,MAAAA,CAAMU,aAAA,CAAcf,KAAA,CAAMU,UAAUC,aAAa,CAAA;YAC/D,IAAIK,WAAWT,aAAA,aAAAA,aAAA,uBAAAA,aAAA,CAAeS,QAAA;YAC9B,IAAIC,OAAA,GAAA,CAAWL,WAAA,IAAeE,OAAA,KAAYE,QAAA,KAAa,KAAA;YACvD,OAAO;cACLE,KAAA,EAAO,CAAAX,0BAAAA,oCAAAA,cAAeW,KAAA,KAAS,EAAA;cAC/BD;YAAA,CACF;UACF,GAAGE,YAAY,CAAA;UACf,MAAMC,WAAWC,WAAA,CAAA,CAAY;UAE7B,MAAMC,YAAA,GAAgBC,KAAA,IAAU;YAC9BH,QAAA,CACEI,WAAA,CAAY;cACVC,aAAA,EAAeF,MAAMG,MAAA,CAAOC,IAAA;cAC5BT,KAAA,EAAOK,MAAMG,MAAA,CAAOR;YAAA,CACrB,CAAA,CACH;UACF,CAAA;UAEA,MAAMU,SAAA,GAAaL,KAAA,IAAU;YAC3BH,QAAA,CAASS,QAAA,CAASN,KAAA,CAAMG,MAAA,CAAOC,IAAI,CAAC,CAAA;UACtC,CAAA;UAEA,OAAA,eACEG,iBAAAA,CAAAA,GAAA,CAAC,KAAA,EAAA;YAAIC,SAAA,EAAWC,MAAA,CAAOC,YAAA;YACrBC,QAAA,iBAAAJ,iBAAAA,CAAAA,GAAA,CAACK,SAAA,EAAA;cACCC,OAAA,EAAQ,UAAA;cACRC,IAAA,EAAK,OAAA;cACLC,UACE,CAAArC,qBAAA,GAAAD,KAAA,CAAMU,SAAA,CAAU6B,UAAA,cAAAtC,qBAAA,gBAAAA,qBAAA,GAAhBA,qBAAA,CAA4BuC,mBAAA,cAAAvC,qBAAA,eAA5BA,qBAAA,CAAiDwC,WAC7C,IAAA,GACA,KAAA;cAENC,EAAA,EAAI1C,MAAMU,SAAA,CAAUC,aAAA;cACpBgB,IAAA,EAAM3B,MAAMU,SAAA,CAAUC,aAAA;cACtBgC,OACG3C,KAAA,CAAMU,SAAA,CAAUkC,sCAAY5C,KAAA,CAAMU,SAAA,CAAUmC,iEAAhB3C,qBAAA,CAAyB4C,IAAA,KAAS,EAAA;cAEjEC,QAAA,EAAUzB,YAAA;cACV0B,MAAA,EAAQpB,SAAA;cACRqB,YAAY;gBAAEC,SAAA,EAAWlD,KAAA,CAAMU,SAAA,CAAUyC,YAAY,KAAA;cAAA,CAAU;cAC/DjC,OAAOb,KAAA,CAAMa,KAAA;cACbkC,OAAO/C,KAAA,CAAMY,OAAA;cACboC,UAAA,EAAY;gBACVC,EAAA,EAAI;kBACFC,UAAA,EAAYpD,KAAA,CAAMqD,UAAA,CAAWC,IAAA,CAAKC,IAAA;kBAClCC,KAAA,EAAOxD,KAAA,CAAMqD,UAAA,CAAWC,IAAA,CAAKE,KAAA;kBAC7BC,QAAA,EAAUzD,KAAA,CAAMqD,UAAA,CAAWC,IAAA,CAAKpB;gBAAA;cAClC;YACF,CAAA;WAEJ,CAAA;QAEJ;QAEA,MAAAwB,cAAA,GAAAC,OAAA,CAAA,SAAA,EAAeC,KAAA,CAAMC,KAAKjE,YAAY,CAAA,CAAA;;;;"}