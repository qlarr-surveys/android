{"version":3,"file":"Barcode-legacy-BMQODQfF.js","sources":["../../src/components/Questions/Barcode/Barcode.jsx"],"sourcesContent":["import { Box } from \"@mui/system\";\nimport { useDispatch } from \"react-redux\";\nimport { useSelector } from \"react-redux\";\nimport { valueChange } from \"~/state/runState\";\nimport styles from \"./Barcode.module.css\";\nimport { TextField } from \"@mui/material\";\nimport { useTheme } from \"@emotion/react\";\n\nfunction Barcode(props) {\n  const theme = useTheme();\n  const component = props.component;\n  const state = useSelector((state) => {\n    return state.runState.values[component.qualifiedCode];\n  });\n\n\n  const preview = useSelector((state) => {\n    return state.runState.preview;\n  });\n\n  const mode = useSelector((state) => {\n    return state.runState.values.Survey.mode;\n  });\n  const dispatch = useDispatch();\n\n  const onImageClick = () => {\n    const code = component.qualifiedCode;\n    if (preview && mode == \"offline\") {\n      dispatch(\n        valueChange({\n          componentCode: code,\n          value: \"This is a Dummy Barcode\",\n        })\n      );\n    } else if (window[\"Android\"]) {\n      window[\"Android\"].scanBarcode(code);\n      window[\"onBarcodeScanned\" + code] = (value) => {\n        dispatch(\n          valueChange({\n            componentCode: code,\n            value,\n          })\n        );\n      };\n    } else {\n      console.debug(\"no android device!!\");\n    }\n  };\n\n  return (\n    <Box className={styles.container}>\n      <img\n        onClick={onImageClick}\n        src=\"/barcode.png\"\n        style={{\n          maxHeight: \"200px\",\n        }}\n      />\n      <br />\n      {component.showHint && <span>{component.content?.hint}</span>}\n      <TextField\n        variant=\"standard\"\n        required={\n          props.component.validation?.validation_required?.isActive\n            ? true\n            : false\n        }\n        disabled={true}\n        value={state.value}\n        size=\"small\"\n        InputProps={{\n          sx: {\n            fontFamily: theme.textStyles.text.font,\n            color: theme.textStyles.text.color,\n            fontSize: theme.textStyles.text.size,\n          },\n        }}\n      />\n    </Box>\n  );\n}\n\nexport default Barcode;\n"],"names":["Barcode","props","_component$content","_props$component$vali","theme","useTheme","component","state","useSelector","runState","values","qualifiedCode","preview","mode","Survey","dispatch","useDispatch","onImageClick","code","valueChange","componentCode","value","window","scanBarcode","console","debug","jsxs","Box","className","styles","container","children","jsx","onClick","src","style","maxHeight","showHint","content","hint","TextField","variant","required","validation","validation_required","isActive","disabled","size","InputProps","sx","fontFamily","textStyles","text","font","color","fontSize"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;QAQA,SAASA,QAAQC,KAAA,EAAO;UAAA,IAAAC,kBAAA,EAAAC,qBAAA;UACtB,MAAMC,QAAQC,QAAA,CAAA,CAAS;UACvB,MAAMC,YAAYL,KAAA,CAAMK,SAAA;UACxB,MAAMC,KAAA,GAAQC,WAAA,CAAaD,MAAAA,IAAU;YACnC,OAAOA,MAAAA,CAAME,QAAA,CAASC,MAAA,CAAOJ,SAAA,CAAUK,aAAa,CAAA;UACtD,CAAC,CAAA;UAGD,MAAMC,OAAA,GAAUJ,WAAA,CAAaD,MAAAA,IAAU;YACrC,OAAOA,OAAME,QAAA,CAASG,OAAA;UACxB,CAAC,CAAA;UAED,MAAMC,IAAA,GAAOL,WAAA,CAAaD,MAAAA,IAAU;YAClC,OAAOA,MAAAA,CAAME,QAAA,CAASC,MAAA,CAAOI,MAAA,CAAOD,IAAA;UACtC,CAAC,CAAA;UACD,MAAME,WAAWC,WAAA,CAAA,CAAY;UAE7B,MAAMC,eAAeA,CAAA,KAAM;YACzB,MAAMC,OAAOZ,SAAA,CAAUK,aAAA;YACvB,IAAIC,OAAA,IAAWC,QAAQ,SAAA,EAAW;cAChCE,QAAA,CACEI,WAAA,CAAY;gBACVC,aAAA,EAAeF,IAAA;gBACfG,KAAA,EAAO;cAAA,CACR,CAAA,CACH;YACF,CAAA,MAAA,IAAWC,MAAA,CAAO,SAAS,CAAA,EAAG;cAC5BA,MAAA,CAAO,SAAS,CAAA,CAAEC,WAAA,CAAYL,IAAI,CAAA;cAClCI,MAAA,CAAO,kBAAA,GAAqBJ,IAAI,CAAA,GAAKG,KAAA,IAAU;gBAC7CN,QAAA,CACEI,WAAA,CAAY;kBACVC,aAAA,EAAeF,IAAA;kBACfG;gBAAA,CACD,CAAA,CACH;cACF,CAAA;YACF,CAAA,MAAO;cACLG,OAAA,CAAQC,MAAM,qBAAqB,CAAA;YACrC;UACF,CAAA;UAEA,OAAA,eACEC,iBAAAA,CAAAA,IAAA,CAACC,GAAA,EAAA;YAAIC,SAAA,EAAWC,MAAA,CAAOC,SAAA;YACrBC,QAAA,EAAA,CAAA,eAAAC,iBAAAA,CAAAA,GAAA,CAAC,KAAA,EAAA;cACCC,OAAA,EAAShB,YAAA;cACTiB,GAAA,EAAI,cAAA;cACJC,KAAA,EAAO;gBACLC,SAAA,EAAW;cAAA;YACb,CAAA,CACF,EAAA,qCACC,IAAA,EAAA,EAAG,CAAA,EACH9B,UAAU+B,QAAA,IAAA,eAAYL,iBAAAA,CAAAA,GAAA,CAAC,MAAA,EAAA;cAAMD,QAAA,GAAA7B,kBAAA,GAAAI,SAAA,CAAUgC,8DAAVpC,kBAAA,CAAmBqC;aAAK,CAAA,EAAA,eACtDP,iBAAAA,CAAAA,GAAA,CAACQ,SAAA,EAAA;cACCC,OAAA,EAAQ,UAAA;cACRC,UACE,CAAAvC,qBAAA,GAAAF,KAAA,CAAMK,SAAA,CAAUqC,UAAA,cAAAxC,qBAAA,gBAAAA,qBAAA,GAAhBA,qBAAA,CAA4ByC,mBAAA,cAAAzC,qBAAA,eAA5BA,qBAAA,CAAiD0C,WAC7C,IAAA,GACA,KAAA;cAENC,QAAA,EAAU,IAAA;cACVzB,OAAOd,KAAA,CAAMc,KAAA;cACb0B,IAAA,EAAK,OAAA;cACLC,UAAA,EAAY;gBACVC,EAAA,EAAI;kBACFC,UAAA,EAAY9C,KAAA,CAAM+C,UAAA,CAAWC,IAAA,CAAKC,IAAA;kBAClCC,KAAA,EAAOlD,KAAA,CAAM+C,UAAA,CAAWC,IAAA,CAAKE,KAAA;kBAC7BC,QAAA,EAAUnD,KAAA,CAAM+C,UAAA,CAAWC,IAAA,CAAKL;gBAAA;cAClC;YACF,CAAA,CAAA;WAEJ,CAAA;QAEJ;;;;"}