{"version":3,"file":"FileUpload-legacy-Dj6mD016.js","sources":["../../node_modules/@mui/material/Link/linkClasses.js","../../node_modules/@mui/material/Link/getTextDecoration.js","../../node_modules/@mui/material/Link/Link.js","../../src/components/Questions/FileUpload/FileUpload.jsx"],"sourcesContent":["import generateUtilityClasses from '@mui/utils/generateUtilityClasses';\nimport generateUtilityClass from '@mui/utils/generateUtilityClass';\nexport function getLinkUtilityClass(slot) {\n  return generateUtilityClass('MuiLink', slot);\n}\nconst linkClasses = generateUtilityClasses('MuiLink', ['root', 'underlineNone', 'underlineHover', 'underlineAlways', 'button', 'focusVisible']);\nexport default linkClasses;","import { getPath } from '@mui/system';\nimport { alpha } from '@mui/system/colorManipulator';\nexport const colorTransformations = {\n  primary: 'primary.main',\n  textPrimary: 'text.primary',\n  secondary: 'secondary.main',\n  textSecondary: 'text.secondary',\n  error: 'error.main'\n};\nconst transformDeprecatedColors = color => {\n  return colorTransformations[color] || color;\n};\nconst getTextDecoration = ({\n  theme,\n  ownerState\n}) => {\n  const transformedColor = transformDeprecatedColors(ownerState.color);\n  const color = getPath(theme, `palette.${transformedColor}`, false) || ownerState.color;\n  const channelColor = getPath(theme, `palette.${transformedColor}Channel`);\n  if ('vars' in theme && channelColor) {\n    return `rgba(${channelColor} / 0.4)`;\n  }\n  return alpha(color, 0.4);\n};\nexport default getTextDecoration;","'use client';\n\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nconst _excluded = [\"className\", \"color\", \"component\", \"onBlur\", \"onFocus\", \"TypographyClasses\", \"underline\", \"variant\", \"sx\"];\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport elementTypeAcceptingRef from '@mui/utils/elementTypeAcceptingRef';\nimport composeClasses from '@mui/utils/composeClasses';\nimport capitalize from '../utils/capitalize';\nimport styled from '../styles/styled';\nimport { useDefaultProps } from '../DefaultPropsProvider';\nimport useIsFocusVisible from '../utils/useIsFocusVisible';\nimport useForkRef from '../utils/useForkRef';\nimport Typography from '../Typography';\nimport linkClasses, { getLinkUtilityClass } from './linkClasses';\nimport getTextDecoration, { colorTransformations } from './getTextDecoration';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst useUtilityClasses = ownerState => {\n  const {\n    classes,\n    component,\n    focusVisible,\n    underline\n  } = ownerState;\n  const slots = {\n    root: ['root', `underline${capitalize(underline)}`, component === 'button' && 'button', focusVisible && 'focusVisible']\n  };\n  return composeClasses(slots, getLinkUtilityClass, classes);\n};\nconst LinkRoot = styled(Typography, {\n  name: 'MuiLink',\n  slot: 'Root',\n  overridesResolver: (props, styles) => {\n    const {\n      ownerState\n    } = props;\n    return [styles.root, styles[`underline${capitalize(ownerState.underline)}`], ownerState.component === 'button' && styles.button];\n  }\n})(({\n  theme,\n  ownerState\n}) => {\n  return _extends({}, ownerState.underline === 'none' && {\n    textDecoration: 'none'\n  }, ownerState.underline === 'hover' && {\n    textDecoration: 'none',\n    '&:hover': {\n      textDecoration: 'underline'\n    }\n  }, ownerState.underline === 'always' && _extends({\n    textDecoration: 'underline'\n  }, ownerState.color !== 'inherit' && {\n    textDecorationColor: getTextDecoration({\n      theme,\n      ownerState\n    })\n  }, {\n    '&:hover': {\n      textDecorationColor: 'inherit'\n    }\n  }), ownerState.component === 'button' && {\n    position: 'relative',\n    WebkitTapHighlightColor: 'transparent',\n    backgroundColor: 'transparent',\n    // Reset default value\n    // We disable the focus ring for mouse, touch and keyboard users.\n    outline: 0,\n    border: 0,\n    margin: 0,\n    // Remove the margin in Safari\n    borderRadius: 0,\n    padding: 0,\n    // Remove the padding in Firefox\n    cursor: 'pointer',\n    userSelect: 'none',\n    verticalAlign: 'middle',\n    MozAppearance: 'none',\n    // Reset\n    WebkitAppearance: 'none',\n    // Reset\n    '&::-moz-focus-inner': {\n      borderStyle: 'none' // Remove Firefox dotted outline.\n    },\n    [`&.${linkClasses.focusVisible}`]: {\n      outline: 'auto'\n    }\n  });\n});\nconst Link = /*#__PURE__*/React.forwardRef(function Link(inProps, ref) {\n  const props = useDefaultProps({\n    props: inProps,\n    name: 'MuiLink'\n  });\n  const {\n      className,\n      color = 'primary',\n      component = 'a',\n      onBlur,\n      onFocus,\n      TypographyClasses,\n      underline = 'always',\n      variant = 'inherit',\n      sx\n    } = props,\n    other = _objectWithoutPropertiesLoose(props, _excluded);\n  const {\n    isFocusVisibleRef,\n    onBlur: handleBlurVisible,\n    onFocus: handleFocusVisible,\n    ref: focusVisibleRef\n  } = useIsFocusVisible();\n  const [focusVisible, setFocusVisible] = React.useState(false);\n  const handlerRef = useForkRef(ref, focusVisibleRef);\n  const handleBlur = event => {\n    handleBlurVisible(event);\n    if (isFocusVisibleRef.current === false) {\n      setFocusVisible(false);\n    }\n    if (onBlur) {\n      onBlur(event);\n    }\n  };\n  const handleFocus = event => {\n    handleFocusVisible(event);\n    if (isFocusVisibleRef.current === true) {\n      setFocusVisible(true);\n    }\n    if (onFocus) {\n      onFocus(event);\n    }\n  };\n  const ownerState = _extends({}, props, {\n    color,\n    component,\n    focusVisible,\n    underline,\n    variant\n  });\n  const classes = useUtilityClasses(ownerState);\n  return /*#__PURE__*/_jsx(LinkRoot, _extends({\n    color: color,\n    className: clsx(classes.root, className),\n    classes: TypographyClasses,\n    component: component,\n    onBlur: handleBlur,\n    onFocus: handleFocus,\n    ref: handlerRef,\n    ownerState: ownerState,\n    variant: variant,\n    sx: [...(!Object.keys(colorTransformations).includes(color) ? [{\n      color\n    }] : []), ...(Array.isArray(sx) ? sx : [sx])]\n  }, other));\n});\nprocess.env.NODE_ENV !== \"production\" ? Link.propTypes /* remove-proptypes */ = {\n  // ┌────────────────────────────── Warning ──────────────────────────────┐\n  // │ These PropTypes are generated from the TypeScript type definitions. │\n  // │    To update them, edit the d.ts file and run `pnpm proptypes`.     │\n  // └─────────────────────────────────────────────────────────────────────┘\n  /**\n   * The content of the component.\n   */\n  children: PropTypes.node,\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n  /**\n   * The color of the link.\n   * @default 'primary'\n   */\n  color: PropTypes /* @typescript-to-proptypes-ignore */.any,\n  /**\n   * The component used for the root node.\n   * Either a string to use a HTML element or a component.\n   */\n  component: elementTypeAcceptingRef,\n  /**\n   * @ignore\n   */\n  onBlur: PropTypes.func,\n  /**\n   * @ignore\n   */\n  onFocus: PropTypes.func,\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object, PropTypes.bool])), PropTypes.func, PropTypes.object]),\n  /**\n   * `classes` prop applied to the [`Typography`](/material-ui/api/typography/) element.\n   */\n  TypographyClasses: PropTypes.object,\n  /**\n   * Controls when the link should have an underline.\n   * @default 'always'\n   */\n  underline: PropTypes.oneOf(['always', 'hover', 'none']),\n  /**\n   * Applies the theme typography styles.\n   * @default 'inherit'\n   */\n  variant: PropTypes /* @typescript-to-proptypes-ignore */.oneOfType([PropTypes.oneOf(['body1', 'body2', 'button', 'caption', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'inherit', 'overline', 'subtitle1', 'subtitle2']), PropTypes.string])\n} : void 0;\nexport default Link;","import React, { useState } from \"react\";\nimport Button from \"@mui/material/Button\";\nimport Link from \"@mui/material/Link\";\nimport { previewUrlByFilename, uploadFile } from \"~/networking/run\";\nimport { styled, useTheme } from \"@mui/material/styles\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport ValidationItem from \"~/components/run/ValidationItem\";\nimport { valueChange } from \"~/state/runState\";\nimport { setDirty } from \"~/state/templateState\";\nimport { useTranslation } from \"react-i18next\";\nimport LoadingDots from \"~/components/common/LoadingDots\";\nimport { useService } from \"~/hooks/use-service\";\nimport { fileTypesToMimesArray } from \"~/state/design/addInstructions\";\n\nconst Input = styled(\"input\")({\n  display: \"none\",\n});\n\nfunction FileUpload(props) {\n  const runService = useService(\"run\");\n  const theme = useTheme();\n\n  const { t } = useTranslation(\"run\");\n\n  let accepted = fileTypesToMimesArray(\n    props.component.validation?.validation_file_types?.fileTypes\n  );\n\n  const validationMaxSize =\n    (props.component.validation?.validation_max_file_size?.isActive &&\n      props.component.validation?.validation_max_file_size?.max_size) ||\n    -1;\n  \n  // Limit to validation value or 10MB (10240 KB), whichever is smaller\n  const IMAGE_MAX_SIZE_KB = 10240; // 10MB\n  const maxFileSize = validationMaxSize > 0 \n    ? Math.min(validationMaxSize, IMAGE_MAX_SIZE_KB)\n    : IMAGE_MAX_SIZE_KB;\n\n  const state = useSelector((state) => {\n    let questionState = state.runState.values[props.component.qualifiedCode];\n    return questionState?.value;\n  });\n\n  const preview = useSelector((state) => {\n    return state.runState.preview;\n  });\n\n  const dispatch = useDispatch();\n\n  const [selectedFile, setSelectedFile] = useState();\n  const [isUploading, setUploading] = useState(false);\n\n  const previewAndroid = () => {\n    window[\"Android\"].previewFileUpload(state.stored_filename, state.filename);\n  };\n\n  const invalidSelectedFile =\n    !isUploading &&\n    selectedFile &&\n    accepted.length > 0 &&\n    !accepted.includes(selectedFile.type);\n\n  const invalidSize =\n    !isUploading &&\n    selectedFile &&\n    maxFileSize > 0 &&\n    selectedFile.size / 1024 > maxFileSize;\n\n  const changeHandler = (event) => {\n    const file = event.target.files?.[0];\n    if (!file) return;\n\n    dispatch(setDirty(props.component.qualifiedCode));\n    setSelectedFile(file);\n\n    const invalidType = accepted.length > 0 && !accepted.includes(file.type);\n    const tooBig = maxFileSize > 0 && file.size / 1024 > maxFileSize;\n\n    if (!invalidType && !tooBig) {\n      uploadSelectedFile(file);\n    }\n  };\n\n  const uploadSelectedFile = (file) => {\n    if (!file) return;\n    setUploading(true);\n    uploadFile(runService, props.component.qualifiedCode, preview, file)\n      .then((response) => {\n        setUploading(false);\n        setSelectedFile(undefined);\n        dispatch(\n          valueChange({\n            componentCode: props.component.qualifiedCode,\n            value: response,\n          })\n        );\n      })\n      .catch((err) => {\n        setUploading(false);\n        console.error(err);\n      });\n  };\n\n  const resetSelectedFile = () => {\n    setSelectedFile(undefined);\n  };\n\n  const onButtonClick = (event) => {\n    if (window[\"Android\"]) {\n      event.preventDefault();\n      const code = props.component.qualifiedCode;\n      window[\"Android\"].selectFile(\n        code,\n        accepted?.join(\",\") || \"\",\n        maxFileSize || -1\n      );\n      window[\"onFileSelected\" + code] = (name, size, type) => {\n        const fileLike = { name, size, type };\n        dispatch(setDirty(code));\n        setSelectedFile(fileLike);\n\n        const invalidType = accepted.length > 0 && !accepted.includes(type);\n        const tooBig = maxFileSize > 0 && size / 1024 > maxFileSize;\n\n        if (!invalidType && !tooBig) {\n          uploadSelectedFile(fileLike);\n        }\n      };\n    }\n  };\n\n  let shouldUpload = selectedFile && !invalidSelectedFile && !invalidSize;\n\n  return (\n    <div>\n      <label htmlFor=\"contained-button-file\">\n        <Input\n          id=\"contained-button-file\"\n          type=\"file\"\n          accept={accepted ? accepted.join(\",\") : undefined}\n          onChange={changeHandler}\n        />\n        <Button\n          disabled={isUploading}\n          onClick={onButtonClick}\n          variant=\"contained\"\n          component=\"span\"\n        >\n          {t(\"choose_file\")}\n        </Button>\n      </label>\n      {!selectedFile ? (\n        \"\"\n      ) : (\n        <React.Fragment>\n          <span>\n            &nbsp;{selectedFile.name} - {Math.round(selectedFile.size / 1024)}K\n          </span>\n       \n          <Button\n            disabled={isUploading}\n            sx={{\n              fontFamily: theme.textStyles.text.font,\n              fontSize: theme.textStyles.text.size,\n            }}\n            variant=\"text\"\n            onClick={resetSelectedFile}\n          >\n            {t(\"cancel\")}\n          </Button>\n        </React.Fragment>\n      )}\n\n      {invalidSize && (\n        <React.Fragment>\n          <br />\n          <ValidationItem\n            name=\"validation_max_file_size\"\n            validation={props.component.validation?.validation_max_file_size}\n          />\n        </React.Fragment>\n      )}\n\n      {invalidSelectedFile && (\n        <React.Fragment>\n          <br />\n          <ValidationItem\n            name=\"validation_file_types\"\n            validation={props.component.validation?.validation_file_types}\n          />\n        </React.Fragment>\n      )}\n\n      {isUploading ? (\n        <div style={{ textAlign: \"center\" }}>\n          <LoadingDots />\n          <br />\n          <span>{t(\"uploading\")}</span>\n        </div>\n      ) : !state || !state.stored_filename ? (\n        \"\"\n      ) : (\n        <React.Fragment>\n          <br />\n          <br />\n          {window[\"Android\"] ? (\n            <Link target=\"_blank\" onClick={previewAndroid}>\n              {state.filename} - {Math.round(state.size / 1024)}K\n            </Link>\n          ) : (\n            <Link\n              target=\"_blank\"\n              href={previewUrlByFilename(state.stored_filename)}\n            >\n              {state.filename} - {Math.round(state.size / 1024)}K\n            </Link>\n          )}\n\n          <Button\n            variant=\"text\"\n            size=\"small\"\n            onClick={() =>\n              dispatch(\n                valueChange({\n                  componentCode: props.component.qualifiedCode,\n                  value: null,\n                })\n              )\n            }\n          >\n            {t(\"remove_file\", \"Remove\")}\n          </Button>\n        </React.Fragment>\n      )}\n    </div>\n  );\n}\n\nexport default FileUpload;\n"],"names":["getLinkUtilityClass","slot","generateUtilityClass","linkClasses","generateUtilityClasses","colorTransformations","primary","textPrimary","secondary","textSecondary","error","transformDeprecatedColors","color","getTextDecoration","theme","ownerState","transformedColor","getPath","channelColor","alpha","_excluded","useUtilityClasses","classes","component","focusVisible","underline","slots","root","capitalize","composeClasses","LinkRoot","styled","Typography","name","overridesResolver","props","styles","button","_extends","textDecoration","textDecorationColor","position","WebkitTapHighlightColor","backgroundColor","outline","border","margin","borderRadius","padding","cursor","userSelect","verticalAlign","MozAppearance","WebkitAppearance","borderStyle","Link","React.forwardRef","inProps","ref","useDefaultProps","className","_props$color","_props$component","onBlur","onFocus","TypographyClasses","_props$underline","_props$variant","variant","sx","other","_objectWithoutPropertiesLoose","_useIsFocusVisible","useIsFocusVisible","isFocusVisibleRef","handleBlurVisible","handleFocusVisible","focusVisibleRef","_reactExports$useStat","React.useState","_reactExports$useStat2","_slicedToArray","setFocusVisible","handlerRef","useForkRef","handleBlur","event","current","handleFocus","_jsx","clsx","Object","keys","includes","Array","isArray","Input","display","FileUpload","_props$component$vali","_props$component$vali2","_props$component$vali3","_props$component$vali4","_props$component$vali5","runService","useService","useTheme","_useTranslation","useTranslation","t","accepted","fileTypesToMimesArray","validation","validation_file_types","fileTypes","validationMaxSize","validation_max_file_size","isActive","max_size","IMAGE_MAX_SIZE_KB","maxFileSize","Math","min","state","useSelector","questionState","runState","values","qualifiedCode","value","preview","dispatch","useDispatch","_reactExports$useStat3","useState","_reactExports$useStat4","selectedFile","setSelectedFile","_reactExports$useStat5","_reactExports$useStat6","isUploading","setUploading","previewAndroid","window","previewFileUpload","stored_filename","filename","invalidSelectedFile","length","type","invalidSize","size","changeHandler","_event$target$files","file","target","files","setDirty","invalidType","tooBig","uploadSelectedFile","uploadFile","then","response","valueChange","componentCode","catch","err","console","resetSelectedFile","onButtonClick","preventDefault","code","selectFile","join","fileLike","children","jsxs","htmlFor","jsx","id","accept","onChange","Button","disabled","onClick","React","Fragment","round","fontFamily","textStyles","text","font","fontSize","ValidationItem","style","textAlign","LoadingDots","href","previewUrlByFilename"],"mappings":"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","x_google_ignoreList":[0,1,2]}