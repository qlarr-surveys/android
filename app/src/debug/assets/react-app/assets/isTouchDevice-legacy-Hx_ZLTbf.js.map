{"version":3,"file":"isTouchDevice-legacy-Hx_ZLTbf.js","sources":["../../node_modules/reselect/es/defaultMemoize.js","../../node_modules/reselect/es/index.js","../../node_modules/dnd-core/dist/utils/js_utils.js","../../node_modules/dnd-core/dist/actions/dragDrop/types.js","../../node_modules/dnd-core/dist/actions/dragDrop/local/setClientOffset.js","../../node_modules/dnd-core/dist/actions/dragDrop/beginDrag.js","../../node_modules/dnd-core/dist/actions/dragDrop/drop.js","../../node_modules/dnd-core/dist/actions/dragDrop/endDrag.js","../../node_modules/dnd-core/dist/utils/matchesType.js","../../node_modules/dnd-core/dist/actions/dragDrop/hover.js","../../node_modules/dnd-core/dist/actions/dragDrop/publishDragSource.js","../../node_modules/dnd-core/dist/actions/dragDrop/index.js","../../node_modules/dnd-core/dist/classes/DragDropManagerImpl.js","../../node_modules/dnd-core/dist/utils/coords.js","../../node_modules/dnd-core/dist/utils/dirtiness.js","../../node_modules/dnd-core/dist/classes/DragDropMonitorImpl.js","../../node_modules/@react-dnd/asap/dist/makeRequestCall.js","../../node_modules/@react-dnd/asap/dist/AsapQueue.js","../../node_modules/@react-dnd/asap/dist/RawTask.js","../../node_modules/@react-dnd/asap/dist/TaskFactory.js","../../node_modules/@react-dnd/asap/dist/asap.js","../../node_modules/dnd-core/dist/actions/registry.js","../../node_modules/dnd-core/dist/contracts.js","../../node_modules/dnd-core/dist/interfaces.js","../../node_modules/dnd-core/dist/utils/getNextUniqueId.js","../../node_modules/dnd-core/dist/classes/HandlerRegistryImpl.js","../../node_modules/dnd-core/dist/utils/equality.js","../../node_modules/dnd-core/dist/reducers/dirtyHandlerIds.js","../../node_modules/dnd-core/dist/reducers/dragOffset.js","../../node_modules/dnd-core/dist/reducers/dragOperation.js","../../node_modules/dnd-core/dist/reducers/refCount.js","../../node_modules/dnd-core/dist/reducers/stateId.js","../../node_modules/dnd-core/dist/reducers/index.js","../../node_modules/dnd-core/dist/createDragDropManager.js","../../node_modules/react-dnd/dist/core/DndProvider.js","../../node_modules/@mui/icons-material/esm/ErrorOutlineOutlined.js","../../node_modules/react-dnd-html5-backend/dist/utils/js_utils.js","../../node_modules/react-dnd-html5-backend/dist/EnterLeaveCounter.js","../../node_modules/react-dnd-html5-backend/dist/NativeDragSources/NativeDragSource.js","../../node_modules/react-dnd-html5-backend/dist/NativeTypes.js","../../node_modules/react-dnd-html5-backend/dist/NativeDragSources/getDataFromDataTransfer.js","../../node_modules/react-dnd-html5-backend/dist/NativeDragSources/nativeTypesConfig.js","../../node_modules/react-dnd-html5-backend/dist/NativeDragSources/index.js","../../node_modules/react-dnd-html5-backend/dist/BrowserDetector.js","../../node_modules/react-dnd-html5-backend/dist/MonotonicInterpolant.js","../../node_modules/react-dnd-html5-backend/dist/OffsetUtils.js","../../node_modules/react-dnd-html5-backend/dist/OptionsReader.js","../../node_modules/react-dnd-html5-backend/dist/HTML5BackendImpl.js","../../node_modules/react-dnd-html5-backend/dist/index.js","../../node_modules/react-dnd-touch-backend/dist/interfaces.js","../../node_modules/react-dnd-touch-backend/dist/OptionsReader.js","../../node_modules/react-dnd-touch-backend/dist/utils/math.js","../../node_modules/react-dnd-touch-backend/dist/utils/predicates.js","../../node_modules/react-dnd-touch-backend/dist/utils/offsets.js","../../node_modules/react-dnd-touch-backend/dist/utils/supportsPassive.js","../../node_modules/react-dnd-touch-backend/dist/TouchBackendImpl.js","../../node_modules/react-dnd-touch-backend/dist/index.js","../../src/utils/isTouchDevice.js"],"sourcesContent":["// Cache implementation based on Erik Rasmussen's `lru-memoize`:\n// https://github.com/erikras/lru-memoize\nvar NOT_FOUND = 'NOT_FOUND';\n\nfunction createSingletonCache(equals) {\n  var entry;\n  return {\n    get: function get(key) {\n      if (entry && equals(entry.key, key)) {\n        return entry.value;\n      }\n\n      return NOT_FOUND;\n    },\n    put: function put(key, value) {\n      entry = {\n        key: key,\n        value: value\n      };\n    },\n    getEntries: function getEntries() {\n      return entry ? [entry] : [];\n    },\n    clear: function clear() {\n      entry = undefined;\n    }\n  };\n}\n\nfunction createLruCache(maxSize, equals) {\n  var entries = [];\n\n  function get(key) {\n    var cacheIndex = entries.findIndex(function (entry) {\n      return equals(key, entry.key);\n    }); // We found a cached entry\n\n    if (cacheIndex > -1) {\n      var entry = entries[cacheIndex]; // Cached entry not at top of cache, move it to the top\n\n      if (cacheIndex > 0) {\n        entries.splice(cacheIndex, 1);\n        entries.unshift(entry);\n      }\n\n      return entry.value;\n    } // No entry found in cache, return sentinel\n\n\n    return NOT_FOUND;\n  }\n\n  function put(key, value) {\n    if (get(key) === NOT_FOUND) {\n      // TODO Is unshift slow?\n      entries.unshift({\n        key: key,\n        value: value\n      });\n\n      if (entries.length > maxSize) {\n        entries.pop();\n      }\n    }\n  }\n\n  function getEntries() {\n    return entries;\n  }\n\n  function clear() {\n    entries = [];\n  }\n\n  return {\n    get: get,\n    put: put,\n    getEntries: getEntries,\n    clear: clear\n  };\n}\n\nexport var defaultEqualityCheck = function defaultEqualityCheck(a, b) {\n  return a === b;\n};\nexport function createCacheKeyComparator(equalityCheck) {\n  return function areArgumentsShallowlyEqual(prev, next) {\n    if (prev === null || next === null || prev.length !== next.length) {\n      return false;\n    } // Do this in a for loop (and not a `forEach` or an `every`) so we can determine equality as fast as possible.\n\n\n    var length = prev.length;\n\n    for (var i = 0; i < length; i++) {\n      if (!equalityCheck(prev[i], next[i])) {\n        return false;\n      }\n    }\n\n    return true;\n  };\n}\n// defaultMemoize now supports a configurable cache size with LRU behavior,\n// and optional comparison of the result value with existing values\nexport function defaultMemoize(func, equalityCheckOrOptions) {\n  var providedOptions = typeof equalityCheckOrOptions === 'object' ? equalityCheckOrOptions : {\n    equalityCheck: equalityCheckOrOptions\n  };\n  var _providedOptions$equa = providedOptions.equalityCheck,\n      equalityCheck = _providedOptions$equa === void 0 ? defaultEqualityCheck : _providedOptions$equa,\n      _providedOptions$maxS = providedOptions.maxSize,\n      maxSize = _providedOptions$maxS === void 0 ? 1 : _providedOptions$maxS,\n      resultEqualityCheck = providedOptions.resultEqualityCheck;\n  var comparator = createCacheKeyComparator(equalityCheck);\n  var cache = maxSize === 1 ? createSingletonCache(comparator) : createLruCache(maxSize, comparator); // we reference arguments instead of spreading them for performance reasons\n\n  function memoized() {\n    var value = cache.get(arguments);\n\n    if (value === NOT_FOUND) {\n      // @ts-ignore\n      value = func.apply(null, arguments);\n\n      if (resultEqualityCheck) {\n        var entries = cache.getEntries();\n        var matchingEntry = entries.find(function (entry) {\n          return resultEqualityCheck(entry.value, value);\n        });\n\n        if (matchingEntry) {\n          value = matchingEntry.value;\n        }\n      }\n\n      cache.put(arguments, value);\n    }\n\n    return value;\n  }\n\n  memoized.clearCache = function () {\n    return cache.clear();\n  };\n\n  return memoized;\n}","import { defaultMemoize, defaultEqualityCheck } from './defaultMemoize';\nexport { defaultMemoize, defaultEqualityCheck };\n\nfunction getDependencies(funcs) {\n  var dependencies = Array.isArray(funcs[0]) ? funcs[0] : funcs;\n\n  if (!dependencies.every(function (dep) {\n    return typeof dep === 'function';\n  })) {\n    var dependencyTypes = dependencies.map(function (dep) {\n      return typeof dep === 'function' ? \"function \" + (dep.name || 'unnamed') + \"()\" : typeof dep;\n    }).join(', ');\n    throw new Error(\"createSelector expects all input-selectors to be functions, but received the following types: [\" + dependencyTypes + \"]\");\n  }\n\n  return dependencies;\n}\n\nexport function createSelectorCreator(memoize) {\n  for (var _len = arguments.length, memoizeOptionsFromArgs = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    memoizeOptionsFromArgs[_key - 1] = arguments[_key];\n  }\n\n  var createSelector = function createSelector() {\n    for (var _len2 = arguments.length, funcs = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      funcs[_key2] = arguments[_key2];\n    }\n\n    var _recomputations = 0;\n\n    var _lastResult; // Due to the intricacies of rest params, we can't do an optional arg after `...funcs`.\n    // So, start by declaring the default value here.\n    // (And yes, the words 'memoize' and 'options' appear too many times in this next sequence.)\n\n\n    var directlyPassedOptions = {\n      memoizeOptions: undefined\n    }; // Normally, the result func or \"output selector\" is the last arg\n\n    var resultFunc = funcs.pop(); // If the result func is actually an _object_, assume it's our options object\n\n    if (typeof resultFunc === 'object') {\n      directlyPassedOptions = resultFunc; // and pop the real result func off\n\n      resultFunc = funcs.pop();\n    }\n\n    if (typeof resultFunc !== 'function') {\n      throw new Error(\"createSelector expects an output function after the inputs, but received: [\" + typeof resultFunc + \"]\");\n    } // Determine which set of options we're using. Prefer options passed directly,\n    // but fall back to options given to createSelectorCreator.\n\n\n    var _directlyPassedOption = directlyPassedOptions,\n        _directlyPassedOption2 = _directlyPassedOption.memoizeOptions,\n        memoizeOptions = _directlyPassedOption2 === void 0 ? memoizeOptionsFromArgs : _directlyPassedOption2; // Simplifying assumption: it's unlikely that the first options arg of the provided memoizer\n    // is an array. In most libs I've looked at, it's an equality function or options object.\n    // Based on that, if `memoizeOptions` _is_ an array, we assume it's a full\n    // user-provided array of options. Otherwise, it must be just the _first_ arg, and so\n    // we wrap it in an array so we can apply it.\n\n    var finalMemoizeOptions = Array.isArray(memoizeOptions) ? memoizeOptions : [memoizeOptions];\n    var dependencies = getDependencies(funcs);\n    var memoizedResultFunc = memoize.apply(void 0, [function recomputationWrapper() {\n      _recomputations++; // apply arguments instead of spreading for performance.\n\n      return resultFunc.apply(null, arguments);\n    }].concat(finalMemoizeOptions)); // If a selector is called with the exact same arguments we don't need to traverse our dependencies again.\n\n    var selector = memoize(function dependenciesChecker() {\n      var params = [];\n      var length = dependencies.length;\n\n      for (var i = 0; i < length; i++) {\n        // apply arguments instead of spreading and mutate a local list of params for performance.\n        // @ts-ignore\n        params.push(dependencies[i].apply(null, arguments));\n      } // apply arguments instead of spreading for performance.\n\n\n      _lastResult = memoizedResultFunc.apply(null, params);\n      return _lastResult;\n    });\n    Object.assign(selector, {\n      resultFunc: resultFunc,\n      memoizedResultFunc: memoizedResultFunc,\n      dependencies: dependencies,\n      lastResult: function lastResult() {\n        return _lastResult;\n      },\n      recomputations: function recomputations() {\n        return _recomputations;\n      },\n      resetRecomputations: function resetRecomputations() {\n        return _recomputations = 0;\n      }\n    });\n    return selector;\n  }; // @ts-ignore\n\n\n  return createSelector;\n}\nexport var createSelector = /* #__PURE__ */createSelectorCreator(defaultMemoize);\n// Manual definition of state and output arguments\nexport var createStructuredSelector = function createStructuredSelector(selectors, selectorCreator) {\n  if (selectorCreator === void 0) {\n    selectorCreator = createSelector;\n  }\n\n  if (typeof selectors !== 'object') {\n    throw new Error('createStructuredSelector expects first argument to be an object ' + (\"where each property is a selector, instead received a \" + typeof selectors));\n  }\n\n  var objectKeys = Object.keys(selectors);\n  var resultSelector = selectorCreator( // @ts-ignore\n  objectKeys.map(function (key) {\n    return selectors[key];\n  }), function () {\n    for (var _len3 = arguments.length, values = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n      values[_key3] = arguments[_key3];\n    }\n\n    return values.reduce(function (composition, value, index) {\n      composition[objectKeys[index]] = value;\n      return composition;\n    }, {});\n  });\n  return resultSelector;\n};","// cheap lodash replacements\n/**\n * drop-in replacement for _.get\n * @param obj\n * @param path\n * @param defaultValue\n */ export function get(obj, path, defaultValue) {\n    return path.split('.').reduce((a, c)=>a && a[c] ? a[c] : defaultValue || null\n    , obj);\n}\n/**\n * drop-in replacement for _.without\n */ export function without(items, item) {\n    return items.filter((i)=>i !== item\n    );\n}\n/**\n * drop-in replacement for _.isString\n * @param input\n */ export function isString(input) {\n    return typeof input === 'string';\n}\n/**\n * drop-in replacement for _.isString\n * @param input\n */ export function isObject(input) {\n    return typeof input === 'object';\n}\n/**\n * replacement for _.xor\n * @param itemsA\n * @param itemsB\n */ export function xor(itemsA, itemsB) {\n    const map = new Map();\n    const insertItem = (item)=>{\n        map.set(item, map.has(item) ? map.get(item) + 1 : 1);\n    };\n    itemsA.forEach(insertItem);\n    itemsB.forEach(insertItem);\n    const result = [];\n    map.forEach((count, key)=>{\n        if (count === 1) {\n            result.push(key);\n        }\n    });\n    return result;\n}\n/**\n * replacement for _.intersection\n * @param itemsA\n * @param itemsB\n */ export function intersection(itemsA, itemsB) {\n    return itemsA.filter((t)=>itemsB.indexOf(t) > -1\n    );\n}\n\n//# sourceMappingURL=js_utils.js.map","export const INIT_COORDS = 'dnd-core/INIT_COORDS';\nexport const BEGIN_DRAG = 'dnd-core/BEGIN_DRAG';\nexport const PUBLISH_DRAG_SOURCE = 'dnd-core/PUBLISH_DRAG_SOURCE';\nexport const HOVER = 'dnd-core/HOVER';\nexport const DROP = 'dnd-core/DROP';\nexport const END_DRAG = 'dnd-core/END_DRAG';\n\n//# sourceMappingURL=types.js.map","import { INIT_COORDS } from '../types.js';\nexport function setClientOffset(clientOffset, sourceClientOffset) {\n    return {\n        type: INIT_COORDS,\n        payload: {\n            sourceClientOffset: sourceClientOffset || null,\n            clientOffset: clientOffset || null\n        }\n    };\n}\n\n//# sourceMappingURL=setClientOffset.js.map","import { invariant } from '@react-dnd/invariant';\nimport { isObject } from '../../utils/js_utils.js';\nimport { setClientOffset } from './local/setClientOffset.js';\nimport { BEGIN_DRAG, INIT_COORDS } from './types.js';\nconst ResetCoordinatesAction = {\n    type: INIT_COORDS,\n    payload: {\n        clientOffset: null,\n        sourceClientOffset: null\n    }\n};\nexport function createBeginDrag(manager) {\n    return function beginDrag(sourceIds = [], options = {\n        publishSource: true\n    }) {\n        const { publishSource =true , clientOffset , getSourceClientOffset ,  } = options;\n        const monitor = manager.getMonitor();\n        const registry = manager.getRegistry();\n        // Initialize the coordinates using the client offset\n        manager.dispatch(setClientOffset(clientOffset));\n        verifyInvariants(sourceIds, monitor, registry);\n        // Get the draggable source\n        const sourceId = getDraggableSource(sourceIds, monitor);\n        if (sourceId == null) {\n            manager.dispatch(ResetCoordinatesAction);\n            return;\n        }\n        // Get the source client offset\n        let sourceClientOffset = null;\n        if (clientOffset) {\n            if (!getSourceClientOffset) {\n                throw new Error('getSourceClientOffset must be defined');\n            }\n            verifyGetSourceClientOffsetIsFunction(getSourceClientOffset);\n            sourceClientOffset = getSourceClientOffset(sourceId);\n        }\n        // Initialize the full coordinates\n        manager.dispatch(setClientOffset(clientOffset, sourceClientOffset));\n        const source = registry.getSource(sourceId);\n        const item = source.beginDrag(monitor, sourceId);\n        // If source.beginDrag returns null, this is an indicator to cancel the drag\n        if (item == null) {\n            return undefined;\n        }\n        verifyItemIsObject(item);\n        registry.pinSource(sourceId);\n        const itemType = registry.getSourceType(sourceId);\n        return {\n            type: BEGIN_DRAG,\n            payload: {\n                itemType,\n                item,\n                sourceId,\n                clientOffset: clientOffset || null,\n                sourceClientOffset: sourceClientOffset || null,\n                isSourcePublic: !!publishSource\n            }\n        };\n    };\n}\nfunction verifyInvariants(sourceIds, monitor, registry) {\n    invariant(!monitor.isDragging(), 'Cannot call beginDrag while dragging.');\n    sourceIds.forEach(function(sourceId) {\n        invariant(registry.getSource(sourceId), 'Expected sourceIds to be registered.');\n    });\n}\nfunction verifyGetSourceClientOffsetIsFunction(getSourceClientOffset) {\n    invariant(typeof getSourceClientOffset === 'function', 'When clientOffset is provided, getSourceClientOffset must be a function.');\n}\nfunction verifyItemIsObject(item) {\n    invariant(isObject(item), 'Item must be an object.');\n}\nfunction getDraggableSource(sourceIds, monitor) {\n    let sourceId = null;\n    for(let i = sourceIds.length - 1; i >= 0; i--){\n        if (monitor.canDragSource(sourceIds[i])) {\n            sourceId = sourceIds[i];\n            break;\n        }\n    }\n    return sourceId;\n}\n\n//# sourceMappingURL=beginDrag.js.map","function _defineProperty(obj, key, value) {\n    if (key in obj) {\n        Object.defineProperty(obj, key, {\n            value: value,\n            enumerable: true,\n            configurable: true,\n            writable: true\n        });\n    } else {\n        obj[key] = value;\n    }\n    return obj;\n}\nfunction _objectSpread(target) {\n    for(var i = 1; i < arguments.length; i++){\n        var source = arguments[i] != null ? arguments[i] : {};\n        var ownKeys = Object.keys(source);\n        if (typeof Object.getOwnPropertySymbols === 'function') {\n            ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function(sym) {\n                return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n            }));\n        }\n        ownKeys.forEach(function(key) {\n            _defineProperty(target, key, source[key]);\n        });\n    }\n    return target;\n}\nimport { invariant } from '@react-dnd/invariant';\nimport { isObject } from '../../utils/js_utils.js';\nimport { DROP } from './types.js';\nexport function createDrop(manager) {\n    return function drop(options = {}) {\n        const monitor = manager.getMonitor();\n        const registry = manager.getRegistry();\n        verifyInvariants(monitor);\n        const targetIds = getDroppableTargets(monitor);\n        // Multiple actions are dispatched here, which is why this doesn't return an action\n        targetIds.forEach((targetId, index)=>{\n            const dropResult = determineDropResult(targetId, index, registry, monitor);\n            const action = {\n                type: DROP,\n                payload: {\n                    dropResult: _objectSpread({}, options, dropResult)\n                }\n            };\n            manager.dispatch(action);\n        });\n    };\n}\nfunction verifyInvariants(monitor) {\n    invariant(monitor.isDragging(), 'Cannot call drop while not dragging.');\n    invariant(!monitor.didDrop(), 'Cannot call drop twice during one drag operation.');\n}\nfunction determineDropResult(targetId, index, registry, monitor) {\n    const target = registry.getTarget(targetId);\n    let dropResult = target ? target.drop(monitor, targetId) : undefined;\n    verifyDropResultType(dropResult);\n    if (typeof dropResult === 'undefined') {\n        dropResult = index === 0 ? {} : monitor.getDropResult();\n    }\n    return dropResult;\n}\nfunction verifyDropResultType(dropResult) {\n    invariant(typeof dropResult === 'undefined' || isObject(dropResult), 'Drop result must either be an object or undefined.');\n}\nfunction getDroppableTargets(monitor) {\n    const targetIds = monitor.getTargetIds().filter(monitor.canDropOnTarget, monitor);\n    targetIds.reverse();\n    return targetIds;\n}\n\n//# sourceMappingURL=drop.js.map","import { invariant } from '@react-dnd/invariant';\nimport { END_DRAG } from './types.js';\nexport function createEndDrag(manager) {\n    return function endDrag() {\n        const monitor = manager.getMonitor();\n        const registry = manager.getRegistry();\n        verifyIsDragging(monitor);\n        const sourceId = monitor.getSourceId();\n        if (sourceId != null) {\n            const source = registry.getSource(sourceId, true);\n            source.endDrag(monitor, sourceId);\n            registry.unpinSource();\n        }\n        return {\n            type: END_DRAG\n        };\n    };\n}\nfunction verifyIsDragging(monitor) {\n    invariant(monitor.isDragging(), 'Cannot call endDrag while not dragging.');\n}\n\n//# sourceMappingURL=endDrag.js.map","export function matchesType(targetType, draggedItemType) {\n    if (draggedItemType === null) {\n        return targetType === null;\n    }\n    return Array.isArray(targetType) ? targetType.some((t)=>t === draggedItemType\n    ) : targetType === draggedItemType;\n}\n\n//# sourceMappingURL=matchesType.js.map","import { invariant } from '@react-dnd/invariant';\nimport { matchesType } from '../../utils/matchesType.js';\nimport { HOVER } from './types.js';\nexport function createHover(manager) {\n    return function hover(targetIdsArg, { clientOffset  } = {}) {\n        verifyTargetIdsIsArray(targetIdsArg);\n        const targetIds = targetIdsArg.slice(0);\n        const monitor = manager.getMonitor();\n        const registry = manager.getRegistry();\n        const draggedItemType = monitor.getItemType();\n        removeNonMatchingTargetIds(targetIds, registry, draggedItemType);\n        checkInvariants(targetIds, monitor, registry);\n        hoverAllTargets(targetIds, monitor, registry);\n        return {\n            type: HOVER,\n            payload: {\n                targetIds,\n                clientOffset: clientOffset || null\n            }\n        };\n    };\n}\nfunction verifyTargetIdsIsArray(targetIdsArg) {\n    invariant(Array.isArray(targetIdsArg), 'Expected targetIds to be an array.');\n}\nfunction checkInvariants(targetIds, monitor, registry) {\n    invariant(monitor.isDragging(), 'Cannot call hover while not dragging.');\n    invariant(!monitor.didDrop(), 'Cannot call hover after drop.');\n    for(let i = 0; i < targetIds.length; i++){\n        const targetId = targetIds[i];\n        invariant(targetIds.lastIndexOf(targetId) === i, 'Expected targetIds to be unique in the passed array.');\n        const target = registry.getTarget(targetId);\n        invariant(target, 'Expected targetIds to be registered.');\n    }\n}\nfunction removeNonMatchingTargetIds(targetIds, registry, draggedItemType) {\n    // Remove those targetIds that don't match the targetType.  This\n    // fixes shallow isOver which would only be non-shallow because of\n    // non-matching targets.\n    for(let i = targetIds.length - 1; i >= 0; i--){\n        const targetId = targetIds[i];\n        const targetType = registry.getTargetType(targetId);\n        if (!matchesType(targetType, draggedItemType)) {\n            targetIds.splice(i, 1);\n        }\n    }\n}\nfunction hoverAllTargets(targetIds, monitor, registry) {\n    // Finally call hover on all matching targets.\n    targetIds.forEach(function(targetId) {\n        const target = registry.getTarget(targetId);\n        target.hover(monitor, targetId);\n    });\n}\n\n//# sourceMappingURL=hover.js.map","import { PUBLISH_DRAG_SOURCE } from './types.js';\nexport function createPublishDragSource(manager) {\n    return function publishDragSource() {\n        const monitor = manager.getMonitor();\n        if (monitor.isDragging()) {\n            return {\n                type: PUBLISH_DRAG_SOURCE\n            };\n        }\n        return;\n    };\n}\n\n//# sourceMappingURL=publishDragSource.js.map","import { createBeginDrag } from './beginDrag.js';\nimport { createDrop } from './drop.js';\nimport { createEndDrag } from './endDrag.js';\nimport { createHover } from './hover.js';\nimport { createPublishDragSource } from './publishDragSource.js';\nexport * from './types.js';\nexport function createDragDropActions(manager) {\n    return {\n        beginDrag: createBeginDrag(manager),\n        publishDragSource: createPublishDragSource(manager),\n        hover: createHover(manager),\n        drop: createDrop(manager),\n        endDrag: createEndDrag(manager)\n    };\n}\n\n//# sourceMappingURL=index.js.map","import { createDragDropActions } from '../actions/dragDrop/index.js';\nexport class DragDropManagerImpl {\n    receiveBackend(backend) {\n        this.backend = backend;\n    }\n    getMonitor() {\n        return this.monitor;\n    }\n    getBackend() {\n        return this.backend;\n    }\n    getRegistry() {\n        return this.monitor.registry;\n    }\n    getActions() {\n        /* eslint-disable-next-line @typescript-eslint/no-this-alias */ const manager = this;\n        const { dispatch  } = this.store;\n        function bindActionCreator(actionCreator) {\n            return (...args)=>{\n                const action = actionCreator.apply(manager, args);\n                if (typeof action !== 'undefined') {\n                    dispatch(action);\n                }\n            };\n        }\n        const actions = createDragDropActions(this);\n        return Object.keys(actions).reduce((boundActions, key)=>{\n            const action = actions[key];\n            boundActions[key] = bindActionCreator(action);\n            return boundActions;\n        }, {});\n    }\n    dispatch(action) {\n        this.store.dispatch(action);\n    }\n    constructor(store, monitor){\n        this.isSetUp = false;\n        this.handleRefCountChange = ()=>{\n            const shouldSetUp = this.store.getState().refCount > 0;\n            if (this.backend) {\n                if (shouldSetUp && !this.isSetUp) {\n                    this.backend.setup();\n                    this.isSetUp = true;\n                } else if (!shouldSetUp && this.isSetUp) {\n                    this.backend.teardown();\n                    this.isSetUp = false;\n                }\n            }\n        };\n        this.store = store;\n        this.monitor = monitor;\n        store.subscribe(this.handleRefCountChange);\n    }\n}\n\n//# sourceMappingURL=DragDropManagerImpl.js.map","/**\n * Coordinate addition\n * @param a The first coordinate\n * @param b The second coordinate\n */ export function add(a, b) {\n    return {\n        x: a.x + b.x,\n        y: a.y + b.y\n    };\n}\n/**\n * Coordinate subtraction\n * @param a The first coordinate\n * @param b The second coordinate\n */ export function subtract(a, b) {\n    return {\n        x: a.x - b.x,\n        y: a.y - b.y\n    };\n}\n/**\n * Returns the cartesian distance of the drag source component's position, based on its position\n * at the time when the current drag operation has started, and the movement difference.\n *\n * Returns null if no item is being dragged.\n *\n * @param state The offset state to compute from\n */ export function getSourceClientOffset(state) {\n    const { clientOffset , initialClientOffset , initialSourceClientOffset  } = state;\n    if (!clientOffset || !initialClientOffset || !initialSourceClientOffset) {\n        return null;\n    }\n    return subtract(add(clientOffset, initialSourceClientOffset), initialClientOffset);\n}\n/**\n * Determines the x,y offset between the client offset and the initial client offset\n *\n * @param state The offset state to compute from\n */ export function getDifferenceFromInitialOffset(state) {\n    const { clientOffset , initialClientOffset  } = state;\n    if (!clientOffset || !initialClientOffset) {\n        return null;\n    }\n    return subtract(clientOffset, initialClientOffset);\n}\n\n//# sourceMappingURL=coords.js.map","import { intersection } from './js_utils.js';\nexport const NONE = [];\nexport const ALL = [];\nNONE.__IS_NONE__ = true;\nALL.__IS_ALL__ = true;\n/**\n * Determines if the given handler IDs are dirty or not.\n *\n * @param dirtyIds The set of dirty handler ids\n * @param handlerIds The set of handler ids to check\n */ export function areDirty(dirtyIds, handlerIds) {\n    if (dirtyIds === NONE) {\n        return false;\n    }\n    if (dirtyIds === ALL || typeof handlerIds === 'undefined') {\n        return true;\n    }\n    const commonIds = intersection(handlerIds, dirtyIds);\n    return commonIds.length > 0;\n}\n\n//# sourceMappingURL=dirtiness.js.map","import { invariant } from '@react-dnd/invariant';\nimport { getDifferenceFromInitialOffset, getSourceClientOffset } from '../utils/coords.js';\nimport { areDirty } from '../utils/dirtiness.js';\nimport { matchesType } from '../utils/matchesType.js';\nexport class DragDropMonitorImpl {\n    subscribeToStateChange(listener, options = {}) {\n        const { handlerIds  } = options;\n        invariant(typeof listener === 'function', 'listener must be a function.');\n        invariant(typeof handlerIds === 'undefined' || Array.isArray(handlerIds), 'handlerIds, when specified, must be an array of strings.');\n        let prevStateId = this.store.getState().stateId;\n        const handleChange = ()=>{\n            const state = this.store.getState();\n            const currentStateId = state.stateId;\n            try {\n                const canSkipListener = currentStateId === prevStateId || currentStateId === prevStateId + 1 && !areDirty(state.dirtyHandlerIds, handlerIds);\n                if (!canSkipListener) {\n                    listener();\n                }\n            } finally{\n                prevStateId = currentStateId;\n            }\n        };\n        return this.store.subscribe(handleChange);\n    }\n    subscribeToOffsetChange(listener) {\n        invariant(typeof listener === 'function', 'listener must be a function.');\n        let previousState = this.store.getState().dragOffset;\n        const handleChange = ()=>{\n            const nextState = this.store.getState().dragOffset;\n            if (nextState === previousState) {\n                return;\n            }\n            previousState = nextState;\n            listener();\n        };\n        return this.store.subscribe(handleChange);\n    }\n    canDragSource(sourceId) {\n        if (!sourceId) {\n            return false;\n        }\n        const source = this.registry.getSource(sourceId);\n        invariant(source, `Expected to find a valid source. sourceId=${sourceId}`);\n        if (this.isDragging()) {\n            return false;\n        }\n        return source.canDrag(this, sourceId);\n    }\n    canDropOnTarget(targetId) {\n        // undefined on initial render\n        if (!targetId) {\n            return false;\n        }\n        const target = this.registry.getTarget(targetId);\n        invariant(target, `Expected to find a valid target. targetId=${targetId}`);\n        if (!this.isDragging() || this.didDrop()) {\n            return false;\n        }\n        const targetType = this.registry.getTargetType(targetId);\n        const draggedItemType = this.getItemType();\n        return matchesType(targetType, draggedItemType) && target.canDrop(this, targetId);\n    }\n    isDragging() {\n        return Boolean(this.getItemType());\n    }\n    isDraggingSource(sourceId) {\n        // undefined on initial render\n        if (!sourceId) {\n            return false;\n        }\n        const source = this.registry.getSource(sourceId, true);\n        invariant(source, `Expected to find a valid source. sourceId=${sourceId}`);\n        if (!this.isDragging() || !this.isSourcePublic()) {\n            return false;\n        }\n        const sourceType = this.registry.getSourceType(sourceId);\n        const draggedItemType = this.getItemType();\n        if (sourceType !== draggedItemType) {\n            return false;\n        }\n        return source.isDragging(this, sourceId);\n    }\n    isOverTarget(targetId, options = {\n        shallow: false\n    }) {\n        // undefined on initial render\n        if (!targetId) {\n            return false;\n        }\n        const { shallow  } = options;\n        if (!this.isDragging()) {\n            return false;\n        }\n        const targetType = this.registry.getTargetType(targetId);\n        const draggedItemType = this.getItemType();\n        if (draggedItemType && !matchesType(targetType, draggedItemType)) {\n            return false;\n        }\n        const targetIds = this.getTargetIds();\n        if (!targetIds.length) {\n            return false;\n        }\n        const index = targetIds.indexOf(targetId);\n        if (shallow) {\n            return index === targetIds.length - 1;\n        } else {\n            return index > -1;\n        }\n    }\n    getItemType() {\n        return this.store.getState().dragOperation.itemType;\n    }\n    getItem() {\n        return this.store.getState().dragOperation.item;\n    }\n    getSourceId() {\n        return this.store.getState().dragOperation.sourceId;\n    }\n    getTargetIds() {\n        return this.store.getState().dragOperation.targetIds;\n    }\n    getDropResult() {\n        return this.store.getState().dragOperation.dropResult;\n    }\n    didDrop() {\n        return this.store.getState().dragOperation.didDrop;\n    }\n    isSourcePublic() {\n        return Boolean(this.store.getState().dragOperation.isSourcePublic);\n    }\n    getInitialClientOffset() {\n        return this.store.getState().dragOffset.initialClientOffset;\n    }\n    getInitialSourceClientOffset() {\n        return this.store.getState().dragOffset.initialSourceClientOffset;\n    }\n    getClientOffset() {\n        return this.store.getState().dragOffset.clientOffset;\n    }\n    getSourceClientOffset() {\n        return getSourceClientOffset(this.store.getState().dragOffset);\n    }\n    getDifferenceFromInitialOffset() {\n        return getDifferenceFromInitialOffset(this.store.getState().dragOffset);\n    }\n    constructor(store, registry){\n        this.store = store;\n        this.registry = registry;\n    }\n}\n\n//# sourceMappingURL=DragDropMonitorImpl.js.map","// Safari 6 and 6.1 for desktop, iPad, and iPhone are the only browsers that\n// have WebKitMutationObserver but not un-prefixed MutationObserver.\n// Must use `global` or `self` instead of `window` to work in both frames and web\n// workers. `global` is a provision of Browserify, Mr, Mrs, or Mop.\n/* globals self */ const scope = typeof global !== 'undefined' ? global : self;\nconst BrowserMutationObserver = scope.MutationObserver || scope.WebKitMutationObserver;\nexport function makeRequestCallFromTimer(callback) {\n    return function requestCall() {\n        // We dispatch a timeout with a specified delay of 0 for engines that\n        // can reliably accommodate that request. This will usually be snapped\n        // to a 4 milisecond delay, but once we're flushing, there's no delay\n        // between events.\n        const timeoutHandle = setTimeout(handleTimer, 0);\n        // However, since this timer gets frequently dropped in Firefox\n        // workers, we enlist an interval handle that will try to fire\n        // an event 20 times per second until it succeeds.\n        const intervalHandle = setInterval(handleTimer, 50);\n        function handleTimer() {\n            // Whichever timer succeeds will cancel both timers and\n            // execute the callback.\n            clearTimeout(timeoutHandle);\n            clearInterval(intervalHandle);\n            callback();\n        }\n    };\n}\n// To request a high priority event, we induce a mutation observer by toggling\n// the text of a text node between \"1\" and \"-1\".\nexport function makeRequestCallFromMutationObserver(callback) {\n    let toggle = 1;\n    const observer = new BrowserMutationObserver(callback);\n    const node = document.createTextNode('');\n    observer.observe(node, {\n        characterData: true\n    });\n    return function requestCall() {\n        toggle = -toggle;\n        node.data = toggle;\n    };\n}\nexport const makeRequestCall = typeof BrowserMutationObserver === 'function' ? // reliably everywhere they are implemented.\n// They are implemented in all modern browsers.\n//\n// - Android 4-4.3\n// - Chrome 26-34\n// - Firefox 14-29\n// - Internet Explorer 11\n// - iPad Safari 6-7.1\n// - iPhone Safari 7-7.1\n// - Safari 6-7\nmakeRequestCallFromMutationObserver : // task queue, are implemented in Internet Explorer 10, Safari 5.0-1, and Opera\n// 11-12, and in web workers in many engines.\n// Although message channels yield to any queued rendering and IO tasks, they\n// would be better than imposing the 4ms delay of timers.\n// However, they do not work reliably in Internet Explorer or Safari.\n// Internet Explorer 10 is the only browser that has setImmediate but does\n// not have MutationObservers.\n// Although setImmediate yields to the browser's renderer, it would be\n// preferrable to falling back to setTimeout since it does not have\n// the minimum 4ms penalty.\n// Unfortunately there appears to be a bug in Internet Explorer 10 Mobile (and\n// Desktop to a lesser extent) that renders both setImmediate and\n// MessageChannel useless for the purposes of ASAP.\n// https://github.com/kriskowal/q/issues/396\n// Timers are implemented universally.\n// We fall back to timers in workers in most engines, and in foreground\n// contexts in the following browsers.\n// However, note that even this simple case requires nuances to operate in a\n// broad spectrum of browsers.\n//\n// - Firefox 3-13\n// - Internet Explorer 6-9\n// - iPad Safari 4.3\n// - Lynx 2.8.7\nmakeRequestCallFromTimer;\n\n//# sourceMappingURL=makeRequestCall.js.map","/* eslint-disable no-restricted-globals, @typescript-eslint/ban-ts-comment, @typescript-eslint/no-unused-vars, @typescript-eslint/no-non-null-assertion */ import { makeRequestCall, makeRequestCallFromTimer } from './makeRequestCall.js';\nexport class AsapQueue {\n    // Use the fastest means possible to execute a task in its own turn, with\n    // priority over other events including IO, animation, reflow, and redraw\n    // events in browsers.\n    //\n    // An exception thrown by a task will permanently interrupt the processing of\n    // subsequent tasks. The higher level `asap` function ensures that if an\n    // exception is thrown by a task, that the task queue will continue flushing as\n    // soon as possible, but if you use `rawAsap` directly, you are responsible to\n    // either ensure that no exceptions are thrown from your task, or to manually\n    // call `rawAsap.requestFlush` if an exception is thrown.\n    enqueueTask(task) {\n        const { queue: q , requestFlush  } = this;\n        if (!q.length) {\n            requestFlush();\n            this.flushing = true;\n        }\n        // Equivalent to push, but avoids a function call.\n        q[q.length] = task;\n    }\n    constructor(){\n        this.queue = [];\n        // We queue errors to ensure they are thrown in right order (FIFO).\n        // Array-as-queue is good enough here, since we are just dealing with exceptions.\n        this.pendingErrors = [];\n        // Once a flush has been requested, no further calls to `requestFlush` are\n        // necessary until the next `flush` completes.\n        // @ts-ignore\n        this.flushing = false;\n        // The position of the next task to execute in the task queue. This is\n        // preserved between calls to `flush` so that it can be resumed if\n        // a task throws an exception.\n        this.index = 0;\n        // If a task schedules additional tasks recursively, the task queue can grow\n        // unbounded. To prevent memory exhaustion, the task queue will periodically\n        // truncate already-completed tasks.\n        this.capacity = 1024;\n        // The flush function processes all tasks that have been scheduled with\n        // `rawAsap` unless and until one of those tasks throws an exception.\n        // If a task throws an exception, `flush` ensures that its state will remain\n        // consistent and will resume where it left off when called again.\n        // However, `flush` does not make any arrangements to be called again if an\n        // exception is thrown.\n        this.flush = ()=>{\n            const { queue: q  } = this;\n            while(this.index < q.length){\n                const currentIndex = this.index;\n                // Advance the index before calling the task. This ensures that we will\n                // begin flushing on the next task the task throws an error.\n                this.index++;\n                q[currentIndex].call();\n                // Prevent leaking memory for long chains of recursive calls to `asap`.\n                // If we call `asap` within tasks scheduled by `asap`, the queue will\n                // grow, but to avoid an O(n) walk for every task we execute, we don't\n                // shift tasks off the queue after they have been executed.\n                // Instead, we periodically shift 1024 tasks off the queue.\n                if (this.index > this.capacity) {\n                    // Manually shift all values starting at the index back to the\n                    // beginning of the queue.\n                    for(let scan = 0, newLength = q.length - this.index; scan < newLength; scan++){\n                        q[scan] = q[scan + this.index];\n                    }\n                    q.length -= this.index;\n                    this.index = 0;\n                }\n            }\n            q.length = 0;\n            this.index = 0;\n            this.flushing = false;\n        };\n        // In a web browser, exceptions are not fatal. However, to avoid\n        // slowing down the queue of pending tasks, we rethrow the error in a\n        // lower priority turn.\n        this.registerPendingError = (err)=>{\n            this.pendingErrors.push(err);\n            this.requestErrorThrow();\n        };\n        // `requestFlush` requests that the high priority event queue be flushed as\n        // soon as possible.\n        // This is useful to prevent an error thrown in a task from stalling the event\n        // queue if the exception handled by Node.jsâ€™s\n        // `process.on(\"uncaughtException\")` or by a domain.\n        // `requestFlush` is implemented using a strategy based on data collected from\n        // every available SauceLabs Selenium web driver worker at time of writing.\n        // https://docs.google.com/spreadsheets/d/1mG-5UYGup5qxGdEMWkhP6BWCz053NUb2E1QoUTU16uA/edit#gid=783724593\n        this.requestFlush = makeRequestCall(this.flush);\n        this.requestErrorThrow = makeRequestCallFromTimer(()=>{\n            // Throw first error\n            if (this.pendingErrors.length) {\n                throw this.pendingErrors.shift();\n            }\n        });\n    }\n} // The message channel technique was discovered by Malte Ubl and was the\n // original foundation for this library.\n // http://www.nonblocking.io/2011/06/windownexttick.html\n // Safari 6.0.5 (at least) intermittently fails to create message ports on a\n // page's first load. Thankfully, this version of Safari supports\n // MutationObservers, so we don't need to fall back in that case.\n // function makeRequestCallFromMessageChannel(callback) {\n //     var channel = new MessageChannel();\n //     channel.port1.onmessage = callback;\n //     return function requestCall() {\n //         channel.port2.postMessage(0);\n //     };\n // }\n // For reasons explained above, we are also unable to use `setImmediate`\n // under any circumstances.\n // Even if we were, there is another bug in Internet Explorer 10.\n // It is not sufficient to assign `setImmediate` to `requestFlush` because\n // `setImmediate` must be called *by name* and therefore must be wrapped in a\n // closure.\n // Never forget.\n // function makeRequestCallFromSetImmediate(callback) {\n //     return function requestCall() {\n //         setImmediate(callback);\n //     };\n // }\n // Safari 6.0 has a problem where timers will get lost while the user is\n // scrolling. This problem does not impact ASAP because Safari 6.0 supports\n // mutation observers, so that implementation is used instead.\n // However, if we ever elect to use timers in Safari, the prevalent work-around\n // is to add a scroll event listener that calls for a flush.\n // `setTimeout` does not call the passed callback if the delay is less than\n // approximately 7 in web workers in Firefox 8 through 18, and sometimes not\n // even then.\n // This is for `asap.js` only.\n // Its name will be periodically randomized to break any code that depends on\n // // its existence.\n // rawAsap.makeRequestCallFromTimer = makeRequestCallFromTimer\n // ASAP was originally a nextTick shim included in Q. This was factored out\n // into this ASAP package. It was later adapted to RSVP which made further\n // amendments. These decisions, particularly to marginalize MessageChannel and\n // to capture the MutationObserver implementation in a closure, were integrated\n // back into ASAP proper.\n // https://github.com/tildeio/rsvp.js/blob/cddf7232546a9cf858524b75cde6f9edf72620a7/lib/rsvp/asap.js\n\n//# sourceMappingURL=AsapQueue.js.map","// `call`, just like a function.\nexport class RawTask {\n    call() {\n        try {\n            this.task && this.task();\n        } catch (error) {\n            this.onError(error);\n        } finally{\n            this.task = null;\n            this.release(this);\n        }\n    }\n    constructor(onError, release){\n        this.onError = onError;\n        this.release = release;\n        this.task = null;\n    }\n}\n\n//# sourceMappingURL=RawTask.js.map","import { RawTask } from './RawTask.js';\nexport class TaskFactory {\n    create(task) {\n        const tasks = this.freeTasks;\n        const t1 = tasks.length ? tasks.pop() : new RawTask(this.onError, (t)=>tasks[tasks.length] = t\n        );\n        t1.task = task;\n        return t1;\n    }\n    constructor(onError){\n        this.onError = onError;\n        this.freeTasks = [];\n    }\n}\n\n//# sourceMappingURL=TaskFactory.js.map","import { AsapQueue } from './AsapQueue.js';\nimport { TaskFactory } from './TaskFactory.js';\nconst asapQueue = new AsapQueue();\nconst taskFactory = new TaskFactory(asapQueue.registerPendingError);\n/**\n * Calls a task as soon as possible after returning, in its own event, with priority\n * over other events like animation, reflow, and repaint. An error thrown from an\n * event will not interrupt, nor even substantially slow down the processing of\n * other events, but will be rather postponed to a lower priority event.\n * @param {{call}} task A callable object, typically a function that takes no\n * arguments.\n */ export function asap(task) {\n    asapQueue.enqueueTask(taskFactory.create(task));\n}\n\n//# sourceMappingURL=asap.js.map","export const ADD_SOURCE = 'dnd-core/ADD_SOURCE';\nexport const ADD_TARGET = 'dnd-core/ADD_TARGET';\nexport const REMOVE_SOURCE = 'dnd-core/REMOVE_SOURCE';\nexport const REMOVE_TARGET = 'dnd-core/REMOVE_TARGET';\nexport function addSource(sourceId) {\n    return {\n        type: ADD_SOURCE,\n        payload: {\n            sourceId\n        }\n    };\n}\nexport function addTarget(targetId) {\n    return {\n        type: ADD_TARGET,\n        payload: {\n            targetId\n        }\n    };\n}\nexport function removeSource(sourceId) {\n    return {\n        type: REMOVE_SOURCE,\n        payload: {\n            sourceId\n        }\n    };\n}\nexport function removeTarget(targetId) {\n    return {\n        type: REMOVE_TARGET,\n        payload: {\n            targetId\n        }\n    };\n}\n\n//# sourceMappingURL=registry.js.map","import { invariant } from '@react-dnd/invariant';\nexport function validateSourceContract(source) {\n    invariant(typeof source.canDrag === 'function', 'Expected canDrag to be a function.');\n    invariant(typeof source.beginDrag === 'function', 'Expected beginDrag to be a function.');\n    invariant(typeof source.endDrag === 'function', 'Expected endDrag to be a function.');\n}\nexport function validateTargetContract(target) {\n    invariant(typeof target.canDrop === 'function', 'Expected canDrop to be a function.');\n    invariant(typeof target.hover === 'function', 'Expected hover to be a function.');\n    invariant(typeof target.drop === 'function', 'Expected beginDrag to be a function.');\n}\nexport function validateType(type, allowArray) {\n    if (allowArray && Array.isArray(type)) {\n        type.forEach((t)=>validateType(t, false)\n        );\n        return;\n    }\n    invariant(typeof type === 'string' || typeof type === 'symbol', allowArray ? 'Type can only be a string, a symbol, or an array of either.' : 'Type can only be a string or a symbol.');\n}\n\n//# sourceMappingURL=contracts.js.map","export var HandlerRole;\n(function(HandlerRole) {\n    HandlerRole[\"SOURCE\"] = \"SOURCE\";\n    HandlerRole[\"TARGET\"] = \"TARGET\";\n})(HandlerRole || (HandlerRole = {}));\n\n//# sourceMappingURL=interfaces.js.map","let nextUniqueId = 0;\nexport function getNextUniqueId() {\n    return nextUniqueId++;\n}\n\n//# sourceMappingURL=getNextUniqueId.js.map","import { asap } from '@react-dnd/asap';\nimport { invariant } from '@react-dnd/invariant';\nimport { addSource, addTarget, removeSource, removeTarget } from '../actions/registry.js';\nimport { validateSourceContract, validateTargetContract, validateType } from '../contracts.js';\nimport { HandlerRole } from '../interfaces.js';\nimport { getNextUniqueId } from '../utils/getNextUniqueId.js';\nfunction getNextHandlerId(role) {\n    const id = getNextUniqueId().toString();\n    switch(role){\n        case HandlerRole.SOURCE:\n            return `S${id}`;\n        case HandlerRole.TARGET:\n            return `T${id}`;\n        default:\n            throw new Error(`Unknown Handler Role: ${role}`);\n    }\n}\nfunction parseRoleFromHandlerId(handlerId) {\n    switch(handlerId[0]){\n        case 'S':\n            return HandlerRole.SOURCE;\n        case 'T':\n            return HandlerRole.TARGET;\n        default:\n            throw new Error(`Cannot parse handler ID: ${handlerId}`);\n    }\n}\nfunction mapContainsValue(map, searchValue) {\n    const entries = map.entries();\n    let isDone = false;\n    do {\n        const { done , value: [, value] ,  } = entries.next();\n        if (value === searchValue) {\n            return true;\n        }\n        isDone = !!done;\n    }while (!isDone)\n    return false;\n}\nexport class HandlerRegistryImpl {\n    addSource(type, source) {\n        validateType(type);\n        validateSourceContract(source);\n        const sourceId = this.addHandler(HandlerRole.SOURCE, type, source);\n        this.store.dispatch(addSource(sourceId));\n        return sourceId;\n    }\n    addTarget(type, target) {\n        validateType(type, true);\n        validateTargetContract(target);\n        const targetId = this.addHandler(HandlerRole.TARGET, type, target);\n        this.store.dispatch(addTarget(targetId));\n        return targetId;\n    }\n    containsHandler(handler) {\n        return mapContainsValue(this.dragSources, handler) || mapContainsValue(this.dropTargets, handler);\n    }\n    getSource(sourceId, includePinned = false) {\n        invariant(this.isSourceId(sourceId), 'Expected a valid source ID.');\n        const isPinned = includePinned && sourceId === this.pinnedSourceId;\n        const source = isPinned ? this.pinnedSource : this.dragSources.get(sourceId);\n        return source;\n    }\n    getTarget(targetId) {\n        invariant(this.isTargetId(targetId), 'Expected a valid target ID.');\n        return this.dropTargets.get(targetId);\n    }\n    getSourceType(sourceId) {\n        invariant(this.isSourceId(sourceId), 'Expected a valid source ID.');\n        return this.types.get(sourceId);\n    }\n    getTargetType(targetId) {\n        invariant(this.isTargetId(targetId), 'Expected a valid target ID.');\n        return this.types.get(targetId);\n    }\n    isSourceId(handlerId) {\n        const role = parseRoleFromHandlerId(handlerId);\n        return role === HandlerRole.SOURCE;\n    }\n    isTargetId(handlerId) {\n        const role = parseRoleFromHandlerId(handlerId);\n        return role === HandlerRole.TARGET;\n    }\n    removeSource(sourceId) {\n        invariant(this.getSource(sourceId), 'Expected an existing source.');\n        this.store.dispatch(removeSource(sourceId));\n        asap(()=>{\n            this.dragSources.delete(sourceId);\n            this.types.delete(sourceId);\n        });\n    }\n    removeTarget(targetId) {\n        invariant(this.getTarget(targetId), 'Expected an existing target.');\n        this.store.dispatch(removeTarget(targetId));\n        this.dropTargets.delete(targetId);\n        this.types.delete(targetId);\n    }\n    pinSource(sourceId) {\n        const source = this.getSource(sourceId);\n        invariant(source, 'Expected an existing source.');\n        this.pinnedSourceId = sourceId;\n        this.pinnedSource = source;\n    }\n    unpinSource() {\n        invariant(this.pinnedSource, 'No source is pinned at the time.');\n        this.pinnedSourceId = null;\n        this.pinnedSource = null;\n    }\n    addHandler(role, type, handler) {\n        const id = getNextHandlerId(role);\n        this.types.set(id, type);\n        if (role === HandlerRole.SOURCE) {\n            this.dragSources.set(id, handler);\n        } else if (role === HandlerRole.TARGET) {\n            this.dropTargets.set(id, handler);\n        }\n        return id;\n    }\n    constructor(store){\n        this.types = new Map();\n        this.dragSources = new Map();\n        this.dropTargets = new Map();\n        this.pinnedSourceId = null;\n        this.pinnedSource = null;\n        this.store = store;\n    }\n}\n\n//# sourceMappingURL=HandlerRegistryImpl.js.map","export const strictEquality = (a, b)=>a === b\n;\n/**\n * Determine if two cartesian coordinate offsets are equal\n * @param offsetA\n * @param offsetB\n */ export function areCoordsEqual(offsetA, offsetB) {\n    if (!offsetA && !offsetB) {\n        return true;\n    } else if (!offsetA || !offsetB) {\n        return false;\n    } else {\n        return offsetA.x === offsetB.x && offsetA.y === offsetB.y;\n    }\n}\n/**\n * Determines if two arrays of items are equal\n * @param a The first array of items\n * @param b The second array of items\n */ export function areArraysEqual(a, b, isEqual = strictEquality) {\n    if (a.length !== b.length) {\n        return false;\n    }\n    for(let i = 0; i < a.length; ++i){\n        if (!isEqual(a[i], b[i])) {\n            return false;\n        }\n    }\n    return true;\n}\n\n//# sourceMappingURL=equality.js.map","import { BEGIN_DRAG, DROP, END_DRAG, HOVER, PUBLISH_DRAG_SOURCE } from '../actions/dragDrop/index.js';\nimport { ADD_SOURCE, ADD_TARGET, REMOVE_SOURCE, REMOVE_TARGET } from '../actions/registry.js';\nimport { ALL, NONE } from '../utils/dirtiness.js';\nimport { areArraysEqual } from '../utils/equality.js';\nimport { xor } from '../utils/js_utils.js';\nexport function reduce(// eslint-disable-next-line @typescript-eslint/no-unused-vars\n_state = NONE, action) {\n    switch(action.type){\n        case HOVER:\n            break;\n        case ADD_SOURCE:\n        case ADD_TARGET:\n        case REMOVE_TARGET:\n        case REMOVE_SOURCE:\n            return NONE;\n        case BEGIN_DRAG:\n        case PUBLISH_DRAG_SOURCE:\n        case END_DRAG:\n        case DROP:\n        default:\n            return ALL;\n    }\n    const { targetIds =[] , prevTargetIds =[]  } = action.payload;\n    const result = xor(targetIds, prevTargetIds);\n    const didChange = result.length > 0 || !areArraysEqual(targetIds, prevTargetIds);\n    if (!didChange) {\n        return NONE;\n    }\n    // Check the target ids at the innermost position. If they are valid, add them\n    // to the result\n    const prevInnermostTargetId = prevTargetIds[prevTargetIds.length - 1];\n    const innermostTargetId = targetIds[targetIds.length - 1];\n    if (prevInnermostTargetId !== innermostTargetId) {\n        if (prevInnermostTargetId) {\n            result.push(prevInnermostTargetId);\n        }\n        if (innermostTargetId) {\n            result.push(innermostTargetId);\n        }\n    }\n    return result;\n}\n\n//# sourceMappingURL=dirtyHandlerIds.js.map","function _defineProperty(obj, key, value) {\n    if (key in obj) {\n        Object.defineProperty(obj, key, {\n            value: value,\n            enumerable: true,\n            configurable: true,\n            writable: true\n        });\n    } else {\n        obj[key] = value;\n    }\n    return obj;\n}\nfunction _objectSpread(target) {\n    for(var i = 1; i < arguments.length; i++){\n        var source = arguments[i] != null ? arguments[i] : {};\n        var ownKeys = Object.keys(source);\n        if (typeof Object.getOwnPropertySymbols === 'function') {\n            ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function(sym) {\n                return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n            }));\n        }\n        ownKeys.forEach(function(key) {\n            _defineProperty(target, key, source[key]);\n        });\n    }\n    return target;\n}\nimport { BEGIN_DRAG, DROP, END_DRAG, HOVER, INIT_COORDS } from '../actions/dragDrop/index.js';\nimport { areCoordsEqual } from '../utils/equality.js';\nconst initialState = {\n    initialSourceClientOffset: null,\n    initialClientOffset: null,\n    clientOffset: null\n};\nexport function reduce(state = initialState, action) {\n    const { payload  } = action;\n    switch(action.type){\n        case INIT_COORDS:\n        case BEGIN_DRAG:\n            return {\n                initialSourceClientOffset: payload.sourceClientOffset,\n                initialClientOffset: payload.clientOffset,\n                clientOffset: payload.clientOffset\n            };\n        case HOVER:\n            if (areCoordsEqual(state.clientOffset, payload.clientOffset)) {\n                return state;\n            }\n            return _objectSpread({}, state, {\n                clientOffset: payload.clientOffset\n            });\n        case END_DRAG:\n        case DROP:\n            return initialState;\n        default:\n            return state;\n    }\n}\n\n//# sourceMappingURL=dragOffset.js.map","function _defineProperty(obj, key, value) {\n    if (key in obj) {\n        Object.defineProperty(obj, key, {\n            value: value,\n            enumerable: true,\n            configurable: true,\n            writable: true\n        });\n    } else {\n        obj[key] = value;\n    }\n    return obj;\n}\nfunction _objectSpread(target) {\n    for(var i = 1; i < arguments.length; i++){\n        var source = arguments[i] != null ? arguments[i] : {};\n        var ownKeys = Object.keys(source);\n        if (typeof Object.getOwnPropertySymbols === 'function') {\n            ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function(sym) {\n                return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n            }));\n        }\n        ownKeys.forEach(function(key) {\n            _defineProperty(target, key, source[key]);\n        });\n    }\n    return target;\n}\nimport { BEGIN_DRAG, DROP, END_DRAG, HOVER, PUBLISH_DRAG_SOURCE } from '../actions/dragDrop/index.js';\nimport { REMOVE_TARGET } from '../actions/registry.js';\nimport { without } from '../utils/js_utils.js';\nconst initialState = {\n    itemType: null,\n    item: null,\n    sourceId: null,\n    targetIds: [],\n    dropResult: null,\n    didDrop: false,\n    isSourcePublic: null\n};\nexport function reduce(state = initialState, action) {\n    const { payload  } = action;\n    switch(action.type){\n        case BEGIN_DRAG:\n            return _objectSpread({}, state, {\n                itemType: payload.itemType,\n                item: payload.item,\n                sourceId: payload.sourceId,\n                isSourcePublic: payload.isSourcePublic,\n                dropResult: null,\n                didDrop: false\n            });\n        case PUBLISH_DRAG_SOURCE:\n            return _objectSpread({}, state, {\n                isSourcePublic: true\n            });\n        case HOVER:\n            return _objectSpread({}, state, {\n                targetIds: payload.targetIds\n            });\n        case REMOVE_TARGET:\n            if (state.targetIds.indexOf(payload.targetId) === -1) {\n                return state;\n            }\n            return _objectSpread({}, state, {\n                targetIds: without(state.targetIds, payload.targetId)\n            });\n        case DROP:\n            return _objectSpread({}, state, {\n                dropResult: payload.dropResult,\n                didDrop: true,\n                targetIds: []\n            });\n        case END_DRAG:\n            return _objectSpread({}, state, {\n                itemType: null,\n                item: null,\n                sourceId: null,\n                dropResult: null,\n                didDrop: false,\n                isSourcePublic: null,\n                targetIds: []\n            });\n        default:\n            return state;\n    }\n}\n\n//# sourceMappingURL=dragOperation.js.map","import { ADD_SOURCE, ADD_TARGET, REMOVE_SOURCE, REMOVE_TARGET } from '../actions/registry.js';\nexport function reduce(state = 0, action) {\n    switch(action.type){\n        case ADD_SOURCE:\n        case ADD_TARGET:\n            return state + 1;\n        case REMOVE_SOURCE:\n        case REMOVE_TARGET:\n            return state - 1;\n        default:\n            return state;\n    }\n}\n\n//# sourceMappingURL=refCount.js.map","export function reduce(state = 0) {\n    return state + 1;\n}\n\n//# sourceMappingURL=stateId.js.map","function _defineProperty(obj, key, value) {\n    if (key in obj) {\n        Object.defineProperty(obj, key, {\n            value: value,\n            enumerable: true,\n            configurable: true,\n            writable: true\n        });\n    } else {\n        obj[key] = value;\n    }\n    return obj;\n}\nfunction _objectSpread(target) {\n    for(var i = 1; i < arguments.length; i++){\n        var source = arguments[i] != null ? arguments[i] : {};\n        var ownKeys = Object.keys(source);\n        if (typeof Object.getOwnPropertySymbols === 'function') {\n            ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function(sym) {\n                return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n            }));\n        }\n        ownKeys.forEach(function(key) {\n            _defineProperty(target, key, source[key]);\n        });\n    }\n    return target;\n}\nimport { get } from '../utils/js_utils.js';\nimport { reduce as dirtyHandlerIds } from './dirtyHandlerIds.js';\nimport { reduce as dragOffset } from './dragOffset.js';\nimport { reduce as dragOperation } from './dragOperation.js';\nimport { reduce as refCount } from './refCount.js';\nimport { reduce as stateId } from './stateId.js';\nexport function reduce(state = {}, action) {\n    return {\n        dirtyHandlerIds: dirtyHandlerIds(state.dirtyHandlerIds, {\n            type: action.type,\n            payload: _objectSpread({}, action.payload, {\n                prevTargetIds: get(state, 'dragOperation.targetIds', [])\n            })\n        }),\n        dragOffset: dragOffset(state.dragOffset, action),\n        refCount: refCount(state.refCount, action),\n        dragOperation: dragOperation(state.dragOperation, action),\n        stateId: stateId(state.stateId)\n    };\n}\n\n//# sourceMappingURL=index.js.map","import { createStore } from 'redux';\nimport { DragDropManagerImpl } from './classes/DragDropManagerImpl.js';\nimport { DragDropMonitorImpl } from './classes/DragDropMonitorImpl.js';\nimport { HandlerRegistryImpl } from './classes/HandlerRegistryImpl.js';\nimport { reduce } from './reducers/index.js';\nexport function createDragDropManager(backendFactory, globalContext = undefined, backendOptions = {}, debugMode = false) {\n    const store = makeStoreInstance(debugMode);\n    const monitor = new DragDropMonitorImpl(store, new HandlerRegistryImpl(store));\n    const manager = new DragDropManagerImpl(store, monitor);\n    const backend = backendFactory(manager, globalContext, backendOptions);\n    manager.receiveBackend(backend);\n    return manager;\n}\nfunction makeStoreInstance(debugMode) {\n    // TODO: if we ever make a react-native version of this,\n    // we'll need to consider how to pull off dev-tooling\n    const reduxDevTools = typeof window !== 'undefined' && window.__REDUX_DEVTOOLS_EXTENSION__;\n    return createStore(reduce, debugMode && reduxDevTools && reduxDevTools({\n        name: 'dnd-core',\n        instanceId: 'dnd-core'\n    }));\n}\n\n//# sourceMappingURL=createDragDropManager.js.map","function _objectWithoutProperties(source, excluded) {\n    if (source == null) return {};\n    var target = _objectWithoutPropertiesLoose(source, excluded);\n    var key, i;\n    if (Object.getOwnPropertySymbols) {\n        var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n        for(i = 0; i < sourceSymbolKeys.length; i++){\n            key = sourceSymbolKeys[i];\n            if (excluded.indexOf(key) >= 0) continue;\n            if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n            target[key] = source[key];\n        }\n    }\n    return target;\n}\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n    if (source == null) return {};\n    var target = {};\n    var sourceKeys = Object.keys(source);\n    var key, i;\n    for(i = 0; i < sourceKeys.length; i++){\n        key = sourceKeys[i];\n        if (excluded.indexOf(key) >= 0) continue;\n        target[key] = source[key];\n    }\n    return target;\n}\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { createDragDropManager } from 'dnd-core';\nimport { memo, useEffect } from 'react';\nimport { DndContext } from './DndContext.js';\nlet refCount = 0;\nconst INSTANCE_SYM = Symbol.for('__REACT_DND_CONTEXT_INSTANCE__');\nvar DndProvider = /*#__PURE__*/ memo(function DndProvider(_param) {\n    var { children  } = _param, props = _objectWithoutProperties(_param, [\n        \"children\"\n    ]);\n    const [manager, isGlobalInstance] = getDndContextValue(props) // memoized from props\n    ;\n    /**\n\t\t * If the global context was used to store the DND context\n\t\t * then where theres no more references to it we should\n\t\t * clean it up to avoid memory leaks\n\t\t */ useEffect(()=>{\n        if (isGlobalInstance) {\n            const context = getGlobalContext();\n            ++refCount;\n            return ()=>{\n                if (--refCount === 0) {\n                    context[INSTANCE_SYM] = null;\n                }\n            };\n        }\n        return;\n    }, []);\n    return /*#__PURE__*/ _jsx(DndContext.Provider, {\n        value: manager,\n        children: children\n    });\n});\n/**\n * A React component that provides the React-DnD context\n */ export { DndProvider,  };\nfunction getDndContextValue(props) {\n    if ('manager' in props) {\n        const manager = {\n            dragDropManager: props.manager\n        };\n        return [\n            manager,\n            false\n        ];\n    }\n    const manager = createSingletonDndContext(props.backend, props.context, props.options, props.debugMode);\n    const isGlobalInstance = !props.context;\n    return [\n        manager,\n        isGlobalInstance\n    ];\n}\nfunction createSingletonDndContext(backend, context = getGlobalContext(), options, debugMode) {\n    const ctx = context;\n    if (!ctx[INSTANCE_SYM]) {\n        ctx[INSTANCE_SYM] = {\n            dragDropManager: createDragDropManager(backend, context, options, debugMode)\n        };\n    }\n    return ctx[INSTANCE_SYM];\n}\nfunction getGlobalContext() {\n    return typeof global !== 'undefined' ? global : window;\n}\n\n//# sourceMappingURL=DndProvider.js.map","\"use client\";\n\nimport createSvgIcon from './utils/createSvgIcon';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2M12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8\"\n}), 'ErrorOutlineOutlined');","// cheap lodash replacements\nexport function memoize(fn) {\n    let result = null;\n    const memoized = ()=>{\n        if (result == null) {\n            result = fn();\n        }\n        return result;\n    };\n    return memoized;\n}\n/**\n * drop-in replacement for _.without\n */ export function without(items, item) {\n    return items.filter((i)=>i !== item\n    );\n}\nexport function union(itemsA, itemsB) {\n    const set = new Set();\n    const insertItem = (item)=>set.add(item)\n    ;\n    itemsA.forEach(insertItem);\n    itemsB.forEach(insertItem);\n    const result = [];\n    set.forEach((key)=>result.push(key)\n    );\n    return result;\n}\n\n//# sourceMappingURL=js_utils.js.map","import { union, without } from './utils/js_utils.js';\nexport class EnterLeaveCounter {\n    enter(enteringNode) {\n        const previousLength = this.entered.length;\n        const isNodeEntered = (node)=>this.isNodeInDocument(node) && (!node.contains || node.contains(enteringNode))\n        ;\n        this.entered = union(this.entered.filter(isNodeEntered), [\n            enteringNode\n        ]);\n        return previousLength === 0 && this.entered.length > 0;\n    }\n    leave(leavingNode) {\n        const previousLength = this.entered.length;\n        this.entered = without(this.entered.filter(this.isNodeInDocument), leavingNode);\n        return previousLength > 0 && this.entered.length === 0;\n    }\n    reset() {\n        this.entered = [];\n    }\n    constructor(isNodeInDocument){\n        this.entered = [];\n        this.isNodeInDocument = isNodeInDocument;\n    }\n}\n\n//# sourceMappingURL=EnterLeaveCounter.js.map","export class NativeDragSource {\n    initializeExposedProperties() {\n        Object.keys(this.config.exposeProperties).forEach((property)=>{\n            Object.defineProperty(this.item, property, {\n                configurable: true,\n                enumerable: true,\n                get () {\n                    // eslint-disable-next-line no-console\n                    console.warn(`Browser doesn't allow reading \"${property}\" until the drop event.`);\n                    return null;\n                }\n            });\n        });\n    }\n    loadDataTransfer(dataTransfer) {\n        if (dataTransfer) {\n            const newProperties = {};\n            Object.keys(this.config.exposeProperties).forEach((property)=>{\n                const propertyFn = this.config.exposeProperties[property];\n                if (propertyFn != null) {\n                    newProperties[property] = {\n                        value: propertyFn(dataTransfer, this.config.matchesTypes),\n                        configurable: true,\n                        enumerable: true\n                    };\n                }\n            });\n            Object.defineProperties(this.item, newProperties);\n        }\n    }\n    canDrag() {\n        return true;\n    }\n    beginDrag() {\n        return this.item;\n    }\n    isDragging(monitor, handle) {\n        return handle === monitor.getSourceId();\n    }\n    endDrag() {\n    // empty\n    }\n    constructor(config){\n        this.config = config;\n        this.item = {};\n        this.initializeExposedProperties();\n    }\n}\n\n//# sourceMappingURL=NativeDragSource.js.map","export const FILE = '__NATIVE_FILE__';\nexport const URL = '__NATIVE_URL__';\nexport const TEXT = '__NATIVE_TEXT__';\nexport const HTML = '__NATIVE_HTML__';\n\n//# sourceMappingURL=NativeTypes.js.map","export function getDataFromDataTransfer(dataTransfer, typesToTry, defaultValue) {\n    const result = typesToTry.reduce((resultSoFar, typeToTry)=>resultSoFar || dataTransfer.getData(typeToTry)\n    , '');\n    return result != null ? result : defaultValue;\n}\n\n//# sourceMappingURL=getDataFromDataTransfer.js.map","import * as NativeTypes from '../NativeTypes.js';\nimport { getDataFromDataTransfer } from './getDataFromDataTransfer.js';\nexport const nativeTypesConfig = {\n    [NativeTypes.FILE]: {\n        exposeProperties: {\n            files: (dataTransfer)=>Array.prototype.slice.call(dataTransfer.files)\n            ,\n            items: (dataTransfer)=>dataTransfer.items\n            ,\n            dataTransfer: (dataTransfer)=>dataTransfer\n        },\n        matchesTypes: [\n            'Files'\n        ]\n    },\n    [NativeTypes.HTML]: {\n        exposeProperties: {\n            html: (dataTransfer, matchesTypes)=>getDataFromDataTransfer(dataTransfer, matchesTypes, '')\n            ,\n            dataTransfer: (dataTransfer)=>dataTransfer\n        },\n        matchesTypes: [\n            'Html',\n            'text/html'\n        ]\n    },\n    [NativeTypes.URL]: {\n        exposeProperties: {\n            urls: (dataTransfer, matchesTypes)=>getDataFromDataTransfer(dataTransfer, matchesTypes, '').split('\\n')\n            ,\n            dataTransfer: (dataTransfer)=>dataTransfer\n        },\n        matchesTypes: [\n            'Url',\n            'text/uri-list'\n        ]\n    },\n    [NativeTypes.TEXT]: {\n        exposeProperties: {\n            text: (dataTransfer, matchesTypes)=>getDataFromDataTransfer(dataTransfer, matchesTypes, '')\n            ,\n            dataTransfer: (dataTransfer)=>dataTransfer\n        },\n        matchesTypes: [\n            'Text',\n            'text/plain'\n        ]\n    }\n};\n\n//# sourceMappingURL=nativeTypesConfig.js.map","import { NativeDragSource } from './NativeDragSource.js';\nimport { nativeTypesConfig } from './nativeTypesConfig.js';\nexport function createNativeDragSource(type, dataTransfer) {\n    const config = nativeTypesConfig[type];\n    if (!config) {\n        throw new Error(`native type ${type} has no configuration`);\n    }\n    const result = new NativeDragSource(config);\n    result.loadDataTransfer(dataTransfer);\n    return result;\n}\nexport function matchNativeItemType(dataTransfer) {\n    if (!dataTransfer) {\n        return null;\n    }\n    const dataTransferTypes = Array.prototype.slice.call(dataTransfer.types || []);\n    return Object.keys(nativeTypesConfig).filter((nativeItemType)=>{\n        const typeConfig = nativeTypesConfig[nativeItemType];\n        if (!(typeConfig === null || typeConfig === void 0 ? void 0 : typeConfig.matchesTypes)) {\n            return false;\n        }\n        return typeConfig.matchesTypes.some((t)=>dataTransferTypes.indexOf(t) > -1\n        );\n    })[0] || null;\n}\n\n//# sourceMappingURL=index.js.map","import { memoize } from './utils/js_utils.js';\nexport const isFirefox = memoize(()=>/firefox/i.test(navigator.userAgent)\n);\nexport const isSafari = memoize(()=>Boolean(window.safari)\n);\n\n//# sourceMappingURL=BrowserDetector.js.map","export class MonotonicInterpolant {\n    interpolate(x) {\n        const { xs , ys , c1s , c2s , c3s  } = this;\n        // The rightmost point in the dataset should give an exact result\n        let i = xs.length - 1;\n        if (x === xs[i]) {\n            return ys[i];\n        }\n        // Search for the interval x is in, returning the corresponding y if x is one of the original xs\n        let low = 0;\n        let high = c3s.length - 1;\n        let mid;\n        while(low <= high){\n            mid = Math.floor(0.5 * (low + high));\n            const xHere = xs[mid];\n            if (xHere < x) {\n                low = mid + 1;\n            } else if (xHere > x) {\n                high = mid - 1;\n            } else {\n                return ys[mid];\n            }\n        }\n        i = Math.max(0, high);\n        // Interpolate\n        const diff = x - xs[i];\n        const diffSq = diff * diff;\n        return ys[i] + c1s[i] * diff + c2s[i] * diffSq + c3s[i] * diff * diffSq;\n    }\n    constructor(xs, ys){\n        const { length  } = xs;\n        // Rearrange xs and ys so that xs is sorted\n        const indexes = [];\n        for(let i = 0; i < length; i++){\n            indexes.push(i);\n        }\n        indexes.sort((a, b)=>xs[a] < xs[b] ? -1 : 1\n        );\n        // Get consecutive differences and slopes\n        const dys = [];\n        const dxs = [];\n        const ms = [];\n        let dx;\n        let dy;\n        for(let i1 = 0; i1 < length - 1; i1++){\n            dx = xs[i1 + 1] - xs[i1];\n            dy = ys[i1 + 1] - ys[i1];\n            dxs.push(dx);\n            dys.push(dy);\n            ms.push(dy / dx);\n        }\n        // Get degree-1 coefficients\n        const c1s = [\n            ms[0]\n        ];\n        for(let i2 = 0; i2 < dxs.length - 1; i2++){\n            const m2 = ms[i2];\n            const mNext = ms[i2 + 1];\n            if (m2 * mNext <= 0) {\n                c1s.push(0);\n            } else {\n                dx = dxs[i2];\n                const dxNext = dxs[i2 + 1];\n                const common = dx + dxNext;\n                c1s.push(3 * common / ((common + dxNext) / m2 + (common + dx) / mNext));\n            }\n        }\n        c1s.push(ms[ms.length - 1]);\n        // Get degree-2 and degree-3 coefficients\n        const c2s = [];\n        const c3s = [];\n        let m;\n        for(let i3 = 0; i3 < c1s.length - 1; i3++){\n            m = ms[i3];\n            const c1 = c1s[i3];\n            const invDx = 1 / dxs[i3];\n            const common = c1 + c1s[i3 + 1] - m - m;\n            c2s.push((m - c1 - common) * invDx);\n            c3s.push(common * invDx * invDx);\n        }\n        this.xs = xs;\n        this.ys = ys;\n        this.c1s = c1s;\n        this.c2s = c2s;\n        this.c3s = c3s;\n    }\n}\n\n//# sourceMappingURL=MonotonicInterpolant.js.map","import { isFirefox, isSafari } from './BrowserDetector.js';\nimport { MonotonicInterpolant } from './MonotonicInterpolant.js';\nconst ELEMENT_NODE = 1;\nexport function getNodeClientOffset(node) {\n    const el = node.nodeType === ELEMENT_NODE ? node : node.parentElement;\n    if (!el) {\n        return null;\n    }\n    const { top , left  } = el.getBoundingClientRect();\n    return {\n        x: left,\n        y: top\n    };\n}\nexport function getEventClientOffset(e) {\n    return {\n        x: e.clientX,\n        y: e.clientY\n    };\n}\nfunction isImageNode(node) {\n    var ref;\n    return node.nodeName === 'IMG' && (isFirefox() || !((ref = document.documentElement) === null || ref === void 0 ? void 0 : ref.contains(node)));\n}\nfunction getDragPreviewSize(isImage, dragPreview, sourceWidth, sourceHeight) {\n    let dragPreviewWidth = isImage ? dragPreview.width : sourceWidth;\n    let dragPreviewHeight = isImage ? dragPreview.height : sourceHeight;\n    // Work around @2x coordinate discrepancies in browsers\n    if (isSafari() && isImage) {\n        dragPreviewHeight /= window.devicePixelRatio;\n        dragPreviewWidth /= window.devicePixelRatio;\n    }\n    return {\n        dragPreviewWidth,\n        dragPreviewHeight\n    };\n}\nexport function getDragPreviewOffset(sourceNode, dragPreview, clientOffset, anchorPoint, offsetPoint) {\n    // The browsers will use the image intrinsic size under different conditions.\n    // Firefox only cares if it's an image, but WebKit also wants it to be detached.\n    const isImage = isImageNode(dragPreview);\n    const dragPreviewNode = isImage ? sourceNode : dragPreview;\n    const dragPreviewNodeOffsetFromClient = getNodeClientOffset(dragPreviewNode);\n    const offsetFromDragPreview = {\n        x: clientOffset.x - dragPreviewNodeOffsetFromClient.x,\n        y: clientOffset.y - dragPreviewNodeOffsetFromClient.y\n    };\n    const { offsetWidth: sourceWidth , offsetHeight: sourceHeight  } = sourceNode;\n    const { anchorX , anchorY  } = anchorPoint;\n    const { dragPreviewWidth , dragPreviewHeight  } = getDragPreviewSize(isImage, dragPreview, sourceWidth, sourceHeight);\n    const calculateYOffset = ()=>{\n        const interpolantY = new MonotonicInterpolant([\n            0,\n            0.5,\n            1\n        ], [\n            // Dock to the top\n            offsetFromDragPreview.y,\n            // Align at the center\n            (offsetFromDragPreview.y / sourceHeight) * dragPreviewHeight,\n            // Dock to the bottom\n            offsetFromDragPreview.y + dragPreviewHeight - sourceHeight, \n        ]);\n        let y = interpolantY.interpolate(anchorY);\n        // Work around Safari 8 positioning bug\n        if (isSafari() && isImage) {\n            // We'll have to wait for @3x to see if this is entirely correct\n            y += (window.devicePixelRatio - 1) * dragPreviewHeight;\n        }\n        return y;\n    };\n    const calculateXOffset = ()=>{\n        // Interpolate coordinates depending on anchor point\n        // If you know a simpler way to do this, let me know\n        const interpolantX = new MonotonicInterpolant([\n            0,\n            0.5,\n            1\n        ], [\n            // Dock to the left\n            offsetFromDragPreview.x,\n            // Align at the center\n            (offsetFromDragPreview.x / sourceWidth) * dragPreviewWidth,\n            // Dock to the right\n            offsetFromDragPreview.x + dragPreviewWidth - sourceWidth, \n        ]);\n        return interpolantX.interpolate(anchorX);\n    };\n    // Force offsets if specified in the options.\n    const { offsetX , offsetY  } = offsetPoint;\n    const isManualOffsetX = offsetX === 0 || offsetX;\n    const isManualOffsetY = offsetY === 0 || offsetY;\n    return {\n        x: isManualOffsetX ? offsetX : calculateXOffset(),\n        y: isManualOffsetY ? offsetY : calculateYOffset()\n    };\n}\n\n//# sourceMappingURL=OffsetUtils.js.map","export class OptionsReader {\n    get window() {\n        if (this.globalContext) {\n            return this.globalContext;\n        } else if (typeof window !== 'undefined') {\n            return window;\n        }\n        return undefined;\n    }\n    get document() {\n        var ref;\n        if ((ref = this.globalContext) === null || ref === void 0 ? void 0 : ref.document) {\n            return this.globalContext.document;\n        } else if (this.window) {\n            return this.window.document;\n        } else {\n            return undefined;\n        }\n    }\n    get rootElement() {\n        var ref;\n        return ((ref = this.optionsArgs) === null || ref === void 0 ? void 0 : ref.rootElement) || this.window;\n    }\n    constructor(globalContext, options){\n        this.ownerDocument = null;\n        this.globalContext = globalContext;\n        this.optionsArgs = options;\n    }\n}\n\n//# sourceMappingURL=OptionsReader.js.map","function _defineProperty(obj, key, value) {\n    if (key in obj) {\n        Object.defineProperty(obj, key, {\n            value: value,\n            enumerable: true,\n            configurable: true,\n            writable: true\n        });\n    } else {\n        obj[key] = value;\n    }\n    return obj;\n}\nfunction _objectSpread(target) {\n    for(var i = 1; i < arguments.length; i++){\n        var source = arguments[i] != null ? arguments[i] : {};\n        var ownKeys = Object.keys(source);\n        if (typeof Object.getOwnPropertySymbols === 'function') {\n            ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function(sym) {\n                return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n            }));\n        }\n        ownKeys.forEach(function(key) {\n            _defineProperty(target, key, source[key]);\n        });\n    }\n    return target;\n}\nimport { EnterLeaveCounter } from './EnterLeaveCounter.js';\nimport { createNativeDragSource, matchNativeItemType } from './NativeDragSources/index.js';\nimport * as NativeTypes from './NativeTypes.js';\nimport { getDragPreviewOffset, getEventClientOffset, getNodeClientOffset } from './OffsetUtils.js';\nimport { OptionsReader } from './OptionsReader.js';\nexport class HTML5BackendImpl {\n    /**\n\t * Generate profiling statistics for the HTML5Backend.\n\t */ profile() {\n        var ref, ref1;\n        return {\n            sourcePreviewNodes: this.sourcePreviewNodes.size,\n            sourcePreviewNodeOptions: this.sourcePreviewNodeOptions.size,\n            sourceNodeOptions: this.sourceNodeOptions.size,\n            sourceNodes: this.sourceNodes.size,\n            dragStartSourceIds: ((ref = this.dragStartSourceIds) === null || ref === void 0 ? void 0 : ref.length) || 0,\n            dropTargetIds: this.dropTargetIds.length,\n            dragEnterTargetIds: this.dragEnterTargetIds.length,\n            dragOverTargetIds: ((ref1 = this.dragOverTargetIds) === null || ref1 === void 0 ? void 0 : ref1.length) || 0\n        };\n    }\n    // public for test\n    get window() {\n        return this.options.window;\n    }\n    get document() {\n        return this.options.document;\n    }\n    /**\n\t * Get the root element to use for event subscriptions\n\t */ get rootElement() {\n        return this.options.rootElement;\n    }\n    setup() {\n        const root = this.rootElement;\n        if (root === undefined) {\n            return;\n        }\n        if (root.__isReactDndBackendSetUp) {\n            throw new Error('Cannot have two HTML5 backends at the same time.');\n        }\n        root.__isReactDndBackendSetUp = true;\n        this.addEventListeners(root);\n    }\n    teardown() {\n        const root = this.rootElement;\n        if (root === undefined) {\n            return;\n        }\n        root.__isReactDndBackendSetUp = false;\n        this.removeEventListeners(this.rootElement);\n        this.clearCurrentDragSourceNode();\n        if (this.asyncEndDragFrameId) {\n            var ref;\n            (ref = this.window) === null || ref === void 0 ? void 0 : ref.cancelAnimationFrame(this.asyncEndDragFrameId);\n        }\n    }\n    connectDragPreview(sourceId, node, options) {\n        this.sourcePreviewNodeOptions.set(sourceId, options);\n        this.sourcePreviewNodes.set(sourceId, node);\n        return ()=>{\n            this.sourcePreviewNodes.delete(sourceId);\n            this.sourcePreviewNodeOptions.delete(sourceId);\n        };\n    }\n    connectDragSource(sourceId, node, options) {\n        this.sourceNodes.set(sourceId, node);\n        this.sourceNodeOptions.set(sourceId, options);\n        const handleDragStart = (e)=>this.handleDragStart(e, sourceId)\n        ;\n        const handleSelectStart = (e)=>this.handleSelectStart(e)\n        ;\n        node.setAttribute('draggable', 'true');\n        node.addEventListener('dragstart', handleDragStart);\n        node.addEventListener('selectstart', handleSelectStart);\n        return ()=>{\n            this.sourceNodes.delete(sourceId);\n            this.sourceNodeOptions.delete(sourceId);\n            node.removeEventListener('dragstart', handleDragStart);\n            node.removeEventListener('selectstart', handleSelectStart);\n            node.setAttribute('draggable', 'false');\n        };\n    }\n    connectDropTarget(targetId, node) {\n        const handleDragEnter = (e)=>this.handleDragEnter(e, targetId)\n        ;\n        const handleDragOver = (e)=>this.handleDragOver(e, targetId)\n        ;\n        const handleDrop = (e)=>this.handleDrop(e, targetId)\n        ;\n        node.addEventListener('dragenter', handleDragEnter);\n        node.addEventListener('dragover', handleDragOver);\n        node.addEventListener('drop', handleDrop);\n        return ()=>{\n            node.removeEventListener('dragenter', handleDragEnter);\n            node.removeEventListener('dragover', handleDragOver);\n            node.removeEventListener('drop', handleDrop);\n        };\n    }\n    addEventListeners(target) {\n        // SSR Fix (https://github.com/react-dnd/react-dnd/pull/813\n        if (!target.addEventListener) {\n            return;\n        }\n        target.addEventListener('dragstart', this.handleTopDragStart);\n        target.addEventListener('dragstart', this.handleTopDragStartCapture, true);\n        target.addEventListener('dragend', this.handleTopDragEndCapture, true);\n        target.addEventListener('dragenter', this.handleTopDragEnter);\n        target.addEventListener('dragenter', this.handleTopDragEnterCapture, true);\n        target.addEventListener('dragleave', this.handleTopDragLeaveCapture, true);\n        target.addEventListener('dragover', this.handleTopDragOver);\n        target.addEventListener('dragover', this.handleTopDragOverCapture, true);\n        target.addEventListener('drop', this.handleTopDrop);\n        target.addEventListener('drop', this.handleTopDropCapture, true);\n    }\n    removeEventListeners(target) {\n        // SSR Fix (https://github.com/react-dnd/react-dnd/pull/813\n        if (!target.removeEventListener) {\n            return;\n        }\n        target.removeEventListener('dragstart', this.handleTopDragStart);\n        target.removeEventListener('dragstart', this.handleTopDragStartCapture, true);\n        target.removeEventListener('dragend', this.handleTopDragEndCapture, true);\n        target.removeEventListener('dragenter', this.handleTopDragEnter);\n        target.removeEventListener('dragenter', this.handleTopDragEnterCapture, true);\n        target.removeEventListener('dragleave', this.handleTopDragLeaveCapture, true);\n        target.removeEventListener('dragover', this.handleTopDragOver);\n        target.removeEventListener('dragover', this.handleTopDragOverCapture, true);\n        target.removeEventListener('drop', this.handleTopDrop);\n        target.removeEventListener('drop', this.handleTopDropCapture, true);\n    }\n    getCurrentSourceNodeOptions() {\n        const sourceId = this.monitor.getSourceId();\n        const sourceNodeOptions = this.sourceNodeOptions.get(sourceId);\n        return _objectSpread({\n            dropEffect: this.altKeyPressed ? 'copy' : 'move'\n        }, sourceNodeOptions || {});\n    }\n    getCurrentDropEffect() {\n        if (this.isDraggingNativeItem()) {\n            // It makes more sense to default to 'copy' for native resources\n            return 'copy';\n        }\n        return this.getCurrentSourceNodeOptions().dropEffect;\n    }\n    getCurrentSourcePreviewNodeOptions() {\n        const sourceId = this.monitor.getSourceId();\n        const sourcePreviewNodeOptions = this.sourcePreviewNodeOptions.get(sourceId);\n        return _objectSpread({\n            anchorX: 0.5,\n            anchorY: 0.5,\n            captureDraggingState: false\n        }, sourcePreviewNodeOptions || {});\n    }\n    isDraggingNativeItem() {\n        const itemType = this.monitor.getItemType();\n        return Object.keys(NativeTypes).some((key)=>NativeTypes[key] === itemType\n        );\n    }\n    beginDragNativeItem(type, dataTransfer) {\n        this.clearCurrentDragSourceNode();\n        this.currentNativeSource = createNativeDragSource(type, dataTransfer);\n        this.currentNativeHandle = this.registry.addSource(type, this.currentNativeSource);\n        this.actions.beginDrag([\n            this.currentNativeHandle\n        ]);\n    }\n    setCurrentDragSourceNode(node) {\n        this.clearCurrentDragSourceNode();\n        this.currentDragSourceNode = node;\n        // A timeout of > 0 is necessary to resolve Firefox issue referenced\n        // See:\n        //   * https://github.com/react-dnd/react-dnd/pull/928\n        //   * https://github.com/react-dnd/react-dnd/issues/869\n        const MOUSE_MOVE_TIMEOUT = 1000;\n        // Receiving a mouse event in the middle of a dragging operation\n        // means it has ended and the drag source node disappeared from DOM,\n        // so the browser didn't dispatch the dragend event.\n        //\n        // We need to wait before we start listening for mousemove events.\n        // This is needed because the drag preview needs to be drawn or else it fires an 'mousemove' event\n        // immediately in some browsers.\n        //\n        // See:\n        //   * https://github.com/react-dnd/react-dnd/pull/928\n        //   * https://github.com/react-dnd/react-dnd/issues/869\n        //\n        this.mouseMoveTimeoutTimer = setTimeout(()=>{\n            var ref;\n            return (ref = this.rootElement) === null || ref === void 0 ? void 0 : ref.addEventListener('mousemove', this.endDragIfSourceWasRemovedFromDOM, true);\n        }, MOUSE_MOVE_TIMEOUT);\n    }\n    clearCurrentDragSourceNode() {\n        if (this.currentDragSourceNode) {\n            this.currentDragSourceNode = null;\n            if (this.rootElement) {\n                var ref;\n                (ref = this.window) === null || ref === void 0 ? void 0 : ref.clearTimeout(this.mouseMoveTimeoutTimer || undefined);\n                this.rootElement.removeEventListener('mousemove', this.endDragIfSourceWasRemovedFromDOM, true);\n            }\n            this.mouseMoveTimeoutTimer = null;\n            return true;\n        }\n        return false;\n    }\n    handleDragStart(e, sourceId) {\n        if (e.defaultPrevented) {\n            return;\n        }\n        if (!this.dragStartSourceIds) {\n            this.dragStartSourceIds = [];\n        }\n        this.dragStartSourceIds.unshift(sourceId);\n    }\n    handleDragEnter(_e, targetId) {\n        this.dragEnterTargetIds.unshift(targetId);\n    }\n    handleDragOver(_e, targetId) {\n        if (this.dragOverTargetIds === null) {\n            this.dragOverTargetIds = [];\n        }\n        this.dragOverTargetIds.unshift(targetId);\n    }\n    handleDrop(_e, targetId) {\n        this.dropTargetIds.unshift(targetId);\n    }\n    constructor(manager, globalContext, options){\n        this.sourcePreviewNodes = new Map();\n        this.sourcePreviewNodeOptions = new Map();\n        this.sourceNodes = new Map();\n        this.sourceNodeOptions = new Map();\n        this.dragStartSourceIds = null;\n        this.dropTargetIds = [];\n        this.dragEnterTargetIds = [];\n        this.currentNativeSource = null;\n        this.currentNativeHandle = null;\n        this.currentDragSourceNode = null;\n        this.altKeyPressed = false;\n        this.mouseMoveTimeoutTimer = null;\n        this.asyncEndDragFrameId = null;\n        this.dragOverTargetIds = null;\n        this.lastClientOffset = null;\n        this.hoverRafId = null;\n        this.getSourceClientOffset = (sourceId)=>{\n            const source = this.sourceNodes.get(sourceId);\n            return source && getNodeClientOffset(source) || null;\n        };\n        this.endDragNativeItem = ()=>{\n            if (!this.isDraggingNativeItem()) {\n                return;\n            }\n            this.actions.endDrag();\n            if (this.currentNativeHandle) {\n                this.registry.removeSource(this.currentNativeHandle);\n            }\n            this.currentNativeHandle = null;\n            this.currentNativeSource = null;\n        };\n        this.isNodeInDocument = (node)=>{\n            // Check the node either in the main document or in the current context\n            return Boolean(node && this.document && this.document.body && this.document.body.contains(node));\n        };\n        this.endDragIfSourceWasRemovedFromDOM = ()=>{\n            const node = this.currentDragSourceNode;\n            if (node == null || this.isNodeInDocument(node)) {\n                return;\n            }\n            if (this.clearCurrentDragSourceNode() && this.monitor.isDragging()) {\n                this.actions.endDrag();\n            }\n            this.cancelHover();\n        };\n        this.scheduleHover = (dragOverTargetIds)=>{\n            if (this.hoverRafId === null && typeof requestAnimationFrame !== 'undefined') {\n                this.hoverRafId = requestAnimationFrame(()=>{\n                    if (this.monitor.isDragging()) {\n                        this.actions.hover(dragOverTargetIds || [], {\n                            clientOffset: this.lastClientOffset\n                        });\n                    }\n                    this.hoverRafId = null;\n                });\n            }\n        };\n        this.cancelHover = ()=>{\n            if (this.hoverRafId !== null && typeof cancelAnimationFrame !== 'undefined') {\n                cancelAnimationFrame(this.hoverRafId);\n                this.hoverRafId = null;\n            }\n        };\n        this.handleTopDragStartCapture = ()=>{\n            this.clearCurrentDragSourceNode();\n            this.dragStartSourceIds = [];\n        };\n        this.handleTopDragStart = (e)=>{\n            if (e.defaultPrevented) {\n                return;\n            }\n            const { dragStartSourceIds  } = this;\n            this.dragStartSourceIds = null;\n            const clientOffset = getEventClientOffset(e);\n            // Avoid crashing if we missed a drop event or our previous drag died\n            if (this.monitor.isDragging()) {\n                this.actions.endDrag();\n                this.cancelHover();\n            }\n            // Don't publish the source just yet (see why below)\n            this.actions.beginDrag(dragStartSourceIds || [], {\n                publishSource: false,\n                getSourceClientOffset: this.getSourceClientOffset,\n                clientOffset\n            });\n            const { dataTransfer  } = e;\n            const nativeType = matchNativeItemType(dataTransfer);\n            if (this.monitor.isDragging()) {\n                if (dataTransfer && typeof dataTransfer.setDragImage === 'function') {\n                    // Use custom drag image if user specifies it.\n                    // If child drag source refuses drag but parent agrees,\n                    // use parent's node as drag image. Neither works in IE though.\n                    const sourceId = this.monitor.getSourceId();\n                    const sourceNode = this.sourceNodes.get(sourceId);\n                    const dragPreview = this.sourcePreviewNodes.get(sourceId) || sourceNode;\n                    if (dragPreview) {\n                        const { anchorX , anchorY , offsetX , offsetY  } = this.getCurrentSourcePreviewNodeOptions();\n                        const anchorPoint = {\n                            anchorX,\n                            anchorY\n                        };\n                        const offsetPoint = {\n                            offsetX,\n                            offsetY\n                        };\n                        const dragPreviewOffset = getDragPreviewOffset(sourceNode, dragPreview, clientOffset, anchorPoint, offsetPoint);\n                        dataTransfer.setDragImage(dragPreview, dragPreviewOffset.x, dragPreviewOffset.y);\n                    }\n                }\n                try {\n                    // Firefox won't drag without setting data\n                    dataTransfer === null || dataTransfer === void 0 ? void 0 : dataTransfer.setData('application/json', {});\n                } catch (err) {\n                // IE doesn't support MIME types in setData\n                }\n                // Store drag source node so we can check whether\n                // it is removed from DOM and trigger endDrag manually.\n                this.setCurrentDragSourceNode(e.target);\n                // Now we are ready to publish the drag source.. or are we not?\n                const { captureDraggingState  } = this.getCurrentSourcePreviewNodeOptions();\n                if (!captureDraggingState) {\n                    // Usually we want to publish it in the next tick so that browser\n                    // is able to screenshot the current (not yet dragging) state.\n                    //\n                    // It also neatly avoids a situation where render() returns null\n                    // in the same tick for the source element, and browser freaks out.\n                    setTimeout(()=>this.actions.publishDragSource()\n                    , 0);\n                } else {\n                    // In some cases the user may want to override this behavior, e.g.\n                    // to work around IE not supporting custom drag previews.\n                    //\n                    // When using a custom drag layer, the only way to prevent\n                    // the default drag preview from drawing in IE is to screenshot\n                    // the dragging state in which the node itself has zero opacity\n                    // and height. In this case, though, returning null from render()\n                    // will abruptly end the dragging, which is not obvious.\n                    //\n                    // This is the reason such behavior is strictly opt-in.\n                    this.actions.publishDragSource();\n                }\n            } else if (nativeType) {\n                // A native item (such as URL) dragged from inside the document\n                this.beginDragNativeItem(nativeType);\n            } else if (dataTransfer && !dataTransfer.types && (e.target && !e.target.hasAttribute || !e.target.hasAttribute('draggable'))) {\n                // Looks like a Safari bug: dataTransfer.types is null, but there was no draggable.\n                // Just let it drag. It's a native type (URL or text) and will be picked up in\n                // dragenter handler.\n                return;\n            } else {\n                // If by this time no drag source reacted, tell browser not to drag.\n                e.preventDefault();\n            }\n        };\n        this.handleTopDragEndCapture = ()=>{\n            if (this.clearCurrentDragSourceNode() && this.monitor.isDragging()) {\n                // Firefox can dispatch this event in an infinite loop\n                // if dragend handler does something like showing an alert.\n                // Only proceed if we have not handled it already.\n                this.actions.endDrag();\n            }\n            this.cancelHover();\n        };\n        this.handleTopDragEnterCapture = (e)=>{\n            this.dragEnterTargetIds = [];\n            if (this.isDraggingNativeItem()) {\n                var ref;\n                (ref = this.currentNativeSource) === null || ref === void 0 ? void 0 : ref.loadDataTransfer(e.dataTransfer);\n            }\n            const isFirstEnter = this.enterLeaveCounter.enter(e.target);\n            if (!isFirstEnter || this.monitor.isDragging()) {\n                return;\n            }\n            const { dataTransfer  } = e;\n            const nativeType = matchNativeItemType(dataTransfer);\n            if (nativeType) {\n                // A native item (such as file or URL) dragged from outside the document\n                this.beginDragNativeItem(nativeType, dataTransfer);\n            }\n        };\n        this.handleTopDragEnter = (e)=>{\n            const { dragEnterTargetIds  } = this;\n            this.dragEnterTargetIds = [];\n            if (!this.monitor.isDragging()) {\n                // This is probably a native item type we don't understand.\n                return;\n            }\n            this.altKeyPressed = e.altKey;\n            // If the target changes position as the result of `dragenter`, `dragover` might still\n            // get dispatched despite target being no longer there. The easy solution is to check\n            // whether there actually is a target before firing `hover`.\n            if (dragEnterTargetIds.length > 0) {\n                this.actions.hover(dragEnterTargetIds, {\n                    clientOffset: getEventClientOffset(e)\n                });\n            }\n            const canDrop = dragEnterTargetIds.some((targetId)=>this.monitor.canDropOnTarget(targetId)\n            );\n            if (canDrop) {\n                // IE requires this to fire dragover events\n                e.preventDefault();\n                if (e.dataTransfer) {\n                    e.dataTransfer.dropEffect = this.getCurrentDropEffect();\n                }\n            }\n        };\n        this.handleTopDragOverCapture = (e)=>{\n            this.dragOverTargetIds = [];\n            if (this.isDraggingNativeItem()) {\n                var ref;\n                (ref = this.currentNativeSource) === null || ref === void 0 ? void 0 : ref.loadDataTransfer(e.dataTransfer);\n            }\n        };\n        this.handleTopDragOver = (e)=>{\n            const { dragOverTargetIds  } = this;\n            this.dragOverTargetIds = [];\n            if (!this.monitor.isDragging()) {\n                // This is probably a native item type we don't understand.\n                // Prevent default \"drop and blow away the whole document\" action.\n                e.preventDefault();\n                if (e.dataTransfer) {\n                    e.dataTransfer.dropEffect = 'none';\n                }\n                return;\n            }\n            this.altKeyPressed = e.altKey;\n            this.lastClientOffset = getEventClientOffset(e);\n            this.scheduleHover(dragOverTargetIds);\n            const canDrop = (dragOverTargetIds || []).some((targetId)=>this.monitor.canDropOnTarget(targetId)\n            );\n            if (canDrop) {\n                // Show user-specified drop effect.\n                e.preventDefault();\n                if (e.dataTransfer) {\n                    e.dataTransfer.dropEffect = this.getCurrentDropEffect();\n                }\n            } else if (this.isDraggingNativeItem()) {\n                // Don't show a nice cursor but still prevent default\n                // \"drop and blow away the whole document\" action.\n                e.preventDefault();\n            } else {\n                e.preventDefault();\n                if (e.dataTransfer) {\n                    e.dataTransfer.dropEffect = 'none';\n                }\n            }\n        };\n        this.handleTopDragLeaveCapture = (e)=>{\n            if (this.isDraggingNativeItem()) {\n                e.preventDefault();\n            }\n            const isLastLeave = this.enterLeaveCounter.leave(e.target);\n            if (!isLastLeave) {\n                return;\n            }\n            if (this.isDraggingNativeItem()) {\n                setTimeout(()=>this.endDragNativeItem()\n                , 0);\n            }\n            this.cancelHover();\n        };\n        this.handleTopDropCapture = (e)=>{\n            this.dropTargetIds = [];\n            if (this.isDraggingNativeItem()) {\n                var ref;\n                e.preventDefault();\n                (ref = this.currentNativeSource) === null || ref === void 0 ? void 0 : ref.loadDataTransfer(e.dataTransfer);\n            } else if (matchNativeItemType(e.dataTransfer)) {\n                // Dragging some elements, like <a> and <img> may still behave like a native drag event,\n                // even if the current drag event matches a user-defined type.\n                // Stop the default behavior when we're not expecting a native item to be dropped.\n                e.preventDefault();\n            }\n            this.enterLeaveCounter.reset();\n        };\n        this.handleTopDrop = (e)=>{\n            const { dropTargetIds  } = this;\n            this.dropTargetIds = [];\n            this.actions.hover(dropTargetIds, {\n                clientOffset: getEventClientOffset(e)\n            });\n            this.actions.drop({\n                dropEffect: this.getCurrentDropEffect()\n            });\n            if (this.isDraggingNativeItem()) {\n                this.endDragNativeItem();\n            } else if (this.monitor.isDragging()) {\n                this.actions.endDrag();\n            }\n            this.cancelHover();\n        };\n        this.handleSelectStart = (e)=>{\n            const target = e.target;\n            // Only IE requires us to explicitly say\n            // we want drag drop operation to start\n            if (typeof target.dragDrop !== 'function') {\n                return;\n            }\n            // Inputs and textareas should be selectable\n            if (target.tagName === 'INPUT' || target.tagName === 'SELECT' || target.tagName === 'TEXTAREA' || target.isContentEditable) {\n                return;\n            }\n            // For other targets, ask IE\n            // to enable drag and drop\n            e.preventDefault();\n            target.dragDrop();\n        };\n        this.options = new OptionsReader(globalContext, options);\n        this.actions = manager.getActions();\n        this.monitor = manager.getMonitor();\n        this.registry = manager.getRegistry();\n        this.enterLeaveCounter = new EnterLeaveCounter(this.isNodeInDocument);\n    }\n}\n\n//# sourceMappingURL=HTML5BackendImpl.js.map","import { HTML5BackendImpl } from './HTML5BackendImpl.js';\nimport * as _NativeTypes from './NativeTypes.js';\nexport { getEmptyImage } from './getEmptyImage.js';\nexport { _NativeTypes as NativeTypes };\nexport const HTML5Backend = function createBackend(manager, context, options) {\n    return new HTML5BackendImpl(manager, context, options);\n};\n\n//# sourceMappingURL=index.js.map","export var ListenerType;\n(function(ListenerType) {\n    ListenerType[\"mouse\"] = \"mouse\";\n    ListenerType[\"touch\"] = \"touch\";\n    ListenerType[\"keyboard\"] = \"keyboard\";\n})(ListenerType || (ListenerType = {}));\n\n//# sourceMappingURL=interfaces.js.map","export class OptionsReader {\n    get delay() {\n        var _delay;\n        return (_delay = this.args.delay) !== null && _delay !== void 0 ? _delay : 0;\n    }\n    get scrollAngleRanges() {\n        return this.args.scrollAngleRanges;\n    }\n    get getDropTargetElementsAtPoint() {\n        return this.args.getDropTargetElementsAtPoint;\n    }\n    get ignoreContextMenu() {\n        var _ignoreContextMenu;\n        return (_ignoreContextMenu = this.args.ignoreContextMenu) !== null && _ignoreContextMenu !== void 0 ? _ignoreContextMenu : false;\n    }\n    get enableHoverOutsideTarget() {\n        var _enableHoverOutsideTarget;\n        return (_enableHoverOutsideTarget = this.args.enableHoverOutsideTarget) !== null && _enableHoverOutsideTarget !== void 0 ? _enableHoverOutsideTarget : false;\n    }\n    get enableKeyboardEvents() {\n        var _enableKeyboardEvents;\n        return (_enableKeyboardEvents = this.args.enableKeyboardEvents) !== null && _enableKeyboardEvents !== void 0 ? _enableKeyboardEvents : false;\n    }\n    get enableMouseEvents() {\n        var _enableMouseEvents;\n        return (_enableMouseEvents = this.args.enableMouseEvents) !== null && _enableMouseEvents !== void 0 ? _enableMouseEvents : false;\n    }\n    get enableTouchEvents() {\n        var _enableTouchEvents;\n        return (_enableTouchEvents = this.args.enableTouchEvents) !== null && _enableTouchEvents !== void 0 ? _enableTouchEvents : true;\n    }\n    get touchSlop() {\n        return this.args.touchSlop || 0;\n    }\n    get delayTouchStart() {\n        var ref, ref1;\n        var ref2, ref3;\n        return (ref3 = (ref2 = (ref = this.args) === null || ref === void 0 ? void 0 : ref.delayTouchStart) !== null && ref2 !== void 0 ? ref2 : (ref1 = this.args) === null || ref1 === void 0 ? void 0 : ref1.delay) !== null && ref3 !== void 0 ? ref3 : 0;\n    }\n    get delayMouseStart() {\n        var ref, ref4;\n        var ref5, ref6;\n        return (ref6 = (ref5 = (ref = this.args) === null || ref === void 0 ? void 0 : ref.delayMouseStart) !== null && ref5 !== void 0 ? ref5 : (ref4 = this.args) === null || ref4 === void 0 ? void 0 : ref4.delay) !== null && ref6 !== void 0 ? ref6 : 0;\n    }\n    get window() {\n        if (this.context && this.context.window) {\n            return this.context.window;\n        } else if (typeof window !== 'undefined') {\n            return window;\n        }\n        return undefined;\n    }\n    get document() {\n        var ref;\n        if ((ref = this.context) === null || ref === void 0 ? void 0 : ref.document) {\n            return this.context.document;\n        }\n        if (this.window) {\n            return this.window.document;\n        }\n        return undefined;\n    }\n    get rootElement() {\n        var ref;\n        return ((ref = this.args) === null || ref === void 0 ? void 0 : ref.rootElement) || this.document;\n    }\n    constructor(args, context){\n        this.args = args;\n        this.context = context;\n    }\n}\n\n//# sourceMappingURL=OptionsReader.js.map","export function distance(x1, y1, x2, y2) {\n    return Math.sqrt(Math.pow(Math.abs(x2 - x1), 2) + Math.pow(Math.abs(y2 - y1), 2));\n}\nexport function inAngleRanges(x1, y1, x2, y2, angleRanges) {\n    if (!angleRanges) {\n        return false;\n    }\n    const angle = Math.atan2(y2 - y1, x2 - x1) * 180 / Math.PI + 180;\n    for(let i = 0; i < angleRanges.length; ++i){\n        const ar = angleRanges[i];\n        if (ar && (ar.start == null || angle >= ar.start) && (ar.end == null || angle <= ar.end)) {\n            return true;\n        }\n    }\n    return false;\n}\n\n//# sourceMappingURL=math.js.map","// Used for MouseEvent.buttons (note the s on the end).\nconst MouseButtons = {\n    Left: 1,\n    Right: 2,\n    Center: 4\n};\n// Used for e.button (note the lack of an s on the end).\nconst MouseButton = {\n    Left: 0,\n    Center: 1,\n    Right: 2\n};\n/**\n * Only touch events and mouse events where the left button is pressed should initiate a drag.\n * @param {MouseEvent | TouchEvent} e The event\n */ export function eventShouldStartDrag(e) {\n    // For touch events, button will be undefined. If e.button is defined,\n    // then it should be MouseButton.Left.\n    return e.button === undefined || e.button === MouseButton.Left;\n}\n/**\n * Only touch events and mouse events where the left mouse button is no longer held should end a drag.\n * It's possible the user mouse downs with the left mouse button, then mouse down and ups with the right mouse button.\n * We don't want releasing the right mouse button to end the drag.\n * @param {MouseEvent | TouchEvent} e The event\n */ export function eventShouldEndDrag(e) {\n    // Touch events will have buttons be undefined, while mouse events will have e.buttons's left button\n    // bit field unset if the left mouse button has been released\n    return e.buttons === undefined || (e.buttons & MouseButtons.Left) === 0;\n}\nexport function isTouchEvent(e) {\n    return !!e.targetTouches;\n}\n\n//# sourceMappingURL=predicates.js.map","import { isTouchEvent } from './predicates.js';\nconst ELEMENT_NODE = 1;\nexport function getNodeClientOffset(node) {\n    const el = node.nodeType === ELEMENT_NODE ? node : node.parentElement;\n    if (!el) {\n        return undefined;\n    }\n    const { top , left  } = el.getBoundingClientRect();\n    return {\n        x: left,\n        y: top\n    };\n}\nexport function getEventClientTouchOffset(e, lastTargetTouchFallback) {\n    if (e.targetTouches.length === 1) {\n        return getEventClientOffset(e.targetTouches[0]);\n    } else if (lastTargetTouchFallback && e.touches.length === 1) {\n        if (e.touches[0].target === lastTargetTouchFallback.target) {\n            return getEventClientOffset(e.touches[0]);\n        }\n    }\n    return;\n}\nexport function getEventClientOffset(e, lastTargetTouchFallback) {\n    if (isTouchEvent(e)) {\n        return getEventClientTouchOffset(e, lastTargetTouchFallback);\n    } else {\n        return {\n            x: e.clientX,\n            y: e.clientY\n        };\n    }\n}\n\n//# sourceMappingURL=offsets.js.map","export const supportsPassive = (()=>{\n    // simular to jQuery's test\n    let supported = false;\n    try {\n        addEventListener('test', ()=>{\n        // do nothing\n        }, Object.defineProperty({}, 'passive', {\n            get () {\n                supported = true;\n                return true;\n            }\n        }));\n    } catch (e) {\n    // do nothing\n    }\n    return supported;\n})();\n\n//# sourceMappingURL=supportsPassive.js.map","import { invariant } from '@react-dnd/invariant';\nimport { ListenerType } from './interfaces.js';\nimport { OptionsReader } from './OptionsReader.js';\nimport { distance, inAngleRanges } from './utils/math.js';\nimport { getEventClientOffset, getNodeClientOffset } from './utils/offsets.js';\nimport { eventShouldEndDrag, eventShouldStartDrag, isTouchEvent } from './utils/predicates.js';\nimport { supportsPassive } from './utils/supportsPassive.js';\nconst eventNames = {\n    [ListenerType.mouse]: {\n        start: 'mousedown',\n        move: 'mousemove',\n        end: 'mouseup',\n        contextmenu: 'contextmenu'\n    },\n    [ListenerType.touch]: {\n        start: 'touchstart',\n        move: 'touchmove',\n        end: 'touchend'\n    },\n    [ListenerType.keyboard]: {\n        keydown: 'keydown'\n    }\n};\nexport class TouchBackendImpl {\n    /**\n\t * Generate profiling statistics for the HTML5Backend.\n\t */ profile() {\n        var ref;\n        return {\n            sourceNodes: this.sourceNodes.size,\n            sourcePreviewNodes: this.sourcePreviewNodes.size,\n            sourcePreviewNodeOptions: this.sourcePreviewNodeOptions.size,\n            targetNodes: this.targetNodes.size,\n            dragOverTargetIds: ((ref = this.dragOverTargetIds) === null || ref === void 0 ? void 0 : ref.length) || 0\n        };\n    }\n    // public for test\n    get document() {\n        return this.options.document;\n    }\n    setup() {\n        const root = this.options.rootElement;\n        if (!root) {\n            return;\n        }\n        invariant(!TouchBackendImpl.isSetUp, 'Cannot have two Touch backends at the same time.');\n        TouchBackendImpl.isSetUp = true;\n        this.addEventListener(root, 'start', this.getTopMoveStartHandler());\n        this.addEventListener(root, 'start', this.handleTopMoveStartCapture, true);\n        this.addEventListener(root, 'move', this.handleTopMove);\n        this.addEventListener(root, 'move', this.handleTopMoveCapture, true);\n        this.addEventListener(root, 'end', this.handleTopMoveEndCapture, true);\n        if (this.options.enableMouseEvents && !this.options.ignoreContextMenu) {\n            this.addEventListener(root, 'contextmenu', this.handleTopMoveEndCapture);\n        }\n        if (this.options.enableKeyboardEvents) {\n            this.addEventListener(root, 'keydown', this.handleCancelOnEscape, true);\n        }\n    }\n    teardown() {\n        const root = this.options.rootElement;\n        if (!root) {\n            return;\n        }\n        TouchBackendImpl.isSetUp = false;\n        this._mouseClientOffset = {};\n        this.removeEventListener(root, 'start', this.handleTopMoveStartCapture, true);\n        this.removeEventListener(root, 'start', this.handleTopMoveStart);\n        this.removeEventListener(root, 'move', this.handleTopMoveCapture, true);\n        this.removeEventListener(root, 'move', this.handleTopMove);\n        this.removeEventListener(root, 'end', this.handleTopMoveEndCapture, true);\n        if (this.options.enableMouseEvents && !this.options.ignoreContextMenu) {\n            this.removeEventListener(root, 'contextmenu', this.handleTopMoveEndCapture);\n        }\n        if (this.options.enableKeyboardEvents) {\n            this.removeEventListener(root, 'keydown', this.handleCancelOnEscape, true);\n        }\n        this.uninstallSourceNodeRemovalObserver();\n    }\n    addEventListener(subject, event, handler, capture = false) {\n        const options = supportsPassive ? {\n            capture,\n            passive: false\n        } : capture;\n        this.listenerTypes.forEach(function(listenerType) {\n            const evt = eventNames[listenerType][event];\n            if (evt) {\n                subject.addEventListener(evt, handler, options);\n            }\n        });\n    }\n    removeEventListener(subject, event, handler, capture = false) {\n        const options = supportsPassive ? {\n            capture,\n            passive: false\n        } : capture;\n        this.listenerTypes.forEach(function(listenerType) {\n            const evt = eventNames[listenerType][event];\n            if (evt) {\n                subject.removeEventListener(evt, handler, options);\n            }\n        });\n    }\n    connectDragSource(sourceId, node) {\n        const handleMoveStart = this.handleMoveStart.bind(this, sourceId);\n        this.sourceNodes.set(sourceId, node);\n        this.addEventListener(node, 'start', handleMoveStart);\n        return ()=>{\n            this.sourceNodes.delete(sourceId);\n            this.removeEventListener(node, 'start', handleMoveStart);\n        };\n    }\n    connectDragPreview(sourceId, node, options) {\n        this.sourcePreviewNodeOptions.set(sourceId, options);\n        this.sourcePreviewNodes.set(sourceId, node);\n        return ()=>{\n            this.sourcePreviewNodes.delete(sourceId);\n            this.sourcePreviewNodeOptions.delete(sourceId);\n        };\n    }\n    connectDropTarget(targetId, node) {\n        const root = this.options.rootElement;\n        if (!this.document || !root) {\n            return ()=>{\n            /* noop */ };\n        }\n        const handleMove = (e)=>{\n            if (!this.document || !root || !this.monitor.isDragging()) {\n                return;\n            }\n            let coords;\n            /**\n\t\t\t * Grab the coordinates for the current mouse/touch position\n\t\t\t */ switch(e.type){\n                case eventNames.mouse.move:\n                    coords = {\n                        x: e.clientX,\n                        y: e.clientY\n                    };\n                    break;\n                case eventNames.touch.move:\n                    var ref, ref1;\n                    coords = {\n                        x: ((ref = e.touches[0]) === null || ref === void 0 ? void 0 : ref.clientX) || 0,\n                        y: ((ref1 = e.touches[0]) === null || ref1 === void 0 ? void 0 : ref1.clientY) || 0\n                    };\n                    break;\n            }\n            /**\n\t\t\t * Use the coordinates to grab the element the drag ended on.\n\t\t\t * If the element is the same as the target node (or any of it's children) then we have hit a drop target and can handle the move.\n\t\t\t */ const droppedOn = coords != null ? this.document.elementFromPoint(coords.x, coords.y) : undefined;\n            const childMatch = droppedOn && node.contains(droppedOn);\n            if (droppedOn === node || childMatch) {\n                return this.handleMove(e, targetId);\n            }\n        };\n        /**\n\t\t * Attaching the event listener to the body so that touchmove will work while dragging over multiple target elements.\n\t\t */ this.addEventListener(this.document.body, 'move', handleMove);\n        this.targetNodes.set(targetId, node);\n        return ()=>{\n            if (this.document) {\n                this.targetNodes.delete(targetId);\n                this.removeEventListener(this.document.body, 'move', handleMove);\n            }\n        };\n    }\n    getTopMoveStartHandler() {\n        if (!this.options.delayTouchStart && !this.options.delayMouseStart) {\n            return this.handleTopMoveStart;\n        }\n        return this.handleTopMoveStartDelay;\n    }\n    installSourceNodeRemovalObserver(node) {\n        this.uninstallSourceNodeRemovalObserver();\n        this.draggedSourceNode = node;\n        this.draggedSourceNodeRemovalObserver = new MutationObserver(()=>{\n            if (node && !node.parentElement) {\n                this.resurrectSourceNode();\n                this.uninstallSourceNodeRemovalObserver();\n            }\n        });\n        if (!node || !node.parentElement) {\n            return;\n        }\n        this.draggedSourceNodeRemovalObserver.observe(node.parentElement, {\n            childList: true\n        });\n    }\n    resurrectSourceNode() {\n        if (this.document && this.draggedSourceNode) {\n            this.draggedSourceNode.style.display = 'none';\n            this.draggedSourceNode.removeAttribute('data-reactid');\n            this.document.body.appendChild(this.draggedSourceNode);\n        }\n    }\n    uninstallSourceNodeRemovalObserver() {\n        if (this.draggedSourceNodeRemovalObserver) {\n            this.draggedSourceNodeRemovalObserver.disconnect();\n        }\n        this.draggedSourceNodeRemovalObserver = undefined;\n        this.draggedSourceNode = undefined;\n    }\n    constructor(manager, context, options){\n        this.getSourceClientOffset = (sourceId)=>{\n            const element = this.sourceNodes.get(sourceId);\n            return element && getNodeClientOffset(element);\n        };\n        this.handleTopMoveStartCapture = (e)=>{\n            if (!eventShouldStartDrag(e)) {\n                return;\n            }\n            this.moveStartSourceIds = [];\n        };\n        this.handleMoveStart = (sourceId)=>{\n            // Just because we received an event doesn't necessarily mean we need to collect drag sources.\n            // We only collect start collecting drag sources on touch and left mouse events.\n            if (Array.isArray(this.moveStartSourceIds)) {\n                this.moveStartSourceIds.unshift(sourceId);\n            }\n        };\n        this.handleTopMoveStart = (e)=>{\n            if (!eventShouldStartDrag(e)) {\n                return;\n            }\n            // Don't prematurely preventDefault() here since it might:\n            // 1. Mess up scrolling\n            // 2. Mess up long tap (which brings up context menu)\n            // 3. If there's an anchor link as a child, tap won't be triggered on link\n            const clientOffset = getEventClientOffset(e);\n            if (clientOffset) {\n                if (isTouchEvent(e)) {\n                    this.lastTargetTouchFallback = e.targetTouches[0];\n                }\n                this._mouseClientOffset = clientOffset;\n            }\n            this.waitingForDelay = false;\n        };\n        this.handleTopMoveStartDelay = (e)=>{\n            if (!eventShouldStartDrag(e)) {\n                return;\n            }\n            const delay = e.type === eventNames.touch.start ? this.options.delayTouchStart : this.options.delayMouseStart;\n            this.timeout = setTimeout(this.handleTopMoveStart.bind(this, e), delay);\n            this.waitingForDelay = true;\n        };\n        this.handleTopMoveCapture = ()=>{\n            this.dragOverTargetIds = [];\n        };\n        this.handleMove = (_evt, targetId)=>{\n            if (this.dragOverTargetIds) {\n                this.dragOverTargetIds.unshift(targetId);\n            }\n        };\n        this.handleTopMove = (e1)=>{\n            if (this.timeout) {\n                clearTimeout(this.timeout);\n            }\n            if (!this.document || this.waitingForDelay) {\n                return;\n            }\n            const { moveStartSourceIds , dragOverTargetIds  } = this;\n            const enableHoverOutsideTarget = this.options.enableHoverOutsideTarget;\n            const clientOffset = getEventClientOffset(e1, this.lastTargetTouchFallback);\n            if (!clientOffset) {\n                return;\n            }\n            // If the touch move started as a scroll, or is is between the scroll angles\n            if (this._isScrolling || !this.monitor.isDragging() && inAngleRanges(this._mouseClientOffset.x || 0, this._mouseClientOffset.y || 0, clientOffset.x, clientOffset.y, this.options.scrollAngleRanges)) {\n                this._isScrolling = true;\n                return;\n            }\n            // If we're not dragging and we've moved a little, that counts as a drag start\n            if (!this.monitor.isDragging() && // eslint-disable-next-line no-prototype-builtins\n            this._mouseClientOffset.hasOwnProperty('x') && moveStartSourceIds && distance(this._mouseClientOffset.x || 0, this._mouseClientOffset.y || 0, clientOffset.x, clientOffset.y) > (this.options.touchSlop ? this.options.touchSlop : 0)) {\n                this.moveStartSourceIds = undefined;\n                this.actions.beginDrag(moveStartSourceIds, {\n                    clientOffset: this._mouseClientOffset,\n                    getSourceClientOffset: this.getSourceClientOffset,\n                    publishSource: false\n                });\n            }\n            if (!this.monitor.isDragging()) {\n                return;\n            }\n            const sourceNode = this.sourceNodes.get(this.monitor.getSourceId());\n            this.installSourceNodeRemovalObserver(sourceNode);\n            this.actions.publishDragSource();\n            if (e1.cancelable) e1.preventDefault();\n            // Get the node elements of the hovered DropTargets\n            const dragOverTargetNodes = (dragOverTargetIds || []).map((key)=>this.targetNodes.get(key)\n            ).filter((e)=>!!e\n            );\n            // Get the a ordered list of nodes that are touched by\n            const elementsAtPoint = this.options.getDropTargetElementsAtPoint ? this.options.getDropTargetElementsAtPoint(clientOffset.x, clientOffset.y, dragOverTargetNodes) : this.document.elementsFromPoint(clientOffset.x, clientOffset.y);\n            // Extend list with parents that are not receiving elementsFromPoint events (size 0 elements and svg groups)\n            const elementsAtPointExtended = [];\n            for(const nodeId in elementsAtPoint){\n                // eslint-disable-next-line no-prototype-builtins\n                if (!elementsAtPoint.hasOwnProperty(nodeId)) {\n                    continue;\n                }\n                let currentNode = elementsAtPoint[nodeId];\n                if (currentNode != null) {\n                    elementsAtPointExtended.push(currentNode);\n                }\n                while(currentNode){\n                    currentNode = currentNode.parentElement;\n                    if (currentNode && elementsAtPointExtended.indexOf(currentNode) === -1) {\n                        elementsAtPointExtended.push(currentNode);\n                    }\n                }\n            }\n            const orderedDragOverTargetIds = elementsAtPointExtended// Filter off nodes that arent a hovered DropTargets nodes\n            .filter((node)=>dragOverTargetNodes.indexOf(node) > -1\n            )// Map back the nodes elements to targetIds\n            .map((node)=>this._getDropTargetId(node)\n            )// Filter off possible null rows\n            .filter((node)=>!!node\n            ).filter((id, index, ids)=>ids.indexOf(id) === index\n            );\n            // Invoke hover for drop targets when source node is still over and pointer is outside\n            if (enableHoverOutsideTarget) {\n                for(const targetId in this.targetNodes){\n                    const targetNode = this.targetNodes.get(targetId);\n                    if (sourceNode && targetNode && targetNode.contains(sourceNode) && orderedDragOverTargetIds.indexOf(targetId) === -1) {\n                        orderedDragOverTargetIds.unshift(targetId);\n                        break;\n                    }\n                }\n            }\n            // Reverse order because dnd-core reverse it before calling the DropTarget drop methods\n            orderedDragOverTargetIds.reverse();\n            this.actions.hover(orderedDragOverTargetIds, {\n                clientOffset: clientOffset\n            });\n        };\n        /**\n\t *\n\t * visible for testing\n\t */ this._getDropTargetId = (node)=>{\n            const keys = this.targetNodes.keys();\n            let next = keys.next();\n            while(next.done === false){\n                const targetId = next.value;\n                if (node === this.targetNodes.get(targetId)) {\n                    return targetId;\n                } else {\n                    next = keys.next();\n                }\n            }\n            return undefined;\n        };\n        this.handleTopMoveEndCapture = (e)=>{\n            this._isScrolling = false;\n            this.lastTargetTouchFallback = undefined;\n            if (!eventShouldEndDrag(e)) {\n                return;\n            }\n            if (!this.monitor.isDragging() || this.monitor.didDrop()) {\n                this.moveStartSourceIds = undefined;\n                return;\n            }\n            if (e.cancelable) e.preventDefault();\n            this._mouseClientOffset = {};\n            this.uninstallSourceNodeRemovalObserver();\n            this.actions.drop();\n            this.actions.endDrag();\n        };\n        this.handleCancelOnEscape = (e)=>{\n            if (e.key === 'Escape' && this.monitor.isDragging()) {\n                this._mouseClientOffset = {};\n                this.uninstallSourceNodeRemovalObserver();\n                this.actions.endDrag();\n            }\n        };\n        this.options = new OptionsReader(options, context);\n        this.actions = manager.getActions();\n        this.monitor = manager.getMonitor();\n        this.sourceNodes = new Map();\n        this.sourcePreviewNodes = new Map();\n        this.sourcePreviewNodeOptions = new Map();\n        this.targetNodes = new Map();\n        this.listenerTypes = [];\n        this._mouseClientOffset = {};\n        this._isScrolling = false;\n        if (this.options.enableMouseEvents) {\n            this.listenerTypes.push(ListenerType.mouse);\n        }\n        if (this.options.enableTouchEvents) {\n            this.listenerTypes.push(ListenerType.touch);\n        }\n        if (this.options.enableKeyboardEvents) {\n            this.listenerTypes.push(ListenerType.keyboard);\n        }\n    }\n}\n\n//# sourceMappingURL=TouchBackendImpl.js.map","import { TouchBackendImpl } from './TouchBackendImpl.js';\nexport * from './interfaces.js';\nexport * from './TouchBackendImpl.js';\nexport const TouchBackend = function createBackend(manager, context = {}, options = {}) {\n    return new TouchBackendImpl(manager, context, options);\n};\n\n//# sourceMappingURL=index.js.map","export const isTouchDevice = () => {\n    return 'ontouchstart' in window || navigator.maxTouchPoints > 0;\n};"],"names":["NOT_FOUND","createSingletonCache","equals","entry","get","key","value","put","getEntries","clear","undefined","createLruCache","maxSize","entries","cacheIndex","findIndex","splice","unshift","length","pop","defaultEqualityCheck","a","b","createCacheKeyComparator","equalityCheck","areArgumentsShallowlyEqual","prev","next","i","defaultMemoize","func","equalityCheckOrOptions","providedOptions","_providedOptions$equa","_providedOptions$maxS","resultEqualityCheck","comparator","cache","memoized","arguments","apply","matchingEntry","find","clearCache","getDependencies","funcs","dependencies","Array","isArray","every","dep","dependencyTypes","map","name","join","Error","createSelectorCreator","memoize","_len","memoizeOptionsFromArgs","_key","createSelector","_len2","_key2","_recomputations","_lastResult","directlyPassedOptions","memoizeOptions","resultFunc","_directlyPassedOption","_directlyPassedOption2","finalMemoizeOptions","memoizedResultFunc","recomputationWrapper","concat","selector","dependenciesChecker","params","push","Object","assign","lastResult","recomputations","resetRecomputations","exports","obj","path","defaultValue","split","reduce","c","without","without$1","items","item","filter","isObject","input","xor","itemsA","itemsB","Map","insertItem","set","has","forEach","result","count","intersection","t","indexOf","INIT_COORDS","BEGIN_DRAG","PUBLISH_DRAG_SOURCE","HOVER","DROP","END_DRAG","setClientOffset","clientOffset","sourceClientOffset","type","payload","ResetCoordinatesAction","createBeginDrag","manager","beginDrag","sourceIds","options","publishSource","_options$publishSourc","getSourceClientOffset","monitor","getMonitor","registry","getRegistry","dispatch","verifyInvariants","sourceId","getDraggableSource","verifyGetSourceClientOffsetIsFunction","source","getSource","verifyItemIsObject","pinSource","itemType","getSourceType","isSourcePublic","verifyInvariants$1","invariant","isDragging","canDragSource","_defineProperty","_defineProperty$4","defineProperty","enumerable","configurable","writable","_objectSpread","_objectSpread$4","target","ownKeys","keys","getOwnPropertySymbols","sym","getOwnPropertyDescriptor","createDrop","drop","targetIds","getDroppableTargets","targetId","index","dropResult","determineDropResult","action","didDrop","getTarget","verifyDropResultType","getDropResult","getTargetIds","canDropOnTarget","reverse","createEndDrag","endDrag","verifyIsDragging","getSourceId","unpinSource","matchesType","targetType","draggedItemType","some","createHover","hover","targetIdsArg","verifyTargetIdsIsArray","slice","getItemType","removeNonMatchingTargetIds","checkInvariants","hoverAllTargets","lastIndexOf","getTargetType","createPublishDragSource","publishDragSource","createDragDropActions","DragDropManagerImpl","receiveBackend","backend","getBackend","getActions","store","bindActionCreator","actionCreator","args","actions","boundActions","constructor","isSetUp","handleRefCountChange","shouldSetUp","getState","refCount","setup","teardown","subscribe","add","x","y","subtract","state","initialClientOffset","initialSourceClientOffset","getDifferenceFromInitialOffset","NONE","ALL","__IS_NONE__","__IS_ALL__","areDirty","dirtyIds","handlerIds","commonIds","DragDropMonitorImpl","subscribeToStateChange","listener","prevStateId","stateId","handleChange","currentStateId","canSkipListener","dirtyHandlerIds","subscribeToOffsetChange","previousState","dragOffset","nextState","canDrag","canDrop","Boolean","isDraggingSource","sourceType","isOverTarget","shallow","dragOperation","getItem","getInitialClientOffset","getInitialSourceClientOffset","getClientOffset","scope","global","self","BrowserMutationObserver","MutationObserver","WebKitMutationObserver","makeRequestCallFromTimer","callback","requestCall","timeoutHandle","setTimeout","handleTimer","intervalHandle","setInterval","clearTimeout","clearInterval","makeRequestCallFromMutationObserver","toggle","observer","node","document","createTextNode","observe","characterData","data","makeRequestCall","AsapQueue","enqueueTask","task","q","queue","requestFlush","flushing","pendingErrors","capacity","flush","currentIndex","call","scan","newLength","registerPendingError","err","requestErrorThrow","shift","RawTask","error","onError","release","TaskFactory","create","tasks","freeTasks","t1","asapQueue","taskFactory","asap","ADD_SOURCE","ADD_TARGET","REMOVE_SOURCE","REMOVE_TARGET","addSource","addTarget","removeSource","removeTarget","validateSourceContract","validateTargetContract","validateType","allowArray","HandlerRole","nextUniqueId","getNextUniqueId","getNextHandlerId","role","id","toString","SOURCE","TARGET","parseRoleFromHandlerId","handlerId","mapContainsValue","searchValue","isDone","_entries$next","done","_entries$next$value","_slicedToArray","HandlerRegistryImpl","addHandler","containsHandler","handler","dragSources","dropTargets","includePinned","isSourceId","isPinned","pinnedSourceId","pinnedSource","isTargetId","types","delete","strictEquality","areCoordsEqual","offsetA","offsetB","areArraysEqual","isEqual","reduce$5","_state","_action$payload","_action$payload$targe","_action$payload$prevT","prevTargetIds","didChange","prevInnermostTargetId","innermostTargetId","_defineProperty$3","_objectSpread$3","initialState","reduce$4","_defineProperty$2","_objectSpread$2","reduce$3","reduce$2","reduce$1","_defineProperty$1","_objectSpread$1","createDragDropManager","backendFactory","globalContext","backendOptions","debugMode","makeStoreInstance","reduxDevTools","window","__REDUX_DEVTOOLS_EXTENSION__","createStore","instanceId","_objectWithoutProperties","excluded","_objectWithoutPropertiesLoose","sourceSymbolKeys","prototype","propertyIsEnumerable","sourceKeys","INSTANCE_SYM","Symbol","for","DndProvider","memo","_param","children","props","_getDndContextValue","getDndContextValue","_getDndContextValue2","isGlobalInstance","useEffect","context","getGlobalContext","_jsx","jsx","DndContext","Provider","dragDropManager","createSingletonDndContext","ctx","ErrorOutlineOutlined","createSvgIcon","d","fn","union","Set","EnterLeaveCounter","enter","enteringNode","previousLength","entered","isNodeEntered","isNodeInDocument","contains","leave","leavingNode","reset","NativeDragSource","initializeExposedProperties","config","exposeProperties","property","console","warn","loadDataTransfer","dataTransfer","newProperties","propertyFn","matchesTypes","defineProperties","handle","FILE","URL","TEXT","HTML","getDataFromDataTransfer","typesToTry","resultSoFar","typeToTry","getData","nativeTypesConfig","NativeTypes.FILE","files","NativeTypes.HTML","html","NativeTypes.URL","urls","NativeTypes.TEXT","text","createNativeDragSource","matchNativeItemType","dataTransferTypes","nativeItemType","typeConfig","isFirefox","test","navigator","userAgent","isSafari","safari","MonotonicInterpolant","interpolate","xs","ys","c1s","c2s","c3s","low","high","mid","Math","floor","xHere","max","diff","diffSq","indexes","sort","dxs","ms","dx","dy","i1","i2","m2","mNext","dxNext","common","m","i3","c1","invDx","ELEMENT_NODE","getNodeClientOffset","getNodeClientOffset$1","el","nodeType","parentElement","_el$getBoundingClient","getBoundingClientRect","top","left","getEventClientOffset","getEventClientOffset$1","e","clientX","clientY","isImageNode","ref","nodeName","documentElement","getDragPreviewSize","isImage","dragPreview","sourceWidth","sourceHeight","dragPreviewWidth","width","dragPreviewHeight","height","devicePixelRatio","getDragPreviewOffset","sourceNode","anchorPoint","offsetPoint","dragPreviewNode","dragPreviewNodeOffsetFromClient","offsetFromDragPreview","offsetWidth","offsetHeight","anchorX","anchorY","_getDragPreviewSize","calculateYOffset","interpolantY","calculateXOffset","interpolantX","offsetX","offsetY","isManualOffsetX","isManualOffsetY","OptionsReader$1","OptionsReader","rootElement","optionsArgs","ownerDocument","HTML5BackendImpl","profile","ref1","sourcePreviewNodes","size","sourcePreviewNodeOptions","sourceNodeOptions","sourceNodes","dragStartSourceIds","dropTargetIds","dragEnterTargetIds","dragOverTargetIds","root","__isReactDndBackendSetUp","addEventListeners","removeEventListeners","clearCurrentDragSourceNode","asyncEndDragFrameId","cancelAnimationFrame","connectDragPreview","connectDragSource","handleDragStart","handleSelectStart","setAttribute","addEventListener","removeEventListener","connectDropTarget","handleDragEnter","handleDragOver","handleDrop","handleTopDragStart","handleTopDragStartCapture","handleTopDragEndCapture","handleTopDragEnter","handleTopDragEnterCapture","handleTopDragLeaveCapture","handleTopDragOver","handleTopDragOverCapture","handleTopDrop","handleTopDropCapture","getCurrentSourceNodeOptions","dropEffect","altKeyPressed","getCurrentDropEffect","isDraggingNativeItem","getCurrentSourcePreviewNodeOptions","captureDraggingState","NativeTypes","beginDragNativeItem","currentNativeSource","currentNativeHandle","setCurrentDragSourceNode","currentDragSourceNode","MOUSE_MOVE_TIMEOUT","mouseMoveTimeoutTimer","endDragIfSourceWasRemovedFromDOM","defaultPrevented","_e","lastClientOffset","hoverRafId","endDragNativeItem","body","cancelHover","scheduleHover","requestAnimationFrame","nativeType","setDragImage","_this$getCurrentSourc","dragPreviewOffset","setData","_this$getCurrentSourc2","hasAttribute","preventDefault","isFirstEnter","enterLeaveCounter","altKey","isLastLeave","dragDrop","tagName","isContentEditable","HTML5Backend","createBackend","ListenerType","delay","_delay","scrollAngleRanges","getDropTargetElementsAtPoint","ignoreContextMenu","_ignoreContextMenu","enableHoverOutsideTarget","_enableHoverOutsideTarget","enableKeyboardEvents","_enableKeyboardEvents","enableMouseEvents","_enableMouseEvents","enableTouchEvents","_enableTouchEvents","touchSlop","delayTouchStart","ref2","ref3","delayMouseStart","ref4","ref5","ref6","distance","x1","y1","x2","y2","sqrt","pow","abs","inAngleRanges","angleRanges","angle","atan2","PI","ar","start","end","MouseButtons","Left","Right","Center","MouseButton","eventShouldStartDrag","button","eventShouldEndDrag","buttons","isTouchEvent","targetTouches","_el$getBoundingClient2","getEventClientTouchOffset","lastTargetTouchFallback","touches","supportsPassive","supported","eventNames","mouse","move","contextmenu","touch","keyboard","keydown","TouchBackendImpl","targetNodes","getTopMoveStartHandler","handleTopMoveStartCapture","handleTopMove","handleTopMoveCapture","handleTopMoveEndCapture","handleCancelOnEscape","_mouseClientOffset","handleTopMoveStart","uninstallSourceNodeRemovalObserver","subject","event","capture","passive","listenerTypes","listenerType","evt","handleMoveStart","bind","handleMove","coords","droppedOn","elementFromPoint","childMatch","handleTopMoveStartDelay","installSourceNodeRemovalObserver","draggedSourceNode","draggedSourceNodeRemovalObserver","resurrectSourceNode","childList","style","display","removeAttribute","appendChild","disconnect","element","moveStartSourceIds","waitingForDelay","timeout","_evt","e1","_isScrolling","hasOwnProperty","cancelable","dragOverTargetNodes","elementsAtPoint","elementsFromPoint","elementsAtPointExtended","nodeId","currentNode","orderedDragOverTargetIds","_getDropTargetId","ids","targetNode","TouchBackend","isTouchDevice","maxTouchPoints"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;QAAA;QACA;QACA,IAAIA,SAAS,GAAG,WAAW;QAE3B,SAASC,oBAAoBA,CAACC,MAAM,EAAE;UACpC,IAAIC,KAAK;UACT,OAAO;YACLC,GAAG,EAAE,SAASA,GAAGA,CAACC,GAAG,EAAE;cACrB,IAAIF,KAAK,IAAID,MAAM,CAACC,KAAK,CAACE,GAAG,EAAEA,GAAG,CAAC,EAAE;gBACnC,OAAOF,KAAK,CAACG,KAAK;cACnB;cAED,OAAON,SAAS;YACjB,CAAA;YACDO,GAAG,EAAE,SAASA,GAAGA,CAACF,GAAG,EAAEC,KAAK,EAAE;cAC5BH,KAAK,GAAG;gBACNE,GAAG,EAAEA,GAAG;gBACRC,KAAK,EAAEA;cACf,CAAO;YACF,CAAA;YACDE,UAAU,EAAE,SAASA,UAAUA,CAAA,EAAG;cAChC,OAAOL,KAAK,GAAG,CAACA,KAAK,CAAC,GAAG,EAAE;YAC5B,CAAA;YACDM,KAAK,EAAE,SAASA,KAAKA,CAAA,EAAG;cACtBN,KAAK,GAAGO,SAAS;YAClB;UACL,CAAG;QACH;QAEA,SAASC,cAAcA,CAACC,OAAO,EAAEV,MAAM,EAAE;UACvC,IAAIW,OAAO,GAAG,EAAE;UAEhB,SAAST,GAAGA,CAACC,GAAG,EAAE;YAChB,IAAIS,UAAU,GAAGD,OAAO,CAACE,SAAS,CAAC,UAAUZ,KAAK,EAAE;cAClD,OAAOD,MAAM,CAACG,GAAG,EAAEF,KAAK,CAACE,GAAG,CAAC;YACnC,CAAK,CAAC,CAAC,CAAA;;YAEH,IAAIS,UAAU,GAAG,CAAC,CAAC,EAAE;cACnB,IAAIX,KAAK,GAAGU,OAAO,CAACC,UAAU,CAAC,CAAC,CAAA;;cAEhC,IAAIA,UAAU,GAAG,CAAC,EAAE;gBAClBD,OAAO,CAACG,MAAM,CAACF,UAAU,EAAE,CAAC,CAAC;gBAC7BD,OAAO,CAACI,OAAO,CAACd,KAAK,CAAC;cACvB;cAED,OAAOA,KAAK,CAACG,KAAK;YACnB,CAAA,CAAA;;YAGD,OAAON,SAAS;UACjB;UAED,SAASO,GAAGA,CAACF,GAAG,EAAEC,KAAK,EAAE;YACvB,IAAIF,GAAG,CAACC,GAAG,CAAC,KAAKL,SAAS,EAAE;cAChC;cACMa,OAAO,CAACI,OAAO,CAAC;gBACdZ,GAAG,EAAEA,GAAG;gBACRC,KAAK,EAAEA;cACf,CAAO,CAAC;cAEF,IAAIO,OAAO,CAACK,MAAM,GAAGN,OAAO,EAAE;gBAC5BC,OAAO,CAACM,GAAG,CAAA,CAAE;cACd;YACF;UACF;UAED,SAASX,UAAUA,CAAA,EAAG;YACpB,OAAOK,OAAO;UACf;UAED,SAASJ,KAAKA,CAAA,EAAG;YACfI,OAAO,GAAG,EAAE;UACb;UAED,OAAO;YACLT,GAAG,EAAEA,GAAG;YACRG,GAAG,EAAEA,GAAG;YACRC,UAAU,EAAEA,UAAU;YACtBC,KAAK,EAAEA;UACX,CAAG;QACH;QAEO,IAAIW,oBAAoB,GAAG,SAASA,oBAAoBA,CAACC,CAAC,EAAEC,CAAC,EAAE;UACpE,OAAOD,CAAC,KAAKC,CAAC;QAChB,CAAC;QACM,SAASC,wBAAwBA,CAACC,aAAa,EAAE;UACtD,OAAO,SAASC,0BAA0BA,CAACC,IAAI,EAAEC,IAAI,EAAE;YACrD,IAAID,IAAI,KAAK,IAAI,IAAIC,IAAI,KAAK,IAAI,IAAID,IAAI,CAACR,MAAM,KAAKS,IAAI,CAACT,MAAM,EAAE;cACjE,OAAO,KAAK;YACb,CAAA,CAAA;;YAGD,IAAIA,MAAM,GAAGQ,IAAI,CAACR,MAAM;YAExB,KAAK,IAAIU,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGV,MAAM,EAAEU,CAAC,EAAE,EAAE;cAC/B,IAAI,CAACJ,aAAa,CAACE,IAAI,CAACE,CAAC,CAAC,EAAED,IAAI,CAACC,CAAC,CAAC,CAAC,EAAE;gBACpC,OAAO,KAAK;cACb;YACF;YAED,OAAO,IAAI;UACf,CAAG;QACH;QACA;QACA;QACO,SAASC,cAAcA,CAACC,IAAI,EAAEC,sBAAsB,EAAE;UAC3D,IAAIC,eAAe,GAAG,OAAOD,sBAAsB,KAAK,QAAQ,GAAGA,sBAAsB,GAAG;YAC1FP,aAAa,EAAEO;UACnB,CAAG;UACD,IAAIE,qBAAqB,GAAGD,eAAe,CAACR,aAAa;YACrDA,aAAa,GAAGS,qBAAqB,KAAK,KAAK,CAAC,GAAGb,oBAAoB,GAAGa,qBAAqB;YAC/FC,qBAAqB,GAAGF,eAAe,CAACpB,OAAO;YAC/CA,OAAO,GAAGsB,qBAAqB,KAAK,KAAK,CAAC,GAAG,CAAC,GAAGA,qBAAqB;YACtEC,mBAAmB,GAAGH,eAAe,CAACG,mBAAmB;UAC7D,IAAIC,UAAU,GAAGb,wBAAwB,CAACC,aAAa,CAAC;UACxD,IAAIa,KAAK,GAAGzB,OAAO,KAAK,CAAC,GAAGX,oBAAoB,CAACmC,UAAU,CAAC,GAAGzB,cAAc,CAACC,OAAO,EAAEwB,UAAU,CAAC,CAAC,CAAA;;UAEnG,SAASE,QAAQA,CAAA,EAAG;YAClB,IAAIhC,KAAK,GAAG+B,KAAK,CAACjC,GAAG,CAACmC,SAAS,CAAC;YAEhC,IAAIjC,KAAK,KAAKN,SAAS,EAAE;cAC7B;cACMM,KAAK,GAAGwB,IAAI,CAACU,KAAK,CAAC,IAAI,EAAED,SAAS,CAAC;cAEnC,IAAIJ,mBAAmB,EAAE;gBACvB,IAAItB,OAAO,GAAGwB,KAAK,CAAC7B,UAAU,EAAE;gBAChC,IAAIiC,aAAa,GAAG5B,OAAO,CAAC6B,IAAI,CAAC,UAAUvC,KAAK,EAAE;kBAChD,OAAOgC,mBAAmB,CAAChC,KAAK,CAACG,KAAK,EAAEA,KAAK,CAAC;gBACxD,CAAS,CAAC;gBAEF,IAAImC,aAAa,EAAE;kBACjBnC,KAAK,GAAGmC,aAAa,CAACnC,KAAK;gBAC5B;cACF;cAED+B,KAAK,CAAC9B,GAAG,CAACgC,SAAS,EAAEjC,KAAK,CAAC;YAC5B;YAED,OAAOA,KAAK;UACb;UAEDgC,QAAQ,CAACK,UAAU,GAAG,YAAY;YAChC,OAAON,KAAK,CAAC5B,KAAK,EAAE;UACxB,CAAG;UAED,OAAO6B,QAAQ;QACjB;QC/IA,SAASM,eAAeA,CAACC,KAAK,EAAE;UAC9B,IAAIC,YAAY,GAAGC,KAAK,CAACC,OAAO,CAACH,KAAK,CAAC,CAAC,CAAC,CAAC,GAAGA,KAAK,CAAC,CAAC,CAAC,GAAGA,KAAK;UAE7D,IAAI,CAACC,YAAY,CAACG,KAAK,CAAC,UAAUC,GAAG,EAAE;YACrC,OAAO,OAAOA,GAAG,KAAK,UAAU;UACpC,CAAG,CAAC,EAAE;YACF,IAAIC,eAAe,GAAGL,YAAY,CAACM,GAAG,CAAC,UAAUF,GAAG,EAAE;cACpD,OAAO,OAAOA,GAAG,KAAK,UAAU,GAAG,WAAW,IAAIA,GAAG,CAACG,IAAI,IAAI,SAAS,CAAC,GAAG,IAAI,GAAG,OAAOH,GAAG;YAClG,CAAK,CAAC,CAACI,IAAI,CAAC,IAAI,CAAC;YACb,MAAM,IAAIC,KAAK,CAAC,iGAAiG,GAAGJ,eAAe,GAAG,GAAG,CAAC;UAC3I;UAED,OAAOL,YAAY;QACrB;QAEO,SAASU,qBAAqBA,CAACC,OAAO,EAAE;UAC7C,KAAK,IAAIC,IAAI,GAAGnB,SAAS,CAACrB,MAAM,EAAEyC,sBAAsB,GAAG,IAAIZ,KAAK,CAACW,IAAI,GAAG,CAAC,GAAGA,IAAI,GAAG,CAAC,GAAG,CAAC,CAAC,EAAEE,IAAI,GAAG,CAAC,EAAEA,IAAI,GAAGF,IAAI,EAAEE,IAAI,EAAE,EAAE;YAC5HD,sBAAsB,CAACC,IAAI,GAAG,CAAC,CAAC,GAAGrB,SAAS,CAACqB,IAAI,CAAC;UACnD;UAED,IAAIC,cAAc,GAAG,SAASA,cAAcA,CAAA,EAAG;YAC7C,KAAK,IAAIC,KAAK,GAAGvB,SAAS,CAACrB,MAAM,EAAE2B,KAAK,GAAG,IAAIE,KAAK,CAACe,KAAK,CAAC,EAAEC,KAAK,GAAG,CAAC,EAAEA,KAAK,GAAGD,KAAK,EAAEC,KAAK,EAAE,EAAE;cAC9FlB,KAAK,CAACkB,KAAK,CAAC,GAAGxB,SAAS,CAACwB,KAAK,CAAC;YAChC;YAED,IAAIC,eAAe,GAAG,CAAC;YAEvB,IAAIC,WAAW,CAAC,CAAA;YACpB;YACA;;YAGI,IAAIC,qBAAqB,GAAG;cAC1BC,cAAc,EAAEzD;YACtB,CAAK,CAAC,CAAA;;YAEF,IAAI0D,UAAU,GAAGvB,KAAK,CAAC1B,GAAG,EAAE,CAAC,CAAA;;YAE7B,IAAI,OAAOiD,UAAU,KAAK,QAAQ,EAAE;cAClCF,qBAAqB,GAAGE,UAAU,CAAC,CAAA;;cAEnCA,UAAU,GAAGvB,KAAK,CAAC1B,GAAG,EAAE;YACzB;YAED,IAAI,OAAOiD,UAAU,KAAK,UAAU,EAAE;cACpC,MAAM,IAAIb,KAAK,CAAC,6EAA6E,GAAG,OAAOa,UAAU,GAAG,GAAG,CAAC;YACzH,CAAA,CAAA;YACL;;YAGI,IAAIC,qBAAqB,GAAGH,qBAAqB;cAC7CI,sBAAsB,GAAGD,qBAAqB,CAACF,cAAc;cAC7DA,cAAc,GAAGG,sBAAsB,KAAK,KAAK,CAAC,GAAGX,sBAAsB,GAAGW,sBAAsB,CAAC,CAAA;YAC7G;YACA;YACA;YACA;;YAEI,IAAIC,mBAAmB,GAAGxB,KAAK,CAACC,OAAO,CAACmB,cAAc,CAAC,GAAGA,cAAc,GAAG,CAACA,cAAc,CAAC;YAC3F,IAAIrB,YAAY,GAAGF,eAAe,CAACC,KAAK,CAAC;YACzC,IAAI2B,kBAAkB,GAAGf,OAAO,CAACjB,KAAK,CAAC,KAAK,CAAC,EAAE,CAAC,SAASiC,oBAAoBA,CAAA,EAAG;cAC9ET,eAAe,EAAE,CAAC,CAAA;;cAElB,OAAOI,UAAU,CAAC5B,KAAK,CAAC,IAAI,EAAED,SAAS,CAAC;YAC9C,CAAK,CAAC,CAACmC,MAAM,CAACH,mBAAmB,CAAC,CAAC,CAAC,CAAA;;YAEhC,IAAII,QAAQ,GAAGlB,OAAO,CAAC,SAASmB,mBAAmBA,CAAA,EAAG;cACpD,IAAIC,MAAM,GAAG,EAAE;cACf,IAAI3D,MAAM,GAAG4B,YAAY,CAAC5B,MAAM;cAEhC,KAAK,IAAIU,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGV,MAAM,EAAEU,CAAC,EAAE,EAAE;gBACvC;gBACA;gBACQiD,MAAM,CAACC,IAAI,CAAChC,YAAY,CAAClB,CAAC,CAAC,CAACY,KAAK,CAAC,IAAI,EAAED,SAAS,CAAC,CAAC;cACpD,CAAA,CAAA;;cAGD0B,WAAW,GAAGO,kBAAkB,CAAChC,KAAK,CAAC,IAAI,EAAEqC,MAAM,CAAC;cACpD,OAAOZ,WAAW;YACxB,CAAK,CAAC;YACFc,MAAM,CAACC,MAAM,CAACL,QAAQ,EAAE;cACtBP,UAAU,EAAEA,UAAU;cACtBI,kBAAkB,EAAEA,kBAAkB;cACtC1B,YAAY,EAAEA,YAAY;cAC1BmC,UAAU,EAAE,SAASA,UAAUA,CAAA,EAAG;gBAChC,OAAOhB,WAAW;cACnB,CAAA;cACDiB,cAAc,EAAE,SAASA,cAAcA,CAAA,EAAG;gBACxC,OAAOlB,eAAe;cACvB,CAAA;cACDmB,mBAAmB,EAAE,SAASA,mBAAmBA,CAAA,EAAG;gBAClD,OAAOnB,eAAe,GAAG,CAAC;cAC3B;YACP,CAAK,CAAC;YACF,OAAOW,QAAQ;UACnB,CAAG,CAAC,CAAA;;UAGF,OAAOd,cAAc;QACvB;QACU,IAACA,cAAc,GAAAuB,OAAA,CAAA,GAAA,EAAG,eAAe5B,qBAAqB,CAAC3B,cAAc,CAAA,CAAA;;QCvG/E;QACA;AACA;AACA;AACA;AACA;;QACW,SAASzB,GAAGA,CAACiF,GAAG,EAAEC,IAAI,EAAEC,YAAY,EAAE;UAC7C,OAAOD,IAAI,CAACE,KAAK,CAAC,GAAG,CAAC,CAACC,MAAM,CAAC,CAACpE,CAAC,EAAEqE,CAAC,KAAGrE,CAAC,IAAIA,CAAC,CAACqE,CAAC,CAAC,GAAGrE,CAAC,CAACqE,CAAC,CAAC,GAAGH,YAAY,IAAI,IAAI,EAC3EF,GAAG,CAAC;QACV;QACA;AACA;AACA;QAAW,SAASM,SAAOC,CAACC,KAAK,EAAEC,IAAI,EAAE;UACrC,OAAOD,KAAK,CAACE,MAAM,CAAEnE,CAAC,IAAGA,CAAC,KAAKkE,IACnC,CAAK;QACL;QAOA;AACA;AACA;AACA;QAAW,SAASE,QAAQA,CAACC,KAAK,EAAE;UAChC,OAAO,OAAOA,KAAK,KAAK,QAAQ;QACpC;QACA;AACA;AACA;AACA;AACA;QAAW,SAASC,GAAGA,CAACC,MAAM,EAAEC,MAAM,EAAE;UACpC,MAAMhD,GAAG,GAAG,IAAIiD,GAAG,EAAE;UACrB,MAAMC,UAAU,GAAIR,IAAI,IAAG;YACvB1C,GAAG,CAACmD,GAAG,CAACT,IAAI,EAAE1C,GAAG,CAACoD,GAAG,CAACV,IAAI,CAAC,GAAG1C,GAAG,CAAChD,GAAG,CAAC0F,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;UAC5D,CAAK;UACDK,MAAM,CAACM,OAAO,CAACH,UAAU,CAAC;UAC1BF,MAAM,CAACK,OAAO,CAACH,UAAU,CAAC;UAC1B,MAAMI,MAAM,GAAG,EAAE;UACjBtD,GAAG,CAACqD,OAAO,CAAC,CAACE,KAAK,EAAEtG,GAAG,KAAG;YACtB,IAAIsG,KAAK,KAAK,CAAC,EAAE;cACbD,MAAM,CAAC5B,IAAI,CAACzE,GAAG,CAAC;YACnB;UACT,CAAK,CAAC;UACF,OAAOqG,MAAM;QACjB;QACA;AACA;AACA;AACA;AACA;QAAW,SAASE,YAAYA,CAACT,MAAM,EAAEC,MAAM,EAAE;UAC7C,OAAOD,MAAM,CAACJ,MAAM,CAAEc,CAAC,IAAGT,MAAM,CAACU,OAAO,CAACD,CAAC,CAAC,GAAG,CAAC,CACnD,CAAK;QACL;QCtDO,MAAME,WAAW,GAAG,sBAAsB;QAC1C,MAAMC,UAAU,GAAG,qBAAqB;QACxC,MAAMC,mBAAmB,GAAG,8BAA8B;QAC1D,MAAMC,KAAK,GAAG,gBAAgB;QAC9B,MAAMC,IAAI,GAAG,eAAe;QAC5B,MAAMC,QAAQ,GAAG,mBAAmB;QCJpC,SAASC,eAAeA,CAACC,YAAY,EAAEC,kBAAkB,EAAE;UAC9D,OAAO;YACHC,IAAI,EAAET,WAAW;YACjBU,OAAO,EAAE;cACLF,kBAAkB,EAAEA,kBAAkB,IAAI,IAAI;cAC9CD,YAAY,EAAEA,YAAY,IAAI;YACjC;UACT,CAAK;QACL;QCLA,MAAMI,sBAAsB,GAAG;UAC3BF,IAAI,EAAET,WAAW;UACjBU,OAAO,EAAE;YACLH,YAAY,EAAE,IAAI;YAClBC,kBAAkB,EAAE;UACvB;QACL,CAAC;QACM,SAASI,eAAeA,CAACC,OAAO,EAAE;UACrC,OAAO,SAASC,SAASA,CAACC,SAAS,GAAG,EAAE,EAAEC,OAAO,GAAG;YAChDC,aAAa,EAAE;UACvB,CAAK,EAAE;YACC,MAAAC,qBAAA,GAA0EF,OAAO,CAAzEC,aAAa;cAAbA,aAAa,GAAAC,qBAAA,cAAE,IAAI,GAAAA,qBAAA;cAAGX,YAAY,GAAgCS,OAAO,CAAnDT,YAAY;cAAGY,qBAAqB,GAAQH,OAAO,CAApCG,qBAAqB;YAClE,MAAMC,OAAO,GAAGP,OAAO,CAACQ,UAAU,EAAE;YACpC,MAAMC,QAAQ,GAAGT,OAAO,CAACU,WAAW,EAAE;YAC9C;YACQV,OAAO,CAACW,QAAQ,CAAClB,eAAe,CAACC,YAAY,CAAC,CAAC;YAC/CkB,kBAAgB,CAACV,SAAS,EAAEK,OAAO,EAAEE,QAAQ,CAAC;YACtD;YACQ,MAAMI,QAAQ,GAAGC,kBAAkB,CAACZ,SAAS,EAAEK,OAAO,CAAC;YACvD,IAAIM,QAAQ,IAAI,IAAI,EAAE;cAClBb,OAAO,CAACW,QAAQ,CAACb,sBAAsB,CAAC;cACxC;YACH;YACT;YACQ,IAAIH,kBAAkB,GAAG,IAAI;YAC7B,IAAID,YAAY,EAAE;cACd,IAAI,CAACY,qBAAqB,EAAE;gBACxB,MAAM,IAAI3E,KAAK,CAAC,uCAAuC,CAAC;cAC3D;cACDoF,qCAAqC,CAACT,qBAAqB,CAAC;cAC5DX,kBAAkB,GAAGW,qBAAqB,CAACO,QAAQ,CAAC;YACvD;YACT;YACQb,OAAO,CAACW,QAAQ,CAAClB,eAAe,CAACC,YAAY,EAAEC,kBAAkB,CAAC,CAAC;YACnE,MAAMqB,MAAM,GAAGP,QAAQ,CAACQ,SAAS,CAACJ,QAAQ,CAAC;YAC3C,MAAM3C,IAAI,GAAG8C,MAAM,CAACf,SAAS,CAACM,OAAO,EAAEM,QAAQ,CAAC;YACxD;YACQ,IAAI3C,IAAI,IAAI,IAAI,EAAE;cACd,OAAOpF,SAAS;YACnB;YACDoI,kBAAkB,CAAChD,IAAI,CAAC;YACxBuC,QAAQ,CAACU,SAAS,CAACN,QAAQ,CAAC;YAC5B,MAAMO,QAAQ,GAAGX,QAAQ,CAACY,aAAa,CAACR,QAAQ,CAAC;YACjD,OAAO;cACHjB,IAAI,EAAER,UAAU;cAChBS,OAAO,EAAE;gBACLuB,QAAQ;gBACRlD,IAAI;gBACJ2C,QAAQ;gBACRnB,YAAY,EAAEA,YAAY,IAAI,IAAI;gBAClCC,kBAAkB,EAAEA,kBAAkB,IAAI,IAAI;gBAC9C2B,cAAc,EAAE,CAAC,CAAClB;cACrB;YACb,CAAS;UACT,CAAK;QACL;QACA,SAASQ,kBAAgBW,CAACrB,SAAS,EAAEK,OAAO,EAAEE,QAAQ,EAAE;UACpDe,SAAS,CAAC,CAACjB,OAAO,CAACkB,UAAU,CAAE,CAAA,EAAE,uCAAuC,CAAC;UACzEvB,SAAS,CAACrB,OAAO,CAAC,UAASgC,QAAQ,EAAE;YACjCW,SAAS,CAACf,QAAQ,CAACQ,SAAS,CAACJ,QAAQ,CAAC,EAAE,sCAAsC,CAAC;UACvF,CAAK,CAAC;QACN;QACA,SAASE,qCAAqCA,CAACT,qBAAqB,EAAE;UAClEkB,SAAS,CAAC,OAAOlB,qBAAqB,KAAK,UAAU,EAAE,0EAA0E,CAAC;QACtI;QACA,SAASY,kBAAkBA,CAAChD,IAAI,EAAE;UAC9BsD,SAAS,CAACpD,QAAQ,CAACF,IAAI,CAAC,EAAE,yBAAyB,CAAC;QACxD;QACA,SAAS4C,kBAAkBA,CAACZ,SAAS,EAAEK,OAAO,EAAE;UAC5C,IAAIM,QAAQ,GAAG,IAAI;UACnB,KAAI,IAAI7G,CAAC,GAAGkG,SAAS,CAAC5G,MAAM,GAAG,CAAC,EAAEU,CAAC,IAAI,CAAC,EAAEA,CAAC,EAAE,EAAC;YAC1C,IAAIuG,OAAO,CAACmB,aAAa,CAACxB,SAAS,CAAClG,CAAC,CAAC,CAAC,EAAE;cACrC6G,QAAQ,GAAGX,SAAS,CAAClG,CAAC,CAAC;cACvB;YACH;UACJ;UACD,OAAO6G,QAAQ;QACnB;QCjFA,SAASc,iBAAeC,CAACnE,GAAG,EAAEhF,GAAG,EAAEC,KAAK,EAAE;UACtC,IAAID,GAAG,IAAIgF,GAAG,EAAE;YACZN,MAAM,CAAC0E,cAAc,CAACpE,GAAG,EAAEhF,GAAG,EAAE;cAC5BC,KAAK,EAAEA,KAAK;cACZoJ,UAAU,EAAE,IAAI;cAChBC,YAAY,EAAE,IAAI;cAClBC,QAAQ,EAAE;YACtB,CAAS,CAAC;UACV,CAAK,MAAM;YACHvE,GAAG,CAAChF,GAAG,CAAC,GAAGC,KAAK;UACnB;UACD,OAAO+E,GAAG;QACd;QACA,SAASwE,eAAaC,CAACC,MAAM,EAAE;UAC3B,KAAI,IAAInI,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGW,SAAS,CAACrB,MAAM,EAAEU,CAAC,EAAE,EAAC;YACrC,IAAIgH,MAAM,GAAGrG,SAAS,CAACX,CAAC,CAAC,IAAI,IAAI,GAAGW,SAAS,CAACX,CAAC,CAAC,GAAG,EAAE;YACrD,IAAIoI,OAAO,GAAGjF,MAAM,CAACkF,IAAI,CAACrB,MAAM,CAAC;YACjC,IAAI,OAAO7D,MAAM,CAACmF,qBAAqB,KAAK,UAAU,EAAE;cACpDF,OAAO,GAAGA,OAAO,CAACtF,MAAM,CAACK,MAAM,CAACmF,qBAAqB,CAACtB,MAAM,CAAC,CAAC7C,MAAM,CAAC,UAASoE,GAAG,EAAE;gBAC/E,OAAOpF,MAAM,CAACqF,wBAAwB,CAACxB,MAAM,EAAEuB,GAAG,CAAC,CAACT,UAAU;cACjE,CAAA,CAAC,CAAC;YACN;YACDM,OAAO,CAACvD,OAAO,CAAC,UAASpG,GAAG,EAAE;cAC1BkJ,iBAAe,CAACQ,MAAM,EAAE1J,GAAG,EAAEuI,MAAM,CAACvI,GAAG,CAAC,CAAC;YACrD,CAAS,CAAC;UACL;UACD,OAAO0J,MAAM;QACjB;QAIO,SAASM,UAAUA,CAACzC,OAAO,EAAE;UAChC,OAAO,SAAS0C,IAAIA,CAACvC,OAAO,GAAG,EAAE,EAAE;YAC/B,MAAMI,OAAO,GAAGP,OAAO,CAACQ,UAAU,EAAE;YACpC,MAAMC,QAAQ,GAAGT,OAAO,CAACU,WAAW,EAAE;YACtCE,gBAAgB,CAACL,OAAO,CAAC;YACzB,MAAMoC,SAAS,GAAGC,mBAAmB,CAACrC,OAAO,CAAC;YACtD;YACQoC,SAAS,CAAC9D,OAAO,CAAC,CAACgE,QAAQ,EAAEC,KAAK,KAAG;cACjC,MAAMC,UAAU,GAAGC,mBAAmB,CAACH,QAAQ,EAAEC,KAAK,EAAErC,QAAQ,EAAEF,OAAO,CAAC;cAC1E,MAAM0C,MAAM,GAAG;gBACXrD,IAAI,EAAEL,IAAI;gBACVM,OAAO,EAAE;kBACLkD,UAAU,EAAEd,eAAa,CAAC,EAAE,EAAE9B,OAAO,EAAE4C,UAAU;gBACpD;cACjB,CAAa;cACD/C,OAAO,CAACW,QAAQ,CAACsC,MAAM,CAAC;YACpC,CAAS,CAAC;UACV,CAAK;QACL;QACA,SAASrC,gBAAgBA,CAACL,OAAO,EAAE;UAC/BiB,SAAS,CAACjB,OAAO,CAACkB,UAAU,CAAE,CAAA,EAAE,sCAAsC,CAAC;UACvED,SAAS,CAAC,CAACjB,OAAO,CAAC2C,OAAO,CAAE,CAAA,EAAE,mDAAmD,CAAC;QACtF;QACA,SAASF,mBAAmBA,CAACH,QAAQ,EAAEC,KAAK,EAAErC,QAAQ,EAAEF,OAAO,EAAE;UAC7D,MAAM4B,MAAM,GAAG1B,QAAQ,CAAC0C,SAAS,CAACN,QAAQ,CAAC;UAC3C,IAAIE,UAAU,GAAGZ,MAAM,GAAGA,MAAM,CAACO,IAAI,CAACnC,OAAO,EAAEsC,QAAQ,CAAC,GAAG/J,SAAS;UACpEsK,oBAAoB,CAACL,UAAU,CAAC;UAChC,IAAI,OAAOA,UAAU,KAAK,WAAW,EAAE;YACnCA,UAAU,GAAGD,KAAK,KAAK,CAAC,GAAG,CAAE,CAAA,GAAGvC,OAAO,CAAC8C,aAAa,CAAA,CAAE;UAC1D;UACD,OAAON,UAAU;QACrB;QACA,SAASK,oBAAoBA,CAACL,UAAU,EAAE;UACtCvB,SAAS,CAAC,OAAOuB,UAAU,KAAK,WAAW,IAAI3E,QAAQ,CAAC2E,UAAU,CAAC,EAAE,oDAAoD,CAAC;QAC9H;QACA,SAASH,mBAAmBA,CAACrC,OAAO,EAAE;UAClC,MAAMoC,SAAS,GAAGpC,OAAO,CAAC+C,YAAY,CAAE,CAAA,CAACnF,MAAM,CAACoC,OAAO,CAACgD,eAAe,EAAEhD,OAAO,CAAC;UACjFoC,SAAS,CAACa,OAAO,CAAA,CAAE;UACnB,OAAOb,SAAS;QACpB;QCpEO,SAASc,aAAaA,CAACzD,OAAO,EAAE;UACnC,OAAO,SAAS0D,OAAOA,CAAA,EAAG;YACtB,MAAMnD,OAAO,GAAGP,OAAO,CAACQ,UAAU,EAAE;YACpC,MAAMC,QAAQ,GAAGT,OAAO,CAACU,WAAW,EAAE;YACtCiD,gBAAgB,CAACpD,OAAO,CAAC;YACzB,MAAMM,QAAQ,GAAGN,OAAO,CAACqD,WAAW,EAAE;YACtC,IAAI/C,QAAQ,IAAI,IAAI,EAAE;cAClB,MAAMG,MAAM,GAAGP,QAAQ,CAACQ,SAAS,CAACJ,QAAQ,EAAE,IAAI,CAAC;cACjDG,MAAM,CAAC0C,OAAO,CAACnD,OAAO,EAAEM,QAAQ,CAAC;cACjCJ,QAAQ,CAACoD,WAAW,CAAA,CAAE;YACzB;YACD,OAAO;cACHjE,IAAI,EAAEJ;YAClB,CAAS;UACT,CAAK;QACL;QACA,SAASmE,gBAAgBA,CAACpD,OAAO,EAAE;UAC/BiB,SAAS,CAACjB,OAAO,CAACkB,UAAU,CAAE,CAAA,EAAE,yCAAyC,CAAC;QAC9E;QCpBO,SAASqC,WAAWA,CAACC,UAAU,EAAEC,eAAe,EAAE;UACrD,IAAIA,eAAe,KAAK,IAAI,EAAE;YAC1B,OAAOD,UAAU,KAAK,IAAI;UAC7B;UACD,OAAO5I,KAAK,CAACC,OAAO,CAAC2I,UAAU,CAAC,GAAGA,UAAU,CAACE,IAAI,CAAEhF,CAAC,IAAGA,CAAC,KAAK+E,eAClE,CAAK,GAAGD,UAAU,KAAKC,eAAe;QACtC;QCHO,SAASE,WAAWA,CAAClE,OAAO,EAAE;UACjC,OAAO,SAASmE,KAAKA,CAACC,YAAY,EAAE;YAAE1E;UAAY,CAAG,GAAG,CAAA,CAAE,EAAE;YACxD2E,sBAAsB,CAACD,YAAY,CAAC;YACpC,MAAMzB,SAAS,GAAGyB,YAAY,CAACE,KAAK,CAAC,CAAC,CAAC;YACvC,MAAM/D,OAAO,GAAGP,OAAO,CAACQ,UAAU,EAAE;YACpC,MAAMC,QAAQ,GAAGT,OAAO,CAACU,WAAW,EAAE;YACtC,MAAMsD,eAAe,GAAGzD,OAAO,CAACgE,WAAW,EAAE;YAC7CC,0BAA0B,CAAC7B,SAAS,EAAElC,QAAQ,EAAEuD,eAAe,CAAC;YAChES,eAAe,CAAC9B,SAAS,EAAEpC,OAAO,EAAEE,QAAQ,CAAC;YAC7CiE,eAAe,CAAC/B,SAAS,EAAEpC,OAAO,EAAEE,QAAQ,CAAC;YAC7C,OAAO;cACHb,IAAI,EAAEN,KAAK;cACXO,OAAO,EAAE;gBACL8C,SAAS;gBACTjD,YAAY,EAAEA,YAAY,IAAI;cACjC;YACb,CAAS;UACT,CAAK;QACL;QACA,SAAS2E,sBAAsBA,CAACD,YAAY,EAAE;UAC1C5C,SAAS,CAACrG,KAAK,CAACC,OAAO,CAACgJ,YAAY,CAAC,EAAE,oCAAoC,CAAC;QAChF;QACA,SAASK,eAAeA,CAAC9B,SAAS,EAAEpC,OAAO,EAAEE,QAAQ,EAAE;UACnDe,SAAS,CAACjB,OAAO,CAACkB,UAAU,CAAE,CAAA,EAAE,uCAAuC,CAAC;UACxED,SAAS,CAAC,CAACjB,OAAO,CAAC2C,OAAO,CAAE,CAAA,EAAE,+BAA+B,CAAC;UAC9D,KAAI,IAAIlJ,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG2I,SAAS,CAACrJ,MAAM,EAAEU,CAAC,EAAE,EAAC;YACrC,MAAM6I,QAAQ,GAAGF,SAAS,CAAC3I,CAAC,CAAC;YAC7BwH,SAAS,CAACmB,SAAS,CAACgC,WAAW,CAAC9B,QAAQ,CAAC,KAAK7I,CAAC,EAAE,sDAAsD,CAAC;YACxG,MAAMmI,MAAM,GAAG1B,QAAQ,CAAC0C,SAAS,CAACN,QAAQ,CAAC;YAC3CrB,SAAS,CAACW,MAAM,EAAE,sCAAsC,CAAC;UAC5D;QACL;QACA,SAASqC,0BAA0BA,CAAC7B,SAAS,EAAElC,QAAQ,EAAEuD,eAAe,EAAE;UAC1E;UACA;UACA;UACI,KAAI,IAAIhK,CAAC,GAAG2I,SAAS,CAACrJ,MAAM,GAAG,CAAC,EAAEU,CAAC,IAAI,CAAC,EAAEA,CAAC,EAAE,EAAC;YAC1C,MAAM6I,QAAQ,GAAGF,SAAS,CAAC3I,CAAC,CAAC;YAC7B,MAAM+J,UAAU,GAAGtD,QAAQ,CAACmE,aAAa,CAAC/B,QAAQ,CAAC;YACnD,IAAI,CAACiB,WAAW,CAACC,UAAU,EAAEC,eAAe,CAAC,EAAE;cAC3CrB,SAAS,CAACvJ,MAAM,CAACY,CAAC,EAAE,CAAC,CAAC;YACzB;UACJ;QACL;QACA,SAAS0K,eAAeA,CAAC/B,SAAS,EAAEpC,OAAO,EAAEE,QAAQ,EAAE;UACvD;UACIkC,SAAS,CAAC9D,OAAO,CAAC,UAASgE,QAAQ,EAAE;YACjC,MAAMV,MAAM,GAAG1B,QAAQ,CAAC0C,SAAS,CAACN,QAAQ,CAAC;YAC3CV,MAAM,CAACgC,KAAK,CAAC5D,OAAO,EAAEsC,QAAQ,CAAC;UACvC,CAAK,CAAC;QACN;QCpDO,SAASgC,uBAAuBA,CAAC7E,OAAO,EAAE;UAC7C,OAAO,SAAS8E,iBAAiBA,CAAA,EAAG;YAChC,MAAMvE,OAAO,GAAGP,OAAO,CAACQ,UAAU,EAAE;YACpC,IAAID,OAAO,CAACkB,UAAU,EAAE,EAAE;cACtB,OAAO;gBACH7B,IAAI,EAAEP;cACtB,CAAa;YACJ;YACD;UACR,CAAK;QACL;QCLO,SAAS0F,qBAAqBA,CAAC/E,OAAO,EAAE;UAC3C,OAAO;YACHC,SAAS,EAAEF,eAAe,CAACC,OAAO,CAAC;YACnC8E,iBAAiB,EAAED,uBAAuB,CAAC7E,OAAO,CAAC;YACnDmE,KAAK,EAAED,WAAW,CAAClE,OAAO,CAAC;YAC3B0C,IAAI,EAAED,UAAU,CAACzC,OAAO,CAAC;YACzB0D,OAAO,EAAED,aAAa,CAACzD,OAAO;UACtC,CAAK;QACL;QCbO,MAAMgF,mBAAmB,CAAC;UAC7BC,cAAcA,CAACC,OAAO,EAAE;YACpB,IAAI,CAACA,OAAO,GAAGA,OAAO;UACzB;UACD1E,UAAUA,CAAA,EAAG;YACT,OAAO,IAAI,CAACD,OAAO;UACtB;UACD4E,UAAUA,CAAA,EAAG;YACT,OAAO,IAAI,CAACD,OAAO;UACtB;UACDxE,WAAWA,CAAA,EAAG;YACV,OAAO,IAAI,CAACH,OAAO,CAACE,QAAQ;UAC/B;UACD2E,UAAUA,CAAA,EAAG;YACjB,+DAAwE,MAAMpF,OAAO,GAAG,IAAI;YACpF,MAAQW,QAAQ,GAAM,IAAI,CAAC0E,KAAK,CAAxB1E,QAAQ;YAChB,SAAS2E,iBAAiBA,CAACC,aAAa,EAAE;cACtC,OAAO,CAAC,GAAGC,IAAI,KAAG;gBACd,MAAMvC,MAAM,GAAGsC,aAAa,CAAC3K,KAAK,CAACoF,OAAO,EAAEwF,IAAI,CAAC;gBACjD,IAAI,OAAOvC,MAAM,KAAK,WAAW,EAAE;kBAC/BtC,QAAQ,CAACsC,MAAM,CAAC;gBACnB;cACjB,CAAa;YACJ;YACD,MAAMwC,OAAO,GAAGV,qBAAqB,CAAC,IAAI,CAAC;YAC3C,OAAO5H,MAAM,CAACkF,IAAI,CAACoD,OAAO,CAAC,CAAC5H,MAAM,CAAC,CAAC6H,YAAY,EAAEjN,GAAG,KAAG;cACpD,MAAMwK,MAAM,GAAGwC,OAAO,CAAChN,GAAG,CAAC;cAC3BiN,YAAY,CAACjN,GAAG,CAAC,GAAG6M,iBAAiB,CAACrC,MAAM,CAAC;cAC7C,OAAOyC,YAAY;YACtB,CAAA,EAAE,CAAE,CAAA,CAAC;UACT;UACD/E,QAAQA,CAACsC,MAAM,EAAE;YACb,IAAI,CAACoC,KAAK,CAAC1E,QAAQ,CAACsC,MAAM,CAAC;UAC9B;UACD0C,WAAWA,CAACN,KAAK,EAAE9E,OAAO,EAAC;YACvB,IAAI,CAACqF,OAAO,GAAG,KAAK;YACpB,IAAI,CAACC,oBAAoB,GAAG,MAAI;cAC5B,MAAMC,WAAW,GAAG,IAAI,CAACT,KAAK,CAACU,QAAQ,CAAE,CAAA,CAACC,QAAQ,GAAG,CAAC;cACtD,IAAI,IAAI,CAACd,OAAO,EAAE;gBACd,IAAIY,WAAW,IAAI,CAAC,IAAI,CAACF,OAAO,EAAE;kBAC9B,IAAI,CAACV,OAAO,CAACe,KAAK,EAAE;kBACpB,IAAI,CAACL,OAAO,GAAG,IAAI;gBACtB,CAAA,MAAM,IAAI,CAACE,WAAW,IAAI,IAAI,CAACF,OAAO,EAAE;kBACrC,IAAI,CAACV,OAAO,CAACgB,QAAQ,EAAE;kBACvB,IAAI,CAACN,OAAO,GAAG,KAAK;gBACvB;cACJ;YACb,CAAS;YACD,IAAI,CAACP,KAAK,GAAGA,KAAK;YAClB,IAAI,CAAC9E,OAAO,GAAGA,OAAO;YACtB8E,KAAK,CAACc,SAAS,CAAC,IAAI,CAACN,oBAAoB,CAAC;UAC7C;QACL;;QCrDA;AACA;AACA;AACA;AACA;QAAW,SAASO,GAAGA,CAAC3M,CAAC,EAAEC,CAAC,EAAE;UAC1B,OAAO;YACH2M,CAAC,EAAE5M,CAAC,CAAC4M,CAAC,GAAG3M,CAAC,CAAC2M,CAAC;YACZC,CAAC,EAAE7M,CAAC,CAAC6M,CAAC,GAAG5M,CAAC,CAAC4M;UACnB,CAAK;QACL;QACA;AACA;AACA;AACA;AACA;QAAW,SAASC,QAAQA,CAAC9M,CAAC,EAAEC,CAAC,EAAE;UAC/B,OAAO;YACH2M,CAAC,EAAE5M,CAAC,CAAC4M,CAAC,GAAG3M,CAAC,CAAC2M,CAAC;YACZC,CAAC,EAAE7M,CAAC,CAAC6M,CAAC,GAAG5M,CAAC,CAAC4M;UACnB,CAAK;QACL;QACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;QAAW,SAAShG,qBAAqBA,CAACkG,KAAK,EAAE;UAC7C,MAAQ9G,YAAY,GAAwD8G,KAAK,CAAzE9G,YAAY;YAAG+G,mBAAmB,GAAkCD,KAAK,CAA1DC,mBAAmB;YAAGC,yBAAyB,GAAMF,KAAK,CAApCE,yBAAyB;UACtE,IAAI,CAAChH,YAAY,IAAI,CAAC+G,mBAAmB,IAAI,CAACC,yBAAyB,EAAE;YACrE,OAAO,IAAI;UACd;UACD,OAAOH,QAAQ,CAACH,GAAG,CAAC1G,YAAY,EAAEgH,yBAAyB,CAAC,EAAED,mBAAmB,CAAC;QACtF;QACA;AACA;AACA;AACA;AACA;QAAW,SAASE,8BAA8BA,CAACH,KAAK,EAAE;UACtD,MAAQ9G,YAAY,GAA4B8G,KAAK,CAA7C9G,YAAY;YAAG+G,mBAAmB,GAAMD,KAAK,CAA9BC,mBAAmB;UAC1C,IAAI,CAAC/G,YAAY,IAAI,CAAC+G,mBAAmB,EAAE;YACvC,OAAO,IAAI;UACd;UACD,OAAOF,QAAQ,CAAC7G,YAAY,EAAE+G,mBAAmB,CAAC;QACtD;QC3CO,MAAMG,IAAI,GAAG,EAAE;QACf,MAAMC,GAAG,GAAG,EAAE;QACrBD,IAAI,CAACE,WAAW,GAAG,IAAI;QACvBD,GAAG,CAACE,UAAU,GAAG,IAAI;QACrB;AACA;AACA;AACA;AACA;AACA;QAAW,SAASC,QAAQA,CAACC,QAAQ,EAAEC,UAAU,EAAE;UAC/C,IAAID,QAAQ,KAAKL,IAAI,EAAE;YACnB,OAAO,KAAK;UACf;UACD,IAAIK,QAAQ,KAAKJ,GAAG,IAAI,OAAOK,UAAU,KAAK,WAAW,EAAE;YACvD,OAAO,IAAI;UACd;UACD,MAAMC,SAAS,GAAGnI,YAAY,CAACkI,UAAU,EAAED,QAAQ,CAAC;UACpD,OAAOE,SAAS,CAAC7N,MAAM,GAAG,CAAC;QAC/B;QCfO,MAAM8N,mBAAmB,CAAC;UAC7BC,sBAAsBA,CAACC,QAAQ,EAAEnH,OAAO,GAAG,EAAE,EAAE;YAC3C,MAAQ+G,UAAU,GAAM/G,OAAO,CAAvB+G,UAAU;YAClB1F,SAAS,CAAC,OAAO8F,QAAQ,KAAK,UAAU,EAAE,8BAA8B,CAAC;YACzE9F,SAAS,CAAC,OAAO0F,UAAU,KAAK,WAAW,IAAI/L,KAAK,CAACC,OAAO,CAAC8L,UAAU,CAAC,EAAE,0DAA0D,CAAC;YACrI,IAAIK,WAAW,GAAG,IAAI,CAAClC,KAAK,CAACU,QAAQ,CAAA,CAAE,CAACyB,OAAO;YAC/C,MAAMC,YAAY,GAAGA,CAAA,KAAI;cACrB,MAAMjB,KAAK,GAAG,IAAI,CAACnB,KAAK,CAACU,QAAQ,CAAA,CAAE;cACnC,MAAM2B,cAAc,GAAGlB,KAAK,CAACgB,OAAO;cACpC,IAAI;gBACA,MAAMG,eAAe,GAAGD,cAAc,KAAKH,WAAW,IAAIG,cAAc,KAAKH,WAAW,GAAG,CAAC,IAAI,CAACP,QAAQ,CAACR,KAAK,CAACoB,eAAe,EAAEV,UAAU,CAAC;gBAC5I,IAAI,CAACS,eAAe,EAAE;kBAClBL,QAAQ,EAAE;gBACb;cACjB,CAAa,SAAQ;gBACLC,WAAW,GAAGG,cAAc;cAC/B;YACb,CAAS;YACD,OAAO,IAAI,CAACrC,KAAK,CAACc,SAAS,CAACsB,YAAY,CAAC;UAC5C;UACDI,uBAAuBA,CAACP,QAAQ,EAAE;YAC9B9F,SAAS,CAAC,OAAO8F,QAAQ,KAAK,UAAU,EAAE,8BAA8B,CAAC;YACzE,IAAIQ,aAAa,GAAG,IAAI,CAACzC,KAAK,CAACU,QAAQ,CAAA,CAAE,CAACgC,UAAU;YACpD,MAAMN,YAAY,GAAGA,CAAA,KAAI;cACrB,MAAMO,SAAS,GAAG,IAAI,CAAC3C,KAAK,CAACU,QAAQ,CAAA,CAAE,CAACgC,UAAU;cAClD,IAAIC,SAAS,KAAKF,aAAa,EAAE;gBAC7B;cACH;cACDA,aAAa,GAAGE,SAAS;cACzBV,QAAQ,EAAE;YACtB,CAAS;YACD,OAAO,IAAI,CAACjC,KAAK,CAACc,SAAS,CAACsB,YAAY,CAAC;UAC5C;UACD/F,aAAaA,CAACb,QAAQ,EAAE;YACpB,IAAI,CAACA,QAAQ,EAAE;cACX,OAAO,KAAK;YACf;YACD,MAAMG,MAAM,GAAG,IAAI,CAACP,QAAQ,CAACQ,SAAS,CAACJ,QAAQ,CAAC;YAChDW,SAAS,CAACR,MAAM,EAAE,6CAA6CH,QAAQ,EAAE,CAAC;YAC1E,IAAI,IAAI,CAACY,UAAU,EAAE,EAAE;cACnB,OAAO,KAAK;YACf;YACD,OAAOT,MAAM,CAACiH,OAAO,CAAC,IAAI,EAAEpH,QAAQ,CAAC;UACxC;UACD0C,eAAeA,CAACV,QAAQ,EAAE;YAC9B;YACQ,IAAI,CAACA,QAAQ,EAAE;cACX,OAAO,KAAK;YACf;YACD,MAAMV,MAAM,GAAG,IAAI,CAAC1B,QAAQ,CAAC0C,SAAS,CAACN,QAAQ,CAAC;YAChDrB,SAAS,CAACW,MAAM,EAAE,6CAA6CU,QAAQ,EAAE,CAAC;YAC1E,IAAI,CAAC,IAAI,CAACpB,UAAU,CAAE,CAAA,IAAI,IAAI,CAACyB,OAAO,CAAA,CAAE,EAAE;cACtC,OAAO,KAAK;YACf;YACD,MAAMa,UAAU,GAAG,IAAI,CAACtD,QAAQ,CAACmE,aAAa,CAAC/B,QAAQ,CAAC;YACxD,MAAMmB,eAAe,GAAG,IAAI,CAACO,WAAW,EAAE;YAC1C,OAAOT,WAAW,CAACC,UAAU,EAAEC,eAAe,CAAC,IAAI7B,MAAM,CAAC+F,OAAO,CAAC,IAAI,EAAErF,QAAQ,CAAC;UACpF;UACDpB,UAAUA,CAAA,EAAG;YACT,OAAO0G,OAAO,CAAC,IAAI,CAAC5D,WAAW,CAAA,CAAE,CAAC;UACrC;UACD6D,gBAAgBA,CAACvH,QAAQ,EAAE;YAC/B;YACQ,IAAI,CAACA,QAAQ,EAAE;cACX,OAAO,KAAK;YACf;YACD,MAAMG,MAAM,GAAG,IAAI,CAACP,QAAQ,CAACQ,SAAS,CAACJ,QAAQ,EAAE,IAAI,CAAC;YACtDW,SAAS,CAACR,MAAM,EAAE,6CAA6CH,QAAQ,EAAE,CAAC;YAC1E,IAAI,CAAC,IAAI,CAACY,UAAU,CAAA,CAAE,IAAI,CAAC,IAAI,CAACH,cAAc,CAAA,CAAE,EAAE;cAC9C,OAAO,KAAK;YACf;YACD,MAAM+G,UAAU,GAAG,IAAI,CAAC5H,QAAQ,CAACY,aAAa,CAACR,QAAQ,CAAC;YACxD,MAAMmD,eAAe,GAAG,IAAI,CAACO,WAAW,EAAE;YAC1C,IAAI8D,UAAU,KAAKrE,eAAe,EAAE;cAChC,OAAO,KAAK;YACf;YACD,OAAOhD,MAAM,CAACS,UAAU,CAAC,IAAI,EAAEZ,QAAQ,CAAC;UAC3C;UACDyH,YAAYA,CAACzF,QAAQ,EAAE1C,OAAO,GAAG;YAC7BoI,OAAO,EAAE;UACjB,CAAK,EAAE;YACP;YACQ,IAAI,CAAC1F,QAAQ,EAAE;cACX,OAAO,KAAK;YACf;YACD,MAAQ0F,OAAO,GAAMpI,OAAO,CAApBoI,OAAO;YACf,IAAI,CAAC,IAAI,CAAC9G,UAAU,EAAE,EAAE;cACpB,OAAO,KAAK;YACf;YACD,MAAMsC,UAAU,GAAG,IAAI,CAACtD,QAAQ,CAACmE,aAAa,CAAC/B,QAAQ,CAAC;YACxD,MAAMmB,eAAe,GAAG,IAAI,CAACO,WAAW,EAAE;YAC1C,IAAIP,eAAe,IAAI,CAACF,WAAW,CAACC,UAAU,EAAEC,eAAe,CAAC,EAAE;cAC9D,OAAO,KAAK;YACf;YACD,MAAMrB,SAAS,GAAG,IAAI,CAACW,YAAY,EAAE;YACrC,IAAI,CAACX,SAAS,CAACrJ,MAAM,EAAE;cACnB,OAAO,KAAK;YACf;YACD,MAAMwJ,KAAK,GAAGH,SAAS,CAACzD,OAAO,CAAC2D,QAAQ,CAAC;YACzC,IAAI0F,OAAO,EAAE;cACT,OAAOzF,KAAK,KAAKH,SAAS,CAACrJ,MAAM,GAAG,CAAC;YACjD,CAAS,MAAM;cACH,OAAOwJ,KAAK,GAAG,CAAC,CAAC;YACpB;UACJ;UACDyB,WAAWA,CAAA,EAAG;YACV,OAAO,IAAI,CAACc,KAAK,CAACU,QAAQ,CAAA,CAAE,CAACyC,aAAa,CAACpH,QAAQ;UACtD;UACDqH,OAAOA,CAAA,EAAG;YACN,OAAO,IAAI,CAACpD,KAAK,CAACU,QAAQ,CAAA,CAAE,CAACyC,aAAa,CAACtK,IAAI;UAClD;UACD0F,WAAWA,CAAA,EAAG;YACV,OAAO,IAAI,CAACyB,KAAK,CAACU,QAAQ,CAAA,CAAE,CAACyC,aAAa,CAAC3H,QAAQ;UACtD;UACDyC,YAAYA,CAAA,EAAG;YACX,OAAO,IAAI,CAAC+B,KAAK,CAACU,QAAQ,CAAA,CAAE,CAACyC,aAAa,CAAC7F,SAAS;UACvD;UACDU,aAAaA,CAAA,EAAG;YACZ,OAAO,IAAI,CAACgC,KAAK,CAACU,QAAQ,CAAA,CAAE,CAACyC,aAAa,CAACzF,UAAU;UACxD;UACDG,OAAOA,CAAA,EAAG;YACN,OAAO,IAAI,CAACmC,KAAK,CAACU,QAAQ,CAAA,CAAE,CAACyC,aAAa,CAACtF,OAAO;UACrD;UACD5B,cAAcA,CAAA,EAAG;YACb,OAAO6G,OAAO,CAAC,IAAI,CAAC9C,KAAK,CAACU,QAAQ,CAAA,CAAE,CAACyC,aAAa,CAAClH,cAAc,CAAC;UACrE;UACDoH,sBAAsBA,CAAA,EAAG;YACrB,OAAO,IAAI,CAACrD,KAAK,CAACU,QAAQ,CAAA,CAAE,CAACgC,UAAU,CAACtB,mBAAmB;UAC9D;UACDkC,4BAA4BA,CAAA,EAAG;YAC3B,OAAO,IAAI,CAACtD,KAAK,CAACU,QAAQ,CAAA,CAAE,CAACgC,UAAU,CAACrB,yBAAyB;UACpE;UACDkC,eAAeA,CAAA,EAAG;YACd,OAAO,IAAI,CAACvD,KAAK,CAACU,QAAQ,CAAA,CAAE,CAACgC,UAAU,CAACrI,YAAY;UACvD;UACDY,qBAAqBA,CAAA,EAAG;YACpB,OAAOA,qBAAqB,CAAC,IAAI,CAAC+E,KAAK,CAACU,QAAQ,CAAE,CAAA,CAACgC,UAAU,CAAC;UACjE;UACDpB,8BAA8BA,CAAA,EAAG;YAC7B,OAAOA,8BAA8B,CAAC,IAAI,CAACtB,KAAK,CAACU,QAAQ,CAAE,CAAA,CAACgC,UAAU,CAAC;UAC1E;UACDpC,WAAWA,CAACN,KAAK,EAAE5E,QAAQ,EAAC;YACxB,IAAI,CAAC4E,KAAK,GAAGA,KAAK;YAClB,IAAI,CAAC5E,QAAQ,GAAGA,QAAQ;UAC3B;QACL;;QCrJA;QACA;QACA;QACA;QACA;QAAmB,MAAMoI,KAAK,GAAG,OAAOC,MAAM,KAAK,WAAW,GAAGA,MAAM,GAAGC,IAAI;QAC9E,MAAMC,uBAAuB,GAAGH,KAAK,CAACI,gBAAgB,IAAIJ,KAAK,CAACK,sBAAsB;QAC/E,SAASC,wBAAwBA,CAACC,QAAQ,EAAE;UAC/C,OAAO,SAASC,WAAWA,CAAA,EAAG;YAClC;YACA;YACA;YACA;YACQ,MAAMC,aAAa,GAAGC,UAAU,CAACC,WAAW,EAAE,CAAC,CAAC;YACxD;YACA;YACA;YACQ,MAAMC,cAAc,GAAGC,WAAW,CAACF,WAAW,EAAE,EAAE,CAAC;YACnD,SAASA,WAAWA,CAAA,EAAG;cAC/B;cACA;cACYG,YAAY,CAACL,aAAa,CAAC;cAC3BM,aAAa,CAACH,cAAc,CAAC;cAC7BL,QAAQ,EAAE;YACb;UACT,CAAK;QACL;QACA;QACA;QACO,SAASS,mCAAmCA,CAACT,QAAQ,EAAE;UAC1D,IAAIU,MAAM,GAAG,CAAC;UACd,MAAMC,QAAQ,GAAG,IAAIf,uBAAuB,CAACI,QAAQ,CAAC;UACtD,MAAMY,IAAI,GAAGC,QAAQ,CAACC,cAAc,CAAC,EAAE,CAAC;UACxCH,QAAQ,CAACI,OAAO,CAACH,IAAI,EAAE;YACnBI,aAAa,EAAE;UACvB,CAAK,CAAC;UACF,OAAO,SAASf,WAAWA,CAAA,EAAG;YAC1BS,MAAM,GAAG,CAACA,MAAM;YAChBE,IAAI,CAACK,IAAI,GAAGP,MAAM;UAC1B,CAAK;QACL;QACO,MAAMQ,eAAe,GAAG,OAAOtB,uBAAuB,KAAK,UAAU;QAAA;QAC5E;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACAa,mCAAmC;QAAA;QACnC;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACAV,wBAAwB;QCzEjB,MAAMoB,SAAS,CAAC;UACvB;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACIC,WAAWA,CAACC,IAAI,EAAE;YACd,MAAeC,CAAC,GAAqB,IAAI,CAAjCC,KAAK;cAAMC,YAAY,GAAM,IAAI,CAAtBA,YAAY;YAC/B,IAAI,CAACF,CAAC,CAACpR,MAAM,EAAE;cACXsR,YAAY,EAAE;cACd,IAAI,CAACC,QAAQ,GAAG,IAAI;YACvB;YACT;YACQH,CAAC,CAACA,CAAC,CAACpR,MAAM,CAAC,GAAGmR,IAAI;UACrB;UACD9E,WAAWA,CAAA,EAAE;YACT,IAAI,CAACgF,KAAK,GAAG,EAAE;YACvB;YACA;YACQ,IAAI,CAACG,aAAa,GAAG,EAAE;YAC/B;YACA;YACA;YACQ,IAAI,CAACD,QAAQ,GAAG,KAAK;YAC7B;YACA;YACA;YACQ,IAAI,CAAC/H,KAAK,GAAG,CAAC;YACtB;YACA;YACA;YACQ,IAAI,CAACiI,QAAQ,GAAG,IAAI;YAC5B;YACA;YACA;YACA;YACA;YACA;YACQ,IAAI,CAACC,KAAK,GAAG,MAAI;cACb,MAAeN,CAAC,GAAM,IAAI,CAAlBC,KAAK;cACb,OAAM,IAAI,CAAC7H,KAAK,GAAG4H,CAAC,CAACpR,MAAM,EAAC;gBACxB,MAAM2R,YAAY,GAAG,IAAI,CAACnI,KAAK;gBAC/C;gBACA;gBACgB,IAAI,CAACA,KAAK,EAAE;gBACZ4H,CAAC,CAACO,YAAY,CAAC,CAACC,IAAI,EAAE;gBACtC;gBACA;gBACA;gBACA;gBACA;gBACgB,IAAI,IAAI,CAACpI,KAAK,GAAG,IAAI,CAACiI,QAAQ,EAAE;kBAChD;kBACA;kBACoB,KAAI,IAAII,IAAI,GAAG,CAAC,EAAEC,SAAS,GAAGV,CAAC,CAACpR,MAAM,GAAG,IAAI,CAACwJ,KAAK,EAAEqI,IAAI,GAAGC,SAAS,EAAED,IAAI,EAAE,EAAC;oBAC1ET,CAAC,CAACS,IAAI,CAAC,GAAGT,CAAC,CAACS,IAAI,GAAG,IAAI,CAACrI,KAAK,CAAC;kBACjC;kBACD4H,CAAC,CAACpR,MAAM,IAAI,IAAI,CAACwJ,KAAK;kBACtB,IAAI,CAACA,KAAK,GAAG,CAAC;gBACjB;cACJ;cACD4H,CAAC,CAACpR,MAAM,GAAG,CAAC;cACZ,IAAI,CAACwJ,KAAK,GAAG,CAAC;cACd,IAAI,CAAC+H,QAAQ,GAAG,KAAK;YACjC,CAAS;YACT;YACA;YACA;YACQ,IAAI,CAACQ,oBAAoB,GAAIC,GAAG,IAAG;cAC/B,IAAI,CAACR,aAAa,CAAC5N,IAAI,CAACoO,GAAG,CAAC;cAC5B,IAAI,CAACC,iBAAiB,CAAA,CAAE;YACpC,CAAS;YACT;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACQ,IAAI,CAACX,YAAY,GAAGN,eAAe,CAAC,IAAI,CAACU,KAAK,CAAC;YAC/C,IAAI,CAACO,iBAAiB,GAAGpC,wBAAwB,CAAC,MAAI;cAC9D;cACY,IAAI,IAAI,CAAC2B,aAAa,CAACxR,MAAM,EAAE;gBAC3B,MAAM,IAAI,CAACwR,aAAa,CAACU,KAAK,EAAE;cACnC;YACb,CAAS,CAAC;UACL;QACL,CAAC,CAAA;QACD;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QCxIA;QACO,MAAMC,OAAO,CAAC;UACjBP,IAAIA,CAAA,EAAG;YACH,IAAI;cACA,IAAI,CAACT,IAAI,IAAI,IAAI,CAACA,IAAI,EAAE;YAC3B,CAAA,CAAC,OAAOiB,KAAK,EAAE;cACZ,IAAI,CAACC,OAAO,CAACD,KAAK,CAAC;YAC/B,CAAS,SAAQ;cACL,IAAI,CAACjB,IAAI,GAAG,IAAI;cAChB,IAAI,CAACmB,OAAO,CAAC,IAAI,CAAC;YACrB;UACJ;UACDjG,WAAWA,CAACgG,OAAO,EAAEC,OAAO,EAAC;YACzB,IAAI,CAACD,OAAO,GAAGA,OAAO;YACtB,IAAI,CAACC,OAAO,GAAGA,OAAO;YACtB,IAAI,CAACnB,IAAI,GAAG,IAAI;UACnB;QACL;QChBO,MAAMoB,WAAW,CAAC;UACrBC,MAAMA,CAACrB,IAAI,EAAE;YACT,MAAMsB,KAAK,GAAG,IAAI,CAACC,SAAS;YAC5B,MAAMC,EAAE,GAAGF,KAAK,CAACzS,MAAM,GAAGyS,KAAK,CAACxS,GAAG,CAAE,CAAA,GAAG,IAAIkS,OAAO,CAAC,IAAI,CAACE,OAAO,EAAG1M,CAAC,IAAG8M,KAAK,CAACA,KAAK,CAACzS,MAAM,CAAC,GAAG2F,CACrG,CAAS;YACDgN,EAAE,CAACxB,IAAI,GAAGA,IAAI;YACd,OAAOwB,EAAE;UACZ;UACDtG,WAAWA,CAACgG,OAAO,EAAC;YAChB,IAAI,CAACA,OAAO,GAAGA,OAAO;YACtB,IAAI,CAACK,SAAS,GAAG,EAAE;UACtB;QACL;QCXA,MAAME,SAAS,GAAG,IAAI3B,SAAS,EAAE;QACjC,MAAM4B,WAAW,GAAG,IAAIN,WAAW,CAACK,SAAS,CAACb,oBAAoB,CAAC;QACnE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;QAAW,SAASe,IAAIA,CAAC3B,IAAI,EAAE;UAC3ByB,SAAS,CAAC1B,WAAW,CAAC2B,WAAW,CAACL,MAAM,CAACrB,IAAI,CAAC,CAAC;QACnD;QCbO,MAAM4B,UAAU,GAAG,qBAAqB;QACxC,MAAMC,UAAU,GAAG,qBAAqB;QACxC,MAAMC,aAAa,GAAG,wBAAwB;QAC9C,MAAMC,aAAa,GAAG,wBAAwB;QAC9C,SAASC,SAASA,CAAC5L,QAAQ,EAAE;UAChC,OAAO;YACHjB,IAAI,EAAEyM,UAAU;YAChBxM,OAAO,EAAE;cACLgB;YACH;UACT,CAAK;QACL;QACO,SAAS6L,SAASA,CAAC7J,QAAQ,EAAE;UAChC,OAAO;YACHjD,IAAI,EAAE0M,UAAU;YAChBzM,OAAO,EAAE;cACLgD;YACH;UACT,CAAK;QACL;QACO,SAAS8J,YAAYA,CAAC9L,QAAQ,EAAE;UACnC,OAAO;YACHjB,IAAI,EAAE2M,aAAa;YACnB1M,OAAO,EAAE;cACLgB;YACH;UACT,CAAK;QACL;QACO,SAAS+L,YAAYA,CAAC/J,QAAQ,EAAE;UACnC,OAAO;YACHjD,IAAI,EAAE4M,aAAa;YACnB3M,OAAO,EAAE;cACLgD;YACH;UACT,CAAK;QACL;QClCO,SAASgK,sBAAsBA,CAAC7L,MAAM,EAAE;UAC3CQ,SAAS,CAAC,OAAOR,MAAM,CAACiH,OAAO,KAAK,UAAU,EAAE,oCAAoC,CAAC;UACrFzG,SAAS,CAAC,OAAOR,MAAM,CAACf,SAAS,KAAK,UAAU,EAAE,sCAAsC,CAAC;UACzFuB,SAAS,CAAC,OAAOR,MAAM,CAAC0C,OAAO,KAAK,UAAU,EAAE,oCAAoC,CAAC;QACzF;QACO,SAASoJ,sBAAsBA,CAAC3K,MAAM,EAAE;UAC3CX,SAAS,CAAC,OAAOW,MAAM,CAAC+F,OAAO,KAAK,UAAU,EAAE,oCAAoC,CAAC;UACrF1G,SAAS,CAAC,OAAOW,MAAM,CAACgC,KAAK,KAAK,UAAU,EAAE,kCAAkC,CAAC;UACjF3C,SAAS,CAAC,OAAOW,MAAM,CAACO,IAAI,KAAK,UAAU,EAAE,sCAAsC,CAAC;QACxF;QACO,SAASqK,YAAYA,CAACnN,IAAI,EAAEoN,UAAU,EAAE;UAC3C,IAAIA,UAAU,IAAI7R,KAAK,CAACC,OAAO,CAACwE,IAAI,CAAC,EAAE;YACnCA,IAAI,CAACf,OAAO,CAAEI,CAAC,IAAG8N,YAAY,CAAC9N,CAAC,EAAE,KAAK,CAC/C,CAAS;YACD;UACH;UACDuC,SAAS,CAAC,OAAO5B,IAAI,KAAK,QAAQ,IAAI,OAAOA,IAAI,KAAK,QAAQ,EAAEoN,UAAU,GAAG,6DAA6D,GAAG,wCAAwC,CAAC;QAC1L;QClBO,IAAIC,WAAW;QACtB,CAAC,UAASA,WAAW,EAAE;UACnBA,WAAW,CAAC,QAAQ,CAAC,GAAG,QAAQ;UAChCA,WAAW,CAAC,QAAQ,CAAC,GAAG,QAAQ;QACpC,CAAC,EAAEA,WAAW,KAAKA,WAAW,GAAG,CAAA,CAAE,CAAC,CAAC;QCJrC,IAAIC,YAAY,GAAG,CAAC;QACb,SAASC,eAAeA,CAAA,EAAG;UAC9B,OAAOD,YAAY,EAAE;QACzB;QCGA,SAASE,gBAAgBA,CAACC,IAAI,EAAE;UAC5B,MAAMC,EAAE,GAAGH,eAAe,EAAE,CAACI,QAAQ,EAAE;UACvC,QAAOF,IAAI;YACP,KAAKJ,WAAW,CAACO,MAAM;cACnB,OAAO,IAAIF,EAAE,EAAE;YACnB,KAAKL,WAAW,CAACQ,MAAM;cACnB,OAAO,IAAIH,EAAE,EAAE;YACnB;cACI,MAAM,IAAI3R,KAAK,CAAC,yBAAyB0R,IAAI,EAAE,CAAC;UACvD;QACL;QACA,SAASK,sBAAsBA,CAACC,SAAS,EAAE;UACvC,QAAOA,SAAS,CAAC,CAAC,CAAC;YACf,KAAK,GAAG;cACJ,OAAOV,WAAW,CAACO,MAAM;YAC7B,KAAK,GAAG;cACJ,OAAOP,WAAW,CAACQ,MAAM;YAC7B;cACI,MAAM,IAAI9R,KAAK,CAAC,4BAA4BgS,SAAS,EAAE,CAAC;UAC/D;QACL;QACA,SAASC,gBAAgBA,CAACpS,GAAG,EAAEqS,WAAW,EAAE;UACxC,MAAM5U,OAAO,GAAGuC,GAAG,CAACvC,OAAO,EAAE;UAC7B,IAAI6U,MAAM,GAAG,KAAK;UAClB,GAAG;YACC,MAAAC,aAAA,GAAuC9U,OAAO,CAACc,IAAI,EAAE;cAA7CiU,IAAI,GAAAD,aAAA,CAAJC,IAAI;cAAAC,mBAAA,GAAAC,cAAA,CAAAH,aAAA,CAAGrV,KAAK;cAAKA,KAAK,GAAAuV,mBAAA;YAC9B,IAAIvV,KAAK,KAAKmV,WAAW,EAAE;cACvB,OAAO,IAAI;YACd;YACDC,MAAM,GAAG,CAAC,CAACE,IAAI;UAClB,CAAA,QAAO,CAACF,MAAM;UACf,OAAO,KAAK;QAChB;QACO,MAAMK,mBAAmB,CAAC;UAC7B1B,SAASA,CAAC7M,IAAI,EAAEoB,MAAM,EAAE;YACpB+L,YAAY,CAACnN,IAAI,CAAC;YAClBiN,sBAAsB,CAAC7L,MAAM,CAAC;YAC9B,MAAMH,QAAQ,GAAG,IAAI,CAACuN,UAAU,CAACnB,WAAW,CAACO,MAAM,EAAE5N,IAAI,EAAEoB,MAAM,CAAC;YAClE,IAAI,CAACqE,KAAK,CAAC1E,QAAQ,CAAC8L,SAAS,CAAC5L,QAAQ,CAAC,CAAC;YACxC,OAAOA,QAAQ;UAClB;UACD6L,SAASA,CAAC9M,IAAI,EAAEuC,MAAM,EAAE;YACpB4K,YAAY,CAACnN,IAAI,EAAE,IAAI,CAAC;YACxBkN,sBAAsB,CAAC3K,MAAM,CAAC;YAC9B,MAAMU,QAAQ,GAAG,IAAI,CAACuL,UAAU,CAACnB,WAAW,CAACQ,MAAM,EAAE7N,IAAI,EAAEuC,MAAM,CAAC;YAClE,IAAI,CAACkD,KAAK,CAAC1E,QAAQ,CAAC+L,SAAS,CAAC7J,QAAQ,CAAC,CAAC;YACxC,OAAOA,QAAQ;UAClB;UACDwL,eAAeA,CAACC,OAAO,EAAE;YACrB,OAAOV,gBAAgB,CAAC,IAAI,CAACW,WAAW,EAAED,OAAO,CAAC,IAAIV,gBAAgB,CAAC,IAAI,CAACY,WAAW,EAAEF,OAAO,CAAC;UACpG;UACDrN,SAASA,CAACJ,QAAQ,EAAE4N,aAAa,GAAG,KAAK,EAAE;YACvCjN,SAAS,CAAC,IAAI,CAACkN,UAAU,CAAC7N,QAAQ,CAAC,EAAE,6BAA6B,CAAC;YACnE,MAAM8N,QAAQ,GAAGF,aAAa,IAAI5N,QAAQ,KAAK,IAAI,CAAC+N,cAAc;YAClE,MAAM5N,MAAM,GAAG2N,QAAQ,GAAG,IAAI,CAACE,YAAY,GAAG,IAAI,CAACN,WAAW,CAAC/V,GAAG,CAACqI,QAAQ,CAAC;YAC5E,OAAOG,MAAM;UAChB;UACDmC,SAASA,CAACN,QAAQ,EAAE;YAChBrB,SAAS,CAAC,IAAI,CAACsN,UAAU,CAACjM,QAAQ,CAAC,EAAE,6BAA6B,CAAC;YACnE,OAAO,IAAI,CAAC2L,WAAW,CAAChW,GAAG,CAACqK,QAAQ,CAAC;UACxC;UACDxB,aAAaA,CAACR,QAAQ,EAAE;YACpBW,SAAS,CAAC,IAAI,CAACkN,UAAU,CAAC7N,QAAQ,CAAC,EAAE,6BAA6B,CAAC;YACnE,OAAO,IAAI,CAACkO,KAAK,CAACvW,GAAG,CAACqI,QAAQ,CAAC;UAClC;UACD+D,aAAaA,CAAC/B,QAAQ,EAAE;YACpBrB,SAAS,CAAC,IAAI,CAACsN,UAAU,CAACjM,QAAQ,CAAC,EAAE,6BAA6B,CAAC;YACnE,OAAO,IAAI,CAACkM,KAAK,CAACvW,GAAG,CAACqK,QAAQ,CAAC;UAClC;UACD6L,UAAUA,CAACf,SAAS,EAAE;YAClB,MAAMN,IAAI,GAAGK,sBAAsB,CAACC,SAAS,CAAC;YAC9C,OAAON,IAAI,KAAKJ,WAAW,CAACO,MAAM;UACrC;UACDsB,UAAUA,CAACnB,SAAS,EAAE;YAClB,MAAMN,IAAI,GAAGK,sBAAsB,CAACC,SAAS,CAAC;YAC9C,OAAON,IAAI,KAAKJ,WAAW,CAACQ,MAAM;UACrC;UACDd,YAAYA,CAAC9L,QAAQ,EAAE;YACnBW,SAAS,CAAC,IAAI,CAACP,SAAS,CAACJ,QAAQ,CAAC,EAAE,8BAA8B,CAAC;YACnE,IAAI,CAACwE,KAAK,CAAC1E,QAAQ,CAACgM,YAAY,CAAC9L,QAAQ,CAAC,CAAC;YAC3CuL,IAAI,CAAC,MAAI;cACL,IAAI,CAACmC,WAAW,CAACS,MAAM,CAACnO,QAAQ,CAAC;cACjC,IAAI,CAACkO,KAAK,CAACC,MAAM,CAACnO,QAAQ,CAAC;YACvC,CAAS,CAAC;UACL;UACD+L,YAAYA,CAAC/J,QAAQ,EAAE;YACnBrB,SAAS,CAAC,IAAI,CAAC2B,SAAS,CAACN,QAAQ,CAAC,EAAE,8BAA8B,CAAC;YACnE,IAAI,CAACwC,KAAK,CAAC1E,QAAQ,CAACiM,YAAY,CAAC/J,QAAQ,CAAC,CAAC;YAC3C,IAAI,CAAC2L,WAAW,CAACQ,MAAM,CAACnM,QAAQ,CAAC;YACjC,IAAI,CAACkM,KAAK,CAACC,MAAM,CAACnM,QAAQ,CAAC;UAC9B;UACD1B,SAASA,CAACN,QAAQ,EAAE;YAChB,MAAMG,MAAM,GAAG,IAAI,CAACC,SAAS,CAACJ,QAAQ,CAAC;YACvCW,SAAS,CAACR,MAAM,EAAE,8BAA8B,CAAC;YACjD,IAAI,CAAC4N,cAAc,GAAG/N,QAAQ;YAC9B,IAAI,CAACgO,YAAY,GAAG7N,MAAM;UAC7B;UACD6C,WAAWA,CAAA,EAAG;YACVrC,SAAS,CAAC,IAAI,CAACqN,YAAY,EAAE,kCAAkC,CAAC;YAChE,IAAI,CAACD,cAAc,GAAG,IAAI;YAC1B,IAAI,CAACC,YAAY,GAAG,IAAI;UAC3B;UACDT,UAAUA,CAACf,IAAI,EAAEzN,IAAI,EAAE0O,OAAO,EAAE;YAC5B,MAAMhB,EAAE,GAAGF,gBAAgB,CAACC,IAAI,CAAC;YACjC,IAAI,CAAC0B,KAAK,CAACpQ,GAAG,CAAC2O,EAAE,EAAE1N,IAAI,CAAC;YACxB,IAAIyN,IAAI,KAAKJ,WAAW,CAACO,MAAM,EAAE;cAC7B,IAAI,CAACe,WAAW,CAAC5P,GAAG,CAAC2O,EAAE,EAAEgB,OAAO,CAAC;YAC7C,CAAS,MAAM,IAAIjB,IAAI,KAAKJ,WAAW,CAACQ,MAAM,EAAE;cACpC,IAAI,CAACe,WAAW,CAAC7P,GAAG,CAAC2O,EAAE,EAAEgB,OAAO,CAAC;YACpC;YACD,OAAOhB,EAAE;UACZ;UACD3H,WAAWA,CAACN,KAAK,EAAC;YACd,IAAI,CAAC0J,KAAK,GAAG,IAAItQ,GAAG,EAAE;YACtB,IAAI,CAAC8P,WAAW,GAAG,IAAI9P,GAAG,EAAE;YAC5B,IAAI,CAAC+P,WAAW,GAAG,IAAI/P,GAAG,EAAE;YAC5B,IAAI,CAACmQ,cAAc,GAAG,IAAI;YAC1B,IAAI,CAACC,YAAY,GAAG,IAAI;YACxB,IAAI,CAACxJ,KAAK,GAAGA,KAAK;UACrB;QACL;QC9HO,MAAM4J,cAAc,GAAGA,CAACxV,CAAC,EAAEC,CAAC,KAAGD,CAAC,KAAKC,CAAC;QAE7C;AACA;AACA;AACA;AACA;QAAW,SAASwV,cAAcA,CAACC,OAAO,EAAEC,OAAO,EAAE;UACjD,IAAI,CAACD,OAAO,IAAI,CAACC,OAAO,EAAE;YACtB,OAAO,IAAI;UACnB,CAAK,MAAM,IAAI,CAACD,OAAO,IAAI,CAACC,OAAO,EAAE;YAC7B,OAAO,KAAK;UACpB,CAAK,MAAM;YACH,OAAOD,OAAO,CAAC9I,CAAC,KAAK+I,OAAO,CAAC/I,CAAC,IAAI8I,OAAO,CAAC7I,CAAC,KAAK8I,OAAO,CAAC9I,CAAC;UAC5D;QACL;QACA;AACA;AACA;AACA;;QACW,SAAS+I,cAAcA,CAAC5V,CAAC,EAAEC,CAAC,EAAE4V,OAAO,GAAGL,cAAc,EAAE;UAC/D,IAAIxV,CAAC,CAACH,MAAM,KAAKI,CAAC,CAACJ,MAAM,EAAE;YACvB,OAAO,KAAK;UACf;UACD,KAAI,IAAIU,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGP,CAAC,CAACH,MAAM,EAAE,EAAEU,CAAC,EAAC;YAC7B,IAAI,CAACsV,OAAO,CAAC7V,CAAC,CAACO,CAAC,CAAC,EAAEN,CAAC,CAACM,CAAC,CAAC,CAAC,EAAE;cACtB,OAAO,KAAK;YACf;UACJ;UACD,OAAO,IAAI;QACf;QCxBO,SAAS6D,QAAM0R;QAAA;QACtBC,MAAM,GAAG5I,IAAI,EAAE3D,MAAM,EAAE;UACnB,QAAOA,MAAM,CAACrD,IAAI;YACd,KAAKN,KAAK;cACN;YACJ,KAAK+M,UAAU;YACf,KAAKC,UAAU;YACf,KAAKE,aAAa;YAClB,KAAKD,aAAa;cACd,OAAO3F,IAAI;YACf,KAAKxH,UAAU;YACf,KAAKC,mBAAmB;YACxB,KAAKG,QAAQ;YACb,KAAKD,IAAI;YACT;cACI,OAAOsH,GAAG;UACjB;UACD,MAAA4I,eAAA,GAA+CxM,MAAM,CAACpD,OAAO;YAAA6P,qBAAA,GAAAD,eAAA,CAArD9M,SAAS;YAATA,SAAS,GAAA+M,qBAAA,cAAE,EAAE,GAAAA,qBAAA;YAAAC,qBAAA,GAAAF,eAAA,CAAGG,aAAa;YAAbA,aAAa,GAAAD,qBAAA,cAAE,EAAE,GAAAA,qBAAA;UACzC,MAAM7Q,MAAM,GAAGR,GAAG,CAACqE,SAAS,EAAEiN,aAAa,CAAC;UAC5C,MAAMC,SAAS,GAAG/Q,MAAM,CAACxF,MAAM,GAAG,CAAC,IAAI,CAAC+V,cAAc,CAAC1M,SAAS,EAAEiN,aAAa,CAAC;UAChF,IAAI,CAACC,SAAS,EAAE;YACZ,OAAOjJ,IAAI;UACd;UACL;UACA;UACI,MAAMkJ,qBAAqB,GAAGF,aAAa,CAACA,aAAa,CAACtW,MAAM,GAAG,CAAC,CAAC;UACrE,MAAMyW,iBAAiB,GAAGpN,SAAS,CAACA,SAAS,CAACrJ,MAAM,GAAG,CAAC,CAAC;UACzD,IAAIwW,qBAAqB,KAAKC,iBAAiB,EAAE;YAC7C,IAAID,qBAAqB,EAAE;cACvBhR,MAAM,CAAC5B,IAAI,CAAC4S,qBAAqB,CAAC;YACrC;YACD,IAAIC,iBAAiB,EAAE;cACnBjR,MAAM,CAAC5B,IAAI,CAAC6S,iBAAiB,CAAC;YACjC;UACJ;UACD,OAAOjR,MAAM;QACjB;QCzCA,SAAS6C,iBAAeqO,CAACvS,GAAG,EAAEhF,GAAG,EAAEC,KAAK,EAAE;UACtC,IAAID,GAAG,IAAIgF,GAAG,EAAE;YACZN,MAAM,CAAC0E,cAAc,CAACpE,GAAG,EAAEhF,GAAG,EAAE;cAC5BC,KAAK,EAAEA,KAAK;cACZoJ,UAAU,EAAE,IAAI;cAChBC,YAAY,EAAE,IAAI;cAClBC,QAAQ,EAAE;YACtB,CAAS,CAAC;UACV,CAAK,MAAM;YACHvE,GAAG,CAAChF,GAAG,CAAC,GAAGC,KAAK;UACnB;UACD,OAAO+E,GAAG;QACd;QACA,SAASwE,eAAagO,CAAC9N,MAAM,EAAE;UAC3B,KAAI,IAAInI,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGW,SAAS,CAACrB,MAAM,EAAEU,CAAC,EAAE,EAAC;YACrC,IAAIgH,MAAM,GAAGrG,SAAS,CAACX,CAAC,CAAC,IAAI,IAAI,GAAGW,SAAS,CAACX,CAAC,CAAC,GAAG,EAAE;YACrD,IAAIoI,OAAO,GAAGjF,MAAM,CAACkF,IAAI,CAACrB,MAAM,CAAC;YACjC,IAAI,OAAO7D,MAAM,CAACmF,qBAAqB,KAAK,UAAU,EAAE;cACpDF,OAAO,GAAGA,OAAO,CAACtF,MAAM,CAACK,MAAM,CAACmF,qBAAqB,CAACtB,MAAM,CAAC,CAAC7C,MAAM,CAAC,UAASoE,GAAG,EAAE;gBAC/E,OAAOpF,MAAM,CAACqF,wBAAwB,CAACxB,MAAM,EAAEuB,GAAG,CAAC,CAACT,UAAU;cACjE,CAAA,CAAC,CAAC;YACN;YACDM,OAAO,CAACvD,OAAO,CAAC,UAASpG,GAAG,EAAE;cAC1BkJ,iBAAe,CAACQ,MAAM,EAAE1J,GAAG,EAAEuI,MAAM,CAACvI,GAAG,CAAC,CAAC;YACrD,CAAS,CAAC;UACL;UACD,OAAO0J,MAAM;QACjB;QAGA,MAAM+N,cAAY,GAAG;UACjBxJ,yBAAyB,EAAE,IAAI;UAC/BD,mBAAmB,EAAE,IAAI;UACzB/G,YAAY,EAAE;QAClB,CAAC;QACM,SAAS7B,QAAMsS,CAAC3J,KAAK,GAAG0J,cAAY,EAAEjN,MAAM,EAAE;UACjD,MAAQpD,OAAO,GAAMoD,MAAM,CAAnBpD,OAAO;UACf,QAAOoD,MAAM,CAACrD,IAAI;YACd,KAAKT,WAAW;YAChB,KAAKC,UAAU;cACX,OAAO;gBACHsH,yBAAyB,EAAE7G,OAAO,CAACF,kBAAkB;gBACrD8G,mBAAmB,EAAE5G,OAAO,CAACH,YAAY;gBACzCA,YAAY,EAAEG,OAAO,CAACH;cACtC,CAAa;YACL,KAAKJ,KAAK;cACN,IAAI4P,cAAc,CAAC1I,KAAK,CAAC9G,YAAY,EAAEG,OAAO,CAACH,YAAY,CAAC,EAAE;gBAC1D,OAAO8G,KAAK;cACf;cACD,OAAOvE,eAAa,CAAC,CAAE,CAAA,EAAEuE,KAAK,EAAE;gBAC5B9G,YAAY,EAAEG,OAAO,CAACH;cACtC,CAAa,CAAC;YACN,KAAKF,QAAQ;YACb,KAAKD,IAAI;cACL,OAAO2Q,cAAY;YACvB;cACI,OAAO1J,KAAK;UACnB;QACL;QC1DA,SAAS7E,iBAAeyO,CAAC3S,GAAG,EAAEhF,GAAG,EAAEC,KAAK,EAAE;UACtC,IAAID,GAAG,IAAIgF,GAAG,EAAE;YACZN,MAAM,CAAC0E,cAAc,CAACpE,GAAG,EAAEhF,GAAG,EAAE;cAC5BC,KAAK,EAAEA,KAAK;cACZoJ,UAAU,EAAE,IAAI;cAChBC,YAAY,EAAE,IAAI;cAClBC,QAAQ,EAAE;YACtB,CAAS,CAAC;UACV,CAAK,MAAM;YACHvE,GAAG,CAAChF,GAAG,CAAC,GAAGC,KAAK;UACnB;UACD,OAAO+E,GAAG;QACd;QACA,SAASwE,eAAaoO,CAAClO,MAAM,EAAE;UAC3B,KAAI,IAAInI,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGW,SAAS,CAACrB,MAAM,EAAEU,CAAC,EAAE,EAAC;YACrC,IAAIgH,MAAM,GAAGrG,SAAS,CAACX,CAAC,CAAC,IAAI,IAAI,GAAGW,SAAS,CAACX,CAAC,CAAC,GAAG,EAAE;YACrD,IAAIoI,OAAO,GAAGjF,MAAM,CAACkF,IAAI,CAACrB,MAAM,CAAC;YACjC,IAAI,OAAO7D,MAAM,CAACmF,qBAAqB,KAAK,UAAU,EAAE;cACpDF,OAAO,GAAGA,OAAO,CAACtF,MAAM,CAACK,MAAM,CAACmF,qBAAqB,CAACtB,MAAM,CAAC,CAAC7C,MAAM,CAAC,UAASoE,GAAG,EAAE;gBAC/E,OAAOpF,MAAM,CAACqF,wBAAwB,CAACxB,MAAM,EAAEuB,GAAG,CAAC,CAACT,UAAU;cACjE,CAAA,CAAC,CAAC;YACN;YACDM,OAAO,CAACvD,OAAO,CAAC,UAASpG,GAAG,EAAE;cAC1BkJ,iBAAe,CAACQ,MAAM,EAAE1J,GAAG,EAAEuI,MAAM,CAACvI,GAAG,CAAC,CAAC;YACrD,CAAS,CAAC;UACL;UACD,OAAO0J,MAAM;QACjB;QAIA,MAAM+N,YAAY,GAAG;UACjB9O,QAAQ,EAAE,IAAI;UACdlD,IAAI,EAAE,IAAI;UACV2C,QAAQ,EAAE,IAAI;UACd8B,SAAS,EAAE,EAAE;UACbI,UAAU,EAAE,IAAI;UAChBG,OAAO,EAAE,KAAK;UACd5B,cAAc,EAAE;QACpB,CAAC;QACM,SAASzD,QAAMyS,CAAC9J,KAAK,GAAG0J,YAAY,EAAEjN,MAAM,EAAE;UACjD,MAAQpD,OAAO,GAAMoD,MAAM,CAAnBpD,OAAO;UACf,QAAOoD,MAAM,CAACrD,IAAI;YACd,KAAKR,UAAU;cACX,OAAO6C,eAAa,CAAC,CAAE,CAAA,EAAEuE,KAAK,EAAE;gBAC5BpF,QAAQ,EAAEvB,OAAO,CAACuB,QAAQ;gBAC1BlD,IAAI,EAAE2B,OAAO,CAAC3B,IAAI;gBAClB2C,QAAQ,EAAEhB,OAAO,CAACgB,QAAQ;gBAC1BS,cAAc,EAAEzB,OAAO,CAACyB,cAAc;gBACtCyB,UAAU,EAAE,IAAI;gBAChBG,OAAO,EAAE;cACzB,CAAa,CAAC;YACN,KAAK7D,mBAAmB;cACpB,OAAO4C,eAAa,CAAC,CAAE,CAAA,EAAEuE,KAAK,EAAE;gBAC5BlF,cAAc,EAAE;cAChC,CAAa,CAAC;YACN,KAAKhC,KAAK;cACN,OAAO2C,eAAa,CAAC,CAAE,CAAA,EAAEuE,KAAK,EAAE;gBAC5B7D,SAAS,EAAE9C,OAAO,CAAC8C;cACnC,CAAa,CAAC;YACN,KAAK6J,aAAa;cACd,IAAIhG,KAAK,CAAC7D,SAAS,CAACzD,OAAO,CAACW,OAAO,CAACgD,QAAQ,CAAC,KAAK,CAAC,CAAC,EAAE;gBAClD,OAAO2D,KAAK;cACf;cACD,OAAOvE,eAAa,CAAC,CAAE,CAAA,EAAEuE,KAAK,EAAE;gBAC5B7D,SAAS,EAAE5E,SAAO,CAACyI,KAAK,CAAC7D,SAAS,EAAE9C,OAAO,CAACgD,QAAQ;cACpE,CAAa,CAAC;YACN,KAAKtD,IAAI;cACL,OAAO0C,eAAa,CAAC,CAAE,CAAA,EAAEuE,KAAK,EAAE;gBAC5BzD,UAAU,EAAElD,OAAO,CAACkD,UAAU;gBAC9BG,OAAO,EAAE,IAAI;gBACbP,SAAS,EAAE;cAC3B,CAAa,CAAC;YACN,KAAKnD,QAAQ;cACT,OAAOyC,eAAa,CAAC,CAAE,CAAA,EAAEuE,KAAK,EAAE;gBAC5BpF,QAAQ,EAAE,IAAI;gBACdlD,IAAI,EAAE,IAAI;gBACV2C,QAAQ,EAAE,IAAI;gBACdkC,UAAU,EAAE,IAAI;gBAChBG,OAAO,EAAE,KAAK;gBACd5B,cAAc,EAAE,IAAI;gBACpBqB,SAAS,EAAE;cAC3B,CAAa,CAAC;YACN;cACI,OAAO6D,KAAK;UACnB;QACL;QCrFO,SAAS3I,QAAM0S,CAAC/J,KAAK,GAAG,CAAC,EAAEvD,MAAM,EAAE;UACtC,QAAOA,MAAM,CAACrD,IAAI;YACd,KAAKyM,UAAU;YACf,KAAKC,UAAU;cACX,OAAO9F,KAAK,GAAG,CAAC;YACpB,KAAK+F,aAAa;YAClB,KAAKC,aAAa;cACd,OAAOhG,KAAK,GAAG,CAAC;YACpB;cACI,OAAOA,KAAK;UACnB;QACL;QCZO,SAAS3I,QAAM2S,CAAChK,KAAK,GAAG,CAAC,EAAE;UAC9B,OAAOA,KAAK,GAAG,CAAC;QACpB;QCFA,SAAS7E,iBAAe8O,CAAChT,GAAG,EAAEhF,GAAG,EAAEC,KAAK,EAAE;UACtC,IAAID,GAAG,IAAIgF,GAAG,EAAE;YACZN,MAAM,CAAC0E,cAAc,CAACpE,GAAG,EAAEhF,GAAG,EAAE;cAC5BC,KAAK,EAAEA,KAAK;cACZoJ,UAAU,EAAE,IAAI;cAChBC,YAAY,EAAE,IAAI;cAClBC,QAAQ,EAAE;YACtB,CAAS,CAAC;UACV,CAAK,MAAM;YACHvE,GAAG,CAAChF,GAAG,CAAC,GAAGC,KAAK;UACnB;UACD,OAAO+E,GAAG;QACd;QACA,SAASwE,eAAayO,CAACvO,MAAM,EAAE;UAC3B,KAAI,IAAInI,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGW,SAAS,CAACrB,MAAM,EAAEU,CAAC,EAAE,EAAC;YACrC,IAAIgH,MAAM,GAAGrG,SAAS,CAACX,CAAC,CAAC,IAAI,IAAI,GAAGW,SAAS,CAACX,CAAC,CAAC,GAAG,EAAE;YACrD,IAAIoI,OAAO,GAAGjF,MAAM,CAACkF,IAAI,CAACrB,MAAM,CAAC;YACjC,IAAI,OAAO7D,MAAM,CAACmF,qBAAqB,KAAK,UAAU,EAAE;cACpDF,OAAO,GAAGA,OAAO,CAACtF,MAAM,CAACK,MAAM,CAACmF,qBAAqB,CAACtB,MAAM,CAAC,CAAC7C,MAAM,CAAC,UAASoE,GAAG,EAAE;gBAC/E,OAAOpF,MAAM,CAACqF,wBAAwB,CAACxB,MAAM,EAAEuB,GAAG,CAAC,CAACT,UAAU;cACjE,CAAA,CAAC,CAAC;YACN;YACDM,OAAO,CAACvD,OAAO,CAAC,UAASpG,GAAG,EAAE;cAC1BkJ,iBAAe,CAACQ,MAAM,EAAE1J,GAAG,EAAEuI,MAAM,CAACvI,GAAG,CAAC,CAAC;YACrD,CAAS,CAAC;UACL;UACD,OAAO0J,MAAM;QACjB;QAOO,SAAStE,MAAMA,CAAC2I,KAAK,GAAG,CAAE,CAAA,EAAEvD,MAAM,EAAE;UACvC,OAAO;YACH2E,eAAe,EAAEA,QAAe,CAACpB,KAAK,CAACoB,eAAe,EAAE;cACpDhI,IAAI,EAAEqD,MAAM,CAACrD,IAAI;cACjBC,OAAO,EAAEoC,eAAa,CAAC,EAAE,EAAEgB,MAAM,CAACpD,OAAO,EAAE;gBACvC+P,aAAa,EAAEpX,GAAG,CAACgO,KAAK,EAAE,yBAAyB,EAAE,EAAE;cACvE,CAAa;YACb,CAAS,CAAC;YACFuB,UAAU,EAAEA,QAAU,CAACvB,KAAK,CAACuB,UAAU,EAAE9E,MAAM,CAAC;YAChD+C,QAAQ,EAAEA,QAAQ,CAACQ,KAAK,CAACR,QAAQ,EAAE/C,MAAM,CAAC;YAC1CuF,aAAa,EAAEA,QAAa,CAAChC,KAAK,CAACgC,aAAa,EAAEvF,MAAM,CAAC;YACzDuE,OAAO,EAAEA,QAAO,CAAChB,KAAK,CAACgB,OAAO;UACtC,CAAK;QACL;QC1CO,SAASmJ,qBAAqBA,CAACC,cAAc,EAAEC,aAAa,GAAG/X,SAAS,EAAEgY,cAAc,GAAG,CAAE,CAAA,EAAEC,SAAS,GAAG,KAAK,EAAE;UACrH,MAAM1L,KAAK,GAAG2L,iBAAiB,CAACD,SAAS,CAAC;UAC1C,MAAMxQ,OAAO,GAAG,IAAI6G,mBAAmB,CAAC/B,KAAK,EAAE,IAAI8I,mBAAmB,CAAC9I,KAAK,CAAC,CAAC;UAC9E,MAAMrF,OAAO,GAAG,IAAIgF,mBAAmB,CAACK,KAAK,EAAE9E,OAAO,CAAC;UACvD,MAAM2E,OAAO,GAAG0L,cAAc,CAAC5Q,OAAO,EAAE6Q,aAAa,EAAEC,cAAc,CAAC;UACtE9Q,OAAO,CAACiF,cAAc,CAACC,OAAO,CAAC;UAC/B,OAAOlF,OAAO;QAClB;QACA,SAASgR,iBAAiBA,CAACD,SAAS,EAAE;UACtC;UACA;UACI,MAAME,aAAa,GAAG,OAAOC,MAAM,KAAK,WAAW,IAAIA,MAAM,CAACC,4BAA4B;UAC1F,OAAOC,WAAW,CAACvT,MAAM,EAAEkT,SAAS,IAAIE,aAAa,IAAIA,aAAa,CAAC;YACnExV,IAAI,EAAE,UAAU;YAChB4V,UAAU,EAAE;UACf,CAAA,CAAC,CAAC;QACP;QCrBA,SAASC,wBAAwBA,CAACtQ,MAAM,EAAEuQ,QAAQ,EAAE;UAChD,IAAIvQ,MAAM,IAAI,IAAI,EAAE,OAAO,EAAE;UAC7B,IAAImB,MAAM,GAAGqP,6BAA6B,CAACxQ,MAAM,EAAEuQ,QAAQ,CAAC;UAC5D,IAAI9Y,GAAG,EAAEuB,CAAC;UACV,IAAImD,MAAM,CAACmF,qBAAqB,EAAE;YAC9B,IAAImP,gBAAgB,GAAGtU,MAAM,CAACmF,qBAAqB,CAACtB,MAAM,CAAC;YAC3D,KAAIhH,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGyX,gBAAgB,CAACnY,MAAM,EAAEU,CAAC,EAAE,EAAC;cACxCvB,GAAG,GAAGgZ,gBAAgB,CAACzX,CAAC,CAAC;cACzB,IAAIuX,QAAQ,CAACrS,OAAO,CAACzG,GAAG,CAAC,IAAI,CAAC,EAAE;cAChC,IAAI,CAAC0E,MAAM,CAACuU,SAAS,CAACC,oBAAoB,CAACzG,IAAI,CAAClK,MAAM,EAAEvI,GAAG,CAAC,EAAE;cAC9D0J,MAAM,CAAC1J,GAAG,CAAC,GAAGuI,MAAM,CAACvI,GAAG,CAAC;YAC5B;UACJ;UACD,OAAO0J,MAAM;QACjB;QACA,SAASqP,6BAA6BA,CAACxQ,MAAM,EAAEuQ,QAAQ,EAAE;UACrD,IAAIvQ,MAAM,IAAI,IAAI,EAAE,OAAO,EAAE;UAC7B,IAAImB,MAAM,GAAG,CAAA,CAAE;UACf,IAAIyP,UAAU,GAAGzU,MAAM,CAACkF,IAAI,CAACrB,MAAM,CAAC;UACpC,IAAIvI,GAAG,EAAEuB,CAAC;UACV,KAAIA,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG4X,UAAU,CAACtY,MAAM,EAAEU,CAAC,EAAE,EAAC;YAClCvB,GAAG,GAAGmZ,UAAU,CAAC5X,CAAC,CAAC;YACnB,IAAIuX,QAAQ,CAACrS,OAAO,CAACzG,GAAG,CAAC,IAAI,CAAC,EAAE;YAChC0J,MAAM,CAAC1J,GAAG,CAAC,GAAGuI,MAAM,CAACvI,GAAG,CAAC;UAC5B;UACD,OAAO0J,MAAM;QACjB;QAKA,IAAI6D,QAAQ,GAAG,CAAC;QAChB,MAAM6L,YAAY,GAAGC,MAAM,CAACC,GAAG,CAAC,gCAAgC,CAAC;QAC7D,IAAAC,WAAW,gBAAG,aAAcC,YAAAA,CAAAA,IAAI,CAAC,SAASD,WAAWA,CAACE,MAAM,EAAE;UAC1D,IAAEC,QAAQ,GAAMD,MAAM,CAApBC,QAAQ;YAAcC,KAAK,GAAGd,wBAAwB,CAACY,MAAM,EAAE,CACjE,UAAU,CACb,CAAC;UACF,MAAAG,mBAAA,GAAoCC,kBAAkB,CAACF,KAAK,CAAC;YAAAG,oBAAA,GAAArE,cAAA,CAAAmE,mBAAA;YAAtDrS,OAAO,GAAAuS,oBAAA;YAAEC,gBAAgB,GAAAD,oBAAA;UAEpC;AACA;AACA;AACA;;UACME,YAAAA,CAAAA,SAAS,CAAC,MAAI;YACZ,IAAID,gBAAgB,EAAE;cAClB,MAAME,OAAO,GAAGC,gBAAgB,EAAE;cAClC,EAAE3M,QAAQ;cACV,OAAO,MAAI;gBACP,IAAI,EAAEA,QAAQ,KAAK,CAAC,EAAE;kBAClB0M,OAAO,CAACb,YAAY,CAAC,GAAG,IAAI;gBAC/B;cACjB,CAAa;YACJ;YACD;UACH,CAAA,EAAE,EAAE,CAAC;UACN,oBAAqBe,iBAAI,CAAAC,GAAA,CAACC,UAAU,CAACC,QAAQ,EAAE;YAC3Cra,KAAK,EAAEsH,OAAO;YACdmS,QAAQ,EAAEA;UAClB,CAAK,CAAC;QACN,CAAC,CAAE,CAAA;QAIH,SAASG,kBAAkBA,CAACF,KAAK,EAAE;UAC/B,IAAI,SAAS,IAAIA,KAAK,EAAE;YACpB,MAAMpS,OAAO,GAAG;cACZgT,eAAe,EAAEZ,KAAK,CAACpS;YACnC,CAAS;YACD,OAAO,CACHA,OAAO,EACP,KAAK,CACR;UACJ;UACD,MAAMA,OAAO,GAAGiT,yBAAyB,CAACb,KAAK,CAAClN,OAAO,EAAEkN,KAAK,CAACM,OAAO,EAAEN,KAAK,CAACjS,OAAO,EAAEiS,KAAK,CAACrB,SAAS,CAAC;UACvG,MAAMyB,gBAAgB,GAAG,CAACJ,KAAK,CAACM,OAAO;UACvC,OAAO,CACH1S,OAAO,EACPwS,gBAAgB,CACnB;QACL;QACA,SAASS,yBAAyBA,CAAC/N,OAAO,EAAEwN,OAAO,GAAGC,gBAAgB,CAAA,CAAE,EAAExS,OAAO,EAAE4Q,SAAS,EAAE;UAC1F,MAAMmC,GAAG,GAAGR,OAAO;UACnB,IAAI,CAACQ,GAAG,CAACrB,YAAY,CAAC,EAAE;YACpBqB,GAAG,CAACrB,YAAY,CAAC,GAAG;cAChBmB,eAAe,EAAErC,qBAAqB,CAACzL,OAAO,EAAEwN,OAAO,EAAEvS,OAAO,EAAE4Q,SAAS;YACvF,CAAS;UACJ;UACD,OAAOmC,GAAG,CAACrB,YAAY,CAAC;QAC5B;QACA,SAASc,gBAAgBA,CAAA,EAAG;UACxB,OAAO,OAAO7J,MAAM,KAAK,WAAW,GAAGA,MAAM,GAAGoI,MAAM;QAC1D;QCvFA,MAAAiC,oBAAA,GAAA3V,OAAA,CAAA,GAAA,EAAe4V,aAAa,CAAA,aAAeR,iBAAI,CAAAC,GAAA,CAAC,MAAM,EAAE;UACtDQ,CAAC,EAAE;QACL,CAAC,CAAC,EAAE,sBAAsB,CAAC,CAAA;;QCN3B;QACO,SAASxX,OAAOA,CAACyX,EAAE,EAAE;UACxB,IAAIxU,MAAM,GAAG,IAAI;UACjB,MAAMpE,QAAQ,GAAGA,CAAA,KAAI;YACjB,IAAIoE,MAAM,IAAI,IAAI,EAAE;cAChBA,MAAM,GAAGwU,EAAE,CAAA,CAAE;YAChB;YACD,OAAOxU,MAAM;UACrB,CAAK;UACD,OAAOpE,QAAQ;QACnB;QACA;AACA;AACA;QAAW,SAASqD,OAAOA,CAACE,KAAK,EAAEC,IAAI,EAAE;UACrC,OAAOD,KAAK,CAACE,MAAM,CAAEnE,CAAC,IAAGA,CAAC,KAAKkE,IACnC,CAAK;QACL;QACO,SAASqV,KAAKA,CAAChV,MAAM,EAAEC,MAAM,EAAE;UAClC,MAAMG,GAAG,GAAG,IAAI6U,GAAG,EAAE;UACrB,MAAM9U,UAAU,GAAIR,IAAI,IAAGS,GAAG,CAACyH,GAAG,CAAClI,IAAI,CAAC;UAExCK,MAAM,CAACM,OAAO,CAACH,UAAU,CAAC;UAC1BF,MAAM,CAACK,OAAO,CAACH,UAAU,CAAC;UAC1B,MAAMI,MAAM,GAAG,EAAE;UACjBH,GAAG,CAACE,OAAO,CAAEpG,GAAG,IAAGqG,MAAM,CAAC5B,IAAI,CAACzE,GAAG,CACtC,CAAK;UACD,OAAOqG,MAAM;QACjB;QC1BO,MAAM2U,iBAAiB,CAAC;UAC3BC,KAAKA,CAACC,YAAY,EAAE;YAChB,MAAMC,cAAc,GAAG,IAAI,CAACC,OAAO,CAACva,MAAM;YAC1C,MAAMwa,aAAa,GAAI9J,IAAI,IAAG,IAAI,CAAC+J,gBAAgB,CAAC/J,IAAI,CAAC,KAAK,CAACA,IAAI,CAACgK,QAAQ,IAAIhK,IAAI,CAACgK,QAAQ,CAACL,YAAY,CAAC,CAAC;YAE5G,IAAI,CAACE,OAAO,GAAGN,KAAK,CAAC,IAAI,CAACM,OAAO,CAAC1V,MAAM,CAAC2V,aAAa,CAAC,EAAE,CACrDH,YAAY,CACf,CAAC;YACF,OAAOC,cAAc,KAAK,CAAC,IAAI,IAAI,CAACC,OAAO,CAACva,MAAM,GAAG,CAAC;UACzD;UACD2a,KAAKA,CAACC,WAAW,EAAE;YACf,MAAMN,cAAc,GAAG,IAAI,CAACC,OAAO,CAACva,MAAM;YAC1C,IAAI,CAACua,OAAO,GAAG9V,OAAO,CAAC,IAAI,CAAC8V,OAAO,CAAC1V,MAAM,CAAC,IAAI,CAAC4V,gBAAgB,CAAC,EAAEG,WAAW,CAAC;YAC/E,OAAON,cAAc,GAAG,CAAC,IAAI,IAAI,CAACC,OAAO,CAACva,MAAM,KAAK,CAAC;UACzD;UACD6a,KAAKA,CAAA,EAAG;YACJ,IAAI,CAACN,OAAO,GAAG,EAAE;UACpB;UACDlO,WAAWA,CAACoO,gBAAgB,EAAC;YACzB,IAAI,CAACF,OAAO,GAAG,EAAE;YACjB,IAAI,CAACE,gBAAgB,GAAGA,gBAAgB;UAC3C;QACL;QCvBO,MAAMK,gBAAgB,CAAC;UAC1BC,2BAA2BA,CAAA,EAAG;YAC1BlX,MAAM,CAACkF,IAAI,CAAC,IAAI,CAACiS,MAAM,CAACC,gBAAgB,CAAC,CAAC1V,OAAO,CAAE2V,QAAQ,IAAG;cAC1DrX,MAAM,CAAC0E,cAAc,CAAC,IAAI,CAAC3D,IAAI,EAAEsW,QAAQ,EAAE;gBACvCzS,YAAY,EAAE,IAAI;gBAClBD,UAAU,EAAE,IAAI;gBAChBtJ,GAAGA,CAAA,EAAI;kBACvB;kBACoBic,OAAO,CAACC,IAAI,CAAC,kCAAkCF,QAAQ,yBAAyB,CAAC;kBACjF,OAAO,IAAI;gBACd;cACjB,CAAa,CAAC;YACd,CAAS,CAAC;UACL;UACDG,gBAAgBA,CAACC,YAAY,EAAE;YAC3B,IAAIA,YAAY,EAAE;cACd,MAAMC,aAAa,GAAG,CAAA,CAAE;cACxB1X,MAAM,CAACkF,IAAI,CAAC,IAAI,CAACiS,MAAM,CAACC,gBAAgB,CAAC,CAAC1V,OAAO,CAAE2V,QAAQ,IAAG;gBAC1D,MAAMM,UAAU,GAAG,IAAI,CAACR,MAAM,CAACC,gBAAgB,CAACC,QAAQ,CAAC;gBACzD,IAAIM,UAAU,IAAI,IAAI,EAAE;kBACpBD,aAAa,CAACL,QAAQ,CAAC,GAAG;oBACtB9b,KAAK,EAAEoc,UAAU,CAACF,YAAY,EAAE,IAAI,CAACN,MAAM,CAACS,YAAY,CAAC;oBACzDhT,YAAY,EAAE,IAAI;oBAClBD,UAAU,EAAE;kBACpC,CAAqB;gBACJ;cACjB,CAAa,CAAC;cACF3E,MAAM,CAAC6X,gBAAgB,CAAC,IAAI,CAAC9W,IAAI,EAAE2W,aAAa,CAAC;YACpD;UACJ;UACD5M,OAAOA,CAAA,EAAG;YACN,OAAO,IAAI;UACd;UACDhI,SAASA,CAAA,EAAG;YACR,OAAO,IAAI,CAAC/B,IAAI;UACnB;UACDuD,UAAUA,CAAClB,OAAO,EAAE0U,MAAM,EAAE;YACxB,OAAOA,MAAM,KAAK1U,OAAO,CAACqD,WAAW,EAAE;UAC1C;UACDF,OAAOA,CAAA,EAAG;YACd;UAAA;UAEIiC,WAAWA,CAAC2O,MAAM,EAAC;YACf,IAAI,CAACA,MAAM,GAAGA,MAAM;YACpB,IAAI,CAACpW,IAAI,GAAG,EAAE;YACd,IAAI,CAACmW,2BAA2B,CAAA,CAAE;UACrC;QACL;QC/CO,MAAMa,IAAI,GAAG,iBAAiB;QAC9B,MAAMC,GAAG,GAAG,gBAAgB;QAC5B,MAAMC,IAAI,GAAG,iBAAiB;QAC9B,MAAMC,IAAI,GAAG,iBAAiB;;;;;;;;;;QCH9B,SAASC,uBAAuBA,CAACV,YAAY,EAAEW,UAAU,EAAE5X,YAAY,EAAE;UAC5E,MAAMmB,MAAM,GAAGyW,UAAU,CAAC1X,MAAM,CAAC,CAAC2X,WAAW,EAAEC,SAAS,KAAGD,WAAW,IAAIZ,YAAY,CAACc,OAAO,CAACD,SAAS,CAAC,EACvG,EAAE,CAAC;UACL,OAAO3W,MAAM,IAAI,IAAI,GAAGA,MAAM,GAAGnB,YAAY;QACjD;QCFO,MAAMgY,iBAAiB,GAAG;UAC7B,CAACC,IAAgB,GAAG;YAChBrB,gBAAgB,EAAE;cACdsB,KAAK,EAAGjB,YAAY,IAAGzZ,KAAK,CAACuW,SAAS,CAACpN,KAAK,CAAC4G,IAAI,CAAC0J,YAAY,CAACiB,KAAK,CAAC;cAErE5X,KAAK,EAAG2W,YAAY,IAAGA,YAAY,CAAC3W,KAAK;cAEzC2W,YAAY,EAAGA,aAAY,IAAGA;YACjC,CAAA;YACDG,YAAY,EAAE,CACV,OAAO;UAEd,CAAA;UACD,CAACe,IAAgB,GAAG;YAChBvB,gBAAgB,EAAE;cACdwB,IAAI,EAAEA,CAACnB,YAAY,EAAEG,YAAY,KAAGO,uBAAuB,CAACV,YAAY,EAAEG,YAAY,EAAE,EAAE,CAAC;cAE3FH,YAAY,EAAGA,cAAY,IAAGA;YACjC,CAAA;YACDG,YAAY,EAAE,CACV,MAAM,EACN,WAAW;UAElB,CAAA;UACD,CAACiB,GAAe,GAAG;YACfzB,gBAAgB,EAAE;cACd0B,IAAI,EAAEA,CAACrB,YAAY,EAAEG,YAAY,KAAGO,uBAAuB,CAACV,YAAY,EAAEG,YAAY,EAAE,EAAE,CAAC,CAACnX,KAAK,CAAC,IAAI,CAAC;cAEvGgX,YAAY,EAAGA,cAAY,IAAGA;YACjC,CAAA;YACDG,YAAY,EAAE,CACV,KAAK,EACL,eAAe;UAEtB,CAAA;UACD,CAACmB,IAAgB,GAAG;YAChB3B,gBAAgB,EAAE;cACd4B,IAAI,EAAEA,CAACvB,YAAY,EAAEG,YAAY,KAAGO,uBAAuB,CAACV,YAAY,EAAEG,YAAY,EAAE,EAAE,CAAC;cAE3FH,YAAY,EAAGA,cAAY,IAAGA;YACjC,CAAA;YACDG,YAAY,EAAE,CACV,MAAM,EACN,YAAY;UAEnB;QACL,CAAC;QC9CM,SAASqB,sBAAsBA,CAACxW,IAAI,EAAEgV,YAAY,EAAE;UACvD,MAAMN,MAAM,GAAGqB,iBAAiB,CAAC/V,IAAI,CAAC;UACtC,IAAI,CAAC0U,MAAM,EAAE;YACT,MAAM,IAAI3Y,KAAK,CAAC,eAAeiE,IAAI,uBAAuB,CAAC;UAC9D;UACD,MAAMd,MAAM,GAAG,IAAIsV,gBAAgB,CAACE,MAAM,CAAC;UAC3CxV,MAAM,CAAC6V,gBAAgB,CAACC,YAAY,CAAC;UACrC,OAAO9V,MAAM;QACjB;QACO,SAASuX,mBAAmBA,CAACzB,YAAY,EAAE;UAC9C,IAAI,CAACA,YAAY,EAAE;YACf,OAAO,IAAI;UACd;UACD,MAAM0B,iBAAiB,GAAGnb,KAAK,CAACuW,SAAS,CAACpN,KAAK,CAAC4G,IAAI,CAAC0J,YAAY,CAAC7F,KAAK,IAAI,EAAE,CAAC;UAC9E,OAAO5R,MAAM,CAACkF,IAAI,CAACsT,iBAAiB,CAAC,CAACxX,MAAM,CAAEoY,cAAc,IAAG;YAC3D,MAAMC,UAAU,GAAGb,iBAAiB,CAACY,cAAc,CAAC;YACpD,IAAI,EAAEC,UAAU,KAAK,IAAI,IAAIA,UAAU,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,UAAU,CAACzB,YAAY,CAAC,EAAE;cACpF,OAAO,KAAK;YACf;YACD,OAAOyB,UAAU,CAACzB,YAAY,CAAC9Q,IAAI,CAAEhF,CAAC,IAAGqX,iBAAiB,CAACpX,OAAO,CAACD,CAAC,CAAC,GAAG,CAAC,CACjF,CAAS;UACT,CAAK,CAAC,CAAC,CAAC,CAAC,IAAI,IAAI;QACjB;QCvBO,MAAMwX,SAAS,GAAG5a,OAAO,CAAC,MAAI,UAAU,CAAC6a,IAAI,CAACC,SAAS,CAACC,SAAS,CACxE,CAAC;QACM,MAAMC,QAAQ,GAAGhb,OAAO,CAAC,MAAIsM,OAAO,CAAC+I,MAAM,CAAC4F,MAAM,CACzD,CAAC;QCJM,MAAMC,oBAAoB,CAAC;UAC9BC,WAAWA,CAAC3Q,CAAC,EAAE;YACX,MAAQ4Q,EAAE,GAA6B,IAAI,CAAnCA,EAAE;cAAGC,EAAE,GAAwB,IAAI,CAA9BA,EAAE;cAAGC,GAAG,GAAkB,IAAI,CAAzBA,GAAG;cAAGC,GAAG,GAAY,IAAI,CAAnBA,GAAG;cAAGC,GAAG,GAAM,IAAI,CAAbA,GAAG;YACzC;YACQ,IAAIrd,CAAC,GAAGid,EAAE,CAAC3d,MAAM,GAAG,CAAC;YACrB,IAAI+M,CAAC,KAAK4Q,EAAE,CAACjd,CAAC,CAAC,EAAE;cACb,OAAOkd,EAAE,CAACld,CAAC,CAAC;YACf;YACT;YACQ,IAAIsd,GAAG,GAAG,CAAC;YACX,IAAIC,IAAI,GAAGF,GAAG,CAAC/d,MAAM,GAAG,CAAC;YACzB,IAAIke,GAAG;YACP,OAAMF,GAAG,IAAIC,IAAI,EAAC;cACdC,GAAG,GAAGC,IAAI,CAACC,KAAK,CAAC,GAAG,IAAIJ,GAAG,GAAGC,IAAI,CAAC,CAAC;cACpC,MAAMI,KAAK,GAAGV,EAAE,CAACO,GAAG,CAAC;cACrB,IAAIG,KAAK,GAAGtR,CAAC,EAAE;gBACXiR,GAAG,GAAGE,GAAG,GAAG,CAAC;cAC7B,CAAa,MAAM,IAAIG,KAAK,GAAGtR,CAAC,EAAE;gBAClBkR,IAAI,GAAGC,GAAG,GAAG,CAAC;cAC9B,CAAa,MAAM;gBACH,OAAON,EAAE,CAACM,GAAG,CAAC;cACjB;YACJ;YACDxd,CAAC,GAAGyd,IAAI,CAACG,GAAG,CAAC,CAAC,EAAEL,IAAI,CAAC;YAC7B;YACQ,MAAMM,IAAI,GAAGxR,CAAC,GAAG4Q,EAAE,CAACjd,CAAC,CAAC;YACtB,MAAM8d,MAAM,GAAGD,IAAI,GAAGA,IAAI;YAC1B,OAAOX,EAAE,CAACld,CAAC,CAAC,GAAGmd,GAAG,CAACnd,CAAC,CAAC,GAAG6d,IAAI,GAAGT,GAAG,CAACpd,CAAC,CAAC,GAAG8d,MAAM,GAAGT,GAAG,CAACrd,CAAC,CAAC,GAAG6d,IAAI,GAAGC,MAAM;UAC1E;UACDnS,WAAWA,CAACsR,EAAE,EAAEC,EAAE,EAAC;YACf,MAAQ5d,MAAM,GAAM2d,EAAE,CAAd3d,MAAM;YACtB;YACQ,MAAMye,OAAO,GAAG,EAAE;YAClB,KAAI,IAAI/d,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGV,MAAM,EAAEU,CAAC,EAAE,EAAC;cAC3B+d,OAAO,CAAC7a,IAAI,CAAClD,CAAC,CAAC;YAClB;YACD+d,OAAO,CAACC,IAAI,CAAC,CAACve,CAAC,EAAEC,CAAC,KAAGud,EAAE,CAACxd,CAAC,CAAC,GAAGwd,EAAE,CAACvd,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAClD,CAAS;YAGD,MAAMue,GAAG,GAAG,EAAE;YACd,MAAMC,EAAE,GAAG,EAAE;YACb,IAAIC,EAAE;YACN,IAAIC,EAAE;YACN,KAAI,IAAIC,EAAE,GAAG,CAAC,EAAEA,EAAE,GAAG/e,MAAM,GAAG,CAAC,EAAE+e,EAAE,EAAE,EAAC;cAClCF,EAAE,GAAGlB,EAAE,CAACoB,EAAE,GAAG,CAAC,CAAC,GAAGpB,EAAE,CAACoB,EAAE,CAAC;cACxBD,EAAE,GAAGlB,EAAE,CAACmB,EAAE,GAAG,CAAC,CAAC,GAAGnB,EAAE,CAACmB,EAAE,CAAC;cACxBJ,GAAG,CAAC/a,IAAI,CAACib,EAAE,CAAC;cAEZD,EAAE,CAAChb,IAAI,CAACkb,EAAE,GAAGD,EAAE,CAAC;YACnB;YACT;YACQ,MAAMhB,GAAG,GAAG,CACRe,EAAE,CAAC,CAAC,CAAC,CACR;YACD,KAAI,IAAII,EAAE,GAAG,CAAC,EAAEA,EAAE,GAAGL,GAAG,CAAC3e,MAAM,GAAG,CAAC,EAAEgf,EAAE,EAAE,EAAC;cACtC,MAAMC,EAAE,GAAGL,EAAE,CAACI,EAAE,CAAC;cACjB,MAAME,KAAK,GAAGN,EAAE,CAACI,EAAE,GAAG,CAAC,CAAC;cACxB,IAAIC,EAAE,GAAGC,KAAK,IAAI,CAAC,EAAE;gBACjBrB,GAAG,CAACja,IAAI,CAAC,CAAC,CAAC;cAC3B,CAAa,MAAM;gBACHib,EAAE,GAAGF,GAAG,CAACK,EAAE,CAAC;gBACZ,MAAMG,MAAM,GAAGR,GAAG,CAACK,EAAE,GAAG,CAAC,CAAC;gBAC1B,MAAMI,MAAM,GAAGP,EAAE,GAAGM,MAAM;gBAC1BtB,GAAG,CAACja,IAAI,CAAC,CAAC,GAAGwb,MAAM,IAAI,CAACA,MAAM,GAAGD,MAAM,IAAIF,EAAE,GAAG,CAACG,MAAM,GAAGP,EAAE,IAAIK,KAAK,CAAC,CAAC;cAC1E;YACJ;YACDrB,GAAG,CAACja,IAAI,CAACgb,EAAE,CAACA,EAAE,CAAC5e,MAAM,GAAG,CAAC,CAAC,CAAC;YACnC;YACQ,MAAM8d,GAAG,GAAG,EAAE;YACd,MAAMC,GAAG,GAAG,EAAE;YACd,IAAIsB,CAAC;YACL,KAAI,IAAIC,EAAE,GAAG,CAAC,EAAEA,EAAE,GAAGzB,GAAG,CAAC7d,MAAM,GAAG,CAAC,EAAEsf,EAAE,EAAE,EAAC;cACtCD,CAAC,GAAGT,EAAE,CAACU,EAAE,CAAC;cACV,MAAMC,EAAE,GAAG1B,GAAG,CAACyB,EAAE,CAAC;cAClB,MAAME,KAAK,GAAG,CAAC,GAAGb,GAAG,CAACW,EAAE,CAAC;cACzB,MAAMF,MAAM,GAAGG,EAAE,GAAG1B,GAAG,CAACyB,EAAE,GAAG,CAAC,CAAC,GAAGD,CAAC,GAAGA,CAAC;cACvCvB,GAAG,CAACla,IAAI,CAAC,CAACyb,CAAC,GAAGE,EAAE,GAAGH,MAAM,IAAII,KAAK,CAAC;cACnCzB,GAAG,CAACna,IAAI,CAACwb,MAAM,GAAGI,KAAK,GAAGA,KAAK,CAAC;YACnC;YACD,IAAI,CAAC7B,EAAE,GAAGA,EAAE;YACZ,IAAI,CAACC,EAAE,GAAGA,EAAE;YACZ,IAAI,CAACC,GAAG,GAAGA,GAAG;YACd,IAAI,CAACC,GAAG,GAAGA,GAAG;YACd,IAAI,CAACC,GAAG,GAAGA,GAAG;UACjB;QACL;QCpFA,MAAM0B,cAAY,GAAG,CAAC;QACf,SAASC,qBAAmBC,CAACjP,IAAI,EAAE;UACtC,MAAMkP,EAAE,GAAGlP,IAAI,CAACmP,QAAQ,KAAKJ,cAAY,GAAG/O,IAAI,GAAGA,IAAI,CAACoP,aAAa;UACrE,IAAI,CAACF,EAAE,EAAE;YACL,OAAO,IAAI;UACd;UACD,MAAAG,qBAAA,GAAwBH,EAAE,CAACI,qBAAqB,CAAA,CAAE;YAA1CC,GAAG,GAAAF,qBAAA,CAAHE,GAAG;YAAGC,IAAI,GAAAH,qBAAA,CAAJG,IAAI;UAClB,OAAO;YACHnT,CAAC,EAAEmT,IAAI;YACPlT,CAAC,EAAEiT;UACX,CAAK;QACL;QACO,SAASE,sBAAoBC,CAACC,CAAC,EAAE;UACpC,OAAO;YACHtT,CAAC,EAAEsT,CAAC,CAACC,OAAO;YACZtT,CAAC,EAAEqT,CAAC,CAACE;UACb,CAAK;QACL;QACA,SAASC,WAAWA,CAAC9P,IAAI,EAAE;UACvB,IAAI+P,GAAG;UACP,OAAO/P,IAAI,CAACgQ,QAAQ,KAAK,KAAK,KAAKvD,SAAS,CAAE,CAAA,IAAI,EAAE,CAACsD,GAAG,GAAG9P,QAAQ,CAACgQ,eAAe,MAAM,IAAI,IAAIF,GAAG,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,GAAG,CAAC/F,QAAQ,CAAChK,IAAI,CAAC,CAAC,CAAC;QACnJ;QACA,SAASkQ,kBAAkBA,CAACC,OAAO,EAAEC,WAAW,EAAEC,WAAW,EAAEC,YAAY,EAAE;UACzE,IAAIC,gBAAgB,GAAGJ,OAAO,GAAGC,WAAW,CAACI,KAAK,GAAGH,WAAW;UAChE,IAAII,iBAAiB,GAAGN,OAAO,GAAGC,WAAW,CAACM,MAAM,GAAGJ,YAAY;UACvE;UACI,IAAIzD,QAAQ,CAAE,CAAA,IAAIsD,OAAO,EAAE;YACvBM,iBAAiB,IAAIvJ,MAAM,CAACyJ,gBAAgB;YAC5CJ,gBAAgB,IAAIrJ,MAAM,CAACyJ,gBAAgB;UAC9C;UACD,OAAO;YACHJ,gBAAgB;YAChBE;UACR,CAAK;QACL;QACO,SAASG,oBAAoBA,CAACC,UAAU,EAAET,WAAW,EAAE1a,YAAY,EAAEob,WAAW,EAAEC,WAAW,EAAE;UACtG;UACA;UACI,MAAMZ,OAAO,GAAGL,WAAW,CAACM,WAAW,CAAC;UACxC,MAAMY,eAAe,GAAGb,OAAO,GAAGU,UAAU,GAAGT,WAAW;UAC1D,MAAMa,+BAA+B,GAAGjC,qBAAmB,CAACgC,eAAe,CAAC;UAC5E,MAAME,qBAAqB,GAAG;YAC1B7U,CAAC,EAAE3G,YAAY,CAAC2G,CAAC,GAAG4U,+BAA+B,CAAC5U,CAAC;YACrDC,CAAC,EAAE5G,YAAY,CAAC4G,CAAC,GAAG2U,+BAA+B,CAAC3U;UAC5D,CAAK;UACD,MAAqB+T,WAAW,GAAmCQ,UAAU,CAArEM,WAAW;YAA8Bb,YAAY,GAAMO,UAAU,CAA1CO,YAAY;UAC/C,MAAQC,OAAO,GAAgBP,WAAW,CAAlCO,OAAO;YAAGC,OAAO,GAAMR,WAAW,CAAxBQ,OAAO;UACzB,MAAAC,mBAAA,GAAkDrB,kBAAkB,CAACC,OAAO,EAAEC,WAAW,EAAEC,WAAW,EAAEC,YAAY,CAAC;YAA7GC,gBAAgB,GAAAgB,mBAAA,CAAhBhB,gBAAgB;YAAGE,iBAAiB,GAAAc,mBAAA,CAAjBd,iBAAiB;UAC5C,MAAMe,gBAAgB,GAAGA,CAAA,KAAI;YACzB,MAAMC,YAAY,GAAG,IAAI1E,oBAAoB,CAAC,CAC1C,CAAC,EACD,GAAG,EACH,CAAC,CACJ,EAAE;YACX;YACYmE,qBAAqB,CAAC5U,CAAC;YACnC;YACa4U,qBAAqB,CAAC5U,CAAC,GAAGgU,YAAY,GAAIG,iBAAiB;YACxE;YACYS,qBAAqB,CAAC5U,CAAC,GAAGmU,iBAAiB,GAAGH,YAAY,CAC7D,CAAC;YACF,IAAIhU,CAAC,GAAGmV,YAAY,CAACzE,WAAW,CAACsE,OAAO,CAAC;YACjD;YACQ,IAAIzE,QAAQ,CAAE,CAAA,IAAIsD,OAAO,EAAE;cACnC;cACY7T,CAAC,IAAI,CAAC4K,MAAM,CAACyJ,gBAAgB,GAAG,CAAC,IAAIF,iBAAiB;YACzD;YACD,OAAOnU,CAAC;UAChB,CAAK;UACD,MAAMoV,gBAAgB,GAAGA,CAAA,KAAI;YACjC;YACA;YACQ,MAAMC,YAAY,GAAG,IAAI5E,oBAAoB,CAAC,CAC1C,CAAC,EACD,GAAG,EACH,CAAC,CACJ,EAAE;YACX;YACYmE,qBAAqB,CAAC7U,CAAC;YACnC;YACa6U,qBAAqB,CAAC7U,CAAC,GAAGgU,WAAW,GAAIE,gBAAgB;YACtE;YACYW,qBAAqB,CAAC7U,CAAC,GAAGkU,gBAAgB,GAAGF,WAAW,CAC3D,CAAC;YACF,OAAOsB,YAAY,CAAC3E,WAAW,CAACqE,OAAO,CAAC;UAChD,CAAK;UACL;UACI,MAAQO,OAAO,GAAgBb,WAAW,CAAlCa,OAAO;YAAGC,OAAO,GAAMd,WAAW,CAAxBc,OAAO;UACzB,MAAMC,eAAe,GAAGF,OAAO,KAAK,CAAC,IAAIA,OAAO;UAChD,MAAMG,eAAe,GAAGF,OAAO,KAAK,CAAC,IAAIA,OAAO;UAChD,OAAO;YACHxV,CAAC,EAAEyV,eAAe,GAAGF,OAAO,GAAGF,gBAAgB,CAAE,CAAA;YACjDpV,CAAC,EAAEyV,eAAe,GAAGF,OAAO,GAAGL,gBAAgB,CAAE;UACzD,CAAK;QACL;QChGO,IAAAQ,eAAA,GAAA,MAAMC,aAAa,CAAC;UACvB,IAAI/K,MAAMA,CAAA,EAAG;YACT,IAAI,IAAI,CAACL,aAAa,EAAE;cACpB,OAAO,IAAI,CAACA,aAAa;YACrC,CAAS,MAAM,IAAI,OAAOK,MAAM,KAAK,WAAW,EAAE;cACtC,OAAOA,MAAM;YAChB;YACD,OAAOpY,SAAS;UACnB;UACD,IAAImR,QAAQA,CAAA,EAAG;YACX,IAAI8P,GAAG;YACP,IAAI,CAACA,GAAG,GAAG,IAAI,CAAClJ,aAAa,MAAM,IAAI,IAAIkJ,GAAG,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,GAAG,CAAC9P,QAAQ,EAAE;cAC/E,OAAO,IAAI,CAAC4G,aAAa,CAAC5G,QAAQ;YAC9C,CAAS,MAAM,IAAI,IAAI,CAACiH,MAAM,EAAE;cACpB,OAAO,IAAI,CAACA,MAAM,CAACjH,QAAQ;YACvC,CAAS,MAAM;cACH,OAAOnR,SAAS;YACnB;UACJ;UACD,IAAIojB,WAAWA,CAAA,EAAG;YACd,IAAInC,GAAG;YACP,OAAO,CAAC,CAACA,GAAG,GAAG,IAAI,CAACoC,WAAW,MAAM,IAAI,IAAIpC,GAAG,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,GAAG,CAACmC,WAAW,KAAK,IAAI,CAAChL,MAAM;UACzG;UACDvL,WAAWA,CAACkL,aAAa,EAAE1Q,OAAO,EAAC;YAC/B,IAAI,CAACic,aAAa,GAAG,IAAI;YACzB,IAAI,CAACvL,aAAa,GAAGA,aAAa;YAClC,IAAI,CAACsL,WAAW,GAAGhc,OAAO;UAC7B;QACL,CAAA;QC5BA,SAASwB,eAAeA,CAAClE,GAAG,EAAEhF,GAAG,EAAEC,KAAK,EAAE;UACtC,IAAID,GAAG,IAAIgF,GAAG,EAAE;YACZN,MAAM,CAAC0E,cAAc,CAACpE,GAAG,EAAEhF,GAAG,EAAE;cAC5BC,KAAK,EAAEA,KAAK;cACZoJ,UAAU,EAAE,IAAI;cAChBC,YAAY,EAAE,IAAI;cAClBC,QAAQ,EAAE;YACtB,CAAS,CAAC;UACV,CAAK,MAAM;YACHvE,GAAG,CAAChF,GAAG,CAAC,GAAGC,KAAK;UACnB;UACD,OAAO+E,GAAG;QACd;QACA,SAASwE,aAAaA,CAACE,MAAM,EAAE;UAC3B,KAAI,IAAInI,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGW,SAAS,CAACrB,MAAM,EAAEU,CAAC,EAAE,EAAC;YACrC,IAAIgH,MAAM,GAAGrG,SAAS,CAACX,CAAC,CAAC,IAAI,IAAI,GAAGW,SAAS,CAACX,CAAC,CAAC,GAAG,EAAE;YACrD,IAAIoI,OAAO,GAAGjF,MAAM,CAACkF,IAAI,CAACrB,MAAM,CAAC;YACjC,IAAI,OAAO7D,MAAM,CAACmF,qBAAqB,KAAK,UAAU,EAAE;cACpDF,OAAO,GAAGA,OAAO,CAACtF,MAAM,CAACK,MAAM,CAACmF,qBAAqB,CAACtB,MAAM,CAAC,CAAC7C,MAAM,CAAC,UAASoE,GAAG,EAAE;gBAC/E,OAAOpF,MAAM,CAACqF,wBAAwB,CAACxB,MAAM,EAAEuB,GAAG,CAAC,CAACT,UAAU;cACjE,CAAA,CAAC,CAAC;YACN;YACDM,OAAO,CAACvD,OAAO,CAAC,UAASpG,GAAG,EAAE;cAC1BkJ,eAAe,CAACQ,MAAM,EAAE1J,GAAG,EAAEuI,MAAM,CAACvI,GAAG,CAAC,CAAC;YACrD,CAAS,CAAC;UACL;UACD,OAAO0J,MAAM;QACjB;QAMO,MAAMka,gBAAgB,CAAC;UAC9B;AACA;AACA;UAAKC,OAAOA,CAAA,EAAG;YACP,IAAIvC,GAAG,EAAEwC,IAAI;YACb,OAAO;cACHC,kBAAkB,EAAE,IAAI,CAACA,kBAAkB,CAACC,IAAI;cAChDC,wBAAwB,EAAE,IAAI,CAACA,wBAAwB,CAACD,IAAI;cAC5DE,iBAAiB,EAAE,IAAI,CAACA,iBAAiB,CAACF,IAAI;cAC9CG,WAAW,EAAE,IAAI,CAACA,WAAW,CAACH,IAAI;cAClCI,kBAAkB,EAAE,CAAC,CAAC9C,GAAG,GAAG,IAAI,CAAC8C,kBAAkB,MAAM,IAAI,IAAI9C,GAAG,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,GAAG,CAACzgB,MAAM,KAAK,CAAC;cAC3GwjB,aAAa,EAAE,IAAI,CAACA,aAAa,CAACxjB,MAAM;cACxCyjB,kBAAkB,EAAE,IAAI,CAACA,kBAAkB,CAACzjB,MAAM;cAClD0jB,iBAAiB,EAAE,CAAC,CAACT,IAAI,GAAG,IAAI,CAACS,iBAAiB,MAAM,IAAI,IAAIT,IAAI,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,IAAI,CAACjjB,MAAM,KAAK;YACvH,CAAS;UACJ;UACL;UACI,IAAI4X,MAAMA,CAAA,EAAG;YACT,OAAO,IAAI,CAAC/Q,OAAO,CAAC+Q,MAAM;UAC7B;UACD,IAAIjH,QAAQA,CAAA,EAAG;YACX,OAAO,IAAI,CAAC9J,OAAO,CAAC8J,QAAQ;UAC/B;UACL;AACA;;UACK,IAAIiS,WAAWA,CAAA,EAAG;YACf,OAAO,IAAI,CAAC/b,OAAO,CAAC+b,WAAW;UAClC;UACDjW,KAAKA,CAAA,EAAG;YACJ,MAAMgX,IAAI,GAAG,IAAI,CAACf,WAAW;YAC7B,IAAIe,IAAI,KAAKnkB,SAAS,EAAE;cACpB;YACH;YACD,IAAImkB,IAAI,CAACC,wBAAwB,EAAE;cAC/B,MAAM,IAAIvhB,KAAK,CAAC,kDAAkD,CAAC;YACtE;YACDshB,IAAI,CAACC,wBAAwB,GAAG,IAAI;YACpC,IAAI,CAACC,iBAAiB,CAACF,IAAI,CAAC;UAC/B;UACD/W,QAAQA,CAAA,EAAG;YACP,MAAM+W,IAAI,GAAG,IAAI,CAACf,WAAW;YAC7B,IAAIe,IAAI,KAAKnkB,SAAS,EAAE;cACpB;YACH;YACDmkB,IAAI,CAACC,wBAAwB,GAAG,KAAK;YACrC,IAAI,CAACE,oBAAoB,CAAC,IAAI,CAAClB,WAAW,CAAC;YAC3C,IAAI,CAACmB,0BAA0B,CAAA,CAAE;YACjC,IAAI,IAAI,CAACC,mBAAmB,EAAE;cAC1B,IAAIvD,GAAG;cACP,CAACA,GAAG,GAAG,IAAI,CAAC7I,MAAM,MAAM,IAAI,IAAI6I,GAAG,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,GAAG,CAACwD,oBAAoB,CAAC,IAAI,CAACD,mBAAmB,CAAC;YAC/G;UACJ;UACDE,kBAAkBA,CAAC3c,QAAQ,EAAEmJ,IAAI,EAAE7J,OAAO,EAAE;YACxC,IAAI,CAACuc,wBAAwB,CAAC/d,GAAG,CAACkC,QAAQ,EAAEV,OAAO,CAAC;YACpD,IAAI,CAACqc,kBAAkB,CAAC7d,GAAG,CAACkC,QAAQ,EAAEmJ,IAAI,CAAC;YAC3C,OAAO,MAAI;cACP,IAAI,CAACwS,kBAAkB,CAACxN,MAAM,CAACnO,QAAQ,CAAC;cACxC,IAAI,CAAC6b,wBAAwB,CAAC1N,MAAM,CAACnO,QAAQ,CAAC;YAC1D,CAAS;UACJ;UACD4c,iBAAiBA,CAAC5c,QAAQ,EAAEmJ,IAAI,EAAE7J,OAAO,EAAE;YACvC,IAAI,CAACyc,WAAW,CAACje,GAAG,CAACkC,QAAQ,EAAEmJ,IAAI,CAAC;YACpC,IAAI,CAAC2S,iBAAiB,CAAChe,GAAG,CAACkC,QAAQ,EAAEV,OAAO,CAAC;YAC7C,MAAMud,eAAe,GAAI/D,CAAC,IAAG,IAAI,CAAC+D,eAAe,CAAC/D,CAAC,EAAE9Y,QAAQ,CAAC;YAE9D,MAAM8c,iBAAiB,GAAIhE,CAAC,IAAG,IAAI,CAACgE,iBAAiB,CAAChE,CAAC,CAAC;YAExD3P,IAAI,CAAC4T,YAAY,CAAC,WAAW,EAAE,MAAM,CAAC;YACtC5T,IAAI,CAAC6T,gBAAgB,CAAC,WAAW,EAAEH,eAAe,CAAC;YACnD1T,IAAI,CAAC6T,gBAAgB,CAAC,aAAa,EAAEF,iBAAiB,CAAC;YACvD,OAAO,MAAI;cACP,IAAI,CAACf,WAAW,CAAC5N,MAAM,CAACnO,QAAQ,CAAC;cACjC,IAAI,CAAC8b,iBAAiB,CAAC3N,MAAM,CAACnO,QAAQ,CAAC;cACvCmJ,IAAI,CAAC8T,mBAAmB,CAAC,WAAW,EAAEJ,eAAe,CAAC;cACtD1T,IAAI,CAAC8T,mBAAmB,CAAC,aAAa,EAAEH,iBAAiB,CAAC;cAC1D3T,IAAI,CAAC4T,YAAY,CAAC,WAAW,EAAE,OAAO,CAAC;YACnD,CAAS;UACJ;UACDG,iBAAiBA,CAAClb,QAAQ,EAAEmH,IAAI,EAAE;YAC9B,MAAMgU,eAAe,GAAIrE,CAAC,IAAG,IAAI,CAACqE,eAAe,CAACrE,CAAC,EAAE9W,QAAQ,CAAC;YAE9D,MAAMob,cAAc,GAAItE,CAAC,IAAG,IAAI,CAACsE,cAAc,CAACtE,CAAC,EAAE9W,QAAQ,CAAC;YAE5D,MAAMqb,UAAU,GAAIvE,CAAC,IAAG,IAAI,CAACuE,UAAU,CAACvE,CAAC,EAAE9W,QAAQ,CAAC;YAEpDmH,IAAI,CAAC6T,gBAAgB,CAAC,WAAW,EAAEG,eAAe,CAAC;YACnDhU,IAAI,CAAC6T,gBAAgB,CAAC,UAAU,EAAEI,cAAc,CAAC;YACjDjU,IAAI,CAAC6T,gBAAgB,CAAC,MAAM,EAAEK,UAAU,CAAC;YACzC,OAAO,MAAI;cACPlU,IAAI,CAAC8T,mBAAmB,CAAC,WAAW,EAAEE,eAAe,CAAC;cACtDhU,IAAI,CAAC8T,mBAAmB,CAAC,UAAU,EAAEG,cAAc,CAAC;cACpDjU,IAAI,CAAC8T,mBAAmB,CAAC,MAAM,EAAEI,UAAU,CAAC;YACxD,CAAS;UACJ;UACDf,iBAAiBA,CAAChb,MAAM,EAAE;YAC9B;YACQ,IAAI,CAACA,MAAM,CAAC0b,gBAAgB,EAAE;cAC1B;YACH;YACD1b,MAAM,CAAC0b,gBAAgB,CAAC,WAAW,EAAE,IAAI,CAACM,kBAAkB,CAAC;YAC7Dhc,MAAM,CAAC0b,gBAAgB,CAAC,WAAW,EAAE,IAAI,CAACO,yBAAyB,EAAE,IAAI,CAAC;YAC1Ejc,MAAM,CAAC0b,gBAAgB,CAAC,SAAS,EAAE,IAAI,CAACQ,uBAAuB,EAAE,IAAI,CAAC;YACtElc,MAAM,CAAC0b,gBAAgB,CAAC,WAAW,EAAE,IAAI,CAACS,kBAAkB,CAAC;YAC7Dnc,MAAM,CAAC0b,gBAAgB,CAAC,WAAW,EAAE,IAAI,CAACU,yBAAyB,EAAE,IAAI,CAAC;YAC1Epc,MAAM,CAAC0b,gBAAgB,CAAC,WAAW,EAAE,IAAI,CAACW,yBAAyB,EAAE,IAAI,CAAC;YAC1Erc,MAAM,CAAC0b,gBAAgB,CAAC,UAAU,EAAE,IAAI,CAACY,iBAAiB,CAAC;YAC3Dtc,MAAM,CAAC0b,gBAAgB,CAAC,UAAU,EAAE,IAAI,CAACa,wBAAwB,EAAE,IAAI,CAAC;YACxEvc,MAAM,CAAC0b,gBAAgB,CAAC,MAAM,EAAE,IAAI,CAACc,aAAa,CAAC;YACnDxc,MAAM,CAAC0b,gBAAgB,CAAC,MAAM,EAAE,IAAI,CAACe,oBAAoB,EAAE,IAAI,CAAC;UACnE;UACDxB,oBAAoBA,CAACjb,MAAM,EAAE;YACjC;YACQ,IAAI,CAACA,MAAM,CAAC2b,mBAAmB,EAAE;cAC7B;YACH;YACD3b,MAAM,CAAC2b,mBAAmB,CAAC,WAAW,EAAE,IAAI,CAACK,kBAAkB,CAAC;YAChEhc,MAAM,CAAC2b,mBAAmB,CAAC,WAAW,EAAE,IAAI,CAACM,yBAAyB,EAAE,IAAI,CAAC;YAC7Ejc,MAAM,CAAC2b,mBAAmB,CAAC,SAAS,EAAE,IAAI,CAACO,uBAAuB,EAAE,IAAI,CAAC;YACzElc,MAAM,CAAC2b,mBAAmB,CAAC,WAAW,EAAE,IAAI,CAACQ,kBAAkB,CAAC;YAChEnc,MAAM,CAAC2b,mBAAmB,CAAC,WAAW,EAAE,IAAI,CAACS,yBAAyB,EAAE,IAAI,CAAC;YAC7Epc,MAAM,CAAC2b,mBAAmB,CAAC,WAAW,EAAE,IAAI,CAACU,yBAAyB,EAAE,IAAI,CAAC;YAC7Erc,MAAM,CAAC2b,mBAAmB,CAAC,UAAU,EAAE,IAAI,CAACW,iBAAiB,CAAC;YAC9Dtc,MAAM,CAAC2b,mBAAmB,CAAC,UAAU,EAAE,IAAI,CAACY,wBAAwB,EAAE,IAAI,CAAC;YAC3Evc,MAAM,CAAC2b,mBAAmB,CAAC,MAAM,EAAE,IAAI,CAACa,aAAa,CAAC;YACtDxc,MAAM,CAAC2b,mBAAmB,CAAC,MAAM,EAAE,IAAI,CAACc,oBAAoB,EAAE,IAAI,CAAC;UACtE;UACDC,2BAA2BA,CAAA,EAAG;YAC1B,MAAMhe,QAAQ,GAAG,IAAI,CAACN,OAAO,CAACqD,WAAW,CAAA,CAAE;YAC3C,MAAM+Y,iBAAiB,GAAG,IAAI,CAACA,iBAAiB,CAACnkB,GAAG,CAACqI,QAAQ,CAAC;YAC9D,OAAOoB,aAAa,CAAC;cACjB6c,UAAU,EAAE,IAAI,CAACC,aAAa,GAAG,MAAM,GAAG;YACtD,CAAS,EAAEpC,iBAAiB,IAAI,CAAA,CAAE,CAAC;UAC9B;UACDqC,oBAAoBA,CAAA,EAAG;YACnB,IAAI,IAAI,CAACC,oBAAoB,EAAE,EAAE;cACzC;cACY,OAAO,MAAM;YAChB;YACD,OAAO,IAAI,CAACJ,2BAA2B,CAAE,CAAA,CAACC,UAAU;UACvD;UACDI,kCAAkCA,CAAA,EAAG;YACjC,MAAMre,QAAQ,GAAG,IAAI,CAACN,OAAO,CAACqD,WAAW,CAAA,CAAE;YAC3C,MAAM8Y,wBAAwB,GAAG,IAAI,CAACA,wBAAwB,CAAClkB,GAAG,CAACqI,QAAQ,CAAC;YAC5E,OAAOoB,aAAa,CAAC;cACjBoZ,OAAO,EAAE,GAAG;cACZC,OAAO,EAAE,GAAG;cACZ6D,oBAAoB,EAAE;YAClC,CAAS,EAAEzC,wBAAwB,IAAI,CAAA,CAAE,CAAC;UACrC;UACDuC,oBAAoBA,CAAA,EAAG;YACnB,MAAM7d,QAAQ,GAAG,IAAI,CAACb,OAAO,CAACgE,WAAW,CAAA,CAAE;YAC3C,OAAOpH,MAAM,CAACkF,IAAI,CAAC+c,WAAW,CAAC,CAACnb,IAAI,CAAExL,GAAG,IAAG2mB,WAAW,CAAC3mB,GAAG,CAAC,KAAK2I,QACzE,CAAS;UACJ;UACDie,mBAAmBA,CAACzf,IAAI,EAAEgV,YAAY,EAAE;YACpC,IAAI,CAACyI,0BAA0B,CAAA,CAAE;YACjC,IAAI,CAACiC,mBAAmB,GAAGlJ,sBAAsB,CAACxW,IAAI,EAAEgV,YAAY,CAAC;YACrE,IAAI,CAAC2K,mBAAmB,GAAG,IAAI,CAAC9e,QAAQ,CAACgM,SAAS,CAAC7M,IAAI,EAAE,IAAI,CAAC0f,mBAAmB,CAAC;YAClF,IAAI,CAAC7Z,OAAO,CAACxF,SAAS,CAAC,CACnB,IAAI,CAACsf,mBAAmB,CAC3B,CAAC;UACL;UACDC,wBAAwBA,CAACxV,IAAI,EAAE;YAC3B,IAAI,CAACqT,0BAA0B,CAAA,CAAE;YACjC,IAAI,CAACoC,qBAAqB,GAAGzV,IAAI;YACzC;YACA;YACA;YACA;YACQ,MAAM0V,kBAAkB,GAAG,IAAI;YACvC;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACA;YACQ,IAAI,CAACC,qBAAqB,GAAGpW,UAAU,CAAC,MAAI;cACxC,IAAIwQ,GAAG;cACP,OAAO,CAACA,GAAG,GAAG,IAAI,CAACmC,WAAW,MAAM,IAAI,IAAInC,GAAG,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,GAAG,CAAC8D,gBAAgB,CAAC,WAAW,EAAE,IAAI,CAAC+B,gCAAgC,EAAE,IAAI,CAAC;YACvJ,CAAA,EAAEF,kBAAkB,CAAC;UACzB;UACDrC,0BAA0BA,CAAA,EAAG;YACzB,IAAI,IAAI,CAACoC,qBAAqB,EAAE;cAC5B,IAAI,CAACA,qBAAqB,GAAG,IAAI;cACjC,IAAI,IAAI,CAACvD,WAAW,EAAE;gBAClB,IAAInC,GAAG;gBACP,CAACA,GAAG,GAAG,IAAI,CAAC7I,MAAM,MAAM,IAAI,IAAI6I,GAAG,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,GAAG,CAACpQ,YAAY,CAAC,IAAI,CAACgW,qBAAqB,IAAI7mB,SAAS,CAAC;gBACnH,IAAI,CAACojB,WAAW,CAAC4B,mBAAmB,CAAC,WAAW,EAAE,IAAI,CAAC8B,gCAAgC,EAAE,IAAI,CAAC;cACjG;cACD,IAAI,CAACD,qBAAqB,GAAG,IAAI;cACjC,OAAO,IAAI;YACd;YACD,OAAO,KAAK;UACf;UACDjC,eAAeA,CAAC/D,CAAC,EAAE9Y,QAAQ,EAAE;YACzB,IAAI8Y,CAAC,CAACkG,gBAAgB,EAAE;cACpB;YACH;YACD,IAAI,CAAC,IAAI,CAAChD,kBAAkB,EAAE;cAC1B,IAAI,CAACA,kBAAkB,GAAG,EAAE;YAC/B;YACD,IAAI,CAACA,kBAAkB,CAACxjB,OAAO,CAACwH,QAAQ,CAAC;UAC5C;UACDmd,eAAeA,CAAC8B,EAAE,EAAEjd,QAAQ,EAAE;YAC1B,IAAI,CAACka,kBAAkB,CAAC1jB,OAAO,CAACwJ,QAAQ,CAAC;UAC5C;UACDob,cAAcA,CAAC6B,EAAE,EAAEjd,QAAQ,EAAE;YACzB,IAAI,IAAI,CAACma,iBAAiB,KAAK,IAAI,EAAE;cACjC,IAAI,CAACA,iBAAiB,GAAG,EAAE;YAC9B;YACD,IAAI,CAACA,iBAAiB,CAAC3jB,OAAO,CAACwJ,QAAQ,CAAC;UAC3C;UACDqb,UAAUA,CAAC4B,EAAE,EAAEjd,QAAQ,EAAE;YACrB,IAAI,CAACia,aAAa,CAACzjB,OAAO,CAACwJ,QAAQ,CAAC;UACvC;UACD8C,WAAWA,CAAC3F,OAAO,EAAE6Q,aAAa,EAAE1Q,OAAO,EAAC;YACxC,IAAI,CAACqc,kBAAkB,GAAG,IAAI/d,GAAG,EAAE;YACnC,IAAI,CAACie,wBAAwB,GAAG,IAAIje,GAAG,EAAE;YACzC,IAAI,CAACme,WAAW,GAAG,IAAIne,GAAG,EAAE;YAC5B,IAAI,CAACke,iBAAiB,GAAG,IAAIle,GAAG,EAAE;YAClC,IAAI,CAACoe,kBAAkB,GAAG,IAAI;YAC9B,IAAI,CAACC,aAAa,GAAG,EAAE;YACvB,IAAI,CAACC,kBAAkB,GAAG,EAAE;YAC5B,IAAI,CAACuC,mBAAmB,GAAG,IAAI;YAC/B,IAAI,CAACC,mBAAmB,GAAG,IAAI;YAC/B,IAAI,CAACE,qBAAqB,GAAG,IAAI;YACjC,IAAI,CAACV,aAAa,GAAG,KAAK;YAC1B,IAAI,CAACY,qBAAqB,GAAG,IAAI;YACjC,IAAI,CAACrC,mBAAmB,GAAG,IAAI;YAC/B,IAAI,CAACN,iBAAiB,GAAG,IAAI;YAC7B,IAAI,CAAC+C,gBAAgB,GAAG,IAAI;YAC5B,IAAI,CAACC,UAAU,GAAG,IAAI;YACtB,IAAI,CAAC1f,qBAAqB,GAAIO,QAAQ,IAAG;cACrC,MAAMG,MAAM,GAAG,IAAI,CAAC4b,WAAW,CAACpkB,GAAG,CAACqI,QAAQ,CAAC;cAC7C,OAAOG,MAAM,IAAIgY,qBAAmB,CAAChY,MAAM,CAAC,IAAI,IAAI;YAChE,CAAS;YACD,IAAI,CAACif,iBAAiB,GAAG,MAAI;cACzB,IAAI,CAAC,IAAI,CAAChB,oBAAoB,EAAE,EAAE;gBAC9B;cACH;cACD,IAAI,CAACxZ,OAAO,CAAC/B,OAAO,EAAE;cACtB,IAAI,IAAI,CAAC6b,mBAAmB,EAAE;gBAC1B,IAAI,CAAC9e,QAAQ,CAACkM,YAAY,CAAC,IAAI,CAAC4S,mBAAmB,CAAC;cACvD;cACD,IAAI,CAACA,mBAAmB,GAAG,IAAI;cAC/B,IAAI,CAACD,mBAAmB,GAAG,IAAI;YAC3C,CAAS;YACD,IAAI,CAACvL,gBAAgB,GAAI/J,IAAI,IAAG;cACxC;cACY,OAAO7B,OAAO,CAAC6B,IAAI,IAAI,IAAI,CAACC,QAAQ,IAAI,IAAI,CAACA,QAAQ,CAACiW,IAAI,IAAI,IAAI,CAACjW,QAAQ,CAACiW,IAAI,CAAClM,QAAQ,CAAChK,IAAI,CAAC,CAAC;YAC5G,CAAS;YACD,IAAI,CAAC4V,gCAAgC,GAAG,MAAI;cACxC,MAAM5V,IAAI,GAAG,IAAI,CAACyV,qBAAqB;cACvC,IAAIzV,IAAI,IAAI,IAAI,IAAI,IAAI,CAAC+J,gBAAgB,CAAC/J,IAAI,CAAC,EAAE;gBAC7C;cACH;cACD,IAAI,IAAI,CAACqT,0BAA0B,CAAE,CAAA,IAAI,IAAI,CAAC9c,OAAO,CAACkB,UAAU,CAAA,CAAE,EAAE;gBAChE,IAAI,CAACgE,OAAO,CAAC/B,OAAO,EAAE;cACzB;cACD,IAAI,CAACyc,WAAW,CAAA,CAAE;YAC9B,CAAS;YACD,IAAI,CAACC,aAAa,GAAIpD,iBAAiB,IAAG;cACtC,IAAI,IAAI,CAACgD,UAAU,KAAK,IAAI,IAAI,OAAOK,qBAAqB,KAAK,WAAW,EAAE;gBAC1E,IAAI,CAACL,UAAU,GAAGK,qBAAqB,CAAC,MAAI;kBACxC,IAAI,IAAI,CAAC9f,OAAO,CAACkB,UAAU,EAAE,EAAE;oBAC3B,IAAI,CAACgE,OAAO,CAACtB,KAAK,CAAC6Y,iBAAiB,IAAI,EAAE,EAAE;sBACxCtd,YAAY,EAAE,IAAI,CAACqgB;oBAC/C,CAAyB,CAAC;kBACL;kBACD,IAAI,CAACC,UAAU,GAAG,IAAI;gBAC1C,CAAiB,CAAC;cACL;YACb,CAAS;YACD,IAAI,CAACG,WAAW,GAAG,MAAI;cACnB,IAAI,IAAI,CAACH,UAAU,KAAK,IAAI,IAAI,OAAOzC,oBAAoB,KAAK,WAAW,EAAE;gBACzEA,oBAAoB,CAAC,IAAI,CAACyC,UAAU,CAAC;gBACrC,IAAI,CAACA,UAAU,GAAG,IAAI;cACzB;YACb,CAAS;YACD,IAAI,CAAC5B,yBAAyB,GAAG,MAAI;cACjC,IAAI,CAACf,0BAA0B,CAAA,CAAE;cACjC,IAAI,CAACR,kBAAkB,GAAG,EAAE;YACxC,CAAS;YACD,IAAI,CAACsB,kBAAkB,GAAIxE,CAAC,IAAG;cAC3B,IAAIA,CAAC,CAACkG,gBAAgB,EAAE;gBACpB;cACH;cACD,MAAQhD,kBAAkB,GAAM,IAAI,CAA5BA,kBAAkB;cAC1B,IAAI,CAACA,kBAAkB,GAAG,IAAI;cAC9B,MAAMnd,YAAY,GAAG+Z,sBAAoB,CAACE,CAAC,CAAC;cACxD;cACY,IAAI,IAAI,CAACpZ,OAAO,CAACkB,UAAU,EAAE,EAAE;gBAC3B,IAAI,CAACgE,OAAO,CAAC/B,OAAO,EAAE;gBACtB,IAAI,CAACyc,WAAW,CAAA,CAAE;cACrB;cACb;cACY,IAAI,CAAC1a,OAAO,CAACxF,SAAS,CAAC4c,kBAAkB,IAAI,EAAE,EAAE;gBAC7Czc,aAAa,EAAE,KAAK;gBACpBE,qBAAqB,EAAE,IAAI,CAACA,qBAAqB;gBACjDZ;cAChB,CAAa,CAAC;cACF,MAAQkV,YAAY,GAAM+E,CAAC,CAAnB/E,YAAY;cACpB,MAAM0L,UAAU,GAAGjK,mBAAmB,CAACzB,YAAY,CAAC;cACpD,IAAI,IAAI,CAACrU,OAAO,CAACkB,UAAU,EAAE,EAAE;gBAC3B,IAAImT,YAAY,IAAI,OAAOA,YAAY,CAAC2L,YAAY,KAAK,UAAU,EAAE;kBACrF;kBACA;kBACA;kBACoB,MAAM1f,QAAQ,GAAG,IAAI,CAACN,OAAO,CAACqD,WAAW,CAAA,CAAE;kBAC3C,MAAMiX,UAAU,GAAG,IAAI,CAAC+B,WAAW,CAACpkB,GAAG,CAACqI,QAAQ,CAAC;kBACjD,MAAMuZ,WAAW,GAAG,IAAI,CAACoC,kBAAkB,CAAChkB,GAAG,CAACqI,QAAQ,CAAC,IAAIga,UAAU;kBACvE,IAAIT,WAAW,EAAE;oBACb,MAAAoG,qBAAA,GAAmD,IAAI,CAACtB,kCAAkC,EAAE;sBAApF7D,OAAO,GAAAmF,qBAAA,CAAPnF,OAAO;sBAAGC,OAAO,GAAAkF,qBAAA,CAAPlF,OAAO;sBAAGM,OAAO,GAAA4E,qBAAA,CAAP5E,OAAO;sBAAGC,OAAO,GAAA2E,qBAAA,CAAP3E,OAAO;oBAC7C,MAAMf,WAAW,GAAG;sBAChBO,OAAO;sBACPC;oBAC5B,CAAyB;oBACD,MAAMP,WAAW,GAAG;sBAChBa,OAAO;sBACPC;oBAC5B,CAAyB;oBACD,MAAM4E,iBAAiB,GAAG7F,oBAAoB,CAACC,UAAU,EAAET,WAAW,EAAE1a,YAAY,EAAEob,WAAW,EAAEC,WAAW,CAAC;oBAC/GnG,YAAY,CAAC2L,YAAY,CAACnG,WAAW,EAAEqG,iBAAiB,CAACpa,CAAC,EAAEoa,iBAAiB,CAACna,CAAC,CAAC;kBACnF;gBACJ;gBACD,IAAI;kBACpB;kBACoBsO,YAAY,KAAK,IAAI,IAAIA,YAAY,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,YAAY,CAAC8L,OAAO,CAAC,kBAAkB,EAAE,CAAA,CAAE,CAAC;gBAC3G,CAAA,CAAC,OAAOpV,GAAG,EAAE;kBAC9B;gBAAA;gBAEA;gBACA;gBACgB,IAAI,CAACkU,wBAAwB,CAAC7F,CAAC,CAACxX,MAAM,CAAC;gBACvD;gBACgB,MAAAwe,sBAAA,GAAkC,IAAI,CAACzB,kCAAkC,CAAA,CAAE;kBAAnEC,oBAAoB,GAAAwB,sBAAA,CAApBxB,oBAAoB;gBAC5B,IAAI,CAACA,oBAAoB,EAAE;kBAC3C;kBACA;kBACA;kBACA;kBACA;kBACoB5V,UAAU,CAAC,MAAI,IAAI,CAAC9D,OAAO,CAACX,iBAAiB,CAAE,CAAA,EAC7C,CAAC,CAAC;gBACxB,CAAiB,MAAM;kBACvB;kBACA;kBACA;kBACA;kBACA;kBACA;kBACA;kBACA;kBACA;kBACA;kBACoB,IAAI,CAACW,OAAO,CAACX,iBAAiB,EAAE;gBACnC;cACJ,CAAA,MAAM,IAAIwb,UAAU,EAAE;gBACnC;gBACgB,IAAI,CAACjB,mBAAmB,CAACiB,UAAU,CAAC;cACpD,CAAa,MAAM,IAAI1L,YAAY,IAAI,CAACA,YAAY,CAAC7F,KAAK,KAAK4K,CAAC,CAACxX,MAAM,IAAI,CAACwX,CAAC,CAACxX,MAAM,CAACye,YAAY,IAAI,CAACjH,CAAC,CAACxX,MAAM,CAACye,YAAY,CAAC,WAAW,CAAC,CAAC,EAAE;gBAC3I;gBACA;gBACA;gBACgB;cAChB,CAAa,MAAM;gBACnB;gBACgBjH,CAAC,CAACkH,cAAc,CAAA,CAAE;cACrB;YACb,CAAS;YACD,IAAI,CAACxC,uBAAuB,GAAG,MAAI;cAC/B,IAAI,IAAI,CAAChB,0BAA0B,CAAE,CAAA,IAAI,IAAI,CAAC9c,OAAO,CAACkB,UAAU,CAAA,CAAE,EAAE;gBAChF;gBACA;gBACA;gBACgB,IAAI,CAACgE,OAAO,CAAC/B,OAAO,EAAE;cACzB;cACD,IAAI,CAACyc,WAAW,CAAA,CAAE;YAC9B,CAAS;YACD,IAAI,CAAC5B,yBAAyB,GAAI5E,CAAC,IAAG;cAClC,IAAI,CAACoD,kBAAkB,GAAG,EAAE;cAC5B,IAAI,IAAI,CAACkC,oBAAoB,EAAE,EAAE;gBAC7B,IAAIlF,GAAG;gBACP,CAACA,GAAG,GAAG,IAAI,CAACuF,mBAAmB,MAAM,IAAI,IAAIvF,GAAG,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,GAAG,CAACpF,gBAAgB,CAACgF,CAAC,CAAC/E,YAAY,CAAC;cAC9G;cACD,MAAMkM,YAAY,GAAG,IAAI,CAACC,iBAAiB,CAACrN,KAAK,CAACiG,CAAC,CAACxX,MAAM,CAAC;cAC3D,IAAI,CAAC2e,YAAY,IAAI,IAAI,CAACvgB,OAAO,CAACkB,UAAU,CAAA,CAAE,EAAE;gBAC5C;cACH;cACD,MAAQmT,YAAY,GAAM+E,CAAC,CAAnB/E,YAAY;cACpB,MAAM0L,UAAU,GAAGjK,mBAAmB,CAACzB,YAAY,CAAC;cACpD,IAAI0L,UAAU,EAAE;gBAC5B;gBACgB,IAAI,CAACjB,mBAAmB,CAACiB,UAAU,EAAE1L,YAAY,CAAC;cACrD;YACb,CAAS;YACD,IAAI,CAAC0J,kBAAkB,GAAI3E,CAAC,IAAG;cAC3B,MAAQoD,kBAAkB,GAAM,IAAI,CAA5BA,kBAAkB;cAC1B,IAAI,CAACA,kBAAkB,GAAG,EAAE;cAC5B,IAAI,CAAC,IAAI,CAACxc,OAAO,CAACkB,UAAU,EAAE,EAAE;gBAC5C;gBACgB;cACH;cACD,IAAI,CAACsd,aAAa,GAAGpF,CAAC,CAACqH,MAAM;cACzC;cACA;cACA;cACY,IAAIjE,kBAAkB,CAACzjB,MAAM,GAAG,CAAC,EAAE;gBAC/B,IAAI,CAACmM,OAAO,CAACtB,KAAK,CAAC4Y,kBAAkB,EAAE;kBACnCrd,YAAY,EAAE+Z,sBAAoB,CAACE,CAAC;gBACxD,CAAiB,CAAC;cACL;cACD,MAAMzR,OAAO,GAAG6U,kBAAkB,CAAC9Y,IAAI,CAAEpB,QAAQ,IAAG,IAAI,CAACtC,OAAO,CAACgD,eAAe,CAACV,QAAQ,CACrG,CAAa;cACD,IAAIqF,OAAO,EAAE;gBACzB;gBACgByR,CAAC,CAACkH,cAAc,CAAA,CAAE;gBAClB,IAAIlH,CAAC,CAAC/E,YAAY,EAAE;kBAChB+E,CAAC,CAAC/E,YAAY,CAACkK,UAAU,GAAG,IAAI,CAACE,oBAAoB,CAAA,CAAE;gBAC1D;cACJ;YACb,CAAS;YACD,IAAI,CAACN,wBAAwB,GAAI/E,CAAC,IAAG;cACjC,IAAI,CAACqD,iBAAiB,GAAG,EAAE;cAC3B,IAAI,IAAI,CAACiC,oBAAoB,EAAE,EAAE;gBAC7B,IAAIlF,GAAG;gBACP,CAACA,GAAG,GAAG,IAAI,CAACuF,mBAAmB,MAAM,IAAI,IAAIvF,GAAG,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,GAAG,CAACpF,gBAAgB,CAACgF,CAAC,CAAC/E,YAAY,CAAC;cAC9G;YACb,CAAS;YACD,IAAI,CAAC6J,iBAAiB,GAAI9E,CAAC,IAAG;cAC1B,MAAQqD,iBAAiB,GAAM,IAAI,CAA3BA,iBAAiB;cACzB,IAAI,CAACA,iBAAiB,GAAG,EAAE;cAC3B,IAAI,CAAC,IAAI,CAACzc,OAAO,CAACkB,UAAU,EAAE,EAAE;gBAC5C;gBACA;gBACgBkY,CAAC,CAACkH,cAAc,CAAA,CAAE;gBAClB,IAAIlH,CAAC,CAAC/E,YAAY,EAAE;kBAChB+E,CAAC,CAAC/E,YAAY,CAACkK,UAAU,GAAG,MAAM;gBACrC;gBACD;cACH;cACD,IAAI,CAACC,aAAa,GAAGpF,CAAC,CAACqH,MAAM;cAC7B,IAAI,CAACjB,gBAAgB,GAAGtG,sBAAoB,CAACE,CAAC,CAAC;cAC/C,IAAI,CAACyG,aAAa,CAACpD,iBAAiB,CAAC;cACrC,MAAM9U,OAAO,GAAG,CAAC8U,iBAAiB,IAAI,EAAE,EAAE/Y,IAAI,CAAEpB,QAAQ,IAAG,IAAI,CAACtC,OAAO,CAACgD,eAAe,CAACV,QAAQ,CAC5G,CAAa;cACD,IAAIqF,OAAO,EAAE;gBACzB;gBACgByR,CAAC,CAACkH,cAAc,CAAA,CAAE;gBAClB,IAAIlH,CAAC,CAAC/E,YAAY,EAAE;kBAChB+E,CAAC,CAAC/E,YAAY,CAACkK,UAAU,GAAG,IAAI,CAACE,oBAAoB,CAAA,CAAE;gBAC1D;cACjB,CAAa,MAAM,IAAI,IAAI,CAACC,oBAAoB,EAAE,EAAE;gBACpD;gBACA;gBACgBtF,CAAC,CAACkH,cAAc,CAAA,CAAE;cAClC,CAAa,MAAM;gBACHlH,CAAC,CAACkH,cAAc,CAAA,CAAE;gBAClB,IAAIlH,CAAC,CAAC/E,YAAY,EAAE;kBAChB+E,CAAC,CAAC/E,YAAY,CAACkK,UAAU,GAAG,MAAM;gBACrC;cACJ;YACb,CAAS;YACD,IAAI,CAACN,yBAAyB,GAAI7E,CAAC,IAAG;cAClC,IAAI,IAAI,CAACsF,oBAAoB,EAAE,EAAE;gBAC7BtF,CAAC,CAACkH,cAAc,CAAA,CAAE;cACrB;cACD,MAAMI,WAAW,GAAG,IAAI,CAACF,iBAAiB,CAAC9M,KAAK,CAAC0F,CAAC,CAACxX,MAAM,CAAC;cAC1D,IAAI,CAAC8e,WAAW,EAAE;gBACd;cACH;cACD,IAAI,IAAI,CAAChC,oBAAoB,EAAE,EAAE;gBAC7B1V,UAAU,CAAC,MAAI,IAAI,CAAC0W,iBAAiB,CAAE,CAAA,EACrC,CAAC,CAAC;cACP;cACD,IAAI,CAACE,WAAW,CAAA,CAAE;YAC9B,CAAS;YACD,IAAI,CAACvB,oBAAoB,GAAIjF,CAAC,IAAG;cAC7B,IAAI,CAACmD,aAAa,GAAG,EAAE;cACvB,IAAI,IAAI,CAACmC,oBAAoB,EAAE,EAAE;gBAC7B,IAAIlF,GAAG;gBACPJ,CAAC,CAACkH,cAAc,CAAA,CAAE;gBAClB,CAAC9G,GAAG,GAAG,IAAI,CAACuF,mBAAmB,MAAM,IAAI,IAAIvF,GAAG,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,GAAG,CAACpF,gBAAgB,CAACgF,CAAC,CAAC/E,YAAY,CAAC;cAC9G,CAAA,MAAM,IAAIyB,mBAAmB,CAACsD,CAAC,CAAC/E,YAAY,CAAC,EAAE;gBAC5D;gBACA;gBACA;gBACgB+E,CAAC,CAACkH,cAAc,CAAA,CAAE;cACrB;cACD,IAAI,CAACE,iBAAiB,CAAC5M,KAAK,EAAE;YAC1C,CAAS;YACD,IAAI,CAACwK,aAAa,GAAIhF,CAAC,IAAG;cACtB,MAAQmD,aAAa,GAAM,IAAI,CAAvBA,aAAa;cACrB,IAAI,CAACA,aAAa,GAAG,EAAE;cACvB,IAAI,CAACrX,OAAO,CAACtB,KAAK,CAAC2Y,aAAa,EAAE;gBAC9Bpd,YAAY,EAAE+Z,sBAAoB,CAACE,CAAC;cACpD,CAAa,CAAC;cACF,IAAI,CAAClU,OAAO,CAAC/C,IAAI,CAAC;gBACdoc,UAAU,EAAE,IAAI,CAACE,oBAAoB,CAAE;cACvD,CAAa,CAAC;cACF,IAAI,IAAI,CAACC,oBAAoB,EAAE,EAAE;gBAC7B,IAAI,CAACgB,iBAAiB,CAAA,CAAE;cAC3B,CAAA,MAAM,IAAI,IAAI,CAAC1f,OAAO,CAACkB,UAAU,EAAE,EAAE;gBAClC,IAAI,CAACgE,OAAO,CAAC/B,OAAO,EAAE;cACzB;cACD,IAAI,CAACyc,WAAW,CAAA,CAAE;YAC9B,CAAS;YACD,IAAI,CAACxC,iBAAiB,GAAIhE,CAAC,IAAG;cAC1B,MAAMxX,MAAM,GAAGwX,CAAC,CAACxX,MAAM;cACnC;cACA;cACY,IAAI,OAAOA,MAAM,CAAC+e,QAAQ,KAAK,UAAU,EAAE;gBACvC;cACH;cACb;cACY,IAAI/e,MAAM,CAACgf,OAAO,KAAK,OAAO,IAAIhf,MAAM,CAACgf,OAAO,KAAK,QAAQ,IAAIhf,MAAM,CAACgf,OAAO,KAAK,UAAU,IAAIhf,MAAM,CAACif,iBAAiB,EAAE;gBACxH;cACH;cACb;cACA;cACYzH,CAAC,CAACkH,cAAc,CAAA,CAAE;cAClB1e,MAAM,CAAC+e,QAAQ,CAAA,CAAE;YAC7B,CAAS;YACD,IAAI,CAAC/gB,OAAO,GAAG,IAAI8b,eAAa,CAACpL,aAAa,EAAE1Q,OAAO,CAAC;YACxD,IAAI,CAACsF,OAAO,GAAGzF,OAAO,CAACoF,UAAU,EAAE;YACnC,IAAI,CAAC7E,OAAO,GAAGP,OAAO,CAACQ,UAAU,EAAE;YACnC,IAAI,CAACC,QAAQ,GAAGT,OAAO,CAACU,WAAW,EAAE;YACrC,IAAI,CAACqgB,iBAAiB,GAAG,IAAItN,iBAAiB,CAAC,IAAI,CAACM,gBAAgB,CAAC;UACxE;QACL;QCpjBa,MAAAsN,YAAY,GAAG7jB,OAAA,CAAA,GAAA,EAAA,SAAS8jB,aAAaA,CAACthB,OAAO,EAAE0S,OAAO,EAAEvS,OAAO,EAAE;UAC1E,OAAO,IAAIkc,gBAAgB,CAACrc,OAAO,EAAE0S,OAAO,EAAEvS,OAAO,CAAC;QAC1D,CAAA,CAAA;QCNO,IAAIohB,YAAY;QACvB,CAAC,UAASA,YAAY,EAAE;UACpBA,YAAY,CAAC,OAAO,CAAC,GAAG,OAAO;UAC/BA,YAAY,CAAC,OAAO,CAAC,GAAG,OAAO;UAC/BA,YAAY,CAAC,UAAU,CAAC,GAAG,UAAU;QACzC,CAAC,EAAEA,YAAY,KAAKA,YAAY,GAAG,CAAA,CAAE,CAAC,CAAC;QCLhC,MAAMtF,aAAa,CAAC;UACvB,IAAIuF,KAAKA,CAAA,EAAG;YACR,IAAIC,MAAM;YACV,OAAO,CAACA,MAAM,GAAG,IAAI,CAACjc,IAAI,CAACgc,KAAK,MAAM,IAAI,IAAIC,MAAM,KAAK,KAAK,CAAC,GAAGA,MAAM,GAAG,CAAC;UAC/E;UACD,IAAIC,iBAAiBA,CAAA,EAAG;YACpB,OAAO,IAAI,CAAClc,IAAI,CAACkc,iBAAiB;UACrC;UACD,IAAIC,4BAA4BA,CAAA,EAAG;YAC/B,OAAO,IAAI,CAACnc,IAAI,CAACmc,4BAA4B;UAChD;UACD,IAAIC,iBAAiBA,CAAA,EAAG;YACpB,IAAIC,kBAAkB;YACtB,OAAO,CAACA,kBAAkB,GAAG,IAAI,CAACrc,IAAI,CAACoc,iBAAiB,MAAM,IAAI,IAAIC,kBAAkB,KAAK,KAAK,CAAC,GAAGA,kBAAkB,GAAG,KAAK;UACnI;UACD,IAAIC,wBAAwBA,CAAA,EAAG;YAC3B,IAAIC,yBAAyB;YAC7B,OAAO,CAACA,yBAAyB,GAAG,IAAI,CAACvc,IAAI,CAACsc,wBAAwB,MAAM,IAAI,IAAIC,yBAAyB,KAAK,KAAK,CAAC,GAAGA,yBAAyB,GAAG,KAAK;UAC/J;UACD,IAAIC,oBAAoBA,CAAA,EAAG;YACvB,IAAIC,qBAAqB;YACzB,OAAO,CAACA,qBAAqB,GAAG,IAAI,CAACzc,IAAI,CAACwc,oBAAoB,MAAM,IAAI,IAAIC,qBAAqB,KAAK,KAAK,CAAC,GAAGA,qBAAqB,GAAG,KAAK;UAC/I;UACD,IAAIC,iBAAiBA,CAAA,EAAG;YACpB,IAAIC,kBAAkB;YACtB,OAAO,CAACA,kBAAkB,GAAG,IAAI,CAAC3c,IAAI,CAAC0c,iBAAiB,MAAM,IAAI,IAAIC,kBAAkB,KAAK,KAAK,CAAC,GAAGA,kBAAkB,GAAG,KAAK;UACnI;UACD,IAAIC,iBAAiBA,CAAA,EAAG;YACpB,IAAIC,kBAAkB;YACtB,OAAO,CAACA,kBAAkB,GAAG,IAAI,CAAC7c,IAAI,CAAC4c,iBAAiB,MAAM,IAAI,IAAIC,kBAAkB,KAAK,KAAK,CAAC,GAAGA,kBAAkB,GAAG,IAAI;UAClI;UACD,IAAIC,SAASA,CAAA,EAAG;YACZ,OAAO,IAAI,CAAC9c,IAAI,CAAC8c,SAAS,IAAI,CAAC;UAClC;UACD,IAAIC,eAAeA,CAAA,EAAG;YAClB,IAAIxI,GAAG,EAAEwC,IAAI;YACb,IAAIiG,IAAI,EAAEC,IAAI;YACd,OAAO,CAACA,IAAI,GAAG,CAACD,IAAI,GAAG,CAACzI,GAAG,GAAG,IAAI,CAACvU,IAAI,MAAM,IAAI,IAAIuU,GAAG,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,GAAG,CAACwI,eAAe,MAAM,IAAI,IAAIC,IAAI,KAAK,KAAK,CAAC,GAAGA,IAAI,GAAG,CAACjG,IAAI,GAAG,IAAI,CAAC/W,IAAI,MAAM,IAAI,IAAI+W,IAAI,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,IAAI,CAACiF,KAAK,MAAM,IAAI,IAAIiB,IAAI,KAAK,KAAK,CAAC,GAAGA,IAAI,GAAG,CAAC;UACxP;UACD,IAAIC,eAAeA,CAAA,EAAG;YAClB,IAAI3I,GAAG,EAAE4I,IAAI;YACb,IAAIC,IAAI,EAAEC,IAAI;YACd,OAAO,CAACA,IAAI,GAAG,CAACD,IAAI,GAAG,CAAC7I,GAAG,GAAG,IAAI,CAACvU,IAAI,MAAM,IAAI,IAAIuU,GAAG,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,GAAG,CAAC2I,eAAe,MAAM,IAAI,IAAIE,IAAI,KAAK,KAAK,CAAC,GAAGA,IAAI,GAAG,CAACD,IAAI,GAAG,IAAI,CAACnd,IAAI,MAAM,IAAI,IAAImd,IAAI,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,IAAI,CAACnB,KAAK,MAAM,IAAI,IAAIqB,IAAI,KAAK,KAAK,CAAC,GAAGA,IAAI,GAAG,CAAC;UACxP;UACD,IAAI3R,MAAMA,CAAA,EAAG;YACT,IAAI,IAAI,CAACwB,OAAO,IAAI,IAAI,CAACA,OAAO,CAACxB,MAAM,EAAE;cACrC,OAAO,IAAI,CAACwB,OAAO,CAACxB,MAAM;YACtC,CAAS,MAAM,IAAI,OAAOA,MAAM,KAAK,WAAW,EAAE;cACtC,OAAOA,MAAM;YAChB;YACD,OAAOpY,SAAS;UACnB;UACD,IAAImR,QAAQA,CAAA,EAAG;YACX,IAAI8P,GAAG;YACP,IAAI,CAACA,GAAG,GAAG,IAAI,CAACrH,OAAO,MAAM,IAAI,IAAIqH,GAAG,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,GAAG,CAAC9P,QAAQ,EAAE;cACzE,OAAO,IAAI,CAACyI,OAAO,CAACzI,QAAQ;YAC/B;YACD,IAAI,IAAI,CAACiH,MAAM,EAAE;cACb,OAAO,IAAI,CAACA,MAAM,CAACjH,QAAQ;YAC9B;YACD,OAAOnR,SAAS;UACnB;UACD,IAAIojB,WAAWA,CAAA,EAAG;YACd,IAAInC,GAAG;YACP,OAAO,CAAC,CAACA,GAAG,GAAG,IAAI,CAACvU,IAAI,MAAM,IAAI,IAAIuU,GAAG,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,GAAG,CAACmC,WAAW,KAAK,IAAI,CAACjS,QAAQ;UACpG;UACDtE,WAAWA,CAACH,IAAI,EAAEkN,OAAO,EAAC;YACtB,IAAI,CAAClN,IAAI,GAAGA,IAAI;YAChB,IAAI,CAACkN,OAAO,GAAGA,OAAO;UACzB;QACL;QCtEO,SAASoQ,QAAQA,CAACC,EAAE,EAAEC,EAAE,EAAEC,EAAE,EAAEC,EAAE,EAAE;UACrC,OAAOzL,IAAI,CAAC0L,IAAI,CAAC1L,IAAI,CAAC2L,GAAG,CAAC3L,IAAI,CAAC4L,GAAG,CAACJ,EAAE,GAAGF,EAAE,CAAC,EAAE,CAAC,CAAC,GAAGtL,IAAI,CAAC2L,GAAG,CAAC3L,IAAI,CAAC4L,GAAG,CAACH,EAAE,GAAGF,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;QACrF;QACO,SAASM,aAAaA,CAACP,EAAE,EAAEC,EAAE,EAAEC,EAAE,EAAEC,EAAE,EAAEK,WAAW,EAAE;UACvD,IAAI,CAACA,WAAW,EAAE;YACd,OAAO,KAAK;UACf;UACD,MAAMC,KAAK,GAAG/L,IAAI,CAACgM,KAAK,CAACP,EAAE,GAAGF,EAAE,EAAEC,EAAE,GAAGF,EAAE,CAAC,GAAG,GAAG,GAAGtL,IAAI,CAACiM,EAAE,GAAG,GAAG;UAChE,KAAI,IAAI1pB,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGupB,WAAW,CAACjqB,MAAM,EAAE,EAAEU,CAAC,EAAC;YACvC,MAAM2pB,EAAE,GAAGJ,WAAW,CAACvpB,CAAC,CAAC;YACzB,IAAI2pB,EAAE,KAAKA,EAAE,CAACC,KAAK,IAAI,IAAI,IAAIJ,KAAK,IAAIG,EAAE,CAACC,KAAK,CAAC,KAAKD,EAAE,CAACE,GAAG,IAAI,IAAI,IAAIL,KAAK,IAAIG,EAAE,CAACE,GAAG,CAAC,EAAE;cACtF,OAAO,IAAI;YACd;UACJ;UACD,OAAO,KAAK;QAChB;;QCfA;QACA,MAAMC,YAAY,GAAG;UACjBC,IAAI,EAAE,CAAC;UACPC,KAAK,EAAE,CAAC;UACRC,MAAM,EAAE;QACZ,CAAC;QACD;QACA,MAAMC,WAAW,GAAG;UAChBH,IAAI,EAAE,CAAC;UACPE,MAAM,EAAE,CAAC;UACTD,KAAK,EAAE;QACX,CAAC;QACD;AACA;AACA;AACA;QAAW,SAASG,oBAAoBA,CAACxK,CAAC,EAAE;UAC5C;UACA;UACI,OAAOA,CAAC,CAACyK,MAAM,KAAKtrB,SAAS,IAAI6gB,CAAC,CAACyK,MAAM,KAAKF,WAAW,CAACH,IAAI;QAClE;QACA;AACA;AACA;AACA;AACA;AACA;QAAW,SAASM,kBAAkBA,CAAC1K,CAAC,EAAE;UAC1C;UACA;UACI,OAAOA,CAAC,CAAC2K,OAAO,KAAKxrB,SAAS,IAAI,CAAC6gB,CAAC,CAAC2K,OAAO,GAAGR,YAAY,CAACC,IAAI,MAAM,CAAC;QAC3E;QACO,SAASQ,YAAYA,CAAC5K,CAAC,EAAE;UAC5B,OAAO,CAAC,CAACA,CAAC,CAAC6K,aAAa;QAC5B;QC/BA,MAAMzL,YAAY,GAAG,CAAC;QACf,SAASC,mBAAmBA,CAAChP,IAAI,EAAE;UACtC,MAAMkP,EAAE,GAAGlP,IAAI,CAACmP,QAAQ,KAAKJ,YAAY,GAAG/O,IAAI,GAAGA,IAAI,CAACoP,aAAa;UACrE,IAAI,CAACF,EAAE,EAAE;YACL,OAAOpgB,SAAS;UACnB;UACD,MAAA2rB,sBAAA,GAAwBvL,EAAE,CAACI,qBAAqB,CAAA,CAAE;YAA1CC,GAAG,GAAAkL,sBAAA,CAAHlL,GAAG;YAAGC,IAAI,GAAAiL,sBAAA,CAAJjL,IAAI;UAClB,OAAO;YACHnT,CAAC,EAAEmT,IAAI;YACPlT,CAAC,EAAEiT;UACX,CAAK;QACL;QACO,SAASmL,yBAAyBA,CAAC/K,CAAC,EAAEgL,uBAAuB,EAAE;UAClE,IAAIhL,CAAC,CAAC6K,aAAa,CAAClrB,MAAM,KAAK,CAAC,EAAE;YAC9B,OAAOmgB,oBAAoB,CAACE,CAAC,CAAC6K,aAAa,CAAC,CAAC,CAAC,CAAC;UAClD,CAAA,MAAM,IAAIG,uBAAuB,IAAIhL,CAAC,CAACiL,OAAO,CAACtrB,MAAM,KAAK,CAAC,EAAE;YAC1D,IAAIqgB,CAAC,CAACiL,OAAO,CAAC,CAAC,CAAC,CAACziB,MAAM,KAAKwiB,uBAAuB,CAACxiB,MAAM,EAAE;cACxD,OAAOsX,oBAAoB,CAACE,CAAC,CAACiL,OAAO,CAAC,CAAC,CAAC,CAAC;YAC5C;UACJ;UACD;QACJ;QACO,SAASnL,oBAAoBA,CAACE,CAAC,EAAEgL,uBAAuB,EAAE;UAC7D,IAAIJ,YAAY,CAAC5K,CAAC,CAAC,EAAE;YACjB,OAAO+K,yBAAyB,CAAC/K,CAAC,EAAEgL,uBAAuB,CAAC;UACpE,CAAK,MAAM;YACH,OAAO;cACHte,CAAC,EAAEsT,CAAC,CAACC,OAAO;cACZtT,CAAC,EAAEqT,CAAC,CAACE;YACjB,CAAS;UACJ;QACL;QChCO,MAAMgL,eAAe,GAAG,CAAC,MAAI;UACpC;UACI,IAAIC,SAAS,GAAG,KAAK;UACrB,IAAI;YACAjH,gBAAgB,CAAC,MAAM,EAAE,MAAI;cACrC;YAAA,CACS,EAAE1gB,MAAM,CAAC0E,cAAc,CAAC,CAAE,CAAA,EAAE,SAAS,EAAE;cACpCrJ,GAAGA,CAAA,EAAI;gBACHssB,SAAS,GAAG,IAAI;gBAChB,OAAO,IAAI;cACd;YACJ,CAAA,CAAC,CAAC;UACN,CAAA,CAAC,OAAOnL,CAAC,EAAE;YAChB;UAAA;UAEI,OAAOmL,SAAS;QACpB,CAAC,EAAG,CAAA;QCTJ,MAAMC,UAAU,GAAG;UACf,CAACxD,YAAY,CAACyD,KAAK,GAAG;YAClBpB,KAAK,EAAE,WAAW;YAClBqB,IAAI,EAAE,WAAW;YACjBpB,GAAG,EAAE,SAAS;YACdqB,WAAW,EAAE;UAChB,CAAA;UACD,CAAC3D,YAAY,CAAC4D,KAAK,GAAG;YAClBvB,KAAK,EAAE,YAAY;YACnBqB,IAAI,EAAE,WAAW;YACjBpB,GAAG,EAAE;UACR,CAAA;UACD,CAACtC,YAAY,CAAC6D,QAAQ,GAAG;YACrBC,OAAO,EAAE;UACZ;QACL,CAAC;QACM,MAAMC,gBAAgB,CAAC;UAC9B;AACA;AACA;UAAKhJ,OAAOA,CAAA,EAAG;YACP,IAAIvC,GAAG;YACP,OAAO;cACH6C,WAAW,EAAE,IAAI,CAACA,WAAW,CAACH,IAAI;cAClCD,kBAAkB,EAAE,IAAI,CAACA,kBAAkB,CAACC,IAAI;cAChDC,wBAAwB,EAAE,IAAI,CAACA,wBAAwB,CAACD,IAAI;cAC5D8I,WAAW,EAAE,IAAI,CAACA,WAAW,CAAC9I,IAAI;cAClCO,iBAAiB,EAAE,CAAC,CAACjD,GAAG,GAAG,IAAI,CAACiD,iBAAiB,MAAM,IAAI,IAAIjD,GAAG,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,GAAG,CAACzgB,MAAM,KAAK;YACpH,CAAS;UACJ;UACL;UACI,IAAI2Q,QAAQA,CAAA,EAAG;YACX,OAAO,IAAI,CAAC9J,OAAO,CAAC8J,QAAQ;UAC/B;UACDhE,KAAKA,CAAA,EAAG;YACJ,MAAMgX,IAAI,GAAG,IAAI,CAAC9c,OAAO,CAAC+b,WAAW;YACrC,IAAI,CAACe,IAAI,EAAE;cACP;YACH;YACDzb,SAAS,CAAC,CAAC8jB,gBAAgB,CAAC1f,OAAO,EAAE,kDAAkD,CAAC;YACxF0f,gBAAgB,CAAC1f,OAAO,GAAG,IAAI;YAC/B,IAAI,CAACiY,gBAAgB,CAACZ,IAAI,EAAE,OAAO,EAAE,IAAI,CAACuI,sBAAsB,CAAA,CAAE,CAAC;YACnE,IAAI,CAAC3H,gBAAgB,CAACZ,IAAI,EAAE,OAAO,EAAE,IAAI,CAACwI,yBAAyB,EAAE,IAAI,CAAC;YAC1E,IAAI,CAAC5H,gBAAgB,CAACZ,IAAI,EAAE,MAAM,EAAE,IAAI,CAACyI,aAAa,CAAC;YACvD,IAAI,CAAC7H,gBAAgB,CAACZ,IAAI,EAAE,MAAM,EAAE,IAAI,CAAC0I,oBAAoB,EAAE,IAAI,CAAC;YACpE,IAAI,CAAC9H,gBAAgB,CAACZ,IAAI,EAAE,KAAK,EAAE,IAAI,CAAC2I,uBAAuB,EAAE,IAAI,CAAC;YACtE,IAAI,IAAI,CAACzlB,OAAO,CAAC+hB,iBAAiB,IAAI,CAAC,IAAI,CAAC/hB,OAAO,CAACyhB,iBAAiB,EAAE;cACnE,IAAI,CAAC/D,gBAAgB,CAACZ,IAAI,EAAE,aAAa,EAAE,IAAI,CAAC2I,uBAAuB,CAAC;YAC3E;YACD,IAAI,IAAI,CAACzlB,OAAO,CAAC6hB,oBAAoB,EAAE;cACnC,IAAI,CAACnE,gBAAgB,CAACZ,IAAI,EAAE,SAAS,EAAE,IAAI,CAAC4I,oBAAoB,EAAE,IAAI,CAAC;YAC1E;UACJ;UACD3f,QAAQA,CAAA,EAAG;YACP,MAAM+W,IAAI,GAAG,IAAI,CAAC9c,OAAO,CAAC+b,WAAW;YACrC,IAAI,CAACe,IAAI,EAAE;cACP;YACH;YACDqI,gBAAgB,CAAC1f,OAAO,GAAG,KAAK;YAChC,IAAI,CAACkgB,kBAAkB,GAAG,EAAE;YAC5B,IAAI,CAAChI,mBAAmB,CAACb,IAAI,EAAE,OAAO,EAAE,IAAI,CAACwI,yBAAyB,EAAE,IAAI,CAAC;YAC7E,IAAI,CAAC3H,mBAAmB,CAACb,IAAI,EAAE,OAAO,EAAE,IAAI,CAAC8I,kBAAkB,CAAC;YAChE,IAAI,CAACjI,mBAAmB,CAACb,IAAI,EAAE,MAAM,EAAE,IAAI,CAAC0I,oBAAoB,EAAE,IAAI,CAAC;YACvE,IAAI,CAAC7H,mBAAmB,CAACb,IAAI,EAAE,MAAM,EAAE,IAAI,CAACyI,aAAa,CAAC;YAC1D,IAAI,CAAC5H,mBAAmB,CAACb,IAAI,EAAE,KAAK,EAAE,IAAI,CAAC2I,uBAAuB,EAAE,IAAI,CAAC;YACzE,IAAI,IAAI,CAACzlB,OAAO,CAAC+hB,iBAAiB,IAAI,CAAC,IAAI,CAAC/hB,OAAO,CAACyhB,iBAAiB,EAAE;cACnE,IAAI,CAAC9D,mBAAmB,CAACb,IAAI,EAAE,aAAa,EAAE,IAAI,CAAC2I,uBAAuB,CAAC;YAC9E;YACD,IAAI,IAAI,CAACzlB,OAAO,CAAC6hB,oBAAoB,EAAE;cACnC,IAAI,CAAClE,mBAAmB,CAACb,IAAI,EAAE,SAAS,EAAE,IAAI,CAAC4I,oBAAoB,EAAE,IAAI,CAAC;YAC7E;YACD,IAAI,CAACG,kCAAkC,CAAA,CAAE;UAC5C;UACDnI,gBAAgBA,CAACoI,OAAO,EAAEC,KAAK,EAAE5X,OAAO,EAAE6X,OAAO,GAAG,KAAK,EAAE;YACvD,MAAMhmB,OAAO,GAAG0kB,eAAe,GAAG;cAC9BsB,OAAO;cACPC,OAAO,EAAE;YACZ,CAAA,GAAGD,OAAO;YACX,IAAI,CAACE,aAAa,CAACxnB,OAAO,CAAC,UAASynB,YAAY,EAAE;cAC9C,MAAMC,GAAG,GAAGxB,UAAU,CAACuB,YAAY,CAAC,CAACJ,KAAK,CAAC;cAC3C,IAAIK,GAAG,EAAE;gBACLN,OAAO,CAACpI,gBAAgB,CAAC0I,GAAG,EAAEjY,OAAO,EAAEnO,OAAO,CAAC;cAClD;YACb,CAAS,CAAC;UACL;UACD2d,mBAAmBA,CAACmI,OAAO,EAAEC,KAAK,EAAE5X,OAAO,EAAE6X,OAAO,GAAG,KAAK,EAAE;YAC1D,MAAMhmB,OAAO,GAAG0kB,eAAe,GAAG;cAC9BsB,OAAO;cACPC,OAAO,EAAE;YACZ,CAAA,GAAGD,OAAO;YACX,IAAI,CAACE,aAAa,CAACxnB,OAAO,CAAC,UAASynB,YAAY,EAAE;cAC9C,MAAMC,GAAG,GAAGxB,UAAU,CAACuB,YAAY,CAAC,CAACJ,KAAK,CAAC;cAC3C,IAAIK,GAAG,EAAE;gBACLN,OAAO,CAACnI,mBAAmB,CAACyI,GAAG,EAAEjY,OAAO,EAAEnO,OAAO,CAAC;cACrD;YACb,CAAS,CAAC;UACL;UACDsd,iBAAiBA,CAAC5c,QAAQ,EAAEmJ,IAAI,EAAE;YAC9B,MAAMwc,eAAe,GAAG,IAAI,CAACA,eAAe,CAACC,IAAI,CAAC,IAAI,EAAE5lB,QAAQ,CAAC;YACjE,IAAI,CAAC+b,WAAW,CAACje,GAAG,CAACkC,QAAQ,EAAEmJ,IAAI,CAAC;YACpC,IAAI,CAAC6T,gBAAgB,CAAC7T,IAAI,EAAE,OAAO,EAAEwc,eAAe,CAAC;YACrD,OAAO,MAAI;cACP,IAAI,CAAC5J,WAAW,CAAC5N,MAAM,CAACnO,QAAQ,CAAC;cACjC,IAAI,CAACid,mBAAmB,CAAC9T,IAAI,EAAE,OAAO,EAAEwc,eAAe,CAAC;YACpE,CAAS;UACJ;UACDhJ,kBAAkBA,CAAC3c,QAAQ,EAAEmJ,IAAI,EAAE7J,OAAO,EAAE;YACxC,IAAI,CAACuc,wBAAwB,CAAC/d,GAAG,CAACkC,QAAQ,EAAEV,OAAO,CAAC;YACpD,IAAI,CAACqc,kBAAkB,CAAC7d,GAAG,CAACkC,QAAQ,EAAEmJ,IAAI,CAAC;YAC3C,OAAO,MAAI;cACP,IAAI,CAACwS,kBAAkB,CAACxN,MAAM,CAACnO,QAAQ,CAAC;cACxC,IAAI,CAAC6b,wBAAwB,CAAC1N,MAAM,CAACnO,QAAQ,CAAC;YAC1D,CAAS;UACJ;UACDkd,iBAAiBA,CAAClb,QAAQ,EAAEmH,IAAI,EAAE;YAC9B,MAAMiT,IAAI,GAAG,IAAI,CAAC9c,OAAO,CAAC+b,WAAW;YACrC,IAAI,CAAC,IAAI,CAACjS,QAAQ,IAAI,CAACgT,IAAI,EAAE;cACzB,OAAO,MAAI;gBACvB,WAAwB;YACf;YACD,MAAMyJ,UAAU,GAAI/M,CAAC,IAAG;cACpB,IAAI,CAAC,IAAI,CAAC1P,QAAQ,IAAI,CAACgT,IAAI,IAAI,CAAC,IAAI,CAAC1c,OAAO,CAACkB,UAAU,EAAE,EAAE;gBACvD;cACH;cACD,IAAIklB,MAAM;cACtB;AACA;;cACO,QAAOhN,CAAC,CAAC/Z,IAAI;gBACJ,KAAKmlB,UAAU,CAACC,KAAK,CAACC,IAAI;kBACtB0B,MAAM,GAAG;oBACLtgB,CAAC,EAAEsT,CAAC,CAACC,OAAO;oBACZtT,CAAC,EAAEqT,CAAC,CAACE;kBAC7B,CAAqB;kBACD;gBACJ,KAAKkL,UAAU,CAACI,KAAK,CAACF,IAAI;kBACtB,IAAIlL,GAAG,EAAEwC,IAAI;kBACboK,MAAM,GAAG;oBACLtgB,CAAC,EAAE,CAAC,CAAC0T,GAAG,GAAGJ,CAAC,CAACiL,OAAO,CAAC,CAAC,CAAC,MAAM,IAAI,IAAI7K,GAAG,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,GAAG,CAACH,OAAO,KAAK,CAAC;oBAChFtT,CAAC,EAAE,CAAC,CAACiW,IAAI,GAAG5C,CAAC,CAACiL,OAAO,CAAC,CAAC,CAAC,MAAM,IAAI,IAAIrI,IAAI,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,IAAI,CAAC1C,OAAO,KAAK;kBAC1G,CAAqB;kBACD;cACP;cACb;AACA;AACA;;cACO,MAAM+M,SAAS,GAAGD,MAAM,IAAI,IAAI,GAAG,IAAI,CAAC1c,QAAQ,CAAC4c,gBAAgB,CAACF,MAAM,CAACtgB,CAAC,EAAEsgB,MAAM,CAACrgB,CAAC,CAAC,GAAGxN,SAAS;cAC5F,MAAMguB,UAAU,GAAGF,SAAS,IAAI5c,IAAI,CAACgK,QAAQ,CAAC4S,SAAS,CAAC;cACxD,IAAIA,SAAS,KAAK5c,IAAI,IAAI8c,UAAU,EAAE;gBAClC,OAAO,IAAI,CAACJ,UAAU,CAAC/M,CAAC,EAAE9W,QAAQ,CAAC;cACtC;YACb,CAAS;YACT;AACA;AACA;YAAM,IAAI,CAACgb,gBAAgB,CAAC,IAAI,CAAC5T,QAAQ,CAACiW,IAAI,EAAE,MAAM,EAAEwG,UAAU,CAAC;YAC3D,IAAI,CAACnB,WAAW,CAAC5mB,GAAG,CAACkE,QAAQ,EAAEmH,IAAI,CAAC;YACpC,OAAO,MAAI;cACP,IAAI,IAAI,CAACC,QAAQ,EAAE;gBACf,IAAI,CAACsb,WAAW,CAACvW,MAAM,CAACnM,QAAQ,CAAC;gBACjC,IAAI,CAACib,mBAAmB,CAAC,IAAI,CAAC7T,QAAQ,CAACiW,IAAI,EAAE,MAAM,EAAEwG,UAAU,CAAC;cACnE;YACb,CAAS;UACJ;UACDlB,sBAAsBA,CAAA,EAAG;YACrB,IAAI,CAAC,IAAI,CAACrlB,OAAO,CAACoiB,eAAe,IAAI,CAAC,IAAI,CAACpiB,OAAO,CAACuiB,eAAe,EAAE;cAChE,OAAO,IAAI,CAACqD,kBAAkB;YACjC;YACD,OAAO,IAAI,CAACgB,uBAAuB;UACtC;UACDC,gCAAgCA,CAAChd,IAAI,EAAE;YACnC,IAAI,CAACgc,kCAAkC,CAAA,CAAE;YACzC,IAAI,CAACiB,iBAAiB,GAAGjd,IAAI;YAC7B,IAAI,CAACkd,gCAAgC,GAAG,IAAIje,gBAAgB,CAAC,MAAI;cAC7D,IAAIe,IAAI,IAAI,CAACA,IAAI,CAACoP,aAAa,EAAE;gBAC7B,IAAI,CAAC+N,mBAAmB,CAAA,CAAE;gBAC1B,IAAI,CAACnB,kCAAkC,CAAA,CAAE;cAC5C;YACb,CAAS,CAAC;YACF,IAAI,CAAChc,IAAI,IAAI,CAACA,IAAI,CAACoP,aAAa,EAAE;cAC9B;YACH;YACD,IAAI,CAAC8N,gCAAgC,CAAC/c,OAAO,CAACH,IAAI,CAACoP,aAAa,EAAE;cAC9DgO,SAAS,EAAE;YACvB,CAAS,CAAC;UACL;UACDD,mBAAmBA,CAAA,EAAG;YAClB,IAAI,IAAI,CAACld,QAAQ,IAAI,IAAI,CAACgd,iBAAiB,EAAE;cACzC,IAAI,CAACA,iBAAiB,CAACI,KAAK,CAACC,OAAO,GAAG,MAAM;cAC7C,IAAI,CAACL,iBAAiB,CAACM,eAAe,CAAC,cAAc,CAAC;cACtD,IAAI,CAACtd,QAAQ,CAACiW,IAAI,CAACsH,WAAW,CAAC,IAAI,CAACP,iBAAiB,CAAC;YACzD;UACJ;UACDjB,kCAAkCA,CAAA,EAAG;YACjC,IAAI,IAAI,CAACkB,gCAAgC,EAAE;cACvC,IAAI,CAACA,gCAAgC,CAACO,UAAU,EAAE;YACrD;YACD,IAAI,CAACP,gCAAgC,GAAGpuB,SAAS;YACjD,IAAI,CAACmuB,iBAAiB,GAAGnuB,SAAS;UACrC;UACD6M,WAAWA,CAAC3F,OAAO,EAAE0S,OAAO,EAAEvS,OAAO,EAAC;YAClC,IAAI,CAACG,qBAAqB,GAAIO,QAAQ,IAAG;cACrC,MAAM6mB,OAAO,GAAG,IAAI,CAAC9K,WAAW,CAACpkB,GAAG,CAACqI,QAAQ,CAAC;cAC9C,OAAO6mB,OAAO,IAAI1O,mBAAmB,CAAC0O,OAAO,CAAC;YAC1D,CAAS;YACD,IAAI,CAACjC,yBAAyB,GAAI9L,CAAC,IAAG;cAClC,IAAI,CAACwK,oBAAoB,CAACxK,CAAC,CAAC,EAAE;gBAC1B;cACH;cACD,IAAI,CAACgO,kBAAkB,GAAG,EAAE;YACxC,CAAS;YACD,IAAI,CAACnB,eAAe,GAAI3lB,QAAQ,IAAG;cAC3C;cACA;cACY,IAAI1F,KAAK,CAACC,OAAO,CAAC,IAAI,CAACusB,kBAAkB,CAAC,EAAE;gBACxC,IAAI,CAACA,kBAAkB,CAACtuB,OAAO,CAACwH,QAAQ,CAAC;cAC5C;YACb,CAAS;YACD,IAAI,CAACklB,kBAAkB,GAAIpM,CAAC,IAAG;cAC3B,IAAI,CAACwK,oBAAoB,CAACxK,CAAC,CAAC,EAAE;gBAC1B;cACH;cACb;cACA;cACA;cACA;cACY,MAAMja,YAAY,GAAG+Z,oBAAoB,CAACE,CAAC,CAAC;cAC5C,IAAIja,YAAY,EAAE;gBACd,IAAI6kB,YAAY,CAAC5K,CAAC,CAAC,EAAE;kBACjB,IAAI,CAACgL,uBAAuB,GAAGhL,CAAC,CAAC6K,aAAa,CAAC,CAAC,CAAC;gBACpD;gBACD,IAAI,CAACsB,kBAAkB,GAAGpmB,YAAY;cACzC;cACD,IAAI,CAACkoB,eAAe,GAAG,KAAK;YACxC,CAAS;YACD,IAAI,CAACb,uBAAuB,GAAIpN,CAAC,IAAG;cAChC,IAAI,CAACwK,oBAAoB,CAACxK,CAAC,CAAC,EAAE;gBAC1B;cACH;cACD,MAAM6H,KAAK,GAAG7H,CAAC,CAAC/Z,IAAI,KAAKmlB,UAAU,CAACI,KAAK,CAACvB,KAAK,GAAG,IAAI,CAACzjB,OAAO,CAACoiB,eAAe,GAAG,IAAI,CAACpiB,OAAO,CAACuiB,eAAe;cAC7G,IAAI,CAACmF,OAAO,GAAGte,UAAU,CAAC,IAAI,CAACwc,kBAAkB,CAACU,IAAI,CAAC,IAAI,EAAE9M,CAAC,CAAC,EAAE6H,KAAK,CAAC;cACvE,IAAI,CAACoG,eAAe,GAAG,IAAI;YACvC,CAAS;YACD,IAAI,CAACjC,oBAAoB,GAAG,MAAI;cAC5B,IAAI,CAAC3I,iBAAiB,GAAG,EAAE;YACvC,CAAS;YACD,IAAI,CAAC0J,UAAU,GAAG,CAACoB,IAAI,EAAEjlB,QAAQ,KAAG;cAChC,IAAI,IAAI,CAACma,iBAAiB,EAAE;gBACxB,IAAI,CAACA,iBAAiB,CAAC3jB,OAAO,CAACwJ,QAAQ,CAAC;cAC3C;YACb,CAAS;YACD,IAAI,CAAC6iB,aAAa,GAAIqC,EAAE,IAAG;cACvB,IAAI,IAAI,CAACF,OAAO,EAAE;gBACdle,YAAY,CAAC,IAAI,CAACke,OAAO,CAAC;cAC7B;cACD,IAAI,CAAC,IAAI,CAAC5d,QAAQ,IAAI,IAAI,CAAC2d,eAAe,EAAE;gBACxC;cACH;cACD,MAAQD,kBAAkB,GAA0B,IAAI,CAAhDA,kBAAkB;gBAAG3K,iBAAiB,GAAM,IAAI,CAA3BA,iBAAiB;cAC9C,MAAM8E,wBAAwB,GAAG,IAAI,CAAC3hB,OAAO,CAAC2hB,wBAAwB;cACtE,MAAMpiB,YAAY,GAAG+Z,oBAAoB,CAACsO,EAAE,EAAE,IAAI,CAACpD,uBAAuB,CAAC;cAC3E,IAAI,CAACjlB,YAAY,EAAE;gBACf;cACH;cACb;cACY,IAAI,IAAI,CAACsoB,YAAY,IAAI,CAAC,IAAI,CAACznB,OAAO,CAACkB,UAAU,CAAE,CAAA,IAAI6hB,aAAa,CAAC,IAAI,CAACwC,kBAAkB,CAACzf,CAAC,IAAI,CAAC,EAAE,IAAI,CAACyf,kBAAkB,CAACxf,CAAC,IAAI,CAAC,EAAE5G,YAAY,CAAC2G,CAAC,EAAE3G,YAAY,CAAC4G,CAAC,EAAE,IAAI,CAACnG,OAAO,CAACuhB,iBAAiB,CAAC,EAAE;gBAClM,IAAI,CAACsG,YAAY,GAAG,IAAI;gBACxB;cACH;cACb;cACY,IAAI,CAAC,IAAI,CAACznB,OAAO,CAACkB,UAAU,CAAE,CAAA;cAAA;cAC9B,IAAI,CAACqkB,kBAAkB,CAACmC,cAAc,CAAC,GAAG,CAAC,IAAIN,kBAAkB,IAAI7E,QAAQ,CAAC,IAAI,CAACgD,kBAAkB,CAACzf,CAAC,IAAI,CAAC,EAAE,IAAI,CAACyf,kBAAkB,CAACxf,CAAC,IAAI,CAAC,EAAE5G,YAAY,CAAC2G,CAAC,EAAE3G,YAAY,CAAC4G,CAAC,CAAC,IAAI,IAAI,CAACnG,OAAO,CAACmiB,SAAS,GAAG,IAAI,CAACniB,OAAO,CAACmiB,SAAS,GAAG,CAAC,CAAC,EAAE;gBACnO,IAAI,CAACqF,kBAAkB,GAAG7uB,SAAS;gBACnC,IAAI,CAAC2M,OAAO,CAACxF,SAAS,CAAC0nB,kBAAkB,EAAE;kBACvCjoB,YAAY,EAAE,IAAI,CAAComB,kBAAkB;kBACrCxlB,qBAAqB,EAAE,IAAI,CAACA,qBAAqB;kBACjDF,aAAa,EAAE;gBACnC,CAAiB,CAAC;cACL;cACD,IAAI,CAAC,IAAI,CAACG,OAAO,CAACkB,UAAU,EAAE,EAAE;gBAC5B;cACH;cACD,MAAMoZ,UAAU,GAAG,IAAI,CAAC+B,WAAW,CAACpkB,GAAG,CAAC,IAAI,CAAC+H,OAAO,CAACqD,WAAW,CAAA,CAAE,CAAC;cACnE,IAAI,CAACojB,gCAAgC,CAACnM,UAAU,CAAC;cACjD,IAAI,CAACpV,OAAO,CAACX,iBAAiB,EAAE;cAChC,IAAIijB,EAAE,CAACG,UAAU,EAAEH,EAAE,CAAClH,cAAc,CAAA,CAAE;cAClD;cACY,MAAMsH,mBAAmB,GAAG,CAACnL,iBAAiB,IAAI,EAAE,EAAExhB,GAAG,CAAE/C,GAAG,IAAG,IAAI,CAAC8sB,WAAW,CAAC/sB,GAAG,CAACC,GAAG,CACxF,CAAA,CAAC0F,MAAM,CAAEwb,CAAC,IAAG,CAAC,CAACA,CAC5B,CAAa;cACb;cACY,MAAMyO,eAAe,GAAG,IAAI,CAACjoB,OAAO,CAACwhB,4BAA4B,GAAG,IAAI,CAACxhB,OAAO,CAACwhB,4BAA4B,CAACjiB,YAAY,CAAC2G,CAAC,EAAE3G,YAAY,CAAC4G,CAAC,EAAE6hB,mBAAmB,CAAC,GAAG,IAAI,CAACle,QAAQ,CAACoe,iBAAiB,CAAC3oB,YAAY,CAAC2G,CAAC,EAAE3G,YAAY,CAAC4G,CAAC,CAAC;cAChP;cACY,MAAMgiB,uBAAuB,GAAG,EAAE;cAClC,KAAI,MAAMC,MAAM,IAAIH,eAAe,EAAC;gBAChD;gBACgB,IAAI,CAACA,eAAe,CAACH,cAAc,CAACM,MAAM,CAAC,EAAE;kBACzC;gBACH;gBACD,IAAIC,WAAW,GAAGJ,eAAe,CAACG,MAAM,CAAC;gBACzC,IAAIC,WAAW,IAAI,IAAI,EAAE;kBACrBF,uBAAuB,CAACprB,IAAI,CAACsrB,WAAW,CAAC;gBAC5C;gBACD,OAAMA,WAAW,EAAC;kBACdA,WAAW,GAAGA,WAAW,CAACpP,aAAa;kBACvC,IAAIoP,WAAW,IAAIF,uBAAuB,CAACppB,OAAO,CAACspB,WAAW,CAAC,KAAK,CAAC,CAAC,EAAE;oBACpEF,uBAAuB,CAACprB,IAAI,CAACsrB,WAAW,CAAC;kBAC5C;gBACJ;cACJ;cACD,MAAMC,wBAAwB,GAAGH,uBAAuB;cAAA,CACvDnqB,MAAM,CAAE6L,IAAI,IAAGme,mBAAmB,CAACjpB,OAAO,CAAC8K,IAAI,CAAC,GAAG,CAAC,CACpD,CAAA;cAAA,CACAxO,GAAG,CAAEwO,IAAI,IAAG,IAAI,CAAC0e,gBAAgB,CAAC1e,IAAI,CACtC,CAAA;cAAA,CACA7L,MAAM,CAAE6L,IAAI,IAAG,CAAC,CAACA,IAC9B,CAAa,CAAC7L,MAAM,CAAC,CAACmP,EAAE,EAAExK,KAAK,EAAE6lB,GAAG,KAAGA,GAAG,CAACzpB,OAAO,CAACoO,EAAE,CAAC,KAAKxK,KAC3D,CAAa;cACb;cACY,IAAIgf,wBAAwB,EAAE;gBAC1B,KAAI,MAAMjf,QAAQ,IAAI,IAAI,CAAC0iB,WAAW,EAAC;kBACnC,MAAMqD,UAAU,GAAG,IAAI,CAACrD,WAAW,CAAC/sB,GAAG,CAACqK,QAAQ,CAAC;kBACjD,IAAIgY,UAAU,IAAI+N,UAAU,IAAIA,UAAU,CAAC5U,QAAQ,CAAC6G,UAAU,CAAC,IAAI4N,wBAAwB,CAACvpB,OAAO,CAAC2D,QAAQ,CAAC,KAAK,CAAC,CAAC,EAAE;oBAClH4lB,wBAAwB,CAACpvB,OAAO,CAACwJ,QAAQ,CAAC;oBAC1C;kBACH;gBACJ;cACJ;cACb;cACY4lB,wBAAwB,CAACjlB,OAAO,CAAA,CAAE;cAClC,IAAI,CAACiC,OAAO,CAACtB,KAAK,CAACskB,wBAAwB,EAAE;gBACzC/oB,YAAY,EAAEA;cAC9B,CAAa,CAAC;YACd,CAAS;YACT;AACA;AACA;AACA;YAAK,IAAI,CAACgpB,gBAAgB,GAAI1e,IAAI,IAAG;cACzB,MAAM3H,IAAI,GAAG,IAAI,CAACkjB,WAAW,CAACljB,IAAI,CAAA,CAAE;cACpC,IAAItI,IAAI,GAAGsI,IAAI,CAACtI,IAAI,EAAE;cACtB,OAAMA,IAAI,CAACiU,IAAI,KAAK,KAAK,EAAC;gBACtB,MAAMnL,QAAQ,GAAG9I,IAAI,CAACrB,KAAK;gBAC3B,IAAIsR,IAAI,KAAK,IAAI,CAACub,WAAW,CAAC/sB,GAAG,CAACqK,QAAQ,CAAC,EAAE;kBACzC,OAAOA,QAAQ;gBACnC,CAAiB,MAAM;kBACH9I,IAAI,GAAGsI,IAAI,CAACtI,IAAI,EAAE;gBACrB;cACJ;cACD,OAAOjB,SAAS;YAC5B,CAAS;YACD,IAAI,CAAC8sB,uBAAuB,GAAIjM,CAAC,IAAG;cAChC,IAAI,CAACqO,YAAY,GAAG,KAAK;cACzB,IAAI,CAACrD,uBAAuB,GAAG7rB,SAAS;cACxC,IAAI,CAACurB,kBAAkB,CAAC1K,CAAC,CAAC,EAAE;gBACxB;cACH;cACD,IAAI,CAAC,IAAI,CAACpZ,OAAO,CAACkB,UAAU,CAAE,CAAA,IAAI,IAAI,CAAClB,OAAO,CAAC2C,OAAO,EAAE,EAAE;gBACtD,IAAI,CAACykB,kBAAkB,GAAG7uB,SAAS;gBACnC;cACH;cACD,IAAI6gB,CAAC,CAACuO,UAAU,EAAEvO,CAAC,CAACkH,cAAc,CAAA,CAAE;cACpC,IAAI,CAACiF,kBAAkB,GAAG,EAAE;cAC5B,IAAI,CAACE,kCAAkC,CAAA,CAAE;cACzC,IAAI,CAACvgB,OAAO,CAAC/C,IAAI,EAAE;cACnB,IAAI,CAAC+C,OAAO,CAAC/B,OAAO,EAAE;YAClC,CAAS;YACD,IAAI,CAACmiB,oBAAoB,GAAIlM,CAAC,IAAG;cAC7B,IAAIA,CAAC,CAAClhB,GAAG,KAAK,QAAQ,IAAI,IAAI,CAAC8H,OAAO,CAACkB,UAAU,EAAE,EAAE;gBACjD,IAAI,CAACqkB,kBAAkB,GAAG,EAAE;gBAC5B,IAAI,CAACE,kCAAkC,CAAA,CAAE;gBACzC,IAAI,CAACvgB,OAAO,CAAC/B,OAAO,EAAE;cACzB;YACb,CAAS;YACD,IAAI,CAACvD,OAAO,GAAG,IAAI8b,aAAa,CAAC9b,OAAO,EAAEuS,OAAO,CAAC;YAClD,IAAI,CAACjN,OAAO,GAAGzF,OAAO,CAACoF,UAAU,EAAE;YACnC,IAAI,CAAC7E,OAAO,GAAGP,OAAO,CAACQ,UAAU,EAAE;YACnC,IAAI,CAACoc,WAAW,GAAG,IAAIne,GAAG,EAAE;YAC5B,IAAI,CAAC+d,kBAAkB,GAAG,IAAI/d,GAAG,EAAE;YACnC,IAAI,CAACie,wBAAwB,GAAG,IAAIje,GAAG,EAAE;YACzC,IAAI,CAAC8mB,WAAW,GAAG,IAAI9mB,GAAG,EAAE;YAC5B,IAAI,CAAC4nB,aAAa,GAAG,EAAE;YACvB,IAAI,CAACP,kBAAkB,GAAG,EAAE;YAC5B,IAAI,CAACkC,YAAY,GAAG,KAAK;YACzB,IAAI,IAAI,CAAC7nB,OAAO,CAAC+hB,iBAAiB,EAAE;cAChC,IAAI,CAACmE,aAAa,CAACnpB,IAAI,CAACqkB,YAAY,CAACyD,KAAK,CAAC;YAC9C;YACD,IAAI,IAAI,CAAC7kB,OAAO,CAACiiB,iBAAiB,EAAE;cAChC,IAAI,CAACiE,aAAa,CAACnpB,IAAI,CAACqkB,YAAY,CAAC4D,KAAK,CAAC;YAC9C;YACD,IAAI,IAAI,CAAChlB,OAAO,CAAC6hB,oBAAoB,EAAE;cACnC,IAAI,CAACqE,aAAa,CAACnpB,IAAI,CAACqkB,YAAY,CAAC6D,QAAQ,CAAC;YACjD;UACJ;QACL;QC1YY,MAACyD,YAAY,GAAArrB,OAAA,CAAA,GAAA,EAAG,SAAS8jB,aAAaA,CAACthB,OAAO,EAAE0S,OAAO,GAAG,CAAE,CAAA,EAAEvS,OAAO,GAAG,EAAE,EAAE;UACpF,OAAO,IAAImlB,gBAAgB,CAACtlB,OAAO,EAAE0S,OAAO,EAAEvS,OAAO,CAAC;QAC1D,CAAA,CAAA;QCLa,MAAA2oB,aAAa,gBAAG,MAAM;UAC/B,OAAO,cAAc,IAAI5X,MAAM,IAAIyF,SAAS,CAACoS,cAAc,GAAG,CAAC;QACnE,CAAA,CAAA;;;;","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56]}